"use strict";define("Agile/Board/Badge",["require","exports","VSS/Core/Util/String","VSS/Platform/Context"],(function(e,t,r,o){var a,s,i;a=t.Resources={},t.Resources.BoardBadge_AltText="Board Status",s=t.ModelsBoardBadgeInfo={},function(e){i=t[e]={};const s="statusBadgeIsPublic";class c extends o.VssService{async setIsPublicOption(e,t,r,o){const a=this.pageContext.getRestClient("IWorkRestClient"),i=await a.setBoardOptions({[s]:`${o}`},{projectId:e,teamId:t},r);return"true"===(i&&i.statusBadgeIsPublic)}getBoardBadgeInfo(e,t,o,s,i,c){const d=this._getBoardUrl(e,t,o),n=this._getBoardBadgeUrl(e,t,s,i,c);return{badgeUrl:n,badgeMarkdown:(0,r.format)("[![{0}]({1})]({2})",a.BoardBadge_AltText,this._escapeForMarkdown(n),this._escapeForMarkdown(d))}}_getBoardBadgeUrl(e,t,r,o,a){const s=this.pageContext.getService("IVssPageService").getData(),i=!s||s.isHosted,c=this.pageContext.getService("IVssLocationService").getServiceLocation("00025394-6065-48ca-87d9-7f5672854ef7"),d=`${i?"":location.origin}${c}${e}/${t}/_apis/work/boardbadge/${r}`;if(o){return`${d}?columnOptions=${o}${2===o&&a?`&columns=${a.join(",")}`:""}`}return d}_getBoardUrl(e,t,r){const o={project:e,pivot:"board",teamName:t,backlogLevel:r},a=this.pageContext.getService("IVssLocationService").routeUrl("ms.vss-work-web.team-board-content-route",o);return`${location.origin}${a}`}_escapeForMarkdown(e){return e.replace(/ /g,"%20").replace(/(\[|\]|\(|\))/g,"\\$&")}}t[e].BoardBadgeService=c,o.Services.add("IBoardBadgeService",{serviceFactory:c})}("ServicesBoardBadgeService"),t.Services={},__exportStar(s,t.Services),__exportStar(i,t.Services)}),["Resources","Models/BoardBadgeInfo","Services/BoardBadgeService","Services"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-work-web.board-badge"}}));