"use strict";define("WidgetCommon/DateUtils",["require","exports"],(function(t,e){!function(t){var n;function a(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function s(t,e){const n=e.valueOf()-t.getDay(),s=a(t,n);return s<t?a(s,7):s}function i(t){return new Date(t.getFullYear(),t.getMonth()+1,0,0,0,0,0)}e.DateUtils={},function(t){t[t.Days=0]="Days",t[t.Weeks=1]="Weeks",t[t.Months=2]="Months"}(n=e.DateUtils.DateSampleInterval||(e.DateUtils.DateSampleInterval={})),e.DateUtils.addDays=a,e.DateUtils.addMonths=function(t,e){return new Date(t.getFullYear(),t.getMonth()+e,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},e.DateUtils.daysBetweenDates=function(t,e,n=!1){return(t=new Date(t.getTime())).setHours(0,0,0,0),(e=new Date(e.getTime())).setHours(0,0,0,0),Math.round(Math.abs(e.getTime()-t.getTime())/864e5)+(n?0:1)},e.DateUtils.fetchTodayInAccountTimeZone=async function(t){const e="ms.vss-dashboards-web.collection-time-zone-data-provider",n=t.getService("IVssContributionService"),a=await n.getDataAsync(e);if(null==a){const t=["Failed to retrieve today in account time zone.",n.getDataProviderExceptions()[e].message].join(" ");throw new Error(t)}return new Date(Date.now()+a.utcOffset).toISOString().substr(0,10)},e.DateUtils.getEndOfWeekDate=s,e.DateUtils.getStartOfMonth=function(t){return new Date(t.getFullYear(),t.getMonth(),1,0,0,0,0)},e.DateUtils.getEndOfMonth=i,e.DateUtils.shiftToUtc=function(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())},e.DateUtils.getEndOfDateIntervalPeriod=function(t,e,a=5){switch(e){case n.Months:return i(t);case n.Weeks:return s(t,a);case n.Days:return t;default:throw new Error(`An unknown date Interval argument was recieved: ${e}`)}},e.DateUtils.parseIsoDateStringInLocalTime=function(t){const e=t.substring(0,10).split("-");return new Date(+e[0],+e[1]-1,+e[2])},e.DateUtils.toLocalDateIsoString=function(t){return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().substring(0,10)}}()}),["DateUtils"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-dashboards-web.date-utils"}}));