"use strict";define("Test/TestPlansHubRefresh/TestCaseWorkItemControls/TestSteps",["require","exports","roosterjs-react","VSS/Core/Util/String","Wit/Common/Generated/Constants","Wit/WorkItemModel/WorkItem/Links","Wit/Common/Utilities/Array","react","VSS/Platform/Layout","VSSUI/Table","VSSUI/Card","VSSUI/Link","VSS/Core/Observable","Wit/HtmlEditor/Components/HtmlEditor"],(function(e,t,r,a,s,n,i,l,o,U,c,m,u,h){var F,d,p,g,C,E,A,D,x,S;F=t.Resources={},t.Resources.TestStepAttachmentSizeFormat="({0}K)",d=t.Constants={},t.Constants.TestStepsFieldName="Microsoft.VSTS.TCM.Steps",function(e){p=t[e]={};class r{static remove(e,t){var a=r.indexOf(e,t);return a>=0&&e.splice(a,1),a>=0}static indexOf(e,t){if(void 0===t)return-1;for(var r=0,a=e.length;r<a;r++)if(void 0!==e[r]&&e[r]===t)return r;return-1}static clone(e){return 1===e.length?[e[0]]:Array.apply(null,e)}}t[e].ArrayUtils=r}("TestStepsUtilsArrayUtils"),function(e){g=t[e]={};var a=new DOMParser;class s{static wrapInDiv(e){return"<div>"+e+"</div>"}static encodeLeftAngularBracket(e){return e&&(e=e.replace(/\r?</g,"&lt;")),e}static sanitizedText(e){var t;return null!==(t=a.parseFromString(s.wrapInDiv(r.HtmlSanitizer.sanitizeHtml(e)),"application/xml").textContent)&&void 0!==t?t:""}static isEmptyText(e){return""===s.sanitizedText(e).trim()}static replaceNewLineWithBr(e){return e&&""!==e.trim()?e=e.replace(/\r?\n/g,"<br />"):e}static getPlainTextLines(e){var t,n;return null!=e?(e=(e=r.HtmlSanitizer.sanitizeHtml(e)).replace(/<\/p><p>|<p>|<\/p>|<br>|<br\/>|<br \/>/gi,"\n"),null!==(n=null===(t=a.parseFromString(s.wrapInDiv(e),"application/xml").textContent)||void 0===t?void 0:t.split("\n"))&&void 0!==n?n:[]):[]}}t[e].HtmlUtils=s}("TestStepsUtilsHtmlUtils"),C=t[S="TestStepsUtilsUnicodeGeneralCategoryData"]={},(x=t[S].unicodeCategory||(t[S].unicodeCategory={})).Pe=")]}༻༽᚜⁆⁾₎〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩〉》」』】〕〗〙〛〞〟﴿︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣]",x.Pc="_‿⁀⁔︳︴﹍-﹏＿",x.Cc="\0--",x.Sc="$¢-¥֏؋৲৳৻૱௹฿៛₠-₹꠸﷼﹩＄￠￡￥￦",x.Pd="-֊־᐀᠆‐-―⸗⸚⸺⸻〜〰゠︱︲﹘﹣－",x.Nd="0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹０-９",x.Me="҈҉⃝-⃠⃢-⃤꙰-꙲",x.Pf="»’”›⸃⸅⸊⸍⸝⸡",x.Cf="­؀-؄۝܏​-‏⁠-⁤⁪-⁯\ufeff￹-￻‪-‭",x.Pi="«‘‛“‟‹⸂⸄⸉⸌⸜⸠",x.Nl="ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ",x.Zl="\u2028",x.Ll="a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧա-ևᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓꞡꞣꞥꞧꞩꟺﬀ-ﬆﬓ-ﬗａ-ｚ",x.Sm="+<->|~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌈-⌋⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬U0001D6C1U0001D6DBU0001D6FBU0001D715U0001D735U0001D74FU0001D76FU0001D789U0001D7A9U0001D7C3U0001EEF0U0001EEF1",x.Lm="ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꜗ-ꜟꝰꞈꟸꟹꧏꩰꫝꫳꫴｰﾞﾟ",x.Sk="^`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊﮲-﯁＾｀￣",x.Mn="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ࣾऀ-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ా-ీె-ైొ-్ౕౖౢౣ಼ಿೆೌ್ೢೣു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᯦᮫ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᷀-ᷦ᷼-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꨩ-ꨮꨱꨲꨵꨶꩃꩌꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︦",x.Ps="([{༺༼᚛‚„⁅⁽₍〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨〈《「『【〔〖〘〚〝﴾︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢",x.Lo="ªºƻǀ-ǃʔא-תװ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॲ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎა-ჺჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳱᳵᳶℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",x.No="²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൰-൵༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵U00010107-U00010133U00010175-U00010178U0001018AU00010320-U00010323U00010858-U0001085FU00010916-U0001091BU00010A40-U00010A47U00010A7DU00010A7EU00010B58-U00010B5FU00010B78-U00010B7FU00010E60-U00010E7EU00011052-U00011065U0001D360-U0001D371U0001F100-U0001F10A",x.Po="!-#%-'*,./:;?@\\¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰૰෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙭᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･U00010100-U00010102U0001039FU000103D0U00010857U0001091FU0001093FU00010A50-U00010A58U00010A7FU00010B39-U00010B3FU00011047-U0001104DU000110BBU000110BCU000110BE-U000110C1U00011140-U00011143U000111C5-U000111C8U00012470-U00012473",x.So="¦©®°҂؎؏۞۩۽۾߶৺୰௳-௸௺౿൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-⏳␀-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-⛿✁-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭐-⭙⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﷽￤￨￭￮￼�U00010137-U0001013FU00010179-U00010189U00010190-U0001019BU000101D0-U000101FCU0001D000-U0001D0F5U0001D100-U0001D126U0001D129-U0001D164U0001D16A-U0001D16CU0001D183U0001D184U0001D18C-U0001D1A9U0001D1AE-U0001D1DDU0001D200-U0001D241U0001D245U0001D300-U0001D356U0001F000-U0001F02BU0001F030-U0001F093U0001F0A0-U0001F0AEU0001F0B1-U0001F0BEU0001F0C1-U0001F0CFU0001F0D1-U0001F0DFU0001F110-U0001F12EU0001F130-U0001F16BU0001F170-U0001F19AU0001F1E6-U0001F202U0001F210-U0001F23AU0001F240-U0001F248U0001F250U0001F251U0001F300-U0001F320U0001F330-U0001F335U0001F337-U0001F37CU0001F380-U0001F393U0001F3A0-U0001F3C4U0001F3C6-U0001F3CAU0001F3E0-U0001F3F0U0001F400-U0001F43EU0001F440U0001F442-U0001F4F7U0001F4F9-U0001F4FCU0001F500-U0001F53DU0001F540-U0001F543U0001F550-U0001F567U0001F5FB-U0001F640U0001F645-U0001F64FU0001F680-U0001F6C5U0001F700-U0001F773",x.Zp="\u2029",x.Co="-U000F0000-U000FFFFDU00100000-U0010FFFD",x.Zs="   ᠎ -   　",x.Mc="ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᦰ-ᧀᧈᧉᨙ-ᨛᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᮬᮭᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡ᳲᳳ〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦽ-꧀ꨯꨰꨳꨴꩍꩻꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬",x.Lt="ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ",x.Cn="͸͹Ϳ-΃΋΍΢Ԩ-԰՗՘ՠֈ֋-֎֐׈-׏׫-ׯ׵-׿؅؜؝܎݋݌޲-޿߻-߿࠮࠯࠿࡜࡝࡟-࢟ࢡࢭ-ࣣࣿॸঀ঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥ৼ-਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੶-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-ఀఄ఍఑఩ఴ఺-఼౅౉౎-౔౗ౚ-౟౤౥౰-౷ಀಁ಄಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-ഁഄ഍഑഻഼൅൉൏-ൖ൘-ൟ൤൥൶-൸඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟Ᏽ-᏿᚝-᚟ᛱ-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠏᠚-᠟ᡸ-᡿᢫-᢯᣶-᣿ᤝ-᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌ᲀ-Ჿ᳈-᳏᳷-᳿ᷧ-᷻἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥-⁩⁲⁳₏₝-₟₺-⃏⃱-⃿↊-↏⏴-⏿␧-␿⑋-⑟✀⭍-⭏⭚-⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⸼-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄ㄮ-㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿍-鿿꒍-꒏꓇-꓏꘬-꘿Ꚙ-ꚞ꛸-꛿ꞏꞔ-ꞟꞫ-ꟷ꠬-꠯꠺-꠿꡸-꡿ꣅ-꣍꣚-꣟꣼-ꣿ꥔-꥞꥽-꥿꧎꧚-꧝ꧠ-꧿꨷-꨿꩎꩏꩚꩛ꩼ-ꩿ꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯-ꮿ꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟︧-︯﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿U0001000CU00010027U0001003BU0001003EU0001004EU0001004FU0001005E-U0001007FU000100FB-U000100FFU00010103-U00010106U00010134-U00010136U0001018B-U0001018FU0001019C-U000101CFU000101FE-U0001027FU0001029D-U0001029FU000102D1-U000102FFU0001031FU00010324-U0001032FU0001034B-U0001037FU0001039EU000103C4-U000103C7U000103D6-U000103FFU0001049EU0001049FU000104AA-U000107FFU00010806U00010807U00010809U00010836U00010839-U0001083BU0001083DU0001083EU00010856U00010860-U000108FFU0001091C-U0001091EU0001093A-U0001093EU00010940-U0001097FU000109B8-U000109BDU000109C0-U000109FFU00010A04U00010A07-U00010A0BU00010A14U00010A18U00010A34-U00010A37U00010A3B-U00010A3EU00010A48-U00010A4FU00010A59-U00010A5FU00010A80-U00010AFFU00010B36-U00010B38U00010B56U00010B57U00010B73-U00010B77U00010B80-U00010BFFU00010C49-U00010E5FU00010E7F-U00010FFFU0001104E-U00011051U00011070-U0001107FU000110C2-U000110CFU000110E9-U000110EFU000110FA-U000110FFU00011135U00011144-U0001117FU000111C9-U000111CFU000111DA-U0001167FU000116B8-U000116BFU000116CA-U00011FFFU0001236F-U000123FFU00012463-U0001246FU00012474-U00012FFFU0001342F-U000167FFU00016A39-U00016EFFU00016F45-U00016F4FU00016F7F-U00016F8EU00016FA0-U0001AFFFU0001B002-U0001CFFFU0001D0F6-U0001D0FFU0001D127U0001D128U0001D1DE-U0001D1FFU0001D246-U0001D2FFU0001D357-U0001D35FU0001D372-U0001D3FFU0001D455U0001D49DU0001D4A0U0001D4A1U0001D4A3U0001D4A4U0001D4A7U0001D4A8U0001D4ADU0001D4BAU0001D4BCU0001D4C4U0001D506U0001D50BU0001D50CU0001D515U0001D51DU0001D53AU0001D53FU0001D545U0001D547-U0001D549U0001D551U0001D6A6U0001D6A7U0001D7CCU0001D7CDU0001D800-U0001EDFFU0001EE04U0001EE20U0001EE23U0001EE25U0001EE26U0001EE28U0001EE33U0001EE38U0001EE3AU0001EE3C-U0001EE41U0001EE43-U0001EE46U0001EE48U0001EE4AU0001EE4CU0001EE50U0001EE53U0001EE55U0001EE56U0001EE58U0001EE5AU0001EE5CU0001EE5EU0001EE60U0001EE63U0001EE65U0001EE66U0001EE6BU0001EE73U0001EE78U0001EE7DU0001EE7FU0001EE8AU0001EE9C-U0001EEA0U0001EEA4U0001EEAAU0001EEBC-U0001EEEFU0001EEF2-U0001EFFFU0001F02C-U0001F02FU0001F094-U0001F09FU0001F0AFU0001F0B0U0001F0BFU0001F0C0U0001F0D0U0001F0E0-U0001F0FFU0001F10B-U0001F10FU0001F12FU0001F16C-U0001F16FU0001F19B-U0001F1E5U0001F203-U0001F20FU0001F23B-U0001F23FU0001F249-U0001F24FU0001F252-U0001F2FFU0001F321-U0001F32FU0001F336U0001F37D-U0001F37FU0001F394-U0001F39FU0001F3C5U0001F3CB-U0001F3DFU0001F3F1-U0001F3FFU0001F43FU0001F441U0001F4F8U0001F4FD-U0001F4FFU0001F53EU0001F53FU0001F544-U0001F54FU0001F568-U0001F5FAU0001F641-U0001F644U0001F650-U0001F67FU0001F6C6-U0001F6FFU0001F774-U0001FFFFU0002A6D7-U0002A6FFU0002B735-U0002B73FU0002B81E-U0002F7FFU0002FA1E-U000E0000U000E0002-U000E001FU000E0080-U000E00FFU000E01F0-U000EFFFFU000FFFFEU000FFFFFU0010FFFEU0010FFFF",x.Lu="A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԱ-ՖႠ-ჅჇჍḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞠꞢꞤꞦꞨꞪＡ-Ｚ",x.LetterXml4e="A-Za-zÀ-ÖØ-öø-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆ-ΆΈ-ΊΌ-ΌΎ-ΡΣ-ώϐ-ϖϚ-ϚϜ-ϜϞ-ϞϠ-ϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙ-ՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓە-ەۥ-ۦअ-हऽ-ऽक़-ॡঅ-ঌএ-ঐও-নপ-রল-লশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼-ਫ਼ੲ-ੴઅ-ઋઍ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽ-ઽૠ-ૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽ-ଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜ-ஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞ-ೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะ-ะา-ำเ-ๅກ-ຂຄ-ຄງ-ຈຊ-ຊຍ-ຍດ-ທນ-ຟມ-ຣລ-ລວ-ວສ-ຫອ-ຮະ-ະາ-ຳຽ-ຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀ-ᄀᄂ-ᄃᄅ-ᄇᄉ-ᄉᄋ-ᄌᄎ-ᄒᄼ-ᄼᄾ-ᄾᅀ-ᅀᅌ-ᅌᅎ-ᅎᅐ-ᅐᅔ-ᅕᅙ-ᅙᅟ-ᅡᅣ-ᅣᅥ-ᅥᅧ-ᅧᅩ-ᅩᅭ-ᅮᅲ-ᅳᅵ-ᅵᆞ-ᆞᆨ-ᆨᆫ-ᆫᆮ-ᆯᆷ-ᆸᆺ-ᆺᆼ-ᇂᇫ-ᇫᇰ-ᇰᇹ-ᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙ-ὙὛ-ὛὝ-ὝὟ-ώᾀ-ᾴᾶ-ᾼι-ιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩ-ΩK-Å℮-℮ↀ-ↂ〇-〇〡-〩ぁ-ゔァ-ヺㄅ-ㄬ一-龥가-힣",x.NcNameXml4e="--.0-9A-Z_-_a-z·-·À-ÖØ-öø-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁː-ˑ̀-͠ͅ-͡Ά-ΊΌ-ΌΎ-ΡΣ-ώϐ-ϖϚ-ϚϜ-ϜϞ-ϞϠ-ϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁ҃-҆Ґ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙ-ՙա-ֆ֑-֣֡-ֹֻ-ֽֿ-ֿׁ-ׂׄ-ׄא-תװ-ײء-غـ-ْ٠-٩ٰ-ڷں-ھۀ-ێې-ۓە-۪ۨ-ۭ۰-۹ँ-ःअ-ह़-्॑-॔क़-ॣ०-९ঁ-ঃঅ-ঌএ-ঐও-নপ-রল-লশ-হ়-়া-ৄে-ৈো-্ৗ-ৗড়-ঢ়য়-ৣ০-ৱਂ-ਂਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹ਼-਼ਾ-ੂੇ-ੈੋ-੍ਖ਼-ੜਫ਼-ਫ਼੦-ੴઁ-ઃઅ-ઋઍ-ઍએ-ઑઓ-નપ-રલ-ળવ-હ઼-ૅે-ૉો-્ૠ-ૠ૦-૯ଁ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହ଼-ୃେ-ୈୋ-୍ୖ-ୗଡ଼-ଢ଼ୟ-ୡ୦-୯ஂ-ஃஅ-ஊஎ-ஐஒ-கங-சஜ-ஜஞ-டண-தந-பம-வஷ-ஹா-ூெ-ைொ-்ௗ-ௗ௧-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హా-ౄె-ైొ-్ౕ-ౖౠ-ౡ౦-౯ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಾ-ೄೆ-ೈೊ-್ೕ-ೖೞ-ೞೠ-ೡ೦-೯ം-ഃഅ-ഌഎ-ഐഒ-നപ-ഹാ-ൃെ-ൈൊ-്ൗ-ൗൠ-ൡ൦-൯ก-ฮะ-ฺเ-๎๐-๙ກ-ຂຄ-ຄງ-ຈຊ-ຊຍ-ຍດ-ທນ-ຟມ-ຣລ-ລວ-ວສ-ຫອ-ຮະ-ູົ-ຽເ-ໄໆ-ໆ່-ໍ໐-໙༘-༙༠-༩༵-༵༷-༹༷-༹༾-ཇཉ-ཀྵཱ-྄྆-ྋྐ-ྕྗ-ྗྙ-ྭྱ-ྷྐྵ-ྐྵႠ-Ⴥა-ჶᄀ-ᄀᄂ-ᄃᄅ-ᄇᄉ-ᄉᄋ-ᄌᄎ-ᄒᄼ-ᄼᄾ-ᄾᅀ-ᅀᅌ-ᅌᅎ-ᅎᅐ-ᅐᅔ-ᅕᅙ-ᅙᅟ-ᅡᅣ-ᅣᅥ-ᅥᅧ-ᅧᅩ-ᅩᅭ-ᅮᅲ-ᅳᅵ-ᅵᆞ-ᆞᆨ-ᆨᆫ-ᆫᆮ-ᆯᆷ-ᆸᆺ-ᆺᆼ-ᇂᇫ-ᇫᇰ-ᇰᇹ-ᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙ-ὙὛ-ὛὝ-ὝὟ-ώᾀ-ᾴᾶ-ᾼι-ιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ⃐-⃜⃡-⃡Ω-ΩK-Å℮-℮ↀ-ↂ々-々〇-〇〡-〯〱-〵ぁ-ゔ゙-゚ゝ-ゞァ-ヺー-ヾㄅ-ㄬ一-龥가-힣",function(e){var r;E=t[e]={},function(e){e.nameCharacters="["+C.unicodeCategory.Nd+C.unicodeCategory.Mn+C.unicodeCategory.Mc+C.unicodeCategory.Ll+C.unicodeCategory.Lo+C.unicodeCategory.Lu+C.unicodeCategory.Lt+"_-]",e.letterCharacters="["+C.unicodeCategory.Ll+C.unicodeCategory.Lo+C.unicodeCategory.Lu+C.unicodeCategory.Lt+"]",e.parameterCharacters="["+C.unicodeCategory.Lu+C.unicodeCategory.Ll+C.unicodeCategory.Lt+C.unicodeCategory.Lm+C.unicodeCategory.Lo+C.unicodeCategory.Nl+C.unicodeCategory.Nd+C.unicodeCategory.Mn+C.unicodeCategory.Pd+C.unicodeCategory.Pc+C.unicodeCategory.Mc+C.unicodeCategory.Cf+"_@]",e.nonParameterCharacters="[^"+C.unicodeCategory.Lu+C.unicodeCategory.Ll+C.unicodeCategory.Lt+C.unicodeCategory.Lm+C.unicodeCategory.Lo+C.unicodeCategory.Nl+C.unicodeCategory.Nd+C.unicodeCategory.Mn+C.unicodeCategory.Pd+C.unicodeCategory.Pc+C.unicodeCategory.Mc+C.unicodeCategory.Cf+"_@]",e.paramRegEx=new RegExp("(^@[?]?"+e.parameterCharacters+"{1,})|("+e.nonParameterCharacters+"{1,}@[?]?"+e.parameterCharacters+"{1,})"),e.encodeCharPattern=/_[Xx]([0-9a-fA-F]{4})_/,e.xml4eLetterPattern="["+C.unicodeCategory.LetterXml4e+"]",e.xml4eNameCharacterPattern="["+C.unicodeCategory.NcNameXml4e+"]"}(r=t[e].ParameterConstants||(t[e].ParameterConstants={}));class s{static getParameters(e){let t,a,s=g.HtmlUtils.getPlainTextLines(e),n=[];for(var i=0;i<s.length;i++)for(var l=s[i];null!==(a=r.paramRegEx.exec(l));)t=a[0].substr(a[0].indexOf("@")+1),"?"===t[0]&&(t=t.substr(1)),-1===p.ArrayUtils.indexOf(n,t)&&n.push(t),l=l.substr(a.index+a[0].length);return n}static convertCharToHex(e){let t=e.charCodeAt(0).toString(16).toUpperCase();for(;t.length<4;)t="0"+t;return t="_x"+t+"_",t}static updateEncodedParameters(e){let t,r=0,a=e.length,n={};for(r=0;r<a;r++)t=e[r],t&&!n.hasOwnProperty(t)&&(n[t]=s.encodeName(t));return n}static encodeName(e){let t,a,n,i,l="",o=e.length,U=0,c=r.encodeCharPattern,m=-1,u=0,h=0,F=0,d=[];if(!e||""===e)return e;if(t=0,i=e,e.indexOf("_")>=0){for(;null!=(n=c.exec(i));)d[u++]=n.index+F,F=F+n.index+n[0].length-1,i=i.substr(n.index+n[0].length-1);a=c.exec(e)}for(null!=a&&(m=d[h++],i=e.substr(a.index+a[0].length-1)),(!s.IsLetterOrUnderscore(e[0])&&":"!==e[0]||0===m)&&(l+=s.convertCharToHex(e[0]),t=1,U++,0===m&&(a=c.exec(i),a&&(m=d[h++],i=i.substr(a.index+a[0].length-1))));U<o;)s.IsNameCharacterOrColon(e[U])&&m!==U||(m===U&&(a=c.exec(i),a&&(m=d[h++],i=i.substr(a.index+a[0].length-1))),l+=e.substr(t,U-t),l+=s.convertCharToHex(e[U]),t=U+1),U++;return 0===t?e:(t<o&&(l+=e.substr(t,o-t)),l)}static decodeName(e){let t,a,s,n,i="",l=e.length,o=0,U=0,c=0,m=r.encodeCharPattern,u=-1,h=[],F=0;if(!e||""===e)return e;if(n=e.indexOf("_"),n<0)return e;for(s=e;null!=(t=m.exec(s));)h[o++]=t.index+U,U=U+t.index+t[0].length,s=s.substr(t.index+t[0].length);for(void 0!==h[F]&&(u=h[F++]),o=0;o<l-7+1;o++)o===u&&(void 0!==h[F]&&(u=h[F++]),i+=e.substr(c,o-c),"_"!==e[o+7-1]?(a=this.getCombinedCharCodeForSurrogatePattern(e,o),a<parseInt("10000",16)&&(c=o+7+4,i+=String.fromCharCode(a)),o+=10):(c=o+7,a=4096*parseInt(e[o+2],16)+256*parseInt(e[o+3],16)+16*parseInt(e[o+4],16)+parseInt(e[o+5],16),i+=String.fromCharCode(a),o+=6));return 0===c?e:(c<l&&(i+=e.substr(c,l-c)),i)}static getCombinedCharCodeForSurrogatePattern(e,t){return 268435456*parseInt(e[t+2],16)+16777216*parseInt(e[t+3],16)+1048576*parseInt(e[t+4],16)+65536*parseInt(e[t+5],16)+4096*parseInt(e[t+6],16)+256*parseInt(e[t+7],16)+16*parseInt(e[t+8],16)+parseInt(e[t+9],16)}static isLetter(e){return null!==new RegExp("("+r.xml4eLetterPattern+"{1})").exec(e)}static IsLetterOrUnderscore(e){return!!s.isLetter(e)||"_"===e}static IsNameCharacterOrColon(e){return!!s.isNameCharacter(e)||":"===e}static isNameCharacter(e){return null!==new RegExp("("+r.xml4eNameCharacterPattern+"{1})").exec(e)}static hasParameters(e){let t,a;return!!e&&(t=e.replace(/<a((\s|\S)*?)>/i,""),a=r.paramRegEx.exec(t),null!==a||(a=r.paramRegEx.exec(g.HtmlUtils.sanitizedText(e)),null!==a))}static isValidParameterString(e){let t=new RegExp("("+r.parameterCharacters+"{1,})").exec(e);return null!==t&&t[0]===e}static createParamRegExForString(e){return new RegExp("(^@[?]?"+e+")|("+r.nonParameterCharacters+"{1}@[?]?"+e+")","ig")}static getParametersDataRow(e){var t,r,a;let s,n,i=[],l={};for(var o=e.querySelectorAll("parameters"),U=0;U<o.length;U++)for(var c=o[U].children,m=0;m<c.length;m++){var u=c[m];s=null!==(t=u.getAttribute("name"))&&void 0!==t?t:"",n=null!==(a=null===(r=u.querySelector("value"))||void 0===r?void 0:r.textContent)&&void 0!==a?a:"",-1===p.ArrayUtils.indexOf(i,s)&&(i.push(s),l[s]=n)}return l}static parseParameters(e){var t;let r,a=[];for(var s=e.querySelectorAll("parameters"),n=0;n<s.length;n++)for(var i=s[n].children,l=0;l<i.length;l++){r=null!==(t=i[l].getAttribute("name"))&&void 0!==t?t:"",-1===p.ArrayUtils.indexOf(a,r)&&a.push(r)}return a}static getParameterCountInString(e,t){let s,n,i=g.HtmlUtils.getPlainTextLines(e),l=0;for(var o=0;o<i.length;o++)for(var U=i[o];null!==(n=r.paramRegEx.exec(U));)s=n[0].substr(n[0].indexOf("@")+1),"?"===s[0]&&(s=s.substr(1)),0===a.localeIgnoreCaseComparer(s,t)&&l++,U=U.substr(n.index+n[0].length);return l}static renameParameterInPlainString(e,t,r){let a="",s=g.HtmlUtils.getPlainTextLines(e);for(var n=0;n<s.length;n++){var i=s[n];""!==(i=this.renameParameterInString(i,t,r))&&(a=a+"<p>"+i+"</p>")}return a}static renameParameterInString(e,t,r){let a,n,i,l,o=0,U=this.getParameterCountInString(e,t),c=s.createParamRegExForString(t),m=e;if(t===r)return e;for(;null!==(a=c.exec(e));)i=a[0].length,l=a.index,"@"===e.substring(a.index,1)&&(l-=1,i+=1),this._isNonParamCharacter(e,l+i)?(r&&""!==r?(e=e.substring(0,l+2)+r+e.substring(l+i),c.lastIndex=l+2+r.length):(n=/^@{1,}/.exec(e.substring(l+1)),n&&(e=e.substring(0,l+1)+e.substring(l+1+n[0].length),c.lastIndex=l+1+n[0].length)),o++):c.lastIndex=l+i;return o===U&&0===this.getParameterCountInString(e,t)?e:s.renameParameterInPlainString(m,t,r)}static _isNonParamCharacter(e,t){if(t>=0&&t<e.length){if(e[t].match(r.nonParameterCharacters))return!0}else if(t===e.length)return!0;return!1}}t[e].ParameterCommonUtils=s}("TestStepsUtilsParameterCommonUtils"),function(e){A=t[e]={};var l=new DOMParser;const o=new Date(2533707648e5);class U{}t[e].TestActionTypes=U,U.Step="Step",U.SharedSteps="SharedSteps";class c{}t[e].TestStepTypes=c,c.Action="ActionStep",c.Validate="ValidateStep";class m{constructor(e,t){this.id=e,this.actionType=t,this.action="",this._isDirty=!1,this.owner=null}setIndex(e){this.index=e}getIsDirty(){return this._isDirty}setIsDirty(e){this._isDirty=e}hasError(){return!1}appendTo(e){return e}getAttachmentCount(){return 0}getAttachments(){return[]}processTestAttachments(e){return!1}}t[e].TestAction=m;class u{}t[e].ResourceLink=u;class h{constructor(){this.resource=new u,this.uri=""}getUri(){return this.uri}setUri(e){this.uri=e}getComment(){return this.resource.Comment}getOriginalName(){return this.resource.OriginalName}getFilePath(){return this.resource.FilePath}getLength(){return this.resource.Length}getWorkItemId(){return this.resource.WorkItemId}updateMetadatafromAttachment(e){var t,r,a,s,n;this.resource.AddedDate=null!==(t=e.getAddedDate())&&void 0!==t?t:o,this.resource.Comment=null!==(r=e.getComment())&&void 0!==r?r:"",this.resource.FilePath=null!==(a=e.linkData.FilePath)&&void 0!==a?a:"",this.resource.FldId=e.getFieldId(),this.resource.Length=null!==(s=e.linkData.Length)&&void 0!==s?s:0,this.resource.OriginalName=null!==(n=e.linkData.OriginalName)&&void 0!==n?n:"",this.uri=""}updateMetadatafromResourceLink(e){this.resource=e}}t[e].TestStepAttachmentMetadata=h;class F extends m{constructor(e,t,r,a,s){super(e,U.Step),this._actionParameters=[],this._expectedParameters=[],this.stepType=t,this.action=r,this._updateParameters(E.ParameterCommonUtils.getParameters(r),this._actionParameters),this.expectedResult=a,this._updateParameters(E.ParameterCommonUtils.getParameters(a),this._expectedParameters),this.isFormatted=null!=s&&s,this._hasActionError=!1,this._hasExpectedResultError=!1,this._attachments=[],this._attachmentsMetadata=[],this._updateOwner=!0}static createStep(e,t,r,a,s){return new F(e,t,r,a,s)}setAction(e){let t;return!(this.action===e||(t=E.ParameterCommonUtils.getParameters(e),this._hasActionError=t.length>0,!this._updateParameters(t,this._actionParameters)))&&(this.action=e,this.setIsDirty(!0),!0)}setExpectedResult(e){let t;return!(this.expectedResult===e||(t=E.ParameterCommonUtils.getParameters(e),this._hasExpectedResultError=t.length>0,!this._updateParameters(t,this._expectedParameters)))&&(this.expectedResult=e,this.setIsDirty(!0),this._isExpectedResultEmpty()?this.stepType=c.Action:this.stepType=c.Validate,!0)}hasError(){return this._hasActionError||this._hasExpectedResultError}hasActionError(){return this._hasActionError}hasExpectedResultError(){return this._hasExpectedResultError}getActionParameters(){return this._actionParameters}getExpectedParameters(){return this._expectedParameters}appendTo(e){let t=l.parseFromString("<step></step>","application/xml").querySelector("step"),r=l.parseFromString("<description></description>","application/xml").querySelector("description");return null==t||t.setAttribute("id",this.id.toString()),this._isExpectedResultEmpty()?null==t||t.setAttribute("type",c.Action):null==t||t.setAttribute("type",c.Validate),this._addParameterizedString(t,this.action),this._addParameterizedString(t,this.expectedResult),r&&(null==t||t.append(r)),t&&e.append(t),e}processTestAttachments(e,t=!0){let r,i,l,o,U=a.format("[teststep={0}]",this.id),c=!1;if(e)for(o=e.length,r=0;r<o;r++)i=e[r].linkData.Comment,i&&i.length>U.length&&(l=i.substr(0,U.length).toLowerCase(),l===U&&(!t&&e[r].linkData.FldID===s.DalFields.AttachedFiles||e[r]instanceof n.Attachment)&&(this.addAttachment(e[r]),c=!0));return c}getAttachmentCount(){return this._attachments?this._attachments.length:0}getAttachments(){return this._attachments}getAttachmentsMetadataList(){return this._attachmentsMetadata}deleteAttachment(e){let t=!1;return e&&(t=p.ArrayUtils.remove(this.getAttachments(),e),t&&e.remove()),t}clearAttachments(){let e,t=p.ArrayUtils.clone(this.getAttachments()),r=t.length;for(e=0;e<r;e++)this.deleteAttachment(t[e])}addAttachment(e){this._attachments.push(e),this._addAttachmentMetadata(e)}_addAttachmentMetadata(e){let t=new h;t.updateMetadatafromAttachment(e),this._attachmentsMetadata.push(t)}updateAttachmentsMetadataList(e){this._attachmentsMetadata.push(e)}_addParameterizedString(e,t){let s,n,i,o;s=t?r.HtmlSanitizer.sanitizeHtml(t):r.HtmlSanitizer.sanitizeHtml(""),this.isFormatted||(s=g.HtmlUtils.replaceNewLineWithBr(s)),i=s.replace(/&nbsp;/g,"&amp;nbsp;"),n=l.parseFromString(a.format("<parameterizedString>{0}</parameterizedString>",i),"application/xml"),o=n.querySelector("parameterizedString"),o.setAttribute("isformatted","true"),null==e||e.append(o)}_isExpectedResultEmpty(){return!this.expectedResult||g.HtmlUtils.isEmptyText(this.expectedResult)}_updateParameters(e,t){let r,s=[],n=[];var l;for(r=0;r<t.length;r++)l=t[r],i.contains(e,l,a.localeIgnoreCaseComparer)||s.push(l);for(r=0;r<e.length;r++)l=e[r],i.contains(t,l,a.localeIgnoreCaseComparer)||n.push(l);return!(s.length>0&&this.owner&&!this.owner.fireParamDeleteEvent(s))&&(this._deleteParametersFromList(s,t),this._addParametersToList(n,t),!0)}_addParametersToList(e,t){let r,s=e.length;for(r=0;r<s;r++)i.contains(t,e[r],a.localeIgnoreCaseComparer)||(t.push(e[r]),this.owner&&this._updateOwner&&this.owner.onAddParameterInSteps(e[r]))}_deleteParametersFromList(e,t){let r,s,n=t.length,i=e.length;for(r=0;r<i;r++)for(s=0;s<n;s++)0===a.localeIgnoreCaseComparer(e[r],t[s])&&(t.splice(s,1),s++,this.owner&&this._updateOwner&&this.owner.onDeleteParameterInSteps(e[r]))}deleteParameter(e){let t=E.ParameterCommonUtils.renameParameterInString(this.action,e,""),r=E.ParameterCommonUtils.renameParameterInString(this.expectedResult,e,"");this.setAction(t),this.setExpectedResult(r)}renameParameter(e,t){let r=E.ParameterCommonUtils.renameParameterInString(this.action,e,t),a=E.ParameterCommonUtils.renameParameterInString(this.expectedResult,e,t);this._updateOwner=!1,this.setAction(r),this.setExpectedResult(a),this._updateOwner=!0}}t[e].TestStep=F}("TestStepsUtilsTestStepOM"),function(e){D=t[e]={};t[e].TestStepsParseUtils=class{static parseTestSteps(e){function t(e){let t=[];if(e.children.length>0)for(let r=0;r<e.children.length;r++){let s=e.children[r];switch(s.nodeName.toLowerCase()){case"parameter":t.push(a.format("@{0}",s.textContent));break;case"outputparameter":t.push(a.format("@?{0}",s.textContent));break;case"text":t.push(s.textContent)}}else t.push(e.textContent);return t.join("")}function r(e){let r,a,s,n=e.getAttribute("id"),i=e.getAttribute("type"),l=!1,o=!1,U=!1,c=e.querySelectorAll(":scope > parameterizedString");for(let e=0;e<c.length;e++)0===e?(r=t(c[e]),o="true"===c[e].getAttribute("isformatted")):(a=t(c[e]),U="true"===c[e].getAttribute("isformatted"));if(o&&U&&(l=!0),!r&&!a){let t=e.children;for(let e=0;e<t.length;e++){let s=t[e];switch(s.nodeName.toLowerCase()){case"action":r=s.textContent;break;case"expected":a=s.textContent}}}if(null===n||null===i)throw new Error("id or stepType is not present");return s=A.TestStep.createStep(parseInt(n,10),i,null!=r?r:"",null!=a?a:"",l),s}function s(e){throw new Error("Yet to be implemented!")}return function(e){let t,a,n,i=[];for(let l=0;l<e.length;l++){a=e[l].children;for(let e=0;e<a.length;e++)switch(n=a[e],n.nodeName.toLowerCase()){case"step":t=r(a[e]),i.push(t);break;case"compref":t=s(a[e]),i=i.concat(t)}}return i}(e)}}}("TestStepsUtilsTestStepsParseUtils"),function(e){t[e]={};class r extends o.VssComponent{constructor(e,t){super(e),this._domParser=new DOMParser,this._pageContext=t.pageContext,this._stepTableColumns=this._getStepTableColumns(),this._workItem=this.props.workItem,this._refreshState()}_refreshState(){if(this._workItem){this._stepsValue=this._workItem.getFieldValueByName(d.TestStepsFieldName);let e,t,r,a=this._domParser.parseFromString(this._stepsValue,"application/xml");for(this._steps=new u.ObservableArray,this._parameters=[],this._attachments=[],t=this._workItem.getLinks(),e=0;e<t.length;e++)r=t[e],(r.linkData.FldID===s.DalFields.AttachedFiles||r instanceof n.Attachment)&&this._attachments.push(r);let i=a.querySelectorAll("steps");a.getElementsByTagName("steps");this.readSteps(i,this,!0,!0)}}readSteps(e,t,r,a){r&&this._steps.removeAll();for(var s=D.TestStepsParseUtils.parseTestSteps(e),n=0;n<s.length;n++)this._steps.push(s[n]);for(n=0;n<this._steps.length;n++)this._steps.value[n].processTestAttachments(t._attachments)}render(){return l.createElement("div",{className:"test-steps-control"},"NWP Test Steps Control",l.createElement(c.Card,{className:"teststeps-table-card bolt-table-card",contentProps:{contentPadding:!1}},l.createElement(U.Table,{ariaLabel:"Test Steps Table",className:"teststeps-table",containerClassName:"custom-scrollbar",columns:this._stepTableColumns,itemProvider:this._steps,role:"table",scrollable:!0,showLines:!1,virtualize:!1})))}_getStepTableColumns(){const e=[];return e.push({id:"id",name:"Steps",readonly:!0,renderCell:U.renderSimpleCell,width:new u.ObservableValue(40)},{id:"action",name:"Action",readonly:!1,renderCell:this.renderActionColumn,width:new u.ObservableValue(500)},{id:"expected",name:"Expected Result",readonly:!1,renderCell:this.renderExpectedColumn,width:new u.ObservableValue(300)},{id:"attachment",name:"Attachments",readonly:!1,renderCell:(e,t,r,a)=>this.renderAttachmentColumn(e,t,r,a),width:new u.ObservableValue(200)}),e}renderActionColumn(e,t,r,a){var s=new u.ObservableValue(a.action);return l.createElement("td",null,l.createElement(h.HtmlEditor,{htmlContent:s.value,ariaLabel:"Input text field",className:"flex-grow",onChange:e=>s.value=e}))}renderExpectedColumn(e,t,r,a){if(a.actionType!==A.TestActionTypes.Step)return l.createElement(U.SimpleTableCell,{columnIndex:t});var s=a,n=new u.ObservableValue(s.expectedResult);return l.createElement("td",null,l.createElement(h.HtmlEditor,{htmlContent:n.value,ariaLabel:"Input text field",className:"flex-grow",onChange:e=>n.value=e}))}renderAttachmentColumn(e,t,r,s){for(var n,i,o=s,U=o.getAttachments(),c=[],u=0;u<U.length;u++){var h=U[u],d=a.format(F.TestStepAttachmentSizeFormat,Math.ceil(null!==(n=h.linkData.Length)&&void 0!==n?n:0)),p=a.format("{0} {1}",null!==(i=h.linkData.OriginalName)&&void 0!==i?i:"",d),g={overflowOnly:!0,text:p},C=l.createElement(m.Link,{className:"attachment-column-text",href:"",target:"_blank",rel:"opener",tooltipProps:g},p),E={attachment:h,testStep:o},A=l.createElement(m.Link,{className:"bowtie-icon bowtie-edit-delete attachment-delete-icon",onClick:e=>this._onAttachmentDeleteClick(e,E)}),D=l.createElement("tr",{key:h.linkData.FilePath},l.createElement("td",null,C),!this._isReadOnly()&&l.createElement("td",null,A));c.push(D)}return l.createElement("td",null,l.createElement("table",{className:"attachment-content"},c))}async _fetchAttachmentUri(e){return await e.getLinkUrl(this._pageContext,this._getProjectName())}_onAttachmentDeleteClick(e,t){}_isReadOnly(){return!1}_getProjectName(){const e=this._pageContext.getService("ITfsPageService").getData();let t="";if(!e||!e.project)throw new Error("Project missing");return t=e.project.name,t}}t[e].TestStepsControl=r}("ComponentTestStepsControl")}),["Resources","Constants","TestStepsUtils/ArrayUtils","TestStepsUtils/HtmlUtils","TestStepsUtils/UnicodeGeneralCategoryData","TestStepsUtils/ParameterCommonUtils","TestStepsUtils/TestStepOM","TestStepsUtils/TestStepsParseUtils","Component/TestStepsControl"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-test-web.test-steps"}}));