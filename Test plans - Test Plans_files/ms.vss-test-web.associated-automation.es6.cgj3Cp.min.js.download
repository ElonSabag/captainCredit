"use strict";define("Test/TestPlansHubRefresh/TestCaseWorkItemControls/AssociatedAutomation",["require","exports","react","VSS/Platform/Layout","VSS/Core/Util/String","VSSUI/Observer","VSS/Core/Observable"],(function(e,t,a,o,s,m,i){var l,u,r;l=t.Resources={},t.Resources.AutomatedTestName="Automated test name",t.Resources.AutomatedTestStorage="Automated test storage",t.Resources.AutomatedTestType="Automated test type",t.Resources.ClearAutomationDescriptionText="Clear automation",t.Resources.ClearAssociatedAutomation="Clear",u=t[r="ComponentAssociatedAutomationControlConstants"]={},t[r].AutomatedTestNameFieldName="Microsoft.VSTS.TCM.AutomatedTestName",t[r].AutomatedTestStorageFieldName="Microsoft.VSTS.TCM.AutomatedTestStorage",t[r].AutomatedTestTypeFieldName="Microsoft.VSTS.TCM.AutomatedTestType",t[r].AutomatedTestIdFieldName="Microsoft.VSTS.TCM.AutomatedTestId",t[r].AutomatedTestAutomationStatusFieldName="Microsoft.VSTS.TCM.AutomationStatus",function(e){t[e]={};class r extends o.VssComponent{constructor(e,t){super(e),this._automatedTestName=new i.ObservableValue(""),this._automatedTestStorage=new i.ObservableValue(""),this._automatedTestType=new i.ObservableValue(""),this._clearAutomation=()=>{this.props.workItem.setFieldValueByName(u.AutomatedTestIdFieldName,null);let e=this.props.workItem.getFieldByName(u.AutomatedTestAutomationStatusFieldName);if(e&&e.lists){const t=e.lists.allowedValues;t&&t.length>0&&t[0].items&&t[0].items.length>0&&this.props.workItem.setFieldValueByName(u.AutomatedTestAutomationStatusFieldName,t[0].items[0])}this.props.workItem.setFieldValueByName(u.AutomatedTestNameFieldName,null),this.props.workItem.setFieldValueByName(u.AutomatedTestStorageFieldName,null),this.props.workItem.setFieldValueByName(u.AutomatedTestTypeFieldName,null),this._refreshState()},this._refreshState=()=>{this._automatedTestName.value=this.props.workItem.getFieldValueByName(u.AutomatedTestNameFieldName),this._automatedTestStorage.value=this.props.workItem.getFieldValueByName(u.AutomatedTestStorageFieldName),this._automatedTestType.value=this.props.workItem.getFieldValueByName(u.AutomatedTestTypeFieldName),this._automatedTestId=this.props.workItem.getFieldValueByName(u.AutomatedTestIdFieldName),this._disableButtonFlag=null==this._automatedTestId||s.equals(this._automatedTestId,"")},this._refreshState()}render(){return a.createElement(m.Observer,{automatedTestName:this._automatedTestName,automatedTestStorage:this._automatedTestStorage,automatedTestType:this._automatedTestType},(e=>a.createElement("div",{className:"automation-control"},a.createElement("div",{className:"workitemcontrol-label"},l.AutomatedTestName),a.createElement("div",{className:"automation-info"},e.automatedTestName),a.createElement("div",{className:"workitemcontrol-label"},l.AutomatedTestStorage),a.createElement("div",{className:"automation-info"},e.automatedTestStorage),a.createElement("div",{className:"workitemcontrol-label"},l.AutomatedTestType),a.createElement("div",{className:"automation-info"},e.automatedTestType),a.createElement("div",{className:"clear-association-testcase"},a.createElement("button",{"aria-label":l.ClearAutomationDescriptionText,className:"clear-associate-automation-btn",onClick:this._clearAutomation,disabled:this._disableButtonFlag},l.ClearAssociatedAutomation)))))}}t[e].AssociatedAutomationControl=r}("ComponentAssociatedAutomationControl")}),["Resources","Component/AssociatedAutomationControlConstants","Component/AssociatedAutomationControl"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-test-web.associated-automation"}}));