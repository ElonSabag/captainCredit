define("OfficeFabric/components/DocumentCard/DocumentCardTitle",["require","exports","tslib","react","../../Utilities","./DocumentCard.scss"],function(n,t,i,r,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=f,c="&hellip;",s=40,l=90-c.length,h=80,a=130-c.length,o=10,v=5,y=function(n){function t(t){var i=n.call(this,t)||this;return i._titleElement=u.createRef(),i._startTruncation=function(n){var t=n.title,u,r;i._isTruncated=!1;u=n.showAsSecondaryTitle?h:s;r=n.showAsSecondaryTitle?a:l;t&&t.length>=u&&(t.length>r?(i._isTruncated=!0,i.setState({truncatedTitleFirstPiece:t.slice(0,r/2+o),truncatedTitleSecondPiece:t.slice(t.length-(r/2-o))})):i.setState({truncatedTitleFirstPiece:t.slice(0,Math.ceil(t.length/2)+o),truncatedTitleSecondPiece:t.slice(t.length-Math.floor(t.length/2)+o)}));i._titleElement.current&&(i._truncatedTitleAtWidth=i._titleElement.current.clientWidth)},i.state={truncatedTitleFirstPiece:"",truncatedTitleSecondPiece:""},i}return i.__extends(t,n),t.prototype.componentDidMount=function(){var n=this.props,t=n.title,i=n.shouldTruncate,r=n.showAsSecondaryTitle,u=r?h:s;if(i&&t&&t.length>u){this._doesTitleOverflow()&&this._startTruncation(this.props);this._events.on(window,"resize",this._updateTruncation)}},t.prototype.componentWillReceiveProps=function(n){this._events.off(window,"resize");this._isTruncated=!1;var t=n.showAsSecondaryTitle?h:s;if(n.shouldTruncate&&n.title&&n.title.length>t){this._startTruncation(n);this._events.on(window,"resize",this._updateTruncation)}},t.prototype.componentDidUpdate=function(){this.props.shouldTruncate&&this._shrinkTitle()},t.prototype.render=function(){var n=this.props,t=n.title,o=n.shouldTruncate,i=n.showAsSecondaryTitle,f=this.state,s=f.truncatedTitleFirstPiece,h=f.truncatedTitleSecondPiece;return o&&this._isTruncated?r.createElement("div",{className:u.css("ms-DocumentCardTitle",i?e.secondaryTitle:e.title),ref:this._titleElement,title:t},s,"â€¦",h):r.createElement("div",{className:u.css("ms-DocumentCardTitle",i?e.secondaryTitle:e.title),ref:this._titleElement,title:t},t)},t.prototype._shrinkTitle=function(){if(this._doesTitleOverflow()){var t=this.state,n=t.truncatedTitleFirstPiece,i=t.truncatedTitleSecondPiece;this._isTruncated=!0;n||i||this._startTruncation(this.props);this.setState({truncatedTitleFirstPiece:n.slice(0,n.length-1),truncatedTitleSecondPiece:i.slice(1)})}},t.prototype._doesTitleOverflow=function(){var n=this._titleElement.current;return n?n.scrollHeight>n.clientHeight+v||n.scrollWidth>n.clientWidth:!1},t.prototype._updateTruncation=function(){this._titleElement.current&&this._titleElement.current.clientWidth!==this._truncatedTitleAtWidth&&(clearTimeout(this._scrollTimerId),this._scrollTimerId=this._async.setTimeout(this._startTruncation.bind(this,this.props),250))},t}(u.BaseComponent);t.DocumentCardTitle=y});

