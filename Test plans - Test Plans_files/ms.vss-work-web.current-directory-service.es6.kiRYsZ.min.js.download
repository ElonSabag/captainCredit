"use strict";define("Wit/Common/CurrentDirectoryService",["require","exports","Tfs/Platform/Page","VSS/Core/Observable","VSS/Platform/Context","VSS/Platform/FPS","VSS/Platform/Location"],(function(e,r,t,i,o,s,n){!function(e){r[e]={};class c extends o.VssService{constructor(){super(...arguments),this.currentDirectory=new i.ObservableValue(void 0),this._serviceStart=e=>{super._serviceStart(e);const r=this.pageContext.getService("IVssContributionService").getData("ms.vss-tfs-web.team-context-data-provider");r&&r.name&&(this.currentDirectory.value={id:r.id,name:r.name,url:""})},this._serviceEnd=e=>{super._serviceEnd(e)},this.getCurrentDirectory=()=>this.currentDirectory,this.setCurrentDirectory=e=>{this.currentDirectory.value=e,(null==e?void 0:e.url)&&(0,s.onClickFPS)(this.pageContext,e.url,!0)}}getWorkItemsFormUrl(e){var r;const t=this.getDefaultRouteValues();return t.teamName=(null===(r=this.getCurrentDirectory().value)||void 0===r?void 0:r.name)||"",t.id=e.toString(),(0,n.routeUrl)(this.pageContext,"ms.vss-work-web.work-items-form-route",t)}getDefaultRouteValues(){var e,r;const i={},o=null===(r=null===(e=(0,t.getTFSPageData)(this.pageContext))||void 0===e?void 0:e.project)||void 0===r?void 0:r.name;return i.project=o||"",i}}r[e].CurrentDirectoryService=c,o.Services.add("ICurrentDirectoryService",{serviceFactory:c})}("ICurrentDirectoryService")}),["ICurrentDirectoryService"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-work-web.current-directory-service"}}));