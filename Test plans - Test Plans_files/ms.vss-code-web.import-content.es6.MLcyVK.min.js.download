"use strict";define("Repos/Views/Import",["require","exports","VSS/Platform/Context","VSS/Platform/RestClientBase","react","Repos/Common/Util/Ref","VSS/Core/Util/String","VSS/Platform/Components/Format/Format","VSS/Platform/Fetch","VSS/Platform/Util/Serialization","VSS/Platform/Util/Url","VSSUI/Link","VSSUI/Icon","VSS/Core/Observable","VSSUI/Observer","VSSUI/SplitButton","VSS/Platform/Layout","VSSUI/Button","VSSUI/Clipboard","VSSUI/FormItem","VSSUI/MessageCard","VSSUI/Spinner","VSSUI/TextField","VSSUI/Util","VSSUI/Utilities/ScreenSize","VSS/Platform/UserClaims","Repos/Common/Util/File","VSS/Platform/Components/Format","VSSUI/Checkbox","VSSUI/Dropdown","VSSUI/List","VSSUI/Panel","Repos/Messages/Components/ReposMessages","Tfs/Platform/Page","VSS/Platform/FPS","VSSUI/Card","VSSUI/Header","VSSUI/Page","VSSUI/Surface","VSSUI/Image","VSSUI/ProgressBar","VSS/Features/PlatformUI/FPSLink","VSS/Platform/Components/Performance","VSS/Platform/Location","VSSUI/ZeroData"],(function(e,t,o,r,s,a,i,n,l,c,m,p,d,u,h,g,C,v,y,S,f,I,b,R,w,E,P,x,N,F,V,T,L,k,U,j,D,G,A,M,O,q,z,H,B){var _,W,$,Y,K,Z,J,X,Q,ee,te,oe,re,se,ae,ie,ne,le,ce;_=t.Resources={},t.Resources.AddAnItem="Add a {0}: ",t.Resources.AddReadMe="Add a README",t.Resources.AliasMessage="Secondary username must contain only letters and numbers.",t.Resources.Cancel="Cancel",t.Resources.CloneIn="Clone in {0}",t.Resources.CloneLabel="Clone URL *",t.Resources.ClonePanelTitle="Clone Repository",t.Resources.CloneToComputer="Clone to your computer",t.Resources.CommandLineLabel="Command line",t.Resources.CommentGitIgnore=".gitignore ({0}) files",t.Resources.CommentReadMe="Added {0}",t.Resources.CopyCloneToClipboard="Copy clone URL to clipboard",t.Resources.CopyPasswordToClipboard="Copy the password now. We don't store it and you won't be able to see it again. {0}",t.Resources.CopyPushToClipboard="Copy push commands to clipboard",t.Resources.CopyTokenToClipboard="Copy PAT token to clipboard",t.Resources.CopyUsernameToClipboard="Copy PAT username to clipboard",t.Resources.Create="Create",t.Resources.CreateRepository="Create a repository",t.Resources.CreatingRepository="Repository creation in progress ...",t.Resources.DaysLabel="Days *",t.Resources.Documentation="Documentation",t.Resources.Eg="e.g. {0}",t.Resources.GettingStartedTitle="{0} is empty. Add some code!",t.Resources.GenerateCredentials="Generate Git Credentials",t.Resources.GeneratingCredentials="Processing credential update ...",t.Resources.GitImportFailed="Clone URL is incorrect.<br />Clone URL requires authorization.<br />Clone URL points to an empty repository.",t.Resources.HavingProblems="Having problems authenticating in Git? Be sure to get the latest version {0} or our plugins for {1}, {2}, {3} or {4}.",t.Resources.IDELabel="IDE",t.Resources.Import="Import",t.Resources.ImportFailed="Import request cannot be processed due to one of the following reasons:",t.Resources.ImportFailedContent="Oops! Your import of {0} repository failed due to {1}.",t.Resources.ImportFailedFooter="Click Cancel to go back to the repository overview.",t.Resources.ImportFailedHeader="Import failed",t.Resources.ImportFromGit="Import a Git repository",t.Resources.ImportFromTFVC="Import from TFVC",t.Resources.ImportInProgressContent="Importing {0}",t.Resources.ImportInProgressFooter="We'll send you a notification when it's ready. For now, you can work on some other project or just take a moment to sit back, relax and enjoy your day.",t.Resources.ImportInProgressHeader="On its way!",t.Resources.ImportRepository="Import a repository",t.Resources.ImportStarting="Your import is starting ...",t.Resources.ImportSucceededContent="Congratulations! Your {0} repository has been successfully imported.",t.Resources.ImportSucceededFooter="If you are not automatically redirected to your repository page {0}.",t.Resources.ImportSucceededHeader="Import Successful!",t.Resources.ImportSucceededLink="Click here to navigate to code view",t.Resources.Initialize="Initialize",t.Resources.InitializeRepository="Initialize {0} branch with a README or gitignore",t.Resources.InitializeWithDefaultBranch="Your repository will be initialized with a {0} branch.",t.Resources.LearnAboutSSH="Learn more about SSH",t.Resources.LearnMore="Learn more",t.Resources.LearnMoreError="Learn more about this error",t.Resources.ManageSSHKeys="Manage SSH Keys",t.Resources.MigrateHistoryLabel="Migrate History",t.Resources.NameLabel="Name *",t.Resources.NameYourRepo="Name your new Git repository.",t.Resources.None="None",t.Resources.Or="OR",t.Resources.PasswordLabel="Password",t.Resources.PasswordPATLabel="Password / PAT *",t.Resources.PasswordRequirement="Passwords must be 8 - 32 characters long and contain at least 3 of the following: uppercase letters, lowercase letters, numbers and symbols.",t.Resources.PasswordsDontMatch="Passwords do not match",t.Resources.PathLabel="Path *",t.Resources.ProcessingRequest="Processing request",t.Resources.PushFromCommandLine="Push an existing repository from command line",t.Resources.RepoNameAriaLabel="Repository name required",t.Resources.RepoNameLabel="Repository name *",t.Resources.RepoNamePlaceholder="Enter a name for your Git repository",t.Resources.RepoTypeLabel="Repository type",t.Resources.RequiresAuthLabel="Requires Authentication",t.Resources.RepositoryDisabled="Repository is disabled",t.Resources.RepositoryDisabledSecondaryText="This repository has been disabled. Please, contact your project administrator to re-enable it.",t.Resources.RepositoryDisabledTitleFormat='Repository "{0}" is disabled',t.Resources.RepositoryNotFound="Repository not found",t.Resources.RepositoryNotFoundNavigateText="Switch to the default {0} repository",t.Resources.RepositoryNotFoundSecondaryText="It is possible the repository did exist at one point, but your project administrator renamed or deleted it. Please ensure that the repository exists and that you have access.",t.Resources.RepositoryNotFoundTitleFormat='Repository "{0}" not found',t.Resources.Retry="Retry",t.Resources.TFVCImport="Migrating from TFVC to Git can be disruptive. Before starting the import, we suggest reading our {0}.",t.Resources.TFVCImportFailed="There is no item in the given path which can be imported.",t.Resources.TFVCReminder="Reminder: Visual Studio users will need Visual Studio 2015 Update 1 or later to view TFVC and Git repositories in team projects that include both types.",t.Resources.TokenDescription="Git: {0} on the website.",t.Resources.UsernameLabel="Username",function(e){W=t.RestClientGit={};class s extends r.RestClientBase{constructor(e){super(e)}async validateRemoteRepository(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/git/import/ImportRepositoryValidations",routeValues:{project:t},body:e})}async createImportRequest(e,t,o){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/git/repositories/{repositoryId}/importRequests/{importRequestId}",routeValues:{project:t,repositoryId:o},body:e})}async getImportRequest(e,t,o){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/git/repositories/{repositoryId}/importRequests/{importRequestId}",routeValues:{project:e,repositoryId:t,importRequestId:o}})}async updateImportRequest(e,t,o,r){return this.beginRequest({apiVersion:"5.0-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/git/repositories/{repositoryId}/importRequests/{importRequestId}",routeValues:{project:t,repositoryId:o,importRequestId:r},body:e})}async createPush(e,t,o){return this.beginRequest({apiVersion:"5.0-preview.2",method:"POST",routeTemplate:"{project}/_apis/git/repositories/{repositoryId}/pushes/{pushId}",routeValues:{project:o,repositoryId:t},body:e})}async createRepository(e,t,o){const r={sourceRef:o};return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/git/Repositories/{repositoryId}",routeValues:{project:t},queryParams:r,body:e})}async getTemplateList(e,t){const o={type:t};return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/git/templates",routeValues:{project:e},queryParams:o})}}t.RestClientGit.GitClientName="Repos.Import.Git.IGitRestClient",t.RestClientGit.getGitClient=function(e,o){return e.getRestClient(t.RestClientGit.GitClientName,o)},o.RestClients.add(t.RestClientGit.GitClientName,{factory:s,options:{resourceAreaId:"4e080c62-fa21-4fbc-8fef-2a10a2b38049",serviceInstanceType:"00025394-6065-48ca-87d9-7f5672854ef7"}})}(),function(e){$=t[e]={};class s extends r.RestClientBase{constructor(e){super(e)}async createServiceEndpoint(e,t){return this.beginRequest({apiVersion:"5.0-preview.2",method:"POST",routeTemplate:"{project}/_apis/serviceendpoint/endpoints/{endpointId}",routeValues:{project:t},body:e})}}t[e].ServiceEndpointClientName="Repos.Import.ServiceEndpoint.IServiceEndpointRestClient",t[e].getServiceEndpointClient=function(o,r){return o.getRestClient(t[e].ServiceEndpointClientName,r)},o.RestClients.add(t[e].ServiceEndpointClientName,{factory:s,options:{resourceAreaId:"1814ab31-2f4f-4a9f-8761-f4d77dc5a5d7",serviceInstanceType:"00025394-6065-48ca-87d9-7f5672854ef7"}})}("RestClientServiceEndpoint"),function(e){function o(e){const t=document.createElement("document");t.innerHTML=e.responseText.replace("<pre>","<span>").replace("</pre>","</span>");const o=t.querySelector("#errorMessage");throw o?s.createElement("div",{dangerouslySetInnerHTML:{__html:o.innerHTML}}):s.createElement("span",null,e.message)}Y=t.Api={},t.Api.generateCredential=async function(e,t){try{const o=e.getService("IVssLocationService").routeUrl("ms.vss-tfs-web.user-settings-tokens-route",{action:"Edit"}),r={AccountMode:"SelectedAccounts",AuthorizationId:"",Description:t.description,ScopeMode:"SelectedScopes",SelectedAccounts:t.hostId,SelectedExpiration:"30",SelectedScopes:"vso.code_write"},s=await(0,l.issueRequest)(o,{body:JSON.stringify(r),headers:{"Content-Type":"application/json"},method:"POST"}),a=await s.text();return(0,c.deserializeVssJsonObject)(a)}catch(e){throw o(e)}},t.Api.importRepository=async function(e,t){const o=(0,$.getServiceEndpointClient)(e),r=(0,W.getGitClient)(e);try{const e=t.git?{overwrite:!1,url:t.git.cloneUrl}:{importHistory:t.tfvc.migrateDays>0,importHistoryDurationInDays:t.tfvc.migrateDays,path:t.tfvc.path};let s;const a=t.git?{gitSource:e,password:t.git.authPassword||null,username:t.git.authUsername||null}:{tfvcSource:e};await r.validateRemoteRepository(a,t.projectName),t.createRepository&&await r.createRepository({name:t.repositoryName,project:{id:t.projectId,name:t.projectName}},t.projectName),t.git&&(t.git.authUsername||t.git.authPassword)&&(s=await o.createServiceEndpoint({authorization:{parameters:{password:t.git.authPassword||null,username:t.git.authUsername||null},scheme:"UsernamePassword"},name:Math.random().toString(36).substring(7),type:"git",url:t.git.cloneUrl},t.projectId));return await r.createImportRequest({parameters:{deleteServiceEndpointAfterImportIsDone:!0,gitSource:t.git?e:null,tfvcSource:t.git?null:e,serviceEndpointId:s&&s.id}},t.projectId,t.repositoryName)}catch(e){throw e.toString().indexOf("404")>=0?s.createElement(n.FormatComponent,{elementType:"div",format:"{0}{1}{2}{3}"},s.createElement("div",null,_.ImportFailed),s.createElement("br",null),("git"===t.type?_.GitImportFailed:_.TFVCImportFailed).split("<br />").map(((e,t)=>s.createElement("span",{key:t},e,s.createElement("br",null)))),s.createElement(p.Link,{href:"git"===t.type?"https://go.microsoft.com/fwlink/?linkid=836846":"https://go.microsoft.com/fwlink/?linkid=839462",target:"_blank"},_.LearnMoreError)):s.createElement("span",null,e.message)}},t.Api.initializeRepository=async function(e,t){if("git"===t.type)try{const o=(0,W.getGitClient)(e),r=[],s=[];let n=t.repository;if(t.createRepository&&(n=await o.createRepository({name:t.repositoryName,project:{id:t.projectId,name:t.projectName}},t.projectName)),t.readme&&(s.push((0,i.format)(_.CommentReadMe,"README.md")),r.push({changeType:1,item:{path:"/README.md"},newContentTemplate:{name:"README.md",type:"readme"}})),t.application&&(s.push((0,i.format)(_.CommentGitIgnore,t.application.name)),r.push({changeType:1,item:{path:"/.gitignore"},newContentTemplate:{name:t.application.id,type:"gitignore"}})),r.length)try{await o.createPush({commits:[{comment:s.join(", "),changes:r}],refUpdates:[{name:(0,a.branchNameToRef)(t.defaultGitBranchName||"main"),oldObjectId:"0000000000000000000000000000000000000000"}],repository:t.repository},n.id,t.projectName)}catch(o){if(!t.createRepository)throw o;e.getService("IReposMessagesService").showMessage({renderMessage:()=>o.message,severity:"Error"},!0)}return{repository:n}}catch(e){throw s.createElement("span",null,e.message)}else try{const o=document.querySelector("input[name=__RequestVerificationToken]"),r=e.getService("IVssPageService").getData().hostPath||"",s=(0,m.combineUrlPaths)(encodeURI(r),`${t.projectId}/_api/_versioncontrol/createProjectFolder?__v=5`);return await(0,l.issueRequest)(s,{body:`projectUri=vstfs:///Classification/TeamProject/${t.projectId}&__RequestVerificationToken=${encodeURIComponent(o?o.value:"")}`,headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST"}),{repository:{webUrl:(0,m.combineUrlPaths)(encodeURI(r),`${encodeURIComponent(t.projectName)}/_versionControl`)}}}catch(e){throw o(e)}}}(),K=t[ce="ComponentsCloneCloneNotice"]={},t[ce].CloneNotice=function(){return s.createElement("div",{className:"flex-row flex-center margin-bottom-4 body-s"},s.createElement(d.Icon,{className:"icon-margin",iconName:"Info"}),s.createElement("div",{className:"secondary-text"},s.createElement(n.FormatComponent,{format:_.HavingProblems},s.createElement(p.Link,{className:"white-space-nowrap",href:"https://go.microsoft.com/fwlink/?LinkID=278817&clcid=0x409",target:"_blank"},"Git for Windows"),s.createElement(p.Link,{className:"white-space-nowrap",href:"https://go.microsoft.com/fwlink/?LinkID=723021",target:"_blank"},"IntelliJ"),s.createElement(p.Link,{className:"white-space-nowrap",href:"https://go.microsoft.com/fwlink/?LinkID=723023",target:"_blank"},"Eclipse"),s.createElement(p.Link,{className:"white-space-nowrap",href:"https://go.microsoft.com/fwlink/?LinkId=723132",target:"_blank"},"Android Studio"),s.createElement(p.Link,{className:"white-space-nowrap",href:"https://go.microsoft.com/fwlink/?LinkID=723024",target:"_blank"},"Windows command line"))))},function(e){t.ProtocolHandler={};class r extends o.VssService{constructor(){super(...arguments),this.protocolHandlers=new u.ObservableArray}_serviceStart(e){super._serviceStart(e);this.pageContext.getService("IVssContributionService").getDataAsync("ms.vss-code-web.protocol-handler-data-provider2").then((e=>{e&&this.protocolHandlers.push(...e)}))}getHandlers(){return this.protocolHandlers}}o.Services.add("IGitProtocolHandlerService",{serviceFactory:r})}(),function(e){Z=t[e]={};class o extends C.VssComponent{constructor(e,t){super(e,t),this.cloneMenuItems=new u.ObservableArray,this.selectedApplication=new u.ObservableValue(void 0),navigator.platform.indexOf("Win")>-1?this.supportedOS="Win":navigator.userAgent.indexOf("Mac OS X")>-1?this.supportedOS="Mac":this.supportedOS="Linux";const o=t.pageContext.getService("IGitProtocolHandlerService");this.protocolHandlers=o.getHandlers(),this.processHandlers(this.protocolHandlers.value)}render(){return s.createElement(h.Observer,{protocolHandlers:{observableValue:this.protocolHandlers,filter:e=>this.processHandlers(e.addedItems)},selectedApplication:this.selectedApplication},(e=>e.selectedApplication?s.createElement(s.Fragment,null,this.props.label?s.createElement("span",{className:this.props.labelClassName},this.props.label):null,s.createElement("div",{className:"clone-with-application flex-row"},s.createElement(g.SplitButton,{buttonProps:{onClick:()=>window.open(this.selectedApplication.value.protocolHandlerUrl,"_blank"),iconProps:{iconName:"CloneToDesktop"},text:(0,i.format)(_.CloneIn,e.selectedApplication.name)},menuButtonProps:{contextualMenuProps:{menuProps:{id:"clone-button",items:this.cloneMenuItems,onActivate:e=>{this.selectedApplication.value=e.data}}}}}))):null))}processHandlers(e){const t=[];e.forEach((e=>{(void 0===this.selectedApplication.value||"VS Code"===e.name)&&(this.selectedApplication.value=e),e.supportedPlatforms.indexOf(this.supportedOS)>=0&&t.push({data:e,href:e.protocolHandlerUrl,id:e.name,target:"_blank",text:e.name})})),this.cloneMenuItems.push(...t)}}t[e].CloneWithApplication=o}("ComponentsCloneCloneWithApplication"),function(e){J=t[e]={};new RegExp(/^[A-Za-z0-9]+$/);class o extends C.VssComponent{constructor(e,t){super(e,t),this.altPassword=new u.ObservableValue(void 0),this.altUsername=new u.ObservableValue(void 0),this.generateInProgress=new u.ObservableValue(!1),this.messageGenerateFailure=new u.ObservableValue(void 0),this.showCredentialForm=new u.ObservableValue(!1),this.onGenerateCredential=()=>{(0,Y.generateCredential)(this.context.pageContext,{description:(0,i.format)(_.TokenDescription,window.location.origin+this.homePageUrl),hostId:this.hostId}).then((e=>{e&&(this.altPassword.value=e.Token,this.altUsername.value=this.emailName,this.showCredentialForm.value=!0),this.generateInProgress.value=!1}),(e=>{this.messageGenerateFailure.value=e,this.generateInProgress.value=!1})),this.generateInProgress.value=!0};const o=t.pageContext.getService("IVCViewModelDataProviderService").getViewModel();this.httpClone=o.cloneUrl,this.sshClone=o.sshUrl;const r=t.pageContext.getService("IVssPageService").getData();if(r){if(this.hostId=r.hostId,r.user){const e=r.user.uniqueName;e&&(this.emailName=e.substring(0,e.lastIndexOf("@")))}this.supportsGenerate=r.isHosted&&(0,E.userHasClaim)(t.pageContext,"member")}const s=t.pageContext.getService("IVssLocationService");this.homePageUrl=s.routeUrl("ms.vss-tfs-web.suite-me-page-route"),this.manageKeysUrl=s.routeUrl("ms.vss-tfs-web.user-settings-keys-default-route"),this.tokenUrl=s.routeUrl("ms.vss-tfs-web.user-settings-tokens-route")}render(){return s.createElement(h.Observer,{failureMessage:this.messageGenerateFailure,generateInProgress:this.generateInProgress,protocol:this.props.protocol,showCredentialForm:this.showCredentialForm},(e=>s.createElement("div",{className:(0,R.css)(this.props.className,"clone-with-credential rhythm-vertical-16")},s.createElement(w.ScreenSizeObserver,null,(t=>s.createElement("div",{className:(0,R.css)(0===t.screenSize?"flex-column":"flex-row flex-wrap")},s.createElement("div",{className:(0,R.css)("clone-protocol-buttons flex-row flex-center",0===t.screenSize?"margin-bottom-4":"margin-right-4")},this.httpClone?s.createElement(v.Button,{onClick:()=>this.props.protocol.value=0,primary:0===e.protocol,text:"HTTPS"}):null,this.sshClone?s.createElement(v.Button,{onClick:()=>this.props.protocol.value=1,primary:1===e.protocol,text:"SSH"}):null),s.createElement("div",{className:"flex-row flex-center flex-grow"},s.createElement(b.TextField,{autoSelect:!0,containerClassName:"clone-url flex-grow",ariaLabelledBy:this.props.ariaLabelledBy,readOnly:!0,spellCheck:!1,value:0===e.protocol?this.httpClone:this.sshClone}),s.createElement(y.ClipboardButton,{className:"margin-left-4",getContent:()=>(0===e.protocol?this.httpClone:this.sshClone)||"",showCopiedTooltip:!0,tooltipProps:{text:_.CopyCloneToClipboard}}))))),0===e.protocol&&this.supportsGenerate?e.failureMessage?s.createElement(f.MessageCard,{onDismiss:()=>this.messageGenerateFailure.value=void 0,severity:"Error"},s.createElement("div",{className:"flex-column body-xs"},e.failureMessage)):e.generateInProgress?s.createElement(I.Spinner,{label:_.GeneratingCredentials,orientation:0,size:"large"}):e.showCredentialForm&&this.altPassword.value&&this.altUsername.value?s.createElement("div",{className:"rhythm-vertical-16"},s.createElement(S.FormItem,{label:_.UsernameLabel},s.createElement("div",{className:"flex-row flex-grow flex-center"},s.createElement(b.TextField,{autoSelect:!0,containerClassName:"flex-grow",readOnly:!0,spellCheck:!1,value:this.altUsername}),s.createElement(y.ClipboardButton,{className:"margin-left-4",getContent:()=>this.altUsername.value||"",showCopiedTooltip:!0,tooltipProps:{text:_.CopyUsernameToClipboard}}))),s.createElement(S.FormItem,{label:_.PasswordLabel},s.createElement("div",{className:"flex-row flex-grow flex-center"},s.createElement(b.TextField,{autoSelect:!0,containerClassName:"flex-grow",readOnly:!0,spellCheck:!1,value:this.altPassword}),s.createElement(y.ClipboardButton,{className:"margin-left-4",getContent:()=>this.altPassword.value||"",showCopiedTooltip:!0,tooltipProps:{text:_.CopyTokenToClipboard}})),s.createElement(f.MessageCard,{className:"margin-top-8",severity:"Warning"},s.createElement("span",{className:"body-xs"},s.createElement(n.FormatComponent,{format:_.CopyPasswordToClipboard},s.createElement(p.Link,{href:this.tokenUrl,target:"_blank"},_.LearnMore)))))):this.supportsGenerate?s.createElement(v.Button,{onClick:this.onGenerateCredential,text:_.GenerateCredentials}):null:s.createElement("div",{className:"flex-row flex-center"},s.createElement(p.Link,{className:"inline-flex-row flex-center",href:this.manageKeysUrl},s.createElement(d.Icon,{className:"icon-margin",iconName:"LaptopSecure"}),_.ManageSSHKeys),s.createElement("span",{className:"margin-horizontal-4"},"|"),s.createElement(p.Link,{href:"https://go.microsoft.com/fwlink/?LinkID=715524",target:"_blank"},_.LearnAboutSSH)))))}}t[e].CloneWithCredential=o}("ComponentsCloneCloneWithCredential"),X=t.Clone={},Object.defineProperty(t.Clone,"CloneNotice",{enumerable:!0,get:function(){return K.CloneNotice}}),Object.defineProperty(t.Clone,"CloneWithApplication",{enumerable:!0,get:function(){return Z.CloneWithApplication}}),Object.defineProperty(t.Clone,"CloneWithCredential",{enumerable:!0,get:function(){return J.CloneWithCredential}}),function(e){Q=t[e]={};class o extends C.VssComponent{constructor(e){super(e),this.providerSelection=new V.ListSelection({selectedRanges:[{beginIndex:0,endIndex:0}],selectOnFocus:!1}),this.onImport=()=>{const e=this.state.authRequired,t=this.providerSelection.value[0].beginIndex,o=(0,Y.importRepository)(this.context.pageContext,{createRepository:!this.props.repositoryName,git:0===t?{cloneUrl:this.state.srcLocation,authPassword:e?this.state.authPassword:void 0,authUsername:e?this.state.authUsername:void 0}:void 0,projectId:this.props.projectId,projectName:this.props.projectName,repositoryName:this.state.repositoryName,tfvc:1===t?{path:this.state.srcLocation,migrateDays:this.state.migrateHistory?parseInt(this.state.migrateDays||"30",10):0}:void 0,type:0===t?"git":"tfvc"});o.catch((e=>{this.setState({importStarted:!1,messageFailure:e})})),this.props.onImport&&this.props.onImport(o),this.setState({importStarted:!0})},this.state={authRequired:!1,migrateDays:"30",migrateHistory:!1,repositoryName:e.repositoryName}}render(){return s.createElement(h.Observer,{providerSelection:{observableValue:this.providerSelection,filter:()=>{this.setState({authPassword:void 0,authRequired:!1,authUsername:void 0,messageFailure:void 0,migrateDays:"30",migrateHistory:!1,repositoryName:this.props.repositoryName,srcLocation:void 0})}}},(()=>{const{authPassword:e,authRequired:t,authUsername:o,migrateDays:r,migrateHistory:a,repositoryName:n,srcLocation:l,userModifiedRepoName:c}=this.state,m=0===this.providerSelection.value[0].beginIndex?"git":"tfvc";let d=!0;return n&&("git"===m?!l||t&&!e||(d=!1):!l||a&&!r||(d=!1)),s.createElement(T.Panel,{defaultActiveElement:".repository-name",footerButtonProps:[{text:_.Cancel,onClick:()=>this.props.onDismiss()},{disabled:d,primary:!0,onClick:this.onImport,text:_.Import}],lightDismiss:!1,onDismiss:this.props.onDismiss,overlayContent:this.state.importStarted?s.createElement(I.Spinner,{label:_.ImportStarting,size:"large"}):null,titleProps:{text:"git"===m?_.ImportFromGit:_.ImportFromTFVC}},s.createElement("div",{className:"flex-grow rhythm-vertical-16"},this.state.messageFailure?s.createElement(f.MessageCard,{onDismiss:()=>this.setState({messageFailure:void 0}),severity:"Error"},s.createElement("div",{className:"flex-column font-size-ms"},this.state.messageFailure)):null,s.createElement(S.FormItem,{label:_.RepoTypeLabel},s.createElement(F.Dropdown,{className:"repository-type",items:[{iconProps:{iconName:"GitLogo"},id:"git",text:"Git"},{iconProps:{iconName:"TFVCLogo"},id:"tfvc",text:"TFVC"}],selection:this.providerSelection}),"tfvc"===m?s.createElement(f.MessageCard,{className:"margin-top-8",severity:"Info"},s.createElement(x.FormatComponent,{format:_.TFVCImport},s.createElement(p.Link,{href:"https://docs.microsoft.com/en-us/devops/develop/git/migrate-from-tfvc-to-git",target:"_blank"},_.Documentation))):null),s.createElement(S.FormItem,{label:"git"===m?_.CloneLabel:_.PathLabel},s.createElement(b.TextField,{inputClassName:"repository-name",onChange:(e,t)=>{if(this.setState({srcLocation:t}),!this.props.repositoryName){let e=this.state.repositoryName;c||(e=(0,P.getFileName)(t)),this.setState({repositoryName:e})}},placeholder:(0,i.format)(_.Eg,"git"===m?"https://github.com/Microsoft/vscode.git":"$/Contoso/HelloWorld"),spellCheck:!1,value:l}),"git"===m?s.createElement(N.Checkbox,{checked:t,className:"margin-top-8",label:_.RequiresAuthLabel,onChange:(e,t)=>this.setState({authRequired:t})}):s.createElement(N.Checkbox,{checked:a,className:"margin-top-8",label:_.MigrateHistoryLabel,onChange:(e,t)=>this.setState({migrateHistory:t})})),"git"===m&&t?s.createElement(s.Fragment,null,s.createElement(S.FormItem,{label:_.UsernameLabel},s.createElement(b.TextField,{onChange:(e,t)=>this.setState({authUsername:t}),spellCheck:!1,value:o})),s.createElement(S.FormItem,{label:_.PasswordPATLabel},s.createElement(b.TextField,{onChange:(e,t)=>this.setState({authPassword:t}),spellCheck:!1,inputType:"password",value:e}))):null,"tfvc"===m&&a?s.createElement(S.FormItem,{label:_.DaysLabel},s.createElement(b.TextField,{onChange:(e,t)=>{const o=parseInt(t,10);""!==t&&o.toString()!==t||this.setState({migrateDays:t})},spellCheck:!1,value:r.toString()})):null,this.props.repositoryName?null:s.createElement(S.FormItem,{label:_.NameLabel},s.createElement(b.TextField,{onChange:(e,t)=>this.setState({repositoryName:t,userModifiedRepoName:!0}),placeholder:_.NameYourRepo,spellCheck:!1,value:n}))))}))}}t[e].PanelImport=o,C.Components.add("ms.vss-code-web.panel-import",o)}("ComponentsPanelImportPanelImport"),ee=t.PanelImport={},Object.defineProperty(t.PanelImport,"PanelImport",{enumerable:!0,get:function(){return Q.PanelImport}}),function(e){te=t.ComponentsPushPush={};const o="git remote add origin {0}{1}git push -u origin --all";class r extends C.VssComponent{constructor(e,t){super(e,t);const r=t.pageContext.getService("IVCViewModelDataProviderService").getViewModel();this.httpPush=r.cloneUrl?(0,i.format)(o,r.cloneUrl,String.fromCharCode(10)):void 0,this.sshPush=r.sshUrl?(0,i.format)(o,r.sshUrl,String.fromCharCode(10)):void 0}render(){return s.createElement(h.Observer,{protocol:this.props.protocol},(e=>s.createElement("div",{className:(0,R.css)(this.props.className,"push margin-vertical-4")},s.createElement("div",{className:"margin-bottom-4"},this.httpPush?s.createElement(v.Button,{onClick:()=>this.props.protocol.value=0,primary:0===e.protocol,text:"HTTPS"}):null,this.sshPush?s.createElement(v.Button,{onClick:()=>this.props.protocol.value=1,primary:1===e.protocol,text:"SSH"}):null),s.createElement("div",{className:"flex-row"},s.createElement("div",{className:"flex-grow"},s.createElement(b.TextField,{ariaLabelledBy:this.props.ariaLabelledBy,multiline:!0,readOnly:!0,rows:2,spellCheck:!1,value:0===e.protocol?this.httpPush:this.sshPush}))," ",s.createElement(y.ClipboardButton,{getContent:()=>(0===e.protocol?this.httpPush:this.sshPush)||"",showCopiedTooltip:!0,tooltipProps:{text:_.CopyPushToClipboard}})))))}}t.ComponentsPushPush.Push=r}(),oe=t.Push={},Object.defineProperty(t.Push,"Push",{enumerable:!0,get:function(){return te.Push}}),function(e){re=t[e]={};class o extends C.VssComponent{constructor(e,t){super(e,t),this.messageInitializeFailure=new u.ObservableValue(void 0),this.readme=new u.ObservableValue(!0),this.showImport=new u.ObservableValue(!1),this.onImport=e=>{e.then((e=>{this.props.importRequest.value=e,this.showImport.value=!1}),R.noop)},this.onInitialize=()=>{const e=this.initializeSelection.value[0].beginIndex,t=this.initializeItems.value[e];(0,Y.initializeRepository)(this.context.pageContext,{application:"none"!==t.id?{id:t.id,name:t.text}:void 0,createRepository:!1,defaultGitBranchName:this.defaultGitBranchName,projectId:this.projectId,projectName:this.projectName,readme:this.readme.value,repository:this.repository,repositoryName:this.repository.name,type:"git"}).then((()=>(0,U.FastPageSwitch)(this.context.pageContext,window.location.href,!1))).catch((e=>this.messageInitializeFailure.value=e))};const o=t.pageContext.getService("IVCViewModelDataProviderService").getViewModel();if(!o.gitRepository)throw new Error("");this.repository=o.gitRepository;const r=this.context.pageContext.getService("IProjectRepositoryInformationService").getData();this.defaultGitBranchName=null==r?void 0:r.defaultGitBranchName,this.protocol=new u.ObservableValue(o.cloneUrl?0:1),this.initializeItems=new u.ObservableArray([{id:"none",text:_.None}]),this.initializeSelection=new V.ListSelection({selectedRanges:[{beginIndex:0,endIndex:0}],selectOnFocus:!1});const s=(0,k.getTFSProject)(t.pageContext);if(s&&(this.projectId=s.id,this.projectName=s.name,(0,E.userHasClaim)(this.context.pageContext,"member"))){(0,W.getGitClient)(t.pageContext).getTemplateList(s.name,"gitignore").then((e=>{this.initializeItems.push(...e.map((e=>({id:e.name,text:e.name.split(".",1)[0]}))))}))}}render(){const e="clone-title",t="push-title";return s.createElement(A.Surface,{background:1},s.createElement(G.Page,{className:"repo-getting-started-page flex-grow custom-scrollbar scroll-auto-hide"},s.createElement(L.ReposMessages,null),s.createElement(D.Header,{title:(0,i.format)(_.GettingStartedTitle,this.repository.name),titleSize:1}),s.createElement("div",{className:"page-content page-content-top rhythm-vertical-16"},s.createElement(j.Card,{titleProps:{className:"font-weight-semibold",text:_.CloneToComputer,id:e}},s.createElement("div",{className:"rhythm-vertical-16 margin-vertical-4"},s.createElement("div",{className:"flex-row flex-start"},s.createElement(X.CloneWithCredential,{className:"fixed-width-element",protocol:this.protocol,ariaLabelledBy:e}),s.createElement("div",{className:"flex-row flex-center flex-noshrink"},s.createElement(X.CloneWithApplication,{label:_.Or,labelClassName:"body-xl font-weight-semibold margin-horizontal-16"}))),s.createElement(X.CloneNotice,null))),s.createElement(j.Card,{titleProps:{className:"font-weight-semibold",text:_.PushFromCommandLine,id:t}},s.createElement(oe.Push,{className:"fixed-width-element",protocol:this.protocol,ariaLabelledBy:t})),(0,E.userHasClaim)(this.context.pageContext,"member")&&s.createElement(s.Fragment,null,s.createElement(j.Card,{titleProps:{className:"font-weight-semibold",text:_.ImportRepository}},s.createElement(h.Observer,{showImport:this.showImport},(e=>s.createElement("div",{className:"margin-vertical-4"},s.createElement(v.Button,{text:_.Import,onClick:()=>this.showImport.value=!0}),e.showImport?s.createElement(ee.PanelImport,{onDismiss:()=>this.showImport.value=!1,onImport:this.onImport,projectId:this.projectId,projectName:this.projectName,repositoryName:this.repository.name}):null)))),s.createElement(j.Card,{className:"bolt-card-with-header",renderHeader:()=>s.createElement(D.Header,{className:"font-weight-semibold",title:s.createElement(x.FormatComponent,{format:_.InitializeRepository},s.createElement("span",{className:"flex-self-center monospaced-text"},s.createElement(d.Icon,{iconName:"OpenSource"}),this.defaultGitBranchName))})},s.createElement(h.Observer,{failureMessageInitialize:this.messageInitializeFailure,initializeSelection:this.initializeSelection,readme:this.readme},(e=>e.failureMessageInitialize?s.createElement(f.MessageCard,{onDismiss:()=>this.messageInitializeFailure.value=void 0,severity:"Error"},s.createElement("div",{className:"flex-column body-s"},e.failureMessageInitialize)):s.createElement("div",{className:"flex-row rhythm-horizontal-16 margin-vertical-4"},s.createElement(N.Checkbox,{checked:e.readme,label:_.AddReadMe,onChange:(e,t)=>this.readme.value=t}),s.createElement(F.Dropdown,{items:this.initializeItems,renderExpandable:e=>s.createElement(F.DropdownExpandableButton,Object.assign({},e,{renderSelectedItems:(e,t)=>{const o=t[e.value[0].beginIndex];return s.createElement(s.Fragment,null,s.createElement("span",{className:"secondary-text"},(0,i.format)(_.AddAnItem,".gitignore")),o.text)}})),selection:this.initializeSelection}),s.createElement(v.Button,{className:"initialize-button",disabled:!e.readme&&0===this.initializeSelection.value[0].beginIndex,onClick:this.onInitialize,text:_.Initialize})))))))))}}t[e].GettingStarted=o}("ComponentsGettingStartedGettingStarted"),se=t.GettingStarted={},Object.defineProperty(t.GettingStarted,"GettingStarted",{enumerable:!0,get:function(){return re.GettingStarted}}),function(e){ae=t[e]={};class o extends C.VssComponent{constructor(e,t){super(e,t),this.navigateTimeout=0,this.pollingInterval=0,this.onCancel=()=>{const e=(0,W.getGitClient)(this.context.pageContext);this.props.importRequest.status=5,e.updateImportRequest({status:5},this.projectId,this.repository.id,this.props.importRequest.importRequestId).then((()=>{(0,U.FastPageSwitch)(this.context.pageContext,this.repositoryPage,!1)}))};const{importRequest:o}=e,r=t.pageContext.getService("IVCViewModelDataProviderService").getViewModel();if(!r.gitRepository)throw new Error("");this.repository=r.gitRepository,this.helpLink=o.parameters.gitSource?"https://go.microsoft.com/fwlink/?linkid=836846":"https://go.microsoft.com/fwlink/?linkid=839462",this.importSourceUrl=o.parameters.tfvcSource&&o.parameters.tfvcSource.path||o.parameters.gitSource&&o.parameters.gitSource.url;const s=t.pageContext.getService("IVssLocationService");this.imageFailed=s.getAssetLocation("ms.vss-code-web/import-content/importFailed.png"),this.imageInProgress=s.getAssetLocation("ms.vss-code-web/import-content/importInProgress.png"),this.imageSucceeded=s.getAssetLocation("ms.vss-code-web/import-content/importSucceeded.png");const a=(0,k.getTFSProject)(t.pageContext);a&&(this.projectId=a.id,this.repositoryPage=s.routeUrl("ms.vss-code-web.files-route-git",{project:a.name,"vc.GitRepositoryName":this.repository.name})),this.errorMessage=new u.ObservableValue(o.detailedStatus&&o.detailedStatus.errorMessage),this.status=new u.ObservableValue(o.status),this.stepCount=o.detailedStatus.allSteps.length,this.stepNumber=new u.ObservableValue(o.detailedStatus.currentStep)}render(){return s.createElement(h.Observer,{status:this.status,stepCount:this.stepCount,stepNumber:this.stepNumber},(e=>(3!==e.status||this.navigateTimeout||(this.navigateTimeout=window.setTimeout((()=>{this.navigateTimeout=0,(0,U.FastPageSwitch)(this.context.pageContext,this.repositoryPage,!1)}),5e3)),s.createElement(G.Page,{className:"repo-import-page flex-grow"},s.createElement("div",{className:"repo-import-container flex-column flex-center rhythm-vertical-16 text-center"},3===e.status?s.createElement(s.Fragment,null,s.createElement(D.Header,{title:_.ImportSucceededHeader,titleSize:1}),s.createElement(M.Image,{className:"repo-import-image-succeeded",src:this.imageSucceeded}),s.createElement("span",null,(0,i.format)(_.ImportSucceededContent,this.importSourceUrl)),s.createElement(x.FormatComponent,{format:_.ImportSucceededFooter},s.createElement(q.FPSLink,{href:this.repositoryPage},_.ImportSucceededLink))):1===e.status||2===e.status?s.createElement(s.Fragment,null,s.createElement(D.Header,{title:_.ImportInProgressHeader,titleSize:1}),s.createElement(M.Image,{className:"repo-import-image-inprogress",src:this.imageInProgress}),s.createElement(O.ProgressBar,{className:"flex-self-stretch",currentValue:e.stepNumber,maxValue:e.stepCount}),s.createElement(I.Spinner,{className:"font-size-ms",label:_.ProcessingRequest,orientation:0}),s.createElement("span",null,(0,i.format)(_.ImportInProgressContent,this.importSourceUrl)),s.createElement("span",null,_.ImportInProgressFooter)):4===e.status?s.createElement(s.Fragment,null,s.createElement(D.Header,{title:_.ImportFailedHeader,titleSize:1}),s.createElement(M.Image,{className:"repo-import-image-succeeded",src:this.imageFailed}),s.createElement("span",null,(0,i.format)(_.ImportFailedContent,this.importSourceUrl,this.errorMessage.value)),s.createElement(p.Link,{href:this.helpLink,target:"_blank"},_.LearnMoreError),s.createElement(v.Button,{onClick:this.onCancel,text:_.Cancel,tooltipProps:{text:_.ImportFailedFooter}})):null)))))}componentDidMount(){super.componentDidMount();const e=this.context.pageContext;this.pollingInterval=window.setInterval((()=>{(0,W.getGitClient)(e).getImportRequest(this.projectId,this.repository.id,this.props.importRequest.importRequestId).then((e=>{this.errorMessage.value=e.detailedStatus.errorMessage,this.status.value=e.status,this.stepNumber.value=e.detailedStatus.currentStep}))}),1e4)}componentWillUnmount(){super.componentWillUnmount(),this.navigateTimeout&&window.clearTimeout(this.navigateTimeout),this.pollingInterval&&window.clearInterval(this.pollingInterval)}}t[e].ImportProgress=o}("ComponentsImportProgressImportProgress"),ie=t.ImportProgress={},Object.defineProperty(t.ImportProgress,"ImportProgress",{enumerable:!0,get:function(){return ae.ImportProgress}}),function(e){t.ComponentsEmptyRepoViewEmptyRepoView={};class o extends C.VssComponent{constructor(e,t){super(e,t),this.importRequest=new u.ObservableValue(void 0);const o=t.pageContext.getService("IVCViewModelDataProviderService").getViewModel();this.notFoundRepoName=o.notFoundRepoName,this.disabledRepoName=o.disabledRepoName,o.activeImportRequest&&(this.importRequest.value=o.activeImportRequest)}render(){return s.createElement(z.PerformanceScenario,{area:"repos",scenarioName:this.importRequest.value?"repos-import-repository":"repos-getting-started",tti:!0},s.createElement(h.Observer,{importRequest:this.importRequest},(e=>{if(this.disabledRepoName)return s.createElement(B.ZeroData,{className:"flex-grow",imagePath:(0,H.getAssetLocation)(this.context.pageContext,"ms.vss-code-web/import-content/repoDisabled.svg"),imageAltText:_.RepositoryDisabled,primaryText:(0,i.format)(_.RepositoryDisabledTitleFormat,this.disabledRepoName),secondaryText:_.RepositoryDisabledSecondaryText});if(this.notFoundRepoName){const e=this.context.pageContext.getService("IProjectRepositoryInformationService").getData();let t,o;if(e&&e.defaultGitRepoName){const r=this.context.pageContext.getService("IReposRoutingService");t=r.getSwitchRepositoryURL(e.defaultGitRepoName,(0,k.getTFSProject)(this.context.pageContext).name),o=(0,i.format)(_.RepositoryNotFoundNavigateText,e.defaultGitRepoName)}return s.createElement(B.ZeroData,{className:"flex-grow",imagePath:(0,H.getAssetLocation)(this.context.pageContext,"ms.vss-code-web/import-content/repoNotFound.svg"),imageAltText:_.RepositoryNotFound,primaryText:(0,i.format)(_.RepositoryNotFoundTitleFormat,this.notFoundRepoName),secondaryText:_.RepositoryNotFoundSecondaryText,actionType:0,actionText:o,actionHref:t,onActionClick:t?e=>(0,U.onClickFPS)(this.context.pageContext,t,!0,e):void 0})}return e.importRequest&&5!==e.importRequest.status?s.createElement(ie.ImportProgress,{importRequest:e.importRequest}):s.createElement(se.GettingStarted,{importRequest:this.importRequest})})))}}C.Components.add("ms.vss-code-web.empty-repo-view",o)}(),function(e){ne=t[e]={};class o extends C.VssComponent{constructor(e,t){super(e,t);const o=t.pageContext.getService("IVCViewModelDataProviderService").getViewModel();this.protocol=new u.ObservableValue(o.cloneUrl?0:1)}render(){return s.createElement(T.Panel,{className:"panel-clone",defaultActiveElement:".clone-with-credential input",onDismiss:this.props.onDismiss,titleProps:{text:_.ClonePanelTitle}},s.createElement("div",{className:"flex-column flex-grow rhythm-vertical-24"},s.createElement(S.FormItem,{label:_.CommandLineLabel},s.createElement("div",{className:"flex-row flex-grow flex-center"},s.createElement(X.CloneWithCredential,{className:"flex-grow",protocol:this.protocol}))),s.createElement(S.FormItem,{label:_.IDELabel},s.createElement(X.CloneWithApplication,null)),s.createElement(X.CloneNotice,null)))}}t[e].PanelClone=o,C.Components.add("ms.vss-code-web.panel-clone",o)}("ComponentsPanelClonePanelClone"),function(e){le=t[e]={};class o extends C.VssComponent{constructor(e,t){super(e,t),this.defaultGitBranchName=new u.ObservableValue(""),this.providers=[],this.providerTypes=[],this.providerSelection=new V.ListSelection({selectedRanges:[{beginIndex:0,endIndex:0}],selectOnFocus:!1}),this.onCreate=()=>{const e=this.getSelectedInitializeItem(),t=this.providerSelection.value[0].beginIndex,o=(0,Y.initializeRepository)(this.context.pageContext,{application:"none"!==e.id?{id:e.id,name:e.text}:void 0,createRepository:!0,defaultGitBranchName:this.defaultGitBranchName.value,projectId:this.props.projectId,projectName:this.props.projectName,readme:this.state.readme,repositoryName:this.state.repositoryName,type:0===t?"git":"tfvc"});o.catch((e=>{this.setState({createStarted:!1,messageFailure:e})})),this.props.onCreate&&this.props.onCreate(o),this.setState({createStarted:!0})},this.state={readme:!0},this.initializeItems=new u.ObservableArray([{id:"none",text:_.None}]),this.initializeSelection=new V.ListSelection({selectedRanges:[{beginIndex:0,endIndex:0}],selectOnFocus:!1});const o=t.pageContext.getService("IVCViewModelDataProviderService").getViewModel();this.providers.push({iconProps:{iconName:"GitLogo"},id:"git",text:"Git"}),this.providerTypes.push("git"),o.projectVersionControlInfo.supportsTFVC||(this.providers.push({iconProps:{iconName:"TFVCLogo"},id:"tfvc",text:"TFVC"}),this.providerTypes.push("tfvc"));(0,W.getGitClient)(t.pageContext).getTemplateList(this.props.projectName,"gitignore").then((e=>{this.initializeItems.push(...e.map((e=>({id:e.name,text:e.name.split(".",1)[0]}))))}));t.pageContext.getService("IProjectRepositoryInformationService").getDataAsync(!0).then((e=>{this.defaultGitBranchName.value=(null==e?void 0:e.defaultGitBranchName)||""}))}render(){return s.createElement(h.Observer,{providerSelection:{observableValue:this.providerSelection,filter:(e,t)=>{if("select"===t){const t=this.providerTypes[e[0].beginIndex];this.setState({messageFailure:void 0,readme:!0,repositoryName:"tfvc"===t?"$/"+this.props.projectName:void 0})}return!1}}},(()=>{const{repositoryName:e}=this.state,t=this.providerTypes[this.providerSelection.value[0].beginIndex],o="git"===t&&!e,r=1===this.providers.length;return s.createElement(T.Panel,{defaultActiveElement:r?".repository-name":".repository-type",footerButtonProps:[{text:_.Cancel,onClick:()=>this.props.onDismiss()},{disabled:o,primary:!0,onClick:this.onCreate,text:_.Create}],lightDismiss:!1,onDismiss:this.props.onDismiss,overlayContent:this.state.createStarted?s.createElement(I.Spinner,{label:_.CreatingRepository,size:"large"}):null,titleProps:{text:_.CreateRepository}},s.createElement("div",{className:"flex-column flex-grow rhythm-vertical-16"},this.state.messageFailure?s.createElement(f.MessageCard,{onDismiss:()=>this.setState({messageFailure:void 0}),severity:"Error"},s.createElement("div",{className:"flex-column font-size-ms"},this.state.messageFailure)):null,s.createElement(S.FormItem,{label:_.RepoTypeLabel},s.createElement(F.Dropdown,{className:"repository-type",disabled:r,items:this.providers,selection:this.providerSelection})),s.createElement(S.FormItem,{ariaLabel:_.RepoNameAriaLabel,label:_.RepoNameLabel},s.createElement(b.TextField,{disabled:"tfvc"===t,inputClassName:"repository-name",onChange:(e,t)=>this.setState({repositoryName:t}),placeholder:_.RepoNamePlaceholder,value:this.state.repositoryName})),"git"===t?s.createElement(s.Fragment,null,s.createElement(N.Checkbox,{checked:this.state.readme,className:"margin-top-8",label:_.AddReadMe,onChange:(e,t)=>this.setState({readme:t})}),s.createElement(F.Dropdown,{className:"panel-create-gitignore-dropdown",items:this.initializeItems,renderExpandable:e=>s.createElement(F.DropdownExpandableButton,Object.assign({},e,{renderSelectedItems:(e,t)=>{const o=t[e.value[0].beginIndex];return s.createElement(s.Fragment,null,s.createElement("span",{className:"secondary-text"},(0,i.format)(_.AddAnItem,".gitignore")),o.text)}})),selection:this.initializeSelection}),s.createElement(h.Observer,{defaultGitBranchName:this.defaultGitBranchName,initializeSelection:this.initializeSelection},(()=>(this.state.readme||"none"!==this.getSelectedInitializeItem().id)&&s.createElement(x.FormatComponent,{className:"margin-16",format:_.InitializeWithDefaultBranch},s.createElement("span",{className:"monospaced-text"},s.createElement(d.Icon,{iconName:"OpenSource"}),this.defaultGitBranchName.value))))):s.createElement(s.Fragment,null,s.createElement("span",null,_.TFVCReminder),s.createElement(p.Link,{href:"https://go.microsoft.com/fwlink/?LinkId=699398",target:"_blank"},_.LearnMore))))}))}getSelectedInitializeItem(){const e=this.initializeSelection.value[0].beginIndex;return this.initializeItems.value[e]}}t[e].PanelCreate=o,C.Components.add("ms.vss-code-web.panel-create",o)}("ComponentsPanelCreatePanelCreate"),t.PanelClone={},Object.defineProperty(t.PanelClone,"PanelClone",{enumerable:!0,get:function(){return ne.PanelClone}}),t.PanelCreate={},Object.defineProperty(t.PanelCreate,"PanelCreate",{enumerable:!0,get:function(){return le.PanelCreate}})}),["Resources","RestClient/Git","RestClient/ServiceEndpoint","Api","Components/Clone/CloneNotice","ProtocolHandler","Components/Clone/CloneWithApplication","Components/Clone/CloneWithCredential","Clone","Components/PanelImport/PanelImport","PanelImport","Components/Push/Push","Push","Components/GettingStarted/GettingStarted","GettingStarted","Components/ImportProgress/ImportProgress","ImportProgress","Components/EmptyRepoView/EmptyRepoView","Components/PanelClone/PanelClone","Components/PanelCreate/PanelCreate","PanelClone","PanelCreate"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-code-web.import-content"}}));