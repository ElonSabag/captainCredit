"use strict";define("Wit/Messages",["require","exports","react","VSS/Core/Observable","VSS/Core/Util/String","VSS/Platform/Context","VSS/Platform/Layout","VSSUI/Link","VSSUI/List","VSSUI/MessageCard","VSSUI/Observer","VSSUI/Utilities/Provider"],(function(e,s,t,r,a,i,o,n,l,g,c,d){var m;m=s.Resources={},s.Resources.HideDetails="Hide Details.",s.Resources.OneOrMoreErrors="The following errors appear on one or more items: ",s.Resources.ShowDetails="Show Details.",function(e){s[e]={};class o extends i.VssService{constructor(){super(...arguments),this.message=new r.ObservableValue(void 0),this.persistMessage=!1}_serviceRestart(e){super._serviceRestart(e),this.persistMessage||(this.message.value=void 0),this.persistMessage=!1}getMessage(){return this.message}showMessage(e,s){this.message.value=e,this.persistMessage=s}dismissMessage(){this.message.value&&this.message.value.onDismiss&&this.message.value.onDismiss(),this.message.value=void 0}}function n(e){return e.getService(g)}function l(e,s,r,i){const o=function(e,s){if(s)return a.format(s,e);return e}(e.toString(),r);return{renderMessage:()=>t.createElement("span",void 0,o),severity:null!=i?i:"Error",moreDetails:s}}s[e].getBoardsMessagesService=n,s[e].getErrorMessage=l,s[e].showErrorMessage=function(e,s){const t=l(s);n(e).showMessage(t)};const g="IBoardsMessagesService";i.Services.add(g,{serviceFactory:o,options:2})}("BoardsMessagesService"),function(e){s[e]={};class a extends o.VssComponent{constructor(){super(...arguments),this.showFullDetailsToggle=new r.ObservableValue(!1),this.renderRow=(e,s,r)=>t.createElement(l.ListItem,{index:e,details:r},t.createElement("div",{className:"flex-row h-scroll-hidden padding-top-4"},s))}render(){const{typeFilter:e}=this.props,s=this.context.pageContext.getService("IBoardsMessagesService");return t.createElement(c.Observer,{message:s.getMessage(),detailsToggle:this.showFullDetailsToggle},(r=>{var a;return!r.message||e&&!e(r.message.type)?null:t.createElement(g.MessageCard,{className:this.props.className,severity:r.message.severity||"Info",onDismiss:()=>s.dismissMessage(),buttonProps:r.message.buttons},t.createElement("div",{className:"flex-column"},t.createElement("div",null,r.message.renderMessage(),"Â ",r.message.moreDetails&&t.createElement(n.Link,{tooltipProps:{overflowOnly:!0},onClick:()=>this.showFullDetailsToggle.value=!this.showFullDetailsToggle.value},r.detailsToggle?m.HideDetails:m.ShowDetails)),r.detailsToggle&&t.createElement(l.ScrollableList,{className:"padding-top-8",itemProvider:new d.ArrayItemProvider(null!==(a=r.message.moreDetails)&&void 0!==a?a:[]),renderRow:this.renderRow,renderHeader:()=>t.createElement("div",{className:"padding-top-4"},m.OneOrMoreErrors)})))}))}}s[e].BoardsMessages=a}("ComponentsBoardsMessages")}),["Resources","BoardsMessagesService","Components/BoardsMessages"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-work-web.wit-messages-content"}}));