if (window.performance && window.performance.mark) { window.performance.mark('startLoadBundleInner-async'); }
// Copyright (C) Microsoft Corporation. All rights reserved.
define("Presentation/Scripts/TFS/Generated/TFS.TestManagement.Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v;Object.defineProperty(t,"__esModule",{value:!0});t.ExportHtml=t.TelemetryData=t.TestSessionPropertyBagKeys=t.WorkItemFieldNames=t.WitLinkTypes=t.TestSuiteType=t.TestSuiteState=t.TestRunState=t.TestResultState=t.TestPointState=t.TestOutcome=t.TcmProperty=void 0,function(n){n[n.None=0]="None";n[n.UsedWebGridViewForAuthoring=1]="UsedWebGridViewForAuthoring"}(i=t.TcmProperty||(t.TcmProperty={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.None=1]="None";n[n.Passed=2]="Passed";n[n.Failed=3]="Failed";n[n.Inconclusive=4]="Inconclusive";n[n.Timeout=5]="Timeout";n[n.Aborted=6]="Aborted";n[n.Blocked=7]="Blocked";n[n.NotExecuted=8]="NotExecuted";n[n.Warning=9]="Warning";n[n.Error=10]="Error";n[n.NotApplicable=11]="NotApplicable";n[n.Paused=12]="Paused";n[n.MaxValue=12]="MaxValue"}(r=t.TestOutcome||(t.TestOutcome={})),function(n){n[n.None=0]="None";n[n.Ready=1]="Ready";n[n.Completed=2]="Completed";n[n.NotReady=3]="NotReady";n[n.InProgress=4]="InProgress";n[n.MaxValue=4]="MaxValue"}(u=t.TestPointState||(t.TestPointState={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.Pending=1]="Pending";n[n.Queued=2]="Queued";n[n.InProgress=3]="InProgress";n[n.Paused=4]="Paused";n[n.Completed=5]="Completed";n[n.MaxValue=5]="MaxValue"}(f=t.TestResultState||(t.TestResultState={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.Completed=3]="Completed";n[n.Aborted=4]="Aborted";n[n.Waiting=5]="Waiting";n[n.NeedsInvestigation=6]="NeedsInvestigation";n[n.MaxValue=6]="MaxValue"}(e=t.TestRunState||(t.TestRunState={})),function(n){n[n.None=0]="None";n[n.InPlanning=1]="InPlanning";n[n.InProgress=2]="InProgress";n[n.Completed=3]="Completed"}(o=t.TestSuiteState||(t.TestSuiteState={})),function(n){n[n.None=0]="None";n[n.DynamicTestSuite=1]="DynamicTestSuite";n[n.StaticTestSuite=2]="StaticTestSuite";n[n.RequirementTestSuite=3]="RequirementTestSuite"}(s=t.TestSuiteType||(t.TestSuiteType={})),function(n){n.TestResult="Test Result";n.TestResultAttachment="Result Attachment";n.Session="Session";n.Test="Test"}(h=t.WitLinkTypes||(t.WitLinkTypes={})),function(n){n.Actions="Microsoft.VSTS.TCM.Steps";n.ActivatedBy="Microsoft.VSTS.Common.ActivatedBy";n.ActivatedDate="Microsoft.VSTS.Common.ActivatedDate";n.AutomationStatus="Microsoft.VSTS.TCM.AutomationStatus";n.ClosedBy="Microsoft.VSTS.Common.ClosedBy";n.ClosedDate="Microsoft.VSTS.Common.ClosedDate";n.DataField="Microsoft.VSTS.TCM.LocalDataSource";n.Description="System.Description";n.IntegrationBuild="Microsoft.VSTS.Build.IntegrationBuild";n.Owner="System.AssignedTo";n.Parameters="Microsoft.VSTS.TCM.Parameters";n.Priority="Microsoft.VSTS.Common.Priority";n.StateChangeDate="Microsoft.VSTS.Common.StateChangeDate";n.Storage="Microsoft.VSTS.TCM.AutomatedTestStorage";n.TestId="Microsoft.VSTS.TCM.AutomatedTestId";n.TestName="Microsoft.VSTS.TCM.AutomatedTestName";n.TestType="Microsoft.VSTS.TCM.AutomatedTestType";n.WorkItemType="System.WorkItemType";n.TestIdIsNotNull="Microsoft.VSTS.TCM.AutomatedTestId.IsNotNull"}(c=t.WorkItemFieldNames||(t.WorkItemFieldNames={})),function(n){n.requirementId="RequirementId";n.testPlanId="TestPlanId";n.testSettingsId="TestSettingsId"}(l=t.TestSessionPropertyBagKeys||(t.TestSessionPropertyBagKeys={})),function(n){n.OpenTestPlanWITFeature="OpenTestPlanWIT";n.OpenTestSuiteWITFeature="OpenTestSuiteWIT"}(a=t.TelemetryData||(t.TelemetryData={})),function(n){n.TestSuitesLimit=75}(v=t.ExportHtml||(t.ExportHtml={}))});

define("Presentation/Scripts/TFS/TFS.Core.Utils",["require","exports","q","VSS/Diag","VSS/Utils/Core"],function(n,t,i,r,u){function c(n,t){var u,f,e,i,o,r=!1,s=t||[];for(e=0,i=0,o=0,u=0;u<n.length;u++){if(i=n[u],i==="r")if(r)i=2,r=!1;else{r=!0;continue}else r?r=!1:(o=i,i=1);for(f=0;f<i;f++)e+=o,s[s.length]=e}return s}function l(n){return n.length===0?n:c(n)}function a(n,t){var r=[],i;if(t)for(i in n)r.push(i);else for(i in n)n.hasOwnProperty(i)&&r.push(i);return r}function v(n){var t,i;return document.cookie.length>0&&(t=document.cookie.indexOf(n+"="),t!==-1)?(t=t+n.length+1,i=document.cookie.indexOf(";",t),i===-1&&(i=document.cookie.length),decodeURIComponent(document.cookie.substring(t,i))):""}function y(n,t,i){i===void 0&&(i="/");var r="";window.location.protocol.indexOf("https")!==-1&&(r=";secure");document.cookie=n+"="+encodeURIComponent(t)+";path="+i+r}function s(n){return i.isPromise(n)}function d(n){return s(n)?n:i(n)}function g(n,t,i){var u=null,r;if(typeof t!="string"&&typeof t!="function")throw new Error("Invalid argument type: 'messageOrTransform'.");return typeof n=="function"&&(u=function(u){typeof t=="string"?(r=new Error(t),i&&$.each(i,function(n,t){r[n]=t}),r.innerException=u):r=t(u);n(r)}),u}function nt(n){return typeof n=="string"}function tt(n){var r=[],t,i;return nt(n)&&(t=n.split(","),$.each(t,function(n){i=t[n].split(";");$.each(i,function(n){r.push(i[n].trim())})})),r}function it(){return typeof QUnit!="undefined"}function h(n){var t,i;if(Array.isArray(n)){t=[];for(i in n)t.push(h(n[i]));return t}return $.extend(!0,{},n)}function rt(){var n=document.documentElement&&document.documentElement.scrollTop,t=document.body.scrollTop;return n||t||0}function ut(n){document.body.scrollTop=n;document.documentElement&&(document.documentElement.scrollTop=n)}var f,e,p,o,w,b,k;Object.defineProperty(t,"__esModule",{value:!0});t.setWindowScrollTop=t.getWindowScrollTop=t.makeCopy=t.isRunningUnderTest=t.parseEmailAddressesStringToArray=t.transformError=t.makePromise=t.isPromise=t.GUIDUtils=t.BoolUtils=t.AnchorLinkUtils=t.TypeFactory=t.UserAgentUtils=t.OperationQueue=t.setCookie=t.getCookie=t.keys=t.unpackIntegerArray=t.Dictionary=void 0;f=function(){function n(n){this._items={};this._count=0;n&&n.throwOnKeyMissing===!0&&(this._throwOnKeyMissing=!0)}return n.prototype.count=function(){return this._count},n.prototype.item=function(n,t){if(this._checkKey(n),n=n.toString(),arguments.length>1)this._set(n,t);else{if(this._throwOnKeyMissing&&!this._items.hasOwnProperty(n))throw new Error("KeyNotFound: "+n);return this._items[n]}},n.prototype.keys=function(){var t=this._items,n=[];for(var i in t)t.hasOwnProperty(i)?n.push(i):n.push(null);return n},n.prototype.values=function(){var n=this._items,t=[];for(var i in n)t.push(n[i]);return t},n.prototype.add=function(n,t){if(this._checkKey(n),n=n.toString(),this._items.hasOwnProperty(n))throw new Error("An element with the same key already exists in the dictionary");this._set(n,t)},n.prototype.clear=function(){this._items={};this._count=0},n.prototype.containsKey=function(n){return this._checkKey(n),n=n.toString(),this._items.hasOwnProperty(n)},n.prototype.get=function(n){return this.item(n)},n.prototype.remove=function(n){this._checkKey(n);n=n.toString();this._items.hasOwnProperty(n)&&(this._count-=1);delete this._items[n]},n.prototype.set=function(n,t){this.item(n,t)},n.prototype.tryGetValue=function(n,t){return this.containsKey(n)?(t.value=this.get(n),!0):(t.value=undefined,!1)},n.prototype._checkKey=function(n){if(n===null||n===undefined)throw new Error("Null key not allowed");},n.prototype._set=function(n,t){this._items.hasOwnProperty(n)||(this._count+=1);this._items[n]=t},n}();t.Dictionary=f;t.unpackIntegerArray=l;t.keys=a;t.getCookie=v;t.setCookie=y;e=function(){function n(){this._operationQueue=[]}return n.prototype.queueOperation=function(n){this._operationQueue.push(n);this._processQueue()},n.prototype._processQueue=function(){var n=this;!this._isProcessingOperation&&this._operationQueue.length>0&&(this._isProcessingOperation=!0,u.delay(this,0,function(){function u(){t||(t=!0,n._isProcessingOperation=!1,n._processQueue())}var i,t=!1;i=n._operationQueue.shift();i(u)}))},n}();t.OperationQueue=e,function(n){function i(){return t().toLowerCase().indexOf("windows nt")>=0}function t(){return window.navigator.userAgent}n.isWindowsClient=i;n.getUserAgent=t}(p=t.UserAgentUtils||(t.UserAgentUtils={}));o=function(){function n(){}return n.prototype.registerConstructor=function(n,t){this._ctors||(this._ctors={});this._ctors[n]=t},n.prototype.getConstructor=function(n){return this._ctors&&this._ctors[n]},n.prototype.createInstance=function(n,t){function f(){}var u=this.getConstructor(n),i;return u&&(f.prototype=u.prototype,i=new f,i=u.apply(i,t)||i),i},n}();t.TypeFactory=o,function(n){function t(n,t){var i=null,u=t.find("#"+n),r;return u.length>0?i=$(u[0]):(r=t.find("a[name='"+n+"']"),r.length>0?i=$(r[0]):n.toLowerCase()==="top"&&(i=t)),i}n.findAnchorInContainer=t}(w=t.AnchorLinkUtils||(t.AnchorLinkUtils={})),function(n){function t(n){return(n||"").trim().toLowerCase()==="true"}function i(n){var t=(n||"").trim().toLowerCase();return t==="true"||t==="false"}n.parse=t;n.isValid=i}(b=t.BoolUtils||(t.BoolUtils={})),function(n){function i(){var n=(128+Math.floor(Math.random()*64)).toString(16);return t(8)+"-"+t(4)+"-4"+t(3)+"-"+n+t(2)+"-"+t(12)}function t(n){var i,r;if(!n)return Math.floor(Math.random()*16).toString(16);for(i="",r=0;r<n;r++)i+=t();return i}n.newGuid=i}(k=t.GUIDUtils||(t.GUIDUtils={}));t.isPromise=s;t.makePromise=d;t.transformError=g;t.parseEmailAddressesStringToArray=tt;t.isRunningUnderTest=it;t.makeCopy=h;t.getWindowScrollTop=rt;t.setWindowScrollTop=ut});

define("Presentation/Scripts/TFS/TFS.Host.TfsContext",["require","exports","VSS/VSS","VSS/Context","VSS/Diag","VSS/Common/Contracts/Platform","VSS/Contributions/LocalPageData"],function(n,t,i,r,u,f,e){function l(){h=Date.now()}var h,s,a,o,c;Object.defineProperty(t,"__esModule",{value:!0});t.TfsContext=t.TeamFoundationHostType=t.NavigationContextLevels=t.Configuration=t.setImageTimestamp=void 0;t.setImageTimestamp=l;s=function(){function n(n){this._options=n||{}}return n.prototype.getRootPath=function(){return this._options.rootPath||"/"},n.prototype.getTheme=function(){return this._options.theme||"Default"},n.prototype.getResourcesPath=function(){return this._options.resourcesPath||this.getRootPath()+"_content/"},n.prototype.getResourcesFile=function(n){return this.getResourcesPath()+encodeURIComponent(n)},n.prototype.getTfsStaticRootPath=function(){return this._options.staticRootTfs||"/tfs/_static/tfs/12/"},n.prototype.get3rdPartyStaticRootPath=function(){return this._options.staticRoot3rdParty||"/tfs/_static/3rdParty/"},n.prototype.getThemedFile=function(n){return this.getTfsStaticRootPath()+"App_Themes/"+encodeURIComponent(this.getTheme())+"/"+encodeURIComponent(n)},n.prototype.getWebApiVersion=function(){return this._options.webApiVersion||"1"},n.prototype.getMailSettings=function(){return this._options.mailSettings},n}();t.Configuration=s,function(n){n[n.None=0]="None";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.Collection=4]="Collection";n[n.Project=8]="Project";n[n.Team=16]="Team";n[n.ApplicationAll=15]="ApplicationAll";n[n.All=31]="All"}(a=t.NavigationContextLevels||(t.NavigationContextLevels={})),function(n){n[n.Parent=-1]="Parent";n[n.Unknown=0]="Unknown";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.ProjectCollection=4]="ProjectCollection"}(o=t.TeamFoundationHostType||(t.TeamFoundationHostType={}));c=function(){function n(t){n._addedFpsCallback||(n._addedFpsCallback=!0,document.body.addEventListener("legacyFpsComplete",function(){n._defaultTfsContext=undefined}));this.initialize(t)}return n.getContextOrDefault=function(t){var i=r.parseWebContext(t);return i?new n(i):n.getDefault()},n.getDefault=function(){if(!n._defaultTfsContext){var t=r.getDefaultWebContext();if(!t)throw new Error("Default context information is missing.");n.setDefaultContext(t)}return n._defaultTfsContext},n.tryGetDefaultContext=function(){if(typeof n._defaultTfsContext=="undefined"){var t=r.getDefaultWebContext();t?n.setDefaultContext(t):n._defaultTfsContext=null}return n._defaultTfsContext},n.setDefaultContext=function(t){n._previousTfsContext?(n._previousTfsContext.initialize(t),n._defaultTfsContext=n._previousTfsContext):(n._defaultTfsContext=new n(t),n._previousTfsContext=n._defaultTfsContext)},n.prototype.initialize=function(t){this.contextData=t;var i=r.getPageContext();this.navigation={applicationServiceHost:n.createServiceHost(t.account,f.ContextHostType.Application,t,i.webAccessConfiguration.paths.rootPath),area:i.navigation.area,areaPrefix:i.webAccessConfiguration.api.areaPrefix,collection:n.createServiceHost(t.collection,f.ContextHostType.ProjectCollection,t,i.webAccessConfiguration.paths.rootPath),controllerPrefix:i.webAccessConfiguration.api.controllerPrefix,currentAction:i.navigation.currentAction,currentController:i.navigation.currentController,currentParameters:i.navigation.currentParameters,project:null,projectId:null,publicAccessPoint:{authority:t.host.authority,scheme:t.host.scheme,uri:t.account?t.account.uri:t.host.uri},serviceHost:n.createServiceHost(t.host,t.host.hostType,t,i.webAccessConfiguration.paths.rootPath),topMostLevel:i.navigation.topMostLevel,team:null,teamId:null};this.navigation.publicAccessPoint.uri[this.navigation.publicAccessPoint.uri.length-1]!=="/"&&(this.navigation.publicAccessPoint.uri+="/");t.project&&(this.navigation.project=t.project.name,this.navigation.projectId=t.project.id);t.team&&i.navigation.topMostLevel===f.NavigationContextLevels.Team&&(this.navigation.team=t.team.name,this.navigation.teamId=t.team.id);this.configuration=new s({mailSettings:i.webAccessConfiguration.mailSettings,resourcesPath:i.webAccessConfiguration.paths.resourcesPath,rootPath:i.webAccessConfiguration.paths.rootPath,staticRoot3rdParty:i.webAccessConfiguration.paths.staticRoot3rdParty,staticRootTfs:i.webAccessConfiguration.paths.staticRootTfs,theme:i.globalization.theme,webApiVersion:i.webAccessConfiguration.api.webApiVersion});this.isHosted=!!i.webAccessConfiguration.isHosted;this.allowStatsCollection=!!i.diagnostics.allowStatsCollection;this.activityId=i.diagnostics.activityId;this.sessionId=i.diagnostics.sessionId;this.isAADAccount=!!t.host.isAADAccount;this.isSameHost=window.self==window.top;t.user&&(this.currentUser=t.user.name,this.standardAccessMode=!t.user.limitedAccess,this.currentIdentity={displayName:t.user.name,email:t.user.email,id:t.user.id,isActive:!0,isContainer:!1,uniqueName:t.user.uniqueName});t.team&&(this.currentTeam={name:t.team.name,identity:{displayName:t.team.name,id:t.team.id,isActive:!0,isContainer:!0,email:null,uniqueName:null}})},n.createServiceHost=function(n,t,i,r){return n?{hostType:t,name:n.name,instanceId:n.id,uri:n.uri,relVDir:this.trimVirtualPath(n.relativeUri,r),vDir:n.relativeUri}:null},n.trimVirtualPath=function(n,t){if(!n||n.length===0)return n;for(n.toLowerCase().indexOf(t.toLowerCase())===0&&(n=n.substr(t.length));n.length>0&&n[0]==="/";)n=n.substr(1);while(n.length>0&&n[n.length-1]==="/")n=n.substr(0,n.length-1);return n},n.prototype.getSessionId=function(){var t,r,i,u,n;for(t=this.sessionId,r=document.cookie?document.cookie.split("; "):[],i=0,u=r.length;i<u;i++)if(n=r[i].split("="),n&&n.length===2&&n[0]==="Tfs-SessionId"){t=n[1];break}return this.sessionId=t,t},n.prototype.getHostUrl=function(){return this.navigation.publicAccessPoint.scheme+"://"+this.navigation.publicAccessPoint.authority},n.prototype.getServiceHostUrl=function(){return this.navigation.serviceHost.vDir},n.prototype.getPublicActionUrl=function(n,t,i){var r=this._constructActionUrl(n,t,i);return this.getHostUrl()+this.configuration.getRootPath()+r},n.prototype.getActionUrl=function(n,t,i){if(!this.isSameHost)return this.getPublicActionUrl(n,t,i);var r=this._constructActionUrl(n,t,i);return this.configuration.getRootPath()+r},n.prototype.getCollectionActionUrl=function(n,t,i,r){var u=this._getCollectionTfsContext(n);return u.getActionUrl(t,i,r)},n.prototype.getCollectionTfsContext=function(n){var t=$.extend(!0,{},this);return t.navigation.serviceHost=n,t.navigation.collection=n,t.contextData=$.extend(!0,{},t.contextData),t.contextData.host.id=n.instanceId,t.contextData.host.name=n.name,t.contextData.host.uri=n.uri,t.contextData.host.relativeUri=n.vDir,t.contextData.host.hostType=f.ContextHostType.ProjectCollection,t.contextData.collection=t.contextData.host,t},n.prototype._getCollectionTfsContext=function(n){if(this.navigation.serviceHost.hostType===o.ProjectCollection&&this.navigation.serviceHost.name.toLowerCase()===n.toLowerCase())return this;var t={instanceId:"",name:n,hostType:o.ProjectCollection,vDir:"",relVDir:n};return this.getCollectionTfsContext(t)},n.prototype.getPermalinkUrl=function(n,t,i){var r=this._constructPermalinkUrl(n,t,i);return this.configuration.getRootPath()+r},n.prototype.getIdentityImageUrl=function(t,i){var r=e.getSharedData("_identityDetails"),u={area:n._API,project:"",id:t,t:r&&r[t]?r[t].identityImageId:h};return this.getActionUrl("IdentityImage","common",$.extend(u,i))},n.prototype.isEmbedded=function(){return!!this.getClientHost()},n.prototype.getClientHost=function(){return r.getPageContext().webAccessConfiguration.clientHost},n.prototype._constructActionUrl=function(t,r,u){var h=this.navigation,e=[],c,a,v,f,l,w,b,d,s,k,y,p;if(b=h.areaPrefix||"",d=h.controllerPrefix||"",f=$.extend({},u),s=f.area,typeof s=="undefined"&&(s=h.area),delete f.area,c=f.serviceHost,typeof c=="undefined"&&(c=h.serviceHost),c&&(c.relVDir&&e.push(encodeURI(c.relVDir)),c.hostType===o.ProjectCollection&&(k=this._shouldBuildApiUrl(s,f),a=f.project,typeof a=="undefined"&&(a=k?h.projectId:h.project),a&&(e.push(encodeURIComponent(a)),v=f.team,(typeof f.includeTeam=="undefined"||f.includeTeam===null)&&(f.includeTeam=!0),f.includeTeam&&(typeof v=="undefined"&&(v=k?h.teamId:h.team),v&&e.push(encodeURIComponent(v)))))),delete f.serviceHost,delete f.project,delete f.team,delete f.includeTeam,s)if(Array.isArray(s))for(y=s,y.length>0&&e.push(encodeURIComponent(b+y[0])),p=1;p<y.length;p++)e.push(encodeURIComponent(y[p]));else e.push(encodeURIComponent(b+s));return r||(r=f.controller),delete f.controller,t||(t=f.action),delete f.action,l=f.parameters,delete f.parameters,l&&(r||(r=n._DEFAULT_CONTROLLER_NAME),t||(t=n._DEFAULT_ACTION_NAME)),r&&(e.push(encodeURIComponent(d+r)),t&&(e.push(encodeURIComponent(t)),l&&(Array.isArray(l)?e.push.apply(e,$.map(l,encodeURIComponent)):e.push(encodeURIComponent(l))))),(f.includeVersion||s===n._API)&&(f[n._VERSION]=this.configuration.getWebApiVersion()),f.includeLanguage&&i.uiCulture&&(f[n._LANGUAGE]=i.uiCulture),delete f.includeVersion,f.area!==n._API&&this.getClientHost()&&(f[n._CLIENTHOST]=this.getClientHost()),w=$.param(f),e.join("/")+(w?"?"+w:"")},n.prototype._constructPermalinkUrl=function(t,i,r){var s=this.navigation,u=[],f=$.extend({},r),o,h=s.controllerPrefix||"",c=i||f.controller||n._DEFAULT_CONTROLLER_NAME,l=t||f.action||n._DEFAULT_ACTION_NAME,e=f.parameters;return u.push(n._PERMALINK_PREFIX),u.push(encodeURIComponent(h+c)),u.push(encodeURIComponent(l)),delete f.controller,delete f.action,delete f.parameters,e&&(Array.isArray(e)?u.push.apply(u,$.map(e,encodeURIComponent)):u.push(encodeURIComponent(e))),o=$.param(f),u.join("/")+(o?"?"+o:"")},n.prototype._shouldBuildApiUrl=function(t,i){var r;return t&&(r=Array.isArray(t)?t[0]:t),i.useApiUrl||r===n._API&&(typeof i.useApiUrl=="undefined"||i.useApiUrl)},n._DEFAULT_CONTROLLER_NAME="home",n._DEFAULT_ACTION_NAME="index",n._CLIENTHOST="clientHost",n._VERSION="__v",n._LANGUAGE="__loc",n._PERMALINK_PREFIX="_permalink",n._API="api",n.ControlExtensions={initializeEnhancementOptions:function(t,i){return $.extend({},i,{tfsContext:n.getContextOrDefault(t)})}},n}();t.TfsContext=c});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();define("Presentation/Scripts/TFS/TFS.Service",["require","exports","VSS/Service","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Context","VSS/Common/Contracts/Platform"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.TfsService=void 0;var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this.tfsConnection=t},t.prototype.getTfsContext=function(){if(!this._tfsContext){var n=this.getWebContext();this._tfsContext=n===u.getDefaultWebContext()?r.TfsContext.getDefault():new r.TfsContext(n)}return this._tfsContext},t.prototype.getCurrentServiceHost=function(){var n=this.getTfsContext(),t=this.getConnection().getHostType();return t===f.ContextHostType.ProjectCollection?n.navigation.collection:t===f.ContextHostType.Application?n.navigation.applicationServiceHost:n.navigation.serviceHost},t}(i.VssService);t.TfsService=e});

define("VSS/Diag/Services",["require","exports","VSS/Ajax","VSS/Context","VSS/Service"],function(n,t,i,r,u){function s(){var n=r.getPageContext();n&&n.diagnostics.allowStatsCollection&&n.diagnostics.activityId&&u.getLocalService(f).logActivity(n.diagnostics.activityId,window.location.href)}var f,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.ActivityStatsCollector=void 0;f=function(){function n(){this._activtyIdHeader="ActivityId";this._progressPendingActions=null;this._progressPendingActionsNewId=0;this._progressPendingActions={};this._activtyStatsCollectionAllowedCallbacks=[]}return n.prototype.initialize=function(){},n.prototype.addActivtyStatsCollectionAllowedCallback=function(n){this._activtyStatsCollectionAllowedCallbacks.push(n)},n.prototype.actionStarted=function(n){if(!this.isCollectingStats())return-1;var t=++this._progressPendingActionsNewId;return this._progressPendingActions[t]=n,t},n.prototype.actionCompleted=function(n,t){var r=null,i,u,f;if(n>-1&&this._allowStatsCollection()&&this.isCollectingStats()&&(i=this._progressPendingActions[n],i)){delete this._progressPendingActions[n];try{u=t.getResponseHeader(this._activtyIdHeader);u&&i.toLowerCase().indexOf("/_apis/stats/activities")===-1&&(r=this.getCurrentPage(),f={actionDate:(new Date).toUTCString(),name:i,id:u,status:t.status,parentId:r?r.id:null},this._saveActivity(f))}catch(e){this.clearStats()}}},n.prototype.logActivity=function(n,t){try{if(this._allowStatsCollection()&&t&&t.toLowerCase().indexOf("_statistics")===-1){var i={actionDate:(new Date).toUTCString(),name:t,id:n};this._saveActivity(i,!0)}}catch(r){this.clearStats()}},n.prototype.getActivityStatistics=function(){try{var t=window.localStorage.getItem(n.ACTIVITY_ID_STORAGE_ITEM);return t?JSON.parse(t):[]}catch(i){return[]}},n.prototype.clearStats=function(){try{window.localStorage.removeItem(n.ACTIVITY_ID_STORAGE_ITEM);window.localStorage.removeItem(n.CURRENT_PAGE)}catch(t){}},n.prototype.collectStats=function(t){try{window.localStorage.setItem(n.ACTIVITY_COLLECTION_STATUS,t.toString())}catch(i){}},n.prototype.getCurrentPage=function(){try{var t=window.localStorage.getItem(n.CURRENT_PAGE);if(t)return JSON.parse(t)}catch(i){}return null},n.prototype.setCurrentPage=function(t){try{window.localStorage.setItem(n.CURRENT_PAGE,JSON.stringify(t))}catch(i){}},n.prototype.isCollectingStats=function(){try{var t=window.localStorage.getItem(n.ACTIVITY_COLLECTION_STATUS);return t?(t=t.toLowerCase(),t==="true"?!0:t==="false"?!1:(window.localStorage.removeItem(n.ACTIVITY_COLLECTION_STATUS),!1)):!1}catch(i){return!1}},n.prototype._saveActivity=function(t,i){if(this.isCollectingStats()&&this._allowStatsCollection()){var r=this.getActivityStatistics();r.push(t);window.localStorage.setItem(n.ACTIVITY_ID_STORAGE_ITEM,JSON.stringify(r));i&&this.setCurrentPage(t)}},n.prototype._allowStatsCollection=function(){for(var t=!0,n=0;n<this._activtyStatsCollectionAllowedCallbacks.length;n++)t=t&&this._activtyStatsCollectionAllowedCallbacks[n]();return t},n.ACTIVITY_COLLECTION_STATUS="TFS.ActivityCollectionStatus",n.ACTIVITY_ID_STORAGE_ITEM="TFS.ActivityIdStats",n.CURRENT_PAGE="TFS.CurrentPageActivity",n}();t.ActivityStatsCollector=f;s();u.getLocalService(f).addActivtyStatsCollectionAllowedCallback(function(){var n=r.getPageContext();return!!(n&&n.diagnostics.allowStatsCollection)});e={};o=r.getPageContext();o&&o.diagnostics.allowStatsCollection&&i.addGlobalListener({beforeRequest:function(n,t){var i=u.getLocalService(f).actionStarted(t);e[n]=i},responseReceived:function(n,t,i,r){u.getLocalService(f).actionCompleted(e[n],r);delete e[n]}})});

define("Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation",["require","exports"],function(require,exports){var e=exports;e.JumpstartGotoCode="Add code";e.EmbedVideosHelperString="Insert iframe block from YouTube or Microsoft Streams here.";e.ChartConsolidatedItemsTooltip="To fit within the chart, a set of items were consolidated into this single element:\r\n{0}";e.CancelButtonText="Cancel";e.MoveToIteration_Backlog="Backlog";e.MSTeamsVSTSConfig_TeamPickerPlaceholder="Select a team";e.AreaChartName="Area";e.MoreOptionsText="More options";e.KeyboardShortcutDescription_OpenQueries="Open queries";e.ProjectNameNotSpecified="Project name must be specified.";e.NewTeamProjectText="New team project";e.RemoveFromMyFavorites="Remove from my favorites";e.RelatedArtifacts_DuplicateKey="An item with the same key already exists";e.UnpinFromHomepageTooltipText="Unpin from homepage";e.MSTeamsVSTSConfig_AddDashboardRadioButton="Add a Dashboard";e.ChartsRemainingItems="(other)";e.JumpstartGotoBacklog="Manage work";e.WorkingTitle="Working...";e.ManualTestButtonText="Start manual testing";e.MVCActionToDpIdMappingNotFoundError="There is no dataprovider id mapped for the passed action {0}";e.ItemSecurityTitle="Security...";e.XTPromotionQuickStartOkButtonContent="Install";e.AddToTeamFavoritesTitle="Add to team favorites";e.MembersAddIdentitySeparationKey="semicolons";e.TwentyPercentLighterColor="20% lighter {0}";e.DashboardNotFoundDashboardMayHaveExisted="It is possible the dashboard did exist at one point but was removed.";e.ChartConfigurationLabel_RollingPeriod="Rolling period";e.InfoCustomProcessesShort="Reporting and SharePoint integration steps will be skipped when creating a team project from the Web.";e.AnnouncementCloseButtonTitle="Hide this module.  Select \u0026#34;Display announcement\u0026#34; from the help menu to make it visible again.";e.ClearFiltersText="Clear Filters";e.OpenPlatformSubtitle="Extend and empower Azure DevOps Server with your favorite third-party apps and services";e.PowerBIBackgroundImage="PowerBI.png";e.PivotTableTotalText="Total";e.OpenPlatformTitle="Integrate with other services";e.VsLinksOpenInVsTitle="Open in Visual Studio";e.LinkedArtifacts_EditComment="Edit comment";e.VideoLoadingMessage="Loading Video";e.TeamInputPlaceholder="Select a team";e.AboutTFSLearnSubtitle_OnPrem="Access online help for Azure DevOps Server";e.RelatedArtifacts_RemainingCount="({0} of {1})";e.ChartDimensionValue_NotRun="Not run";e.ErrorMissingDataForPinningWidget="Not Enough data in commandArgs to pin widget";e.YouViewedDateFormat="You viewed {0}";e.StateCategoryRemoved="Removed";e.XTPromotionQuickStartContent="Drive quality in your agile teams - capture your findings, create tasks/bugs/tests and collaborate with each other, right from your browser.";e.AboutTFSPricingSubtitle="Free for up to 5 users";e.RelatedArtifacts_SummaryNotShown="Not shown: {0}";e.AboutTFSLearnSubtitle_Hosted="Access online help for Azure DevOps Server";e.MSTeamsVSTSConfig_TeamDashboardsHeader="All team dashboards";e.MermaidDiagramText="Mermaid";e.ChartOrderResults_Descending="Descending";e.FilteredListNoItems="No items";e.LinkedArtifacts_RemoveLink="Remove link";e.ProjectCreationErrorGeneral="There was an error creating your project.";e.CodeSearchPromotionQuickStartTitle="Search for code across your projects";e.XTPromotionQuickStartCancelButtonContent="Not now";e.ErrorLoadingProjects="Cannot load recent project. Refresh the page to try again.";e.TeamRooms="Team rooms";e.SixtyPercentLighterColor="60% lighter {0}";e.TeamLabel="Team";e.CreateProjectProcessTemplateLabel="Process template";e.NavigationContextMenuDefaultLabelTitle="Select a project";e.PowerBITileSubTitle="Monitor, analyze, and share your VSTS data using Power BI";e.ChangeSearchTypeTooltip="Change search type";e.TeamMemberCountFormat="{0} MEMBERS";e.MSTeamsVSTSConfig_DashboardPickerLabel="Dashboard";e.DashboardNotFoundSystemNotBroken="Don\u0027t worry, the system is not broken.";e.AddToMyFavorites="Add to my favorites";e.ProgressControl_SummaryProgressToolTip="{0} remaining of {1} total capacity";e.ChartMessage_Loading="Loading...";e.BacklogDoesNotExistMessage="Backlog level does not exist.";e.ChartConfigurationLabel_Rows="Rows";e.ChartConfigurationLabel_Sort="Sort";e.FilteredListAriaDescribeSearchbox="Type to filter the list of items.";e.LoadMermaidDiagramAriaLabel="Load diagram";e.AccountTrialStartAccountTrial="Start organization trial";e.Indigo="Indigo";e.LinkedArtifacts_DataProvider_Null="There was error loading renderer for \u0027{0}\u0027 links.";e.SourceControlSystemDescriptionTFVC="Team Foundation Version Control (TFVC) uses a single, centralized server repository to track and version files.  Local changes are always checked in to the central server where other developers can get the latest changes.";e.LinkedArtifacts_EditCommentCancelButton="Cancel";e.MSTeamsVSTSConfig_KanbanDescription="Kanban boards provides a visual interactive way of tracking progress of work.";e.InlineEdit_Cancel="Cancel";e.RoomExplorer_NewRoom="New";e.AboutTFSPricingTitle="Pricing";e.MembersFinishTitle="Life is better with friends!";e.NewsTitle="News";e.ProjectVisibilityLabel="Visibility – who can see your project";e.PinToHomepageTitle="Pin to homepage";e.ChartDimensionValue_NotApplicable="Not applicable";e.SourceControlSystemDescriptionGit="Git is a Distributed Version Control System (DVCS) that uses a local repository to track and version files.  Changes are shared with other developers by pushing and pulling changes through a remote, shared repository.";e.ChartDimensionValue_Failed="Failed";e.LinkedArtifacts_ColumnHeader_State="State";e.AboutTFSAdminSubtitle="Manage projects, users, groups and permissions";e.ProgressControl_NoCurrentValue="({0})";e.gettingStartedContentVideourl="https://go.microsoft.com/fwlink/?LinkId=513324";e.InfoArea_DefaultMD_base="[Learn more](https://go.microsoft.com/fwlink/p/?LinkId=524306) about Markdown.";e.Orange="Orange";e.AzureBenefitSubTitle="Download software, use Azure services, view online training and more";e.TeamRoomPanelTitle="Recent team rooms";e.TryAllFeatures="Try out all the features for 90 days";e.InfoArea_DefaultReadmeMD_base="# Introduction\\\\r\\\\nTODO: Give a short introduction of your project. Let this section explain the objectives or the motivation behind this project. \\\\r\\\\n\\\\r\\\\n# Getting Started\\\\r\\\\nTODO: Guide users through getting your code up and running on their own system. In this section you can talk about:\\\\r\\\\n1.\tInstallation process\\\\r\\\\n2.\tSoftware dependencies\\\\r\\\\n3.\tLatest releases\\\\r\\\\n4.\tAPI references\\\\r\\\\n\\\\r\\\\n# Build and Test\\\\r\\\\nTODO: Describe and show how to build your code and run the tests. \\\\r\\\\n\\\\r\\\\n# Contribute\\\\r\\\\nTODO: Explain how other users and developers can contribute to make your code better. \\\\r\\\\n\\\\r\\\\nIf you want to learn more about creating good readme files then refer the following [guidelines](https://www.visualstudio.com/en-us/docs/git/create-a-readme). You can also seek inspiration from the below readme files:\\\\r\\\\n- [ASP.NET Core](https://github.com/aspnet/Home)\\\\r\\\\n- [Visual Studio Code](https://github.com/Microsoft/vscode)\\\\r\\\\n- [Chakra Core](https://github.com/Microsoft/ChakraCore)\\\\r\\\\n";e.ConfirmToDeleteChart="Do you want to delete the chart \u0027{0}\u0027?";e.ChartTooltipRemainingItemsOmitted="... (Additional items were omitted)";e.NavigationContextMenuDefaultLabel="Projects";e.TabNameContainsInvalidCharacters="Tab name contains invalid characters.";e.LinkedArtifacts_EditCommentDoneButton="OK";e.MermaidExampleTagAString="Wiki supports Mermaid";e.AdminGroupHeader="Admins";e.MembersFinishContent="The users you invited are now members of your team. You can now assign work, collaborate on code and ship great software!";e.MembersAddIdentity1Title="Add a user";e.MembersAddIdentity1Content1="Type the name or sign in address of the user you want to add. Use {0} to add multiple users.";e.MembersAddIdentity1Content2="When you are done, click on {0}.";e.LinkedArtifacts_ResolutionFailed="This {0} could not be read";e.VsLinksOpenInVsTooltip="Open Visual Studio and connect to this project with Team Explorer.";e.LinkedArtifacts_LoadingStart="Loading linked items";e.ConfigureChartDialogTitle="Configure Chart";e.LinkedArtifacts_LoadingError="Error loading linked items";e.ProjectNameInvalid="The project name is not valid.";e.CreateProjectProjectNameInvalidDescription="For more information about valid naming conventions for projects, see the topic \"Naming Restrictions for Azure DevOps Server\" on the Microsoft Web site: \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=77936\" target=\"_blank\"\u003ehttps://go.microsoft.com/fwlink/?LinkId=77936\u003c/a\u003e";e.LinkedArtifacts_ColumnHeader_LastUpdate="Latest Update";e.VsLinksGetVsIconTitle="Get Visual Studio";e.ProgressControl_DefaultProgressText="({0} of {1})";e.FilteredListShowingCount="Showing {0} matched items";e.AddNewItemsToolTip="Add: {0}";e.ProjectCreationErrorTryAgain="try again";e.CodeAnalysisAuthor="Code Analysis Bot";e.ProjectInputPlaceholder="Select a project";e.BacklogInputPlaceholder="Select a backlog level";e.AddToTeamFavoritesContextMenuItem="Add to Team Favorites";e.MembersAddButtonTitle="Manage members of your team";e.SidebarSearchWatermark="Search...";e.Chart2DValueTooltip="{0}, {1}: {2}";e.AreaChartAdvancedTooltip="Use this chart type to highlight the change in magnitude of a category over time.";e.TabStrip_Menu_InsertLeft="Insert left";e.NavigationContextMenuTeamLabelTitleFormat="Team \u0027{0}\u0027 in Project \u0027{1}\u0027";e.CreateFirstProjectWelcomeText="Welcome.  Your organization, \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027\u003e{0}\u003c/a\u003e, is created and ready to go.  Now create your first team project where you’ll host your code and backlog. ";e.Stakeholder_NoProjectMessage="No projects available in the organization. Contact the organization owner to {0}.";e.AnnouncementCloseTileIcon="icon-close-small";e.MarkdownExternalLinkTooltip="External link";e.NewRoom="New Room";e.ProjectLabel="Project";e.ItemSecurityTooltipText="Security settings";e.Saving="Saving ...";e.QueryResultsText="Query Results";e.UnpinFromHomepageTitle="Unpin from homepage";e.Purple="Purple";e.AddToMyFavoritesTooltip="Add to my favorites";e.ColumnChartAdvancedTooltip="Use this chart type to compare categories.";e.ColorPickerLabelFormat="{0} {1}";e.PowerBITitle="Visualize data across your enterprise";e.ChartDimensionValue_Passed="Passed";e.LineChartAdvancedTooltip="Use this chart type to show how category values change relative to each other over time.";e.EnterFullScreenModeTooltip="Enter full screen mode (Z)";e.FilterClearFiltersTooltip="Clear filters";e.Yellow="Yellow";e.YouUpdatedDateFormat="You updated {0}";e.ProjectVisibilityDescriptionEveryoneInTenant="Members of your enterprise can view the project. Explicit permissions will not be respected.";e.ResourceUsageTitle="Resource usage";e.ChartDimensionValue_Blocked="Blocked";e.TeamDoesNotExistMessage="Team does not exist.";e.TabStrip_Menu_MoveUp="Move up";e.CreateProjectNamePlaceholderText="Type your project name, e.g. My first project";e.ChartSizeMissingMessage="Chart Control requires a width and height to be specified.";e.SourceControlSystemNameTFVC="Team Foundation Version Control";e.ChartMessage_NoDataToDisplay_Header="Last time you checked";e.MermaidExampleTagBString="Visit https://mermaidjs.github.io/ for Mermaid syntax";e.RMOAnnouncementTileSubTitle="Reduce your cycle time to improve your value delivery";e.MSTeamsVSTSConfig_DashboardPickerPlaceholder="Select a dashboard";e.LinkedArtifacts_ItemError="This link could not be read.";e.ChartConfigurationLabel_Columns="Columns";e.ChartsListLoading="Loading...";e.SignInToViewBoard="You must sign in to view this board.";e.MoveToIteration="Move to iteration";e.AjaxRequestFailedWithStatus="Ajax request failed with status: {0}.";e.ColorPalleteLabel="Color palette";e.GalleryPromotionNewFeatureText="Discover, try and buy extensions to enhance your development experience.";e.Confirm="Confirm";e.FilteredListRemoveFromFavorites="Remove from favorites";e.CreateReadMeWithProjectLabel="Create a README.md file to describe this project";e.TestHubContentWelcome="Deliver high quality projects with enhanced Manual/User acceptance testing, Automated unit/functional testing and Performance/Load testing.";e.MembersAddUserDialogSaveChanges="Save changes";e.NewWorkItemItemButtonText="New Work Item";e.AboutTFSFeaturesSubtitle_OnPrem="What does Azure DevOps Server have to offer?";e.VsLinksGetVsTitle="Get Visual Studio";e.GettingStartedVideos="https://go.microsoft.com/fwlink/?LinkID=512562";e.CodeSearchPromotionQuickStartCancelButtonContent="No thanks";e.Stakeholder_NoProjectMessage_LinkText="create a new project";e.ResourceUsageLearnMore="Learn more";e.AddToTeamFavoritesTooltipText="Add to team favorites";e.InsertMermaidDiagramDisabledInIEText="Mermaid diagrams are not supported in Internet Explorer browser";e.AnnouncementId="1";e.gettingStartedContentImageurl="https://go.microsoft.com/fwlink/?LinkId=513325";e.FilteredListAddToFavorites="Add to favorites";e.SearchTeams="Search Teams";e.BacklogLevelLabel="Backlog Level";e.ProjectVisibilityNameEveryoneInMicrosoftTenant="People in Microsoft";e.BarChartName="Bar";e.FilteredListTooManyMatches="Showing {0} of {1} matches. Click here to show all.";e.LinkedArtifacts_AriaLabel_LinksGrid="Links";e.ProjectVisibilityNameEveryone="Public";e.MembersFinishOkButton="Let’s plan the sprint";e.Unassigned="Unassigned";e.ElsVsoIntegrationTitle="Load Testing";e.CodeSearchQuickStartContent="Start by typing a simple search like \u003cb\u003etodo\u003c/b\u003e or a method name in the search box. Press \u003cb\u003eEnter\u003c/b\u003e when you\u0027re done";e.LineChartName="Line";e.AboutTFSFeaturesSubtitle_Hosted="What does Azure DevOps Server have to offer?";e.InfoArea_Repo_Commit="\"Adding repository documentation\"";e.ProjectMruListProjectIconTitle="Project";e.TeamPanel_Close="Close";e.TestHubAutomateTestContent="Automate testing using build-deploy-test workflows and make sure your app still works after every check-in.";e.TeamAwarenessAssignTo="Assign to";e.AzureBenefitTitle="Enjoy free benefits";e.ChartOrderResults_ByValue="Value";e.CreateProjectDescriptionLabel="Description";e.LinkedArtifacts_TooManyLinks="You have too many links. Some links cannot be viewed.";e.InfoArea_FileDoesNotExist_NoEdit="\\\\t{0} does not exist.\\\\r\\\\n\\\\r\\\\n";e.TagFilterDropdownTooltip="Show more...";e.MembersWelcomeTitle="Invite your friends and create your team";e.TabStrip_Menu_InsertRight="Insert right";e.ChartOrderResults_ByLabel="Label";e.AccountLabel="Organization";e.AccountTrial="Organization trial";e.TabStrip_Menu_InsertBelow="Insert below";e.TabStrip_Menu_InsertAbove="Insert above";e.FilteredListWatermark="Filter items...";e.ProjectVisibilityNameTeamMembers="Specific People";e.TestHubManualTestContent="Create test plans to track manual testing for sprints or milestones. Run tests, log defects and quickly view the status using lightweight charts.";e.ProjectMruListCreateNewProjectText="New";e.TabNameTooLongMessage="Tab name must be less than 256 characters.";e.MoveToIteration_Current="Current ({0})";e.ProjectMruListCreateNewProjectTitle="Create a new project";e.CompleteSignInToVSTS="Authentication complete. You may close this window.";e.CodeSearchQuickStartTitle="Search for code across your projects";e.HelpMenuText="Help";e.NoAvailableBacklogs="This team does not have any backlogs configured. Please select another team.";e.MultipleContributionFound="Multiple default contributions found.";e.GetProcessTemplatesError="An error occurred attempting to load the process templates.  Try again or contact your system administrator.";e.CloseButtonText="Close";e.ExitFullScreenModeTooltip="Exit full screen mode (Z)";e.CreateProjectCollectionLabel="Collection";e.EmbedVideosText="Embed video";e.StakeholderMsdnEligibleRefreshButtonPageWaitText="We are verifying your subscription now. Thanks for your patience";e.DashboardNotFound="Could not find the requested dashboard.";e.NavigationContextMenuTeamLabelFormat="{0} / {1}";e.TabNameLabel="Tab name";e.ResetChartEditorColors="Reset colors";e.ChartDataNullValueLabel="(blank)";e.ProjectEmptyNameMessage="Project must be specified.";e.PivotChartAdvancedTooltip="Use this chart type to arrange and summarize complex data in a tabular form.";e.ClearTextTooltip="Clear text";e.LinkedArtifacts_DataProvider_NotRegistered="There is no renderer for \u0027{0}\u0027 links.";e.MembersManageDialogAddUser="Add user";e.VsLinksGetVsSubTitle="See Visual Studio downloads";e.OpenPlatformBackgroundImage="OpenPlatformAnnouncement.png";e.TagFilterShowAllButtonText="All";e.RemoveFromTeamFavoritesTooltipText="Remove from team favorites";e.MembersWelcomeOkButton="Show me how";e.BacklogEmptyNameMessage="Backlog level must be specified.";e.RemoveFromMyFavoritesTitle="Remove from my favorites";e.NoAvailableProjects="You don\u0027t have access to any team projects in this organization. Please select another organization.";e.FilteredListNoMatches="No items contain the filter text";e.ChartConfigurationLabel_AggregationOf="Aggregation of";e.MSTeamsVSTSConfig_DashboardLinkText="Learn more about Dashboards";e.ChartHostDeleteChartTitle="Delete";e.ElsVsoIntegrationSubtitle="Measure app\u0027s performance under load";e.ResourceUsageSeperator="of";e.SavingChartChanges="Saving...";e.InsertQueryResultsText="Insert Query Results";e.PivotTabNavigationAriaLabel="Tabs";e.FilterSearchPlaceholderText="Search";e.TabStrip_Menu_Remove="Remove";e.ProjectMruListRecentProjectsAndTeams="Recent projects \u0026 teams";e.AccountTrialLearnMore="Learn more";e.TabNamePlaceholder="Type the tab name";e.ChartHostEditChartTitle="Edit";e.ChartHostEditChartToolTip="Edit chart";e.KeyboardShortcutDescription_OpenBoard="Open board";e.CreateFirstProject="Create your first team project";e.ChartEditorAggregationTooltip="You can only use fields with numeric values.";e.Red="Red";e.TeamPanel_Member="Members";e.Green="Green";e.Black="Black";e.AutomateTestButtonText="Start automated testing";e.Clear="Clear";e.LastUpdatedDateFormat="Updated {0}";e.ChartOrderResults_Ascending="Ascending";e.ProjectMruListBrowseTitle="Browse teams and projects";e.RefreshSignInToVSTS="This page should automatically refresh when you sign in. If it doesn\u0027t, click the Reload tab button to refresh manually.";e.ProjectMruListTeamIconTitle="Team";e.JumpstartContentWelcome="Your new team project {0} is now in the cloud. Your project can store everything - your tasks, code, builds, test suites and more. You might be wondering what\u0027s next:";e.FilteredListAriaDescribeFavorites="List items can be favorited via right arrow and Enter.";e.VsLinksMainTitle="Visual Studio";e.ChartMessage_RenderFailed="TF401189: The chart failed to render";e.ProjectVisibilityDescriptionEveryone="Anyone can view. Certain features like TFVC are not supported.";e.PieChartAdvancedTooltip="Use this chart type when there are multiple series relating to a sum.";e.GalleryPromotionNewFeatureTitle="Supercharge your Team Services Project";e.LinkedArtifacts_BuildResolutionFailed="{0} link can not be read. The build may have been deleted.";e.AddToMyFavoritesTitle="Add to my favorites";e.CreatedDateFormat="Created {0}";e.GalleryPromotionNewFeatureLearnMoreLinkTitle="Explore Extensions";e.TeamFavorites="Team favorites";e.LinkedArtifacts_EditCommentDialogLabel="Comment:";e.NoMruRooms="Browse to the Rooms hub to view team rooms you have access to.";e.InfoArea_DefaultRepoMD="# Create a default repository\\\\r\\\\n\\\\r\\\\nTo display project documentation you will need a default repository. A default repository is a repository that is named the same as your project. You may create the default repository named {0} using the [source control administration page]({1}).\\\\r\\\\n\\\\r\\\\n";e.CodeSearchPromotionQuickStartOkButtonContent="Install Code Search";e.TabNameEmptyNameMessage="Tab name must be specified.";e.NavigationContextMenuProjectLabelTitleFormat="Project \u0027{0}\u0027";e.LinkedArtifacts_ColumnHeader_Link="Link";e.FilteredListSuggestions="Suggestions";e.CreateProjectNoTemplates="The new team project wizard did not find any process templates on the Azure DevOps Server.\r\n\r\nContact your Azure DevOps Server administrator and ask that a process template be uploaded to the server.";e.MSTeamsVSTSConfig_DashboardFilterHeader="Dashboard type";e.MembersManageDialogAdd="Add";e.AboutTFSTitle_OnPrem="About Azure DevOps Server";e.ChartConfigurationLabel_GroupBy="Group by*";e.LearnMoreLabel="Learn more";e.PushToDashboardTitle="Add to dashboard";e.LearnMore="Learn more";e.ProjectVisibilityNameEveryoneInOrganization="People in your enterprise";e.NoMruProjects="Browse to a project by selecting browse above.";e.TeamSettingLabel="Team Settings";e.TenPercentLighterColor="10% lighter {0}";e.AboutTFSTitle_Hosted="About Azure DevOps Server";e.AboutTFSGetVSSubtitle="View all the download options";e.AboutTFSLearnTitle="Learn";e.CreateProject="Create project";e.EllipsisMenuTitle="Configure";e.InlineEdit_Edit="Edit";e.InlineEdit_Save="Save";e.PieChartName="Pie";e.ProjectDoesNotExistMessage="Project does not exist.";e.RelatedArtifacts_RemoveLink="Remove link";e.DataServicesEmptyResponse="The data services connection was terminated by the server.\r\n\r\nThis can arise due to a processing error on the server or a timeout with a very large data sets.";e.ErrorLoadingRooms="Cannot load recent rooms. Refresh the page to try again.";e.StackedBarChartName="Stacked bar";e.ChartMessage_MissingChartSelection="Select an option from \u0027{0}\u0027.";e.ChartConfigurationLabel_Of="of";e.ChartConfigurationLabel_YAxis="Y-axis";e.MoveToIterationTooltip="Move to an iteration.";e.LoadTestButtonText="Start load testing";e.LearningBubbleButtonLabel="Got It";e.MyFavoritesText="My favorites";e.ProgressControl_SummaryProgressText="of {0}";e.MissingTeamSettingsError="Incomplete team settings.";e.ShowTeamProfile="Show Team Profile";e.AboutTFSFeaturesTitle="Features";e.XTPromotionQuickStartTitle="Test \u0026 Feedback - Capture, Create, Collaborate";e.ChartAggregateTooltip="{0}: {1}";e.ChartEditorGroupingTooltip="Choose a query column to group the data by in your chart.";e.RMOAnnouncementSubtitle="Release Management";e.BrowseAllTeams="Browse all";e.TeamFavoritesText="Team favorites";e.NewsViewAllLink="View all";e.TeamAwarenessAssignToTooltip="Assign to a team member.";e.Asterix="*";e.JumpstartTitle="Congratulations!";e.JumpstartContentCode="Regardless of your preference - centralized or decentralized, we give you the tools to let you manage your code and share it with your team.";e.FortyPercentLighterColor="40% lighter {0}";e.ElsVsoIntegrationBackgroundImage="CloudLoadTesting.png";e.MSTeamsVSTSConfig_AccountText="Connected to account: {0}";e.LinkedArtifacts_ColumnHeader_Id="Id";e.EightyPercentLighterColor="80% lighter {0}";e.InfoArea_FileDoesNotExist="\\\\t{0} does not exist. Edit and commit this file to create it.\\\\r\\\\n\\\\r\\\\n";e.StackedAreaChartName="Stacked area";e.MembersWelcomeContent="Your team project lets you collaborate with others, work on the same code, create work items, track status, and more.";e.DefaultChartName="{0} - Chart";e.ProjectMruListBrowseText="Browse";e.ContributionNotFound="Tab group contribution expected.";e.MembersAddButtonContent1="From here you can directly add, modify, and remove users from your team project.";e.MembersAddButtonContent2="Click on {0}";e.RelatedArtifacts_ShowMore="Show more";e.SourceControlSystemLabel="Version control";e.StateCategoryCompleted="Completed";e.InsertMermaidDiagramText="Insert Mermaid diagram";e.InfoCustomProcesses="Customizations that require specific user credentials will also not work because the operation is being performed using the server credentials. Please refer to \u003ca href=\"https://msdn.microsoft.com/Library/vs/alm/overview/create-team-project\" target=\u0027_blank\u0027\u003ecreating a team project\u003c/a\u003e for more details on this and additional restrictions.";e.ChartMessage_UnsupportedBrowser="TF401209: The chart requires capabilities which are unsupported on the current web browser";e.MSTeamsVSTSConfig_ProjectDashboardsHeader="All project dashboards";e.PivotTableName="Pivot table";e.TestHubContentTitle="Integrate testing into your development process";e.Turquoise="Turquoise";e.LinkedArtifacts_DataProvider_CouldNotBeResolved="Could not get details. Please refresh.";e.RMOAnnouncementBackgroundImage="ReleaseManagement.png";e.TestHubLoadTestContent="Understand and fix performance issues before they impact your business. Scale your tests to hundreds of thousands of concurrent users.";e.ProjectVisibilityDescriptionTeamMembers="Only people you give access to will be able to view the project.";e.FutureIterations="Future Iterations";e.AboutTFSAdminTitle="Administer";e.RemoveFromMyFavoritesTooltip="Remove from my favorites";e.ChartConfigurationLabel_Values="Aggregation";e.CreateProjectNameLabel="Project name";e.NavigationContextMenuHostedBackTo="Organization home";e.StateCategoryResolved="Resolved";e.StackedAreaChartAdvancedTooltip="Use this chart type to compare a relationship of parts to a whole over time and highlight the general trend across categories.";e.MoreActionsText="More actions";e.AddToMyFavoritesTooltipText="Add to my favorites";e.LastMentionedDateFormat="Mentioned {0}";e.TeamPanel_ItemsPivot="Items";e.MSTeamsVSTSConfig_KanbanLinkText="Learn more about Kanban boards";e.Loading="Loading...";e.ColumnChartName="Column";e.GenericFilterZeroData_Message="No {0} match your filter";e.FilterButtonClearFilters="Clear";e.FilteredListSelectedItem="Selected item {0}";e.ProjectCreationError="There was an error creating your project. Please {0}.";e.RelatedArtifacts_SummaryDelimiter="{0}, {1}";e.RemoveFromMyFavoritesTooltipText="Remove from my favorites";e.ChartEditorHistoryRangeTooltip="You must choose a time span for your chart.";e.BarChartAdvancedTooltop="Use this chart type to compare categories.";e.MembersFinishCancelButton="I’ve got it from here";e.AllITemsFilterText="All Items";e.ProjectMruListRemoveFromList="Remove from list";e.CodeSearchPromotionQuickStartContent="Install Code Search extension to perform fast, flexible, and powerful searches across all your code.";e.TagFilterLabel="Tags";e.LinkedArtifacts_LoadingEnd="Linked items loaded";e.TabStrip_Menu_MoveRight="Move right";e.FilterApplyFiltersButtonText="Apply";e.InfoArea_Project_Commit="\"Adding project documentation\"";e.FilteredListAriaDescribeTabs="Multiple tabs exist with different lists of items.";e.MSTeamsVSTSConfig_ProjectPickerPlaceholder="Select a project";e.MSTeamsVSTSConfig_DashboardFilterPickerPlaceholder="Select a dashboard type";e.AjaxRequestTimedOut="Ajax request has been timed out.";e.ElsVsoIntegrationTileSubTitle="Free credits to test it now";e.Chart1DValueTooltip="{0}: {1}";e.TeamRoomUserCount="{0} users in room";e.ChartHostDeleteChartToolTip="Delete chart";e.ChartMessage_DescribeServerError="The server failed to process the chart transform request, with an error of: {0}";e.ToggleFilterPanelHide="Hide Filter Panel";e.ToggleFilterPanelShow="Show Filter Panel";e.StateCategoryInProgress="In Progress";e.NetworkConnectionUnavailable="TF400893: Unable to contact the server. This is most likely caused by a network error. Please check your connection and try again.";e.AboutTFSCloseIconTitle_OnPrem="Hide this module.  Select \u0026#34;Display About Azure DevOps Server\u0026#34; from the help menu to make it visible again.";e.LinkedArtifacts_ColumnHeader_Comment="Comment";e.AboutTFSCloseIconTitle_Hosted="Hide this module.  Select \u0026#34;Display About Azure DevOps Server\u0026#34; from the help menu to make it visible again.";e.RMOAnnouncementTitle="Release Management Service Preview";e.AboutTFSGetVSTitle="Get Visual Studio";e.TeamServicesHeaderText="Team Services";e.Ellipsis="...";e.VideosText="Videos";e.ChartMeasure_Count="Count";e.VideoError="Unable to play video";e.MSTeamsVSTSConfig_DashboardDescription="Dashboards provide easy-to-read, easy access, real-time information.";e.StateCategoryProposed="Proposed";e.PinToHomepageTooltipText="Pin to homepage";e.AnnouncementFontColor="White";e.AzureBenefitTileBackgroundImage="vs-portfolio-of-benefits.png";e.JumpstartContentAgile="Get organized fast with the kanban board. Managing your work is as simple as dragging cards across the board.";e.SourceControlSystemNameGit="Git";e.LoadQueryResults="Load query results";e.LinkedArtifacts_Loading="Loading...";e.RequiresVS2012="Requires Visual Studio 2013+";e.ChartingTimeout="Chart query timed out";e.MSTeamsVSTSConfig_AddKanbanRadioButton="Add a Kanban board";e.ChartMessage_NoDataToDisplay_Body="there were 0 results";e.Edit_Undo="Undo";e.DefaultContributionExpected="No default contribution found.";e.SignInToVSTS="Sign in to Azure DevOps";e.ChartConfigurationLabel_StackBy="Stack by";e.TeamEmptyNameMessage="Team must be specified.";e.ChartConfigurationLabel_SortOrder="Sort order";e.DashboardDoesNotExistMessage="Dashboard does not exist.";e.RemoveFromTeamFavoritesContextMenuItem="Remove from Team Favorites";e.ChartEditorOrderTooltip="The results can be sorted by the series label or the value.";e.ChartService_ColumnsUnavailable="TF401188: Data for Chart Column editing could not be retrieved";e.TagFilterShowAllButtonTooltip="Remove all tag filters";e.MembersWelcomeCancelButton="Not now";e.JumpstartViewCode="View code";e.Blue="Blue";e.Teal="Teal";e.Pink="Pink";e.AddButtonText="Add...";e.StackedBarChartAdvancedTooltip="Use this chart type to compare parts of a whole across categories.";e.TabStrip_Menu_MoveLeft="Move left";e.TabStrip_Menu_MoveDown="Move down";e.RemoveFromTeamFavoritesTitle="Remove from team favorites";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Presentation/Scripts/TFS/TFS.Legacy.Ajax",["require","exports","VSS/Context","VSS/VSS","VSS/Service","VSS/Diag/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Diag","VSS/Performance","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation"],function(n,t,i,r,u,f,e,o,s,h,c){function rt(n,i,e,o,h){var c,v,p,a,y,w,k;if(s.logTracePoint("Ajax.response-received",h.requestId),u.getLocalService(f.ActivityStatsCollector).actionCompleted(tt[h.requestId],e),delete tt[ht],h.onComplete)for(y=0,w=h.onComplete;y<w.length;y++)k=w[y],k(e);if(h.isComplete=!0,delete b[h.requestId],h.options!==null&&h.options!==undefined&&h.options.wait!==null&&h.options.wait!==undefined&&t.endWait(h),i!=="timeout"&&e&&e.status===203&&(c=e.getResponseHeader("X-Tfs-Location"),c)){if(v=c.indexOf("reply_to="),v!==-1){for(p=c.indexOf("&",v),a=c.substring(0,v),p!==-1&&(a+=c.substring(p));a.charAt(a.length-1)==="&";)a=a.substring(0,a.length-1);c=a+"&reply_to="+encodeURIComponent(window.location.href)}window.location.href=c;return}if(o)try{o(n,i,e)}catch(d){s.logTracePoint("Ajax.callback-exception",d);l(d)}s.logTracePoint("Ajax.callback-complete",h.requestId);h.progressActionId&&r.globalProgressIndicator.actionCompleted(h.progressActionId);h.options&&h.options.tracePoint&&s.logTracePoint(h.options.tracePoint)}function a(n,t){return function(i,r,u){rt(i,r,u,t,n)}}function y(n,i,r){return function(u,f,o){rt(null,f,u,function(){var n;if(f==="timeout")l(pt(u,r),i);else if(u.status===0)t.unloadRequested||t.unloading||e.delay(this,2e3,function(){t.unloadRequested||t.unloading||l(lt(u,r),i)});else if(u.status>=12e3&&u.status<13e3)t.unloadRequested||t.unloading||l(lt(u,r),i);else{if(t.unloading&&f==="abort")return;try{n=e.parseMSJSON(u.responseText,!1)}catch(s){}n?l(new it(n.message,n.type),i):l(yt(u,o||u.statusText||u.status,r),i)}},n)}}function v(n,i,e){var o,c,l,a,v;return o={isComplete:!1,requestId:ht++,options:e},e&&e.wait&&t.startWait(o),l=h.getScenarioManager().addAjaxCallStart(),a=function(t){var i=t&&t.getResponseHeader&&t.getResponseHeader("ActivityId")||"",r=t&&t.getResponseHeader&&t.getResponseHeader("Content-Length")||0;l(n,o&&o.options&&o.options.type||"",i,t&&t.status||-1,Number(r));document.dispatchEvent(new CustomEvent("performance.legacyAjaxCall"))},o.onComplete=[a],c=n+" ("+o.requestId+")",s.logTracePoint("Ajax.request-started",c),v=u.getLocalService(f.ActivityStatsCollector).actionStarted(n),tt[o.requestId]=v,e&&e.showGlobalProgressIndicator===!1||(o.progressActionId=r.globalProgressIndicator.actionStarted(c)),b[o.requestId]=o,o}function p(n,t,i){n.options=$.extend(!0,{},i,n.options);n.xhr=$.ajax(t,n.options)}function at(n){var t=n.options.wait;t.entireWindow||(t.element.css("margin-top",-parseInt(t.target.css("padding-top"),10)),t.element.css("margin-left",-parseInt(t.target.css("padding-left"),10)),t.element.height(t.target.outerHeight()-2),t.element.width(t.target.outerWidth()-2));t.msgElement&&(t.msgElement.css("top",t.element.position().top+(t.element.height()-t.msgElement.height())/2+parseInt(t.element.css("margin-top"),10)),t.msgElement.css("left",t.element.position().left+(t.element.width()-t.msgElement.width())/2+parseInt(t.element.css("margin-left"),10)))}function ut(n){var t;return typeof n=="string"&&(n=n.replace(/\u2028/g,"\\u2028")),t=e.parseMSJSON(n,!1),t.hasOwnProperty("__wrappedArray")&&(t=t.__wrappedArray),t}function wt(){t.unloadRequested=!0;e.delay(this,2e3,function(){t.unloadRequested=!1})}function w(n){var t,u,r;return(n&&(t=n.sessionId,u=n.command),t||(r=i.getPageContext(),r&&r.diagnostics&&r.diagnostics.sessionId&&(t=r.diagnostics.sessionId)),t)?u?{"X-TFS-Session":t+","+u}:{"X-TFS-Session":t}:{}}function bt(n,t,i,r,u){var f=v(n,t,u),e={type:"GET",data:t,success:a(f,i),error:y(f,r,n),dataType:"json",traditional:!0,timeout:g,headers:w(u)};return ct.allowArrayResult||(e.converters={"text json":ut}),p(f,n,e),f}function ft(n){var t,r,i;if(Array.isArray(n))for(t=0;t<n.length;++t)r=n[t],n[t]==null?n[t]="":typeof r=="object"&&ft(r);else if(typeof n=="object")for(i in n)n[i]==null?n[i]="":typeof n[i]=="object"&&ft(n[i])}function vt(n,t,i,r,u,f){var s,o,c,h,l;if(f||(ft(t),t=e.stringifyMSJSON(t),u=u||{},u.contentType="application/json"),s=v(n,t,u),u&&u.timeout&&(g=u.timeout),o={type:"POST",data:t,success:a(s,i),error:y(s,r,n),dataType:"json",traditional:!0,timeout:g,headers:w(u)},ct.allowArrayResult||(o.converters={"text json":ut}),f)for(o.contentType=!1,o.processData=!1,o.data=new FormData,c=Object.keys(t),h=0;h<c.length;h++)l=c[h],o.data.append(l,t[l]);try{p(s,n,o)}catch(b){r(b)}return s}function kt(n,t,i,r,u){return vt(n,t,i,r,u,!0)}function dt(n,t,i,r,u){var e,f;return t=$.extend(t,{__RequestVerificationToken:st()}),e=d(),e&&(t=$.extend(t,{__RequestVerificationToken2:e})),f=v(n,t,u),p(f,n,{type:"POST",data:t,success:a(f,i),error:y(f,r,n),dataType:"html",traditional:!0,cache:!1,headers:w(u)}),f}function gt(n,t,i,r,u){var f=v(n,t,u);return p(f,n,{type:"GET",data:t,success:a(f,i),error:y(f,r,n),dataType:"html",traditional:!0,cache:!1,headers:w(u)}),f}function ni(n){var t=v(n&&n.url,n&&n.data,n);return p(t,n&&n.url,{type:"GET",dataType:"jsonp",traditional:!0,success:a(t,n&&n.callback),headers:w(n)}),t}function st(){return et||(et=$("input[name=__RequestVerificationToken]").val()),et}function d(){return ot||(ot=$("input[name=__RequestVerificationToken2]").val()),ot}function ti(){var n,t;return n=$("<input />").attr("type","hidden").attr("name","__RequestVerificationToken").val(st()),t=d(),t&&n.after($("<input />").attr("type","hidden").attr("name","__RequestVerificationToken2").val(d())),n}function ii(n){var t=$(n);if(t.find("input[name=__RequestVerificationToken]").length===0)return t.append(ti())}var it,et,ot;Object.defineProperty(t,"__esModule",{value:!0});t.setAntiForgeryToken=t.getAntiForgeryTokenValue2=t.getAntiForgeryTokenValue=t.getJSONp=t.getHTML=t.postHTML=t.multipartPostMSJSON=t.postMSJSON=t.getMSJSON=t.msJSONFilter=t.beginRequest=t.wrapErrorCallback=t.wrapSuccessCallback=t.endRequest=t.XhrError=t.Exceptions=t.endWait=t.startWait=t.unloadRequested=t.unloading=void 0;t.unloading=!1;t.unloadRequested=!1;var ht=1,g=3e5,l=r.handleError,b,nt,ct={allowArrayResult:!1,byPassAntiForgery:!1},tt={},k;(function(n){n.AjaxException="TFS.Core.Ajax.AjaxException";n.AjaxTimeoutException="TFS.Core.Ajax.AjaxTimeoutException";n.NetworkException="TFS.Core.Ajax.NetworkException"})(k=t.Exceptions||(t.Exceptions={}));b={};it=function(){function n(n,t){this.message=n;this.type=t}return n}();t.XhrError=it;var yt=function(n,t,i){var r=new Error(o.format(c.AjaxRequestFailedWithStatus,t));return r.name=k.AjaxException,r.response=n.responseText,r.xhr=n,r.source=i,r},pt=function(n,t){var i=new Error(c.AjaxRequestTimedOut);return i.name=k.AjaxTimeoutException,i.status=n.status,i.xhr=n,i.source=t,i},lt=function(n,t){var i=new Error(c.NetworkConnectionUnavailable);return i.name=k.NetworkException,i.status=n.status,i.xhr=n,i.source=t,i};t.endRequest=rt;t.wrapSuccessCallback=a;t.wrapErrorCallback=y;t.beginRequest=v;t.startWait=function(n){n.options.wait.end=function(){var t=n.options.wait;t.element&&n.isComplete&&!t.timeout&&(t.fade!==!1?(t.element.css("cursor","auto"),t.element.fadeOut("fast",function(){t.element.remove();t.element=null}),t.msgElement&&(t.msgElement.css("cursor","auto"),t.msgElement.fadeOut("fast",function(){t.msgElement.remove();t.msgElement=null}))):(t.element.css("cursor","auto"),t.element.remove(),t.element=null,t.msgElement&&(t.msgElement.css("cursor","auto"),t.msgElement.remove(),t.msgElement=null)),$(window).off("resize."+n.requestId))};var t=n.options.wait;t.showDelay||(t.showDelay=250);t.target||(t.entireWindow=!0,t.target=$("body"));t.target.children(".wait-element").hide();t.target.children(".wait-box").hide();t.showDelay!==0?n.showTimer=e.delay(this,t.showDelay,function(){delete n.showTimer;nt(n)}):nt(n)};t.endWait=function(n){n.options.wait.end();n.showTimer&&(n.showTimer.cancel(),delete n.showTimer)};nt=function(n){var i="",r="",t=n.options.wait;t.image&&(i+='<img class="wait-image" src="'+t.image+'" />');t.message&&(i+='<div class="wait-message">'+t.message+"<\/div>");i.length>0&&(t.target.prepend('<div class="wait-box">'+i+"<\/div>"),t.msgElement=t.target.children(".wait-box").first());t.backgroundcolor&&(r+="background-color: "+t.backgroundcolor+";");t.target.prepend('<div class="wait-element" style="'+r+'"><\/div>');t.element=t.target.children(".wait-element").first();at(n);$(window).on("resize."+n.requestId,function(){at(n)});t.minLifetime||(t.minLifetime=100);t.timeout=e.delay(this,t.minLifetime,function(){delete t.timeout;t.end()})};t.msJSONFilter=ut;$(window).on("beforeunload",wt);$(window).on("unload",function(){t.unloading=!0;$.each(b,function(n,t){if(t.xhr)try{t.xhr.abort()}catch(i){}})});t.getMSJSON=bt;t.postMSJSON=vt;t.multipartPostMSJSON=kt;t.postHTML=dt;t.getHTML=gt;t.getJSONp=ni;t.getAntiForgeryTokenValue=st;t.getAntiForgeryTokenValue2=d;t.setAntiForgeryToken=ii});

define("Presentation/Scripts/TFS/TFS.WebSettingsService",["require","exports","Presentation/Scripts/TFS/TFS.Service","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Diag"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.WebSettingsService=t.WebSettingsScope=void 0,function(n){n[n.User=1]="User";n[n.UserAndTeam=3]="UserAndTeam";n[n.Project=4]="Project";n[n.ProjectAndUser=5]="ProjectAndUser";n[n.Collection=6]="Collection";n[n.Root=7]="Root"}(f=t.WebSettingsScope||(t.WebSettingsScope={}));e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.canAccessTeamSettings=function(){var n=this.getTfsContext();return Boolean(n.currentTeam)},t.prototype.beginWriteSetting=function(n,t,i,u,e,o){var s;return typeof t=="boolean"?s="setBoolean":typeof t=="number"?(t=Math.floor(t),s="setInteger"):(s="setString",typeof t=="undefined"?t=null:t!==null&&typeof t!="string"&&(t=$.param(t))),typeof i=="undefined"&&(i=f.User),r.postMSJSON(this._getApiLocation(s,this._getContext(i)),{path:n,value:t,scope:i},u,e,o)},t.prototype.beginReadSetting=function(n,t,i,u,e){return typeof t=="undefined"&&(t=f.User),r.getMSJSON(this._getApiLocation("readSetting",this._getContext(t)),{path:n,scope:t},i,u,e)},t.prototype.writeLocalSetting=function(n,t,i,r){var f=this._getScopedKey(n,i);if(f)try{window.localStorage.setItem(f,t)}catch(e){if(r)throw e;else u.logWarning("Local storage write failed."),u.logWarning(e)}},t.prototype.readLocalSetting=function(n,t,i){var r=this._getScopedKey(n,t);if(r)try{return window.localStorage.getItem(r)}catch(f){if(i)throw f;else u.logWarning("Local storage read failed."),u.logWarning(f)}return null},t.prototype.removeLocalSetting=function(n,t,i){var r=this._getScopedKey(n,t);if(r)try{window.localStorage.removeItem(r)}catch(f){if(i)throw f;else u.logWarning("Local storage removal failed."),u.logWarning(f)}return null},t.prototype._getScopedKey=function(n,t){var i=this.getTfsContext(),r=i.currentIdentity?i.currentIdentity.id:null,s=i.currentTeam?i.currentTeam.identity.id:null,o,e;switch(t){case f.User:return r+n;case f.UserAndTeam:return r+"/"+s+n;case f.Project:return e=i.navigation?i.navigation.projectId:null,o=i.navigation?i.navigation.collection.instanceId:null,o+"/"+e+n;case f.ProjectAndUser:return e=i.navigation?i.navigation.projectId:null,e+"/"+r+n;default:return null}},t.prototype._getApiLocation=function(n,t){return this.getTfsContext().getActionUrl(n,"webSettings",{area:"api",team:t.team,project:t.project,serviceHost:this.getCurrentServiceHost()})},t.prototype._getContext=function(n){return n===f.User||n===f.Collection||n===f.Root?{team:"",project:""}:n===f.Project?{team:"",project:this.getTfsContext().contextData.project.id}:{team:this.getTfsContext().currentTeam.identity.id}},t}(i.TfsService);t.WebSettingsService=e});

define("VSS/Artifacts/Constants",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.ToolNames=t.ArtifactTypeNames=void 0,function(n){n.TcmResult="TcmResult";n.TcmResultAttachment="TcmResultAttachment";n.TcmTest="TcmTest";n.Build="Build";n.VersionedItem="VersionedItem";n.LatestItemVersion="LatestItemVersion";n.Changeset="Changeset";n.Shelveset="Shelveset";n.WorkItem="WorkItem";n.Storyboard="Storyboard";n.Commit="Commit";n.CodeReviewId="CodeReviewId";n.CodeReviewSdkId="ReviewId";n.PullRequestId="PullRequestId";n.ProjectDownloadProject="Project";n.Ref="Ref";n.WikiPage="WikiPage";n.PullRequest="PullRequest";n.Issue="Issue"}(i=t.ArtifactTypeNames||(t.ArtifactTypeNames={})),function(n){n.VersionControl="VersionControl";n.WorkItemTracking="WorkItemTracking";n.RemoteWorkItemTracking="RemoteWorkItemTracking";n.TeamBuild="Build";n.TestManagement="TestManagement";n.Requirements="Requirements";n.Hyperlink="Hyperlink";n.Legacy="Legacy";n.CodeSense="CodeSense";n.Git="Git";n.CodeReview="CodeReview";n.ProjectDownload="ProjectDownload";n.Wiki="Wiki";n.GitHub="GitHub"}(r=t.ToolNames||(t.ToolNames={}))});

define("VSS/Artifacts/Services",["require","exports","VSS/Context","VSS/Diag","VSS/Events/Action","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Utils/Url","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h){function v(n){return n.toLowerCase()}function p(n){for(var i={},u,r,t=0,f=n.length;t<f;t++)u=l.decodeUri(n[t]),r=v(u.tool),i[r]||(i[r]=[]),i[r].push(u);return i}var c,l,y,a;Object.defineProperty(t,"__esModule",{value:!0});t.ClientLinking=t.LinkingUtilities=t.Artifact=void 0;c=function(){function n(n){this._data=n;this._data.uri||(this._data.uri=l.encodeUri({tool:this.getTool(),type:this.getType(),id:this.getId()}))}return n._execute=function(n,t){var i=n.getUrl(t);i?u.getService().performAction(u.CommonActions.ACTION_WINDOW_OPEN,{url:i,target:"_blank"}):alert(s.format(f.UnknownArtifactType,n.getType()))},n.prototype.getUri=function(){return this._data.uri},n.prototype.getTool=function(){return this._data.tool},n.prototype.getType=function(){return this._data.type},n.prototype.getId=function(){return this._data.id},n.prototype.getTitle=function(){return this.getUri()},n.prototype.setError=function(n){this._error=n},n.prototype.getError=function(){return this._error},n.prototype.execute=function(t){return u.getService().performAction(n.ACTION_ARTIFACT_EXECUTE,{artifact:this,webContext:t})},n.prototype.getUrl=function(){return null},n.ACTION_ARTIFACT_EXECUTE="artifact-execute",n}();t.Artifact=c;u.getService().registerActionWorker(c.ACTION_ARTIFACT_EXECUTE,function(n){return c._execute(n.artifact,n.webContext)});l=function(){function n(){}return n.encodeUri=function(t){return n.VSTFS+[encodeURIComponent(t.tool),encodeURIComponent(t.type),encodeURIComponent(t.id)].join(n.URI_SEPARATOR)},n.decodeUri=function(t){var u,i;if(t.length>n.VSTFS.length&&(u=t.substr(0,n.VSTFS.length).toLowerCase(),u===n.VSTFS&&(i=t.substr(n.VSTFS.length).split(n.URI_SEPARATOR),i.length>=3))){var e=i[0],o=i[1],h=i.slice(2).join("/");return{uri:t,tool:n.legacyDecodeURIComponent(e),type:n.legacyDecodeURIComponent(o),id:n.legacyDecodeURIComponent(h)}}throw new Error(s.format(f.InvalidArtifactUri,t));},n.legacyDecodeURIComponent=function(n){var t;return t=n.replace(/\+/g," "),decodeURIComponent(t)},n.VSTFS="vstfs:///",n.URI_SEPARATOR="/",n}();t.LinkingUtilities=l;y={};a=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.registerArtifactResolver=function(n,t){y[v(n)]=t},t.getArtifactResolver=function(n){return y[v(n)]},t.prototype.beginResolveArtifacts=function(n,i,r){function l(n,t){for(var f=[],r,i=0,u=n.length;i<u;i++)r=new c(n[i]),t&&r.setError(t),f.push(r);return f}function e(){u.resolving===0&&(r(u.results),u.resolving-=1)}function f(n,t){u.resolving-=1;u.results=u.results.concat(n.success?n.artifacts:l(t,n.error));e()}function a(n,i){var r=t.getArtifactResolver(n);return r?(r(i,h,function(n){f(n,i)},function(n){f({success:!1,error:n},i)}),!0):!1}var s=this.getWebContext(),h=$.extend({webContext:s},i),u={results:[],resolving:0},o=p(n);$.each(o,function(){u.resolving+=1});$.each(o,function(n,t){a(n,t)||f({success:!1,error:new Error("NoResolver")},t)});e()},t.MODE_TRANSLATEURL="translateURL",t}(e.VssService);t.ClientLinking=a;o.getTranslatorService().registerUrlTranslator(function(n,t,r,u,f){var o;n&&s.startsWith(n,l.VSTFS,s.ignoreCaseComparer)?(o=t&&t.webContext||i.getDefaultWebContext(),e.getCollectionService(a,o).beginResolveArtifacts([n],{mode:a.MODE_TRANSLATEURL},function(n){n&&n.length===1&&!n[0].getError()?r(n[0].getUrl(o)):f()},u)):f()});h.tfsModuleLoaded("VSS.OM.Artifacts",t)});

define("Build.Common/Scripts/Registration.Artifacts",["require","exports","VSS/Artifacts/Constants","VSS/Artifacts/Services","VSS/VSS"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});r.ClientLinking.registerArtifactResolver(i.ToolNames.TeamBuild,function(n,t,i,r){u.using(["Build.Common/Scripts/BuildArtifacts"],function(u){u.BuildArtifactResolver.beginResolve(n,t,i,r)})});u.tfsModuleLoaded("Registration.Artifacts",t)});

define("Requirements/Scripts/TFS.Requirements.Setup",["require","exports","VSS/VSS","VSS/Artifacts/Constants","VSS/Artifacts/Services"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});u.ClientLinking.registerArtifactResolver(r.ToolNames.Requirements,function(n,t,r,u){i.using(["Requirements/Scripts/TFS.Requirements.Utils"],function(i){i.RequirementsArtifactHandler.beginResolve(n,t,r,u)})});i.tfsModuleLoaded("TFS.Requirements.Setup",t)});

define("TestManagement/Scripts/TFS.TestManagement.Setup",["require","exports","VSS/Artifacts/Constants","VSS/Artifacts/Services","VSS/VSS"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});r.ClientLinking.registerArtifactResolver(i.ToolNames.TestManagement,function(n,t,i,r){u.using(["TestManagement/Scripts/TFS.TestManagement.TestManagementHandler"],function(u){u.TestManagementArtifactHandler.beginResolve(n,t,i,r)})});u.tfsModuleLoaded("TFS.TestManagement.Setup",t)});

define("Presentation/Scripts/TFS/TFS.ArtifactPlugins",["require","exports","q","VSS/Diag"],function(n,t,i,r){function e(n,t){n=n.toLowerCase();u[n]=t}function s(){return u}function h(n,t){var i;n=n.toLowerCase();i=u[n];i?i(t):t(null)}function c(n){var t=i.defer();return h(n,function(i){i?t.resolve(i):t.reject("Could not create plug-in of type "+n)}),t.promise}function l(n){return f(n.tool,n.type)}function f(n,t){return(n+"/"+t).toLowerCase()}function a(n){return f(n.tool,n.type)}var o,u;Object.defineProperty(t,"__esModule",{value:!0});t.combineArtifactType=t.combineToolAndType=t.combineArtifactToolAndType=t.beginGetArtifactPlugin=t.getGlobalArtifactPlugins=t.registerArtifactPluginAsync=t.ArtifactIconType=void 0,function(n){n[n.icon=0]="icon";n[n.colorBar=1]="colorBar";n[n.colorCircle=2]="colorCircle"}(o=t.ArtifactIconType||(t.ArtifactIconType={}));u={};t.registerArtifactPluginAsync=e;t.getGlobalArtifactPlugins=s;t.beginGetArtifactPlugin=c;t.combineArtifactToolAndType=l;t.combineToolAndType=f;t.combineArtifactType=a});

define("VersionControl/Scripts/TFS.VersionControl.Registration.Artifacts",["require","exports","VSS/VSS","VSS/Artifacts/Constants","VSS/Artifacts/Services","Presentation/Scripts/TFS/TFS.ArtifactPlugins"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});u.ClientLinking.registerArtifactResolver(r.ToolNames.VersionControl,function(n,t,r,u){i.using(["VersionControl/Scripts/TFS.VersionControl"],function(i){i.VersionControlArtifactHandler.beginResolve(n,t,r,u)})});u.ClientLinking.registerArtifactResolver(r.ToolNames.Git,function(n,t,r,u){i.using(["VersionControl/Scripts/TFS.VersionControl"],function(i){i.GitArtifactHandler.beginResolve(n,t,r,u)})});f.registerArtifactPluginAsync("git",function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.RelatedArtifacts"],function(t){n(t.VCArtifactPlugin)})});i.tfsModuleLoaded("TFS.VersionControl.Registration.Artifacts",t)});

define("Presentation/Scripts/TFS/TFS.OM.Common",["require","exports","VSS/VSS","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/UI","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.WebSettingsService","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Diag","VSS/Service","VSS/Events/Action","VSS/Context","VSS/Common/Contracts/Platform"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function k(n){var t=new Error(u.format("Favorite item '{0}' already exist.",n));return t.name=b.FavoriteItemAlreadyExist,t}function it(n,t,i){var r;return r={area:"api"},t=t||n.navigation.topMostLevel,r.team=i,t>=o.NavigationContextLevels.Application&&(t<o.NavigationContextLevels.Team&&(r.ignoreDefaultTeam=!0,r.team=""),t<o.NavigationContextLevels.Project&&(r.project=""),t<o.NavigationContextLevels.Collection&&(r.serviceHost="")),r}var b,d,g,nt,p,w,tt,rt,et,ut,ft;Object.defineProperty(t,"__esModule",{value:!0});t.AlmUriManager=t.AlmUriBuilder=t.ContextUtils=t.FavoriteStore=t.FavoriteFolder=t.FavoriteItem=t.ProjectCollection=t.Deployment=t.Application=void 0,function(n){n.FavoriteItemAlreadyExist="VSS.Service.FavoriteItemAlreadyExist"}(b||(b={}));d=function(){function n(){}return n.getConnection=function(n){var t=n?n.contextData:v.getDefaultWebContext();return l.VssConnection.getConnection(t,y.ContextHostType.Application)},n.getDefaultConnection=function(){return l.VssConnection.getConnection(v.getDefaultWebContext(),y.ContextHostType.Application)},n}();t.Application=d;g=function(){function n(){}return n.getConnection=function(n){var t=n?n.contextData:v.getDefaultWebContext();return l.VssConnection.getConnection(t,y.ContextHostType.Deployment)},n.getDefaultConnection=function(){return l.VssConnection.getConnection(v.getDefaultWebContext(),y.ContextHostType.Deployment)},n}();t.Deployment=g;nt=function(){function n(){}return n.getConnection=function(n){var t=n?n.contextData:v.getDefaultWebContext();return l.VssConnection.getConnection(t,y.ContextHostType.ProjectCollection)},n.getDefaultConnection=function(){return l.VssConnection.getConnection(v.getDefaultWebContext(),y.ContextHostType.ProjectCollection)},n}();t.ProjectCollection=nt;p=function(){function n(n,t){this.favStore=n;t&&(this.id=t.id,this.name=t.name,this.parentId=t.parentId,this.type=t.type,this.data=t.data,this.artifactIsDeleted=t.artifactIsDeleted)}return n.prototype.path=function(n){return e.calculateTreePath.call(this,n,"/","name","root")},n.prototype.beginRename=function(n,t,r){var u=this,f;this.parent&&this.parent.findChildItem(n,this.type,this.data)?i.handleError(k(n),r,this):(f=$.extend({},this),f.name=n,this.favStore.beginUpdateItems([f],function(){u.name=n;$(window).trigger("favorite-item-renamed",u);typeof t=="function"&&t.call(u,u)},r))},n.prototype.beginDelete=function(n,t,i){this.favStore.beginDeleteItems([this],n,t,i)},n.prototype.onDelete=function(n,t){!t&&this.parent&&this.parent.remove(this);delete this.favStore.all[this.id];n&&$(window).trigger("favorite-item-removed",this)},n.FAVITEM_TYPE_WIT_QUERYITEM="Microsoft.TeamFoundation.WorkItemTracking.QueryItem",n.FAVITEM_TYPE_WIT_QUERYCHART="Microsoft.TeamFoundation.WorkItemTracking.QueryChart",n.FAVITEM_TYPE_VC_PATH="Microsoft.TeamFoundation.VersionControl.Path",n.FAVITEM_TYPE_GIT_REPOSITORY="Microsoft.TeamFoundation.Git.Repository",n.FAVITEM_TYPE_GIT_REPOSITORY_FORK="Microsoft.TeamFoundation.Git.Repository.Fork",n.FAVITEM_TYPE_TFVC_REPOSITORY="Microsoft.TeamFoundation.Tfvc.Repository",n.FAVITEM_TYPE_BUILD_DEFINITION="Microsoft.TeamFoundation.Build.Definition",n.FAVITEM_TYPE_TESTMANAGEMENT_CHART="Microsoft.Teamfoundation.TestManagement.Charts",n.FAVITEM_TYPE_PROJECT="Microsoft.TeamFoundation.Classification.TeamProject",n.FAVITEM_TYPE_TEAM="Microsoft.TeamFoundation.Teams.Team",n.FAVITEM_TYPE_TEST_PLAN="Microsoft.TeamFoundation.TestManagement.Plan",n}();t.FavoriteItem=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.children=[],r}return __extends(t,n),t.prototype.add=function(n,t){this.children.push(n);n.parent=this;t!==!0&&this.children.sort(function(n,t){return u.localeIgnoreCaseComparer(n.name,t.name)})},t.prototype.remove=function(n){f.remove(this.children,n)},t.prototype.clear=function(){this.children=[]},t.prototype.findByPath=function(n){return e.findTreeNode.call(this,n,"/",u.localeIgnoreCaseComparer,"name")},t.prototype.findByData=function(n){for(var i,t=0,r=this.children.length;t<r;t++)if(i=this.children[t],i.data===n)return i;return null},t.prototype.beginCreateNewFolder=function(n,t,i){this.beginCreateNewItem(n,null,null,t,i)},t.prototype.beginCreateNewItem=function(n,r,u,f,e,o){var s,h=this,c;(o===null||o===undefined)&&(o=!0);this.findChildItem(n,r,u)?i.handleError(k(n),e,this):(c={id:undefined,parentId:this.id,name:n,type:r,data:u},s=r?new p(this.favStore,c):new t(this.favStore,c),this.favStore.beginUpdateItems([s],function(){h.add(s);h.favStore.all[s.id]=s;o&&$(window).trigger("favorite-item-created",s);typeof f=="function"&&f.call(h,s)},e))},t.prototype.onDelete=function(t,i){$.each(this.children,function(n,t){t.onDelete(!1,!0)});n.prototype.onDelete.call(this,t,i)},t.prototype.findChildItem=function(n,t,i){for(var r,f=0,e=this.children.length;f<e;f++)if(r=this.children[f],u.localeIgnoreCaseComparer(n,r.name)===0&&r.type===t&&r.data===i)return r;return null},t}(p);t.FavoriteFolder=w;tt={};rt=function(n){function t(t,i,r,u,f,e){var o=n.call(this,null,{id:f,name:e})||this;return o.root=!0,o.favStore=o,o._tfsContext=t,o._routeData=i,o._identity=r,o._scope=u,o.all={},o}return __extends(t,n),t.computeStoreKey=function(n,t,i,r){return n.getActionUrl("list","favorites",$.extend({},r,{identityId:t,scope:i}))},t.createFavoriteStore=function(n,i,r,u,f){var e,o;return r===null&&(r=undefined),e=it(n,i,r),o=t.computeStoreKey(n,r,u,e),new t(n,e,r,u,o,f)},t.beginGetFavoriteStore=function(n,r,u,f,e,o,s,h){var c,l;o?(c=t.createFavoriteStore(n,r,u,f,e),c.beginRefresh(function(){s(c)},h)):(l=t.computeStoreKey(n,u,f,it(n,r,u)),i.queueRequest(this,tt,l,s,h,function(i,o){var s=t.createFavoriteStore(n,r,u,f,e);s.beginRefresh(function(){i(s)},o)}))},t.getFavoriteStore=function(n,i,r,u,f){return t.createFavoriteStore(n,i,r,u,f)},t.prototype.beginRefresh=function(n,t){var i,r=this;i=this._tfsContext.getActionUrl("list","favorites",this._routeData);h.getMSJSON(i,{identityId:this._identity,scope:this._scope},function(t){r._populateItems(t);typeof n=="function"&&n.call(r)},t)},t.prototype.beginDeleteItems=function(n,t,i,r){var e=this,u,f;(r===null||r===undefined)&&(r=!0);n&&n.length&&(f=this._tfsContext.getActionUrl("delete","favorites",this._routeData),u=$.map(n,function(n){return n.id}),h.postMSJSON(f,{identityId:this._identity,scope:this._scope,favItemIds:u},function(){$.each(n,function(n,t){t.onDelete(r)});typeof t=="function"&&t.call(e,n)},i))},t.prototype.beginUpdateItems=function(n,t,i){var u=this,f,e;n&&n.length&&(e=this._tfsContext.getActionUrl("update","favorites",this._routeData),f=$.map(n,function(n){return r.stringifyMSJSON({id:n.id,parentId:n.parentId===u.id?undefined:n.parentId,name:n.name,type:n.type,data:n.data,artifactIsDeleted:n.artifactIsDeleted})}),h.postMSJSON(e,{identityId:this._identity,scope:this._scope,favItemJsons:f},function(i){$.each(i,function(t,i){n[i.index].id=i.id});typeof t=="function"&&t.call(u,n)},i))},t.prototype._populateItems=function(n){var t={},r,i,f,e=this;this.clear();n&&(n.sort(function(n,t){return u.localeIgnoreCaseComparer(n.name,t.name)}),$.each(n,function(n,i){var r;r=i.type?new p(e,i):new w(e,i);t[r.id]=r}));for(r in t)t.hasOwnProperty(r)&&(i=t[r],f=t[i.parentId],f?f.add(i,!0):this.add(i,!0));this.all=t},t.FAVORITE_STORE_SCOPE_FAVORITE_QUERIES="WorkItemTracking.Queries",t.FAVORITE_STORE_SCOPE_FAVORITE_BUILD_DEFINITIONS="Build.Definitions",t.FAVORITE_STORE_SCOPE_FAVORITE_PATHS="VersionControl.Paths",t.FAVORITE_STORE_SCOPE_FAVORITE_PROJECTS="Classification.TeamProjects",t.FAVORITE_STORE_SCOPE_FAVORITE_TEAMS="Team.Teams",t.FAVORITE_STORE_SCOPE_FAVORITE_VC_REPOSITORIES="VersionControl.Repositories",t.FAVORITE_STORE_SCOPE_FAVORITE_TEST_PLAN="TestManagement.Plans",t}(w);t.FavoriteStore=rt,function(n){function t(n,t,i,r){var u=o.TfsContext.getDefault();t=n+t;l.getCollectionService(s.WebSettingsService).beginWriteSetting("/"+t,i,s.WebSettingsScope.User,r)}function i(n,i,r,u){t(n,i,r,u)}function r(n,i,r,u){t(n,i,r,u)}function u(n,i,r,u){t(n,i,r,u)}n.saveTeamUserStringSetting=i;n.saveTeamUserNumberSetting=r;n.saveTeamUserBoolSetting=u}(et=t.ContextUtils||(t.ContextUtils={}));ut=function(){function n(){}return n._combineUri=function(t,i){return n._ensureUriReadyForAppend(t)+i},n._ensureUriReadyForAppend=function(n){return n.lastIndexOf("/")===n.length-1?n:n+"/"},n.browserRequiresParamEncoding=function(){return e.BrowserCheckUtils.isMsie()&&parseInt(e.BrowserCheckUtils.getVersion(),10)<10},n.beginBuildUri=function(t,i,r,u,f,e){u;var a=n.ALM_SCHEME+t+"/"+i,s,l,v=n.browserRequiresParamEncoding();u=u||[];r&&(s=o.TfsContext.getDefault(),u.splice(0,0,{name:n.COLLECTION_PARAM_NAME,value:s.navigation.collection.uri}));l=n.buildQueryParameterString(u);v?h.getMSJSON(s.getActionUrl("Base64EncodeValue","common",{area:"api"}),{value:n.buildQueryParameterString(u,v)},function(t){f.call(this,a+l+"&"+n.ENCODED_PARAM_NAME+"="+t)},e):f.call(this,a+l)},n.buildFeedbackClientUri=function(t){var i,u=[],r=o.TfsContext.getDefault();return i=r.navigation.publicAccessPoint.scheme==="https"?n.MFBCLIENTS_SCHEME:n.MFBCLIENT_SCHEME,i+=r.navigation.publicAccessPoint.authority+r.navigation.collection.vDir,i+=n.PROJECT_PARAM_NAME+":"+r.navigation.project,u.push({name:n.FEEDBACK_REQUEST_IDS_PARAM_NAME,value:t.join(",")}),i+n.buildQueryParameterString(u)},n.buildQueryParameterString=function(n,t){var i="",r;return $.each(n,function(u){r=n[u];i+=u===0?"?":"&";i+=encodeURIComponent(r.name)+"=";i+=t||r.doNotEncode?r.value:encodeURIComponent(r.value)}),i},n.ALM_SCHEME="tfs://",n.COLLECTION_PARAM_NAME="cn",n.PROJECT_PARAM_NAME="p",n.WORK_ITEM_ID_PARAM_NAME="wid",n.MFBCLIENT_SCHEME="mfbclient://",n.MFBCLIENTS_SCHEME="mfbclients://",n.FEEDBACK_REQUEST_IDS_PARAM_NAME="rid",n.ENCODED_PARAM_NAME="__params",n}();t.AlmUriBuilder=ut;ft=function(){function n(){}return n.launchUri=function(n){var t=e.BrowserCheckUtils.isMsie()&&parseInt(e.BrowserCheckUtils.getVersion(),10)>=10;t||window.navigate?a.getService().performAction(a.CommonActions.ACTION_WINDOW_NAVIGATE,{url:n}):a.getService().performAction(a.CommonActions.ACTION_WINDOW_OPEN,{url:n,target:"_blank"})},n}();t.AlmUriManager=ft;i.tfsModuleLoaded("TFS.OM.Common",t)});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)};define("VSS/Controls/PopupContent",["require","exports","VSS/Controls","VSS/Diag","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI"],function(n,t,i,r,u,f,e){var v,h,o;Object.defineProperty(t,"__esModule",{value:!0});t.RichContentTooltip=t.RichContentTooltipO=t.PopupContentControl=t.PopupContentControlO=void 0;var c=e.domElem,l=u.delegate,a=100,y=1e3,s=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._hasFocus=!1,t._blockFocusUntil=-a-1,t._hasMouse=!1,t._enabled=!0,t._handlers={},t}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._element[0].classList.add("popup-content-control");this._setAriaDescribedBy();!this._options.openDelay&&this._$dropElement.is(":focus")&&this.show();this._onForceHideDropPopupDelegate=this.onForceHideDropPopup.bind(this)},t.prototype.onForceHideDropPopup=function(){this.hide()},t.prototype.setTextContent=function(n){this._setContent(f.htmlEncode(n))},t.prototype.setHtmlContent=function(n){this._setContent(n)},t.prototype._setContent=function(n){this._$contentContainer.html(n);this._contentSet=!0;this._visible&&this._reposition()},t.prototype._initializeContent=function(){if(!this._contentSet){if(this._options.text)typeof this._options.text=="function"?this.setTextContent(this._options.text.call(this)):this.setTextContent(this._options.text);else if(this._options.html)typeof this._options.html=="function"?this.setHtmlContent(this._options.html.call(this)):this.setHtmlContent(this._options.html);else if(this._options.content){var n=this._options.content;typeof n=="function"?this._setContent(n.call(this)):this._setContent(n)}this._contentSet=!0}},t.prototype._setAriaDescribedBy=function(){if(this._options.setAriaDescribedBy){this._initializeContent();var t=this._$contentContainer.attr("id"),n=this._$dropElement.attr("aria-describedby")||"";n.indexOf(t)===-1&&this._$dropElement.attr("aria-describedby",(n?n+" ":"")+t)}},t.prototype.resetContent=function(){this._contentSet=!1},t.prototype.show=function(){this._show({useMousePosition:!1})},t.prototype.toggle=function(){this._element.is(":visible")?this.hide():this.show()},t.prototype._enhance=function(n){var u=this,t;this._createElement();this._$dropElement=n;t=this._options.menuContainer||$("#PopupContentContainer");t.length===0&&(t=$("<div id='PopupContentContainer'><\/div>").appendTo(document.body));this._element.appendTo(t);this._element.css("position","fixed");this._$contentContainer=$(c("div","popup-content-container")).attr({role:"tooltip",id:i.getHtmlId(),"aria-hidden":"true"}).appendTo(this._element);this._decorate();this._bind(n,"remove.removePopupDropElement",function(){u.dispose()})},t.prototype._decorate=function(){var n=this;this._options.openCloseOnHover?(this._listen("mouseover",this.onMouseOver),this._options.showOnFocus!==!1&&this._listen("focus",this._onFocus)):(this._documentEventDelegate=l(this,this._handleDocumentMouseDown),this._bind(this._$dropElement,"click",function(){n._element.is(":visible")?n.hide():n.show()}))},t.prototype._listen=function(n,t){!this._handlers[n]&&this._$dropElement.length>0&&this._$dropElement[0].addEventListener(n,this._handlers[n]=t.bind(this))},t.prototype._stopListening=function(n){var t=this._handlers[n];t&&this._$dropElement[0].removeEventListener(n,t)},t.prototype._onInteract=function(){this.hide();this._hasFocus=!1;this._blockFocusUntil=Date.now()+a},t.prototype._onFocus=function(n){n.target===this._$dropElement[0]&&Date.now()>this._blockFocusUntil&&(this._hasFocus=!0,this._listen("blur",this._onBlur),!this._hasMouse&&this._enabled&&this._showDelayed())},t.prototype._onBlur=function(){this._hasFocus=!1;this._hasMouse||this.hide()},t.prototype._onMouseMove=function(n){this._mousePosition?(this._mousePosition.left=n.pageX,this._mousePosition.top=n.pageY):this._mousePosition={left:n.pageX,top:n.pageY}},t.prototype.onMouseOver=function(n){(!this._options.mouseEventFilter||this._options.mouseEventFilter(n))&&(this._options.useStrictTarget&&n.target!==this._$dropElement[0]||(this._hasMouse=!0,this._enabled)&&(this._listen("mouseout",this._onMouseOut),this._listen("mousemove",this._onMouseMove),this._onMouseMove(n),this._showDelayed({useMousePosition:!0}),this._delayedHide&&this._delayedHide.cancel()))},t.prototype._onMouseOut=function(){var n=this;this._hasMouse=!1;this._delayedHide&&this._delayedHide.cancel();this._delayedHide=u.delay(this,100,function(){n.hide();n._delayedHide=null})},t.prototype.showDelayed=function(){this._showDelayed({useMousePosition:!1})},t.prototype._showDelayed=function(n){var t=this;this._visible||(n=n||{useMousePosition:!1},this._options.openDelay?(this._delayedShow&&this._delayedShow.cancel(),this._delayedShow=u.delay(this,this._options.openDelay,function(){t._show(n)})):this._show(n))},t.prototype._handleDocumentMouseDown=function(n){var t=$(n.target);this._$dropElement.has(n.target).length>0||this._$dropElement[0]===n.target||this._$contentContainer.has(n.target).length>0||this._$contentContainer[0]===n.target||this._element.has(n.target).length>0||this._element[0]===n.target||this.hide()},t.prototype._setPosition=function(){this._setPositionInternal({useMousePosition:!1})},t.prototype._setPositionInternal=function(n){if(this._visible){this._element.css({top:0,left:0});this._lastPositionContext={options:n};var t={elementAlign:this._options.elementAlign||"left-top",baseAlign:this._options.baseAlign||"left-bottom",overflow:this._options.overflow,supportScroll:this._options.supportScroll,leftOffsetPixels:this._options.leftOffsetPixels,topOffsetPixels:this._options.topOffsetPixels,skipZIndexSetting:this._options.skipZIndexSetting};n.useMousePosition&&this._options.useMousePosition!==!1?(this._lastPositionContext.mousePosition={left:this._mousePosition.left,top:this._mousePosition.top},t.leftOffsetPixels=this._options.mouseLeftOffsetPixels||t.leftOffsetPixels,t.topOffsetPixels=this._options.mouseTopOffsetPixels||t.topOffsetPixels,e.Positioning.positionAtLocation(this._element,this._mousePosition,t)):this._$dropElement.length>0&&e.Positioning.position(this._element,this._$dropElement,t)}},t.prototype._reposition=function(){this._lastPositionContext&&(this._lastPositionContext.mousePosition&&(this._mousePosition=this._lastPositionContext.mousePosition),this._setPositionInternal(this._lastPositionContext.options))},t.prototype._getDropElement=function(){return this._$dropElement},t.prototype._show=function(n){if(!this.isDisposed()&&this._getDropElement().is(":visible")&&(!this._options.onlyShowWhenOverflows||e.contentsOverflow(this._options.onlyShowWhenOverflows))&&!this._visible){if(this._visible=!0,this._options.openCloseOnHover&&(this._listen("click",this._onInteract),this._listen("keypress",this._onInteract)),this._initializeContent(),this.getElement().show(),this._setPositionInternal(n),this._fire("popup-opened"),this._documentEventDelegate)$(document).on("mousedown",this._documentEventDelegate);e.attachResize(this._element,l(this,this._setPosition));this._bind(this._$dropElement.parents(),"scroll",this._onForceHideDropPopupDelegate);this._escapeKeyHandler||(this._escapeKeyHandler=this.onEscapeKeyPressed.bind(this),document.addEventListener("keydown",this._escapeKeyHandler,!0));this._delayedShow&&this._delayedShow.cancel();this._$contentContainer.attr("aria-hidden","false")}},t.prototype.onEscapeKeyPressed=function(n){n.key==="Escape"&&(this.hide(),n.preventDefault(),n.stopPropagation())},t.prototype.hide=function(){(this._escapeKeyHandler&&document.removeEventListener("keydown",this._escapeKeyHandler,!0),this.isDisposed())||(this._delayedShow&&this._delayedShow.cancel(),this._visible)&&(this._visible=!1,this._documentEventDelegate&&$(document).off("mousedown",this._documentEventDelegate),e.detachResize(this._element),this._onForceHideDropPopupDelegate&&this._unbind(this._$dropElement.parents(),"scroll",this._onForceHideDropPopupDelegate),this._element.hide(),this._fire("popup-closed"),this._stopListening("mousemove"),this._$contentContainer.attr("aria-hidden","true"))},t.prototype.enable=function(){this._enabled=!0;(this._hasFocus||this._hasMouse)&&this._showDelayed()},t.prototype.disable=function(){this._enabled=!1;this.hide()},t.prototype._dispose=function(){if(n.prototype._dispose.call(this),this._options.setAriaDescribedBy){var i=this._$contentContainer.attr("id"),t=this._$dropElement.attr("aria-describedby")||"";t=t.replace(new RegExp("\\b".concat(i,"\\b"),"g"),"").trim().replace(/\s+/," ");t?this._$dropElement.attr("aria-describedby",t):this._$dropElement.removeAttr("aria-describedby")}this._documentEventDelegate&&($(document).off("mousedown",this._documentEventDelegate),this._documentEventDelegate=null);this._onForceHideDropPopupDelegate&&(this._unbind(this._$dropElement.parents(),"scroll",this._onForceHideDropPopupDelegate),this._onForceHideDropPopupDelegate=null);this._$dropElement&&this._$dropElement.length>=1&&(this._unbind(this._$dropElement,"click"),this._unbind(this._$dropElement,"remove.removePopupDropElement"),this._stopListening("mouseover"),this._stopListening("mouseout"),this._stopListening("mousemove"),this._stopListening("focus"),this._stopListening("blur"),this._stopListening("click"),this._stopListening("keypress"));e.detachResize(this._element)},t}(i.Control);t.PopupContentControlO=s;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(s);t.PopupContentControl=v;h=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._onKeyDown=function(n){n.which===27&&t._visible&&(t._popupHasMouse=!1,t.hide())},t}return __extends(t,n),t.hide=function(){t._shownTooltip&&t._shownTooltip.hide()},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"rich-content-tooltip",openCloseOnHover:!0,elementAlign:"middle-top",baseAlign:"middle-bottom",useMousePosition:!1},t))},t.prototype.initialize=function(){var i=this.getElement(),r=this._options,t;r.popupTag!==!1&&(this._$popupTag=$(c("div","popup-tag")).prependTo(i),this._popupHasMouse=!1,t=this,this._$popupTag[0].parentElement.addEventListener("mouseenter",function(){t._popupHasMouse=!0}),this._$popupTag[0].parentElement.addEventListener("mouseleave",function(){t._popupHasMouse=!1;t._delayedHide=u.delay(this,100,function(){t.hide();t._delayedHide=null})}));n.prototype.initialize.call(this);i[0].classList.add("v2");r.autoWidth&&i[0].classList.add("auto-width")},t.prototype._getPopupTooltipElement=function(){return this._$popupTag},t.prototype._show=function(i){if(document.addEventListener("keydown",this._onKeyDown),n.prototype._show.call(this,i),this._visible){var r=t._shownTooltip;r&&r!==this&&r.hide();t._shownTooltip=this}},t.prototype.hide=function(){this._popupHasMouse||(document.removeEventListener("keydown",this._onKeyDown),n.prototype.hide.call(this),t._shownTooltip===this&&(t._shownTooltip=null))},t.prototype._setPositionInternal=function(t){var f,i,r,e,o,s;if((n.prototype._setPositionInternal.call(this,t),this._visible)&&this._$popupTag){f=t&&t.useMousePosition&&this._options.useMousePosition!==!1;this._$popupTag.css({top:0,left:0});this._$contentContainer.toggleClass("mouse",f);i={left:parseInt(this._element.css("left"),10),top:parseInt(this._element.css("top"),10),width:this._element.outerWidth(),height:this._element.outerHeight()};r=void 0;f?r=this._mousePosition:(e=this._getDropElement(),o=e.offset(),r={left:o.left+e.outerWidth()/2,top:o.top});s=this._element.offset();r.left+=i.left-s.left;r.top+=i.top-s.top;var l=f?27:11,u=15,a=u*.5,c=u*(Math.SQRT2-1)*.5,v=c+u,h={left:Math.max(Math.min(r.left-a,i.left+i.width-v),i.left+c),top:i.top+l-u*.5};i.top<r.top-.5?(this._$popupTag.addClass("flipped"),h.top=i.top+i.height-11-u*.5):this._$popupTag.removeClass("flipped");this._$popupTag.css({left:h.left+"px",top:h.top+"px"})}},t.add=function(n,t,r){return r=__assign({openDelay:y,topOffsetPixels:0,mouseTopOffsetPixels:0,autoWidth:!0},r),typeof n=="string"?r.text=n:n&&(r.html=n),i.Enhancement.enhance(o,$(t),r)},t.addIfOverflow=function(n,t,i){return o.add(n,t,__assign(__assign({},i),{onlyShowWhenOverflows:t}))},t}(s);t.RichContentTooltipO=h;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(h);t.RichContentTooltip=o});

define("VSS/Controls/Menus",["require","exports","q","VSS/Context","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Controls","VSS/Controls/PopupContent","VSS/Diag","VSS/Events/Action","VSS/Events/Handlers","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/UI","VSS/Utils/String","VSS/VSS","VSS/ClientTrace/Contracts","VSS/Error","VSS/Telemetry/Services","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){function wt(n){var t;return n&&(t=n.state|it.None,n.disabled&&(t=t|it.Disabled),n.hidden&&(t=t|it.Hidden),n.toggled&&(t=t|it.Toggled)),t}function fi(n){var t=new v.StableSorter(function(n,t){var i=n.rank?n.rank:9999,r=t.rank?t.rank:9999;return i-r});return t.sort(n,!1)}var yt,ft,ut,it,pt,rt,dt,et,ot,bt,ht,ct,lt,at,gt,ni,ti,vt,kt,ii;Object.defineProperty(t,"__esModule",{value:!0});t.sortMenuItems=t.PopupMenu=t.PopupMenuO=t.Toolbar=t.MenuBar=t.MenuBarO=t.MenuOwner=t.Menu=t.MenuContributionProvider=t.MenuItem=t.MenuBase=t.MenuSelectionMode=t.MenuItemState=t.BLUR_CLOSE_TIMEOUT=t.menuManager=void 0;var nt=y.delegate,st=p.domElem,tt=p.KeyCode,ri=b.handleError,ui=b.getErrorMessage;t.BLUR_CLOSE_TIMEOUT=25,function(n){function t(n){return Boolean(n)&&n.which===2}function i(n){return Boolean(n)&&$(n.target).is("ul.menu")}n.isMiddleClick=t;n.targetIsMenu=i}(yt||(yt={})),function(n){function t(t){return t==="vertical"?n.Vertical:n.Horizontal}n.Horizontal=0;n.Vertical=1;n.parse=t}(ft||(ft={})),function(n){function t(t){switch(t){case"static":return n.Static;case"popup":return n.Popup;case"dropdown":return n.DropDown;case"chevron":return n.Chevron}return n.Normal}n.None=0;n.Normal=1;n.Static=2;n.Popup=3;n.DropDown=4;n.Chevron=5;n.SubMenu=6;n.parse=t}(ut||(ut={})),function(n){n[n.None=0]="None";n[n.Disabled=1]="Disabled";n[n.Hidden=2]="Hidden";n[n.Toggled=4]="Toggled"}(it=t.MenuItemState||(t.MenuItemState={})),function(n){n[n.None=0]="None";n[n.SingleSelect=1]="SingleSelect";n[n.MultiSelect=2]="MultiSelect"}(pt=t.MenuSelectionMode||(t.MenuSelectionMode={})),function(n){function t(t){switch(t){case"right-bottom":return n.RightBottom;case"left-bottom":return n.LeftBottom;case"left-top":return n.LeftTop}return n.RightJustify}n.RightBottom=0;n.RightJustify=1;n.LeftBottom=2;n.LeftTop=3;n.parse=t}(rt||(rt={}));dt=function(){function n(){this._executeEvent="execute-command";this._commandStates=null;this._commandStates={}}return n.prototype.getCommandState=function(n,t){var i=this._commandStates&&this._commandStates[n];return typeof i=="function"?i.call(t,n,t):i},n.prototype.updateCommandStates=function(n){var t=this;n&&$.each(n,function(n,i){t._commandStates[i.id]=wt(i)})},n.prototype.executeCommand=function(n){this._fireEvent(this._executeEvent,this,n)},n.prototype.attachExecuteCommand=function(n){this.attachEvent(this._executeEvent,n)},n.prototype.detachExecuteCommand=function(n){this.detachEvent(this._executeEvent,n)},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){var r;if(this._events&&(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r))return!1},n.prototype.attachEvent=function(n,t){this._events||(this._events=new c.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n}();t.menuManager=new dt;et=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._type=ut.parse(i._options.type),i._children=[],i}return __extends(t,n),t.prototype.getOwner=function(){return this._parent?this._parent.getOwner():this},t.prototype.getParent=function(){return this._parent},t.prototype.getParentMenu=function(){return undefined},t.prototype.getContextInfo=function(){return this._options.contextInfo},t.prototype.getActionArguments=function(){var n=this._options.arguments||this.actionArguments;return typeof n=="string"?{url:n}:typeof n=="function"?n.call(this,this.getOwner().getContextInfo()):n},t.prototype.getMenuType=function(){return this._type},t.prototype.updateCommandStates=function(n){this._updateCommandStates(n)},t.prototype.isMenuBar=function(){return this._type===ut.Static},t.prototype._fireUpdateCommandStates=function(n){(n=n||this,typeof this._options.updateCommandStates!="function"||this._options.updateCommandStates.call(n,n)!==!1)&&this._parent&&this._parent._fireUpdateCommandStates(n)},t.prototype._clear=function(){for(var t=this._children.length,n=0;n<t;n++)this._children[n]._clear(),this._children[n].dispose();this._children=[]},t.prototype._updateCommandStates=function(n){var t=this;this._commandStates||(this._commandStates={});n&&$.each(n,function(n,i){t._commandStates[i.id]=wt(i)})},t.prototype._updateContributedMenuItems=function(n){this._children&&this._children.forEach(function(t){t._updateContributedMenuItems(n)})},t}(e.Control);t.MenuBase=et;b.initClassPrototype(et,{_type:null,_parent:null,_children:null,_commandStates:null,actionArguments:null});ot=function(n){function i(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);i._isPinFocused=!1;i._quenchMouseLeave=!1;i._blockHoverOpenSubMenu=!1;i._isHidden=!1;i._item=i._options.item||{};i.setEnhancementOptions({coreCssClass:i._item.href?"menu-item-container":"menu-item",tagName:"li"});try{i.actionArguments=i._item.arguments}catch(u){}return i._align=rt.parse(i._options.align),i}return __extends(i,n),i.getScopedCommandId=function(n,t){return t?t+"-"+n:n},i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},i.prototype.getParentMenu=function(){return this._parent instanceof ht&&this._parent},i.prototype.getCommandId=function(){return i.getScopedCommandId(this._item.id,this._item.scope)},i.prototype.getAction=function(){var n=this._item.idIsAction;return n===!1?this._item.action:this._item.action||this.getCommandId()||this._item.href},i.prototype.hasAction=function(){var n=this.getAction();return n!==null&&typeof n!="undefined"},i.prototype.hasSubMenu=function(){return!this.isDefault()&&this._item.childItems},i.prototype.isDecorated=function(){return this._item.decorated===!0},i.prototype.isDefault=function(){return this._type===ut.None},i.prototype.isSeparator=function(){return this._item.separator===!0},i.prototype.isLabel=function(){return this.isSeparator()&&this._item.isLabel},i.prototype.isSelected=function(){return this._item.selected===!0},i.prototype.getCommandState=function(n,i){var r=null;return n=n||this._item.id,i=i||this,typeof this._options.getCommandState=="function"&&(r=this._options.getCommandState.call(this,n,i)),(r===null||typeof r=="undefined")&&this._parent&&typeof this._parent.getCommandState=="function"&&(r=this._parent.getCommandState(n,i)),(r===null||typeof r=="undefined")&&(r=t.menuManager.getCommandState(n,i)),(r===null||typeof r=="undefined")&&this._item.id===n&&(r=wt(i._item)),typeof r=="function"&&(r=r.call(this,n,this)),r},i.prototype.getIndex=function(){return this._index},i.prototype.setIndex=function(n){this._index=n},i.prototype.setIsHidden=function(n){this._isHidden=n;this._updateState()},i.prototype.isHidden=function(){if(this.isPinnable()&&this._parent&&this._parent.getMenuPinningOptions()){var n=this._parent.getMenuPinningOptions();if(n.hidePinnedItems&&this._isPinned&&!this._item.pinningOptions.neverHide||n.hideUnpinnedItems&&!this._isPinned&&!this._item.pinningOptions.neverHide)return!0}return Boolean((this.getCommandState()&it.Hidden)===it.Hidden||this._type===ut.None||this.isSeparator()&&this._item.hidden||this._isHidden)},i.prototype.isEnabled=function(){return this.isHidden()?!1:this.isSeparator()?void 0:(this.getCommandState()&(it.Disabled|it.Hidden))===it.None},i.prototype.isFocusable=function(){return!this.isHidden()&&this._item&&this._item.focusable!==!1},i.prototype.isToggled=function(){var n=!1;return this.isSeparator()||this.isHidden()||(n=(this.getCommandState()&it.Toggled)===it.Toggled),n},i.prototype.isPinnable=function(){return this._item.pinningOptions&&this._item.pinningOptions.isPinnable},i.prototype.isPinned=function(){return this._isPinned},i.prototype.getSelectionMode=function(){var n=this.getOwner()._options.selectionMode;return typeof n=="undefined"?pt.None:typeof n=="function"?n(this._item):n},i.prototype.initialize=function(){var f=this,t,r,u,i;n.prototype.initialize.call(this);this.isPinnable()&&(t=this.getParentMenu(),r=t&&t.getMenuPinningOptions(),r&&r.isPinningSource?(u=t.getParentMenu(),i=v.first(u._menuItems,function(n){return n._item&&n._item.id===f._item.id}),this._isPinned=i&&i.isPinnable()?i._isPinned:!!this._item.pinningOptions.isPinned):this._isPinned=!!this._item.pinningOptions.isPinned);this._decorate()},i.prototype.update=function(n){var t=this;n!==this._item&&(Object.keys(this._item).forEach(function(n){delete t._item[n]}),$.extend(this._item,n));this._clear();this._item.decorated=!1;this._element.empty();this._unbind("click mouseenter mouseleave mousedown mouseup keydown");this._decorate()},i.prototype.updateItems=function(n){this._clear();this._item.childItems=n},i.prototype._decorate=function(){var n=this._element,u,d,t,f,c,l;!this.isDecorated()&&this._item.href&&(n=$('<a class="menu-item" tabindex="-1"/>').appendTo(n),n.attr("href",this._item.href));this._$menuItemElement=n;var g=this.getOwner()._options.showIcon===!0,a=this.hasSubMenu(),v=this._item.showText!==!1,y=this._item.showHtml!==!1,o,i,s,r,w=!1,b=!1,h=!1,k="mi_"+e.getId();this._item.id&&(k+="_"+this._item.id);n.attr({id:k,tabindex:"-1"});this._element.attr({role:this.getAriaRole(),tabindex:"-1"});this.isDecorated()?r=n.children(".drop").eq(0):(n.addClass(this._options.cssCoreClass).addClass(this._options.cssClass),u=this._item.title,u||this._item.encoded||!this._item.setDefaultTitle&&this._item.showText!==!1?u||(u=""):u=this._item.text,this._element.attr("title",""),this.updateTitle(u),this._item.ariaLabel&&this._element.attr("aria-label",this._item.ariaLabel),this._item.id&&n.attr("command",this._item.id),this._item.cssClass&&n.addClass(this._item.cssClass),this._item.hidden&&n.addClass("invisible"),this._item.focusable===!1&&n.addClass("unfocusable"),this.isSeparator()?(n.addClass("menu-item-separator"),n.attr("role","separator"),n.removeAttr("tabindex"),o=this._createSeparatorElement(),this._item.text&&(o.text(this._item.text),o.removeClass("separator"),o.addClass("text-separator")),n.append(o)):(d=this._item.ariaLabel||this._item.text||this._item.title,g&&!this._item.noIcon&&(typeof this._item.icon=="string"&&this._item.icon.match(/^https?:\/\//)?this._item.icon=this._getExternalIcon.bind(this,this._item.icon):typeof this._item.icon=="string"&&this._item.icon.match(/^css:\/\//)&&(this._item.icon=this._item.icon.substr(6)),t=this._createIconElement(),typeof this._item.icon=="function"?t.append(this._item.icon.call(this,t)):this._item.icon&&t.addClass(this._item.icon),t.hasClass("bowtie-icon")&&t.removeClass("icon"),v||y&&this._item.html?t.attr("aria-hidden","true"):t.attr("role","button").attr("aria-label",d),n.append(t),w=!0),v&&(i=this._createTextElement(),this._item.encoded?i[0].innerHTML=this._item.text||"":typeof this._item.text=="string"?i.text(this._item.text):typeof this._item.text=="function"&&i.text(this._item.text.call(this)||""),this._item.textClass&&i.addClass(this._item.textClass),i.attr("role","button"),b=!0,n.append(i)),y&&(h=!0,s=this._createHtmlElement(),f=this._item.html,typeof f=="function"&&(f=f.call(this)),f instanceof jQuery?s.append(this._item.html):typeof f=="string"?s.html(this._item.html):h=!1,this._item.htmlClass&&s.addClass(this._item.htmlClass),n.append(s)),h||b||!w||n.addClass("icon-only"),a&&(this._element.attr({"aria-haspopup":"true","aria-expanded":"false"}),this._item.hideDrop||(r=this._createDropElement(),c=this.getElement().css("display"),c!=="inline-block"&&c!=="table-cell"?n.prepend(r):n.append(r),n.addClass("drop-visible"))),this.isPinnable()&&!this._item.pinningOptions.hidePin&&(n.addClass("pin-visible"),this._pinElement=$("<i class='pin bowtie-icon' />"),this._pinElement.click(this._onPinClick.bind(this)),this._pinElement.attr({id:n.attr("id")+"_pin",role:"button",tabindex:"-1"}),n.append(this._pinElement))));this._updateState();l=this.isSelected();n.toggleClass("selected",l);l?this._element.attr("aria-checked","true"):this._element.removeAttr("aria-checked");this.isDefault()||this.isSeparator()?this.isSeparator()&&this._bind("click",function(n){n.stopPropagation()}):(this._bind("click",nt(this,this._onClick)),this._bind("mouseenter",nt(this,this._onMouseEnter)),"onpointerdown"in this._element[0]||this._bind("touchstart",nt(this,this._onTouchStart)),this._bind("pointerdown",nt(this,this._onPointerDown)),this._bind("pointerup",nt(this,this._onPointerUp)),this._bind("mouseleave",nt(this,this._onMouseLeave)),this._bind("mousedown",nt(this,this._onMouseDown)),this._bind("mouseup",nt(this,this._onMouseUp)),this._bind("keydown",this._onKeyDown.bind(this)),a&&r&&r.length>0&&this._bind(r,"click",nt(this,this._onDropClick)));this.getOwner()._options.markUnselectable===!0&&p.makeElementUnselectable(n[0])},i.prototype._getExternalIcon=function(n){return $("<img/>").attr("src",n)},i.prototype.select=function(n,t){n===void 0&&(n=!1);t===void 0&&(t=!0);this._parent._selectItem(this,n,t);this._parent._clearTimeouts()},i.prototype.focusPin=function(n){n===void 0&&(n=!0);this._isPinFocused=n;this._pinElement&&(this._pinElement.toggleClass("focus",this._isPinFocused),n&&p.tryFocus(this._pinElement))},i.prototype.deselect=function(){this._parent._selectItem(null)},i.prototype.escaped=function(){this.select()},i.prototype.execute=function(n){n;var t=this.getOwner();return this.collapse({immediate:!0}),t.escaped(),t.isMenuBar()&&n&&n.keepHighlight&&this.showHoverHighlight(),t._proceedBlur(),this.hasAction()?this.executeAction($.extend({},t.getActionArguments(),this.getActionArguments()),n?n.e:null):void 0},i.prototype.executeAction=function(n,i){var r=this.getAction(),l=this.getOwner(),e=r==="navigate"&&n.url||this._item.href,o,s,u,f;if(r){if(n.telemetry&&n.telemetry.area&&n.telemetry.feature&&g.publishEvent(new g.TelemetryEventData(n.telemetry.area,n.telemetry.feature,{CommandId:this.getCommandId()||"Unknown",GroupId:this._item.groupId,ContributionId:this._item.contributionId})),o=i&&(i.ctrlKey||i.metaKey),typeof r=="function"&&!(e&&o)&&(s=r.apply(this,[n,i]),!e||s===!1))return s;if(e){try{u=n.url;u||(u=this._item.href);f=null;n.target&&(f=n.target);o&&(f="_blank");f?h.getService().performAction(h.CommonActions.ACTION_WINDOW_OPEN,{url:u,target:n.target}):h.getService().performAction(h.CommonActions.ACTION_WINDOW_NAVIGATE,{url:u})}catch(i){}return!1}return l?l.executeAction(new c.CommandEventArgs(r,n,this)):t.menuManager.executeCommand(new c.CommandEventArgs(r,n,this))}},i.prototype.collapse=function(n){for(var t=this._parent,i=n&&n.immediate===!0;t;)typeof t.hide=="function"&&t.hide({immediate:i}),t=t._parent;this.getOwner().ownFocus()},i.prototype.setFocus=function(n){n===void 0&&(n=!0);var t=this._$menuItemElement;!t||this.isSeparator()||this.isDefault()||t.addClass("focus");t&&p.tryFocus(this._element)},i.prototype.removeFocus=function(){var n=this._$menuItemElement;!n||this.isSeparator()||this.isDefault()||n.removeClass("focus");this.focusPin(!1)},i.prototype.showHoverHighlight=function(){this._highlightHover=!0;this._updateState()},i.prototype.showPressedHighlight=function(){this.hasSubMenu()&&this.getSubMenu()._visible||(this._highlightPressed=!0,this._updateState())},i.prototype.removePressedHighlight=function(){this._highlightPressed&&(this._highlightPressed=!1,this._updateState())},i.prototype.removeHighlight=function(){this._highlightHover=!1;this._highlightPressed=!1;this._updateState()},i.prototype.updateTitle=function(n){this._setTooltip(null);this._item.setTitleOnlyOnOverflow&&this._item.showText!==!1?(n||(n=this._item.text),this._setTooltip(n,{onlyShowWhenOverflows:this._$menuItemElement[0],setAriaDescribedBy:!0})):(n&&!this.getParentMenu().openSubMenuOnHover&&this._setTooltip(n,{setAriaDescribedBy:!0}),this._item.showText!==!1||this._item.ariaLabel||this._element.attr("aria-label",n));this._options.item&&(this._options.item.title=n)},i.prototype._setTooltip=function(n,t){var i=this;this._tooltip&&this._tooltip.dispose();this._tooltip=n?o.RichContentTooltip.add(n,this._element[0],__assign({menuContainer:this._element,mouseEventFilter:function(n){return!(i.hasSubMenu()&&i.getSubMenu()._element[0].contains(n.target))}},t)):null},i.prototype.updateText=function(n){var t;typeof n=="string"?t=n:this._item&&typeof this._item.text=="function"&&(t=this._item.text.call(this));t&&this._$menuItemElement.children("span.text").text(t)},i.prototype.getSubMenu=function(n){var t,i;return n===void 0&&(n=!0),t=null,this.hasSubMenu()&&(this._children.length===0?n&&(i=this._parent&&this._parent._parent&&this._parent._parent._element||this._$menuItemElement,t=e.create(ht,i,$.extend({},this._options,this._item.childOptions,{earlyInitialize:!1,items:this._item.childItems,type:"submenu",cssCoreClass:"menu sub-menu",tagName:"ul",ariaLabel:this._item.ariaLabel})),t._element.addClass("menu"),t._element.attr("data-parent",this._$menuItemElement.attr("id")),t._parent=this,t._type=ut.SubMenu,this._children.push(t)):t=this._children[0]),t},i.prototype.tryShowSubMenu=function(n){var t=n&&n.immediate;return!this.isDefault()&&this.isEnabled()&&this.getSubMenu()?(this.showSubMenu({immediate:t}),!0):!1},i.prototype.showSubMenu=function(n){var i=n&&n.immediate===!0,r=n?n.showTimeout:undefined,u=n?n.callback:undefined,t=this.getSubMenu(),f=this._item.splitDropItem?this._item.splitDropItem:this,e=(n&&n.setFocus)!==!1;this._closeSubmenuOnMouseLeave=n&&n.closeOnMouseLeave;t.show({immediate:i,showTimeout:r,callback:u,element:f._$menuItemElement,align:this._align,setFocus:e})},i.prototype.hideSubMenu=function(n){var r=this;if(this.hasSubMenu()){var u=n&&n.immediate===!0,i=n&&n.callback,t=this.getSubMenu(!1);t&&t._parent===this&&t.hide({immediate:u,callback:function(){r._closeSubmenuOnMouseLeave=!1;typeof i=="function"&&i()}})}},i.prototype.hideSiblings=function(n){this._parent.hideChildren(this,n)},i.prototype.getAriaRole=function(){switch(this.getSelectionMode()){case pt.MultiSelect:return"menuitemcheckbox";case pt.SingleSelect:return"menuitemradio"}return"menuitem"},i.prototype._attachMenuEvents=function(){},i.prototype._createIconElement=function(){return $(st("span","icon menu-item-icon"))},i.prototype._createTextElement=function(){return $(st("span","text"))},i.prototype._createHtmlElement=function(){return $(st("span","html"))},i.prototype._createDropElement=function(){return $(st("div","drop"))},i.prototype._createSeparatorElement=function(){return $(st("div","separator"))},i.prototype._updateState=function(){var n,r,t;this._disposed||(n=this._$menuItemElement,!n||this.isSeparator()||this.isDefault()||(r=(this._item.splitDrop||this._item.splitDropItem||{})._$menuItemElement,this.isEnabled()?(n.toggleClass("hover",this._highlightHover),n.toggleClass("pressed",this._highlightPressed),this._element.attr("aria-disabled","false"),n.removeClass("disabled"),r&&r.toggleClass("split-drop-hover",this._highlightHover)):(n.addClass("disabled"),this._element.attr("aria-disabled","true"),n.removeClass("hover"),n.removeClass("pressed")),this._pinElement&&this._pinElement.toggleClass("focus",this._isPinFocused),n.toggleClass("toggle-on",this.isToggled())),n&&!this.isDefault()&&n.toggleClass("invisible",this.isHidden()),this._pinElement&&(this._pinElement.toggleClass(i.PinnedIconClass,this._isPinned),this._pinElement.toggleClass(i.UnpinnedIconClass,!this._isPinned),this._pinElement.attr("title",this._isPinned?l.MenuItemUnpinButtonLabel:l.MenuItemPinButtonLabel),t=null,this._isPinned?(i._unpinDescribedById||(i._unpinDescribedById=String(e.getId()),$(st("div")).attr("id",i._unpinDescribedById).addClass("visually-hidden").text(l.UnpinDescribedByText).appendTo(document.body)),t=i._unpinDescribedById):(i._pinDescribedById||(i._pinDescribedById=String(e.getId()),$(st("div")).attr("id",i._pinDescribedById).addClass("visually-hidden").text(l.PinDescribedByText).appendTo(document.body)),t=i._pinDescribedById),this._element.attr("aria-describedby",t)))},i.prototype._updateContributedMenuItems=function(t){var i=[this._item],r=function(n,i,u){for(var f,o=!1,e=0,s=t;e<s.length;e++)if(f=s[e],n.id===f.id&&n.sourceExtensionId===f.sourceExtensionId){u[i]=f;o=!0;break}!o&&Array.isArray(n.childItems)&&n.childItems.forEach(r)};i.forEach(r);i[0]!==this._item?this.update(i[0]):n.prototype._updateContributedMenuItems.call(this,t)},i.prototype._onPointerDown=function(n){var i=n.originalEvent;if(i.pointerType==="touch"){var r=this.hasSubMenu()&&this.getParentMenu().openSubMenuOnHover,t=this._children&&this._children[0],u=t&&t._visible;r&&(!u||t.shownTime>Date.now()-100)&&(this._handledPointerId=i.pointerId)}},i.prototype._onPointerUp=function(n){var t=n.originalEvent;t.pointerId===this._handledPointerId&&(this._blockClickUntil=Date.now()+500);this._handledPointerId=null},i.prototype._onTouchStart=function(n){!this.hasSubMenu()||!this.getParentMenu().openSubMenuOnHover||this._children&&this._children[0]&&this._children[0]._visible?this._onClick(n):(this._onMouseEnter(n),n.preventDefault())},i.prototype._onMouseEnter=function(n){var i,t,r,u,f;for(s.logTracePoint("MenuItem._onMouseEnter.start"),i=n.target;i&&i.tagName.toUpperCase()!=="UL";)i=i.parentElement;i===this._parent._element[0]&&(t=this.getOwner(),!this._blockHoverOpenSubMenu&&(t._active||t.openSubMenuOnHover)?(t.activate(),r=t._subMenuVisible,this.hideSiblings({immediate:this._options.immediateShowHide}),this.select(!0),(t!==this._parent||r||t.openSubMenuOnHover)&&(t._subMenuVisible=r,this.isEnabled()&&this.hasSubMenu()&&(u=this.getSubMenu(),u._parent===this&&(u._visible||(f=t.openSubMenuOnHover&&t===this._parent,this.showSubMenu({immediate:f&&!r?!1:this._options.immediateShowHide,showTimeout:f&&!r?200:undefined,closeOnMouseLeave:f,callback:function(){u.selectDefaultItem(!0)},setFocus:!1})))))):this.showHoverHighlight())},i.prototype._onMouseLeave=function(n){var r=this,i=this.getOwner(),t;if(this._quenchMouseLeave){this._quenchMouseLeave=!1;n.stopPropagation();return}this._closeSubmenuOnMouseLeave&&this.hideSubMenu({immediate:!1,hideTimeout:200,callback:function(){return r.removeHighlight()}});i._active?i!==this._parent?this.hasSubMenu()?(t=this.getSubMenu(),t._parent===this?t._visible||(this.deselect(),t._clearTimeouts()):this.deselect()):this.deselect():this.hasSubMenu()&&this.getSubMenu()._visible||this.removeHighlight():this.removeHighlight()},i.prototype._onMouseDown=function(n){this.showPressedHighlight();n.stopPropagation();n.preventDefault()},i.prototype._onMouseUp=function(){this.removePressedHighlight()},i.prototype._onClick=function(n){var u=this,t,i,r;if(yt.targetIsMenu(n))return!1;if(!yt.isMiddleClick(n)){if(this._blockClickUntil&&Date.now()<this._blockClickUntil){n.stopPropagation();n.preventDefault();return}if(i=this.actionArguments,i||(i={}),i.clickArguments||(i.clickArguments={}),$.extend(i.clickArguments,n),this.isEnabled()){if(this.hasSubMenu()&&this._item.clickOpensSubMenu!==!1)t=this.getSubMenu(),this.select(),t._parent===this&&t._visible?(this.getOwner().activate(),this._options.clickToggles===!0?(t.hide({immediate:!0}),this._blockHoverOpenSubMenu=!0,r=function(){u._blockHoverOpenSubMenu=!1;u._unbind("mouseleave",r)},this._bind("mouseleave",r),this.select()):t.ownFocus()):(this.getOwner().activate(),this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),t.selectDefaultItem());else if(this.hasAction())return this.select(),this.execute({e:n,keepHighlight:this._parent.getMenuType()!==ut.SubMenu})===!0}else this.getOwner().activate(),this.hideSiblings({immediate:!0}),this.select();n.stopPropagation();n.preventDefault()}},i.prototype._onDropClick=function(){var n;return this.isEnabled()&&(this.getOwner().activate(),this.hasSubMenu()&&(n=this.getSubMenu(),n._parent===this&&n._visible?this._options.clickToggles===!0?(n.hide({immediate:!0}),this.select()):n.ownFocus():(this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),n.selectDefaultItem()))),!1},i.prototype._onPinClick=function(n){n.stopPropagation();n.preventDefault();this.toggleIsPinned()},i.prototype.toggleIsPinned=function(n,t){var i,f,e,s,h,y,c,p,u,l,a,w,g,v,b,r,o,nt,k,d;if(n===void 0&&(n=!this._isPinned),this._isPinned=n,this._updateState(),i=this.getParentMenu(),f=i&&i.getMenuPinningOptions()||{},i&&i.updateAriaSetProperties(),e=[],f.isPinningSource)s=i.getParentMenu(),e.push(s);else if(f.isPinningTarget)for(s=i,h=0,y=this._parent._menuItems;h<y.length;h++)r=y[h],r.hasSubMenu()&&(c=r.getSubMenu(),p=c&&c.getMenuPinningOptions(),p&&p.isPinningSource&&e.push(c));if(e.length>0){for(l=void 0,a=0,w=e;a<w.length;a++){for(g=w[a],v=0,b=g._menuItems;v<b.length;v++)r=b[v],r.isPinnable()&&r._item.pinningOptions.groupId===this._item.pinningOptions.groupId&&(l=r),r._item.id===this._item.id&&(u=r);if(u)break}u&&(u._isPinned=this._isPinned,u._updateState(),o=u.getParentMenu(),o&&(o.updateAriaSetProperties(),l&&o.getMenuPinningOptions().pinItemsToEnd&&o.moveMenuItemAfter(u,l)))}if(f.closeOnPin&&(!t||t.unfocus)&&(this._quenchMouseLeave=!0,this._parent.selectLeft()),i&&!f.closeOnPin&&(nt=i.selectPrevItem()||i.selectNextItem(),nt||(i.hide({immediate:!0}),k=i.getParentMenu(),k&&k.selectFirstItem())),s.updateSourceMenu(this._item.pinningOptions.groupId),d=this._item.pinningOptions,d.onPinnedChanged)d.onPinnedChanged(this,this._isPinned,u)},i.prototype._onKeyDown=function(n){var i=function(){return!n.ctrlKey&&!n.altKey&&!n.shiftKey&&!n.metaKey},t;switch(n.keyCode){case tt.RIGHT:if(i()&&!this._isPinFocused&&this.isPinnable()&&!this._item.pinningOptions.hidePin)return this.focusPin(),!1;break;case tt.LEFT:if(i()&&this._isPinFocused)return this.focusPin(!1),this.select(),!1;break;case tt.SPACE:case tt.ENTER:return this.isEnabled()&&(this._isPinFocused?(this._element.focus(),this.toggleIsPinned()):this.hasAction()?this.execute({e:n}):this.hasSubMenu()&&(t=this.getSubMenu(!1),t&&t._visible||(this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),this.getSubMenu().selectFirstItem()))),!1}},i.enhancementTypeName="tfs.menu.item",i.PinnedIconClass="bowtie-unpin",i.UnpinnedIconClass="bowtie-pin-unpin",i}(et);t.MenuItem=ot;b.initClassPrototype(ot,{_item:null,_align:null,_index:0,_highlightHover:!1,_highlightPressed:!1});bt=function(){function n(n,t,i,r,u,e,o){this._menu=n;this._webContext=t;this._contributionIds=i;this._contributionType=r;this._contributionQueryOptions=u||f.ContributionQueryOptions.IncludeRecursiveTargets;this._getMenuActionContext=e;this._options=o||{}}return n.prototype._immediateInstanceRequired=function(n){return n.id&&f.ExtensionHelper.hasContent(n)&&!n.properties.text},n.prototype._getContributions=function(){var n=this;return this._contributionsPromise||(this._contributionsPromise=this._contributionIds&&this._contributionIds.length?a.getService(f.ExtensionService).queryContributions(this._contributionIds,this._contributionQueryOptions,this._contributionType).then(function(t){var r=i.defer(),u=[];return t.forEach(function(t){var i=n._getContributionWithSource(t);i&&u.push(i)}),i.allSettled(u).then(function(n){var t=[];n.forEach(function(n){n.state==="rejected"&&console.error(n.reason);n.state==="fulfilled"&&n.value&&t.push(n.value)});r.resolve(t)},r.reject),r.promise}):i.resolve([])),this._contributionsPromise},n.prototype._getContributionWithSource=function(t){var r=t.id||"";return this._immediateInstanceRequired(t)?u.getBackgroundInstance(t,t.properties.registeredObjectId||r,this._webContext,this._webContext,this.getContributionSourceTimeout(),"Timed-out waiting for menu source provider for contribution: "+r).then(function(n){return{contribution:t,source:n}}):t.type===n.ACTION_TYPE||t.type===n.HYPERLINK_ACTION_TYPE?i.resolve({contribution:t}):null},n.prototype._makeThennable=function(n){return n&&typeof n.then=="function"?n:i.resolve(n)},n.prototype._contributionToMenuItems=function(t,r){var e=this,f=t.contribution.id||"",u;return t.source?(u=i.defer(),typeof t.source.getMenuItems=="function"?(r=$.extend({updateMenuItems:function(n){e._updateContributedMenuItems(n,t)}},r),this._makeThennable(t.source.getMenuItems(r)).then(function(n){n&&n.length?i.all(n.map(function(n){return e._updateContributedMenuFromSource(n,t.contribution,t.source)})).then(function(n){u.resolve(n)}):u.resolve(n)},u.reject)):this._getBasicMenuItemFromContribution(f,t.contribution,t.source).then(function(n){u.resolve([n])}),i.timeout(u.promise,n._contributionGetItemsTimeout,"Timed-out waiting for getMenuItems call from contribution: "+f)):this._immediateInstanceRequired(t.contribution)?i.resolve([]):this._getBasicMenuItemFromContribution(f,t.contribution,t.source).then(function(n){return[n]})},n._getMenuItemFromContributedMenuItem=function(t){var r={id:t.id,text:t.text,title:t.title,separator:t.separator,disabled:t.disabled,hidden:t.hidden,icon:t.icon,noIcon:t.noIcon,groupId:t.groupId,action:t.action,href:t.href,setDefaultTitle:!1};return t.pinningOptions&&(r.pinningOptions=t.pinningOptions),t.pinningMenuOptions&&(r.pinningMenuOptions=t.pinningMenuOptions),t.childItems&&(Array.isArray(t.childItems)?r.childItems=t.childItems.map(function(t){return n._getMenuItemFromContributedMenuItem(t)}):i.isPromise(t.childItems)&&(r.childItems=function(i,r,u){t.childItems.then(function(t){r((t||[]).map(function(t){return n._getMenuItemFromContributedMenuItem(t)}))},u)})),r},n.prototype._updateContributedMenuFromSource=function(t,u,e,o){var c=this,s;o===void 0&&(o=!0);s=o?n._getMenuItemFromContributedMenuItem(t):t;s.action=this._getMenuAction(u,e,s.action);var h=null,l=a.getService(f.ExtensionService).getBaseUri(u),v=f.ExtensionHelper.getPublisherId(u),y=f.ExtensionHelper.getExtensionId(u);return typeof s.icon=="string"&&(h=f.ExtensionHelper.resolveUriTemplate(s.icon,r.getDefaultWebContext(),l)),s.isContribution=!0,s.sourceExtensionId=v+"."+y,s.contributionId=u.id,s.title&&!s.text&&s.text!==""&&(this._options.defaultTextToTitle===!1&&s.icon?(s.showText=!1,s.showHtml=!1):s.text=s.title),o&&!s.groupId&&(s.groupId=u.properties.groupId),Array.isArray(s.childItems)&&s.childItems.forEach(function(n){c._updateContributedMenuFromSource(n,u,e,!1)}),h?h.then(function(n){return s.icon=n,s}):i.resolve(s)},n.prototype._getBasicMenuItemFromContribution=function(n,t,i){var e=this,o=t.properties.text||null,u=t.properties.title||null,s=this._makeThennable("");return typeof t.properties.icon=="string"&&(s=f.ExtensionHelper.resolveUriTemplateProperty(t,r.getDefaultWebContext(),"icon")),s.then(function(r){var s={id:n,text:o,title:u,icon:r,groupId:t.properties.groupId,action:e._getMenuAction(t,i,null),isContribution:!0,sourceExtensionId:f.ExtensionHelper.getPublisherId(t)+"."+f.ExtensionHelper.getExtensionId(t),contributionId:n};return o===null&&u&&(e._options.defaultTextToTitle===!1&&r?(s.showText=!1,s.showHtml=!1):s.text=u),s})},n.prototype._getMenuAction=function(t,i,r){var e=this,o;return!r&&t.type===n.ACTION_TYPE?function(){u.getBackgroundInstance(t,t.properties.registeredObjectId||t.id,e._webContext,e._webContext,e.getContributionSourceTimeout(),"Timed-out waiting for menu action: "+t.id).then(function(n){n.execute(e._getMenuActionContext())})}:typeof r=="function"?function(){return f.ExtensionHelper.publishTraceData(t),r(e._getMenuActionContext())}:t.properties.targetUri?function(){var n=a.getService(f.ExtensionService).getBaseUri(t),i=f.ExtensionHelper.resolveUriTemplate(t.properties.targetUri,e._getMenuActionContext(),n);i.then(function(n){f.ExtensionHelper.publishTraceData(t,n);window.location.href=n})}:i&&typeof i.execute=="function"?function(){return f.ExtensionHelper.publishTraceData(t),i.execute(e._getMenuActionContext())}:o},n.prototype._updateContributedMenuItems=function(n,t){var r=this;this._menu&&i.all(n.map(function(n){return r._updateContributedMenuFromSource(n,t.contribution,t.source)})).then(function(n){r._menu.updateContributedMenuItems(n)})},n.prototype.getContributedMenuItems=function(n){var t=this;return this._getContributions().then(function(r){var u=[];return r.forEach(function(i){u.push(t._contributionToMenuItems(i,n))}),i.allSettled(u).then(function(n){var t=[];return n.forEach(function(n){n.value&&n.value.length&&n.value.forEach(function(n){t.push(n)})}),t})})},n.prototype.getContributionSourceTimeout=function(){return this._menu&&this._menu._options&&this._menu._options.contributionSourceTimeoutMs||n.DEFAULT_CONTRIBUTION_SOURCE_TIMEOUT},n.ACTION_TYPE="ms.vss-web.action",n.HYPERLINK_ACTION_TYPE="ms.vss-web.hyperlink-action",n.DEFAULT_CONTRIBUTION_SOURCE_TIMEOUT=5e3,n._contributionGetItemsTimeout=2e3,n}();t.MenuContributionProvider=bt;ht=function(n){function i(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._mouseIsDown=!1,i._shouldSelectFirstItem=!1,i.setEnhancementOptions({role:"menu",coreCssClass:"menu"+(i._options.useBowtieStyle?" bowtie-menus":""),tagName:"ul"}),i._menuItems=[],i._initializeItemsSource(),i}return __extends(i,n),Object.defineProperty(i.prototype,"shownTime",{get:function(){return this._shownTime},enumerable:!1,configurable:!0}),i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t);this.openSubMenuOnHover=t.alwaysOpenSubMenuOnHover},i.prototype.initialize=function(){n.prototype.initialize.call(this);this._options.suppressInitContributions||this.refreshContributedItems();this._decorate()},i.prototype._initializeItemsSource=function(){this._itemsSource=this._options.items},i.prototype._decorate=function(){this._element.addClass(this._options.cssCoreClass).addClass(this._options.cssClass).attr("tabindex","-1").attr("aria-label",this._options.ariaLabel);this._bind("mousedown",nt(this,this._onMouseDown));this._bind("keydown",this._onMenuKeyDown.bind(this));this._itemsSource=this.getGroupedItems();this._ensureChildren()},i.prototype.getItem=function(n){for(var i,t=0,r=this._menuItems.length;t<r;t++)if(i=this._menuItems[t],i&&n===i.getCommandId())return i;return null},i.prototype.getItems=function(){return this._menuItems},i.prototype.getItemByTag=function(n){for(var i,t=0,r=this._menuItems.length;t<r;t++)if(i=this._menuItems[t],i&&n===i._item.tag)return i;return null},i.prototype.getMenuItemSpecs=function(){return this._items},i.prototype.getParentMenu=function(){return this._parent&&this._parent._parent instanceof i&&this._parent._parent},i.prototype.getMenuPinningOptions=function(){var n=this._options.item;return n&&n.pinningMenuOptions?n.pinningMenuOptions:this._options.pinningMenuOptions},i.prototype.getCommandState=function(n,t){t=t||this;var i=null;return typeof this._options.getCommandState=="function"&&(i=this._options.getCommandState.call(t,n,t)),(i===null||typeof i=="undefined")&&(i=this._commandStates&&this._commandStates[n]),(i===null||typeof i=="undefined")&&this._parent&&typeof this._parent.getCommandState=="function"&&(i=this._parent.getCommandState(n,t)),typeof i=="function"&&(i=i.call(t,n,t)),i},i.prototype.updateCommandStates=function(t){n.prototype.updateCommandStates.call(this,t);this._skipUpdateMenuItemStates||this._updateMenuItemStates()},i.prototype.updateItems=function(n){this._updateItems(n,!0)},i.prototype._updateItems=function(n,t){if(!this._disposed){var i=this._menuItems.length;this._updateItemsWithContributions(n,this._contributedItems||[]);t&&this._refreshContributedMenuItems();i===0&&this._menuItems.length>0&&this._visible&&this._parent&&this._parent._element&&this._parent._element[0]===document.activeElement&&this.selectFirstItem()}},i.prototype._updateItemsWithContributions=function(n,t){this._disposed||(this._fire("menuUpdatingContributedItems",{source:this,existingItems:n,contributedItems:t}),n||(n=[]),Array.isArray(n)&&(n=$.grep(n,function(n){return!n.isContribution}),t&&t.length&&(n=n.concat(t))),this._contributedItems=t,this._updateCombinedSource(n),this._fire(i.CONTRIBUTION_ITEMS_UPDATED_EVENT,{source:this,existingItems:n,contributedItems:t}))},i.prototype._updateCombinedSource=function(n){var t,i,r;if(!this._disposed){if(i=!1,this._element[0].contains(document.activeElement)&&document.activeElement instanceof HTMLLIElement&&(i=!0,t=this._selectedItem&&this._selectedItem.getCommandId(),this._parent instanceof et&&this._parent.focus()),this._parent instanceof et&&n&&this._parent.getElement().attr({"aria-haspopup":String(n.length>0),"aria-expanded":this._visible}),this._asyncLoadingDelay||this._contributedItemsDelay){this._menuUpdateNeeded=!0;this._itemsSource=n;this.getOwner().focus();return}this._clear();this._itemsSource=n;this._initialized&&(this._menuUpdateNeeded=!1,this._itemsSource=this.getGroupedItems(),this._ensureChildren(),this.updateMenuItemStates(),typeof this._positioningRoutine=="function"&&this._positioningRoutine.call(this),i&&(r=t&&this.getItem(t),r?r.select():this.selectFirstItem()),this._shouldSelectFirstItem&&(this._shouldSelectFirstItem=!1,this.selectFirstItem()))}},i.prototype.getGroupedItems=function(){var n,t,i;if(!Array.isArray(this._itemsSource)||(n=[],t={__ungrouped__:[]},this._itemsSource.forEach(function(n){n.groupId&&(!n.separator||n.separator&&n.text)?t[n.groupId]?t[n.groupId].push(n):t[n.groupId]=[n]:t.__ungrouped__.push(n)}),t.__ungrouped__.length===this._itemsSource.length))return this._itemsSource;for(i=null,t.__ungrouped__=t.__ungrouped__.reduce(function(n,t,r,u){return t.separator&&!t.text&&(i&&i.separator||n.length===0||r===u.length-1)||n.push(t),i=t,n},[]),$.each(t,function(t,i){if(t==="__ungrouped__")return!0;Array.prototype.push.apply(n,i);n.push({separator:!0,isGroupSeparator:!0})}),(t.__ungrouped__.length===0||this._options.doNotSeparateUngroupedItems)&&n.splice(n.length-1,1),Array.prototype.push.apply(n,t.__ungrouped__);n.length>0&&n[n.length-1].separator;)n.splice(n.length-1,1);return n},i.prototype.appendItems=function(n){Array.isArray(n)&&n.length&&this.updateItems((this._itemsSource||[]).slice(0).concat(n))},i.prototype.appendItem=function(n){this._createChildMenuItem(n);this._items.push(n)},i.prototype.moveMenuItemAfter=function(n,t){var i;if(n===t)return!0;var f=this._children.indexOf(n),r=this._menuItems.indexOf(n),e=this._items.indexOf(n._item),o=this._children.indexOf(t)+1,u=this._menuItems.indexOf(t)+1,s=this._items.indexOf(t._item)+1;if(f<0||r<0||e<0||o<0||u<0||s<0)return!1;for(v.reorder(this._children,f,o,1),v.reorder(this._menuItems,r,u,1),v.reorder(this._items,e,s,1),i=Math.min(r,u);i<this._menuItems.length;i++)this._menuItems[i].setIndex(i);return n._element.detach(),n._element.insertAfter(t._element),!0},i.prototype.removeItem=function(n){for(var i,t=0,r=this._children;t<r.length;t++)if(i=r[t],i instanceof ot&&i._item===n)return this.removeMenuItem(i);return!1},i.prototype.removeMenuItem=function(n){var t=this._children.indexOf(n),i=this._menuItems.indexOf(n),r=this._items.indexOf(n._item);return t<0||r<0?!1:(this._children.splice(t,1),i>=0&&this._menuItems.splice(i,1),this._items.splice(r,1),n.dispose(),!0)},i.prototype._updateAllSourceMenus=function(){var t=this,n=[];this._items.forEach(function(i){i.pinningOptions&&n.indexOf(i.pinningOptions.groupId)<0&&(n.push(i.pinningOptions.groupId),t.updateSourceMenu(i.pinningOptions.groupId))})},i.prototype.updateSourceMenu=function(n){var i=this.getMenuPinningOptions()||{},r,t;i.isPinningTarget&&i.hideEmptySourceMenu&&(r=v.first(this._menuItems,function(t){return t._item&&t._item.pinningOptions&&t._item.pinningOptions.groupId===n&&!t.isPinned()}),t=v.first(this._menuItems,function(t){var r=t.getSubMenu(),i=r&&r.getMenuPinningOptions();return i&&i.isPinningSource&&i.groupId===n}),t)&&t.setIsHidden(!r)},i.prototype._enhance=function(t){n.prototype._enhance.call(this,t);this._enhanceChildren()},i.prototype._getMenuItemType=function(){return ot},i.prototype.getMenuItemOptions=function(n,t){return $.extend({earlyInitialize:!1,item:n,align:this.getMenuItemAlignment(),overflow:this._options.overflow},t)},i.prototype._getFirstMenuItem=function(){return this._getNextEnabledItem(0)},i.prototype._selectItem=function(n,t,i){if((t===void 0&&(t=!1),i===void 0&&(i=!0),this._selectedItem&&this._selectedItem!==n&&(this._selectedItem.removeHighlight(),this._selectedItem.removeFocus()),this._selectedItem=n,n)&&(n.showHoverHighlight(),!t)){var r=this.getOwner();r._focusItem=n;this._selectedItem.setFocus(i)}},i.prototype.selectDefaultItem=function(n){n||p.tryFocus(this._element)},i.prototype.selectFirstItem=function(){var n=this._getFirstMenuItem();return n?(this._selectItem(n),!0):(this._shouldSelectFirstItem=!0,!1)},i.prototype.selectLastItem=function(){var n=this._getPrevEnabledItem(-1,{rollOver:!0});n&&this._selectItem(n)},i.prototype.selectNextItem=function(){var t=0,r=this._menuItems,i=this._selectedItem,n;return r.length>0&&(i&&(t=i.getIndex()+1),n=this._getNextEnabledItem(t),n)?(n.select(),!0):!1},i.prototype.selectPrevItem=function(){var t=-1,r=this._menuItems,i=this._selectedItem,n;return r.length>0&&(i&&(t=i.getIndex()-1),n=this._getPrevEnabledItem(t),n)?(n.select(),!0):!1},i.prototype.selectDown=function(){if(this._menuItems.length>0){var n=this._getNextFocusableItem(this._selectedItem?this._selectedItem.getIndex()+1:0,{rollOver:!0});if(n)return n.select(),this._ensureVisible(n),!0}return!1},i.prototype.selectUp=function(){if(this._menuItems.length>0){var n=this._getPrevFocusableItem(this._selectedItem?this._selectedItem.getIndex()-1:-1,{rollOver:!0});if(n)return n.select(),this._ensureVisible(n),!0}return!1},i.prototype.selectRight=function(){return this._selectedItem&&this._selectedItem.tryShowSubMenu({immediate:!0})?(this._selectedItem.getSubMenu().selectFirstItem(),!0):this.getOwner()!==this?this.getOwner().selectRight({redirected:!0}):void 0},i.prototype.selectLeft=function(){return this._parent&&this._parent._parent!==this.getOwner()?(this.hide({immediate:!0}),this._parent.select(),!0):this.getOwner()!==this?this.getOwner().selectLeft({redirected:!0}):void 0},i.prototype.show=function(n){var f=n&&n.immediate===!0,e=n?n.showTimeout:undefined,t=n&&n.callback,i=n?n.element:null,r=n?n.align:rt.RightJustify,u=(n&&n.setFocus)!==!1;if(!i)throw new Error("options.element is required.");return f?(this._showPopup(i,r,u),t&&t()):this._startShowTimeout(i,r,u,e||this.getOwner()._options.showTimeout,t),!0},i.prototype.hide=function(n){var i=n&&n.immediate===!0,r=n?n.hideTimeout:undefined,t=n?n.callback:undefined;i?(this._hidePopup(),t&&t()):this._startHideTimeout(r||this.getOwner()._options.hideTimeout,t)},i.prototype.hideChildren=function(n,t){var i,f,r,u=this._children,e=t&&t.immediate===!0,o=n&&n._item&&n._item.splitDrop;if(Array.isArray(u))for(i=0,f=u.length;i<f;i++)r=u[i],r!==n&&r!==o&&r.hideSubMenu({immediate:e})},i.prototype.escape=function(){return this.hide({immediate:!0}),this._parent&&this._parent.escaped(),!0},i.prototype.ownFocus=function(){this._selectItem(this._selectedItem)},i.prototype.attach=function(n){this._parent!==n&&this._visible&&this.hide({immediate:!0});this._parent=n},i.prototype.getMenuItemAlignment=function(){return"right-justify"},i.prototype.updateMenuItemStates=function(){try{this._skipUpdateMenuItemStates=!0;this._fireUpdateCommandStates(this)}finally{this._skipUpdateMenuItemStates=!1}this._updateMenuItemStates()},i.prototype.executeAction=function(n){var i;return typeof this._options.executeAction=="function"&&(i=this._options.executeAction.call(this,n)),i!==!1&&(i=t.menuManager.executeCommand(n)),i},i.prototype._ensureVisible=function(n){if(n&&n.getElement()){var f=n.getElement(),t=this.getElement(),r=f.outerHeight(!0),i=n.getIndex()*r,u=i+r;i<t.scrollTop()?t.scrollTop(i):u-t.height()>t.scrollTop()&&t.scrollTop(u-t.height())}},i.prototype._getItems=function(){var n=this,i,t=!1;return this._items||(this._itemsSource?typeof this._itemsSource=="function"?(i=this._itemsSource.call(this,this.getOwner().getContextInfo(),function(i){n._asyncLoadingDelay&&(n._asyncLoadingDelay.cancel(),n._asyncLoadingDelay=null);n._items=i||[];t?n._disposed||n._updateItems(n._items,!1):t=!0},function(i){n._asyncLoadingDelay&&(n._asyncLoadingDelay.cancel(),n._asyncLoadingDelay=null);n._items=[{text:ui(i),icon:"icon-tfs-build-failed"}];t?n._disposed||n._updateItems(n._items,!1):t=!0;ri(i)}),t||(t=!0,i||(i=[],this._asyncLoadingDelay=y.delay(this,200,function(){n._asyncLoadingDelay=null;n._updateItems([{text:l.MenuItemsLoading}],!1)})),this._items=i)):this._items=this._itemsSource:this._items=[]),this._items},i.prototype._clear=function(){this._element[0].contains(document.activeElement)&&p.tryFocus(this._element);n.prototype._clear.call(this);this._menuItems=[];this._items=null;this._childrenCreated=!1},i.prototype._createChildMenuItem=function(n,t){var i,r;return r=this.getMenuItemOptions(n,n?n.extraOptions:undefined),i=t?e.Enhancement.enhance(this._getMenuItemType(),t,r):e.BaseControl.createIn(this._getMenuItemType(),this._element,r),i._parent=this,this._children.push(i),i._item.separator||(i.setIndex(this._menuItems.length),this._menuItems.push(i)),n.splitDropOptions&&(n.childItems||n.splitDropOptions.childItems)&&this._createSplitDropMenuItem(n,i),i.initialize(),i},i.prototype._createSplitDropMenuItem=function(n,t){var i=$.extend(n.splitDropOptions,{splitDropItem:t,childItems:n.splitDropOptions.childItems||n.childItems,showText:!1,showHtml:!1,toggled:n.toggled,disabled:n.disabled,title:n.splitDropOptions&&n.splitDropOptions.title,noIcon:n.splitDropOptions.noIcon!==undefined?n.splitDropOptions.noIcon:!0,cssClass:n.splitDropOptions.cssClass||"split-drop",splitDropOptions:null});n.splitDrop=this._createChildMenuItem(i);n.childItems=null;t._element.addClass("split-drop-item")},i.prototype._ensureChildren=function(){var t=this,n;this._childrenCreated||($.each(this._getItems(),function(n,i){t._createChildMenuItem(i)}),this._childrenCreated=!0,n=this.getMenuPinningOptions(),n&&n.isPinningTarget&&this._updateAllSourceMenus(),this.updateAriaSetProperties())},i.prototype._enhanceChildren=function(){var n=this,t=this._getItems();this._element.children("li").each(function(i,r){n._createChildMenuItem($.extend({},t[i],{decorated:!0}),$(r))});this._childrenCreated=!0;this.updateAriaSetProperties()},i.prototype.updateAriaSetProperties=function(){var i,t,r,u,f,n;if(this._menuItems){for(i=0,t=0,r=this._menuItems;t<r.length;t++)u=r[t],u.isFocusable()&&i++;for(f=0,n=0;n<this._menuItems.length;++n)this._menuItems[n].isFocusable()&&this._menuItems[n].getElement().attr({"aria-posinset":++f,"aria-setsize":i})}},i.prototype._getNextFocusableItem=function(n,t){return this._getNextItem(function(n){return n.isFocusable()},n,t)},i.prototype._getNextEnabledItem=function(n,t){return this._getNextItem(function(n){return n.isEnabled()},n,t)},i.prototype._getNextItem=function(n,t,i){function f(t,i){for(var f,r=t;r<=i;r++)if(f=u[r],n(f))return f;return null}var e=i&&i.rollOver===!0,r,u=this._menuItems;return(t=t||0,r=f(t,u.length-1),r)?r:e&&(r=f(0,t),r)?r:null},i.prototype._getPrevFocusableItem=function(n,t){return this._getPrevItem(function(n){return n.isFocusable()},n,t)},i.prototype._getPrevEnabledItem=function(n,t){return this._getPrevItem(function(n){return n.isEnabled()},n,t)},i.prototype._getPrevItem=function(n,t,i){function f(t,i){for(var f,r=i;r>=t;r--)if(f=u[r],n(f))return f;return null}var e=i&&i.rollOver===!0,r,u=this._menuItems;return(t=t||0,r=f(0,t),r)?r:e&&(r=f(t,u.length-1),r)?r:null},i.prototype._ensurePopup=function(){this._ensureInitialized()&&(this._popupElement=this._element);this._ensureChildren()},i.prototype._getPopupAlign=function(n){switch(n){case rt.RightJustify:return["left-top","right-top"];case rt.RightBottom:return["right-top","right-bottom"];case rt.LeftTop:return["left-bottom","left-top"]}return["left-top","left-bottom"]},i.prototype._showPopup=function(n,t,r){var f=this,u;this._clearTimeouts();this._ensurePopup();this.updateAriaSetProperties();this._pinElement=n;y.delay(this,300,function(){f._attachAncestorScroll(n)});this.updateMenuItemStates();u=this._getPopupAlign(t);this._element.show();this._parent instanceof et&&this._parent.getElement().attr("aria-expanded","true");this._positioningRoutine=function(){var f,e,o,t,r;(this._options.alignToMarkerVertical||this._options.alignToMarkerHorizontal)&&(typeof this._options.getAlignmentMarkers=="function"?(o=this._options.getAlignmentMarkers.call(this,this._element,n),f=o.elementAlignmentMarker,e=o.baseAlignmentMarker):(f=this._element.find(".alignment-marker").first(),e=n.find(".alignment-marker:not(.sub-menu .alignment-marker)").first()));t=this._options.overflow;t||(r=this._parent&&this._parent._parent,t=!(r instanceof i)||r instanceof vt||r instanceof lt?"fit-flip":"flip-flip");p.Positioning.position(this._element,n,{elementAlign:u[0],baseAlign:u[1],overflow:t,supportScroll:!0,scrollByMarker:this._options.scrollByMarker,alignToMarkerHorizontal:this._options.alignToMarkerHorizontal,alignToMarkerVertical:this._options.alignToMarkerVertical,elementAlignmentMarker:f,baseAlignmentMarker:e})};this._element[0].style.removeProperty("left");this._element[0].style.removeProperty("top");this._positioningRoutine.call(this);this._visible=!0;this._shownTime=Date.now();this.getOwner()._updateSubMenuVisibleState();r&&this.ownFocus()},i.prototype._hidePopup=function(){this._parent instanceof et&&this._parent.getElement()!=null&&this._parent.getElement().attr("aria-expanded","false");this._visible&&this._options.item.dynamic&&this._clear();this._clearTimeouts();this._visible=!1;this._pinElement&&(this._detachAncestorScroll(this._pinElement),this._pinElement=null);this._popupElement&&this._popupElement.hide();delete this._positioningRoutine;this.hideChildren(null,{immediate:!0});this.getOwner()._updateSubMenuVisibleState()},i.prototype._updateMenuItemStates=function(){function o(){return r&&u}function f(){var n=o();t&&t.isHidden()===n&&t.update($.extend(t._item,{separator:!0,hidden:!n}))}for(var n,t,r=!1,i=!1,u=!1,e=0,s=this._children;e<s.length;e++)n=s[e],n.isSeparator()&&!n.isLabel()?(i=!0,t=n,f()):(n.isHidden()||i?!n.isHidden()&&i&&(r=!0):u=!0,t&&o()&&!n.isHidden()&&(f(),t=null,i=!1,u=!0,r=!1),n._updateState(),n.updateText());f()},i.prototype._startShowTimeout=function(n,t,i,r,u){var f=this;this._clearTimeouts();this.delayExecute("show",r,!0,function(){f.isDisposed()||(f._showPopup(n,t,i),u&&u())})},i.prototype._startHideTimeout=function(n,t){var i=this;this._clearTimeouts();this.delayExecute("hide",n,!0,function(){i._hidePopup();t&&t()})},i.prototype._clearTimeouts=function(){this.cancelDelayedFunction("show");this.cancelDelayedFunction("hide")},i.prototype._attachAncestorScroll=function(n){this._bind($(n).parents(),"scroll",nt(this,this._onParentScroll))},i.prototype._detachAncestorScroll=function(n){this._unbind($(n).parents(),"scroll")},i.prototype._dispose=function(){this._pinElement&&this._detachAncestorScroll(this._pinElement);this._asyncLoadingDelay&&(this._asyncLoadingDelay.cancel(),this._asyncLoadingDelay=null);this._contributedItemsDelay&&(this._contributedItemsDelay.cancel(),this._contributedItemsDelay=null);this._options.executeAction=null;n.prototype._dispose.call(this)},i.prototype._onParentScroll=function(){p.BrowserCheckUtils.isEdge()&&this._mouseIsDown||this._hidePopup()},i.prototype._onMouseDown=function(){var n=this;p.BrowserCheckUtils.isEdge()&&(this._mouseIsDown=!0,this._bind(window.document,"mouseup",function(){n._mouseIsDown=!1;n._unbind(window.document,"mouseup")},!0))},i.prototype._onMenuKeyDown=function(n){var t=!n.ctrlKey&&!n.altKey&&!n.shiftKey;switch(n.keyCode){case tt.DOWN:if(t)return this.selectDown(),!1;break;case tt.UP:if(t)return this.selectUp(),!1;break;case tt.RIGHT:if(t)return this.selectRight(),!1;break;case tt.LEFT:if(t)return this.selectLeft(),!1;break;case tt.ESCAPE:if(this.escape())return!1;break;case tt.HOME:if(t)return this.selectFirstItem(),!1;break;case tt.END:if(t)return this.selectLastItem(),!1}},i.prototype.setContributedItemOptions=function(n,t,i){var r=!1;(this._options.contributionIds||[]).join(";")!==n.join(";")&&(this._options.contributionIds=n,r=!0);typeof t!="undefined"&&this._options.contributionType!==t&&(this._options.contributionType=t,r=!0);typeof i!="undefined"&&this._options.contributionQueryOptions!==i&&(this._options.contributionQueryOptions=i,r=!0);r&&(this._menuContributionProvider=null,this._menuUpdateNeeded=!0,this.refreshContributedItems())},i.prototype.refreshContributedItems=function(){var n=this;!this._menuContributionProvider&&this._options.contributionIds&&(this._menuContributionProvider=new bt(this,r.getDefaultWebContext(),this._options.contributionIds,this._options.contributionType,this._options.contributionQueryOptions,this._getContributionContext.bind(this),this._contributionProviderOptions),this._contributedItemsDelay=y.delay(this,100,function(){n._contributedItemsDelay=null;n._updateItems(n._items,!1)}));this._refreshContributedMenuItems()},i.prototype._refreshContributedMenuItems=function(){var n=this;this._menuContributionProvider&&(this._contributionPromise=this._menuContributionProvider.getContributedMenuItems(this._getContributionContext()).then(function(t){n._contributedItemsDelay&&(n._contributedItemsDelay.cancel(),n._contributedItemsDelay=null);(n._menuUpdateNeeded||t&&t.length)&&n._updateItemsWithContributions(n._itemsSource,t)},function(n){n.name=w.format("{0}.GetContributedMenuItemsError",n.name||"");n.message="getContributedMenuItems() failed in Menu._refreshContributedMenuItems: "+b.getErrorMessage(n);d.publishErrorToTelemetry(n,!1,k.Level.Warning,{thirdParty:!0})}))},i.prototype.updateContributedMenuItems=function(n){var t=this;this._contributionPromise.then(function(){var i=[];(function r(n){Array.prototype.push.apply(i,n);n.forEach(function(n){n.childItems&&n.childItems.length>0&&r(n.childItems)})})(n);i=i.filter(function(n){return!!n.id});t._updateContributedMenuItems(i)})},i.prototype._getContributionContext=function(){var n=this._options.contextInfo?$.extend({},this._options.contextInfo.item):{};return typeof n.getContributionContext=="function"?n=n.getContributionContext():typeof this._options.getContributionContext=="function"&&(n=this._options.getContributionContext()),n},i.enhancementTypeName="tfs.menu.menu",i.CONTRIBUTION_ITEMS_UPDATED_EVENT="menuContributedItemsUpdated",i}(et);t.Menu=ht;b.initClassPrototype(ht,{_items:null,_itemsSource:null,_menuItems:null,_selectedItem:null,_focusItem:null,_childrenCreated:!1,_popupElement:null,_visible:!1,_active:!1,_skipUpdateMenuItemStates:!1,_positioningRoutine:null,_pinElement:null});ct=function(n){function i(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._focusing=!1,i.setEnhancementOptions({role:"menu"}),i._align=rt.parse(i._options.align),i}return __extends(i,n),i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({markUnselectable:!0,showIcon:!0,showTimeout:500,hideTimeout:500},t))},i.prototype.setShowIcon=function(n){this._options.showIcon=n},i.prototype.initialize=function(){n.prototype.initialize.call(this);this._fire("menuInitialized",{menu:this})},i.prototype._decorate=function(){var t=this;n.prototype._decorate.call(this);this._updateTabIndex(!0);this._bind(this._element,"keydown",this._onKeyDown.bind(this));this._bind(this._element,"focus",this._onFocus.bind(this));this._element[0].addEventListener("blur",this._onChildBlur.bind(this),!0);this._element[0].addEventListener("focus",this._onChildFocus.bind(this),!0);this._options.emptyMenuInTabOrder===!1&&this._bind(ht.CONTRIBUTION_ITEMS_UPDATED_EVENT,function(){t._isOwned(document.activeElement)||t._updateTabIndex()})},i.prototype.getMenuItemAlignment=function(){return this._options.popupAlign||n.prototype.getMenuItemAlignment.call(this)},i.prototype.getMenuItemOptions=function(t,i){return n.prototype.getMenuItemOptions.call(this,t,$.extend({immediateShowHide:!0,clickToggles:!0,type:"static"},i))},i.prototype.escape=function(){return!1},i.prototype.escaped=function(){},i.prototype.isActive=function(){return this._active},i.prototype.activate=function(n){if(n===void 0&&(n=!0),!this._activating){this._activating=!0;try{this._clearBlurTimeout();this._active=!0;n&&p.tryFocus(this._focusElement);typeof this._options.onActivate=="function"&&this._options.onActivate.call(this)}finally{this._activating=!1}}},i.prototype._hide=function(){this._active&&(this.hide({immediate:!0}),this.ownFocus())},i.prototype._blur=function(){this._clearBlurTimeout();this.hide({immediate:!0});this._disposed||this._selectItem(null);this._active=!1;typeof this._options.onDeactivate=="function"&&this._options.onDeactivate.call(this);this._disposed||this._updateTabIndex()},i.prototype._updateSubMenuVisibleState=function(){var n,u,t,r=this._menuItems,i;if(this._subMenuVisible=!1,Array.isArray(r))for(n=0,u=r.length;n<u;n++)if(t=r[n],t.hasSubMenu()&&(i=t.getSubMenu(!1),i&&i._parent===t&&i._visible)){this._subMenuVisible=!0;break}},i.prototype._updateTabIndex=function(n){this._options.inTabOrder!==!1&&(this._options.emptyMenuInTabOrder!==!1||this._menuItems.length>0)?this._element.attr("tabIndex",0):n&&this._element.attr("tabIndex",-1)},i.prototype._onKeyDown=function(n){if(n.keyCode===tt.TAB)this._immediateBlur=!0;else if(n.keyCode===tt.F10&&n.shiftKey)return this._onContextMenu(n)},i.prototype._onFocus=function(){var n=this,t;this._focusing||(this._focusing=!0,this.activate(!1),!this._selectedItem||this._selectedItem.getIndex()<0||!this._selectedItem._element?(t=this._getFirstMenuItem()||this._getNextFocusableItem(0),t&&y.delay(null,0,function(){n._selectItem(t)})):y.delay(null,0,function(){n._selectedItem&&n._selectedItem.select()}),this._focusing=!1)},i.prototype._isOwned=function(n){if(this._element[0].contains(n)){for(var t=n;t!==this._element[0]&&t!==document.body;t=t.parentElement)if(t.classList.contains("unfocusable"))return!1;return!0}return!1},i.prototype._onChildFocus=function(n){if(this._isOwned(n.target)){this._element.attr("tabindex","-1");var t=e.Enhancement.getInstance(ot,$(n.target)),i=t&&t.getParentMenu();t&&i&&i._selectItem(t)}},i.prototype._onChildBlur=function(){var n=this;y.delay(this,t.BLUR_CLOSE_TIMEOUT,function(){n._disposed||n._isOwned(document.activeElement)&&document.hasFocus()||(n._options.inTabOrder!==!1&&n._updateTabIndex(),n._immediateBlur?(n._immediateBlur=!1,n._blur()):n._blur())})},i.prototype._proceedBlur=function(){this._canBlur=!0},i.prototype._clearBlurTimeout=function(){this.cancelDelayedFunction("blur")},i.prototype._onParentScroll=function(){this._hide()},i.prototype._onResize=function(){this._hide()},i.prototype._onContextMenu=function(){return this.showSubMenuOnFocusedItem()},i.prototype.showSubMenuOnFocusedItem=function(){var n=this._focusItem;return n&&n.tryShowSubMenu({immediate:!0}),!1},i}(ht);t.MenuOwner=ct;b.initClassPrototype(ct,{_focusItem:null,_focusElement:null,_activating:!1,_subMenuVisible:!1,_align:null,_canBlur:!1,_immediateBlur:!1});lt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.setEnhancementOptions({role:"menubar",coreCssClass:"menu-bar"+(i._options.useBowtieStyle?" bowtie-menus":"")}),i._orientation=ft.parse(i._options.orientation),i._type=ut.Static,i._contributionProviderOptions={defaultTextToTitle:!1},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype.getMenuItemAlignment=function(){return this._orientation===ft.Horizontal?"left-bottom":"right-justify"},t.prototype.selectUp=function(t){return this._orientation===ft.Vertical?n.prototype.selectUp.call(this):n.prototype.selectLeft.call(this,t)},t.prototype.selectDown=function(t){return this._orientation===ft.Vertical?n.prototype.selectDown.call(this):n.prototype.selectRight.call(this,t)},t.prototype.selectLeft=function(){if(this._orientation===ft.Vertical)return n.prototype.selectLeft.call(this);var t=this._subMenuVisible;return(this.hideChildren(null,{immediate:!0}),n.prototype.selectUp.call(this),t&&(this._subMenuVisible=!0,this._selectedItem.tryShowSubMenu({immediate:!0})))?(this._selectedItem.getSubMenu().selectFirstItem(),!0):!1},t.prototype.selectRight=function(){if(this._orientation===ft.Vertical)return n.prototype.selectRight.call(this);var t=this._subMenuVisible;return(this.hideChildren(null,{immediate:!0}),n.prototype.selectDown.call(this),t&&(this._subMenuVisible=!0,this._selectedItem.tryShowSubMenu({immediate:!0})))?(this._selectedItem.getSubMenu().selectFirstItem(),!0):!1},t.tryActivate=function(n){var t=this._getMenuBar(n);return t?(t.focus(),!0):!1},t.tryShowSubMenu=function(n){var t=this._getMenuBar(n);return t?(t.focus(),y.delay(this,0,function(){t.showSubMenuOnFocusedItem()}),!0):!1},t.prototype.focus=function(){this.activate()},t._getMenuBar=function(n){var t=$(n);return e.Enhancement.getInstance(at,t)},t.enhancementTypeName="tfs.menu.menubar",t}(ct);t.MenuBarO=lt;at=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(lt);t.MenuBar=at;gt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.setEnhancementOptions({role:"toolbar"}),i}return __extends(t,n),t.prototype._getMenuItemType=function(){return ni},t}(at);t.Toolbar=gt;ni=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getAriaRole=function(){return"listitem"},t}(ot);b.initClassPrototype(lt,{_orientation:ft.Horizontal});ti=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.escaped=function(){n.prototype.escaped.call(this);this._parent.escaped()},t}(ot);vt=function(n){function t(t){var i=n.call(this,$.extend({inTabOrder:!1},t))||this;return i.setEnhancementOptions({coreCssClass:"menu-popup"+(i._options.useBowtieStyle?" bowtie-menus":""),hidden:!0}),i._type=ut.Popup,i._hidden=i._options.hidden===!0,i._onHide=i._options.onHide,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype._getMenuItemType=function(){return ti},t.prototype._decorate=function(){n.prototype._decorate.call(this);this._hidden===!0&&this._element.addClass("invisible")},t.prototype.popup=function(n,t){var r=this;if(this._escapeFocusReceiver=n,this._popupPinElement=t,this._floating=!0,this._active)this.escaped();else{var i=null,f=!1,u=function(){i&&(i.cancel(),i=null);r._active||f||(r.activate(),r._showPopupMenu(),f=!0)};this._contributionPromise?(this._contributionPromise.then(u),i=y.delay(this,500,u)):u()}},t.prototype._showPopupMenu=function(){var i=this._getFirstMenuItem(),n=i.getSubMenu(),t=this._options.setFocus!==!1;n&&(n.show({immediate:!0,element:this._popupPinElement,align:this._align,setFocus:t}),t&&n.selectDefaultItem())},t.prototype._updateItemsWithContributions=function(n,t){if(this._contributedItems=t,n&&n.length>0&&n[0].childItems){var i=$.grep(n[0].childItems,function(n){return!n.isContribution});n[0].childItems=i.concat(t)}else n=[{childItems:t}];this._updateCombinedSource(n)},t.prototype._updateCombinedSource=function(t){n.prototype._updateCombinedSource.call(this,t);this._active&&this._showPopupMenu()},t.prototype.selectUp=function(){return!0},t.prototype.selectDown=function(t){var i=t&&t.redirected;return!i&&this._align!==rt.RightJustify?n.prototype.selectRight.call(this):!1},t.prototype.selectFirstItem=function(){var t=this._getFirstMenuItem(),n=t.getSubMenu();return n._visible?n.selectFirstItem():!1},t.prototype.selectLeft=function(){return!0},t.prototype.selectRight=function(t){var i=t&&t.redirected;return!i&&this._align===rt.RightJustify?n.prototype.selectRight.call(this):!1},t.prototype.escaped=function(){this._floating&&(this._floating=!1,this._escapeFocusReceiver&&(this._escapeFocusReceiver.focus(),this._escapeFocusReceiver=null,typeof this._options.onPopupEscaped=="function"&&this._options.onPopupEscaped.call(this)))},t.prototype._hidePopup=function(){this._onHide&&this._onHide(this._escapeFocusReceiver);n.prototype._hidePopup.call(this)},t.enhancementTypeName="tfs.menu.popup",t}(ct);t.PopupMenuO=vt;kt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(vt);t.PopupMenu=kt;b.initClassPrototype(vt,{_align:rt.RightJustify,_floating:!1,_hidden:!1,_escapeFocusReceiver:null});ii=function(n){function i(t){return n.call(this,t)||this}return __extends(i,n),i.prototype.initialize=function(){var t=this._element.data();n.prototype.initialize.call(this);this._bind(t.commandAction||"click",nt(this,this.onCommandExecute));t.commandCompleteEvent&&this._bind(window,t.commandCompleteEvent,nt(this,this.onCommandComplete))},i.prototype.onCommandExecute=function(){var n=this._element.data();return n.commandName&&(this._element.prop("disabled",!0),this._element.prop("aria-disabled",!0),t.menuManager.executeCommand(new c.CommandEventArgs(n.commandName,n.commandArg,this))),!1},i.prototype.onCommandComplete=function(){this._element.prop("disabled",!1);this._element.prop("aria-disabled",!1)},i}(e.BaseControl);e.Enhancement.registerEnhancement(at,".menu-bar.enhance");e.Enhancement.registerEnhancement(kt,".menu-popup.enhance");e.Enhancement.registerEnhancement(ii,".single-command");t.sortMenuItems=fi;b.tfsModuleLoaded("VSS.UI.Controls.Menus",t)});

define("Presentation/Scripts/TFS/TFS.Host.MultiEntitySearch.Preference",["require","exports","VSS/Service","VSS/Settings"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MultiEntitySearchPreference=void 0;var u=function(){function n(){}return n.getUserPreference=function(t,u){var f,o=u?r.LocalSettingsScope.Project:r.LocalSettingsScope.Global,e;return t&&(e=n.getKey(t),f=i.getLocalService(r.LocalSettingsService).read(e,null,o)),f||null},n.setUserPreference=function(t,u,f){var o=f?r.LocalSettingsScope.Project:r.LocalSettingsScope.Global,e;t&&(e=n.getKey(t),i.getLocalService(r.LocalSettingsService).write(e,u,o))},n.getKey=function(t){return n.SearchEntityKeyPrefix.concat("/",t)},n.SearchEntityKeyPrefix="SearchEntity",n}();t.MultiEntitySearchPreference=u});

define("Presentation/Scripts/TFS/TFS.Host.MultiEntitySearch",["require","exports","VSS/Bundling","VSS/Context","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Controls/Menus","VSS/Telemetry/Services","Presentation/Scripts/TFS/TFS.Host.MultiEntitySearch.Preference","VSS/Common/Contracts/Platform","VSS/Utils/Core","VSS/Utils/UI","VSS/VSS","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","VSS/Navigation/HubsService","VSS/Service"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var nt,it,tt;Object.defineProperty(t,"__esModule",{value:!0});t.SearchBoxHelper=t.MultiEntitySearchAdapter=t.MultiEntitySearchBox=t.Entity=void 0;var k=l.delegate,d=a.domElem,g=r.getPageContext(),b;(function(n){n[n.Code=0]="Code";n[n.WorkItem=1]="WorkItem";n[n.Wiki=2]="Wiki"})(b=t.Entity||(t.Entity={}));nt=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initialize=function(){var t=this,i,r,f,u;n.prototype.initialize.call(this);this._element.addClass("noDrop").attr("tabindex","-1");this._isAccountOrCollectionContext=g.navigation.topMostLevel===c.NavigationContextLevels.Collection||g.navigation.topMostLevel===c.NavigationContextLevels.Application;i=0;Object.keys(this._options.entitySearchAvail).forEach(function(n){n===b.WorkItem.toString()?t._isAccountOrCollectionContext&&!t._options.entitySearchAvail[b.WorkItem]||i++:t._options.entitySearchAvail[n]&&i++});i>0&&(r=i>1,this._options.entitySearchAvail[b.Code]||this._element.addClass("code-search-unavailable"),this._input=$(d("input","search-text")).attr("type","text").attr("id","multi-entity-search-box").attr("disabled","disabled").attr("spellcheck","false").attr("tabindex","0").attr("role","combobox").attr("aria-autocomplete","list").attr("aria-expanded","false").focus(k(this,function(){return t._input&&t._input.parent()&&(t._input.parent().addClass("input-focus"),t._input.parent().get(0).scrollIntoView()),t._entityHelpDropdown instanceof o.PopupMenu&&t._entityHelpDropdown.isActive()||t.popUpHelpDropdown(),!1})).blur(function(){$(this).parent().removeClass("input-focus")}).keydown(k(this,this.onKeyDown,!r)).appendTo(this._element),r||this._input.addClass("entity-dropdown-unavailable"),f=$(d("span","bowtie-icon bowtie-search")).attr("tabindex","0").attr("role","button").attr("aria-label","Search").toggleClass("align-right",!r).appendTo(this._element).keydown(k(this,function(n){if(n.keyCode===a.KeyCode.ENTER)return t.doSearch(n),!1})).click(k(this,this.doSearch)),r&&(this._$entitySelectorDropdownIcon=$(d("span","entity-selector-down bowtie-icon bowtie-chevron-down")).attr("tabindex","0").attr("role","button").attr("aria-label",y.ChangeSearchTypeTooltip).attr("title",y.ChangeSearchTypeTooltip),this._$entitySelectorDropdownIcon.appendTo(this._element).click(k(this,this.showEntitySelectorMenu)).keydown(k(this,function(n){n.keyCode===a.KeyCode.ENTER&&t.showEntitySelectorMenu()})),this._$entitySelectorDropdownContainer=$(d("div","search-popup")).appendTo(this._element)),this._$entityHelpDropdownContainer=$(d("div","search-help-popup")).appendTo(this._element),$(document).click(function(n){if(!t._input.is(n.target)&&t._input.has(n.target).length===0){var i;t._entityHelpDropdown instanceof o.PopupMenu?i=t._entityHelpDropdown.getElement():t._entityHelpDropdown&&t._entityHelpDropdown.getPopup&&(i=t._entityHelpDropdown.getPopup());i&&!i.is(n.target)&&i.has(n.target).length===0&&(t._entityHelpDropdown instanceof o.PopupMenu?t.resetEntityHelpPopupMenu():t._entityHelpDropdown&&t._entityHelpDropdown.hide())}}),u=w.getLocalService(p.HubsService),this.configureSearchBox(this._options.defaultEntity),e.getService().attachEvent(p.HubEventNames.SelectedHubChanged,k(this,function(n,i){var r=u.getHubById(i.hubId);r&&t._onHubGroupChanged(r.groupId)})))},t.prototype._onHubGroupChanged=function(n){this._options.getSearchEntity&&this.configureSearchBox(this._options.getSearchEntity(n,this._options.entitySearchAvail))},t.prototype.configureSearchBox=function(n){try{var r=g.navigation.currentController,u=Boolean(g.webContext.project),t=h.MultiEntitySearchPreference.getUserPreference(r,u),i=t&&!this._options.contextualNavigationEnabled?this.getEntityBasedOnUserPreference(t,this._isAccountOrCollectionContext):n}catch(f){i=n}switch(i){case b.Code:this.configureSearchBoxForCodeSearch();break;case b.WorkItem:this.configureSearchBoxForWorkItemSearch();break;case b.Wiki:this.configureSearchBoxForWikiSearch();break;default:throw new Error("Invalid search entity");}},t.prototype.getEntityBasedOnUserPreference=function(n,i){var u=$(t.SEARCH_ADAPTER_CSS_SELECTOR),r;if(u&&u.length===1&&this._options){switch(n.toLowerCase()){case"code":r=this._options.entitySearchAvail[b.Code]?b.Code:b.WorkItem;break;case"work items":r=this._options.entitySearchAvail[b.WorkItem]||!i?b.WorkItem:b.Code;break;case"wiki":r=this._options.entitySearchAvail[b.Wiki]?b.Wiki:this._options.entitySearchAvail[b.Code]?b.Code:b.WorkItem;break;default:throw new Error("Invalid search entity.");}return r}throw new Error(".global-search-adapter not found.");},t.prototype.configureSearchBoxForCodeSearch=function(){var n=this;i.requireModules(["Search/Scripts/Providers/Code/TFS.Search.Registration.SearchAdapters"],{excludeOptions:v.DynamicModuleExcludeOptions.CommonModules}).spread(function(i){u.Enhancement.enhance(i.GlobalCodeSearchAdapter,t.SEARCH_ADAPTER_CSS_SELECTOR,{entitySearchAvail:n._options.entitySearchAvail})})},t.prototype.configureSearchBoxForWorkItemSearch=function(){var n=this;i.requireModules(["Search/Scripts/Providers/WorkItem/TFS.Search.Registration.WorkItemSearchAdapter"],{excludeOptions:v.DynamicModuleExcludeOptions.CommonModules}).spread(function(i){u.Enhancement.registerEnhancement(i.MultiEntityWorkItemSearchAdapter,t.SEARCH_ADAPTER_CSS_SELECTOR,{entitySearchAvail:n._options.entitySearchAvail})})},t.prototype.configureSearchBoxForWikiSearch=function(){var n=this;i.requireModules(["Search/Scripts/Providers/Wiki/TFS.Search.Registration.WikiSearchAdapter"],{excludeOptions:v.DynamicModuleExcludeOptions.CommonModules}).spread(function(i){u.Enhancement.registerEnhancement(i.MultiEntityWikiSearchAdapter,t.SEARCH_ADAPTER_CSS_SELECTOR,{entitySearchAvail:n._options.entitySearchAvail})})},t.prototype.setAdapter=function(n){var t;this._searchAdapter=n;t=n.getWatermarkText(this._options.contextualNavigationEnabled,this._isAccountOrCollectionContext);a.Watermark(this._input,{watermarkText:t});this._input.prop("disabled",!1);this._input.attr("aria-label",t);this._element.toggleClass("noDrop",!n.hasDropdown());this.resetEntitySelectorMenu();this.resetEntityHelpPopupMenu();this._fire("searchEnabled")},t.prototype.resetEntitySelectorMenu=function(){this._$entitySelectorDropdownContainer&&this._$entitySelectorDropdownContainer.empty();this._entitySelectorDropdown=null},t.prototype.onKeyDown=function(n,t){if(n.keyCode===a.KeyCode.ENTER)return this.doSearch(n),!1;if(t||n.keyCode!==a.KeyCode.PAGE_DOWN){if(n.keyCode===a.KeyCode.ESCAPE||n.keyCode===a.KeyCode.TAB)return this._entityHelpDropdown instanceof o.PopupMenu?this.resetEntityHelpPopupMenu():this._entityHelpDropdown&&this._entityHelpDropdown.hide(),t||this.resetEntitySelectorMenu(),!0;n.keyCode===a.KeyCode.DOWN&&this._entityHelpDropdown&&this._entityHelpDropdown.selectFirstItem&&this._entityHelpDropdown.selectFirstItem()}else return this.resetEntityHelpPopupMenu(),this.showEntitySelectorMenu(),!1},t.prototype.doSearch=function(n){var t=this._input.val().trim();t&&this._searchAdapter&&(this._searchAdapter.performSearch(t,tt.openInNewTab(n)),this.resetEntitySelectorMenu(),this.resetEntityHelpPopupMenu())},t.prototype.popUpHelpDropdown=function(){var n=this;!this._entityHelpDropdown&&this._searchAdapter?this._searchAdapter.getHelpDropdownMenu(this._input,this._$entityHelpDropdownContainer,this,function(t){n._entityHelpDropdown=t;n._entityHelpDropdown instanceof o.PopupMenu&&(n._entityHelpDropdown.getElement().attr("id","multi-entity-legacy-workitem-dropdown"),n._input.attr("aria-owns","multi-entity-legacy-workitem-dropdown").attr("aria-controls","multi-entity-legacy-workitem-dropdown"));n.showHelpDialog()}):this.showHelpDialog()},t.prototype.showHelpDialog=function(){var n=this._entityHelpDropdown instanceof o.PopupMenu;this._input.attr("aria-expanded","true");n?this._entityHelpDropdown.popup&&this._entityHelpDropdown.popup(this._input,this._$entityHelpDropdownContainer):this._entityHelpDropdown.show()},t.prototype.showEntitySelectorMenu=function(){this._searchAdapter&&this._searchAdapter.hasDropdown()&&(this._entitySelectorDropdown||(this._entitySelectorDropdown=u.BaseControl.createIn(o.PopupMenu,this._$entitySelectorDropdownContainer,{align:"right-bottom",items:[{childItems:this._searchAdapter.getEntitySelectorDropdownItems}],executeAction:k(this,this.onEntitySelectionChange)})),this._entitySelectorDropdown.popup(null,this._element))},t.prototype.onEntitySelectionChange=function(n){var c=$(t.SEARCH_ADAPTER_CSS_SELECTOR),i=n.get_commandArgument().adapter,r=i.prototype.getEntityId(),f,e,o;u.Enhancement.enhance(i,c,{entitySearchAvail:this._options.entitySearchAvail});try{f=g.navigation.currentController;e=Boolean(g.webContext.project);h.MultiEntitySearchPreference.setUserPreference(f,r,e)}catch(n){}return this.resetEntityHelpPopupMenu(),this._input.val()!==""?this.doSearch(n):this._input.focus(),o={L1SearchBoxEntitySwitch:r},s.publishEvent(new s.TelemetryEventData(t.TraceArea,t.TraceFeature,o)),!1},t.prototype.resetEntityHelpPopupMenu=function(){this._$entityHelpDropdownContainer&&this._$entityHelpDropdownContainer.empty();this._entityHelpDropdown=null;this._input.attr("aria-expanded","false")},t.SEARCH_ADAPTER_CSS_SELECTOR=".global-search-adapter",t.TraceArea="navbar.level1.search",t.TraceFeature="Search",t}(u.BaseControl);t.MultiEntitySearchBox=nt;u.Enhancement.registerEnhancement(nt,".multi-entity-search-box");it=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.getEntitySelectorDropdownItems=function(n,t,r){i._getEntitySelectorDropdownItems(n,t,r)},i._options=t,i}return __extends(t,n),t.prototype._enhance=function(n){var t=u.Enhancement.ensureEnhancement(nt,n);t&&t.setAdapter(this)},t.prototype.hasDropdown=function(){return!1},t.prototype._getEntitySelectorDropdownItems=function(n,t){t([])},t.prototype.getWatermarkText=function(){return""},t.prototype.getHelpDropdownMenu=function(n,t,i,r){r($(d("div")))},t.prototype.performSearch=function(){},t.prototype.getEntityId=function(){return null},t}(u.Enhancement);t.MultiEntitySearchAdapter=it;tt=function(){function n(){}return n.openInNewTab=function(n){return n&&n.ctrlKey&&!n.altKey&&(n.type==="click"||n.keyCode===a.KeyCode.ENTER)},n}();t.SearchBoxHelper=tt});

define("Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});t.TfsSettingsScopeNames=t.TeamProjectCapabilitiesConstants=t.ProjectVisibilityConstants=t.ProjectState=t.Messages=t.LicenseFeatureIds=t.HubsConstants=t.FeatureMode=t.FeatureAvailabilityFlags=t.CoreConstants=void 0,function(n){n.AreaIdGuid="79134c72-4a58-4b42-976c-04e7115f32bf";n.ProjectCollectionsLocationId="8031090f-ef1d-4af6-85fc-698cd75d42bf";n.ProjectsLocationId="603fe2ac-9723-48b9-88ad-09305aa6c6e1";n.ProcessLocationId="93878975-88c5-4e6a-8abb-7ddd77a8a7d8";n.ProjectHistoryLocationId="6488a877-4749-4954-82ea-7340d36be9f2";n.ProjectAvatarLocationId="54b2a2a0-859b-4d05-827c-ec4c862f641a";n.TeamsLocationId="d30a3dd1-f8ba-442a-b86a-bd0c0c383e59";n.CollectionTeamsLocationId="7a4d9ee9-3433-4347-b47a-7a80f1cf307e";n.TeamMembersLocationId="294c494c-2600-4d7e-b76c-3dd50c3c95be";n.ConnectedServicesId="b4f70219-e18b-42c5-abe3-98b07d35525e";n.ProxyId="ec1f4311-f2b4-4c15-b2b8-8990b80d2908";n.PropertiesLocationId="4976a71a-4487-49aa-8aab-a1eda469037a";n.ProjectsPropertiesLocationId="0a3ffdfc-fe94-47a6-bb27-79bf3f762eac";n.AreaId="79134C72-4A58-4B42-976C-04E7115F32BF";n.AreaName="core";n.ProcessAreaName="process";n.ApiString="_apis";n.JsonPatchMediaType="application/json-patch+json";n.ProcessResource="processes";n.ProjectsResource="projects";n.ProjectHistoryResource="projectHistory";n.ProjectAvatarResource="avatar";n.ProjectCollectionsResource="projectCollections";n.TeamsResource="teams";n.TeamMembersResource="members";n.ConnectedServicesResource="connectedServices";n.ProxyResource="proxies";n.ProxyAuthorizationResource="proxyauthorization";n.PropertiesResource="properties";n.ProjectsPropertiesResource="projectsproperties";n.ProjectCollectionsRouteName="ProjectCollections";n.ProjectsRouteName="Projects";n.ProjectHistoryRouteName="ProjectHistory";n.ProjectAvatarRouteName="ProjectAvatar";n.ProcessesRouteName="Processes";n.TeamsRouteName="Teams";n.CollectionTeamsRouteName="CollectionTeams";n.TeamMembersRouteName="TeamMembers";n.ConnectedServicesRouteName="ConnectedServices";n.ProxyRouteName="Proxies";n.PropertiesRouteName="Properties";n.ProjectsPropertiesRouteName="ProjectsProperties";n.TeamsLocationIdString="D30A3DD1-F8BA-442A-B86A-BD0C0C383E59";n.CollectionTeamsLocationIdString="7A4D9EE9-3433-4347-B47A-7A80F1CF307E"}(i=t.CoreConstants||(t.CoreConstants={})),function(n){n.DisablePageSizeForRequirements="WebAccess.TestManagement.DisablePageSizeForRequirements";n.WebAccessDashboardsNewExperienceToggle="WebAccess.Dashboards.NewExperience.Toggle";n.WebAccessDisableTypeAhead="WebAccess.Profile.DisableTypeAhead";n.WebAccessDisableRecommendationService="WebAccess.DisableRecommendationService";n.RecommendationServiceUseAex="VisualStudio.Recommendation.UseAex";n.WebAccessQuickStart="WebAccess.QuickStart";n.WebAccessQuickStartJumpStart="WebAccess.QuickStart.JumpStart";n.WebAccessQuickStartJumpStartForExistingProjects="WebAccess.QuickStart.JumpStartForExistingProjects";n.WebAccessQuickStartKanban="WebAccess.QuickStart.Kanban";n.WebAccessQuickStartKanbanForExistingProjects="WebAccess.QuickStart.KanbanForExistingProjects";n.WebAccessQuickStartScrum="WebAccess.QuickStart.Scrum";n.WebAccessQuickStartMembers="WebAccess.QuickStart.Members";n.WebAccessQuickStartCodeSearchPromotion="WebAccess.QuickStart.CodeSearchPromotion";n.WebAccessQuickStartCodeSearchFileViewerCapabilities="WebAccess.QuickStart.CodeSearchFileViewerCapabilities";n.WebAccessQuickStartCodeSearchFeature="WebAccess.QuickStart.CodeSearchFeature";n.WebAccessSendASmileNavbar="WebAccess.SendASmile.Navbar";n.WebAccessSendASmileNewBehavior="WebAccess.SendASmile.NewBehavior";n.WebAccessAccountShowGettingStartedVideo="WebAccess.Account.GettingStartedVideo";n.WebAccessAccountShowGettingStartedVideoIframe="WebAccess.Account.GettingStartedVideoIframe";n.WebAccessAccountSoftDelete="WebAccess.Account.AccountSoftDelete";n.WebAccessAccountRegion="WebAccess.Account.AccountRegion";n.WebAccessServicePreviewBuild="WebAccess.Service.Preview.Build";n.WebAccessServicePreviewTest="WebAccess.Service.Preview.Test";n.WebAccessExtensions="WebAccess.Extensions";n.WebAccessExtensionsDeployment="WebAccess.Extensions.Deployment";n.WebAccessExtensionsApplication="WebAccess.Extensions.Application";n.WebAccessExtensionsProjectCollection="WebAccess.Extensions.ProjectCollection";n.WebAccessExtensionsPersonal="WebAccess.Extensions.Personal";n.WebAccessVersionControlShowSelectedBranchAdminView="WebAccess.VersionControl.ShowSelectedBranchAdminView";n.WebAccessServiceMetricsAnalytics="WebAccess.Service.MetricsAnalytics";n.WebAccessTrialModeNotification="WebAccess.TrialModeNotification";n.WebAccessEarlyAdopterNotification="WebAccess.EarlyAdopterNotification";n.WebAccessAllowEarlyAdopterAfterExpiration="WebAccess.AllowEarlyAdopterAfterExpiration";n.WebAccessAllowFpsFromScalarWidgets="WebAccess.Widgets.ScalarWidgetsFps.Enable";n.ReportingAnalyticsVisualMenu="WebAccess.Reporting.AnalyticsVisualMenu";n.ReportingBuildTestVisualExamples="WebAccess.Reporting.BuildTestVisualExamples";n.ServiceHooksTfsPublisher="ServiceHooks.TfsHooksPublisher";n.ServiceHooksGeneralAvailability="ServiceHooks.GeneralAvailability";n.OpenPlatformAnnouncement="OpenPlatform.Announcement";n.EnableAddAadUserWarning="WebAccess.EnableAddAadUserWarning";n.WebAccessAccountAadInformationNotification="WebAccess.AccountAadInformationNotification";n.WebAccessWelcomeHub="WebAccess.WelcomeHub";n.WebAccessProjectWelcomeHub="WebAccess.ProjectWelcome";n.WebAccessVersionControlGitPullRequestsWITIntegration="WebAccess.VersionControl.GitPullRequestsWITIntegration";n.WebAccessVersionControlGitReduceBranchComparisonDefaultCount="WebAccess.VersionControl.GitReduceBranchComparisonDefaultCount";n.WebAccessVersionControlGitSecretsScanning="WebAccess.VersionControl.GitSecretsScanning";n.GitPushNewPushPolicies="Git.Push.NewPushPolicies";n.GitPushCommitAuthorPushPolicy="Git.Push.CommitAuthorPushPolicy";n.GitProtectedRepos="Git.ProtectedRepos";n.VisualStudioServicesPersistedNotification="VisualStudio.Services.PersistedNotification";n.ELSVSOIntegrationAnnouncement="ELS.VSO.IntegrationAnnouncement";n.BasicUserLimitedPortfolioAccessNotificationId="16676E24-8F6A-4EAA-9A9D-FCDF57E8BC8A";n.LoadTestFeatureFlag="ELS.VSO.LoadTesting";n.LoadTestEmailEnableFlag="ELS.VSO.EmailEnable";n.LoadTestUltimateEnableFlag="ELS.VSO.UltimateEnable";n.LoadTestGeoEnableFlag="ELS.VSO.GeoEnable";n.LoadTestFeatureEnableForNonUltimateFlag="ELS.VSO.LoadTestEnableForNonUltimate";n.LoadTestAverageResponseTimeThresholdValue="ELS.VSO.AverageResponseTimeThresholdValue";n.WebAccessSearchEnableNewRoute="WebAccess.Search.EnableNewRoute";n.WebAccessSearchShell="WebAccess.SearchShell";n.WebAccessSearchProject="WebAccess.Search.Project";n.WebAccessSearchWorkItemEnableListView="WebAccess.Search.WorkItem.EnableListView";n.WebAccessSearchWorkItem="WebAccess.Search.WorkItem";n.WebAccessSearchWorkItemClientSort="WebAccess.Search.WorkItem.ClientSort";n.WebAccessSearchWorkItemServerSort="WebAccess.Search.WorkItem.ServerSort";n.WebAccessSearchCodeServerSort="WebAccess.Search.Code.ServerSort";n.WebAccessSearchCodeClientSort="WebAccess.Search.Code.ClientSort";n.WebAccessSearchWikiConditionalFaultin="WebAccess.Search.Wiki.ConditionalFaultin";n.WebAccessSearchWorkItemConditionalFaultin="WebAccess.Search.WorkItem.ConditionalFaultin";n.WebAccessSearchWorkItemFeatureToggle="WebAccess.Search.WorkItem.Feature.Toggle";n.WebAccessSearchWorkItemFeatureDefault="WebAccess.Search.WorkItem.Feature.Default";n.WebAccessSearchCustomVC="WebAccess.Search.CustomVC";n.WebAccessSearchMultiAccount="WebAccess.Search.MultiAccount";n.WebAccessSearchMultiBranch="WebAccess.Search.MultiBranch";n.WebAccessSearchMultiBranchConfigurationUX="WebAccess.Search.MultiBranchConfigurationUX";n.WebAccessSearchUseContentHash="WebAccess.Search.UseContentHash";n.WebAccessSearchWorkItemWelcomeBanner="WebAccess.Search.WorkItem.WelcomeBanner";n.WebAccessVersionControlEditing="WebAccess.VersionControl.Editing";n.WebAccessVersionControlWikiLinkTransformation="WebAccess.VersionControl.WikiLinkTransformation";n.VersionControlAllowCreateReadMe="VisualStudio.VersionControl.AllowCreateReadMe";n.SourceControlPullRequestsAttachments="SourceControl.GitPullRequests.Attachments";n.WebAccessVersionControlPullRequestsCommentFeedback="WebAccess.VersionControl.PullRequests.CommentFeedback";n.WebAccessVersionControlPullRequestsDiscussionCollapseWidget="WebAccess.VersionControl.PullRequests.DiscussionCollapseWidget";n.WebAccessVersionControlPullRequestsDiscussionCommentLikes="WebAccess.VersionControl.PullRequests.DiscussionCommentLikes";n.WebAccessVersionControlPullRequestsAutoComplete="WebAccess.VersionControl.PullRequests.AutoComplete";n.WebAccessVersionControlPullRequestsFollows="WebAccess.VersionControl.PullRequests.Follows";n.WebAccessVersionControlPullRequestsCommitsTabReplaced="WebAccess.VersionControl.PullRequest.CommitsTabReplaced";n.WebAccessVersionControlPolicyAutomaticReviewersMinimumCount="WebAccess.VersionControl.Policy.AutomaticReviewers.MinimumCount";n.WebAccessVersionControlContributions="WebAccess.VersionControl.Contributions";n.WebAccessVersionControlIncludeForcePushDetails="WebAccess.VersionControl.Pushes.IncludeForcePushDetails";n.WebAccessVersionControlGitPushersExclusionFilter="WebAccess.VersionControl.GitPushersExclusionFilter";n.WebAccessVersionControlExplorerVanityBadges="WebAccess.VersionControl.ExplorerVanityBadges";n.WebAccessVersionControlGitCredentialManagerAvailable="WebAccess.VersionControl.GitCredentialManagerAvailable";n.WebAccessVersionControlDisableAlternateAuthInGitGettingStarted="WebAccess.VersionControl.DisableAlternateAuthInGitGettingStarted";n.WebAccessVersionControlNewBranches="WebAccess.VersionControl.NewBranches";n.WebAccessVersionControlStaleBranches="WebAccess.VersionControl.StaleBranches";n.WebAccessVersionControlDisableCommitItemCache="WebAccess.VersionControl.DisableCommitItemCache";n.ChartingHistorical="Charting.Historical";n.ChartingAggregation="Charting.Aggregation";n.WebAccessBuildCIWorkflowVariableGroups="WebAccess.Build.CIWorkflow.VariableGroups";n.MarketplaceExtensionSupport="WebAccess.Build.CIWorkflow.MarketplaceExtensionSupport";n.EnableIdentityNavigation="VisualStudio.Services.Framework.EnableIdentityNavigation";n.WebAccessBuildCIWorkflowYaml="WebAccess.Build.CIWorkflow.Yaml";n.WebAccessBuildDiagnosticLogs="WebAccess.Build.DiagnosticLog";n.WebAccessBuildCIWorkflowBuildCompletion="WebAccess.Build.CIWorkflow.BuildCompletion";n.WebAccessBuildCIWorkflowAgentDefinition="WebAccess.Build.CIWorkflow.AgentDefinition";n.WebAccessCIWorkflowEditableControlsWithoutPermission="WebAccess.CIWorkflow.EditableControlsWithoutPermission";n.WebAccessCIWorkflowShallowCloneOnByDefault="WebAccess.Build.CIWorkflow.ShallowCloneOnByDefault";n.BuildXaml="Build.Xaml";n.WebAccessBuildvNextGitHubRepository="WebAccess.BuildvNext.GitHubRepository";n.WebAccessBuildvNextSvnRepository="WebAccess.BuildvNext.SvnRepository";n.WebAccessBuildPhaseDependencies="WebAccess.Build2.PhaseDependencies";n.BuildvNextRetentionPolicy="Build.BuildvNext.RetentionPolicy";n.GitHubDiscoverYamlDefinition="Build2.GitHubDiscoverYamlDefinition";n.GitHubMarketplaceApp="Build2.GitHubMarketplaceApp";n.GitHubRequireCommentsForNonTeamAndNonContributors="Build2.GitHubRequireCommentsForNonTeamAndNonContributors";n.Build2BatchRealtimeUpdates="Build2.BatchRealtimeUpdates";n.Build2AllowOutOfScopeRepository="Build2.AllowOutOfScopeRepository";n.Build2FetchTagsOffByDefault="Build2.FetchTagsOffByDefault";n.WebAccessBuild2ShowYamlView="WebAccess.Build2.ShowYamlView";n.WebAccessSearchCORS="WebAccess.SearchCORS";n.WebAccessSearchPrefetchFirstSearch="WebAccess.Search.PrefetchFirstSearch";n.UseUserDetailsArea="VisualStudio.Services.Identity.UseUserDetailArea";n.ReleaseManagementReleasesHub="WebAccess.ReleaseManagement.ReleasesHub";n.ReleaseManagementCDOptInToggle="WebAccess.ReleaseManagement.NewCDWorkflowOptInToggle";n.ReleaseManagementCDOptInDefault="WebAccess.ReleaseManagement.NewCDWorkflowOptInDefault";n.ReleaseManagementNewCDReleaseViewOptInToggle="WebAccess.ReleaseManagement.NewCDReleaseViewOptInToggle";n.ReleaseManagementNewCDReleaseViewOptInDefault="WebAccess.ReleaseManagement.NewCDReleaseViewOptInDefault";n.ReleaseManagementUseDataProviderForSetupRelease="WebAccess.ReleaseManagement.UseDataProviderForSetupRelease";n.WebAccessAgileBacklogForecastOnDemand="WebAccess.Agile.Backlog.ForecastOnDemand";n.WebAccessAgileTaskboardDelayloadStateTransitions="WebAccess.Agile.Taskboard.DelayloadStateTransitions";n.WebAccessAgileTaskboardExpandCollapseAll="WebAccess.Agile.Taskboard.ExpandCollapseAll";n.WebAccessAgileTaskboardPeopleSwitcher="WebAccess.Agile.Taskboard.PeopleSwitcher";n.WebAccessAgileTaskboardDisableCustomColumns="WebAccess.Agile.Taskboard.DisableCustomColumn";n.WebAccessAgileTaskboardDisableLiveUpdates="WebAccess.Agile.Taskboard.DisableLiveUpdates";n.WebAccessAgileTaskboardLiveUpdatesDisableThrottling="WebAccess.Agile.Taskboard.LiveUpdates.DisableThrottling";n.AgileServerTeamServiceAADGroupsBlockExpansion="Agile.Server.TeamService.AADGroupsBlockExpansion";n.WebAccessVSTSBranding="WebAccess.VSTSBranding";n.WebAccessAgileBehaviorProvisioningRESTAPI="WebAccess.Agile.BehaviorProvisioningRESTAPI";n.BacklogsOfficeFabricContextMenu="WebAccess.Agile.Backlog.OfficeFabContextMenu";n.BacklogsChangeParentContextMenu="WebAccess.Agile.Backlog.ChangeParentMenuItem";n.WebAccessWorkItemTrackingIndexedDBCaching="WebAccess.WorkItemTracking.IndexedDBCaching";n.WebAccessVersionControlPullRequestsNoDefaultTitle="WebAccess.VersionControl.PullRequests.NoDefaultTitle";n.WebAccessVersionControlPullRequestsLabels="WebAccess.VersionControl.PullRequests.Labels";n.WebAccessVersionControlPullRequestsMentions="WebAccess.VersionControl.PullRequests.Mentions";n.WebAccessVersionControlPullRequestListHideGroupReviewers="WebAccess.VersionControl.PullRequestList.HideGroupReviewers";n.WebAccessDiscussionRendererHTMLRenderer="WebAccess.VersionControl.DiscussionRenderer.HTMLRendering";n.WebAccessVersionControlEnablePermissions="WebAccess.VersionControl.EnablePermissions";n.WebAccessVersionControlDisableWITValidationWarning="WebAccess.VersionControl.DisableWITValidationWarning";n.WebAccessVersionControlFilesMoreBlame="WebAccess.VersionControl.Files.MoreBlame";n.WebAccessVersionControlContributedEmptyRepository="WebAccess.VersionControl.ContributedEmptyRepository";n.WebAccessWorkItemTrackingAddLinksByToolType="WebAccess.WorkItemTracking.AddLinksByToolType";n.WebAccessVersionControlPullRequestsTemplates="WebAccess.VersionControl.PullRequests.Templates";n.WebAccessVersionControlPullRequestsViewedStatus="WebAccess.VersionControl.PullRequests.ViewedStatus";n.WebAccessWorkItemTrackingDisableCommentCount="WebAccess.WorkItemTracking.WorkItemsHub.DisableCommentCount";n.ShareEndpointsAcrossProjects="WebAccess.ServiceEndpoints.ShareAcrossProjects";n.AzureSubscriptionBasedDockerRegistry="ServiceEndpoints.AzureSubscriptionBasedDockerRegistry";n.WebAccessWorkItemTrackingEnableCSVExport="WebAccess.WorkItemTracking.EnableCSVExport";n.WebAccessWorkItemTrackingEnableCSVImport="WebAccess.WorkItemTracking.EnableCSVImport";n.DisableWebAccessServerKanbanLogs="WebAccess.Server.DisableKanbanLogs";n.EnableNewUIForKubernetesEndpoint="ServiceEndpoints.EnableNewUIForKubernetesEndpoint";n.EnableNewUIForAzureRMEndpoint="ServiceEndpoints.EnableNewUIForAzureRMEndpoint";n.EnableSovereignSupportInKubernetesEndpoint="ServiceEndpoints.EnableSovereignSupport";n.BitbucketAzurePipelinesOAuthClient="Build2.BitbucketAzurePipelinesOAuthClient";n.GetWorkItemHistoryFieldValue="WebAccess.WorkItemTracking.GetWorkItemHistoryFieldValue";n.TypeScriptRuleEngineStateTransitionFilteringDisabled="WebAccess.WorkItemTracking.TypeScriptRuleEngineStateTransitionFilteringDisabled";n.AllowWasEverForComputed="WebAccess.WorkItemTracking.AllowWasEverForComputed";n.DisableWorkItemTypesSplittedLoading="WebAccess.WorkItemTracking.DisableWorkItemTypesSplittedLoading";n.DoNotAuthorizeAllPipelinesByDefault="Pipelines.Policy.DoNotAuthorizeAllPipelinesByDefault";n.SourceControlGitPullRequestsMergeStrategyRebase="SourceControl.GitPullRequests.MergeStrategy.Rebase";n.GitCommitMessageWITTransition="VisualStudio.Mentions.GitCommitMessageWITTransition";n.WebAccessSkypeTeamsTabConfiguration="WebAccess.SkypeTeams.TabConfiguration";n.WebAccessScaledAgilePlansDeliveryTimelineDelayedDragDropCard="WebAccess.ScaledAgile.Plans.DeliveryTimeline.DelayedDragDropCard";n.WebAccessScaledAgilePlansDeliveryTimelineIsCardMovementAnimated="WebAccess.ScaledAgile.Plans.DeliveryTimeline.IsCardMovementAnimated";n.WebAccessAgileKanbanFlatQuery="WebAccess.Agile.Kanban.FlatQuery";n.WebAccessAgileKanbanBoardAutoRefreshThrottling="WebAccess.Agile.KanbanBoard.AutoRefresh.Throttling";n.WebAccessAgileCardAnnotations="WebAccess.Agile.Card.Annotations";n.WebAccessAgileCardRollup="WebAccess.Agile.Card.Rollup";n.WebAccessAgileIncreaseDefaultFilterPageSize="WebAccess.Agile.KanbanBoard.IncreaseDefaultFilterPageSize";n.UseTokenFiltering="WebAccess.WorkItemTracking.UseTokenFiltering";n.DisableLinkFiltersFix="WebAccess.Agile.DisableLinkFiltersFix";n.WebAccessAgileUseBehaviorsForBacklogLevels="WebAccess.Agile.UseBehaviorsForBacklogLevels";n.WebAccessAgileBacklogOneClickOpen="WebAccess.Agile.Backlog.OneClickOpen";n.WebAccessAgileBacklogEnableRollupColumns="WebAccess.Agile.Backlog.EnableRollupColumns";n.WebAccessAccessibilityMonitor="WebAccess.AccessibilityMonitor";n.WebAccessAgileBacklogSafeguardPerformanceSampling="WebAccess.Agile.Backlog.Safeguard.PerformanceSampling";n.TeamServiceSafeguardBlockCreateTeamAndAdminOperations="TeamService.Safeguard.BlockCreateTeamAndAdminOperations";n.TeamConfigurationServiceLimitTeamAreaPathsAndIterations="TeamConfigurationService.SaveTeamFields.LimitAllowedTeamAreaPathsAndIterations";n.CodeAnalysisAdornmentProvider="WebAccess.VersionControl.CodeAnalysisAdornmentProvider";n.WebAccessProcessUpload="WebAccess.Process.ProcessUpload";n.WebAccessXmlTemplateProcess="WebAccess.Process.XmlTemplateProcess";n.WorkItemTrackingCloneHostedXmlToInheritedDisabled="WorkItemTracking.Server.CloneHostedXmlToInheritedDisabled";n.WorkItemTrackingNewFormMoreSpaceInHeader="WebAccess.WorkItemTracking.NewForm.MoreSpaceInHeader";n.WorkItemTrackingMove="WorkItemTracking.Server.MoveWorkItems";n.InvalidateClientTagCacheOnWorkItemSave="WebAccess.WorkItemTracking.InvalidateClientTagCacheOnWorkItemSave";n.WebAccessWorkItemTrackingFindWiUseFavorites="WebAccess.WorkItemTracking.FindWorkItemUseFavorites";n.ShowTeamProfileCard="WebAccess.ShowTeamProfileCard";n.TeamAgnosticWorkItemTemplates="WebAccess.WorkItemTracking.TeamAgnosticWorkItemTemplates";n.WorkItemTemplatesLegacyUrl="WebAccess.WorkItemTracking.WorkItemTemplates.LegacyUrl";n.DisableWorkItemTrackingStateColors="WebAccess.WorkItemTracking.Safeguard.DisableWorkItemStateColors";n.WorkItemTrackingChangeWorkItemType="WorkItemTracking.Server.ChangeWorkItemType";n.DisableSendMailDataProvider="WorkItemTracking.Server.DisableSendMailDataProvider";n.AllowEmailingInvitedUsers="WorkItemTracking.Server.AllowEmailingInvitedUsers";n.DisableWorkItemColorDataProvider="WorkItemTracking.Server.DisableWorkItemColorDataProvider";n.EnableWebAccessBoardsService="WorkItemTracking.Server.EnableWebAccessBoardsService";n.EnableUIWithBoardsService="WorkItemTracking.Server.EnableUIWithBoardsService";n.DisableWorkItemStoreDataProviders="WorkItemTracking.Server.DisableWorkItemStoreDataProviders";n.ProjectChangeProcessDisabled="WorkItemTracking.Server.ProjectChangeProcessDisabled";n.CloneProcessCustomWITStatesNewMergeDisabled="WorkItemTracking.Server.CloneProcessCustomWITStatesNewMergeDisabled";n.EnableClassificationNodeRestClients="WorkItemTracking.Server.EnableClassificationNodeRestClients";n.EnableLiveReloadForWorkItemLinks="WebAccess.WorkItemTracking.EnableLiveReloadForWorkItemLinks";n.AllowMVCDownloadAttachment="WorkItemTracking.Server.AllowMVCDownloadAttachment";n.IgnoreActiveWorkItemTypesInBacklogsHubContentService="WorkItemTracking.Server.IgnoreActiveWorkItemTypesInBacklogsHubContentService";n.UseSaveCommentsPermission="WorkItemTracking.Server.UseSaveCommentsPermission";n.WebAccessWorkItemTrackingHistoryViewExtension="WebAccess.WorkItemTracking.HistoryViewExtension";n.WebAccessWorkItemTrackingEnableLinksOfDeletedAttachments="WebAccess.WorkItemTracking.EnableLinksOfDeletedAttachments";n.WebAccessWidgetsUseAnalyticsAgileChartingClient="WebAccess.Widgets.UseAnalyticsAgileChartingClient";n.WebAccessBuildvNextEmailBuildSummary="WebAccess.BuildvNext.EmailBuildSummary";n.WebAccessVersionControlQuickActions="WebAccess.VersionControl.QuickActions";n.WebaccessProcessHierarchy="WebAccess.Process.Hierarchy";n.WebaccessProcessSecurityPanel="WebAccess.Process.SecurityPanel.Enable";n.WebAccessServicePrincipal="WebAccess.ServicePrincipal";n.WebAccessHideServicePrincipal="WebAccess.HideServicePrincipal";n.WebAccessAutoCreateServicePrincipal="WebAccess.AutoCreateServicePrincipal";n.WebAccessAutoCreateServicePrincipalAcrossTenants="WebAccess.AutoCreateServicePrincipalAcrossTenants";n.WebAccessAutoCreateOAuthBasedServicePrincipalAcrossTenants="WebAccess.AutoCreateOAuthBasedServicePrincipalAcrossTenants";n.WebAccessAutoCreateServicePrincipalCompleteCallbackByAuthcode="WebAccess.AutoCreateServicePrincipalCompleteCallbackByAuthcode";n.WebAccessEnableNationalCloudForServicePrincipal="WebAccess.EnableNationalCloudForServicePrincipal";n.WebAccessEnableAzureStackForServicePrincipal="WebAccess.EnableAzureStackForServicePrincipal";n.WebAccessEnableResourceGroupScopedServicePrincipal="WebAccess.EnableResourceGroupScopedServicePrincipal";n.WebAccessSignalRSeparateAppPool="WebAccess.SignalR.AppPool";n.WebAccessSignalRDisablePing="WebAccess.SignalR.DisablePing";n.WebAccessWorkItemTrackingFormSignalR="WebAccess.WorkItemTracking.Form.SignalR.Enabled";n.AadGroupsAdminUi="VisualStudio.Services.AadGroupsAdminUi";n.MinControlNewAddDialog="VisualStudio.Services.Web.MinControlNewAddDialog";n.DoNotPopulateIdentityGrid="VisualStudio.Services.Web.DoNotPopulateIdentityGrid";n.CollectionAdminWebUi="VisualStudio.Services.Web.CollectionAdmin.UserExperience";n.OrgAdminWebUi="VisualStudio.Services.Web.OrgAdmin.UserExperience";n.TriPassPercentageCalculation="TestManagement.Server.TriPassPercentageCalculation";n.TriShowTestRunSummaryInContext="TestManagement.Server.TriShowTestRunSummaryInContext";n.TriTrendChartsForRM="TestManagement.Server.TriTrendChartsForRM";n.BuildSummaryCodeCoverage="TestManagement.Server.BuildSummaryCodeCoverage";n.ModuleDetailsUIForDotCoverage="TestManagement.Server.ModuleDetailsUIForDotCoverage";n.BuildSummaryCodeCoverageCharts="TestManagement.Server.BuildSummaryCodeCoverageCharts";n.FileContainerServiceBrowseItems="VisualStudio.FileContainerService.BrowseItems";n.TriReportCustomization="TestManagement.Server.TRIReportCustomization";n.ShowNotImpactedInTestResults="TestImpact.Server.ShowNotImpactedInTestResults";n.TriQuickStartTraceability="TestManagement.Server.TriQuickStartTraceability";n.TCMUseNewIdentityPicker="WebAccess.TestManagement.UseNewIdentityPicker";n.IdentityPickerClientPerformance="VisualStudio.Services.IdentityPicker.ClientPerformance";n.SSHPublicKeys="WebAccess.SshUI";n.WebAccessTCMTestPlanLiteHub="WebAccess.TestManagement.TestPlanLiteHub";n.WebAccessTCMMineTestPlanSkinnyProvider="WebAccess.TestManagement.MineTestPlanSkinnyProvider";n.WebAccessTCMAllTestPlanSkinnyProvider="WebAccess.TestManagement.AllTestPlanSkinnyProvider";n.WebAccessTCMAdvTestExtPermissionsProvider="WebAccess.TestManagement.AdvTestExtPermissionsProvider";n.WebAccessTCMManageTestPlansHubLWP="WebAccess.TestManagement.ManageTestPlansHubLWP";n.AddToExistingBugResultSummaryPage="WebAccess.TestManagement.AddToExistingBugResultSummaryPage";n.WebAccessUseNonWiqlPointCountQuery="WebAccess.TestManagement.UseNonWiqlPointCountQuery";n.WebAccessShowDTROptionForTestRunner="WebAccess.TestManagement.ShowDTROptionForTestRunner";n.WebAccessTCMEnableXtForEdge="WebAccess.TestManagement.EnableEdgeXt";n.GatedCheckInTrigger="Build2.GatedCheckInTrigger";n.MaxConcurrentBuildsPerBranchFeature="Build2.MaxConcurrentBuildsPerBranch";n.FilePathArtifactsAndSymbolsDeleteFeature="Build2.Retention.FilePathArtifactsAndSymbolsDelete";n.BuildAllDefinitionsTab="WebAccess.Build.Definitions.All";n.WebAccessAddInlineTest="WebAccess.TestManagement.InlineTest";n.ExcludeJQueryUI="VisualStudio.Services.Contributions.ExcludeCompleteJQueryUI";n.WebAccessTestManagementPointCountFeatureDisabled="WebAccess.TestManagement.PointCountFeature";n.WebAccessTestManagementEnableDesktopScreenShot="WebAccess.TestManagement.EnableDesktopScreenShot";n.WebAccessTestManagementEnableAudioWithVideo="WebAccess.TestManagement.EnableAudioWithVideo";n.WebAccessTestManagementRenderMarkDownComment="WebAccess.TestManagement.RenderMarkDownComment";n.WebAccessTestManagementUpdateRunComment="WebAccess.TestManagement.UpdateRunComment";n.WebAccessTestManagementReactBasedRunWithOptionsDialog="WebAccess.TestManagement.ReactBasedRunWithOptions";n.PreviewAttachments="WebAccess.TestManagement.PreviewAttachment";n.LogStoreAttachments="WebAccess.TestManagement.LogStore";n.WebAccessTestManagementAttachmentsGridView="WebAccess.TestManagement.AttachmentsGridView";n.WebAccessTestManagementBugsGridView="WebAccess.TestManagement.BugsGridView";n.WebAccessTestManagementLinkedItemsGridView="WebAccess.TestManagement.LinkedItemsGridView";n.WebAccessTestManagementRequirementsGridView="WebAccess.TestManagement.RequirementsGridView";n.WebAccessTestManagementFiltersForRerun="WebAccess.TestManagement.FiltersForRerun";n.WebAccessTestManagementTestCaseHistory="WebAccess.TestManagement.TestCaseHistory";n.WebAccessTestManagementLinkedStackTrace="WebAccess.TestManagement.LinkedStackTrace";n.TriAddRunResultAttachment="WebAccess.TestManagement.AddRunResultAttachment";n.TriTestResultsSearchAndFilter="WebAccess.TestManagement.TestResultsSearchAndFilter";n.AnalyticsTestResultsFilters="WebAccess.TestManagement.Analytics.TestResultsFilters";n.AnalyticsRouteAPIsToTestResultDaily="WebAccess.TestManagement.Analytics.RouteAPIsToTestResultDaily";n.AnalyticsSwitchToTestSKContextFilter="WebAccess.TestManagement.Analytics.SwitchToTestSKContextFilter";n.AnalyticsGroupByAndFilterOnTestSK="WebAccess.TestManagement.Analytics.GroupByAndFilterOnTestSK";n.TestAnalyticsRemoveReleaseEntities="WebAccess.Test.Analytics.RemoveReleaseEntities";n.PipelineAnalyticsRenameBuildEntities="WebAccess.Pipeline.Analytics.RenameBuildEntities";n.TriReportingAbortedRuns="TestManagement.Server.ReportingAbortedRuns";n.TriInProgress="TestManagement.Server.ReportingInProgressRuns";n.TriSignalRIntegration="TestManagement.Server.SignalRReportingRuns";n.PublishOnTcmService="TestManagement.Server.EnablePublishOnTcmService";n.UseOnlyLongPolling="WebAccess.TestManagement.UseOnlyLongPolling";n.QueryFromTcmService="WebAccess.TestManagement.QueryFromTcmService";n.LWPTestTab="WebAccess.TestManagement.TestTabInNewWebPlatform";n.WebAccessTestManagementInProgressRunsInInProgressDefaultView="WebAccess.TestManagement.ShowInProgressRunsInInProgressDefaultView";n.WebAccessTestManagementHierarchicalViewForResults="WebAccess.TestManagement.HierarchicalViewForResults";n.WebAccessTestManagementShowSummaryForNotImpactedTests="WebAccess.TestManagement.ShowSummaryForNotImpactedTests";n.TcmChartWidget="WebAccess.Widgets.TcmChartWidget";n.WebAccessTestManagementAddRefLinksToRequirement="TestManagement.Server.AddTestCaseRefLinksToRequirement";n.WebAccessTestManagementTestTabExtensionBuild="WebAccess.TestManagement.TestTabExtension.Build";n.WebAccessTestManagementTestTabInNewWebPlatform="WebAccess.TestManagement.TestTabInNewWebPlatform";n.UpdateTestersOnSuiteUpdate="TestManagement.Server.SuitesApiIncludeTesters";n.WebAccessTestManagementNewTestPlanExperienceToggle="WebAccess.TestManagement.NewTestPlanExperience.Toggle";n.IsSingletonTestPointGridToolbarInstanceEnabled="WebAccess.TestManagement.SingletonTestPointGridToolbarInstance";n.ShouldEnableFilterInInProgress="TestManagement.Server.ShouldEnableFilterInInProgress";n.AnalyticsHubForManualTest="WebAccess.TestManagement.EnableNewAnalyticsHubForManualTest";n.DisableAutoRefreshOfEntryPointTextForAnalyticsHubForManualTest="WebAccess.TestManagement.DisableAutoRefreshOfEntryPointTextForAnalyticsHubForManualTest";n.GalleryPromotion="Gallery.NewFeature.GalleryPromotion";n.AdminWorkHubDisplayAreaOwners="Admin.WorkHub.DisplayAreaOwners";n.BuildHostedImage="WebAccess.Build.HostedImageSelection";n.NewCIWorkflowOptIn="WebAccess.Build.NewCIWorkflowOptIn";n.NewCIWorkflowOptInDefault="WebAccess.Build.NewCIWorkflowOptInDefault";n.NewCIWorkflowOptInToggle="WebAccess.Build.NewCIWorkflowOptInToggle";n.TaskOutputVariables="DistributedTask.TaskOutputVariables";n.TaskValidateOutputVariables="DistributedTask.TaskValidateOutputVariables";n.BuildAndReleaseResourceLimits="WebAccess.BuildAndRelease.ResourceLimits";n.LimitHostedMaxParallelism="DistributedTask.LimitHostedMaxParallelism";n.PipelineBillingModel2SelfHostedInfiniteResourceLimits="DistributedTask.PipelineBillingModel2.SelfHosted.InfiniteResourceLimits";n.PipelineBillingModel2="DistributedTask.PipelineBillingModel2";n.PipelineBillingModel2PublicProjects="DistributedTask.PipelineBillingModel2.PublicProjects";n.OldTaskGroupHub="WebAccess.DistributedTask.EnableOldTaskGroupHub";n.SwitchToQueueAdminHubExtension="WebAccess.DistributedTask.Queue.Extension";n.DistributedTaskKSB="Webaccess.DistributedTask.KSB";n.ServiceEndpointInlineSPNDescriptor="DistributedTask.TaskEditor.ServiceEndpointInlineSPNDescriptor";n.DistributedTaskTaskPreview="DistributedTask.TaskPreview";n.DistributedTaskViewYamlHasMoved="DistributedTask.ViewYamlHasMoved";n.WebAccessVersionControlCherryPick="WebAccess.VersionControl.CherryPick";n.SourceControlCherryPick="SourceControl.CherryPick";n.SourceControlRevert="SourceControl.Revert";n.SourceControlGitPullRequestsConflicts="SourceControl.GitPullRequests.Conflicts";n.SourceControlGitCherryPickConflicts="SourceControl.GitCherryPick.Conflicts";n.SourceControlGitRevertConflicts="SourceControl.GitRevert.Conflicts";n.SourceControlGitPullRequestsRetarget="SourceControl.GitPullRequests.Retarget";n.SourceControlGitPullRequestsSelectiveAutoComplete="SourceControl.GitPullRequests.SelectiveAutoComplete";n.SourceControlGitPullRequestsEnforceAdHocRequiredReviewers="SourceControl.GitPullRequests.EnforceAdHocRequiredReviewers";n.SourceControlGitPullRequestsAutoCompleteLegacyNonBlockingBehavior="SourceControl.GitPullRequests.AutoCompleteLegacyNonBlockingBehavior";n.WebAccessVersionControlConflictsDisplay="WebAccess.VersionControl.ConflictsDisplay";n.WebAccessNotificationsUI="Notifications.Web.NotificationsUI";n.NotificationsWebTileStatistic="Notifications.Web.TileStatistic";n.UsersAndRoomsHubs="WebAccess.ContributedHeader.UsersAndRoomsHubs";n.NewAccountLandingPageFavoriteDiscovery="WebAccess.Account.NewLandingPage.FavoriteDiscovery";n.NewUserHub="VisualStudio.UserManagement.Web.UserHub";n.WebAccessMyExperiencesNewProjectCreation="WebAccess.MyExperiences.NewProjectCreation";n.WebAccessMyExperiencesOrgAccountSelector="WebAccess.MyExperiences.OrgAccountSelector";n.WebAccessSearchSearchThisOrganization="WebAccess.Search.SearchThisOrganization";n.WebAccessNewEmptyRepoPage="WebAccess.VersionControl.NewEmptyRepoPage";n.QuickStartXTPromotion2="TestManagement.QuickStart.XTPromotion2";n.MyWorkShowRecentActivity="WebAccess.MyWork.ShowRecentActivity";n.MyWorkShowMentioned="WebAccess.MyWork.ShowMentioned";n.NewProjectOVerviewPageBuildReleaseMetrics="WebAccess.Project.NewOverviewPage.BuildReleaseMetrics";n.NewProjectOverviewPageLikes="WebAccess.Project.NewOverviewPage.Likes";n.NewProjectOverviewUseIsAnyServiceInitializedData="WebAccess.Project.Verticals.OverviewPage.UseIsAnyServiceInitializedData";n.ProcessSettingsValidatorAllowCustomTeamField="Agile.ProcessSettingsValidator.AllowCustomTeamField";n.WebAccessWikiImmersive="WebAccess.Wiki.Immersive";n.WebAccessWikiPageViewStats="WebAccess.Wiki.PageViewStats";n.WebAccessWikiProductDocumentation="WebAccess.Wiki.ProductDocumentation";n.WebAccessWikiUnpublishCodeWiki="WebAccess.Wiki.UnpublishCodeWiki";n.WebAccessWikiHandleBrokenLinks="WebAccess.WikiHandleBrokenLinks";n.WebAccessWikiTemplateSupport="WebAccess.Wiki.TemplateSupport";n.WebAccessWikiRichCodeWikiEditing="WebAccess.Wiki.RichCodeWikiEditing";n.WebAccessWikiRenameWiki="WebAccess.Wiki.RenameWiki";n.WikiTemplateEditing="Wiki.EnableTemplateEditing";n.WikiWebEnableNewMermaidSupportedDiagram="Wiki.Web.EnableNewMermaidSupportedDiagram";n.WebAccessWikiEnableFuzzySearch="WebAccess.Wiki.EnableFuzzySearch";n.WebAccessWikiDetailedFilterTelemetry="WebAccess.Wiki.DetailedFilterTelemetry";n.CleanupDeleteBoardsForDeletedBacklogLevels="Agile.Cleanup.DeleteBoardsForDeletedBacklogLevels";n.WebAccessProjectTags="WebAccess.Project.Tags";n.WebAccessProjectLanguages="WebAccess.Project.Languages";n.WebAccessAgileDoneColumnSortNullsLast="WebAccess.Agile.DoneColumnSortNullsLast";n.UserManagementProjectDialog="VisualStudio.UserManagement.ProjectInviteDialog";n.AnalyticsRichWorkFieldFiltering="WebAccess.Widgets.AnalyticsRichWorkFieldFiltering";n.PATPaginationAndFiltering="VisualStudio.Services.Identity.PATPaginationAndFiltering";n.UseNotificationPipelineForMentions="VisualStudio.Mentions.UseNotificationPipeline";n.AllowGroupMentions="VisualStudio.Mentions.AllowGroupMentions";n.MaterializeAadGroupsInMentions="VisualStudio.Mentions.MaterializeAadGroupsInMentions";n.UseStorageKeyInMentions="VisualStudio.Mentions.UseStorageKeyInMentions";n.HideTypeAndTitleInWorkItemMentions="VisualStudio.Mentions.HideTypeAndTitleInWorkItemMentions";n.GroupLicensingRule="VisualStudio.Services.GroupLicensingRule";n.AnonymousAccessFeatureName="VisualStudio.Services.Identity.AnonymousAccess";n.WebAccessDashboardsUseFpsNavigation="WebAccess.Dashboards.UseFpsForSwitchingDashboards.Enable";n.WebAccessDashboardsMonitorResourceUtilizationHeaders="WebAccess.Dashboards.MonitorResourceUtilizationHeaders";n.WebAccessDashboardsSuppressAutoRefreshOnHighResourceUtilization="WebAccess.Dashboards.SuppressAutoRefreshOnHighResourceUtilization";n.WebAccessDashboardsSecurityDialog="WebAccess.Dashboards.SecurityDialog";n.WebAccessAllowFpsWidgets="WebAccess.Widgets.AllowFpsWidgets";n.UseNewBranding="VisualStudio.Services.WebPlatform.UseNewBranding";n.NetPromoterSurveyAnonymousAccess="WebAccess.Survey.NetPromoter.AnonymousAccess";n.ATREnableIALAndVideo="WebAccess.TestManagement.ATREnableIALAndVideo";n.ATREnableVideoWithAudio="WebAccess.TestManagement.ATREnableVideoWithAudio";n.GitHubLinkification="WorkItemTracking.Server.GitHubLinkification";n.ShareVariableGroups="WebAccess.DistributedTask.ShareVariableGroups";n.ResourceAuthorizationforVGEndpoint="WebAccess.DistributedTask.ResourceAuthorization.VGEndpoint";n.WebAccessWorkItemTrackingFormRoosterEnable="WebAccess.WorkItemTracking.Form.Rooster.Enable";n.WebAccessWorkItemTrackingFormCommentServiceEditAndDeleteEnable="WorkItemTracking.Server.CommentService.EnableEditAndDelete.F4";n.WebAccessWorkItemTrackingEnableCommentReactions="WorkItemTracking.Server.CommentService.EnableCommentReactions";n.WebAccessEnableCommentReactionsNotifications="Comments.Server.EnableCommentReactionsNotifications";n.WebAccessWorkItemTrackingDisableTagsMRU="WebAccess.WorkItemTracking.DisableTagsMRU";n.ResourceAuthorizationExperience="WebAccess.DistributedTask.ResourceAuthorizationExperience";n.QueryMyWorkByExcludingDoneStates="WorkItemTracking.Server.QueryMyWorkByExcludingDoneStates";n.AnalyticsDashboardShadowTesting="WebAccess.Dashboards.AnalyticsShadowTesting";n.PipelinesSimplifiedRetention="Pipelines.SimplifiedRetention";n.PipelinesExtendedRetention="Pipelines.ExtendedRetention";n.EnableCustomFollows="WebAccess.WorkItemTracking.EnableCustomFollows";n.WebAccessWorkItemTrackingHtmlFieldsMentionsEnable="WebAccess.WorkItemTracking.EnableHtmlFieldsMentions";n.UseProdAzureResources="VisualStudio.Services.UseProdAzureResourcesOnDevFabric";n.NewServiceConnectionUI="ms.vss-distributedtask-web.new-serviceconnections-ui";n.EnableBranchesMenuSecurityDialog="WebAccess.VersionControl.Branches.SecurityDialog";n.EnableExtensionFilterMethodUsageTelemetry="WebAccess.WorkItemTracking.EnableExtensionFilterMethodUsageTelemetry";n.EnableAreaIterationPathSecurityDialog="WebAccess.Agile.Admin.SecurityDialog";n.EnableDetailedMyWorkItemsList="WebAccess.MyExperiences.MyWorkItems";n.EnableRepositoriesSecurityView="WebAccess.VersionControl.Repositories.SecurityView";n.RequiredCheckboxFixDisabled="WebAccess.Admin.RequiredCheckboxFixDisabled";n.DashboardsTeamAgnostic="WebAccess.Dashboards.TeamAgnosticDashboards";n.EnableNewSignalrRAppPool="WebAccess.SignalR.AppPool";n.EnableBlockingLastPusherVote="SourceControl.Policy.LastPusherCannotBeApprover";n.EnableSourceControlPolicyLastIterationApproved="SourceControl.Policy.LastIterationApproved";n.DisableRunTimeVariableEdit="Build2.DisableRunTimeVariableEdit";n.DisableRunTimeVariableEditUIToggle="Build2.DisableRunTimeVariableEditUIToggle";n.TfvcEnableGitRepositoriesPermissions="Tfvc.EnableGitRepositoriesPermissions";n.DisableRelatedWorkItemSuggestions="WebAccess.WorkItemTracking.DisableRelatedWorkItemSuggestions";n.DisableRichTextWorkItemPrefetch="WebAccess.WorkItemTracking.DisableRichTextWorkItemPrefetch";n.DisableAssigneesOnChildItems="WorkItemTracking.Server.DisableAssigneesOnChildItems";n.ServerSideFilteringByKeywordDisabled="WebAccess.WorkItemTracking.ServerSideFilteringByKeywordDisabled";n.WorkItemFieldLockingDisabled="WorkItemTracking.Server.FieldDefinitionLockingDisabled";n.MarkdownDiscussionEnabled="WebAccess.WorkItemTracking.Form.MarkdownDiscussionEnabled";n.EnableNewCommentsStorage="WorkItemTracking.Server.CommentService.LegacyCommentsApiOnNewStorage";n.EnableGetTestFailureTypeFromTcm="WebAccess.TestManagement.EnableGetTestFailureTypeFromTcm"}(r=t.FeatureAvailabilityFlags||(t.FeatureAvailabilityFlags={})),function(n){n[n.Off=0]="Off";n[n.Advertising=1]="Advertising";n[n.Trial=2]="Trial";n[n.Licensed=3]="Licensed"}(u=t.FeatureMode||(t.FeatureMode={})),function(n){n.MruHubPath="/WebAccess/MRU/Hub";n.MruCookieName="StickyHub";n.EmitHubMruViewDataKey="TFS-EmitHubMru"}(f=t.HubsConstants||(t.HubsConstants={})),function(n){n.Admin="65AC9DB3-BB0A-42fe-B584-A690FB0D817B";n.AdvancedBacklogManagement="CEDD6BE8-B717-4a0a-8BFD-C4E9B4CAA071";n.AdvancedHomePage="509B6940-9948-47e6-A392-99E0CA873F65";n.AdvancedPortfolioBacklogManagement="F1026762-C08D-4de3-9C17-7587296F3CFE";n.AgileBoards="181DDF83-AFAF-4982-97D9-870AE96BB8D3";n.BacklogManagement="EC7545A3-E5DB-40E8-B0D0-F64DF7619BBA";n.Build="D8BE799B-2716-4c4b-A939-E97C46A28CAA";n.ChartAuthoring="F01E607A-F55C-4038-8F4B-7956712DEA22";n.ChartViewing="A510D786-5E4B-432F-8C31-F9D7B42CF17E";n.Code="2FF0A29B-5679-44f6-8FAD-F5968AE3E32E";n.Feedback="BB000720-4CF7-466A-BA47-1AB40B7A8DFB";n.PortfolioBacklogManagement="68DFF179-850A-4F20-A489-E6BD6E6A17EC";n.ReleaseManagementStakeholder="F2CB3207-42D8-42CA-81F3-43F9C5182AF7";n.ReleaseManagement="321CEBB8-72F6-40E6-836D-47580566CCF4";n.Standard="D91355E2-2A55-4CBE-9636-4D73F70FBA7C";n.TestManagementForBasicUsers="2BAEE8C9-BB36-4DE1-B991-3C1B6B5CB2B5";n.TestManagementForExpressSku="2DD84BB6-7821-4FDE-85BA-A6CC4AB1B7E9";n.TestManagement="8D00EEB7-D5AD-4141-B601-FBB500F264BA";n.ViewMyWorkItems="4F5D9D44-EC3F-4AF1-921A-DEE2147C54DC"}(e=t.LicenseFeatureIds||(t.LicenseFeatureIds={})),function(n){n.DismissNotificationRegistryPath="/notification/dismiss/"}(o=t.Messages||(t.Messages={})),function(n){n[n.Deleting=2]="Deleting";n[n.New=0]="New";n[n.WellFormed=1]="WellFormed";n[n.CreatePending=3]="CreatePending";n[n.All=-1]="All";n[n.Unchanged=-2]="Unchanged";n[n.Deleted=4]="Deleted"}(s=t.ProjectState||(t.ProjectState={})),function(n){n.EveryoneInTenant="EveryoneInTenant";n.TeamMembers="TeamMembers";n.Everyone="Everyone"}(h=t.ProjectVisibilityConstants||(t.ProjectVisibilityConstants={})),function(n){n.FeaturesCapabilityName="features";n.FeaturesEnabled="featuresEnabled";n.VersionControlCapabilityName="versioncontrol";n.VersionControlCapabilityAttributeName="sourceControlType";n.VersionControlGitEnabledAttributeName="gitEnabled";n.VersionControlTfvcEnabledAttributeName="tfvcEnabled";n.ProcessTemplateCapabilityName="processTemplate";n.ProcessTemplateCapabilityTemplateNameAttributeName="templateName";n.ProcessTemplateCapabilityTemplateTypeIdAttributeName="templateTypeId"}(c=t.TeamProjectCapabilitiesConstants||(t.TeamProjectCapabilitiesConstants={})),function(n){n.Project="Project";n.Team="Team";n.WebTeam="WebTeam";n.Repository="Repository"}(l=t.TfsSettingsScopeNames||(t.TfsSettingsScopeNames={}))});

define("Presentation/Scripts/TFS/TFS.NotificationEventNames",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.EventNames=void 0;var i;(function(n){n.NotificationDismissed="notification-dismissed";n.ClientNotificationDismissed="local-notification-dismissed"})(i=t.EventNames||(t.EventNames={}))});

define("Presentation/Scripts/TFS/TFS.Host.UI.Actions",["require","exports"],function(){var n;return function(n){n.ACTION_MANAGE_TEAM_MEMBERS="manage-team-members";n.ACTION_REQUEST_FEEDBACK="request-feedback";n.ACTION_CREATE_WORKITEMS="create-work-items";n.ACTION_NEW_ROOM="create-new-room";n.ACTION_NEW_PROJECT="create-new-project";n.ACTION_SET_MRU_PAGE="set-mru-page";n.ACTION_UNPIN_TILE="unpin-homepage-tile"}(n||(n={})),n});

define("Presentation/Scripts/TFS/TFS.MyExperiences.UrlHelper",["require","exports","q","VSS/Service","VSS/Utils/File","VSS/Utils/Url","VSS/Context","VSS/Contributions/Services"],function(n,t,i,r,u,f,e,o){var h,s,c;Object.defineProperty(t,"__esModule",{value:!0});t.MyExperiencesUrls=t.ContributionConstants=void 0;h=r.getService(o.ExtensionService);s=function(){function n(){}return n.ProjectsHubRoute="ms.vss-tfs-web.collection-project-hub-route",n.SuitesMePageRoute="ms.vss-tfs-web.suite-me-page-route",n}();t.ContributionConstants=s;c=function(){function n(){}return n.getMyProjectsUrl=function(t){var r=i.defer();return h.getContribution(s.ProjectsHubRoute).then(function(){n.getContributionRoute(s.ProjectsHubRoute).then(function(i){r.resolve(n.getWebPageURL(t,i))})},function(){r.reject(null)}),r.promise},n.getCreateNewProjectUrl=function(t,r){var u=i.defer();return n.constructCreateProjectUrl(s.ProjectsHubRoute,t,r,"new").then(function(n){u.resolve(n)},function(){n.constructCreateProjectUrl(s.SuitesMePageRoute,t,r,"newProject").then(function(n){u.resolve(n)},function(){u.reject(null)})}),u.promise},n.getWebPageURL=function(t,i){var r=n.getBaseUrl(t),f=r;return i&&(f=u.combinePaths(r,i)),f},n.getBaseUrl=function(n){var t=e.getPageContext(),i=t.webContext,r=t.webAccessConfiguration.isHosted;return r?i.account.relativeUri:u.combinePaths(i.account.relativeUri,n)},n.getContributionRoute=function(n){return h.getContribution(n).then(function(n){return n.properties.routeTemplates[0]})},n.constructCreateProjectUrl=function(t,i,r,u){return n.getContributionRoute(t).then(function(t){var s=f.Uri.parse(t),o=s.path,e=s.queryParameters||[];return u&&e.push({name:n.ActionParameter,value:u}),r&&(r.source&&e.push({name:n.SourceParameter,value:r.source}),r.versionControl&&e.push({name:n.VersionControlParameter,value:r.versionControl}),r.processTemplate&&e.push({name:n.ProcessTemplateParameter,value:r.processTemplate})),e&&e.length>0&&(o=o+"?"+n.queryString(e)),n.getWebPageURL(i,o)})},n.queryString=function(n){return n&&n.length>0?n.map(function(n){return n.value?encodeURIComponent(n.name)+"="+encodeURIComponent(n.value):encodeURIComponent(n.name)}).join("&"):""},n.ActionParameter="_a",n.SourceParameter="source",n.VersionControlParameter="versionControl",n.ProcessTemplateParameter="processTemplate",n}();t.MyExperiencesUrls=c});

define("Admin/Scripts/TFS.Admin.UserCard.Commands",["require","exports","VSS/Locations","Presentation/Scripts/TFS/TFS.Host.TfsContext"],function(n,t,i,r){function u(){document.location.href=i.urlHelper.getMvcUrl({area:"details",action:"profile/information",level:r.NavigationContextLevels.Application})}Object.defineProperty(t,"__esModule",{value:!0});t.openProfilePage=void 0;t.openProfilePage=u});

define("Admin/Scripts/TFS.Admin.Registration.HostPlugins",["require","exports","VSS/Events/Action","Presentation/Scripts/TFS/TFS.Host.UI.Actions","VSS/Controls/Menus","VSS/VSS","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.MyExperiences.UrlHelper","Admin/Scripts/TFS.Admin.UserCard.Commands"],function(n,t,i,r,u,f,e,o,s,h,c){function l(){f.using(["Admin/Scripts/TFS.Admin.Dialogs","Admin/Scripts/TFS.Admin.Controls","VSS/Controls/Dialogs"],function(n,t,i){i.show(n.JumpListDialog);$(window).trigger("browse-dialog-open")})}Object.defineProperty(t,"__esModule",{value:!0});u.menuManager.attachExecuteCommand(function(n,t){var i=s.TfsContext.getDefault();switch(t.get_commandName()){case"browseTeams":case"browseProjects":if(i.contextData.collection!=undefined)return h.MyExperiencesUrls.getMyProjectsUrl(i.contextData.collection.name).then(function(n){window.location.href=n},function(){l()}),!1;case"browseCollections":return l(),!1;case"manageUserProfile":return e.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.UseUserDetailsArea)?c.openProfilePage():f.using(["Admin/Scripts/TFS.Admin.Dialogs","VSS/Controls/Dialogs"],function(n,t){t.show(n.UserProfileDialog,{})}),!1;case"create-team-project":return h.MyExperiencesUrls.getCreateNewProjectUrl(i.navigation.collection.name,{source:t._commandSource}).then(function(n){window.location.href=n},function(){f.using(["Admin/Scripts/TFS.Admin.Dialogs","VSS/Controls/Dialogs"],function(n,i){i.show(n.CreateProjectDialog,{source:t._commandSource})})}),!1;case"create-team":return f.using(["Admin/Scripts/TFS.Admin.Dialogs","VSS/Controls/Dialogs"],function(n,i){i.show(n.CreateTeamDialog,{source:t._commandSource,navigateToTeamOnSuccess:!0})}),!1}});var a=i.getService();a.registerActionWorker(r.ACTION_MANAGE_TEAM_MEMBERS,function(n){f.using(["Admin/Scripts/TFS.Admin.Dialogs","VSS/Controls/Dialogs"],function(t,i){i.Dialog.beginExecuteDialogAction(function(){i.show(t.ManageTeamMembersDialog,{teamName:n.teamName,joinToGroupTfid:n.teamId,dialogClosed:function(t){typeof n.callback=="function"&&n.callback.call(this,t)}})})})});a.registerActionWorker(r.ACTION_NEW_PROJECT,function(n){var t=s.TfsContext.getDefault();h.MyExperiencesUrls.getCreateNewProjectUrl(t.navigation.collection.name,{source:n.source}).then(function(n){window.location.href=n},function(){f.using(["Admin/Scripts/TFS.Admin.Dialogs","VSS/Controls/Dialogs"],function(t,i){i.Dialog.beginExecuteDialogAction(function(){i.show(t.CreateProjectDialog,{tfsContext:n.tfsContext,source:n.source})})})})});f.tfsModuleLoaded("TFS.Admin.Registration.HostPlugins",t)});

define("Alerts/Scripts/TFS.Alerts.Registration.HostPlugins",["require","exports","VSS/Controls/Menus","VSS/VSS"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});i.menuManager.attachExecuteCommand(function(n,t){switch(t.get_commandName()){case"manageAlerts":return r.using(["Alerts/Scripts/TFS.Alerts.Controls"],function(n){n.AlertDialogs.manageAlerts()}),!1}});r.tfsModuleLoaded("TFS.Alerts.Registration.HostPlugins",t)});

define("Requirements/Scripts/TFS.Requirements.Registration.HostPlugins",["require","exports","VSS/Events/Action","Presentation/Scripts/TFS/TFS.Host.UI.Actions","VSS/VSS"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});i.getService().registerActionWorker(r.ACTION_REQUEST_FEEDBACK,function(){u.using(["Requirements/Scripts/TFS.Requirements.Feedback.Views","VSS/Controls/Dialogs"],function(n,t){t.Dialog.beginExecuteDialogAction(function(){t.show(n.RequestView)})})});u.tfsModuleLoaded("TFS.Requirements.Registration.HostPlugins",t)});

define("WorkItemTracking/Scripts/ActionUrls",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.ActionParameters=t.ActionUrl=void 0,function(n){n.ACTION="action";n.ACTION_NEW="new";n.ACTION_EDIT="edit";n.ACTION_CREATE="create";n.ACTION_QUERYRESULTSBYID="resultsById";n.ACTION_QUERYRESULTSBYPATH="results";n.ACTION_ADHOCQUERY="adHocQuery";n.ACTION_VSOPEN="vsopen";n.ACTION_QUERY="query";n.ACTION_QUERY_EDIT="query-edit";n.ACTION_QUERY_CHARTS="query-charts";n.ACTION_CONTRIBUTION="contribution";n.ACTION_SEARCH="search"}(i=t.ActionUrl||(t.ActionUrl={})),function(n){n.ACTION="_a";n.ID="id";n.WITD="witd";n.WORKITEMID="workItemId";n.TRIAGE="triage";n.TEMPQUERYID="tempQueryId";n.TEMPLATEID="templateId";n.PATH="path";n.WIQL="wiql";n.NEW_QUERY="newQuery";n.SEARCHTEXT="searchText";n.PARENTID="parentId";n.FULLSCREEN="fullScreen";n.VIEW="view";n.ISVSOPEN="isVSOpen";n.QUERYID="queryId";n.CONTEXT="context";n.NAME="name";n.IMPORTDATA="importData"}(r=t.ActionParameters||(t.ActionParameters={}))});

define("VSS/FeatureManagement/Contracts",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.ContributedFeatureEnabledValue=void 0;var i;(function(n){n[n.Undefined=-1]="Undefined";n[n.Disabled=0]="Disabled";n[n.Enabled=1]="Enabled"})(i=t.ContributedFeatureEnabledValue||(t.ContributedFeatureEnabledValue={}));t.TypeInfo={ContributedFeatureEnabledValue:{enumValues:{undefined:-1,disabled:0,enabled:1}},ContributedFeatureState:{},ContributedFeatureStateQuery:{}};t.TypeInfo.ContributedFeatureState.fields={state:{enumType:t.TypeInfo.ContributedFeatureEnabledValue}};t.TypeInfo.ContributedFeatureStateQuery.fields={featureStates:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ContributedFeatureState}}});

define("VSS/FeatureManagement/RestClient",["require","exports","VSS/FeatureManagement/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function nt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&d[window.VSS.VssSDKRestVersion]?r.getClient(d[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(s,undefined,undefined,undefined,n)}var e,f,o,s,h,c,l,a,v,y,p,w,b,k,g,d;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.FeatureManagementHttpClient=t.FeatureManagementHttpClient3=t.FeatureManagementHttpClient3_1=t.FeatureManagementHttpClient3_2=t.FeatureManagementHttpClient4=t.FeatureManagementHttpClient4_1=t.FeatureManagementHttpClient5=t.FeatureManagementHttpClient5_1=t.FeatureManagementHttpClient5_2=t.FeatureManagementHttpClient6=t.FeatureManagementHttpClient6_1=t.FeatureManagementHttpClient7=t.FeatureManagementHttpClient7_1=t.CommonMethods3_1To7_1=t.CommonMethods3To7_1=void 0;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.setFeatureStateForScope=function(n,t,r,u,f,e,o){var s={reason:e,reasonCode:o};return this._beginRequest({httpMethod:"PATCH",area:"FeatureManagement",locationId:"dd291e43-aa9f-4cee-8465-a93c78e414a4",resource:"FeatureStates",routeTemplate:"_apis/{area}/{resource}/{userScope}/{scopeName}/{scopeValue}/{featureId}",requestType:i.TypeInfo.ContributedFeatureState,responseType:i.TypeInfo.ContributedFeatureState,routeValues:{featureId:t,userScope:r,scopeName:u,scopeValue:f},queryParams:s,apiVersion:this.featureStatesApiVersion,data:n})},t.prototype.getFeatureStateForScope=function(n,t,r,u){return this._beginRequest({httpMethod:"GET",area:"FeatureManagement",locationId:"dd291e43-aa9f-4cee-8465-a93c78e414a4",resource:"FeatureStates",routeTemplate:"_apis/{area}/{resource}/{userScope}/{scopeName}/{scopeValue}/{featureId}",responseType:i.TypeInfo.ContributedFeatureState,routeValues:{featureId:n,userScope:t,scopeName:r,scopeValue:u},apiVersion:this.featureStatesApiVersion})},t.prototype.setFeatureState=function(n,t,r,u,f){var e={reason:u,reasonCode:f};return this._beginRequest({httpMethod:"PATCH",area:"FeatureManagement",locationId:"98911314-3f9b-4eaf-80e8-83900d8e85d9",resource:"FeatureStates",routeTemplate:"_apis/{area}/{resource}/{userScope}/{featureId}",requestType:i.TypeInfo.ContributedFeatureState,responseType:i.TypeInfo.ContributedFeatureState,routeValues:{featureId:t,userScope:r},queryParams:e,apiVersion:this.featureStatesApiVersion_98911314,data:n})},t.prototype.getFeatureState=function(n,t){return this._beginRequest({httpMethod:"GET",area:"FeatureManagement",locationId:"98911314-3f9b-4eaf-80e8-83900d8e85d9",resource:"FeatureStates",routeTemplate:"_apis/{area}/{resource}/{userScope}/{featureId}",responseType:i.TypeInfo.ContributedFeatureState,routeValues:{featureId:n,userScope:t},apiVersion:this.featureStatesApiVersion_98911314})},t.prototype.getFeatures=function(n){var t={targetContributionId:n};return this._beginRequest({httpMethod:"GET",area:"FeatureManagement",locationId:"c4209f25-7a27-41dd-9f04-06080c7b6afd",resource:"Features",routeTemplate:"_apis/{area}/{resource}/{featureId}",responseIsCollection:!0,queryParams:t,apiVersion:this.featuresApiVersion})},t.prototype.getFeature=function(n){return this._beginRequest({httpMethod:"GET",area:"FeatureManagement",locationId:"c4209f25-7a27-41dd-9f04-06080c7b6afd",resource:"Features",routeTemplate:"_apis/{area}/{resource}/{featureId}",routeValues:{featureId:n},apiVersion:this.featuresApiVersion})},t}(u.VssHttpClient);t.CommonMethods3To7_1=e;f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryFeatureStatesForNamedScope=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"FeatureManagement",locationId:"f29e997b-c2da-4d15-8380-765788a1a74c",resource:"FeatureStatesQuery",routeTemplate:"_apis/{area}/{resource}/{userScope}/{scopeName}/{scopeValue}",requestType:i.TypeInfo.ContributedFeatureStateQuery,responseType:i.TypeInfo.ContributedFeatureStateQuery,routeValues:{userScope:t,scopeName:r,scopeValue:u},apiVersion:this.featureStatesQueryApiVersion,data:n})},t.prototype.queryFeatureStatesForDefaultScope=function(n,t){return this._beginRequest({httpMethod:"POST",area:"FeatureManagement",locationId:"3f810f28-03e2-4239-b0bc-788add3005e5",resource:"FeatureStatesQuery",routeTemplate:"_apis/{area}/{resource}/{userScope}",requestType:i.TypeInfo.ContributedFeatureStateQuery,responseType:i.TypeInfo.ContributedFeatureStateQuery,routeValues:{userScope:t},apiVersion:this.featureStatesQueryApiVersion_3f810f28,data:n})},t.prototype.queryFeatureStates=function(n){return this._beginRequest({httpMethod:"POST",area:"FeatureManagement",locationId:"2b4486ad-122b-400c-ae65-17b6672c1f9d",resource:"FeatureStatesQuery",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.ContributedFeatureStateQuery,responseType:i.TypeInfo.ContributedFeatureStateQuery,apiVersion:this.featureStatesQueryApiVersion_2b4486ad,data:n})},t}(e);t.CommonMethods3_1To7_1=f;o=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="7.1-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient7_1=o;s=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="7.0-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient7=s;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="6.1-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient6_1=h;c=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="6.0-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient6=c;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="5.2-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient5_2=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="5.1-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient5_1=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="5.0-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient5=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="4.1-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient4_1=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="4.0-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient4=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="3.2-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient3_2=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="3.1-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient3_1=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314="3.0-preview.1",r}return __extends(t,n),t}(e);t.FeatureManagementHttpClient3=k;g=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(o);t.FeatureManagementHttpClient=g;d={"7.1":o,"7.0":s,"6.1":h,"6.0":c,"5.2":l,"5.1":a,"5.0":v,"4.1":y,"4.0":p,"3.2":w,"3.1":b,"3.0":k};t.getClient=nt});

define("VSSPreview/Flux/Components/LWP",["require","exports","react","VSS/LWP"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.LWPComponent=void 0;var u=r.getLWPModule("VSS/Platform/Layout"),f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n,t,f;return u&&u.WrappedComponent&&u.ReactRootComponent?(n=r.getLWPModule("VSS/Legacy/Legacy"),n||console&&console.warn("`LWPComponent` requires the `VSS/Legacy/Legacy` module"),t=n.getLWPComponentProps(),f=this.props.pageContext,f&&(t.pageContext=f),i.createElement(u.ReactRootComponent,__assign({},t),i.createElement(u.WrappedComponent,__assign({},this.props)))):(console&&console.warn("`LWPComponent` requires the `VSS/Platform/Layout` module"),null)},t}(i.Component);t.LWPComponent=f});

var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)};define("WorkItemTracking/Scripts/Utils/WitControlMode",["require","exports","VSS/Diag","VSS/FeatureAvailability/Services","q","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/Service","VSS/Contributions/Services","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e,o,s){function a(n){return n.configuration&&n.configuration.getMailSettings().enabled}function v(){return r.FeatureAvailabilityService.isFeatureEnabled("WebAccess.WorkItemTracking.MentionsReplyAll",!1)}function y(){return r.FeatureAvailabilityService.isFeatureEnabled(f.FeatureAvailabilityFlags.WebAccessWorkItemTrackingFormCommentServiceEditAndDeleteEnable,!1)}function p(){return r.FeatureAvailabilityService.isFeatureEnabled(f.FeatureAvailabilityFlags.WebAccessWorkItemTrackingEnableCommentReactions,!1)}function w(){return r.FeatureAvailabilityService.isFeatureEnabled("WebAccess.WorkItemTracking.Form.Comments.QuoteReply.Enabled",!1)}function b(){return r.FeatureAvailabilityService.isFeatureEnabled("WebAccess.WorkItemTracking.Form.CommentService.SharedUI.Enabled",!1)}function k(){return r.FeatureAvailabilityService.isFeatureEnabled("WebAccess.WorkItemTracking.EnableHtmlFieldsMentions",!1)}Object.defineProperty(t,"__esModule",{value:!0});t.isHtmlFieldsMentionsEnabled=t.useSharedCommentsUIEnabled=t.isQuoteReplyEnabled=t.isCommentReactionsEnabled=t.isNewCommentsServiceEditAndDeleteEnabled=t.isMentionsReplyAllEnabled=t.isFollowWorkItemEnabled=t.WitFormModeUtility=void 0;var h="ms.vss-work-web.work-item-layout-user-settings-data-provider",c="ms.vss-work-web.work-item-common-configuration-data-provider",l=function(){function n(){}return Object.defineProperty(n,"maxAttachmentSize",{get:function(){return n.settings.maxAttachmentSize},enumerable:!1,configurable:!0}),n.ensureWitFormModeLoaded=function(){if(n.loadLayoutPropertiesFromPageData(),n._shouldFetchData()){i.timeStamp("WorkItemOM.isNewFormEnabledCallback",i.StampEvent.Enter);var t=e.getService(o.WebPageDataService);return t.ensureDataProvidersResolved([{id:h,properties:{serviceInstanceType:s.ServiceInstanceTypes.TFS}},{id:c,properties:{serviceInstanceType:s.ServiceInstanceTypes.TFS}}]).then(function(){i.timeStamp("WorkItemOM.isNewFormEnabledCallback",i.StampEvent.Leave);n.loadLayoutPropertiesFromPageData()},function(){i.timeStamp("WorkItemOM.isNewFormEnabledCallback",i.StampEvent.Leave)})}return u(null)},n._shouldFetchData=function(){return!n.maxAttachmentSize},n.loadLayoutPropertiesFromPageData=function(){var t=e.getService(o.WebPageDataService),i=t.getPageData(h),r=t.getPageData(c);n.settings=__assign(__assign({},r),i)},n.settings={},n}();t.WitFormModeUtility=l;t.isFollowWorkItemEnabled=a;t.isMentionsReplyAllEnabled=v;t.isNewCommentsServiceEditAndDeleteEnabled=y;t.isCommentReactionsEnabled=p;t.isQuoteReplyEnabled=w;t.useSharedCommentsUIEnabled=b;t.isHtmlFieldsMentionsEnabled=k});

define("VSS/Controls/Splitter",["require","exports","VSS/Controls","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/UI","VSS/LoaderPlugins/Css!Splitter"],function(n,t,i,r,u,f,e){var o;Object.defineProperty(t,"__esModule",{value:!0});t.Splitter=t.SplitterO=void 0;var s=f.delegate,h=e.domElem,c=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._screenXY="pageX",i._cssPosProp="left",i._cssSizeProp="width",i._leftFix=!0,i._deltaMultiplier=1,i._dragStart=!1,i._ignoreWindowResize=!1,t&&t.initialSize&&(i._fixedSidePixels=t.initialSize),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"splitter",vertical:!0,fixedSide:"left"},t))},t.prototype._enhance=function(t){var i,r;n.prototype._enhance.call(this,t);this.leftPane=t.children(".leftPane");this.handleBar=t.children(".handleBar");this.rightPane=t.children(".rightPane");this.handleBar.append(h("div","handleBar-hitTarget"));i=this._options;t.hasClass(o.VERTICAL_CLASS)?i.vertical=!0:t.hasClass(o.HORIZONTAL_CLASS)?i.vertical=!1:i.vertical===!0?t.addClass(o.VERTICAL_CLASS):t.addClass(o.HORIZONTAL_CLASS);i.expandState?this.expandState=i.expandState:this.getElement().hasClass("left-expand")?this.expandState="left":this.getElement().hasClass("right-expand")&&(this.expandState="right");this.getElement().hasClass("right-fix")?i.fixedSide="right":i.fixedSide==="right"?t.addClass("right-fix"):i.fixedSide="left";r=i.collapsedLabel;r||(r=t.data().collapsedLabel);r&&this.setCollapsedLabel(r)},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._setupHandleBar();var t=this._options;this.setMaxWidth(t.maxWidth);this.setMinWidth(t.minWidth);this._configureCssProps();this._isCollapsed()||this._setInitialSize();this._attachEvents();(this._options.enableToggleButton||this._isToggleButtonEnabled())&&(this.getElement().addClass(o.TOGGLE_BUTTON_ENABLED_CLASS_NAME),this._ensureToggleButton(),this._isToggleButtonHotkeyEnabled()&&this._bind($(window.document),"keyup",s(this,this._onDocumentKeyup)));this.getElement().hasClass(o._noSplitCssClass)&&this._fixedSide.toggle(!1)},t.prototype._setupHandleBar=function(){var n=this.handleBar;n.attr({tabindex:this.isExpanded()?"0":"-1",role:"separator","aria-label":u.SplitterLabel});this._setAriaOrientation(this._options.vertical)},t.prototype._setInitialSize=function(){var n=0;this._options.initialSize>0&&(n=this._options.initialSize);n<=0&&(n=this.getElement().data().initialSize);n&&this.resize(n,!0,!1)},t.prototype.setMinWidth=function(n){this._minWidth=n;this.setAttribute("aria-valuemin",n,this.handleBar)},t.prototype.setMaxWidth=function(n){this._maxWidth=n;this.setAttribute("aria-valuemax",n,this.handleBar)},t.prototype._getAdjustedSize=function(n){var t=this._minWidth,i=this._maxWidth;return typeof t=="number"&&n<t&&(n=t),typeof i=="number"&&n>i&&(n=i),n},t.prototype.resize=function(n,t,i,r){var u,f,s,e,h;this.getElement().hasClass(o._noSplitCssClass)||this.getElement().is(":visible")&&(this.getElement().toggleClass(o.COLLAPSED_CLASS_NAME,!1),n!==null&&n!==undefined&&(n<0?n=0:(e=this.getElement()[this._cssSizeProp]()-this.handleBar[this._cssSizeProp](),n>e&&(h=this.leftPane[this._cssSizeProp](),e<h&&(e=h),n=e))),u=n===null||n===undefined?"":n,i?(s=this._options.animationSpeed||o.DEFAULT_ANIMATION_SPEED,f=this._createAnimationOption(this._cssSizeProp,u+"px"),this._fixedSide.animate(f,s),f=this._createAnimationOption(this._cssPosProp,u+"px"),this._fillSide.animate(f,s),this.handleBar.animate(f,s,r)):(this._fixedSide.css(this._cssSizeProp,u),this._fillSide.css(this._cssPosProp,u),this.handleBar.css(this._cssPosProp,u),r&&r()),this._fixedSidePixels=n,this._layoutToggleButton(i),this.setAttribute("aria-valuenow",n,this.handleBar),t||this._fireWindowResize())},t.prototype.toggleExpanded=function(n){if((n===undefined||n!==this.isExpanded())&&(this.expandState?(this.removeExpand(),this.handleBar.attr("tabindex","0")):(this._options.fixedSide==="left"?this._expandInternal("right"):this._expandInternal("left"),this.handleBar.attr("tabindex","-1")),this.getElement().toggleClass(o.COLLAPSED_CLASS_NAME,!this.isExpanded()),this._setToggleButtonTooltip(),this._fireWindowResize(),this._fire("changed",this),this._options.onToggle))this._options.onToggle(this.isExpanded())},t.prototype.expand=function(){this.toggleExpanded(!0)},t.prototype.collapse=function(){this.toggleExpanded(!1)},t.prototype.isExpanded=function(){return!this.expandState},t.prototype.removeExpand=function(n){this.getElement().removeClass("left-expand");this.getElement().removeClass("right-expand");this.expandState=null;n?(this._layoutToggleButton(),this._fireWindowResize()):this.resize(this._fixedSidePixels)},t.prototype._expandInternal=function(n){var t=this.getElement();n||(n="left");n==="left"?t.removeClass("right-expand").addClass("left-expand"):t.removeClass("left-expand").addClass("right-expand");this.expandState=n;this._fixedSide.css(this._cssSizeProp,"");this._fillSide.css(this._cssPosProp,"");this.handleBar.css(this._cssPosProp,"");this._layoutToggleButton();this.setAttribute("aria-valuenow",0,this.handleBar)},t.prototype.getFixedSidePixels=function(){return this._fixedSidePixels},t.prototype.toggleSplit=function(n,t,i){var r=this,u;n?(this.getElement().removeClass(o._noSplitCssClass),this._savedFixedSidePixels!==undefined&&(this._fixedSidePixels=this._savedFixedSidePixels,this._savedFixedSidePixels=undefined),this._fixedSide.css("display",""),this.expandState?(this._expandInternal(this.expandState),this.getElement().addClass(o.COLLAPSED_CLASS_NAME),this._setToggleButtonTooltip(),this._fireWindowResize()):t?(u=this._fixedSidePixels||i,this.resize(0,!0,!1),this.resize(u,!0,!0)):this.resize(this._fixedSidePixels||i)):(this._savedFixedSidePixels=this._fixedSidePixels,this.resize(0,!0,t,function(){r.getElement().addClass(o._noSplitCssClass);r.getElement().removeClass(o.COLLAPSED_CLASS_NAME);r._fixedSide.css(r._cssSizeProp,"").css("display","none");r._fillSide.css(r._cssPosProp,"");r.handleBar.css(r._cssPosProp,"");r._fireWindowResize()}))},t.prototype.noSplit=function(n){this.toggleSplit(!1,n)},t.prototype.split=function(n,t){this.toggleSplit(!0,n,t)},t.prototype.toggleOrientation=function(n,t){if(n=Boolean(n),this._options.vertical!==n){var i=this.getElement();i.removeClass("left-expand");i.removeClass("right-expand");this.expandState=null;this._fixedSide.css(this._cssSizeProp,"");this._fillSide.css(this._cssPosProp,"");this.handleBar.css(this._cssPosProp,"");this._options.vertical=n;i.toggleClass(o.VERTICAL_CLASS,n);i.toggleClass(o.HORIZONTAL_CLASS,!n);this._configureCssProps();this._setAriaOrientation(n);this.resize(t)}},t.prototype.vertical=function(){this.toggleOrientation(!0)},t.prototype.horizontal=function(){this.toggleOrientation(!1)},t.prototype._setAriaOrientation=function(n){this.setAttribute("aria-orientation",n===!1?"vertical":"horizontal",this.handleBar)},t.prototype.setCollapsedLabel=function(n){var i=this,t;this.handleBar.children(":not(.handleBar-hitTarget)").remove();n&&(t=$(h("div","handlebar-label")).prependTo(this.handleBar).attr("title",n).bind("mousedown",function(n){i.toggleExpanded(!0);n.preventDefault();n.stopPropagation()}),$(h("span","handlebar-label-text")).appendTo(t).text(n))},t.prototype._createElement=function(){n.prototype._createElement.call(this);this._options.vertical===!1?this.getElement().addClass(o.HORIZONTAL_CLASS):this.getElement().addClass(o.VERTICAL_CLASS);this._options.expandState&&(this.expandState=this._options.expandState,this.getElement().addClass(this.expandState==="left"?"left-expand":"right-expand"));this._options.fixedSide==="right"&&this.getElement().addClass("right-fix");this.leftPane=$(h("div","leftPane")).appendTo(this.getElement());this.handleBar=$(h("div","handleBar")).appendTo(this.getElement());this.rightPane=$(h("div","rightPane")).appendTo(this.getElement());this.handleBar.append(h("div","handleBar-hitTarget"));this._options.collapsedLabel&&this.setCollapsedLabel(this._options.collapsedLabel)},t.prototype._configureCssProps=function(){var n=this._leftFix=this._options.fixedSide==="left";n?(this._deltaMultiplier=1,this._fixedSide=this.leftPane,this._fillSide=this.rightPane):(this._deltaMultiplier=-1,this._fixedSide=this.rightPane,this._fillSide=this.leftPane);this._options.vertical===!1?(this._screenXY="pageX",this._cssSizeProp="width",this._cssPosProp=n?"left":"right"):(this._screenXY="pageY",this._cssSizeProp="height",this._cssPosProp=n?"top":"bottom");this._isCollapsed()&&(this.expandState=this._options.fixedSide==="left"?"right":"left")},t.prototype._attachEvents=function(){var n=this;this._bind(this.handleBar,"mousedown",s(this,this._handleBarMouseDown));this._bind(this.handleBar,"dblclick",s(this,this._handleBarDoubleClick));this._bind(this.handleBar,"mouseover",function(){n.handleBar.addClass("hover")});this._bind(this.handleBar,"mouseout",function(){n.handleBar.removeClass("hover")});this._bind(this.handleBar,"selectstart",function(){return!1});this._bind(this.handleBar,"keydown",this._handleBarKeydown.bind(this));e.attachResize(this.getElement(),s(this,this._onWindowResize))},t.prototype._ensureToggleButton=function(){if(!this._$toggleButton){var t=this.getElement(),n=t.find(".toggle-button");n.length===0&&(this._$toggleButtonIcon=$("<span/>").addClass("bowtie-icon"),n=$("<button/>").addClass("toggle-button").append(this._$toggleButtonIcon),n.insertBefore(t.children(".handleBar")));this._$toggleButton=n;this._setToggleButtonTooltip();this._layoutToggleButton();this._$toggleButton.click(s(this,this._onToggleButtonClick))}},t.prototype._layoutToggleButton=function(n){var t,i,r=this.isExpanded();this._$toggleButton&&(r?(this._measureFixedSide(),t=this._fixedSidePixels-(o.TOGGLE_BUTTON_MARGIN+o.TOGGLE_BUTTON_LENGTH)):t=o.TOGGLE_BUTTON_MARGIN,this._$toggleButtonIcon&&this._setToggleButtonIconClass(r),n?(i=this._createAnimationOption(this._cssPosProp,t+"px"),this._$toggleButton.animate(i,this._options.animationSpeed||o.DEFAULT_ANIMATION_SPEED)):this._$toggleButton.css(this._cssPosProp,t))},t.prototype._setToggleButtonIconClass=function(n){var t=this._options.fixedSide==="left",i="bowtie-icon ";i+=this._options.vertical?n?t?"bowtie-chevron-up":"bowtie-chevron-down":t?"bowtie-chevron-down":"bowtie-chevron-up":n?t?"bowtie-chevron-left":"bowtie-chevron-right":t?"bowtie-chevron-right":"bowtie-chevron-left";this._$toggleButtonIcon.removeClass().addClass(i)},t.prototype._setToggleButtonTooltip=function(){var n=this._options,t=this._$toggleButton;t&&(this._isCollapsed()?t.attr({title:n.toggleButtonCollapsedTooltip?n.toggleButtonCollapsedTooltip:u.ExpandSplitterTooltip,"aria-expanded":"false"}):t.attr({title:n.toggleButtonExpandedTooltip?n.toggleButtonExpandedTooltip:u.CollapseSplitterTooltip,"aria-expanded":"true"}))},t.prototype.setOnToggle=function(n){this._options.onToggle=n},t.prototype._measureFixedSide=function(){this._fixedSidePixels=this._cssSizeProp==="width"?this._fixedSide.outerWidth():this._fixedSide.outerHeight()},t.prototype._handleBarMouseDown=function(n){n.preventDefault();this._dragStart={pointer:n[this._screenXY],originalSize:this._isCollapsed()?n[this._screenXY]:this._fixedSide[this._cssSizeProp]()};this.getElement().addClass("dragging");this._ensureHandleBarClone();this._setupDragEvents();this._ensureOverlay()},t.prototype._handleBarKeydown=function(n){var t=this._options.vertical!==!1,i=!this._isCollapsed();switch(n.keyCode){case e.KeyCode.LEFT:i&&!t&&this._moveSeparator("left");break;case e.KeyCode.RIGHT:i&&!t&&this._moveSeparator("right");break;case e.KeyCode.UP:i&&t&&this._moveSeparator("left");break;case e.KeyCode.DOWN:i&&t&&this._moveSeparator("right")}},t.prototype._moveSeparator=function(n){var t=25*(this._options.fixedSide===n?-1:1);typeof this._fixedSidePixels!="number"&&this._measureFixedSide();this.resize(this._getAdjustedSize(this._fixedSidePixels+t))},t.prototype._isToggleButtonEnabled=function(){return this.getElement().hasClass(o.TOGGLE_BUTTON_ENABLED_CLASS_NAME)},t.prototype._isToggleButtonHotkeyEnabled=function(){return this.getElement().hasClass(o.TOGGLE_BUTTON_HOTKEY_ENABLED_CLASS_NAME)},t.prototype._isCollapsed=function(){return this.getElement().hasClass(o.COLLAPSED_CLASS_NAME)},t.prototype._onDocumentKeyup=function(n){if(n.ctrlKey&&n.altKey&&n.keyCode===e.KeyCode.SPACE&&this._isToggleButtonHotkeyEnabled())return this.toggleExpanded(),!1},t.prototype._onToggleButtonClick=function(n){return this.toggleExpanded(),!1},t.prototype._ensureHandleBarClone=function(){this._$handleBarClone||(this._$handleBarClone=$("<div/>").addClass("handleBar-clone").css(this._cssPosProp,this._dragStart.originalSize+"px").css(this._cssSizeProp,o.HANDLE_BAR_CLONE_SIZE).appendTo(this.getElement()))},t.prototype._removeHandleBarClone=function(){this._$handleBarClone&&(this._$handleBarClone.remove(),this._$handleBarClone=null)},t.prototype._setupDragEvents=function(){this._bind(window.document,"mousemove",s(this,this._documentMouseMove),!0);this._bind(window.document,"mouseup",s(this,this._documentMouseUp),!0)},t.prototype._ensureOverlay=function(){this._splitterOverlay||(this._splitterOverlay=$(h("div","overlay")),this.getElement().append(this._splitterOverlay),this._bind(this._splitterOverlay,"mousemove",s(this,this._documentMouseMove)),this._bind(this._splitterOverlay,"mouseup",s(this,this._documentMouseUp)),this._bind(this._splitterOverlay,"selectstart",function(){return!1}))},t.prototype._removeOverlay=function(){this._splitterOverlay&&(this._splitterOverlay.remove(),this._splitterOverlay=null)},t.prototype._clearDragEvents=function(){this._removeOverlay();this._unbind(window.document,"mousemove");this._unbind(window.document,"mouseup")},t.prototype._documentMouseMove=function(n){var t;if(this._dragStart)return t=n[this._screenXY]-this._dragStart.pointer,t&&this._ensureOverlay(),this._ensureHandleBarClone(),this._$handleBarClone.css(this._cssPosProp,+(this._dragStart.originalSize+this._deltaMultiplier*t)+"px"),!1},t.prototype._documentMouseUp=function(n){var i,r,t;if(this._dragStart)return i=n[this._screenXY]-this._dragStart.pointer,r=!1,Math.abs(i)>1&&(r=!0,t=this._dragStart.originalSize+this._deltaMultiplier*i,t=this._getAdjustedSize(t),this._isToggleButtonEnabled()&&t<=o.AUTO_COLLAPSE_THRESHOLD?this.toggleExpanded(!1):(this.expandState&&this.removeExpand(!0),this.resize(t))),this._dragStart=null,this.getElement().removeClass("dragging"),this._removeHandleBarClone(),this._clearDragEvents(),r&&this._fire("changed",this),!1},t.prototype._onWindowResize=function(){this._ignoreWindowResize||this.expandState||this.resize(this._fixedSidePixels,!0)},t.prototype._fireWindowResize=function(){try{this._ignoreWindowResize=!0;var n=document.createEvent("Event");n.initEvent("resize",!1,!0);window.dispatchEvent(n)}finally{this._ignoreWindowResize=!1}},t.prototype.attachResize=function(n){this._ignoreWindowResize=!1;n&&this._onWindowResize()},t.prototype.detachResize=function(){this._ignoreWindowResize=!0},t.prototype._createAnimationOption=function(n,t){var i={};return i[n]=t,i},t.prototype._handleBarDoubleClick=function(){this.toggleExpanded()},t.prototype._dispose=function(){n.prototype._dispose.call(this);this.unregisterEvents()},t.prototype.unregisterEvents=function(){e.detachResize(this.getElement())},t.enhancementTypeName="tfs.splitter",t._noSplitCssClass="no-split",t.CORE_CSS_CLASS="splitter",t.HORIZONTAL_CLASS="horizontal",t.VERTICAL_CLASS="vertical",t.TOGGLE_BUTTON_LENGTH=16,t.TOGGLE_BUTTON_MARGIN=2,t.COLLAPSED_CLASS_NAME="collapsed",t.TOGGLE_BUTTON_ENABLED_CLASS_NAME="toggle-button-enabled",t.TOGGLE_BUTTON_HOTKEY_ENABLED_CLASS_NAME="toggle-button-hotkey-enabled",t.AUTO_COLLAPSE_THRESHOLD=20,t.DEFAULT_ANIMATION_SPEED=800,t.HANDLE_BAR_CLONE_SIZE=5,t}(i.Control);t.SplitterO=c;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(c);t.Splitter=o;i.Enhancement.registerJQueryWidget(o,o.CORE_CSS_CLASS);i.Enhancement.registerEnhancement(o,"."+o.CORE_CSS_CLASS)});

define("VSS/Controls/Navigation",["require","exports","VSS/Common/Constants/Platform","VSS/Context","VSS/Controls","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Diag","VSS/Events/Handlers","VSS/Controls/Menus","VSS/Navigation/Services","VSS/Controls/Notifications","q","VSS/Controls/PopupContent","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Controls/Splitter","VSS/Telemetry/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/UI","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls","VSS/LoaderPlugins/Css!PivotView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){function ct(n){var t;return n&&n.length===1&&(t=n.data("item"),t||(t={text:n.find("a").first().html(),title:n.data("title")||null,id:n.data("id"),link:n.find("a").first().attr("href"),selected:n.hasClass("selected"),encoded:n.data("encoded")||!1,disabled:n.hasClass("disabled")},n.data("item",t))),t}function wt(n,t){t=t||ct(n);t&&(t.disabled?(n.attr("disabled","disabled"),n.addClass("disabled"),n.removeClass("selected"),n.attr("aria-disabled","true")):(n.prop("disabled",!1),n.removeClass("disabled"),n.toggleClass("selected",t.selected),n.removeAttr("aria-disabled")),t.selected?n.children("a").attr("aria-selected","true"):n.children("a").attr("aria-selected","false"))}var ht,ut,ft,lt,at,vt,ot,st,pt,dt;Object.defineProperty(t,"__esModule",{value:!0});t.FullScreenHelper=t.NavigationLink=t.TabbedNavigationView=t.NavigationViewTab=t.PivotView=t.PivotFilter=t.TriSplitNavigationView=t.NavigationView=void 0;var rt=k.delegate,it=nt.domElem,et=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onHistoryNavigate=function(n,t){i._onNavigate(t||{})},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({attachNavigate:!1,titleElementSelector:".hub-title",hubSplitterSelector:".hub-content > .splitter"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._options.attachNavigate===!0&&this._attachNavigate()},t.prototype.onNavigate=function(){},t.prototype._getViewTitle=function(){return this._element.find(".hub-title").eq(0)},t.prototype.setViewTitle=function(n,t){this._element.find(this._options.titleElementSelector).text(n||"").attr("title",t||n||"");this.setWindowTitle(n)},t.prototype.setViewTitleContent=function(n,t){this._element.find(this._options.titleElementSelector).html(t||"").attr("title",n||"");this.setWindowTitle(n)},t.prototype.setWindowTitle=function(n){document.title=d.format(this._getPageTitleString(),n||"")},t.prototype.setLeftHubPaneVisibility=function(n){var i=this._element.find(this._options.hubSplitterSelector),t=u.Enhancement.getInstance(w.Splitter,i);t&&n!==this._leftPaneVisible&&(this._leftPaneVisible=n,t.toggleSplit(n))},t.prototype.setFullScreenMode=function(n,t){t===void 0&&(t=!1);var i=$(document.body),r=$(".tfs-host-notifications");i.toggleClass("no-chrome",n);i.toggleClass("full-screen-mode",n);r.toggleClass("visible",r.css("display")!="none");this.setLeftHubPaneVisibility(!n||t)},t.prototype._setTitleMode=function(){},t.prototype._getPageTitleString=function(){return c.getDefaultPageTitleFormatString()},t.prototype._attachNavigate=function(){this._historyNavigated=!1;var n=c.getHistoryService();n.attachNavigate(this._onHistoryNavigate);this._historyNavigated||this._onNavigate(n.getCurrentState()||{});this._historyNavigated=!1},t.prototype._onNavigate=function(n){this._historyNavigated=!0;this.onNavigate(n)},t.prototype._dispose=function(){n.prototype._dispose.call(this);this._options.attachNavigate===!0&&c.getHistoryService().detachNavigate(this._onHistoryNavigate)},t.ACTION_CONTRIBUTION="contribution",t}(u.BaseControl);t.NavigationView=et;ht=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({leftPaneSelector:".hub-content > .splitter > .leftPane",rightPaneSelector:".hub-content > .splitter > .rightPane"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._leftPane=this.getElement().find(this._options.leftPaneSelector);this._rightPane=this.getElement().find(this._options.rightPaneSelector)},t.getInstance=function(){return t._instance||(t._instance=u.Enhancement.enhance(t,".hub-view",{})),t._instance},t.prototype.getLeftPane=function(){return this._leftPane},t.prototype.getRightPane=function(){return this._rightPane},t}(et);t.TriSplitNavigationView=ht;ut=function(){function n(n){this._options=n||{};this._items=this._options.items||[]}return n.toItem=function(n){var t;return n&&n.length===1&&(t=n.data("item"),t||(t={text:n.find("span.anchor").first().text(),title:n.data("title")||null,value:n.data("value"),selected:n.hasClass("selected"),encoded:n.data("encoded")||!1},n.data("item",t))),t},n.domToItems=function(t,i){var r=[];return t.children("li.pivot-filter-item"+(i||"")).each(function(){r.push(n.toItem($(this)))}),r},n.setElementContent=function(n,t){var i=t.selectedTitle||t.title,r=t.selectedText||t.text,c=t.encoded,h=t.icon,f,e,s;n.empty();n.removeData("title");i&&(f=n.data("tooltipControl"),f?f.setTextContent(i):(e={},i===r?e.onlyShowWhenOverflows=n:e.setAriaDescribedBy=!0,n.data("tooltipControl",v.RichContentTooltip.add(i,n,e))),n.data("title",i));h&&$("<span />").addClass(h).addClass("selected-icon").appendTo(n);r&&(s=$("<span />").attr("id",u.getHtmlId()),c?s.html(r):s.text(r),s.appendTo(n))},n.prototype.getTypeName=function(){var n=this.constructor;return n.typeName||"select"},n.prototype.getItems=function(t){return n.domToItems(this._element,t)},n.prototype._toItem=function(t){return n.toItem(t)},n.prototype._updateItem=function(n,t){t=t||this._toItem(n);t&&(t.disabled?(n.attr("disabled","disabled"),n.addClass("disabled"),n.removeClass("selected")):(n.prop("disabled",!1),n.removeClass("disabled"),n.toggleClass("selected",t.selected)))},n.prototype._toggleItem=function(n,t){var i=this._toItem(n);return i&&(typeof t=="undefined"&&(t=!i.selected),i.selected=t,this._updateItem(n,i)),i},n.prototype._selectFirstEnabledItem=function(n){var t,i;return $.each(n,function(){if(!this.disabled&&(t||(t=this),this.selected))return i=this,!1}),!i&&t&&(t.selected=!0,i=t),i},n.prototype._fireChange=function(n,t){n.trigger("filter-changed",[t])},n.prototype._selectItem=function(n,t){var r,i=n.next("li:not([disabled])");return i.length===0&&(i=n.siblings("li:not([disabled])").first()),i.length>0&&(this._toggleItem(n,!1),r=this._toggleItem(i,!0),t&&i.find("span.anchor").focus()),r},n.prototype._onChange=function(n){var r=$(n.target),t,u,i;t=r.closest("li");u=r.closest("span.anchor");t.length>0&&(i=this._selectItem(t,!0),i&&this._fireChange(this._element,i));u.length>0&&n.preventDefault()},n.prototype.enhance=function(){this._element=this._options.filterContainer.find("ul.pivot-filter-items");this._items=this.getItems();this._attachChange(this._element);this.addAccessibility()},n.prototype.populate=function(){var t=this._items,i=this._ensureElement(),r=i.siblings("span.title"),n=r.attr("id");n||(r?(n=String(u.getHtmlId()),r.attr("id",n)):n="");i.children().remove();t&&t.length>0&&(this._selectFirstEnabledItem(t),$.each(t,function(){var t=$(it("li","pivot-filter-item")),r,f,e,o;t.data("item",this);this.disabled?(t.attr("disabled","disabled"),t.addClass("disabled")):this.selected&&t.addClass("selected");r=this.title;r||this.encoded||(r=this.text);r&&(v.RichContentTooltip.add(r,t,r===this.text?{onlyShowWhenOverflows:t}:undefined),t.data("title",r));this.value&&t.data("value",this.value);o=String(u.getHtmlId());f=$(it("span")).attr({id:o,role:"button","aria-labelledby":"".concat(n," ").concat(o),tabIndex:0}).addClass("anchor");e=f;this.icon&&($("<span />").addClass(this.icon).appendTo(f),e=$("<span />").appendTo(f));e.addClass("text");this.encoded?e.html(this.text):e.text(this.text);t.append(f);i.append(t)}),this._attachChange(i))},n.prototype.updateItems=function(n){this._items=n;this.populate()},n.prototype.getItem=function(n){var t,i=this._items;return typeof n=="number"?t=i[n]:$.each(i,function(){if(this.value==n||this.text==n)return t=this,!1}),t},n.prototype.getSelectedItems=function(){return this.getItems(".selected")},n.prototype.getSelectedItem=function(){var n=this.getItems(".selected");return n&&n[0]},n.prototype.setSelectedItem=function(n){var t=this,i=this._items;typeof n!="object"&&(n=this.getItem(n));n&&($.each(i,function(){this.selected=!1}),n.selected=!0,this._element.children("li").each(function(){t._updateItem($(this))}))},n.prototype.addAccessibility=function(){var r=this,t=this._options.filterContainer.children("span.title"),n,i;t.length===1&&(n=t.attr("id"),n||(n=String(u.getHtmlId()),t.attr("id",n)),i="span.anchor",this._element.is(i)&&this._attachAriaLabels(this._element,n),this._element.find(i).each(function(t,i){r._attachAriaLabels($(i),n)}))},n.prototype._attachAriaLabels=function(n,t){var i=n.attr("id")||String(u.getHtmlId());n.attr({id:i,"aria-labelledby":"".concat(t," ").concat(i)})},n.prototype._ensureElement=function(){return this._element||(this._element=$(it("ul","pivot-filter-items")),this._element.appendTo(this._options.filterContainer)),this._element},n.prototype._attachChange=function(n){n.children().on("click",rt(this,this._onChange));n.children().on("keydown",nt.buttonKeydownHandler)},n}();tt.initClassPrototype(ut,{_options:null,_items:null,_element:null});ft=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.registerBehavior=function(n){t._behaviors[n.typeName]=n},t.createBehavior=function(n,i){var r;return $.each(n||[],function(n,i){return r=t._behaviors[i],r?!1:void 0}),r||(r=ut),new r(i)},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"pivot-filter",behavior:"select"},t))},t.prototype._enhance=function(t){var r,i;n.prototype._enhance.call(this,t);i=t[0];r=i&&typeof i.className=="string"?i.className.split(" "):[];this._initBehavior(r);this._behavior.enhance()},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._attachEvents()},t.prototype.getSelectedItems=function(){return this._behavior.getSelectedItems()},t.prototype.getSelectedItem=function(){return this._behavior.getSelectedItem()},t.prototype.getItem=function(n){return this._behavior.getItem(n)},t.prototype.getItems=function(){return this._behavior.getItems()},t.prototype.setSelectedItem=function(n,t){t===void 0&&(t=!0);this._behavior.setSelectedItem(n,t)},t.prototype.updateItems=function(n,t){this._behavior.updateItems(n,t)},t.prototype._initBehavior=function(n){this._behavior=t.createBehavior(n,{align:this._options.align,items:this._options.items,filterContainer:this._element,useBowtieStyle:this._options.useBowtieStyle})},t.prototype._createElement=function(){n.prototype._createElement.call(this);this._initBehavior([this._options.behavior]);this._buildDom()},t.prototype._buildDom=function(){var n=this._element,e=this._behavior,t=this._options,r,u,i,f;n.addClass(e.getTypeName());r=$(it("span","title"));i=t.text;u=t.useBowtieStyle;f=t.encoded;t.title&&(v.RichContentTooltip.add(t.title,n,t.title===i?{onlyShowWhenOverflows:n}:undefined),n.data("title",t.title));i&&(f?r.html(i):r.text(i));n.append(r);u&&(n.addClass("bowtie-pivot-filter"),$(it("span","drop-icon bowtie-icon bowtie-chevron-down")).appendTo(n));this._behavior.populate()},t.prototype._attachEvents=function(){this._bind(this._element,"filter-changed",rt(this,this._onFilterChanged))},t.prototype._onFilterChanged=function(n,t){return this._fire("changed",[t]),typeof this._options.change=="function"?this._options.change.call(this,t):void 0},t.enhancementTypeName="tfs.ui.pivotFilter",t._behaviors={},t}(u.Control);t.PivotFilter=ft;tt.initClassPrototype(ft,{_behavior:null});lt=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype._selectFirstEnabledItem=function(){},t.prototype._selectItem=function(n){var i=this,t,r=this._toItem(n);return r.selected||(n.siblings("li").each(function(){i._toggleItem($(this),!1)}),t=this._toggleItem(n,!0)),t},t.typeName="radio",t}(ut);ft.registerBehavior(lt);at=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype._selectFirstEnabledItem=function(){},t.prototype._selectItem=function(n){return this._toggleItem(n,!0)},t.typeName="checkbox",t}(ut);ft.registerBehavior(at);vt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._showItemIcons=!1,i}return __extends(t,n),t.prototype.getItems=function(t){return this._addCommandIdToItems(n.prototype.getItems.call(this,t))},t.prototype.populate=function(){var t,i,r,u=this._selectFirstEnabledItem(this._items),n;if(u)if(this._element&&this._element.remove(),this._disposeExistingPopup(),n=void 0,n=((r=(i=(t=this._options.filterContainer)===null||t===void 0?void 0:t.context)===null||i===void 0?void 0:i.attributes["aria-labelledby"])===null||r===void 0?void 0:r.value)||"",n=n?" aria-labelledby='"+n+"'":"",this._element=$("<span tabIndex='0' class='selected anchor' role='combobox' aria-expanded='false'"+n+"/>").appendTo(this._options.filterContainer),ut.setElementContent(this._element,u),this._options.useBowtieStyle){this._options.filterContainer.on("click",rt(this,this._onDrop));this._options.filterContainer.on("keydown",nt.buttonKeydownHandler)}else{this._element.on("click",rt(this,this._onDrop));this._element.on("keydown",nt.buttonKeydownHandler)}},t.prototype.enhance=function(){this._element=this._options.filterContainer.find("ul.pivot-filter-items");this._items=this.getItems();this._element.remove();this.populate()},t.prototype.updateItems=function(t,i){this._showItemIcons=i&&i.showItemIcons;n.prototype.updateItems.call(this,this._addCommandIdToItems(t))},t.prototype.getSelectedItems=function(){return[this.getSelectedItem()]},t.prototype.getSelectedItem=function(){var n;return $.each(this._items,function(){if(this.selected===!0)return n=this,!1}),n},t.prototype.setSelectedItem=function(n,t){t===void 0&&(t=!0);var i=this._items;n&&n!==this.getSelectedItem()&&($.each(i,function(){this.selected=!1}),n.selected=!0,ut.setElementContent(this._element,n),t&&this._fireChange(this._element,n))},t.prototype._addCommandIdToItems=function(n){return $.map(n,function(n){return n.id||(n.id=n.text),n})},t.prototype._onDrop=function(n){var f=this,e=$(n.target),t=this._options.filterContainer,r=this._items,i;return this._disposeExistingPopup(),i=u.BaseControl.createIn(h.PopupMenu,t,{align:this._options.align||"left-bottom",showIcon:this._showItemIcons,items:[{childItems:r}],useBowtieStyle:this._options.useBowtieStyle,onDeactivate:function(){t.removeClass("active");f._element.attr("aria-expanded","false");t.children("ul.menu-popup").hide()},executeAction:rt(this,this._onExecute)}),k.delay(this,10,function(){var u,n,f;t.addClass("active");this._element.attr("aria-expanded","true");i.popup(e,t);u=g.first(r,function(n){return n.selected});n=i.getItems()[0].getSubMenu();u?(f=n.getItem(u.id),f?f.select():n.selectFirstItem()):n.selectFirstItem()}),this._popupMenu=i,this._element.attr("aria-controls",i.getElement().attr("id")),!1},t.prototype._onExecute=function(n){this._options.filterContainer.removeClass("active");this.setSelectedItem(n.get_commandSource()._item)},t.prototype._disposeExistingPopup=function(){this._popupMenu&&(this._popupMenu.dispose(),delete this._popupMenu)},t.typeName="dropdown",t}(ut);ft.registerBehavior(vt);u.Enhancement.registerEnhancement(ft,".pivot-filter.enhance");ot=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._contributionsInitialized=!1,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"pivot-view",tagName:"ul"},t))},t.prototype._enhance=function(t){n.prototype._enhance.call(this,t);this._options.items=this.getItems();var i=this._element.data("contributionId");i&&(this._options.contributionId=i,this._options.getContributionContext&&typeof this._options.getContributionContext=="function"&&(this._contributionContext=this._options.getContributionContext()),this.refreshContributedItems())},t.prototype.getItems=function(n){var t=[];return this._element.children("li"+(n||"")).each(function(){t.push(ct($(this)))}),t},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.getElement().attr("role","tablist");this._attachEvents()},t.prototype.setExtensionContainer=function(n){this._extensionContainer=n},t.prototype.showExtensionTab=function(n,t){f.createContributedControl(this._extensionContainer,n,t)},t.prototype.setContributionContext=function(n){this._contributionContext=n},t.prototype._getTabFromContribution=function(n,t){var i=this,e,o,u,f,r=this._contributionContext,s,h;return e=t&&typeof t.isDisabled=="function"?t.isDisabled(r):a.resolve(!1),o=t&&typeof t.isInvisible=="function"?t.isInvisible(r):a.resolve(!1),t&&typeof t.name=="function"?(s=t.name,u=s(r)):u=t&&typeof t.name=="string"?a.resolve(t.name):a.resolve(n.properties.name),t&&typeof t.title=="function"?(h=t.title,f=h(r)):f=t&&typeof t.title=="string"?a.resolve(t.title):n.properties.title?a.resolve(n.properties.title):a.resolve(null),a.all([e,o,u,f]).then(function(t){var s=t[0],h=t[1],o=t[2],l=t[3],u,r,f,e;return h?null:(u=n.properties.action,r="",i._options.generateContributionLink&&typeof i._options.generateContributionLink=="function"?r=i._options.generateContributionLink(n.id):(f=c.getHistoryService().getCurrentState(),f.contributionId=n.id,r="#"+c.getHistoryService().getFragmentActionLink(u||et.ACTION_CONTRIBUTION,f)),e=!1,i._options.getEnabledState&&typeof i._options.getEnabledState=="function"&&(e=!0),{disabled:e&&!i._options.getEnabledState(n.id)?!0:s,encoded:!1,id:n.id,link:r,text:o,title:l||o,contributed:!0,action:u})})},t.prototype.refreshContributedItems=function(n){var t=this;return n===void 0&&(n=!1),(!this._contributionsInitialized||n)&&typeof this._options.contributionId=="string"?p.getService(e.ExtensionService).getContributionsForTargets([this._options.contributionId]).then(function(n){var i=[];return n.forEach(function(n){var u=a.resolve(null),r=n.properties.dynamic,e;r!==!0&&r!==!1&&(r=typeof n.properties.name!="string");r&&(u=f.getBackgroundInstance(n,n.properties.registeredObjectId||n.id));e=u.then(function(i){return t._getTabFromContribution(n,i)});i.push(e)}),a.allSettled(i).then(function(n){Array.isArray(t._options.items)?(t._options.items=t._options.items.filter(function(n){return!n.contributed}),t._options.items=t._options.items.concat(n.filter(function(n){return n&&n.state==="fulfilled"&&!!n.value}).map(function(n){return n.value}))):t._options.items=n.filter(function(n){return n.state==="fulfilled"}).map(function(n){return n.value})}).then(function(){t._contributionsInitialized=!0;t.updateItems()})}):(this._contributionsInitialized=!0,a.resolve(null))},t.prototype.focusSelectedPivot=function(){this.getElement().find("li.selected a").focus()},t.prototype.updateItems=function(n){var r=this,u=n&&$.contains(this.getElement()[0],document.activeElement),i=this._element,t;i.empty();this._itemIdToSelect&&(t=g.first(this._options.items,function(n){return(n.action||n.id)==r._itemIdToSelect}),t&&(this._itemIdToSelect=null,t.disabled||(this._options.items.forEach(function(n){n.selected=!1}),t.selected=!0)));this._populateItems(i);u&&this.getElement().find("li.selected a").focus()},t.prototype.setViewLink=function(n,t){var i=this.getView(n);i&&(i.link=t,this._element.find("li").each(function(i,r){var u=$(r);if(u.data("id")===n)return u.find("a").first().attr("href",t),!1}))},t.prototype.getSelectedView=function(){var n=this.getItems(".selected");return n&&n[0]},t.prototype.setViewEnabled=function(n,t){var r=this,i;if(i=this.getView(n),i){if(!i.contributed||!t){i.disabled=!t;return}p.getService(e.ExtensionService).getContribution(n).then(function(n){var t=f.getBackgroundInstance(n,n.properties.registeredObjectId||n.id).then(function(n){var t=r._contributionContext;n&&typeof n.isDisabled=="function"?r._makeThennable(n.isDisabled(t)).then(function(n){i.disabled=n}):i.disabled=!1})})}},t.prototype._makeThennable=function(n){return n&&typeof n.then=="function"?n:a.resolve(n)},t.prototype.getView=function(n,t){var i;return typeof n=="number"?i=this._options.items[n]:$.each(this._options.items,function(){if(this.id==n)return i=this,!1}),this._itemIdToSelect=!i&&t?t:null,i},t.prototype.setSelectedView=function(n){var t=this._options.items;if(typeof n!="object"&&(n=this.getView(n)),n){$.each(t,function(){this.selected=!1});n.selected=!0;this._element.find("li").each(function(){wt($(this),null)});this.onChanged(n);n.contributed&&n.id&&e.ExtensionHelper.publishTraceData(null,null,n.id)}},t.prototype.onChanged=function(n){this._fire("changed",[n])},t.prototype._createElement=function(){n.prototype._createElement.call(this);this._buildDom()},t.prototype._buildDom=function(){this._populateItems(this._element)},t.prototype._populateItems=function(n){var t=this._options.items,i,r;if(t){$.each(t,function(){if(!this.disabled&&(i||(i=this),this.selected))return r=this,!1});!r&&i&&(i.selected=!0);var u=!0,e=0,f=0;t.forEach(function(n){n&&!n.disabled&&f++});$.each(t,function(){var i=$(it("li")),r,t;i.data("item",this);i.attr("role","presentation");this.disabled?(i.attr("disabled","disabled"),i.addClass("disabled")):this.selected&&i.addClass("selected");r=this.title;this.id&&(i.data("id",this.id),i.attr("data-id",this.id));t=$(it("a"));this.disabled||(t.attr("aria-posinset",++e),t.attr("aria-setsize",f));t.on("keydown",nt.buttonKeydownHandler);!u||this.disabled||this.hidden?t.attr("tabindex","-1"):(t.attr("tabindex","0"),u=!1);t.attr("role","tab");this.disabled?(t.attr("aria-disabled","true"),t.attr("aria-selected","false")):this.selected?t.attr("aria-selected","true"):t.attr("aria-selected","false");this.link?t.attr("href",this.link):t.attr({href:"#"});this.encoded?t.html(this.text):t.text(this.text);r&&(v.RichContentTooltip.add(r,t,r===this.text?{onlyShowWhenOverflows:i}:undefined),i.data("title",r));i.append(t);n.append(i)})}},t.prototype._attachEvents=function(){this._bind("click",rt(this,this._onClick));this._bind("keydown",rt(this,this._onKeydown));this.getElement()[0].addEventListener("focus",this._onFocus.bind(this),!0)},t.prototype._onClick=function(n){if(!n||!(n.ctrlKey||n.metaKey||n.shiftKey||n.which===2)){var r=$(n.target),u=r.closest("li"),i=r.closest("a"),t;u.length>0&&(t=ct(u));i.length>0&&(d.caseInsensitiveContains(i.attr("href"),"#")||t&&t.disabled)&&(t&&!t.disabled&&this.setSelectedView(t),n.preventDefault(),i.attr("href")!=="#"&&(document.location.href=i.attr("href")))}},t.prototype._onFocus=function(n){var t=this.getElement(),i=n.target;t.find("a").attr("tabindex","-1");i.setAttribute("tabindex","0")},t.prototype._onKeydown=function(n){var t=n.originalEvent,r,u,i,f;if(!t.ctrlKey&&!t.altKey&&!t.metaKey){if(r=$(t.target),t.keyCode===nt.KeyCode.ENTER||t.keyCode===nt.KeyCode.SPACE){r.find("a").click();return}(t.keyCode===nt.KeyCode.LEFT||t.keyCode===nt.KeyCode.RIGHT)&&(u=r.closest("li"),i=void 0,t.keyCode===nt.KeyCode.RIGHT?(i=u.nextAll("li:visible").first(),i.length===0&&(i=this.getElement().children("li:visible").first())):(i=u.prevAll("li:visible").first(),i.length===0&&(i=this.getElement().children("li:visible").last())),f=i.children("a"),f.focus())}},t.enhancementTypeName="tfs.ui.pivotView",t}(u.Control);t.PivotView=ot;u.Enhancement.registerEnhancement(ot,".pivot-view.enhance");st=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.onNavigate=function(){},t.prototype.onNavigateAway=function(){},t}(u.BaseControl);t.NavigationViewTab=st;var bt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"error-tab"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._messageControl=u.BaseControl.createIn(l.MessageAreaControl,$("<div class='tabbed-navigation-error' />").appendTo(this._element),{closeable:!1})},t.prototype.setContent=function(n,t,i,r){this._messageControl.setMessage({type:i,header:n,content:t});this._messageControl.setErrorDetailsVisibility(r)},t.TAB_ID="error",t}(st),yt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"info-tab"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this)},t.prototype.setHeader=function(n,t){this._$description||(this._$description=$(it("div","information-summary")).prependTo(this._element));this._$title||(this._$title=$(it("div","information-title")).prependTo(this._element));this._$title.text(n);this._$description.html(t)},t.prototype.appendInformation=function(n,t){return u.BaseControl.createIn(l.InformationAreaControl,$(it("div")).appendTo(this._element),{caption:n,collapsed:t})},t.TAB_ID="info",t}(st),kt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._currentNavigationContextId=0,i._lastParsedNavigationContextId=0,i._showingError=!1,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({tabs:null,tabOptions:null,attachNavigate:!0,hubContentSelector:".right-hub-content .hub-pivot-content",pivotTabsSelector:".right-hub-content .hub-pivot .views .pivot-view",hubSplitterSelector:".hub-splitter"},t))},t.prototype.initialize=function(){this._hubContent=this._element.find(this._options.hubContentSelector);this._options.tabs&&(this._tabsControl=u.Enhancement.ensureEnhancement(ot,this._element.find(this._options.pivotTabsSelector)),this._tabsMap={},this._tabOptionsMap={},this.updateTabs(this._options.tabs),this._tabs={});n.prototype.initialize.call(this)},t.prototype.updateTabs=function(n){var t=this;Object.keys(n).forEach(function(i){t._tabsMap[(""+i).toUpperCase()]=n[i]});this._options.tabOptions&&Object.keys(this._options.tabOptions).forEach(function(n){t._tabOptionsMap[(""+n).toUpperCase()]=t._options.tabOptions[n]})},t.prototype.getTab=function(n){return n=(""+n).toUpperCase(),this._tabs[n]},t.prototype.showError=function(n){var i=tt.getErrorMessage(n),t="";n.stack&&(t=$("<div />").text(n.stack));this.showErrorContent(i,t,l.MessageAreaType.Error,!1)},t.prototype.showErrorContent=function(n,t,i,r){var f,e;if(this._tabs){this._showingError=!0;f=this._getErrorTab();f.setContent(n,t,i,r);this._showTab(f);this._hubContent.show();this.onNavigate(this.getState())}else e=u.BaseControl.createIn(l.MessageAreaControl,$(it("div","tabbed-navigation-error")).appendTo(this._hubContent),{closeable:!1}),e.setMessage({type:i,header:n,content:t}),e.setErrorDetailsVisibility(r)},t.prototype.showInformationTab=function(n,t){if(this._tabs){this._updateTabsControl(yt.TAB_ID,this.getRawState(),this._currentParsedState);this._showingInfo=!0;var i=this._getInfoTab();i.setHeader(n,t);this._showTab(i);this._hubContent.show();this.onNavigate(this.getState())}else this._$infoContent=$(it("div","information-section")).appendTo(this._hubContent),$(it("div","information-title")).appendTo(this._$infoContent).text(n||""),$(it("div","information-summary")).text(t||"").appendTo(this._$infoContent)},t.prototype.appendInformationContent=function(n,t){var i,r;return this._tabs?(r=this._getInfoTab(),i=r.appendInformation(n,t)):this._$infoContent&&(i=u.BaseControl.createIn(l.InformationAreaControl,this._$infoContent,{caption:n,collapsed:t})),i},t.prototype.appendSectionTitle=function(n){this._tabs?$(it("div","information-title")).appendTo(this._getInfoTab().getElement()).append(n):this._$infoContent&&$(it("div","information-title")).appendTo(this._$infoContent).append(n)},t.prototype.appendSectionSummary=function(n){this._tabs?$(it("div","information-summary")).appendTo(this._getInfoTab().getElement()).append(n):this._$infoContent&&$(it("div","information-summary")).appendTo(this._$infoContent).append(n)},t.prototype.appendElement=function(n){this._tabs?n.appendTo(this._getInfoTab().getElement()):this._$infoContent&&n.appendTo(this._$infoContent)},t.prototype.refreshCurrentTab=function(){this._onNavigate(this._currentRawState)},t.prototype.getCurrentAction=function(){return this._currentTabId},t.prototype.getState=function(){return this._currentParsedState||{}},t.prototype.setState=function(n){this._currentParsedState=n},t.prototype.getEmptyState=function(){var n={};return $.each(c.getHistoryService().getCurrentState(),function(t){n[t]=null}),n},t.prototype.getRawState=function(){return this._currentRawState||{}},t.prototype.parseStateInfo=function(n,t,i){i(n,t)},t.prototype.getTabVisibility=function(){return!0},t.prototype.getTabLabel=function(){},t.prototype.setHubPivotVisibility=function(n){this._tabsControl.getElement().parents(".hub-pivot").first().toggleClass("hidden",!n)},t.prototype._getErrorTab=function(){return this._errorTab||(this._errorTab=this._createTab(bt)),this._errorTab},t.prototype._getInfoTab=function(){return this._infoTab||(this._infoTab=this._createTab(yt)),this._infoTab},t.prototype._onNavigate=function(n){var i=this,t;this._currentRawState=n;t=++this._currentNavigationContextId;this.parseStateInfo(n.action,n,function(r,u){i._onParseStateInfoSuccess(r,n,u,t)});this._skipTabHideOnAsyncNavigate&&(this._lastParsedNavigationContextId===t||this._showingError||this._showingInfo||this._hubContent.hide(),this._skipTabHideOnAsyncNavigate=!1)},t.prototype._redirectNavigation=function(n,t,i){this._skipTabHideOnAsyncNavigate=!0;i?c.getHistoryService().replaceHistoryPoint(n,t):c.getHistoryService().addHistoryPoint(n,t)},t.prototype._onParseStateInfoSuccess=function(n,t,i,r){var u;if(this._currentParsedState=i||{},this._lastParsedNavigationContextId=r,this._hubContent.show(),this._tabs)if(this._updateTabsControl(n,t,i),u=this._getTab(n),u){if(this._showTab(u),this._showingError=!1,this._currentTabId=n,typeof u.onNavigate=="function")u.onNavigate(t,i);this.onNavigate(i)}else this.showError(d.format(y.NavigationViewUnknownTabErrorFormat,n));else this.onNavigate(i)},t.prototype._updateTabsControl=function(n,t,i){var r=this;Object.keys(this._tabsMap).forEach(function(u){var o,e=(""+u).toLowerCase(),f=r._tabsControl.getView(e,n);f&&(f.link=c.getHistoryService().getFragmentActionLink(e,t),f.selected=u===(""+n).toUpperCase(),f.disabled=!r.getTabVisibility(e,n,t,i),o=r.getTabLabel(e,n,t,i),o&&(f.text=o))});this._tabsControl.updateItems(!0)},t.prototype._showTab=function(n){this._currentTab!==n&&(this._currentTab&&(this._currentTab.onNavigateAway(),this._currentTab.hideElement()),n&&n.showElement(),this._currentTab=n)},t.prototype._getTab=function(n){var t,i;return n=(""+n).toUpperCase(),t=this._tabs[n],t||(i=this._tabsMap[n],i&&(t=this._createTab(i,this._tabOptionsMap[n]),this._tabs[n]=t)),t},t.prototype._createTab=function(n,t){var i=$("<div />").addClass("navigation-view-tab").appendTo(this._hubContent);return u.Enhancement.enhance(n,i,$.extend({navigationView:this},t))},t}(et);t.TabbedNavigationView=kt;pt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._navigationLinkOptions=t||{},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({tagName:"a"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._navigateHandler=rt(this,this.onNavigate);var t=c.getHistoryService();t.attachNavigate(this._navigateHandler);this._navigationLinkOptions.text?this._element.text(this._navigationLinkOptions.text):this._navigationLinkOptions.$content&&this._navigationLinkOptions.$content.appendTo(this._element);this._navigationLinkOptions.target&&this._element.attr("target",this._navigationLinkOptions.target);this._navigationLinkOptions.title&&this._element.attr("title",this._navigationLinkOptions.title);this.updateLink(this._navigationLinkOptions.initialState||t.getCurrentState())},t.prototype.dispose=function(){n.prototype.dispose.call(this);c.getHistoryService().detachNavigate(this._navigateHandler)},t.prototype.onNavigate=function(n,t){this.updateLink(t)},t.prototype.updateLink=function(n){this._element.attr("href",this.getLocation(n))},t.prototype.getLocation=function(n){return this._navigationLinkOptions.getUrl?this._navigationLinkOptions.getUrl.call(this,n):(n=$.extend({},n,this._navigationLinkOptions.state),c.getHistoryService().getFragmentActionLink(null,n))},t}(u.BaseControl);t.NavigationLink=pt,function(n){function ft(n,t){if(u=t||{},e=n,!k){c.getHistoryService().attachNavigate(it);$(window).on("keydown",at);k=!0}it()}function g(){return t}function h(n,i,r,s,h,l){if(i===void 0&&(i=!0),r===void 0&&(r=!1),s===void 0&&(s=!0),h===void 0&&(h=!1),l===void 0&&(l=!1),t=n,ht.getInstance().setFullScreenMode(t,r),e&&vt(),i&&c.getHistoryService().addHistoryPoint(undefined,p(),undefined,s,!0),h&&c.getHistoryService().replaceHistoryPoint(undefined,p(),undefined,s,!0),f&&f.invokeHandlers(v,this,null),u&&u.publishCIData!==!1&&yt(i),u&&u.setFullScreenCallback&&typeof u.setFullScreenCallback=="function"&&u.setFullScreenCallback(),!l){var a=document.createEvent("Event");a.initEvent("resize",!1,!0);window.dispatchEvent(a)}}function p(i){var r={};return i=i===undefined?t:i,r[n.FULLSCREEN_HASH_PARAMETER]=i,r}function tt(){return"bowtie-icon "+(t?"bowtie-view-full-screen-exit":"bowtie-view-full-screen")}function et(){return t?y.ExitFullScreenModeTooltip:y.EnterFullScreenModeTooltip}function ot(n){l().subscribe(a,n)}function st(n){l().unsubscribe(a,n)}function ct(n){l().subscribe(v,n)}function lt(n){l().unsubscribe(v,n)}function at(n,t,i,r,u){var f=!0;return n instanceof jQuery.Event?f=n.isDefaultPrevented():n instanceof KeyboardEvent&&(f=n.defaultPrevented),t=n.keyCode||t,i=n.ctrlKey||i,r=n.shiftKey||r,u=n.altKey||u,!(i||r||u)&&!f&&t&&t===nt.KeyCode.ESCAPE?(g()&&h(!1),!1):void 0}function it(){var i=c.getHistoryService().getCurrentState(),r=i&&d.localeIgnoreCaseComparer(i[n.FULLSCREEN_HASH_PARAMETER],"true")===0;h(r,!1,u.showLeftLane===!0,!1,!1,!!r==!!t)}function ut(){return{id:w,title:t?y.ExitFullScreenModeTooltip:y.EnterFullScreenModeTooltip,icon:tt(),showText:!1,action:rt}}function vt(){var n=e.getItem(w),t;n?(n.update(ut()),n.removeHighlight()):(t=e.getItems(),t.push(ut()),e.updateItems(t))}function yt(n){var u={isToggle:n,isFullScreen:t,Url:window.location.pathname,HashUrl:window.location.hash,UserId:r.getDefaultWebContext().user.id,ScreenWidth:window.innerWidth,ScreenHeight:window.innerHeight};f&&f.invokeHandlers(a,this,u);b.publishEvent(new b.TelemetryEventData(i.WebAccessCustomerIntelligenceConstants.Area,i.WebAccessCustomerIntelligenceConstants.FullScreenModeFeature,u))}function l(){return f||(f=new s.NamedEventCollection),f}var rt;n.FULLSCREEN_HASH_PARAMETER="fullScreen";var w="fullscreen-toggle",a="fullscreen-ci",v="fullscreen-url-update-event",t,k,e,f,u;n.initialize=ft;n.getFullScreen=g;n.setFullScreen=h;n.getUrlData=p;n.getFullScreenIcon=tt;n.getFullScreenTooltip=et;n.attachFullScreenCI=ot;n.detachFullScreenCI=st;n.attachFullScreenUrlUpdateEvent=ct;n.detachFullScreenUrlUpdateEvent=lt;rt=function(){h(!t,u.addHistoryPoint!==!1,u.showLeftLane===!0)}}(dt=t.FullScreenHelper||(t.FullScreenHelper={}));tt.tfsModuleLoaded("VSS.UI.Controls.Navigation",t)});

define("WorkItemTracking/Scripts/CustomerIntelligence",["require","exports"],function(n,t){var i,r,u,f,e,o,s;Object.defineProperty(t,"__esModule",{value:!0});t.BUTTON_CLICKED=t.SHORTCUT_KEYDOWN=t.CustomerIntelligencePropertyValue=t.PerformanceEvents=t.WITUserScenarioActions=t.WITPerformanceScenarioEvent=t.WITPerformanceScenario=t.WITCustomerIntelligenceFeature=t.WITCustomerIntelligenceArea=void 0;i=function(){function n(){}return n.WORK_ITEM_TRACKING="WIT",n.WORK_ITEM_TRACKING_MOBILE="WIT_MOBILE",n.NEW_QUERIES_EXPERIENCE="NEW_QUERIES",n.WORK_ITEM_TRACKING_NEWNAV="WIT_NEWNAV",n}();t.WITCustomerIntelligenceArea=i;r=function(){function n(){}return n.CLIENTSIDEOPERATION_SEND_EMAIL="SendEmail",n.CLIENTSIDEOPERATION_OPEN_WORK_ITEM_IN_NEW_TAB="OpenWorkItemInNewTab",n.CLIENTSIDEOPERATION_PREFETCH_NEXT_WORKITEM="PrefetchNextWorkitemInTriageView",n.CLIENTSIDEOPERATION_BACK_TO_QUERY_RESULTS="BackToQueryResults",n.CLIENTSIDEOPERATION_MAXIMIZE_RICH_EDITOR="MaximizeRichEditor",n.CLIENTSIDEOPERATION_QUERY_SOFTCAP_LINK="QuerySoftCapLink",n.CLIENTSIDEOPERATION_COPY_SELECTION_AS_HTML="CopySelectionAsHtml",n.CLIENTSIDEOPERATION_WORK_ITEM_FINDER="WorkItemFinder",n.CLIENTSIDEOPERATION_QUERYACROSSPROJECTS="QueryAcrossProjects",n.CLIENTSIDEOPERATION_QUERY_WORK_ITEM="QueryWorkItem",n.CLIENTSIDEOPERATION_CREATE_QUERY="CreateQuery",n.CLIENTSIDEOPERATION_CHANGE_QUERY_COLUMNS="ChangeQueryColumns",n.CLIENTSIDEOPERATION_WIT_CLONE="CloneWorkItem",n.CLIENTSIDEOPERATION_QUERY_RESULTS_PROVIDER="QueryResultsProvider",n.CLIENTSIDEOPERATION_COPY_WORKITEM_LINK="WorkItem.CopyWorkItemLink",n.CLIENTSIDEOPERATION_INCLUDE_WORKITEM_LINKS_ATTACHMENTS="WorkItem.IncludeWorkItemLinksAndAttachments",n.CLIENTSIDEOPERATION_COPY_WITH_CHILDREN="WorkItem.CopyWithChildren",n.CLIENTSIDEOPERATION_TOOLBAR_CLICK="WorkItem.ToolbarButtonClicks",n.CLIENTSIDEOPERATION_WIT_TABSELECTION="WorkItem.TabSelection",n.CLIENTSIDEOPERATION_WIT_GROUPCOLLAPSED="WorkItem.GroupCollapsed",n.CLIENTSIDEOPERATION_WIT_SAVING="WorkItem.Saving",n.CLIENTSIDEOPERATION_WIT_CSSNODECACHEINVALIDATED="CSSNodes.CacheInvalidated",n.CLIENTSIDEOPERATION_WIT_MOBILEDISCUSSIONOPENED="WorkItem.DiscussionOpened",n.CLIENTSIDEOPERATION_WIT_MOBILEDISCUSSIONMESSAGESLOADED="WorkItem.DiscussionMessagesLoaded",n.CLIENTSIDEOPERATION_WIT_MOBILEDISCUSSIONCOMMENTSUBMITTED="WorkItem.DiscussionCommentSubmitted",n.CLIENTSIDEOPERATION_WIT_MOBILEDISCUSSIONUNSAVEDPREVIEW="WorkItem.DiscussionUnsavedPreview",n.CLIENTSIDEOPERATION_WIT_MOBILEDISCUSSIONRETURNTOUNSAVEDCOMMENT="WorkItem.DiscussionReturnToUnsavedComment",n.CLIENTSIDEOPERATION_WIT_MOBILEDISCUSSIONPREVIEWCLICKED="WorkItem.DiscussionPreviewClicked",n.RESULT_FILTER="ResultFilter",n.CLIENTSIDEOPERATION_VS_WORKITEM_NOT_IN_QUERY_RESULTS="VSOpenInWeb.WorkItemNotInQueryResult",n.WORKITEMPANECHANGED="WorkItemPaneChanged",n.WI_FORM_CONTRIBUTION="FormContribution",n.IMPORTCSV_IMPORT="ImportCsv.Import",n.IMPORTCSV_IMPORT_ERROR="ImportCsv.Import.Error",n.CLIENTSIDEOPERATION_WIT_MOVE_CANCEL="WorkItemMove.CancelMove",n.CLIENTSIDEOPERATION_WIT_MOVE_CANCEL_AFTER_HIDDEN_TYPE_FAILED="WorkItemMove.CancelAfterHiddenTypeFailed",n.CLIENTSIDEOPERATION_WIT_MOVE_CANCEL_AFTER_TYPE_FAILED="WorkItemMove.CancelAfterTypeFailed",n.CLIENTSIDEOPERATION_WIT_MOVE_SUCCEED_AFTER_TYPE_FAILED="WorkItemMove.PassAfterTypeFailed",n.CLIENTSIDEOPERATION_WIT_MOVE_PERMISSIONS_ERROR="WorkItemMove.PermissionsError",n.CLIENTSIDEOPERATION_WIT_MOVE_REVERT="WorkItemMove.Revert",n.CLIENTSIDEOPERATION_WIT_MOVE_SUCCESS="WorkItemMove.Success",n.CLIENTSIDEOPERATION_WIT_TYPE_CHANGE_REVERT="WorkItemChangeType.Revert",n.CLIENTSIDEOPERATION_WIT_TYPE_CHANGE_CANCEL_AFTER_FAIL="WorkItemChangeType.CancelAfterFailed",n.CLIENTSIDEOPERATION_WIT_TYPE_CHANGE_CANCEL_AFTER_OPEN="WorkItemChangeType.CancelAfterOpen",n.CLIENTSIDEOPERATION_WIT_TYPE_CHANGE_SUCCESS="WorkItemChangeType.Success",n.BULK_EDIT_TAGS="BulkEditTags",n.TELEMETRY_ASSIGNTO_POPULATEMENU="AssignTo.PopulateMenu",n.TELEMETRY_OPENWORKITEM_CONTEXTMENU="OpenWorkItemConextMenu",n.WORKITEM_DISCUSSIONCONTROL="WorkItemDiscussion",n.WORKITEM_VIEWFOLLOWS="ViewWorkItemFollows",n.WORKITEM_BULKUNFOLLOWS="BulkUnfollows",n.CLIENTSIDEOPERATION_RELATEDWORKITEMS_CONTROL_OPENWORKITEM="RelatedWorkItemsControlOpenWorkItem",n.NEWQUERYEXPERIENCE_NAVIGATE_PIVOT="NewQueries.NavigatePivot",n.NEWQUERYEXPERIENCE_WORKITEMNAVIGATOR="NewQueries.WorkItemNavigator",n.NEWQUERYEXPERIENCE_TRIAGEVIEWHUB_PIVOTCOMMAND="NewQueries.TriageViewHub.PivotCommand",n.NEWQUERYEXPERIENCE_QUERY_ACTION="NewQueries.QueryAction",n.NEWQUERYEXPERIENCE_MOVE_QUERY="NewQueries.MoveQuery",n.NEWQUERYEXPERIENCE_LEAVE_DIRTY="NewQueries.LeaveDirty",n.NEWQUERYEXPERIENCE_ADHOCQUERY_REDIRECTION="NewQueries.AdhocQuery.Redirection",n.NEWQUERYEXPERIENCE_LASTVISITED_REDIRECTION="NewQueries.LastVisited.Redirection",n.NEWQUERYEXPERIENCE_NAVIGATE_QUERIESPIVOT="NewQueries.Navigate.QueriesPivot",n.NEWQUERYEXPERIENCE_BREADCRUMB_CLICKED="NewQueries.Breadcrumb.Clicked",n.CUSTOMIZE_WORKITEM="WorkItemToolbar.Customize",n.QUERYCHARTS_NAVIGATE="QueryCharts.Navigate",n.QUERY_SEARCH="Query.Search",n.CLIENTSIDEOPERATION_WIT_FIELDKEYBOARDSHORTCUT="WorkItemForm.FieldKeyboardShortcut",n.NODES_CACHE_MANAGER="NodesCacheManager",n.CLASSIFICATION_MRU_VALUE_CHANGED="ClassificationFieldsMruValueChanged",n.WIT_CACHE_PROVIDER_INIT="WorkItemTracking.CacheProvider.Initialize",n.WIT_CACHE_PROVIDER_OPEN="WorkItemTracking.CacheProvider.OpenCache",n.WIT_WATCHDOG_OPEN_FORM="WorkItemTracking.WatchDog.OpenForm",n.LINKSCONTROL_SAMECATEGORY_WARNING="LinksControl.SameCategory.Warning",n.FILTER_METHOD_USAGE="WorkItemTracking.ExtensionFilterMethodUsage",n.OLD_BOARDS_PLATFORM="OldBoardsHub",n}();t.WITCustomerIntelligenceFeature=r;u=function(){function n(){}return n.WORKITEM_OPEN_NEWFORMDIALOG="WorkItem.Open.NewFormDialog",n.WORKITEM_RELATED_LINKING="WorkItem.Related.Linking",n.WORKITEMFORM_FOLLOWS_ACTION_FOLLOW="WorkItemForm.Follows.Action.Follow",n.WORKITEMFORM_FOLLOWS_ACTION_UNFOLLOW="WorkItemForm.Follows.Action.Unfollow",n.WORKITEM_OPENFORM="WorkItem.OpenForm",n.WORKITEM_OPENFORM_NEWLAYOUT="WorkItem.OpenForm.NewLayout",n.WORKITEM_OPENFORM_CREATE_NEWLAYOUT="WorkItem.OpenForm.Create.NewLayout",n.WORKITEM_OPENDIALOG_NEWLAYOUT="WorkItem.OpenDialog.NewLayout",n.WORKITEM_OPENIDE_NEWLAYOUT="WorkItem.IDE.OpenForm.NewLayout",n.WORKITEM_SAVE="WorkItem.Save",n.WORKITEM_BULKSAVE="WorkItem.BulkSave",n.WORKITEM_CLOSED="WorkItem.Closed",n.WORKITEM_FIELDCHANGED="WorkItem.FieldChanged",n.QUERY_OPENRESULTS="Query.OpenResults",n.QUERY_SAVE="Query.Save",n.QUERY_SAVEAS="Query.SaveAs",n.QUERYHIERARCHY_LOAD="QueryHierarchy.Load",n.HISTORYVIEW_EXTENSION_LOAD="HistoryView.Extension.Load",n.WORKITEM_SIGNALR_REFRESHCOMPLETE="WorkItem.SignalR.RefreshComplete",n.WORKITEM_SIGNALR_REFRESHERROR="WorkItem.SignalR.RefreshError",n.WORKITEM_SIGNALR_ERROR="WorkItem.SignalR.Error",n.QUERIESHUB_TRIAGEVIEW_OPENQUERYRESULTS="QueriesHub.TriageView.OpenQueryResults",n.QUERIESHUB_TRIAGEVIEW_OPENBREADCRUMBQUERYRESULTS="QueriesHub.TriageView.OpenBreadcrumbQueryResults",n.QUERIESHUB_TRIAGEVIEW_OPENWORKITEM="QueriesHub.TriageView.OpenWorkItem",n.QUERIESHUB_TRIAGEVIEW_SAVEEXISTINGQUERY="QueriesHub.TriageView.SaveExistingQuery",n.QUERIESHUB_QUERIESVIEW_OPENFAVORITESPIVOT="QueriesHub.QueriesView.OpenFavoritesPivot",n.QUERIESHUB_QUERIESVIEW_OPENALLQUERIESPIVOT="QueriesHub.QueriesView.OpenAllQueriesPivot",n}();t.WITPerformanceScenario=u;f=function(){function n(){}return n.QUERIESHUB_TRIAGEVIEW_OPENWORKITEM_COMPLETE="QueriesHub.TriageView.OpenWorkItem.Complete",n.QUERIESHUB_TRIAGEVIEW_OPENQUERYRESULTS_COMPLETE="QueriesHub.TriageView.OpenQueryResults.Complete",n}();t.WITPerformanceScenarioEvent=f;e=function(){function n(){}return n.WORKITEM_CREATEOREDIT="WorkItem.CreateOrEdit",n}();t.WITUserScenarioActions=e;o=function(){function n(){}return n.WORKITEMRELATED_LINKING_COMPLETE="WorkItemRelated.Linking.Complete",n.WORKITEMDIALOG_CREATEWORKITEMFORM="WorkItemDialog.CreateWorkItemForm",n.WORKITEM_SAVE_COMPLETE="WorkItem.Save.Complete",n.WORKITEMFORM_INITIALIZE="WorkItemForm.Initialize",n.WORKITEMFORMBASE_INITIALIZE="WorkItemFormBase.Initialize",n.WORKITEMFORM_GETWORKITEM="WorkItemForm.GetWorkItems",n.WORKITEMFORM_BINDWORKITEM="WorkItemForm.BindWorkItem",n.WORKITEMFORM_UNBINDWORKITEM="WorkItemForm.UnBindWorkItem",n.WORKITEMTRACKING_GETPROJECTS_REQUEST="WorkItemTracking.GetProjects.Request",n.WORKITEMTRACKING_GETTYPES="WorkItemTracking.GetTypes",n.WORKITEMTRACKING_GETTYPES_REQUEST="WorkItemTracking.GetTypes.Request",n.WORKITEMTRACKING_GETTYPEEXTENSIONS_REQUEST="WorkItemTracking.GetTypeExtensions.Request",n.WORKITEMTRACKING_GETCONSTANTSETS="WorkItemTracking.GetConstantSets",n.WORKITEMTRACKING_GETCONSTANTSETS_REQUEST="WorkItemTracking.GetConstantSets.Request",n.WORKITEMTRACKING_GETLINKTYPES_REQUEST="WorkItemTracking.GetLinkTypes.Request",n.WORKITEMTRACKING_GETREGISTEREDLINKFORMTYPES="WorkItemTracking.GetRegisteredLinkFormTypes",n.WORKITEMTRACKING_GETMETADATACACHESTAMP_FROMAPI="WorkItemTracking.GetMetadataCacheStamp.FromApi",n.WORKITEMTRACKING_GETMETADATACACHESTAMP_FROMPAGEDATA="WorkItemTracking.GetMetadataCacheStamp.FromPageData",n.WORKITEMTRACKING_GETNODES_REQUEST="WorkItemTracking.GetNodes.Request",n.WORKITEMTRACKING_GETFIELDS_REQUEST="WorkItemTracking.GetFields.Request",n.WORKITEMTRACKING_GETFIELDS_PROCESS="WorkItemTracking.GetFields.Process",n.WORKITEMTRACKING_GETLAYOUTUSERSETTINGS_REQUEST="WorkItemTracking.GetLayoutUserSettings.Request",n.WORKITEMTRACKING_UPDATE_AJAX="WorkItemTracking.Update.Ajax",n.WORKITEMTRACKING_TAKEUPDATERESULT="WorkItemTracking.TakeUpdateResult",n.WORKITEMTRACKING_EVALUATELINKUPDATES="WorkItemTracking.EvaluateLinkUpdates",n.WORKITEMTRACKING_RESETAFTERSAVE="WorkItemTracking.ResetAfterSave",n.WORKITEMTRACKING_CACHING="WorkItemTracking.Caching",n.WORKITEMSVIEW_INITIALIZE="WorkItemsView.Initialize",n.WORKITEMSVIEW_ENSUREVIEW="WorkItemsView.EnsureView",n.WORKITEMSVIEW_NAVIGATE="WorkItemsView.Navigate",n.WORKITEMSVIEW_GETQUERY="WorkItemsView.GetQuery",n.WORKITEMSVIEW_GETQUERYPROVIDER="WorkItemsView.GetQueryProvider",n.WORKITEMSVIEW_CREATELAYOUT="WorkItem.WorkItemView.CreateLayout",n.WORKITEMSVIEW_RENDERLAYOUT_CREATELABELANDTABS="WorkItem.WorkItemView.RenderLayout.CreateLabelAndTabs",n.WORKITEMSVIEW_RENDERLAYOUT_CREATECONTROLS="WorkItem.WorkItemView.RenderLayout.CreateControls",n.WORKITEMSVIEW_RENDERLAYOUT_TABIFYLAYOUT="WorkItem.WorkItemView.RenderLayout.TabifyLayout",n.WORKITEMSVIEW_APPENDELEMENT="WorkItem.WorkItemView.AppendElement",n.WORKITEMSVIEW_BIND="WorkItem.WorkItemView.Bind",n.WORKITEMSVIEW_BIND_CONTRIBUTIONS="WorkItem.WorkItemView.Bind.Contributions",n.WORKITEMSVIEW_BIND_EVENTS="WorkItem.WorkItemView.Bind.Events",n.WORKITEMSVIEW_ONRENDER="WorkItem.WorkItemView.OnRender",n.WORKITEMSVIEW_ATTACHLAYOUT="WorkItem.WorkItemView.AttachLayout",n.TRIAGEVIEW_QUERYRESULT="TriageView.QueryResult",n.TRIAGEVIEW_ENTER="TriageView.Enter",n.TRIAGEVIEW_AHOCREQUIRE_TRIAGEVIEW="TriageView.AdhocRequire.TriageView",n.TRIAGEVIEW_AHOCREQUIRE_QUERYRESULTINFOBAR="TriageView.AdhocRequire.QueryResultInfoBar",n.TRIAGEVIEW_ENSUREWORKITEMFORMMODULE="TriageView.EnsureWorkItemFormModule",n.QUERYHIERARCHY_POPULATE="QueryHierarchy.Populate",n.QUERYHIERARCHY_GETQUERYFAVORITES_REQUEST="QueryHierarchy.GetQueryFavorites.Request",n.QUERYHIERARCHY_POPULATEFOLDERTREE="QueryHierarchy.PopulateFolderTree",n.QUERYHIERARCHY_GETHIERARCHY_REQUEST="QueryHierarchy.GetHierarchy.Request",n.QUERYHIERARCHY_UPDATEFROMDATA="QueryHierarchy.UpdateFromData",n.QUERYHIERARCHY_ENSUREITEMINTREE="QueryHierarchy.EnsureItemInTree",n.QUERYHIERARCHY_BEGINGETQUERYBYPATHORID_REQUEST="QueryHierarchy.BeginGetQueryByIdOrPath.Request",n.QUERY_UPDATEADHOCQUERY_REQUEST="Query.UpdateAdHocQuery.Request",n.QUERY_UPDATEQUERY_REQUEST="Query.UpdateQuery.Request",n.QUERY_CREATEQUERY_REQUEST="Query.CreateQuery.Request",n.QUERY_GETQUERYTEXT="Query.GetQueryText",n.QUERIESHUB_INITIALIZE_QUERIESHUBCONTEXT="QueriesHub.Initialize.QueriesHubContext",n.QUERIESHUB_ACTIONS_GETALLQUERYITEMS_REQUEST="QueriesHub.Actions.GetAllQueryItems.Request",n.QUERIESHUB_ACTIONS_GETFAVORITEQUERYITEMS_REQUEST="QueriesHub.Actions.GetFavoriteQueryItems.Request",n.QUERIESHUB_ACTIONS_ENSUREROOTFOLDERS_REQUEST="QueriesHub.Actions.EnsureRootFolders.Request",n.QUERIESHUB_ACTIONS_ENSUREQUERYITEM_REQUEST="QueriesHub.Actions.EnsureQueryItem.Request",n.QUERIESHUB_ACTIONS_SEARCHQUERYITEMS_REQUEST="QueriesHub.Actions.SearchQueryItems.Request",n.QUERIESHUB_TRIAGEVIEW_COMPONENT_MOUNT="QueriesHub.TriageView.Component.Mount",n.QUERIESHUB_QUERYRESULTSPIVOT_COMPONENT_MOUNT="QueriesHub.QueryResultsPivot.Component.Mount",n.QUERIESHUB_QUERIESVIEW_COMPONENT_MOUNT="QueriesHub.QueriesView.Component.Mount",n.QUERIESHUB_QUERIESPIVOT_COMPONENT_MOUNT="QueriesHub.QueriesPivot.Component.Mount",n.QUERIESHUB_STORES_ACTIVEQUERYVIEWSTORE_CHANGEQUERYVIEW="QueriesHub.Stores.ActiveQueryViewStore.ChangeQueryView",n.QUERIESHUB_STORES_QUERYFAVORITEGROUPSTORE_INITIALIZEQUERYFAVORITEGROUPS="QueriesHub.Stores.QueryFavoriteGroupStore.InitializeQueryFavoriteGroups",n.QUERIESHUB_STORES_QUERYHIERARCHYITEMSTORE_INITIALIZEQUERYHIERARCHYITEM="QueriesHub.Stores.QueryHierarchyItemStore.InitializeQueryHierarchyItem",n.QUERIESHUB_STORES_QUERYHIERARCHYSTORE_INITIALIZEQUERYHIERARCHY="QueriesHub.Stores.QueryHierarchyStore.InitializeQueryHierarchy",n.QUERIESHUB_STORES_QUERYRESULTSPROVIDERSTORE_CHANGEQUERYRESULTSPROVIDER="QueriesHub.Stores.QueryResultsProviderStore.ChangeQueryResultsProvider",n}();t.PerformanceEvents=o;s=function(){function n(){}return n.VIEWTYPE_QUERY="Query",n}();t.CustomerIntelligencePropertyValue=s;t.SHORTCUT_KEYDOWN="keydown";t.BUTTON_CLICKED="buttonClick"});

define("VSS/Events/Document",["require","exports","VSS/Diag","VSS/Events/Action","VSS/Events/Services","VSS/Navigation/HubsService","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Utils/Array","VSS/Utils/Core","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c){function p(){return o.getLocalService(a)}function y(){return o.getLocalService(l)}var v,l,a;Object.defineProperty(t,"__esModule",{value:!0});t.getRunningDocumentsTable=t.getService=t.DocumentService=t.RunningDocumentsTable=void 0;v=c.handleError;l=function(){function n(){var n=this;this._runningDocEntries=[];this._registerUnloadEvent();u.getService().attachEvent(f.HubEventNames.PostXHRNavigate,function(){n._runningDocEntries=[]})}return n.prototype.add=function(n,t){var r={moniker:n,document:t};return this._runningDocEntries.push(r),r},n.prototype.remove=function(n){this._runningDocEntries=s.subtract(this._runningDocEntries,[n])},n.prototype.isModified=function(n){if(n){var t=this._runningDocEntries.filter(function(t){return t.moniker===n})[0];if(!t)throw new Error("Document ".concat(n," not found."));return t.document.isDirty()}return this._isAnyModified()},n.prototype.beginSave=function(n,t){function e(n){v(n,t,i)}function u(){var t=r[f++];t?t.beginSave(function(){h.delay(i,0,u)},e):typeof n=="function"&&n.call(i)}var i=this,r=[],f=0;$.each(this._runningDocEntries,function(n,t){t.document.isDirty()&&typeof t.document.beginSave=="function"&&r.push(t.document)});u()},n.prototype.getUnsavedItemsMessage=function(){for(var s,f,n=[],t,r,h,u,i=0,o=this._runningDocEntries.length;i<o;i++)if(s=this._runningDocEntries[i],u=s.document,u.isDirty()&&typeof u.getDirtyDocumentTitles=="function"){for(f=u.getDirtyDocumentTitles(6),r=0,h=f.length;r<h;r++){if(t=f[r],n.length===5){n.push(e.UnsavedChangesMore);break}t.length>55&&(t=t.substr(0,52)+"...");n.push(t)}if(n.length>5)break}return n.length===0?e.UnsavedChanges:e.UnsavedChangesWithNames+"\n"+n.join("\n")},n.prototype._isAnyModified=function(){for(var i,n=0,t=this._runningDocEntries.length;n<t;n++)if(i=this._runningDocEntries[n],i.document.isDirty())return!0;return!1},n.prototype._registerUnloadEvent=function(){var n=this,t;r.getService().registerActionWorker(r.CommonActions.ACTION_WINDOW_UNLOAD,function(){if(n.isModified())return n.getUnsavedItemsMessage()});t=$(window);t.bind("beforeunload",function(){try{return r.getService().performAction(r.CommonActions.ACTION_WINDOW_UNLOAD,{})}catch(n){alert(n)}})},n}();t.RunningDocumentsTable=l;a=function(){function n(){this._runningDocumentsTable=y()}return n.prototype.addDeleteListener=function(n){u.getService().attachEvent("tfs-document-delete",n)},n.prototype.removeDeleteListener=function(n){u.getService().detachEvent("tfs-document-delete",n)},n.prototype.addBuildPropertyChangedListener=function(n){u.getService().attachEvent("tfs-document-build-property-changed",n)},n.prototype.removeBuildPropertyChangedListener=function(n){u.getService().detachEvent("tfs-document-build-property-changed",n)},n.prototype.addBuildStoppedListener=function(n){u.getService().attachEvent("tfs-document-build-stopped",n)},n.prototype.removeBuildStoppedListener=function(n){u.getService().detachEvent("tfs-document-build-stopped",n)},n.prototype.addModifiedChangedListener=function(n){u.getService().attachEvent("tfs-document-modified-change",n)},n.prototype.removeModifiedChangedListener=function(n){u.getService().detachEvent("tfs-document-modified-change",n)},n.prototype.isModified=function(n){return this._runningDocumentsTable.isModified(n)},n.prototype.save=function(n,t){var i=this.getActiveDocument();if(i)i.save(n,t);else return this._runningDocumentsTable.beginSave(n,t)},n.prototype.getActiveDocument=function(){return this._activeDocument},n.prototype.setActiveDocument=function(n){this._activeDocument=n},n}();t.DocumentService=a;t.getService=p;t.getRunningDocumentsTable=y});

define("WorkItemTracking/Scripts/Utils/WIFormCIDataHelper",["require","exports","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence","VSS/Controls/Navigation","WorkItemTracking/Scripts/Utils/WitControlMode","VSS/Events/Document"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.WIFormCIDataHelper=void 0;var o;(function(n){function t(){return f.WitFormModeUtility.isMobileForm?r.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING_MOBILE:r.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING}function o(){var n={OpenInNewTabClicked:"True",FullScreenWhenClicked:u.FullScreenHelper.getFullScreen()?"True":"False"};i.publishEvent(new i.TelemetryEventData(t(),r.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_OPEN_WORK_ITEM_IN_NEW_TAB,n))}function s(){i.publishEvent(new i.TelemetryEventData(t(),r.WITCustomerIntelligenceFeature.WORKITEM_DISCUSSIONCONTROL,{Action:"Discussion.CommentSave"}))}function h(n,u){var s=e.getService().getActiveDocument(),o,f;s&&(o=s.getWorkItem());f={Tab:n};o&&(f.workItemSessionId=o.sessionId);$.extend(f,u||{});i.publishEvent(new i.TelemetryEventData(t(),r.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_TABSELECTION,f))}function c(n,u){var f={isExpanded:n};$.extend(f,u||{});i.publishEvent(new i.TelemetryEventData(t(),r.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_GROUPCOLLAPSED,f))}function l(n){i.publishEvent(new i.TelemetryEventData(t(),r.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_FIELDKEYBOARDSHORTCUT,{shortcut:"alt + ".concat(n)}))}function a(n,u,f){i.publishEvent(new i.TelemetryEventData(t(),r.WITPerformanceScenario.WORKITEM_FIELDCHANGED,{workItemSessionId:n,fieldRefName:"[NonEmail:".concat(u,"]"),controlType:f},Date.now()))}function v(n){i.publishEvent(new i.TelemetryEventData(t(),r.WITPerformanceScenario.WORKITEM_CLOSED,{workItemSessionId:n,action:"Closing workitem"},Date.now()))}function y(n,u,f){i.publishEvent(new i.TelemetryEventData(t(),r.WITCustomerIntelligenceFeature.CLASSIFICATION_MRU_VALUE_CHANGED,{isSuggestedValue:u,fieldRefName:"[NonEmail:".concat(f,"]")},Date.now()))}n.getArea=t;n.workItemOpenInNewTabEvent=o;n.discussionControlCommentSaveEvent=s;n.workItemTabClick=h;n.groupPanelCollapsed=c;n.fieldKeyboardShortcutPressed=l;n.fieldValueChanged=a;n.workItemDisposed=v;n.classificationPickerValueChanged=y})(o=t.WIFormCIDataHelper||(t.WIFormCIDataHelper={}))});

define("WorkItemTracking/Scripts/Utils/WorkItemControlsActions",["require","exports","VSS/Diag","VSS/Controls/Navigation","Presentation/Scripts/TFS/TFS.Host.TfsContext","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper","WorkItemTracking/Scripts/ActionUrls"],function(n,t,i,r,u,f,e){function s(n){var o,t,s;o=n.tfsContext||u.TfsContext.getDefault();t=r.FullScreenHelper.getUrlData(!0);t.parameters=n.id;s=o.getPublicActionUrl(e.ActionUrl.ACTION_EDIT,"workitems",t);window.open(s);f.WIFormCIDataHelper.workItemOpenInNewTabEvent()}Object.defineProperty(t,"__esModule",{value:!0});t.openWorkItemInNewTabActionWorker=t.WorkItemActions=void 0;var o;(function(n){n.ACTION_WORKITEM_OPEN="open-work-item";n.ACTION_WORKITEM_OPEN_DIALOG="open-work-item-dialog";n.ACTION_WORKITEM_OPEN_IN_NEW_TAB="open-work-item-in-new-tab";n.ACTION_WORKITEM_NEW="work-item-new";n.ACTION_WORKITEM_NEW_DIALOG="work-item-new-dialog";n.ACTION_WORKITEM_NEW_LINKED="work-item-new-linked";n.ACTION_WORKITEM_LINK="work-item-link";n.ACTION_WORKITEM_NEW_COPY="work-item-new-copy";n.ACTION_WORKITEM_NEW_CLONE="work-item-new-clone";n.ACTION_WORKITEM_DISCARD_IF_NEW="work-item-discard-if-new";n.ACTION_SHOW_WORKITEM_FORM_BUSY="show-work-item-form-busy-overlay";n.ACTION_HIDE_WORKITEM_FORM_BUSY="hide-work-item-form-busy-overlay";n.WORKITEM_DELETE_ERROR="work-item-delete-error";n.WORKITEM_MAXIMIZE_STATE_CHANGED="work-item-maximize-state-changed"})(o=t.WorkItemActions||(t.WorkItemActions={}));t.openWorkItemInNewTabActionWorker=s});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};define("WorkItemTracking/SharedScripts/WorkItemDialogShim",["require","exports","react","react-dom","VSS/FeatureManagement/RestClient","VSS/LWP","VSS/VSS","VSSPreview/Flux/Components/LWP","WorkItemTracking/Scripts/ActionUrls","WorkItemTracking/Scripts/Utils/WitControlMode","WorkItemTracking/Scripts/Utils/WorkItemControlsActions","VSS/VSS","VSS/Performance","VSS/Events/Action","Presentation/Scripts/TFS/TFS.Host.TfsContext"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function rt(n,t){return __awaiter(this,void 0,void 0,function(){var s,u,i,f,e,o,r;return __generator(this,function(h){switch(h.label){case 0:return[4,p];case 1:if(h.sent()){for(s=n.id<1?n.workItemType.name:n.id,u={},i=0,f=Object.keys(n.fieldUpdates);i<f.length;i++)e=f[i],o=n.getField(Number(e)),r=n.fieldUpdates[e],o.fieldDefinition.referenceName&&r.value&&!r.setByRule&&(u[o.fieldDefinition.referenceName]=r.value);return k(s,t,u),[2]}return b(function(i){i.WorkItemFormDialog.showWorkItem(n,t)}),[2]}})})}function ut(n,t,i){return __awaiter(this,void 0,void 0,function(){var r,u;return __generator(this,function(f){switch(f.label){case 0:return[4,p];case 1:return f.sent()?(k(n,i),[2]):(i!==undefined?(r=t||y.TfsContext.getDefault(),u=i):(r=y.TfsContext.getDefault(),u=t),b(function(){v.getService().performAction(c.WorkItemActions.ACTION_WORKITEM_OPEN,{id:n,tfsContext:r,options:u})}),[2])}})})}function nt(n,t,i,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(u){switch(u.label){case 0:return[4,p];case 1:return u.sent()?(k(n,i,undefined,r),[2]):(b(function(){v.getService().performAction(c.WorkItemActions.ACTION_WORKITEM_OPEN_DIALOG,{id:n,tfsContext:t||y.TfsContext.getDefault(),options:i,tryGetLatest:r})}),[2])}})})}function tt(n,t,i,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(u){switch(u.label){case 0:return[4,p];case 1:return u.sent()?(k(n,r,t),[2]):(b(function(){v.getService().performAction(c.WorkItemActions.ACTION_WORKITEM_NEW_DIALOG,{workItemTypeName:n,tfsContext:i||y.TfsContext.getDefault(),initialValues:t,options:r})}),[2])}})})}function ft(n,t){t=t||y.TfsContext.getDefault();var i=t.getPublicActionUrl(s.ActionUrl.ACTION_EDIT,"workitems",{parameters:n});window.open(i)}function et(n,t,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,p];case 1:return r.sent()?(k(n,undefined,i),[2]):(t=t||y.TfsContext.getDefault(),b(function(){v.getService().performAction(c.WorkItemActions.ACTION_WORKITEM_NEW,{workItemTypeName:n,tfsContext:t,initialValues:i})}),[2])}})})}function ot(n){return n===void 0&&(n=y.TfsContext.getDefault()),it().then(function(n){return l.requireModules(n)})}function b(n){var t,i;w?(i=a.getScenarioManager().startScenario("WIT","FormShim"),n(w),i.end()):(t=a.getScenarioManager().startScenario("WIT","FormShim.LoadModules"),it().then(function(i){return l.requireModules(i).spread(function(i){w=i;n(w);t.end()})},e.handleError))}function it(){return h.WitFormModeUtility.ensureWitFormModeLoaded().then(function(){return["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls"]})}function k(n,t,u,f){var e=document.createElement("div"),s,h;document.body.appendChild(e);s=function(){e!==null&&(r.unmountComponentAtNode(e),document.body.removeChild(e),e=null)};h=typeof n=="number"?{workItemId:n,onDismiss:s,onLegacyDismiss:t===null||t===void 0?void 0:t.close,onLegacySave:t===null||t===void 0?void 0:t.save,onLegacyDelete:t===null||t===void 0?void 0:t.deleteItem,readOnly:t===null||t===void 0?void 0:t.readOnly,shouldRefresh:f}:{workItemTypeName:n,initialValues:u,onDismiss:s,onLegacyDismiss:t===null||t===void 0?void 0:t.close,onLegacySave:t===null||t===void 0?void 0:t.save,onLegacyDelete:t===null||t===void 0?void 0:t.deleteItem,readOnly:t===null||t===void 0?void 0:t.readOnly};r.render(i.createElement(o.LWPComponent,__assign({wrappedType:"work-item-form-dialog",dependencies:["ms.vss-work-web.work-item-dialogs"]},h)),e)}var w,p,d,g;Object.defineProperty(t,"__esModule",{value:!0});t.prefetchFormModules=t.createNewWorkItem=t.showWorkItemByIdInNewTab=t.showNewWorkItemDialog=t.showWorkItemDialogById=t.showWorkItemById=t.showWorkItem=void 0;w=null;p=u.getClient().getFeatureState("ms.vss-work-web.new-boards-hub-feature","me").then(function(n){return n.state===1});t.showWorkItem=rt;t.showWorkItemById=ut;t.showWorkItemDialogById=nt;t.showNewWorkItemDialog=tt;t.showWorkItemByIdInNewTab=ft;t.createNewWorkItem=et;d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){var n=this.props,i=n.workItemTypeName,r=n.onDismiss,u=n.initialValues,t=this.props.options||{};tt(i,u,null,__assign(__assign({},t),{close:function(n){t.close&&t.close(n);r()}}))},t.componentType="createNewWorkItemDialog",t}(i.Component);f.registerLWPComponent(d.componentType,d);g=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){var t=this.props,i=t.workItemId,r=t.onDismiss,n=this.props.options||{};nt(i,null,__assign(__assign({},n),{close:function(t){n.close&&n.close(t);r()}}),this.props.tryGetLatest)},t.componentType="WorkItemDialog",t}(i.Component);f.registerLWPComponent(g.componentType,g);t.prefetchFormModules=ot});

define("WorkItemTracking/Scripts/TFS.WorkItemTracking.Global.Registration",["require","exports","VSS/Resources/VSS.Resources.Platform","VSS/Controls","VSS/Service","VSS/VSS","VSS/Context","VSS/Common/Contracts/Platform","VSS/Controls/Menus","q","Presentation/Scripts/TFS/TFS.Host.UI","VSS/Telemetry/Services","Presentation/Scripts/TFS/TFS.WebSettingsService","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.ArtifactPlugins","VSS/Utils/Core","WorkItemTracking/Scripts/ActionUrls","WorkItemTracking/SharedScripts/WorkItemDialogShim"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var g;Object.defineProperty(t,"__esModule",{value:!0});t.GlobalWorkItemsSearchAdapter=t.WorkItemsSearchAdapter=void 0;var nt=p.delegate,k=function(){function n(){}return n.getWatermarkText=function(){return i.SearchWorkItems},n.performSearch=function(n,t){var i,r,u,f;n&&(i=t.tfsContext||v.TfsContext.getDefault(),r=n.match(/^\s*#?(\d{1,9})\s*$/),u=r?parseInt(r[1],10):0,u>0?b.showWorkItemById(u):i.navigation.project?(f={area:"",searchText:n},window.location.href=i.getPublicActionUrl(w.ActionUrl.ACTION_QUERY,"queries",f)):$("#select-project").addClass("validation-summary-errors"))},n.getShortcutsAndSearchHistory=function(n){var t=[];f.using(["WorkItemTracking/Scripts/Resources/VSS.Resources.WorkItemTracking.Common"],function(r){t.push({text:i.AddASearchFilter,separator:!0,noIcon:!0});t.push({id:"search-shortcut",text:i.AddSearchFilterAssignedTo,arguments:{search:"a",defaultValue:"@"+r.WiqlOperators_MacroMe},cssClass:"search-shortcut",icon:"icon-filter"});t.push({id:"search-shortcut",text:i.AddSearchFilterCreatedBy,arguments:{search:"c",defaultValue:"@"+r.WiqlOperators_MacroMe},cssClass:"search-shortcut",icon:"icon-filter"});t.push({id:"search-shortcut",text:i.AddSearchFilterState,arguments:{search:"s"},cssClass:"search-shortcut",icon:"icon-filter"});t.push({id:"search-shortcut",text:i.AddSearchFilterType,arguments:{search:"t"},cssClass:"search-shortcut",icon:"icon-filter"});u.VssConnection.getConnection(e.getDefaultWebContext(),o.ContextHostType.ProjectCollection).getService(a.WebSettingsService).beginReadSetting("/Recent/WorkItemsSearch",a.WebSettingsScope.User,function(i){var r=[];i.value&&$.each(i.value.split(";"),function(n,t){r.push({id:"search-menu-item",text:t,arguments:{search:t},noIcon:!0})});n(r.concat(t))},function(){n(t)})})},n}(),d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.hasDropdown=function(){return!0},t.prototype.getWatermarkText=function(){return k.getWatermarkText()},t.prototype.getDropdownMenuItems=function(n,t){k.getShortcutsAndSearchHistory(function(n){t(n)})},t.prototype.performSearch=function(n){k.performSearch(n,this._options)},t}(c.SearchAdapter);t.WorkItemsSearchAdapter=d;r.Enhancement.registerEnhancement(d,".search-adapter-work-items");g=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.hasDropdown=function(){return v.TfsContext.getDefault().navigation.serviceHost.hostType!==v.NavigationContextLevels.Application},t.prototype.getWatermarkText=function(){return k.getWatermarkText()},t.prototype.getEntityId=function(){return"Work items"},t.prototype.getHelpDropdownMenu=function(n,t,i,u){var f=this;this._input=n;this._triggerSearchContext=i;this._getHelpDropdownMenuItems().then(function(n){f._helpPopup=r.BaseControl.createIn(s.PopupMenu,t,{align:"left-bottom",items:[{childItems:n}],executeAction:nt(f,f._onHelpDropdownMenuItemClick),setFocus:!1});u(f._helpPopup)})},t.prototype.performSearch=function(n){var t=l.TelemetryEventData.fromProperty("WIT","GlobalSearch","SearchText",n);l.publishEvent(t);k.performSearch(n,this._options)},t.prototype._getHelpDropdownMenuItems=function(){var n=h.defer();return k.getShortcutsAndSearchHistory(function(t){n.resolve(t)}),n.promise},t.prototype._onHelpDropdownMenuItemClick=function(n){this._helpPopup._active=!1;n.get_commandName()==="search-shortcut"?this._appendShortcut(n.get_commandArgument()):(this._input.val(n.get_commandArgument().search),this._triggerSearchContext.doSearch())},t.prototype._appendShortcut=function(n){var t,i,r;t=this._input.val();t+=t.length>0?" ":"";t+=n.search||"";t+=n.operator||":";t+='"';r=t.length;t+=n.defaultValue||"";i=t.length;t+='"';this._input.val(t);this._selectDefaultValue(r,i)},t.prototype._selectDefaultValue=function(n,t){var i,r=this._input[0];r.setSelectionRange?r.setSelectionRange(n,t):r.createTextRange&&(i=r.createTextRange(),i.move("character",n),i.moveEnd("character",t-n),i.select())},t}(c.MultiEntitySearchAdapter);t.GlobalWorkItemsSearchAdapter=g;y.registerArtifactPluginAsync("workitemtracking",function(n){f.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Artifacts.Plugin"],function(t){n(t.WorkItemArtifactPlugin)})});f.tfsModuleLoaded("TFS.WorkItemTracking.Global.Registration",t)});

define("Presentation/Scripts/TFS/TFS.Host.UI",["require","exports","Presentation/Scripts/TFS/TFS.Host.MultiEntitySearch","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","VSS/Controls","VSS/Diag","VSS/Controls/Menus","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/VSS","Presentation/Scripts/TFS/TFS.NotificationEventNames","VSS/Service","VSS/Events/Services","Presentation/Scripts/TFS/TFS.WebSettingsService","VSS/Utils/UI","VSS/Utils/Core"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var d,g,k;Object.defineProperty(t,"__esModule",{value:!0});t.SearchBoxHelper=t.MultiEntitySearchAdapter=t.SearchAdapter=t.SearchBox=void 0;var w=y.delegate,p=v.domElem,b=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){var i=this;this._lastInputText="";this._element.addClass("noDrop");this._$inputLabel=$(p("label","searchbox-label hidden")).attr("for","searchbox").appendTo(this._element);this._input=$(p("input","search-text")).attr("type","text").attr("id","searchbox").attr("disabled","disabled").focus(function(){$(this).parent().addClass("input-focus")}).blur(function(){$(this).parent().removeClass("input-focus")}).keyup(w(this,this.onKeyUp)).appendTo(this._element);this._$inlineErrorContainer=$(p("div","input-error-tip")).text("").attr("aria-live","assertive").hide().appendTo(this._element);this._$clearTextIcon=$(p("span","bowtie-icon bowtie-edit-remove")).attr("title",r.ClearTextTooltip).appendTo(this._element).click(w(this,this._clearSearchBox));$(p("span","bowtie-icon bowtie-search")).appendTo(this._element).click(w(this,this.doSearch));this._$dropIcon=$(p("span","icon icon-drop")).appendTo(this._element).click(w(this,this.showDropdownMenu));this._$popupElement=$(p("div","search-popup")).appendTo(this._element);this._element.on(t.SET_ERROR_EVENT,function(n,t,r){i.setErrorMessage(t,r);n.stopPropagation()});n.prototype.initialize.call(this);f.logTracePoint("SearchBox.ctor.complete")},t.prototype.setAdapter=function(n){var t;this._searchAdapter=n;t=n.getWatermarkText();v.Watermark(this._input,{watermarkText:t});this._$inputLabel.text(t);this._input.attr("title",n.getTooltip());this._input.attr("aria-label",this._searchAdapter.getAriaLabel());this._input.prop("disabled",!1);this._element.toggleClass("noDrop",!n.hasDropdown());this.resetDropdownMenu()},t.prototype.getAdapter=function(){return this._searchAdapter},t.prototype.setErrorMessage=function(n,t){n&&(t&&t!==this._input.val().trim()||(this._$inlineErrorContainer.text(n),this._$inlineErrorContainer.show(),this._input.addClass("invalid")))},t.prototype.clearErrorMessage=function(){this._$inlineErrorContainer.hide();this._input.removeClass("invalid")},t.prototype.resetDropdownMenu=function(){this._$popupElement.empty();this._popup=null},t.prototype.onKeyUp=function(n){return(this._updateClearTextIcon(),this._input.val()!==this._lastInputText&&(this.clearErrorMessage(),this._lastInputText=this._input.val()),n.keyCode===v.KeyCode.ENTER)?(this.doSearch(n),!1):n.keyCode===v.KeyCode.DOWN||n.keyCode===v.KeyCode.PAGE_DOWN?(this.showDropdownMenu(),!1):void 0},t.prototype.doSearch=function(n){var t=this._input.val().trim();t&&this._searchAdapter&&(this._searchAdapter.performSearch(t,k.openInNewTab(n)),this.resetDropdownMenu())},t.prototype._updateClearTextIcon=function(){this._$clearTextIcon.toggle(!!this._input.val())},t.prototype._clearSearchBox=function(){this._input.val("");this.clearErrorMessage();this._updateClearTextIcon()},t.prototype.showDropdownMenu=function(){this._searchAdapter&&this._searchAdapter.hasDropdown()&&(this._popup||(this._popup=u.BaseControl.createIn(e.PopupMenu,this._$popupElement,{align:"right-bottom",items:[{childItems:this._searchAdapter.getDropdownMenuItems}],executeAction:w(this,this._onMenuItemClick)})),this._popup.popup(this._input,this._element))},t.prototype._onMenuItemClick=function(n){return n.get_commandName()==="search-shortcut"?(this._appendShortcut(n.get_commandArgument()),!1):(this._input.val(n.get_commandArgument().search),this.doSearch(n),!1)},t.prototype._appendShortcut=function(n){var t,i,r;t=this._input.val();t+=t.length>0?" ":"";t+=n.search||"";t+=n.operator||":";t+='"';r=t.length;t+=n.defaultValue||"";i=t.length;t+='"';this._input.val(t);this._selectDefaultValue(r,i)},t.prototype._selectDefaultValue=function(n,t){var i,r=this._input[0];r.setSelectionRange?r.setSelectionRange(n,t):r.createTextRange&&(i=r.createTextRange(),i.move("character",n),i.moveEnd("character",t-n),i.select())},t.SET_ERROR_EVENT="SetInputErrorTip",t}(u.BaseControl);t.SearchBox=b;u.Enhancement.registerEnhancement(b,".search-box");d=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype._enhance=function(n){var t=u.Enhancement.ensureEnhancement(b,n);t&&(t.setAdapter(this),this._$searchBoxElement=t.getElement())},t.prototype.hasDropdown=function(){return!1},t.prototype.getAriaLabel=function(){return this._options.ariaLabelSearchBox},t.prototype.getDropdownMenuItems=function(n,t){t([])},t.prototype.getHelpDropdown=function(){},t.prototype.getWatermarkText=function(){return""},t.prototype.getTooltip=function(){return this.getWatermarkText()},t.prototype.performSearch=function(){},t.prototype.setErrorMessage=function(n,t){this._$searchBoxElement&&this._$searchBoxElement.length>0&&this._$searchBoxElement.trigger(b.SET_ERROR_EVENT,[n,t])},t}(u.Enhancement);t.SearchAdapter=d;g=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.MultiEntitySearchAdapter);t.MultiEntitySearchAdapter=g;k=function(){function n(){}return n.openInNewTab=function(n){return i.SearchBoxHelper.openInNewTab(n)},n}();t.SearchBoxHelper=k;f.logTracePoint("Host.Navigation.initialization-complete");$(window).on("resize.tfs.event.subscription",function(n){n.target===window&&l.getService().fire("window-resize")});l.getService().attachEvent(h.EventNames.NotificationDismissed,function(n,t){function i(){}t===void 0&&(t=a.WebSettingsScope.User);c.getCollectionService(a.WebSettingsService).beginWriteSetting(o.Messages.DismissNotificationRegistryPath+n,!0,t,i,i)});l.getService().attachEvent(h.EventNames.ClientNotificationDismissed,function(n,t){t===void 0&&(t=a.WebSettingsScope.User);c.getApplicationService(a.WebSettingsService).writeLocalSetting(o.Messages.DismissNotificationRegistryPath+n,"true",t,!1)});s.tfsModuleLoaded("TFS.Host.UI",t)});

define("Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemTypeIcons=t.WorkItemTrackingMetadataCacheConstants=t.WorkItemSettingsConstants=t.WorkItemLinkConstants=t.WorkItemFormExtensionsConstants=t.WorkItemFormContributionProperties=t.WorkItemFeatureStateConstants=t.WITCommonConstants=t.WellKnownControlNames=t.UnfollowResultStatus=t.QueryResultFormat=t.QueriesConstants=t.OobFieldRefNames=t.FormLayoutType=t.FollowsConstants=t.FieldType=t.DalFields=t.CoreLinkTypeReferenceNames=t.CoreFieldRefNames=t.CoreField=t.CacheStatus=void 0,function(n){n[n.UpToDate=0]="UpToDate";n[n.NewData=1]="NewData";n[n.StaleData=2]="StaleData"}(i=t.CacheStatus||(t.CacheStatus={})),function(n){n[n.Id=-3]="Id";n[n.Rev=8]="Rev";n[n.Title=1]="Title";n[n.Description=52]="Description";n[n.WorkItemType=25]="WorkItemType";n[n.TeamProject=-42]="TeamProject";n[n.State=2]="State";n[n.Reason=22]="Reason";n[n.CreatedBy=33]="CreatedBy";n[n.AssignedTo=24]="AssignedTo";n[n.ChangedBy=9]="ChangedBy";n[n.ChangedDate=-4]="ChangedDate";n[n.CreatedDate=32]="CreatedDate";n[n.RevisedDate=-5]="RevisedDate";n[n.AuthorizedDate=3]="AuthorizedDate";n[n.AuthorizedAs=-1]="AuthorizedAs";n[n.History=54]="History";n[n.AreaPath=-7]="AreaPath";n[n.AreaId=-2]="AreaId";n[n.IterationPath=-105]="IterationPath";n[n.IterationId=-104]="IterationId";n[n.NodeName=-12]="NodeName";n[n.RelatedLinkCount=75]="RelatedLinkCount";n[n.HyperLinkCount=-32]="HyperLinkCount";n[n.AttachedFileCount=-31]="AttachedFileCount";n[n.ExternalLinkCount=-57]="ExternalLinkCount";n[n.CommentCount=-33]="CommentCount";n[n.LinkType=100]="LinkType";n[n.Tags=80]="Tags";n[n.Watermark=7]="Watermark";n[n.BoardColumn=90]="BoardColumn";n[n.BoardColumnDone=91]="BoardColumnDone";n[n.BoardLane=92]="BoardLane";n[n.IsDeleted=-404]="IsDeleted";n[n.Parent=-35]="Parent"}(r=t.CoreField||(t.CoreField={})),function(n){n.AreaId="System.AreaId";n.AreaPath="System.AreaPath";n.AssignedTo="System.AssignedTo";n.AttachedFileCount="System.AttachedFileCount";n.AuthorizedAs="System.AuthorizedAs";n.BoardColumn="System.BoardColumn";n.BoardColumnDone="System.BoardColumnDone";n.BoardLane="System.BoardLane";n.ChangedBy="System.ChangedBy";n.ChangedDate="System.ChangedDate";n.CreatedBy="System.CreatedBy";n.CreatedDate="System.CreatedDate";n.Description="System.Description";n.CommentCount="System.CommentCount";n.ExternalLinkCount="System.ExternalLinkCount";n.History="System.History";n.HyperLinkCount="System.HyperLinkCount";n.RemoteLinkCount="System.RemoteLinkCount";n.Id="System.Id";n.IterationId="System.IterationId";n.IterationPath="System.IterationPath";n.LinkType="System.Links.LinkType";n.NodeName="System.NodeName";n.Reason="System.Reason";n.RelatedLinkCount="System.RelatedLinkCount";n.Rev="System.Rev";n.RevisedDate="System.RevisedDate";n.State="System.State";n.AuthorizedDate="System.AuthorizedDate";n.TeamProject="System.TeamProject";n.Tags="System.Tags";n.Title="System.Title";n.WorkItemType="System.WorkItemType";n.Watermark="System.Watermark";n.IsDeleted="System.IsDeleted";n.Parent="System.Parent"}(u=t.CoreFieldRefNames||(t.CoreFieldRefNames={})),function(n){n.Related="System.LinkTypes.Related";n.Hierarchy="System.LinkTypes.Hierarchy";n.Dependency="System.LinkTypes.Dependency";n.Duplicate="System.LinkTypes.Duplicate"}(f=t.CoreLinkTypeReferenceNames||(t.CoreLinkTypeReferenceNames={})),function(n){n.IDId=-3;n.RevId=8;n.TitleId=1;n.DescriptionId=52;n.WorkItemTypeId=25;n.PortfolioProjectId=-42;n.WorkItemFormIDId=-14;n.WorkItemFormId=-15;n.StateId=2;n.ReasonId=22;n.CreatedById=33;n.WatermarkId=7;n.AssignedToId=24;n.LastChangedById=9;n.LastChangedDateId=-4;n.AuthorizedDateId=3;n.CreatedDateId=32;n.RevisedDateId=-5;n.PersonNameId=-1;n.AuthorizedAsId=-1;n.HistoryId=54;n.AreaPathId=-7;n.AreaIDId=-2;n.IterationPathId=-105;n.IterationIDId=-104;n.NodeNameId=-12;n.RelatedLinkCountId=75;n.RemoteLinkCountId=-34;n.LinkedFileCountId=-32;n.AttachedFileCountId=-31;n.CommentCountId=-33;n.BISURICountId=-57;n.Tags=80;n.BoardColumnId=90;n.BoardColumnDoneId=91;n.BoardLaneId=92;n.RelatedLinks=37;n.PersonID=-6;n.LinkedFiles=51;n.BISURI=58;n.AttachedFiles=50;n.HiddenAttachedFiles=49;n.AreaLevel1=-43;n.AreaLevel2=-44;n.AreaLevel3=-45;n.AreaLevel4=-46;n.AreaLevel5=-47;n.AreaLevel6=-48;n.AreaLevel7=-49;n.IterationLevel1=-50;n.IterationLevel2=-51;n.IterationLevel3=-52;n.IterationLevel4=-53;n.IterationLevel5=-54;n.IterationLevel6=-55;n.IterationLevel7=-56;n.IsDeleted=-404;n.ZZZDummyField=-58;n.Parent=-35}(e=t.DalFields||(t.DalFields={})),function(n){n[n.Internal=0]="Internal";n[n.String=1]="String";n[n.Integer=2]="Integer";n[n.DateTime=3]="DateTime";n[n.PlainText=5]="PlainText";n[n.Html=7]="Html";n[n.TreePath=8]="TreePath";n[n.History=9]="History";n[n.Double=10]="Double";n[n.Guid=11]="Guid";n[n.Boolean=12]="Boolean";n[n.PicklistInteger=14]="PicklistInteger";n[n.PicklistString=15]="PicklistString"}(o=t.FieldType||(t.FieldType={})),function(n){n.ArtifactType="WorkItem";n.UnfollowResult="UnfollowResult"}(s=t.FollowsConstants||(t.FollowsConstants={})),function(n){n[n.Desktop=0]="Desktop";n[n.Mobile=1]="Mobile"}(h=t.FormLayoutType||(t.FormLayoutType={})),function(n){n.BacklogPriority="Microsoft.VSTS.Common.BacklogPriority";n.StackRank="Microsoft.VSTS.Common.StackRank";n.ActivatedBy="Microsoft.VSTS.Common.ActivatedBy";n.ActivatedDate="Microsoft.VSTS.Common.ActivatedDate";n.ClosedBy="Microsoft.VSTS.Common.ClosedBy";n.ClosedDate="Microsoft.VSTS.Common.ClosedDate";n.ResolvedBy="Microsoft.VSTS.Common.ResolvedBy";n.ResolvedDate="Microsoft.VSTS.Common.ResolvedDate";n.StateChangeDate="Microsoft.VSTS.Common.StateChangeDate"}(c=t.OobFieldRefNames||(t.OobFieldRefNames={})),function(n){n.LastVisitedQueryGroupKey="LAST_VISITED_QUERY_GROUP";n.MyFavoritesGroupKey="MY_FAVORITES_GROUP";n.LastVisitedQueryMruKey="Queries/LastVisited";n.TeamFavoriteGroupsExpandStatesMruKey="Queries/FavoriteGroupExpandStates"}(l=t.QueriesConstants||(t.QueriesConstants={})),function(n){n[n.Json=0]="Json";n[n.Html=1]="Html"}(a=t.QueryResultFormat||(t.QueryResultFormat={})),function(n){n[n.unfollowFailed=0]="unfollowFailed";n[n.unfollowSuccess=1]="unfollowSuccess"}(v=t.UnfollowResultStatus||(t.UnfollowResultStatus={})),function(n){n.HtmlControl="HtmlFieldControl";n.PlainTextControl="PlainTextControl";n.FreshnessIndicatorControl="FreshnessIndicatorControl";n.FieldControl="FieldControl";n.DateControl="DateTimeControl";n.ClassificationControl="WorkItemClassificationControl";n.WorkItemLogControl="WorkItemLogControl";n.WorkItemHistoryControl="WorkItemHistoryControl";n.WorkItemStateGraphControl="WorkItemStateGraphControl";n.LinksControl="LinksControl";n.AttachmentsControl="AttachmentsControl";n.WebpageControl="WebpageControl";n.LabelControl="LabelControl";n.TagFieldControl="TagFieldControl";n.TestStepsControl="TestStepsControl";n.AssociatedAutomationControl="AssociatedAutomationControl";n.StageControl="StageControl";n.StageBuildControl="StageBuildControl";n.ReleaseBuildControl="ReleaseBuildControl";n.AcceptanceCriteriaControl="AcceptanceCriteriaControl";n.DevelopmentControl="DevelopmentControl";n.WorkItemDiscussionControl="WorkItemDiscussionControl";n.ParameterSetControl="ParameterSetControl";n.DeploymentsControl="DeploymentsControl"}(y=t.WellKnownControlNames||(t.WellKnownControlNames={})),function(n){n.LinkTypes="LinkTypes";n.WorkItemTypes="WorkItemTypes";n.Nodes="Nodes";n.Fields="Fields";n.AllowedValues="AllowedValues";n.ConstantSets="ConstantSets";n.WorkItemTypeCategories="WorkItemTypeCategories";n.TeamProjects="TeamProjects";n.AdhocQueries="AdhocQueries";n.WorkItemTrackingArea="WIT";n.WitCacheProviderInit="WorkItemTracking.CacheProvider.Initialize"}(p=t.WITCommonConstants||(t.WITCommonConstants={})),function(n){n.DataProviderName="ms.vss-work-web.work-item-feature-state-data-provider"}(w=t.WorkItemFeatureStateConstants||(t.WorkItemFeatureStateConstants={})),function(n){n.ShowOnDeletedWorkItem="showOnDeletedWorkItem";n.Height="height";n.Name="name";n.Inputs="inputs";n.InputId="id";n.InputRequired="isRequired";n.InputMode="inputMode";n.InputValidation="validation";n.InputDataType="dataType";n.InputDescription="description";n.InputType="type";n.InputProperties="properties";n.InputType_WorkItemField="WorkItemField";n.FieldType="Field";n.InputProperties_WorkItemFieldTypes="workItemFieldTypes"}(b=t.WorkItemFormContributionProperties||(t.WorkItemFormContributionProperties={})),function(n){n.ContributionDefaultHeight_Group=150;n.ContributionDefaultHeight_Control=75;n.ContributionTarget_Form="ms.vss-work-web.work-item-form";n.ContributionType_Page="ms.vss-work-web.work-item-form-page";n.ContributionType_Group="ms.vss-work-web.work-item-form-group";n.ContributionType_Control="ms.vss-work-web.work-item-form-control";n.ContributionType_Notifications="ms.vss-work-web.work-item-notifications"}(k=t.WorkItemFormExtensionsConstants||(t.WorkItemFormExtensionsConstants={})),function(n){n.RESOURCELINKTYPES=["Hyperlink","ArtifactLink"];n.WORKITEMLINKUSAGE="workItemLink";n.RESOURCELINKUSAGE="resourceLink";n.ATTACHEDLINKTYPE="AttachedFile";n.HYPERLINKLINKTYPE="Hyperlink";n.ARTIFACTLINKTYPE="ArtifactLink";n.EXTERNALLINKTYPE="ExternalLink";n.ATTRIBUTES_USAGE="usage";n.ATTRIBUTES_EDITABLE="editable";n.ATTRIBUTES_ENABLED="enabled";n.ATTRIBUTES_ACYCLIC="acyclic";n.ATTRIBUTES_DIRECTIONAL="directional";n.ATTRIBUTES_SINGLETARGET="singleTarget";n.ATTRIBUTES_TOPOLOGY="topology";n.ATTRIBUTES_ID="id";n.ATTRIBUTES_AUTHORIZEDDATE="authorizedDate";n.ATTRIBUTES_RESOURCECREATEDDATE="resourceCreatedDate";n.ATTRIBUTES_RESOURCEMODIFIEDDATE="resourceModifiedDate";n.ATTRIBUTES_REVISEDDATE="revisedDate";n.ATTRIBUTES_RESOURCESIZE="resourceSize";n.ATTRIBUTES_COMMENT="comment";n.ATTRIBUTES_NAME="name";n.ATTRIBUTES_ISLOCKED="isLocked"}(d=t.WorkItemLinkConstants||(t.WorkItemLinkConstants={})),function(n){n.DataProviderName="ms.vss-work-web.work-item-settings-data-provider";n.Path="WorkItemTracking/Settings"}(g=t.WorkItemSettingsConstants||(t.WorkItemSettingsConstants={})),function(n){n.CookieFormat="WIT";n.DataProviderExperimentId="ms.vss-work-web.work-item-form-data-providers-experiment"}(nt=t.WorkItemTrackingMetadataCacheConstants||(t.WorkItemTrackingMetadataCacheConstants={})),function(n){n.WorkItemTypeIconNames=["icon_clipboard","icon_crown","icon_trophy","icon_list","icon_book","icon_sticky_note","icon_insect","icon_traffic_cone","icon_chat_bubble","icon_flame","icon_megaphone","icon_code_review","icon_code_response","icon_review","icon_response","icon_test_plan","icon_test_suite","icon_test_case","icon_test_step","icon_test_parameter","icon_star","icon_ribbon","icon_chart","icon_headphone","icon_key","icon_airplane","icon_car","icon_diamond","icon_asterisk","icon_database_storage","icon_government","icon_gavel","icon_parachute","icon_paint_brush","icon_palette","icon_gear","icon_check_box","icon_gift","icon_test_beaker","icon_broken_lightbulb","icon_clipboard_issue","icon_github","icon_pull_request","icon_github_issue"];n.DefaultWorkItemTypeIconName="icon_clipboard"}(tt=t.WorkItemTypeIcons||(t.WorkItemTypeIcons={}))});

define("VSS/Controls/KeyboardShortcuts",["require","exports","react","VSS/VSS","VSS/Resources/VSS.Resources.Platform","VSS/Utils/UI","VSS/LWP","VSS/LWP","VSS/LoaderPlugins/Css!VSS.Controls","VSS/LoaderPlugins/Css!widget"],function(n,t,i,r,u,f,e,o){var c,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.ShortcutManager=t.ShortcutKeys=void 0,function(n){n.ALT="alt";n.CONTROL="ctrl";n.SHIFT="shift"}(c=t.ShortcutKeys||(t.ShortcutKeys={}));s=function(){function n(){}return n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.prototype.getShortcutGroups=function(){var n=o.getLWPService("IVssKeyboardShortcutService");return n?n.getShortcutGroups():[]},n.prototype.getGlobalCombos=function(){var n=o.getLWPService("IVssKeyboardShortcutService");return n?n.getGlobalCombos():[]},n.prototype.registerShortcut=function(n,t,i,r,u){var f;return f=typeof i=="string"?{action:r,allowPropagation:u,description:i}:i,this.registerShortcuts(n,[t],f)},n.prototype.registerShortcuts=function(n,t,i,r,u){var e,f;return e=typeof i=="string"?{action:r,allowPropagation:u,description:i}:i,f=o.getLWPService("IVssKeyboardShortcutService"),f&&f.registerShortcut(n,__assign({combos:t},e)),this},n.prototype.unRegisterShortcut=function(n,t){var i=o.getLWPService("IVssKeyboardShortcutService");i&&i.unRegisterShortcut(n,t)},n.prototype.removeShortcutGroup=function(n){var t=o.getLWPService("IVssKeyboardShortcutService");t&&t.removeShortcutGroup(n)},n.prototype.showShortcutDialog=function(t){var i=this;$(".keyboard-shortcut-dialog").length<=0&&r.using(["VSS/Controls/Dialogs"],function(r){var f=n.getInstance().getShortcutGroups(),e=300*Math.min(f.length,4)+50,o=f.map(function(n){return n.shortcuts.filter(function(n){return n.combosToDisplay.length>0}).length}),s=Math.max.apply(Math,o),h=35*s+150;i._shortcutDialog=r.show(r.ModalDialog,{width:e,height:h,minWidth:300,minHeight:300,resizable:!1,buttons:[],cssClass:"keyboard-shortcut-dialog",title:u.KeyboardShortcutDialogTitle,content:i.renderDialogContent(f),close:function(){t&&t();i._shortcutDialog=null}})})},n.prototype.renderDialogContent=function(n){var t=$("<div />").addClass("keyboard-shortcut-container");return t.append(this.renderShortcutGroups(n)),t.append(this.renderHelpLink()),t},n.prototype.renderShortcutGroups=function(n){for(var u,i=$("<div />").addClass("keyboard-shortcut-groups"),t=0,r=n.filter(function(n){return n.shortcuts.some(function(n){return n.combosToDisplay.length>0})});t<r.length;t++)u=r[t],i.append(this.renderGroup(u));return i},n.prototype.renderShortcut=function(n){var r=f.BrowserCheckUtils.isMacintosh()||f.BrowserCheckUtils.isIOS(),i=$("<span />"),t;return n.combosToDisplay.forEach(function(n,t){n=n.replace(/\bmod\b/gi,r?"\u2318":"ctrl");t>0&&i.append("/ ");n.split(" ").forEach(function(n){$("<kbd />").text(n).appendTo(i)})}),t=$("<tr />"),$("<td class='keys-definition' />").append(i).appendTo(t),$("<td class='keys-description' />").text(n.description).appendTo(t),t},n.prototype.renderGroup=function(n){var u=this,r=$("<div />").addClass("keyboard-shortcut-group"),t=$("<table />"),i=$("<tr />");return i.append("<th />"),$("<th />").text(n.name).attr("scope","col").appendTo(i),i.appendTo(t),n.shortcuts.forEach(function(n){n.combosToDisplay.length>0&&u.renderShortcut(n).appendTo(t)}),r.append(t),r},n.prototype.renderHelpLink=function(){var n=$("<div />").addClass("keyboard-shortcut-helplink");return $("<a />").attr("href","https://go.microsoft.com/fwlink/?LinkID=708466").attr("target","_blank").text(u.KeyboardShortcutHelpLinkText).appendTo(n),n},n.AREA="KeyboardShortcuts",n.FEATURE="ShortcutInvoked",n}();t.ShortcutManager=s;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return s.getInstance().showShortcutDialog(this.props.onClose),null},t}(i.Component);e.registerLWPComponent("shortcutDialog",h)});

define("TfsCommon/Scripts/Resources/TFS.Resources.TfsCommon",["require","exports"],function(require,exports){var e=exports;e.CancelButtonText="Cancel";e.ManageFeaturesScopeCustom="for this {0} [{1}]";e.ManageFeaturesOnLabel="On";e.ToggleFeatureOnAriaLabelFormat="{0}: on. Press enter to turn the feature off.";e.UnpinnedHubsMenuTitle="More ...";e.NewTeamProjectText="New project";e.FeatureBannerNameFormat="{0}:";e.MobileFeedbackSendButtonLabel="Send";e.GoToHomePage="Go to home page";e.NoFeatureScopeWritePermission="You don\u0027t have permission to manage these features.";e.FeatureScope="Feature scope";e.ProjectSelectorLabel="Project Selector";e.ManageFeaturesScopeCollection="for this collection [{0}]";e.NavigationContextMenuDefaultLabelTitle="Select a project";e.MobileNavigation_ButtonOpenLabel="Open navigation";e.ManageFeaturesSubHeadingOnPrem="The following features are optional and can be turned on or off.";e.TurnOnFeatureDialogTitleFormat="Turn on {0}?";e.CloseButtonLabel="Close";e.NavigationContextMenuDefaultLabel="Projects";e.KeyboardShortcutDescription_ShowShortcuts="Show shortcuts";e.SettingsMenuTitle="Settings";e.MobileFeedbackSent="Feedback sent! Thanks for improving Azure DevOps Services";e.NewTeamText="New team";e.FeatureEnabledCalloutBodyHtml="You can turn off this feature by going to \u003cb\u003ePreview features\u003c/b\u003e under your profile menu.";e.ManageFeaturesHeaderOnPrem="Manage features";e.NavigationContextMenuTeamLabelTitleFormat="Team \u0027{0}\u0027 in Project \u0027{1}\u0027";e.KeyboardShortcutDescription_GoHome="Go home";e.KeyboardShortcutDescription_GoCode="Go to code";e.KeyboardShortcutDescription_GoWork="Go to work";e.KeyboardShortcutDescription_GoWiki="Go to wiki";e.KeyboardShortcutDescription_GoTest="Go to test";e.MobileFeedbackNegativeSentiment="Frown";e.ToggleFeatureForCollectionWarning="This will affect all users in your collection.";e.MobileNavigation_Feedback="Send Feedback";e.ToggleFeatureForTeamWarning="This will affect all users in your team.";e.MobileFeedbackSending="Sending...";e.ManageFeaturesScopeTeam="for this team [{0}]";e.MobileFeedbackPositivePrompt="What did you like?";e.KeyboardShortcutDescription_Search="Search";e.UnpinMenuItemText="Unpin";e.ManageFeaturesSubHeading="The following preview features are available for your evaluation. Help us make them better!";e.ManageFeaturesScopeMe="for me [{0}]";e.TurnOffFeatureButtonText="Turn off";e.MoreHubsMenuTitle="More ...";e.TurnOnFeatureButtonText="Turn on";e.TurnOffFeatureDialogLabel="How can we make this feature better?";e.ManageFeaturesScopeAccount="for this organization [{0}]";e.KeyboardShortcutDescription_GoSettings="Go to settings";e.FeatureLearnMoreAriaLabel="Learn more about feature: {0}";e.FeatureBannerDismissButton="Not now";e.MobileFeedbackCommentAriaLabel="Comment";e.NavigationContextMenuTeamLabelFormat="{0} / {1}";e.AccountSettings="Organization settings";e.NoFeaturesAvailable="No features are available to manage.";e.CollectionsLabel="Collections";e.CollectionSelectorLabel="Collection Selector";e.ProjectSelectorMoreItemText="More";e.MobileFeedbackPositiveSentiment="Smile";e.UnpinnedItemsSeparatorText="Unpinned items";e.MobileNavigation_Fullsite="View full site";e.KeyboardShortcutDescription_ProjectsAndTeams="Projects and teams";e.NavigationContextMenuProjectLabelTitleFormat="Project \u0027{0}\u0027";e.KeyboardShortcutDescription_GoBuild="Go to build";e.LearnMore="Learn more";e.RecentProjectsTeamsLabel="Recent projects/teams";e.KeyboardShortcutDescription_FocusPrevious="Focus previous section";e.PrivacyStatement="Your privacy is important to us.";e.MobileNavigation_Signout="Sign out";e.PinnedProjectText="{0} Home";e.FeatureBannerTryItButton="Try it!";e.KeyboardShortcutGroup_Global="Global";e.MobileNavigation_GoProjectHomeLabel="Go home";e.KeyboardShortcutDescription_FocusNext="Focus next section";e.ManageFeaturesHeader="Preview features";e.MobileFeedbackNegativePrompt="What can we improve?";e.ToggleFeatureForAccountWarning="This will affect all users in your organization.";e.BrowseAllTeams="Browse...";e.MobileNavigation_GoHomeLabel="Go home";e.ManageFeaturesOffLabel="Off";e.PinMenuItemText="Pin";e.ManageFeaturesScopeProject="for this project [{0}]";e.DevModeFeaturesHeader="Experimental [Debug build only]";e.MoreMenuItemTitle="More items";e.FeatureDismissedCalloutBodyHtml="You can turn on this and other features in \u003cb\u003ePreview features\u003c/b\u003e under your profile menu.";e.DevModeFeaturesHeaderTooltip="This section lists all features and does not appear in retail builds.";e.NavigationContextMenuHostedBackTo="Organization home";e.Loading="Loading...";e.MobileFeedbackDialogTitle="Send Feedback";e.NavigationContextMenuOnPremBackTo="Server home";e.FeatureDismissedCalloutHeader="No problem. If you change your mind...";e.MoreItemsSeparatorText="More items";e.FeatureEnabledCalloutHeader="{0} is now on";e.TurnOffFeatureDialogTitleFormat="Turn off {0}?";e.ToggleFeatureOffAriaLabelFormat="{0}: off. Press enter to turn the feature on.";e.ProjectWithCollectionLabel="{0} ({1})";e.MobileBannerMessage="Switch to mobile version";e.MobileFeedbackCancelButtonLabel="Cancel";e.ToggleFeatureForProjectWarning="This will affect all users in your project.";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("TfsCommon/Scripts/KeyboardShortcuts",["require","exports","VSS/Context","VSS/Navigation/HubsService","VSS/Controls/KeyboardShortcuts","VSS/Locations","VSS/Controls/Menus","TfsCommon/Scripts/Resources/TFS.Resources.TfsCommon","VSS/Service","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/UI","VSS/VSS","VSS/Events/Services","VSS/Events/Page","VSS/User/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var b,k,d,w,g;Object.defineProperty(t,"__esModule",{value:!0});t.ShortcutVisibility=t.GlobalShortcutGroup=t.ShortcutGroupDefinition=void 0;b=null;k=function(){function n(n,t){this.groupName=n;this.preserveLastGroupStateForSameGroupName=t;this._lastShortcutState={};this.shortcutManager=u.ShortcutManager.getInstance();t&&this._preserveLastShortcutGroupState();this._isMemberUser=this.isMemberUser()}return n.prototype.navigateToUrl=function(n){window.location.href=n},n.prototype.navigateToAction=function(n,t){var i=f.urlHelper.getMvcUrl({action:n,controller:t});this.navigateToUrl(i)},n.prototype.navigateToHub=function(){for(var f,h,c,e,o,l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];var t=s.getLocalService(r.HubsService),i=null,u=null;for(f=0,h=l;f<h.length;f++){if(c=h[f],e=t.getHubGroupById(c),e&&e.uri){i=e;break}if(o=t.getHubById(c),o&&o.uri){u=o;break}}i?t.navigateToHub(i.id,i.uri):u&&t.navigateToHub(u.id,u.uri)},n.prototype.registerPageNavigationShortcut=function(n,t,i){((i&w.Member)!==w.Member||this._isMemberUser)&&(t.isPageNavigationShortcut=!0,this.shortcutManager.registerShortcut(this.groupName,n,t))},n.prototype.registerShortcut=function(n,t,i,r){((r&w.Member)!==w.Member||this._isMemberUser)&&(i&&this._preserveLastShortcutState([n]),this.shortcutManager.registerShortcut(this.groupName,n,t))},n.prototype.registerShortcuts=function(n,t,i,r){((r&w.Member)!==w.Member||this._isMemberUser)&&(i&&this._preserveLastShortcutState(n),this.shortcutManager.registerShortcuts(this.groupName,n,t))},n.prototype.unRegisterShortcut=function(n){this.shortcutManager.unRegisterShortcut(this.groupName,n)},n.prototype.removeShortcutGroup=function(){this.shortcutManager.removeShortcutGroup(this.groupName);this._restoreLastShortcutGroupState();this._restoreLastShortcutState()},n.prototype.isMemberUser=function(){return p.getService().hasClaim(p.UserClaims.Member)},n.prototype._preserveLastShortcutGroupState=function(){var t=this,i=this.shortcutManager.getShortcutGroups(),n=i.filter(function(n){return h.equals(n.name,t.groupName)});n.length>0&&(this._lastShortcutGroupState=__assign({},n[0]),this.shortcutManager.removeShortcutGroup(this.groupName))},n.prototype._preserveLastShortcutState=function(n){var t=this,r=this.shortcutManager.getShortcutGroups(),i;r.forEach(function(r){if(i)return!1;r.shortcuts.forEach(function(u){if(c.arrayEquals(n,u.combos,function(n,t){return h.equals(n,t,!0)})){var f=n.join(",");return t._lastShortcutState[f]={name:r.name,shortcuts:[u]},t.shortcutManager.unRegisterShortcut(r.name,f),i=!0,!1}})})},n.prototype._restoreLastShortcutGroupState=function(){var n=this;this.preserveLastGroupStateForSameGroupName&&this._lastShortcutGroupState&&h.equals(this._lastShortcutGroupState.name,this.groupName)&&(this._lastShortcutGroupState.shortcuts.forEach(function(t){n.shortcutManager.registerShortcuts(n._lastShortcutGroupState.name,t.combos,{description:t.description,action:t.action,element:t.element,hideFromHelpDialog:t.hideFromHelpDialog,allowPropagation:t.allowPropagation,globalCombos:t.globalCombos,isPageNavigationShortcut:t.isPageNavigationShortcut})}),this._lastShortcutGroupState=null)},n.prototype._restoreLastShortcutState=function(){var i,t,n;if(this._lastShortcutState)for(i in this._lastShortcutState)t=this._lastShortcutState[i],t&&(n=t.shortcuts[0],this.shortcutManager.registerShortcuts(t.name,n.combos,{description:n.description,action:n.action,element:n.element,hideFromHelpDialog:n.hideFromHelpDialog,allowPropagation:n.allowPropagation,globalCombos:n.globalCombos,isPageNavigationShortcut:n.isPageNavigationShortcut}),delete this._lastShortcutState[i])},n}();t.ShortcutGroupDefinition=k;d=function(n){function t(){var t=n.call(this,o.KeyboardShortcutGroup_Global)||this;return t.registerShortcut("f n",{description:o.KeyboardShortcutDescription_FocusNext,action:function(){return l.sectionManager.nextSection()}}),t.registerShortcut("f p",{description:o.KeyboardShortcutDescription_FocusPrevious,action:function(){return l.sectionManager.previousSection()}}),t}return __extends(t,n),t}(k);t.GlobalShortcutGroup=d,function(n){n[n.All=0]="All";n[n.Member=1]="Member"}(w=t.ShortcutVisibility||(t.ShortcutVisibility={}));g=function(){i.getPageContext().webContext.project&&new d};g();v.getService().attachEvent(r.HubEventNames.ProcessXHRNavigate,function(){g()});e.menuManager.attachExecuteCommand(function(n,t){function i(n){var i=$(".icon",n),t=$('<div class="nav-feedback-icon-wrappper"><\/div>');return t.appendTo(n),i.appendTo(t),t}switch(t.get_commandName()){case"send-a-smile":return a.using(["Engagement/SendASmile/UI"],function(n){if(!b){var r=t.get_commandSource().getElement();b=new n.SendASmile(r,{icon:i(r),textEntryType:n.FeedbackTextEntryType.Modal});b.show();b.popUp()}}),!1;case"keyboard-shortcuts":return u.ShortcutManager.getInstance().showShortcutDialog(),!1}});y.getService().subscribe(y.CommonPageEvents.InitialScriptsLoaded,function(){l.sectionManager.identifySections()})});

define("WorkItemTracking/Scripts/Form/Events",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.FormEvents=void 0;var i="VSS.WorkItemTracking.Form.Page.Activated",r=function(){function n(){}return n.GroupExpandStateChangedEvent=function(){return n.GroupExpandedEventKey},n.LayoutResizedEvent=function(t){return"".concat(n.LayoutResizedEventKey,".#").concat(t)},n.PageActivated=function(n,t){return"".concat(i,".#").concat(n,".#").concat(t)},n.ControlResizedEvent=function(){return n.ControlResizedEventKey},n.ControlVisibilityChangedEvent=function(){return n.ControlVisibilityChangedKey},n.GroupExpandedEventKey="VSS.WorkItemTracking.Form.Group.ExpandStateChanged",n.LayoutResizedEventKey="VSS.WorkItemTracking.Layout.Resized",n.ControlResizedEventKey="VSS.WorkItemTracking.Control.Resized",n.ControlVisibilityChangedKey="VSS.WorkItemTracking.Form.Control.VisibilityChanged",n}();t.FormEvents=r});

define("WorkItemTracking/Scripts/Controls/Links/Interfaces",["require","exports"],function(n,t){var r,u,f,e,i;Object.defineProperty(t,"__esModule",{value:!0});t.WebLayoutLinksControlXmlValues=t.WebLayoutLinksControlLinkFilterKind=t.WebLayoutLinksControlColumnTruncation=t.WebLayoutLinksControlZeroDataExperience=t.WebLayoutLinksControlViewMode=void 0,function(n){n[n.Dynamic=0]="Dynamic";n[n.List=1]="List";n[n.Grid=2]="Grid"}(r=t.WebLayoutLinksControlViewMode||(t.WebLayoutLinksControlViewMode={})),function(n){n[n.Default=0]="Default";n[n.Development=1]="Development";n[n.CallToAction=2]="CallToAction"}(u=t.WebLayoutLinksControlZeroDataExperience||(t.WebLayoutLinksControlZeroDataExperience={})),function(n){n[n.Auto=0]="Auto";n[n.Off=1]="Off"}(f=t.WebLayoutLinksControlColumnTruncation||(t.WebLayoutLinksControlColumnTruncation={})),function(n){n[n.External=0]="External";n[n.WorkItem=1]="WorkItem"}(e=t.WebLayoutLinksControlLinkFilterKind||(t.WebLayoutLinksControlLinkFilterKind={}));i=function(){function n(){}return n.IncludeAllLinks="System.Links.IncludeAll",n.ForwardLinkSuffix="-Forward",n.ReverseLinkSuffix="-Reverse",n}();t.WebLayoutLinksControlXmlValues=i});

define("WorkItemTracking/Scripts/Controls/Links/WebLayoutLinksControlOptionsReader",["require","exports","WorkItemTracking/Scripts/Controls/Links/Interfaces","VSS/Utils/String"],function(n,t,i,r){var o;Object.defineProperty(t,"__esModule",{value:!0});t.WebLayoutLinksControlOptionsReader=t.WebLayoutLinksControlParsedDefaultValues=void 0;var f=function(){function n(){}return n.ViewMode="ViewMode",n.ZeroDataExperience="ZeroDataExperience",n.ShowCallToAction="ShowCallToAction",n.FilterType="Type",n.WorkItemType="WorkItemType",n.ColumnName="Name",n.ColumnTruncation="Truncation",n.WorkItemTypeFiltersScope="WorkItemTypeFiltersScope",n.GroupLinks="GroupLinks",n.PageSize="PageSize",n}(),e=function(){function n(){}return n.ListViewOptions="ListViewOptions",n.Columns="Columns",n.LinkFilters="LinkFilters",n.WorkItemLinkFilter="WorkItemLinkFilter",n.ExternalLinkFilter="ExternalLinkFilter",n.WorkItemTypeFilters="WorkItemTypeFilters",n.WorkItemTypeFilter="Filter",n.Column="Column",n}(),u=function(){function n(){}return n.viewMode=i.WebLayoutLinksControlViewMode.Dynamic,n.zeroDataExperience=i.WebLayoutLinksControlZeroDataExperience.Default,n.groupLinks=!0,n.pageSize=6,n.showCallToActions=!1,n.columnTruncation=i.WebLayoutLinksControlColumnTruncation.Auto,n.ColumnNames=null,n.columns={columnNames:n.ColumnNames,truncation:n.columnTruncation},n.LinkFilters=null,n.ListViewOptions={groupLinks:n.groupLinks,pageSize:n.pageSize},n.WorkItemTypeFilters=null,n.ScopeWorkItemTypeFiltersToProject=!1,n}();t.WebLayoutLinksControlParsedDefaultValues=u;o=function(){function n(){}return n.parseLinksControlOptionsXml=function(t){var c=t,h=c.childNodes,o=n.getDefaultLinksControlOptions(),s;return h&&h.length&&$.each(h,function(t,r){switch(r.nodeName){case e.ListViewOptions:o.listViewOptions={groupLinks:n._convertStringToBoolean(r.getAttribute(f.GroupLinks),u.groupLinks),pageSize:Number(r.getAttribute(f.PageSize))||u.pageSize};break;case e.Columns:var s=r.getAttribute(f.ColumnTruncation);o.columns={truncation:i.WebLayoutLinksControlColumnTruncation[s]||u.columnTruncation,columnNames:n._getColumnNames(r)};break;case e.LinkFilters:o.linkFilters=n._parseLinkFilters(r);break;case e.WorkItemTypeFilters:o.workItemTypeFilters=n._parseWorkItemTypeFilters(r,o.scopeWorkItemTypesToProject)}}),s=function(n){return c.getAttribute(n)},o.viewMode=i.WebLayoutLinksControlViewMode[s(f.ViewMode)]||u.viewMode,o.zeroDataExperience=n._parseZeroDataExperience(s(f.ZeroDataExperience)),o.showCallToAction=this._convertStringToBoolean(s(f.ShowCallToAction),u.showCallToActions),o.scopeWorkItemTypesToProject=r.ignoreCaseComparer(s(f.WorkItemTypeFiltersScope),"project")===0||u.ScopeWorkItemTypeFiltersToProject,o},n._parseZeroDataExperience=function(n){var t=i.WebLayoutLinksControlZeroDataExperience[n];return t!=null?t:u.zeroDataExperience},n.getDefaultLinksControlOptions=function(){return{linkFilters:u.LinkFilters,columns:u.columns,workItemTypeFilters:u.WorkItemTypeFilters,listViewOptions:u.ListViewOptions,scopeWorkItemTypesToProject:u.ScopeWorkItemTypeFiltersToProject,showCallToAction:u.showCallToActions,viewMode:u.viewMode,zeroDataExperience:u.zeroDataExperience}},n._parseLinkFilters=function(n){var t=null;return $.each(n.childNodes,function(n,r){var o,u;(r.nodeName===e.ExternalLinkFilter||r.nodeName===e.WorkItemLinkFilter)&&(o=(r.getAttribute(f.FilterType)||"").trim(),t||(t=[]),u={linkFilterType:o},t.push(u),u.linkFilterKind=r.nodeName===e.ExternalLinkFilter?i.WebLayoutLinksControlLinkFilterKind.External:i.WebLayoutLinksControlLinkFilterKind.WorkItem)}),t},n._parseWorkItemTypeFilters=function(n){var t=[];return n.childNodes&&n.childNodes.length&&$.each(n.childNodes,function(n,i){i.nodeName===e.WorkItemTypeFilter&&t.push((this.getAttribute(f.WorkItemType)||"").trim())}),t},n._getColumnNames=function(n){var t=null;return n.childNodes&&n.childNodes.length&&$.each(n.childNodes,function(n,i){i.nodeName===e.Column&&(t||(t=[]),t.push((i.getAttribute(f.ColumnName)||"").trim()))}),t},n._convertStringToBoolean=function(n,t){var i=t;return r.localeIgnoreCaseComparer(n,"true")===0?i=!0:r.localeIgnoreCaseComparer(n,"false")===0&&(i=!1),i},n}();t.WebLayoutLinksControlOptionsReader=o});

define("WorkItemTracking/Scripts/Utils/FormRendererHelpers",["require","exports","VSS/Utils/String","VSS/Utils/Array","WorkItemTracking/Scripts/Controls/Links/WebLayoutLinksControlOptionsReader","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f){return function(){function n(){}return n.readControlAttributes=function(n){var r=n.attributes,t={};return r&&r.length&&$.each(r,function(){if(this.name&&typeof this.name=="string")switch(this.name.toLowerCase()){case"type":t.controlType=this.nodeValue;break;case"name":t.instanceName=this.nodeValue;break;case"fieldname":t.fieldName=this.nodeValue;break;case"label":t.label=this.nodeValue;break;case"labelposition":t.labelPosition=this.nodeValue;break;case"dock":t.dock=this.nodeValue;break;case"padding":t.padding=this.nodeValue;break;case"margin":t.margin=this.nodeValue;break;case"readonly":t.readOnly=i.ignoreCaseComparer(this.nodeValue,"true")?this.nodeValue:"True";break;case"minimumsize":t.minimumSize=this.nodeValue;break;case"numberformat":t.numberFormat=this.nodeValue;break;case"format":t.format=this.nodeValue;break;case"customformat":t.customFormat=this.nodeValue;break;case"maxlength":t.maxLength=this.nodeValue;break;case"labelfontsize":t.labelFontSize=this.nodeValue;break;case"controlfontsize":t.controlFontSize=this.nodeValue;break;case"emptytext":t.emptyText=this.nodeValue;break;case"refname":t.refName=this.nodeValue;break;case"outputlayout":t.outputLayout=this.nodeValue;break;case"limit":t.limit=this.nodeValue;break;case"height":this.nodeValue&&(t.height=this.nodeValue);break;case"commentheight":t.commentHeight=this.nodeValue;break;case"contributionid":t.contributionId=this.nodeValue}}),t},n.isReadOnlyFieldIconHidden=function(n){var t=[f.WellKnownControlNames.WebpageControl,f.WellKnownControlNames.LabelControl,f.WellKnownControlNames.HtmlControl,f.WellKnownControlNames.PlainTextControl,f.WellKnownControlNames.LinksControl,f.WellKnownControlNames.DevelopmentControl,f.WellKnownControlNames.WorkItemDiscussionControl];return r.contains(t,n,i.ignoreCaseComparer)},n.readControlOptions=function(t,i){var r=t.childNodes;r&&r.length&&$.each(r,function(){var f,t,e,r;switch(this.nodeName){case"LinksControlOptions":if(n._isLegacyLinksControlOptions(this))n._readLegacyLinksControlOptions(this,i);else for(f=u.WebLayoutLinksControlOptionsReader.parseLinksControlOptionsXml(this),t=0,e=Object.keys(f);t<e.length;t++)r=e[t],typeof i[r]=="undefined"&&(i[r]=f[r]);break;case"WebpageControlOptions":n._readWebPageControlOptions(this,i);break;case"CustomControlOptions":n._readCustomControlOptions(this,i);break;case"Link":i.labelData=[];i.labelData.push({link:n._readLinkOptions(this,i)});break;case"LabelText":n._readLabelTextOptions(this,i)}})},n._isLegacyLinksControlOptions=function(n){var t=!1;return $.each(n.childNodes,function(){if(this.nodeName==="LinkColumns")return t=!0,!0}),t},n._readLegacyLinksControlOptions=function(n,t){var f=n.childNodes,i,r,u,e;f&&f.length&&$.each(f,function(){switch(this.nodeName){case"WorkItemLinkFilters":i={filterType:this.getAttribute("FilterType")};this.childNodes&&this.childNodes.length&&(i.filters=[],$.each(this.childNodes,function(){this.nodeName==="Filter"&&i.filters.push({linkType:this.getAttribute("LinkType").trim(),filterOn:this.getAttribute("FilterOn")})}));t.workItemLinkFilters=i;break;case"ExternalLinkFilters":r={filterType:this.getAttribute("FilterType")};this.childNodes&&this.childNodes.length&&(r.filters=[],$.each(this.childNodes,function(){this.nodeName==="Filter"&&r.filters.push({linkType:this.getAttribute("LinkType").trim()})}));t.externalLinkFilters=r;break;case"WorkItemTypeFilters":u={filterType:this.getAttribute("FilterType"),scope:this.getAttribute("Scope")};this.childNodes&&this.childNodes.length&&(u.filters=[],$.each(this.childNodes,function(){this.nodeName==="Filter"&&u.filters.push({workItemType:this.getAttribute("WorkItemType").trim()})}));t.workItemTypeFilters=u;break;case"LinkColumns":e=[];this.childNodes&&this.childNodes.length&&$.each(this.childNodes,function(){this.nodeName==="LinkColumn"&&e.push({linkAttribute:this.getAttribute("LinkAttribute"),refName:this.getAttribute("RefName").trim()})});t.linkColumns=e}})},n._readWebPageControlOptions=function(t,i){var r=t.childNodes;i.allowScript=t.getAttribute("AllowScript")==="true";i.reloadOnParamChange=t.getAttribute("ReloadOnParamChange")!=="false";r&&r.length&&$.each(r,function(){switch(this.nodeName){case"Link":i.link=n._readLinkOptions(this,i);break;case"Content":i.content=this.text||this.textContent}})},n._readLinkOptions=function(n){var t,i;return i={urlRoot:n.getAttribute("UrlRoot"),urlPath:n.getAttribute("UrlPath")},n.childNodes&&n.childNodes.length&&(t=[],$.each(n.childNodes,function(){var n;this.nodeName==="Param"&&(n=parseInt(this.getAttribute("Index"),10),isNaN(n)||(t[n]={value:this.getAttribute("Value"),original:this.getAttribute("Type")==="Original"}))}),i.params=t),i},n._readTextNode=function(t,i){var r;return r={},t.childNodes&&t.childNodes.length&&$.each(t.childNodes,function(){this.nodeName==="Link"?r.link=n._readLinkOptions(this,i):r.content=this.nodeValue}),r},n._readLabelTextOptions=function(t,i){var r=[];t.childNodes&&t.childNodes.length&&$.each(t.childNodes,function(){r.push(n._readTextNode(this,i))});i.labelData=r},n._readCustomControlOptions=function(n,t){t.customControlOptions=n.cloneNode(!0)},n}()});

define("WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking",["require","exports"],function(require,exports){var e=exports;e.SucessfullySavedNWisButFailedToSave="Successfully saved {0} work item(s), but failed to save {1} work item(s).";e.StateTransitionGraphViewAllChangesTitle="View all state transitions";e.MoveWorkItemDiscussionLabel="Add a reason for moving the work item";e.InvalidWorkItemUrl="WorkItem url not valid: {0}";e.CustomRollupTotalOptionSubtitle="A total number of the linked descendants will be added at the parent level. Choose between sum of any numeric field or a simple count of items.";e.LinksControlTestResultText="Test Result";e.CommandBarTitle_CopyWorkItems="(Ctrl+C)";e.DirectLinksFlattenedMessage="Your direct links query results will be flattened to flat list format due to possible duplicate work items.";e.UnableToFindQueryDefinition="Unable to find query definition: {0}.";e.DeleteSingleAttachmentDialogConfirmationText="Are you sure you want to delete {0}?";e.TextFilterResultCountMessage="Filtering {0} out of {1} items. {2}";e.FormGroupCollapseAriaLabel="{0} section.";e.MultiFieldRemoveFieldTooltip="Remove this field";e.CreateCopyOfWorkItemProject="Project";e.ConfirmWorkItemRefresh="You have unsaved changes to this work item which will be lost. Are you sure you want to refresh this work item?";e.WorkItemLogControlLinksHeader="Links";e.LinkTopologyTreeReverseImageAltText="This is a directional link that creates a one-to-many relationship. Once this link is created, no more links of this type can be added to the linked items.";e.DefaultingCurrentIterationTeam="Use of the \u003ca href=\"https://go.microsoft.com/fwlink/?linkid=865408\"\u003e@CurrentIteration macro\u003c/a\u003e requires explicit specification of a team. You may want to update your query and save it with a team of your choice.";e.CustomFollowDialogAssignedToCheckbox="Assigned To Changed";e.WorkItemMethodSelectionText="Select one of the following methods to find available work items:";e.FilterValidWorkItems="Valid work items";e.ReactionTypeEmojiConfoundedFace="Upset";e.WorkItemDeleteError="Failed to delete work item: {0}. Error Details: {1}";e.ExportToCSVError="Not all work item results were exported.";e.ImporCsvNoTerminatingDoubleQuotesError="Non-terminating double-quotes at line {0}, column {1}.";e.WorkItemTemplateDoesNotExist="VS403203: No template was applied because the indicated template does not exist.";e.LinkTopologyDirectedNetworkImageAltText="This is a directional link that can be created between any set of work items.";e.AttachmentsOversizedDialogTitle="Attachment(s) over size limit";e.WorkItemDetailsRoleTitle="Work item details";e.LinkWorkItemTypeNotValid="Could not find the specified work item type.";e.EmptyTeamFavoriteGroupTextLink="Browse shared queries";e.BeginGetWorkItemArgumentNull="Cannot load work items. Array null or undefined.";e.HistoryControlSingleLinkAdornmentText="{0} was added";e.WorkItemDiscussionAdornmentOverLimitNumberDisplay="{0}+ comments";e.WorkItemLogControlAttachmentAdded="added an attachment";e.FieldCannotBeEdited="{0}, this field cannot be edited";e.SaveHotkeyWithControl="(Ctrl+S)";e.Backlog="Backlog";e.CreateCopyCopiedWithAllAttachmentsFrom="Copied with all attachments from {0}";e.SaveHotkeyWithCommand="(⌘+S)";e.LinkTopologyDependencyImageAltText="This is a directional link that can be created between any set of work items, but can not create closed loops.";e.WorkItemArtifactLastUpdatedByLabel="Updated by {0} on {1}";e.HistoryControlAgoLastThirtyDays="Last thirty days";e.MoveWorkItemPermissionError="You have insufficient permissions to move a work item to another project.";e.ChangeTypeDiscussionLabel="Add a reason for changing the type";e.DateTimePicker_AMPMDownAriaLabel="Switch AM PM";e.WorkItemLogControlDeletedComment="deleted a comment";e.Edited="Edited";e.HistoryControlAssignmentAdornmentText="Assigned to {0}";e.FieldStatusInvalidUnknownError="There is an unknown problem with field \u0027{0}\u0027.";e.ColumnOptionsAllWorkItemTypes="All Work Item Types";e.AttachmentUploadSuccessNotification="Attachment(s) uploaded successfully.";e.WorkItemPaneFilter_OffAriaLabel="Work item panel off";e.BulkEditTagsAdd="Add";e.AddReaction="Add {0} reaction";e.WorkItemTemplates_CaptureTemplateMenuItem_Text="Capture...";e.FieldAlreadyAdded="This field has already been added";e.MVCActionToDpIdMappingNotFoundError="There is no dataprovider id mapped for the passed action {0}";e.ChildTestSuites=" Child Test Suites";e.RemoveColumn="Remove this column";e.FilterNoTypes="No types available";e.HistoryControlAssignmentDefaultAdornmentText="Assigned to edited";e.Picker_FilterWatermark="Search";e.WorkItemArtifactLinkGitHubCannotRender="GitHub link not found or no permission to access it.";e.NewFeatureViewBoardLinkTitle="View your board";e.DeleteWorkItemDialogConfirmationTextWithCleanUpScheduled="You can restore deleted work items from the Recycle Bin until they are permanently deleted based on auto-delete settings (enabled). {0}.";e.DiscardChanges="Leave";e.AttachmentAsLinkType="Attachment";e.FailedToSaveNWorkItems="Failed to save the following {0} work item(s).";e.AttachmentUploadFailDialogTitle="Attachment(s) failed to upload";e.TestWorkItemDeleteButtonText="Permanently delete";e.UnsavedWorkItemsQuery="Unsaved work items";e.DestroyWorkItemDialogConfirmationText="Are you sure you want to permanently delete the selected work item(s)? Permanently deleted work item(s) cannot be restored.";e.WorkItemTemplateDialog_Description="Description";e.DownloadAttachments="Download attachments";e.CustomFollowDialogIterationPathCheckbox="Iteration Changed";e.SavingWorkItems="Saving work items";e.FavoriteQueryFailed="Unable to favorite query \"{0}\"";e.PreviewAttachment="Preview attachment";e.Searching="Searching...";e.Updated="updated";e.KeyboardShortcutDescription_ReturnToQuery="Return to query";e.Wiql_MacroMe="Me";e.RemoteLinkDialogAddressTitleWatermark="Enter remote work item url";e.LinksControlTestText="Test";e.QueryReferencesFieldThatDoesNotExist="TF51005: The query references a field that does not exist.";e.RenameQuery="Rename";e.WorkItemEditorWindowTitle="{0}: {1}";e.BulkEditTagsRemove="Remove";e.FilterByTypes="Types";e.SendWorkItemsInEmailDialogTitle="Send work items in email";e.KeyboardShortcutDescription_Save="Save changes";e.AggregationFieldLabel="Select a field.";e.LinkValidationFailed="Link validation failed";e.Folder="Folder";e.DirectLinksQuery="Direct Links Query";e.LinkToolTypeRemoteWork="Remote Work";e.TriagePreviousWorkItemToolTip="Previous work item in the \"{0}\" query (Alt + P)";e.TagCountAriaLabel="{0} count: {1}";e.LinksControlChangesetText="Changeset";e.TagAriaLabel="Item {0} of {1}. Text {2}.";e.LinkToExistingDialogLinkTypeTitle="Link type";e.QueryHierarchyItemAriaLabel="{0}, {1}, Level {2}, ";e.QueryEditorTargetFilterGroupingText="Filters for linked work items";e.SaveResultsToolTip="Save results";e.NewQuery="New query";e.WorkItemTemplates_ContextMenuItem_Text="Templates";e.EmptyTeamFavoriteGroupTextSuffix="to add the ones important for your team.";e.Delete="Delete";e.WorkItemTemplateDialog_RemoveUnmodified="Remove unmodified fields";e.AddAttachmentFileNotFoundError="TF20004: Could not find the specified file \"{0}\". Check the file name and try again.";e.MobileDiscussionUnsaved="Remember to send your comment";e.LinksControlTagsText="Tag";e.Backlog_DisplayName="{0} backlog";e.ConfirmWorkItemDiscardNew="You have unsaved changes to this work item which will be lost. Are you sure you want to discard this work item?";e.HyperLinkText="Hyperlink";e.QueryEditorQueryTypeTree="Tree of work items";e.QueryEditorQueryTypeLink="Work items and direct links";e.LinksControlGitHubIssueText="GitHub Issue";e.BulkEdit_ApplyTemplateButton="Apply";e.WorkItemTemplateDialog_CopyLinkDisabledMessage="Save the template in order to enable Copy link.";e.AssignedToPrefix="Assigned to";e.WorkItemUnsavedDiscussionAriaLabel="Discussion: Remember to send your comment. Click here to view discussion.";e.QueryResultsGridLinkQueryStatusTextFormat="{0} work items ({1} top level, {2} linked and {3} selected)";e.NewLinkedWorkItemTitle="Title";e.AttachmentsNotSupported="Invalid link type, Attachments not supported";e.WorkItemFinderWorkItemTypes="Work Item Types";e.WorkItemLogControlOtherLinkAdded="added other link";e.AddARollupColumn="Add a rollup column";e.InvalidTestWorkItem="Invalid test work item type";e.ImporCsvEmptyDatasetError="Empty dataset found.";e.CustomFollowWorkItem="Notification Settings";e.AddTagText="Add tag";e.VisualizeYourWorkText="Kanban boards provide an interactive, customizable visualization of your backlog to help monitor the flow of your work items from idea to completion.";e.Cancel="Cancel";e.KeyboardShortcutGroup_WorkItemForm="Work Item Form";e.GitHubInputNotValid="The URL is not a valid {0} URL.";e.WorkItems="Work items";e.WorkItemChartsTreeQueryDisallowedMessage="You can create a chart for a flat list query, but not for a tree query or a direct links query.";e.ReasonField="Reason Field";e.KeyboardShortcutDescription_Previous_Item="Previous item";e.AddAttachment="Add attachment";e.ReasonLabel="Reason";e.QueryEditor="Query Editor";e.NameLabel="Name";e.GitHubZeroDataCommitLinkTypeText="commit";e.LinkText="Link";e.QueryEditorQueryModeLabel="Filter options";e.ImportFromCsv="Import from CSV";e.HistoryControlOldValueText="Old Value";e.MoveWorkItemDestinationLabel="Destination project";e.SearchResults="Search results";e.AggregationModeLabel="Select an aggregation mode.";e.DeleteWorkItemDialogTitle="Delete work item(s)";e.QueryFolder="Query folder";e.EmptyTeamFavoriteGroupTextPrefix="No team favorites yet!";e.FieldStatusInvalidValueInOtherFieldError="The field \u0027{0}\u0027 is unsupported because of a value in another field.";e.ColumnOptionsAllProjects="All Projects";e.WorkItemIDListString="Select items to add to the work item list";e.Import="Import";e.ConfirmDiscardCommentDraft="Are you sure you want to discard this draft?";e.QueryManageDialog_Validator_FolderSelfReferential="Folder cannot refer to self as a parent or ancestor.";e.ErrorSendingEmail="Error sending email";e.ColumnOptionsSorting="Sorting";e.ChangeTypeMessage="Learn more about changing the type";e.ConfirmDeleteComment="Are you sure you want to delete this comment?";e.NoData="[No data]";e.WorkItemPublicVisibilityLearnMoreLink="https://aka.ms/public-project-learn-more";e.LinksControlGitHubCommitText="GitHub Commit";e.LinksControlPullRequestText="Pull Request";e.DeleteAttachment="Delete attachment";e.LinkToExistingDialogFormNotFound="Form not found for link type {0}.";e.RollupTotalNumberOptionsHeadingText="Total number";e.LastVisitedGroupName="Continue where you left off";e.LinkDialog_SameTypeHierarchyError_LearnMore="Learn more";e.MoveWorkItemPathInvalid="The selected value does not exist.";e.CopyWorkItemToPublicProjectMessage="You are copying this work item into a public project.";e.SaveAll="Save all";e.WorkItemControlReadOnly="{0} is read-only.";e.WorkItemLogControlLinkAdded="added {0}link";e.QueriesView_FavoritesPivotName="Favorites";e.SaveQueryAs="Save as...";e.WorkItemCountDisplayStringPlural="{0} Work Items";e.FlatQuery="Flat Query";e.FilterByAreaPath="Area";e.StoryboardLinkInvalid="TF400063: You have entered an invalid storyboard link: {0}. You must provide a valid UNC path to a file or URL to a storyboard stored on a shared resource. Correct the link and try again.";e.WorkItemFinderQuery="Query";e.ProjectNameRequired="Project must be specified.";e.Update="Update";e.WorkItemFinderTypes="and type";e.DeleteAttachmentsDialogConfirmationText="Are you sure you want to delete the following?";e.ReactionTypeEmojiPartyPopper="Hooray";e.FieldStatusInvalidEmptyError="Field \u0027{0}\u0027 cannot be empty.";e.HistoryControlAgoLastSevenDays="Last seven days";e.DateTimePicker_ClearDate="Clear date and time";e.DestroyWorkItemsTooltip="Permanently delete selected work item(s)";e.DateTimePicker_MinuteDownAriaLabel="Decrease minute";e.CreateCopyCopiedWithAllLinksFrom="Copied with all links from {0}";e.LinkToolTypeRequirements="Requirements";e.CorrectWisAndTryAgain="Please correct the unsaved work item(s) and try again.";e.ColumnOptionsPanelKeyboardShortCutWithControl="Ctrl+Up or Ctrl+Down.";e.ImporCsvExcessFieldValuesError="Excess field value(s) at line {0}, column(s) {1}.";e.ColumnOptionsPanelKeyboardShortCutWithCommand="⌘+Up or ⌘+Down.";e.ContributionBlockingWITSave="Saving the work item is blocked by the extension {0}.";e.EditTagsAriaLabel="Edit {0}";e.LinkingDialog_LoadingEnd="Link form loaded";e.NoQueryFolderChildren="No sub-folders.";e.WorkItemCountDisplayStringSingular="{0} Work Item";e.ImporCsvNonIntegerWorkItemIdError="{0} value should be numberic. Please correct the value at line {1}, column {2}.";e.LinkDialog_LinkMultipleWorkItemsAsParentsError="A work item can only have one link of this type. Remove the existing link and try again.";e.ErrorEmailEmptyQueryResults="TF242408: The query you selected does not return any work items. Select a query that contains at least one work item, and try again.";e.QueryFolderPicker_ErrorMessage_FolderRequired="Folder selection cannot be empty.";e.StateField="State Field";e.RollupColumn_TotalBy_WorkItemType="Count of {0}";e.AdditionalDisplayFieldFocusZoneLabel="{0}, press right arrow to choose a different field";e.WorkItemFinderSelectQueryText="\u003cSelect a Query\u003e";e.StateLabel="Stat\u0026e";e.WorkItemTemplates_NoTemplatesDisabledMenuItemTitle="Capture to add a template";e.ConfirmWorkItemRevert="You have unsaved changes to this work item which will be lost. Are you sure you want to revert your changes to the work item?";e.DeleteAttachmentsDialogTitle="Delete attachment(s)";e.MaxQuerySearchResultMessage="Showing the first {0} queries that match: {1}";e.NewChartText="New chart";e.CommentEditedFormat="commented {0} (edited)";e.LinksControlRelatedText="Related";e.WorkItemFinderDialogTitle="Choose Linked Work Items";e.NewMenuTitle="New";e.MobileDiscussionViewNumberOfCommentsSingle="View 1 comment";e.RollupColumn_TotalBy_FieldName="Sum of {0}";e.ReactionTypeEmojiSmilingFace="Laugh";e.WorkItemBulkSaveFailed="One or more work items could not be saved. You might have lost the connection to your server. Refresh your browser, and then try again. If the problem persists, you might not have the area path permissions required to edit work items.";e.EditComments="Edit comments";e.WorkItemsChartsTabTitle="Charts";e.KeyboardShortcutDescription_OpenBacklog="Open backlog";e.WorkItemFinderFindButtonText="Find";e.Queries="Queries";e.EmailQueryResult="Send query as an email";e.WorkItemTemplateDialog_Name="Name";e.ImportWorkItems="Import Work Items";e.ShowMoreWorkItemsMessage="Showing the first {0} items. {1}";e.DestroyWorkItemDialogTitle="Permanently delete work item(s)";e.HistoryControlAttachmentDeletedText="Attachment Deleted";e.LinkToExistingItemToolTip="Link to an existing item";e.ExportingCsvProgressButtonText="Exporting...";e.LinkToolTypeGitHub="GitHub";e.RefreshTooltip="Refresh";e.DevelopmentControlWorkHasntStartedMessage="Development hasn\u0027t started on this item.";e.SaveAndCloseWorkItemText="Save \u0026 Close";e.CreateCopyOfWorkItem_CopiedWorkItemSuffix=" - Copy";e.WorkItemLinkTypeDoesNotExists="Work item link type \u0027{0}\u0027 does not exist.";e.KeyboardShortcutDescription_LeftTab="Move to left tab";e.LinkDialog_ExistingWorkItem_SameTypeHierarchyError="The {1} you have selected is of the same type with work item {0}. Please change the link type or select a {1} work item that is not on the same hierarchy level to avoid a limited experience. ";e.FieldStatusInvalidPathError="The area or iteration provided for field \u0027{0}\u0027 could not be found.";e.LinksControlCommentColumnText="Comment";e.FullscreenEnterIconText="Enter full screen mode (Z)";e.DateTimePicker_HourUpAriaLabel="Increase hour";e.FilterByAssignedTo="Assigned to";e.AttachmentLoading="Loading attachment...";e.IdColonText=" ID: ";e.FiltersForLinkedWorkItems="Filters for linked work items";e.ProjectDoesNotExist="Project \u0027{0}\u0027 does not exist.";e.QueryEditorTreeTypeLabel="Type of tree";e.CommentedJustNow="just now";e.ColumnOptionsInvalidWidth="Column width must be a value between 0 and 65536.";e.DevelopmentControlCreateBranchTitle="Create a new branch";e.AddParentText1="Add an existing work item";e.AddParentText2=" as a parent";e.WorkItemTemplateDialog_SavingAnnouncerEnd="Template saved";e.ColumnOptionsAtLeastOneColumnIsRequired="At least one column is required";e.TagEdit_Separator="Suggested Tags";e.WorkItemsHubComments="Comments";e.LinkingDialog_LoadingStart="Loading link form";e.HistoryControlCommentDeletedAdornmentText="Comment deleted";e.FilterByKeyword="Filter by keyword";e.HistoryControlViaTextEnd=")";e.CustomizeWorkItemsNewFeatureTitle="Customize your work items";e.ProgressBarLoading="Loading";e.RemoteLinkStatusSuccess="Success";e.DialogClose="Close";e.CopyToClipboard="Copy to clipboard";e.QueryBreadcrumbAriaLabel="{0} breadcrumb item picker";e.NameLabel_Watermark="Enter name";e.ShowMoreComments="Show more";e.ErrorExpectingNumericValue="Expecting numeric value.";e.WorkItemBulkDestroyError="We were unable to destroy some work item(s). They are not present in the recycle bin or access is denied. Please refresh to see the failed items.";e.WorkItemPaneFilter_BottomAriaLabel="Work item panel bottom";e.GoToDiscussionShortcutWithControl="(Ctrl+Shift+D)";e.GoToDiscussionShortcutWithCommand="(⌘+Shift+D)";e.ErrorDateTimeValueOutOfRange="The DateTime value is out of range.";e.WorkItemFinderResultStatusString="{0} work item(s) found.";e.QueriesHub_NewFolderCreated_MessageText="New folder \"{0}\" has been created.";e.ImportCSVPanelText="Import work items via CSV file import.";e.MobileDiscussionLoading="Loading";e.Picker_EmptyInput="Empty";e.WorkItemLogControlAttachmentsHeader="Attachments";e.KeyboardShortcutDescription_ToggleFullScreen="Toggle full screen mode";e.WorkItemTemplates_CaptureTemplateMenuItem_TooManyItemsTooltip="Templates can only be generated from individual work items";e.MoveWorkItemDialogTitle="Move work item";e.QueryEditorQueryModeMayHave="Return all top level items";e.FieldStatusInvalidOldValueError="The value for field \u0027{0}\u0027 must be updated, the current value is no longer supported.";e.HistoryControlLinkAddedText="Link Added";e.TestWorkItemDeletedItems="Deleted items";e.SaveAndCloseHotkeyWithCommand="(⌘+Enter)";e.SaveAndCloseHotkeyWithControl="(Ctrl+Enter)";e.WorkItemFieldLabelTitleFormat="[Field Name: {0}]";e.ImportEmptyDataSet="Dataset is empty.";e.BulkEdit_ApplyTemplateTitle="Apply template";e.WorkItemIdOutOfRange="Cannot load work item. Id out of range.";e.LinkDialog_WorkItemNotFoundError="Work item {0} does not exist or you do not have permission to access it.";e.RenameQueryFolderTitle="Rename query folder";e.ImporCsvReadonlyFieldModifiedError="Value of a readonly field {0} was modified. Please revert the {0} values or remove the column from the input file and and try to import again.";e.WorkItemDeleteError_ClickHere="click here";e.ImportEmptyColumn="Empty columns at col(s): {0}.";e.AddTagPlusText="+";e.Unknown="\u003cunknown\u003e";e.ImportCSVPanelLoadingText="Please wait while we load your CSV changes.";e.ImportCSVErrorHeader="There were issues while importing this CSV file.";e.CustomizeWorkItemsText="Personalize your work items with custom fields, picklists and states or add your own custom work items to match your business process.";e.KeyboardShortcutDescription_Next_Item="Next item";e.RestoreWorkItemDialogConfirmationText="Are you sure you want to restore the selected work item(s)?";e.CopyNameTemplate="{0} ({1})";e.WorkItemDeleteError_MoreInfo="For more information on what might cause this error,";e.UnsavedWorkItemActionsMessage="You can leave to discard your changes, or cancel to continue editing.";e.LinksControlAddLinkDisabledTooltip="You cannot add a link to an item in read-only mode";e.WorkItemFinder_AriaLabel_FindResultsGrid="Work item search results";e.LoadingQueryResults="Loading query results...";e.ReturnLinksOfAnyType="Return links of any type";e.MobileDiscussionViewNumberOfComments="View {0} comments";e.MultiFieldInsertNewFieldTooltip="Insert new field";e.DateTimePicker_MinuteUpAriaLabel="Increase minute";e.FilterNoStatuses="No status available";e.InvalidQuerySyntax="{0} The error is caused by {1}.";e.DateTimePicker_GoToToday="Go to today";e.MoveWorkItemBulkTypeError="Work item type(s) {0} may not exist in {1}.  Change the type of all selected work items below, or exit the dialog and move work items separately.";e.ErrorExpectingTeam="Expecting team value.";e.RecycleBin="Recycle Bin";e.HistoryControlWorkItemTagAddedAdornmentText="Tag added";e.StartStoryboarding="Start storyboarding";e.InsertImageEditLabel="Image";e.TextFilterNextItemsMessage="Filter the next {0} items";e.WorkItemChartsPageNotReady="TF401194: The Work item charts page is in an unready state.";e.WorkItemFormIsReadonly="Work item form is readonly";e.WorkItemLogControlWorkItemTypeChange="changed type from {0} to {1}";e.HistoryControlMultipleLinksAdornmentText="Multiple links were added";e.TabErrorAriaLabel="{0} contains invalid fields.";e.LinksControlLinkTypeColumnText="Link Type";e.CannotResolveExternalLinkResource="The \u0027{0}\u0027 url cannot be resolved. Please check the url and try again.";e.CreateCopyCopiedFrom="Copied from {0}";e.FieldStatusInvalidListValueError="The field \u0027{0}\u0027 contains the value \u0027{1}\u0027 that is not in the list of supported values.";e.FilterByTags="Tags";e.EmptyQueryChartList="Choose \u0027New chart\u0027 to create the first chart for \u0027{0}\u0027 query.";e.ImportDuplicateNonRequiredHeaders="Duplicate non-required column headers: {0}.";e.WorkItemLogControlOtherLinkDeleted="deleted other link";e.GitHubZeroDataText3=" to see the status of your development. ";e.GitHubZeroDataText2=" or ";e.GitHubZeroDataText1="Link a GitHub ";e.HistoryControlMultipleAttachmentsAdornmentText="Multiple attachments were added";e.WorkItemLogControlLinkDeleted="deleted {0}link";e.DateTimePicker_PreviousMonthAriaLabel="Go to previous month";e.ExportToCSV="Export to CSV";e.GithubPRLinkDialogAddressTitleWatermark="Enter GitHub pull request url";e.ColumnOptionsColumns="Columns";e.CommentEditedTag="(edited)";e.ProgressBarTooltip="{0}/{1} {2} completed.";e.WorkItemFinderIds="IDs";e.WorkItemTemplateDialog_CopyLinkEnabledMessage="Copy the URL to add a work item using this template.";e.DeleteWorkItemDialogConfirmationTextLearnMoreLink="Learn more";e.RollupColumnFieldRowAriaLabel="Rollup column {0}";e.LinksControlSameHostRemoteLink="A remote work item cannot link to the same organization.";e.SaveResults="Save results";e.ChangeType="Change type...";e.HistoryControlLinkDeletedText="Link Deleted";e.Confirm="Confirm";e.WorkItemTemplateDialog_AddComment="Add a comment";e.ClosePanel="Close panel";e.CustomFollowDialogAllNotificationsRadioDescription="Receive all notifications from this work item.";e.DragFavoriteFailed="The query \u0027{0}\u0027 could not be added to favorites. The underlying error was: \u0027{1}\u0027";e.MoveWorkItemIterationPathLabel="Iteration path";e.QueryResultsGridRoleTitle="Query results grid";e.QueryManageDialog_Validator_FolderInvalid="Folder is invalid.";e.QueryFolderPicker_ErrorMessage_NameExceededLimit="Query name should be less than {0} characters, actual is {1}";e.TestSuites=" Test Suites";e.Customize="Customize";e.NoValueForMultiLineControl="No {0}";e.TriageSummary="{0} of {1}";e.FieldCannotBeEmpty="Field name cannot be empty";e.FilterNoArea="No areas available";e.FilterNoTags="No tags available";e.WorkItemChartsUnsavedQuery="Please save your query before creating a chart.";e.MobileDiscussionMessageSend="Send";e.WorkItemFinderAnyProject="Any Project";e.WorkItemDiscussionAddWithPRCommentHelpText="Add a comment. Use hash symbol to link a work item, exclamation mark to link a pull request, or at symbol to mention a person.";e.WorkItemFinderFavorites="Favorite Query";e.HistoryControlWorkItemTagRemovedAdornmentText="Tag removed";e.CreateCopyOfWorkItemTitle="Copy Work Item";e.WorkItemNotFoundClientException="TF401232: Work item {0} does not exist, or you do not have permissions to read it.";e.LinksControlResultAttachmentText="Result Attachment";e.DeleteWorkItemsToSeeMore="There are more items in the recycle bin.";e.ReadOnlyFieldIconLabel="Field {0} is readonly";e.TitleEmptyText="Enter Title";e.SaveChanges="Save changes";e.TagEdit_ZeroData="No tags have been added";e.WorkItemPaneFilter_FilterWorkItems="Filter work items";e.WorkItemTypeNameRequired="Work item type must be specified.";e.WorkItemLogControlEditedComment="edited a comment";e.ImporCsvMaxRowsExceededError="Max number of work items allowed on import is {0}.";e.ReadonlyWorkItemSaveButtonTooltip="You don\u0027t have permission to edit this work item.";e.WithUnsavedComment="{0} with unsaved comment";e.TestSuiteDeleteConfirmationDialogText="Are you sure you want to delete this work item? \u003cb\u003e{0} ID: {1}\u003c/b\u003e and all its child Test Suites, Tests across all configurations and testers along with their Test Result History will be permanently deleted. {2}";e.MultiFieldAddNewField="Add new field";e.UnsavedWorkItemPrompt="You have modified this work item. You can save your changes, discard your changes, or cancel to continue editing.";e.LinksControlGitHubPullRequestText="GitHub Pull Request";e.TriageViewWorkItemSaveError="Work item {0}:";e.WorkItemFinderAllWorkItemTypes="All Work Item Types";e.UseWorkItemAsATemplate="Clone work item";e.ImporCsvInvalidWorkItemIdError="{0} value can\u0027t be 0. Please specify the correct value at line {1}, column {2}.";e.EnterDetails="Enter Details";e.DiscussionViewNumberOfComments="{0} comments";e.CommentEditedTooltip="Edited {0}";e.AddYourReaction="Add your reaction";e.WorkItemTemplates_CaptureTemplateDialogTitle="Capture Template";e.DeleteWorkItemDialogRefreshWarningMessage="After deleting selected work items, you need to refresh the page to reflect the changes.";e.DeleteAttachments="Delete attachments";e.CreateCopyCopiedWithAllLinksAndAttachmentsFrom="Copied with all attachments and links from {0}";e.MoveWorkItemProjectWatermark="Select a project";e.NoResultsFound="No results found";e.ColumnOptionsTooltip="Column options";e.QueryColumnLastModifiedBy="Last modified by";e.CommentedFormat="commented {0}";e.WorkItemTypeChangeInProgress="Change type is almost complete! Simply click Save.";e.HistoryControlCommentEditedAdornmentText="Comment edited";e.ColumnOptionsSortDescending="Sort descending";e.QueryAcrossProjects="Query across projects";e.RemoteLinkStatusPendingDelete="Deleting";e.LinkFormResultAttachmentMessage="To link an attachment from a test result to this work item, you must open the test result that contains the attachment and associate the work item with the test result.";e.DialogSave="Save";e.WorkItemDiscussionLabel="Discussion";e.TreeLinksQuery="Tree Links Query";e.DeleteSelectedWorkItems="Delete";e.EmailWorkItems_NoSelection="You have not selected any items to email";e.SaveAndClose="Save and close";e.NewFeatureCustomizeProcessLinkTitle="Customize process";e.ErrorExtensionService_CannotRevertWorkItem="You cannot revert a work item that is new or not dirty";e.QueryFolderPicker_ErrorMessage_FolderDoesNotExist="Specified folder does not exist.";e.BulkEditDialogFieldsRoleTitle="Fields";e.NoCommentsText="No Comments";e.ConfirmDeleteQuery="Are you sure you want to delete \u0027{0}\u0027?";e.RollupColumn_TotalBy_AllDescendants="Count of Work Items";e.MoveWorkItemToPublicProjectMessage="You are moving this work item into a public project.";e.CopyQueryURL="Copy query URL";e.DeletedAreaPath="(removed area path)";e.AttachmentUploadFailPermissionsMessage="You do not have permission to attach files to work items in the current area path.";e.LinkFormWorkItemNotFound="Work item not found or no permission to access it.";e.LinksControlIntegratedInBuildText="Integrated in build";e.TrackChangesNewFeatureTitle="Track changes to work items and code";e.UnsavedComment="Unsaved comment";e.LinksControlBranchText="Branch";e.ImporCsvInvalidFieldValueError="Invalid work item type {0} specified in column {1} at line {2}, column(s) {3}.";e.QueryItemAlreadyExist="Query item \u0027{0}\u0027 already exists.";e.ItemsPlural="{0} items";e.HistoryControlAgoYesterday="Yesterday";e.QueryEditorQueryModeMustHave="Only return items that have matching links";e.WorkItemLogControlProjectChange="changed project from {0} to {1}";e.LinkDialog_QueuedLinkDuplicateWorkItemsError="Work item {0} is already in the list of items to link.";e.KeyboardShortcutDescription_CopyWorkItemTitle="Copy work item title";e.WorkItemEditorDirtyCaption="{0}*";e.CustomRollupTotalOptionTitle="Rollup as Total";e.RollupColumn_TotalBy_Backlog="Count of {0}";e.TagEdit_FilterWatermark="Add tag";e.WorkItemLogControlAttachmentDeleted="deleted an attachment";e.WorkItemEditorCaption="{0} {1}";e.CopyQueryURLDataTooLargeException="VS402348: The query definition is too large to share. Please save the query as a Shared Query and share the link to the saved query.";e.QueryDirtyDocumentTitleFormat="Query: {0}";e.AttachmentDropMessageHeader="Upload files";e.BooleanFieldTrueValue="True";e.LinksControlAddLinkToExistingItem="Existing item";e.LinksControlZeroData="No links have been added";e.ColumnOptions="Column options";e.WorkItemTemplateDialog_CopyLink="Copy link";e.LinksControlGitHubHelpText_about="about GitHub integration with Azure Boards.";e.GithubIssueLinkDialogAddressTitleWatermark="Enter GitHub issue url";e.WorkItemDiscussionAddWithPRComment="Add a comment. Use # to link a work item, ! to link a pull request, or @ to mention a person.";e.WorkItemTemplateDialog_NoMemberTeamsError="You cannot capture this template because you are not a member of any team in this project";e.CustomRollupProgressOptionSubtitle="A percentage calculation of the linked descendant will be added at the parent level. Progress is calculated as completed work items out of all work items.";e.MoveWorkItemChangeTypeWatermark="Select a work item type";e.CustomFollowDialogNoNotificationRadio="Not Subscribed";e.TestWorkItemDeletePermissionError="You don\u0027t have sufficient permissions to delete this work item. You must have work item and test artifacts delete permissions.";e.QueryResultsGridNumSelectedSecondaryTextFormat="{0} selected";e.EmailQuery="Email query";e.WorkItemDiscussionMentionLinkComment="{0} mentioned work item #{1} in #{2} discussions";e.AreaLabel="\u0026Area";e.FollowingWisCouldNotBeSaved="The following work item(s) could not be saved:";e.WorkItemRevert="Revert changes";e.FieldStatusInvalidCharactersError="The value for field \u0027{0}\u0027 has unsupported characters.";e.CustomRollupTypeOptionLabel="Select rollup type";e.MoveWorkItemAreaPathLabel="Area path";e.VisualizeYourWorkNewFeatureTitle="Visualize Your Work";e.AttachmentUploadCancelledMessage="You have refreshed the work item or reverted changes. The file upload has been canceled.";e.WorkItemLogControlMadeOtherChanges="made other changes";e.ReturnSelectedLinkTypes="Return selected link types";e.LinksControlCommitText="Commit";e.Of="of";e.OK="OK";e.CustomFollowDialogTitle="Notification Settings";e.LinksControlDuplicateHyperlink="Duplicate hyperlink.";e.LinksControlHyperlinkText="Hyperlink";e.MoreSaveOptions="More save options";e.KeyboardShortcutDescription_SaveAndClose="Save and close";e.RollupColumn_ProgressBy_AllCompletedDescendants="Progress by all Work Items";e.RecentWorkItems="Recent work items";e.CannotGetRegisteredInstance="Cannot get registered instance for : {0}";e.LinkTopologyTreeForwardImageAltText="This is a directional link that creates a one-to-many relationship. Once this link is created, no more links of this type can be added to this work item.";e.WorkItemPaneFilter_Off="Off";e.LinksControlFoundInBuildText="Found in build";e.LinksControlBuildText="Build";e.FullscreenExitIconText="Exit full screen mode (Z)";e.QueriesView_FolderPivotName="Folder";e.ImportErrorMessageTitle="Found the following header errors:";e.HistoryControlAgoOlder="Older";e.ExportToCsvQueryResultTooBig="The number of work items returned exceeds the limit for export to CSV. Please change the query to return fewer than {0} items and try again.";e.KeyboardShortcutDescription_HistoryTab="Move to history tab";e.ReactionTypeEmojiThumbsDown="Dislike";e.ZeroDataImageAltText="Zero Data Image";e.EmailSelectedWorkItemToolTip="Email the selected work item";e.HistoryControlAgoToday="Today";e.LinkFormTestResultMessage="To link a test result to this work item, you must open the test result and associate the work item with the test result.";e.ErrorExpectingIntegerValue="Expecting integer value.";e.FileThrottleDialogTitle="Too many files";e.EmailWorkItem="Email work item";e.DateTimePicker_NextMonthAriaLabel="Go to next month";e.FieldErrorAriaLabel="Invalid {0}";e.ImporCsvExtraFieldsFoundError="Excess number of field values found at line {0}: expected {1} but read {0}.";e.BulkEditSelectedWorkItems="Edit...";e.LinkDialogCommentTitle="Comment";e.InvalidErrorParameter="Invalid Error Parameter";e.FieldCannotBeRemoved="This field cannot be removed.";e.ExternalLinkText="External link";e.AddAttachmentUnknownError="Unknown Attachment Error.";e.LinksControlDescriptionColumnText="Description";e.QueryFilterErrorEmptyValue="The value for row {0} is not filled correctly.";e.WorkItemLogControlCreatedWorkItem="created the {0}";e.WorkItemIdUndefined="Cannot load work item. Id undefined.";e.AzureReposZeroDataText1="Link an Azure Repos ";e.AzureReposZeroDataText2="You can also ";e.AzureReposZeroDataText3=" to get started.";e.ErrorExpectingBooleanValue="Expecting boolean value.";e.Bug="Bug #{0}";e.Sum="Sum";e.LinkDialog_CircularWorkItemRelationshipError="Adding a {0} link between work items {1} and {2} would result in a circular relationship. To create this link, evaluate the existing links, and remove one of the other links in the cycle.";e.TestResults=" Test Result History";e.Count="Count";e.Items="items";e.WorkItemBulkRestoreError="We were unable to restore some work item(s). They are not present in the recycle bin or access is denied. Please refresh to see the failed items.";e.WorkItemLinkText="Work item link";e.TitleField="Title Field";e.Query="Query";e.EditComment="Edit comment";e.Tests=" Tests";e.WorkItemIsReadOnlyError="This action does not apply because the work is read-only.";e.AssignedToEmptyText="Unassigned";e.RollupColumn_TotalBy_Filter_Field="Sum of {0} {1}";e.ImportNonConsecutiveTreeHeader="Non-consecutive tree column headers at col(s): {0}.";e.QueryEditorLinkTypeLabel="Types of links";e.QueryColumnTitle="Title";e.WorkItemChartsUnrecognizedQueryMessage="Query Type is unrecognized - You can create a chart for a flat list query.";e.StateEmptyText="Select State";e.FollowedWorkItemsQuery="Followed work items";e.LinksControlCreateNewLink="New item";e.RemoteLinkStatusPendingUpdate="Updating";e.ExportToCsvNoQueryResultsMessage="The query you selected does not return any work items. Select a query that contains at least one work item, and try again.";e.WorkItemsHubTruncatedCommentCount="{0}+";e.UpdatedDateByMessage="Updated {0} by {1}";e.CopyQueryURLExpirationMessage="Note: The query URL will expire in {0} days.";e.WorkItemMoveInProgress="Your move is almost complete! Simply click Save.";e.CreateaBranchText="create a branch";e.LinksControlAddLinkDisplayText="Add link";e.NoLicenseEmptyQueryChartList="To author charts, you must have the correct license and configuration. For more information, \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=256033\u0027 target=\u0027_blank\u0027\u003esee visualstudio.com\u003c/a\u003e.";e.LinksControlVersionedItemText="Versioned Item";e.WarningExportingDirectLinksTitle="Direct links export";e.WorkItemTypeDoesNotExist="Work item type \u0027{0}\u0027 does not exist.";e.AttachmentsGridViewIconAriaLabel="Click to toggle to Attachments Grid View";e.AdditionalSortFieldFocusZoneLabel="{0}, {1}, press right arrow to choose a different field";e.TabHeaderTooltip="{0}";e.QueryEditorQueryMatchTopLevelItems="Match top-level work items first";e.HistoryControlWorkItemRestoredAdornmentText="Work item restored";e.KeyboardShortcutDescription_NewQuery="New query";e.AttachmentDropMessage="Drag and drop your files here.";e.RichEditorMaximizeName="Maximize {0}";e.RestoreWorkItemsTooltip="Restore selected work item(s)";e.ErrorCannotCreateLegacyExtension="Cannot create work item control of type \"{0}\". Legacy extensions are no longer supported in new work item form.";e.CreateCopyOfWorkItem_Failed="Failed to copy work item: ";e.HistoryControlWorkItemDeletedAdornmentText="Work item deleted";e.HistoryOutdatedWithUnsavedChangesWarning="History details is outdated. Please save your changes, or discard them to see the latest details.";e.WorkItemPaneFilter_Bottom="Bottom";e.LinkDialogTypeNotValid="Could not find the specified link type.";e.AttachmentsGridCommentsColumn="Comments";e.KeyboardShortcutDescription_OpenTaskBoard="Open task board";e.RefreshHotkey="(Alt+R)";e.WorkItemTypeChangeInProgressWithErrors="Change type is almost complete! Fix the errors and click Save.";e.ChartEditor_Query_GroupingTooltip="The columns you have specified in your query will show up as grouping for the chart.";e.LinksControlIssueText="Issue";e.UnableToCreateBugOfType="Unable to create work item of type: {0}.";e.PreviewUnhandled="It looks like this file doesn\u0027t have a preview we can show you.";e.MobileGoBackAriaLabel="Go back";e.LinkWorkItemsNoFavorites="You do not have any favorite queries";e.InsertImageInvalidFileType="TF400116 Unsupported file type.  Valid file types are: {0}.";e.NewFolder="New folder";e.GithubCommitLinkDialogAddressTitleWatermark="Enter GitHub commit url";e.PickAColumn="Pick a Column";e.WorkItemArtifactLastUpdatedLabel="Updated {0}";e.MobileDiscussionZeroData="Be the first to add a comment";e.StateTransitionGraphViewAllChangesText="Show all";e.WorkItemDiscussionAdornmentTooltipSingular="Go to discussion. There is 1 comment available";e.AttachmentUploadingEnd="One or more attachments uploaded.";e.FolderLabel="Folder";e.ImporCsvDuplicateWorkItemIdColumnError="Duplicate {0} for work item id {1} at line {2}, column {3}.";e.ScopedIdentityTooltipWithSuffix="This field is scoped to: {0} and more.";e.NoLicenseHostedEmptyQueryChartList="No charts exist for this query.";e.InvalidCSVFileFormat="Only CSV files are accepted.";e.Wiql_MacroCurrentIteration="CurrentIteration";e.HistoryControlStateAdornmentText="Set to {0} state";e.LinkDialogErrorWorkItemTypesToAdd="The filter for the link control is defined so that no work items of any type can be added. Modify the filter definition and import it again.";e.WorkItemsHubEditorTabTitle="Editor";e.LinksControlZeroDataBranchText="branch";e.QueryColumnFolder="Folder";e.NewLinkedWorkItemTypeTitle="Work item type";e.Rollup_EffortFieldName="Effort";e.ErrorCannotCreateWorkItemControl="Cannot create work item control of type \"{0}\"";e.LoadingWorkItem="Loading work item";e.WorkItemLinkTypeEndDoesNotExist="Work item link type end \u0027{0}\u0027 does not exist.";e.WorkItemRestoreError="Failed to restore work item: {0}. Error Details: {1}";e.NewFeatureLearnMoreLinkTitle="Learn more";e.LinkDialogWorkItemIdsTitle="Work items to link";e.InsertImageUploadingDialogTitle="Uploading Image...";e.NewLinkedWorkItem="New linked work item";e.InternalServerError="Internal Server Error:";e.CustomFollowDialogCustomNotificationRadio="Custom";e.QueryEditorRoleTitle="Query editor";e.WorkItemPaneFilter_RightAriaLabel="Work item panel right";e.RollupColumnInfo="Add a Rollup column to display percentage of progress or sum of work items based on hierarchical parent/child relationships.";e.AdhocQueryDefaultName="Custom query";e.FollowingWorkItem="Following";e.QueryMyFavoriteLabel="My favorites";e.AssignedToMeQuery="Assigned to me";e.WorkItemIdDisplayStringSingular="Work Item {0}";e.MoveWorkItemTitle="Move to team project...";e.GroupErrorAriaLabel="{0} contains invalid fields.";e.WorkItemTypePicker_Label="Backlog level or work item type";e.GitHubLinkAlreadyExists="A {0} link with the same URL already exists.";e.RollupColumn_ProgressBy_WorkItemType="Progress by {0}";e.BulkEditDialogHistoryRoleTitle="History";e.RevertQueryChanges="Revert changes";e.AttachmentsGrid_PlaceholderPrefixText="Uploading ";e.GithubPRLinkDialogAddressTitle="GitHub pull request url";e.WorkItemTemplate_FailedToLoad="Failed to load template.";e.WorkItemTemplate_FailedToSave="Failed to save template.";e.LinksControlDuplicateRemoteLink="A remote work item link already exist.";e.LinksControlStoryboardText="Storyboard";e.WorkItemFinderProject="Project";e.LinkDialog_LinkSelfWorkItemError="You cannot link a work item to itself so work item {0} was not added to the list.";e.CopySelectedWorkItemsAsHtml="Copy as HTML";e.UnsavedCommentPrompt="You have an unsaved comment. Close and lose changes?";e.WorkItemTemplateDialog_ConfirmClosePrompt="You have modified this template. Close and lose changes?";e.LinksControlCircularRemoteLink="A remote work item link already exists in the other direction, circular link cannot be established.";e.WorkItemDiscussionCommentAriaLabel="Comment {0} of {1}.";e.QueryEditorQueryMatchLinkedItems="Match linked work items first";e.ColumnOptionsTitle="Column Options";e.Heading_SuggestedValues="Suggested Values";e.PrivacyStatement="Your privacy is important to us.";e.WorkItemLogControlDeletedWorkItem="deleted the work item";e.HistoryControlProjectAdornmentText="Work item moved to {0} project";e.RunQuery_PromptUnsavedWorkItemChanges_MessageTitle="Are you sure you want to run query?";e.MovingQueryLabel="{0} *";e.DiscardWorkItem="Discard";e.WorkItemDiscussionAdornmentTooltip="Go to discussion. There are {0} comments available";e.KeyboardShortcutDescription_AssignToMe="Assign work item to me";e.AddAttachmentDialogFieldComment="Comment";e.HistoryOutdatedFromUnsavedChangesWarning="History details is outdated. Please save your changes, revert them, or refresh to see the latest details.";e.BackToQuery="Back to query";e.WorkItemDelete_NoPermission="We were unable to delete the work item(s), you do not have sufficient permissions to delete.";e.FetchingImplications="Fetching implications...";e.EditQuery_PromptQueryRevert_MessageContentText="You have unsaved changes that will be lost:";e.DestroyWorkItemDeleteButtonText="Permanently delete";e.HtmlFieldPlaceholder="Click to add {0}";e.DeleteQueryFolder="Delete";e.LinkToExistingItem="Link to an existing item...";e.QueryResultsNewQueryGridStatusText="Run to see the query results.";e.QuerySaveDialog_FolderCombo_ExpandButtonAriaLabel="Expand";e.KeyboardShortcutDescription_Discussion="Go to discussion";e.LoadingTeamFavorites="Loading Team";e.DiscussionViewNumberOfCommentsSingle="1 comment";e.WorkItemDiscussionAddComment="Add a comment. Use # to link a work item or @ to mention a person";e.WorkItemChartsDisallowedAdhocQuery="TF401195: This generated query is not supported for use with Charting.";e.RecyclebinCleanupMessage="Recycle Bin items older than {0} days will be permanently deleted.";e.WorkItemHtmlFieldMentionLinkComment="{0} mentioned work item #{1} in #{2}";e.DeleteOrRestoreConfirmationMessage="Work items are still being deleted or restored. The operation may be canceled if you navigate away.";e.TagsLabelText="Tags";e.ImportEmptyColumnHeaders="Empty column headers at col(s): {0}.";e.MoveWorkItemMessage="Learn more about moving a work item";e.TriageNextWorkItemToolTip="Next work item in the \"{0}\" query (Alt + N)";e.QueriesView_PivotTitle="Queries";e.ExportingWorkItems="Exporting work items";e.RollupProgressBarOptionsHeadingText="Progress bar";e.InvalidArgumentExpectingArray="Invalid argument, expecting array of WorkItemRelations";e.DeletedIterationPath="(removed iteration path)";e.SelectedWorkItemsLabel="Selected Work Items";e.LinksControlDuplicateStoryboard="The current work item already contains a link to this storyboard: {0}";e.MoveWorkItemDialogCurrentProjLabel="(current project)";e.FieldValueIdentityPickerAriaLabel="Search users and groups for field {0}";e.RollupDataQualityException="Unable to get quality data.";e.HistoryControlTreeAriaLabel="History";e.GitHubPromoteZeroDataText1="We noticed that you\u0027ve used GitHub with Azure Pipelines in this project. ";e.GitHubPromoteZeroDataText2="Connect Azure Boards with GitHub";e.FieldStatusInvalidDateErrorError="The value for field \u0027{0}\u0027 is not a recognized date.";e.FilterNoAssignedTo="No users available";e.HistoryControlCommentAddedAdornmentText="Comment added";e.GithubCommitLinkDialogAddressTitle="GitHub commit url";e.RefreshCharts="Refresh charts";e.InsertImageName="Insert image";e.InformationIcon="Information Icon: {0}";e.ErrorExpectingDateTime="Expecting DateTime value.";e.FieldStatusInvalidValueNotInOtherFieldError="The field \u0027{0}\u0027 is unsupported because a value is missing in another field.";e.BooleanFieldFalseValue="False";e.ImportDuplicateRequiredHeaders="Duplicate required column headers: {0}.";e.LinksControlEnterStoryboardUrl="You must specify a link to the storyboard. A valid UNC path to a file or URL to a storyboard stored on a shared resource is required.";e.LinkDialog_LinkChildWorkItemWhichHasAParentError="Work item {0} already has a {1} link so a new one cannot be added.";e.DragQueryMoveFailed="Can\u0027t move query \u0027{0}\u0027 . The underlying error is: \u0027{1}\u0027";e.KeyboardShortcutDescription_RefreshQuery="Refresh query";e.GenericRollupError="Something went wrong while fetching rollup data.";e.QueryEditorQueryTypeLabel="Type of query";e.CreateCopyOfWorkItem_IncludeChildren="Include child work items";e.QueryEditorSourceFilterGroupingText="Filters for top level work items";e.ChangeTypeBlockedCase="Work item type {0} cannot be changed.";e.NoActiveWorkItem="Active work item document does not exist in the current context";e.FieldStatusInvalidComputedFieldError="The value for field \u0027{0}\u0027 is computed and cannot be changed.";e.DeleteWorkItemDialogConfirmationText="Are you sure you want to delete the selected work item(s)?";e.KeyboardShortcutDescription_RightTab="Move to right tab";e.BackToQueryResults="Return to the \"{0}\" query (Alt + Q)";e.DateTimePicker_AMPMUpAriaLabel="Switch AM PM";e.RestoreWorkItemDeleteButtonText="Restore";e.AttachmentsGridNameColumn="Name";e.CustomRollupPanelTitle="Custom rollup column";e.QueryEditorQueryTypeSimple="Flat list of work items";e.ImportMissingRequiredHeaders="Missing required column headers: {0}.";e.AttachmentsTitle="Attachments";e.WorkItemDiscussionAddCommentHelpText="Add a comment. Use hash symbol to link a work item or at symbol to mention a person";e.TestWorkItemAffectedItems="Affected items";e.WorkItemTemplates_UserDoesNotHaveTeamPermission="You do not have permission to edit templates for this team.";e.LinkDialog_LinkUnsupportWorkItemTypeError="A work item of type {0} cannot be used for the {1} link type.";e.QueryEditorNewQueryNameFormat="New Query {0}";e.AriaLabelForActions="Actions";e.LastUpdatedDateLabel="Updated";e.RunQuery_PromptUnsavedWorkItemChanges_MessageContentText="You have unsaved work item changes and they will be lost if you continue to run the query:";e.FileThrottleMessage="You have attempted to upload more files than the maximum allowed at once: {0}";e.ContributionNotFound="Contribution not found.";e.HistoryControlAttachmentAddedText="Attachment Added";e.TriageView="Triage View";e.ImporCsvIncorrectTreeStructureError="Field values that do not adhere to correct tree structure at line {0}, column(s) {1}.";e.AttachmentUploadFailMessage="You have attempted to upload files that either don\u0027t exist or are folders: {0}";e.CopySelectedWorkitemsOpenAsQuery="Open as query";e.CreateCopyOfWorkItem_IncludeLinks="Include existing links";e.WorkItemLogControlStateGraphTitle="State Graph";e.WorkItemFinderTitleContainsAndType="Title contains and type";e.FormGroupExpandAriaLabel="{0} section.";e.RunQuery_PromptUnsavedWorkItemChanges_ProceedButtonText="Continue";e.QueryEditorQueryModeDoesNotContain="Only return items that do not have matching links";e.DialogCloseButtonText="Close (ESC)";e.CopyQueryURLNotFoundException="VS402349: The custom query does not exist or is expired.";e.FieldStatusInvalidNotEmptyOrOldValueError="The value for field \u0027{0}\u0027 must be empty or the same as the original value.";e.FieldStatusInvalidNotOldValueError="The value for field \u0027{0}\u0027 must be the same as the original value.";e.FilterByStates="States";e.AggregationTypePickerLabel="Column Metric";e.ConfigureCustomRollupColumn="Configure custom rollup";e.EmailResolveIdentityFailed="We were unable to resolve one or more identities. Please try again.";e.AssignedToLabel="Assi\u0026gned To";e.AssignedToField="Assigned To Field";e.QuerySaveDialog_ErrorMessage_NameAlreadyExists="A query or folder with this name already exists in the specified folder.";e.CommandBarTitle_DeleteWorkItems="(Del)";e.WorkItemsHubResultsTabTitle="Results";e.CustomFollowDialogCustomNotificationRadioDescription="You will only be notified for the events selected from the list below or when you are @mentioned in this work item.";e.SuccessfulUnfollowFromEmail="You are no longer following this work item.";e.InvalidQuery="Invalid Query";e.ContributionTimedOut="\"Timed-out waiting for contribution source provider for contribution: {0}";e.QueryConfirmDragDropOperation="Are you sure you want to move the selected item from \u0027{0}\u0027 to \u0027{1}\u0027? Doing so prevents others from accessing it.";e.WorkItemLogControlUserViaUser="{0} (via {1})";e.SharedParameterDeleteConfirmationDialogText="Are you sure you want to delete this work item? \u003cb\u003e{0} ID: {1}\u003c/b\u003e will be permanently deleted. {2}";e.QueryResultsGridStatusTextFormat="{0} work items ({1} selected)";e.CopySelectedWorkItemsIdColumnTitle="ID";e.WorkItemMoveInProgressWithErrors="Your move is almost complete! Fix the errors and click Save.";e.GithubIssueLinkDialogAddressTitle="GitHub issue url";e.SaveQueryAsTooltip="Save query as...";e.AddARollupColumnFromQuicklist="From quick list";e.LinksControlEnterUrl="Enter a URL.";e.LinkDialogWorkItemPickerInputWatermark="Enter ID or search for work items";e.QuerySaveDialog_ErrorMessage_NameInvalid="Name cannot contain the following characters: /\\\u003c\u003e*?\"|:";e.LinkToolTypeCode="Code";e.LinkToolTypeWork="Work";e.LinkToolTypeWiki="Wiki";e.LinkToolTypeTest="Test";e.ReactionUserListHeaderSingular="User with {0} reaction";e.LastUpdatedLabel="Updated by ";e.MissingUri="Missing uri property for contribution : {0}";e.FutureIterations="Future Iterations";e.FieldStatusInvalidEmptyOrOldValueError="Field \u0027{0}\u0027 cannot be empty, and must be different from the original value.";e.FieldStatusInvalidNotEmptyError="The value for field \u0027{0}\u0027 must be empty.";e.FieldValueComboAriaLabel="Value for field {0}";e.LoadingWorkItems="Loading work items";e.LiveReloadWorkItemDeleteNotificationMessage="The work item you are currently viewing has been deleted.";e.QueryingStatusText="Querying...";e.ColumnOptionsPanelText="Add or remove columns. To change the column order, drag and drop a field, or use the keyboard shortcuts, ";e.WorkItemTypeChangedNotificationMessage="The work item type has changed.";e.ImporCsvErrorsFound="Found field value error(s):\r\n{0}";e.FilterInvalidWorkItems="Invalid work items";e.CreateCopyOfWorkItemType="Work item type";e.WorkItemTemplates_ManageMenuItem_Text="Manage...";e.QueryFavoriteItemAriaLabel="{0}, Level 0, ";e.AttachmentsThumbnailViewIconAriaLabel="Click to toggle to Attachments Thumbnail View";e.QueryTeamFavoriteLabel="{0} favorites";e.LinkFormTestMessage="To link a test to this work item, you must open a test result for the test and associate the work item with the test result.";e.ShowMoreWorkItemsLinkMessage="Show all items";e.KeyboardShortcutGroup_Work="Work";e.DateTimePicker_SelectDateTime="Select date and time";e.ScopedIdentityTooltip="This field is scoped to: {0}.";e.Refresh="Refresh";e.MoveSourceWorkItemBlockedCase="Work item type {0} cannot be moved because it is disabled, hidden or not supported in the source project {1}.";e.HistoryControlTooltipAdditionalTextMessage="See history details for full text";e.RemoveReaction="Remove your {0} reaction";e.WorkItemsCreatedByMeQuery="Work items created by me";e.CreateCopyCopiedFromNewWorkItem="Copied from new work item";e.RollupColumn_ProgressBy_Filter_Field="Progress by {0} {1}";e.KeyboardShortcutDescription_FilterResults="Filter results";e.FilterByWorkItemStatus="Status";e.ReactionTypeEmojiThumbsUp="Like";e.DeleteWorkItemDeleteButtonText="Delete";e.TestCaseDeleteConfirmationDialogText="Are you sure you want to delete this work item? \u003cb\u003e{0} ID: {1}\u003c/b\u003e across all configurations and testers along with their Test Result History will be permanently deleted. {2}";e.MissingRollupCalculationError="Rollup calculation for this field is missing. Please remove the field and try adding it back";e.RenameQueryFolder="Rename";e.AdditionalFieldEmptyFocusZoneLabel="Select a field";e.NoSuggestionsFound="No suggestions found";e.BulkEditWorkItemsNotesForHistoryLabel="Notes for History";e.IterationLabel="Ite\u0026ration";e.MoveWorkItem="Move to team project";e.QuerySaveDialog_ErrorMessage_NameRequired="Name cannot be empty.";e.ReactionUserListHeaderPlural="Users with {0} reaction";e.WorkItemChangedReproDescriptionMessage="Copied from {0} when changed from {1} to {2}";e.EmailWorkItemLimit="Only the first {0} work items are retrieved for the email.";e.WorkItemLogControlRestoredWorkItem="restored the work item";e.WorkItemPaneFilter_Right="Right";e.TriageViewSaveErrorTitle="Error saving work items";e.MoveWorkItemTypeError="Work item type {0} does not exist in {1}.";e.BulkUnfollowWorkItems="Unfollow";e.WorkItemTemplateDialog_TeamName="Team";e.HistoryControlNewValueText="New Value";e.CustomFollowDialogNoNotificationRadioDescription="Only receive notifications from this work item when you have been @mentioned.";e.TestWorkItemDeleteDialogInputLabel="Type {0} ID to confirm:";e.CustomFollowDialogAllNotificationsRadio="Subscribed";e.KeyboardShortcutDescription_AttachmentsTab="Move to attachments tab";e.InvalidRemoteWorkItemUrl="Remote workitem url is not valid.";e.ReactionTypeEmojiRedHeart="Heart";e.UnfavoriteQueryFailed="Unable to unfavorite query \"{0}\"";e.AttachmentsGridSizeColumn="Size";e.LinkDialog_LinkDuplicateWorkItemsError="A {0} link to work item {1} already exists.";e.WorkItemTemplates_LegacyCopyMenuItem_Title="Generate a URL that will create a new work item with the modified field values of this work item.";e.WorkItemIdNaN="Cannot load work item. Id not a number.";e.CustomRollupProgressOptionTitle="Rollup as Progress Bar";e.WorkItemsText="Work Items";e.WorkItemDestroyError="Failed to destroy work item: {0}. Error Details: {1}";e.CannotFindRollupData="Unable to find rollup data for this work item.";e.EmailSelectedWorkItem="Email selected work item...";e.MoveWorkItemKeepType="Keep current type(s)";e.AttachmentsZeroData="No attachments have been added";e.UpdatedDateMessage="Updated {0}";e.WorkItemZeroDataDiscussionAriaLabel="Discussion: Be the first to add a comment. Click here to view discussion.";e.ErrorEmailUnsavedQuery="You have unsaved changes made to the query \u0027{0}\u0027. Save the modified query before proceeding.";e.FormGridSectionLabel="Section {0}";e.UnfollowWorkItem="Unfollow";e.WorkItemFinderSelectFavoriteText="\u003cSelect a Favorite Query\u003e";e.LinksControlUnsafeUrl="The URL specified has a potentially unsafe URL protocol.  Please specify a different URL.";e.HistoryControlLinksTitle="Links";e.WorkItemTemplateNotApplied="VS403204: No template was applied.";e.CreateCopyOfWorkItem_IncludeAttachments="Include existing attachments";e.WorkItemMoveCopyPublicVisibilityLearnMoreLinkText="Learn more about public projects";e.TestWorkItemDeleteDialogTitle="Permanently delete test artifact(s)";e.WorkItemTemplateDialog_SavingAnnouncerStart="Saving template";e.KeyboardShortcutDescription_OpenWorkItems="Open work items";e.WorkItemTemplates_LegacyCopyMenuItem_Text="Copy template URL";e.AddAttachmentDialogTitle="Add Attachment(s)";e.ImportInvalidColumnHeaders="Invalid column headers: {0}.";e.WorkItemTemplateDialog_SavingAnnouncerError="Error saving template";e.WorkItemLogControlStateChange="changed state from {0} to {1}";e.EditQuery_PromptQueryRevert_MessageTitle="Are you sure you want to revert changes?";e.QueryTree_Loading="Loading";e.StateTransitionAriaLabel="Transition {0}: To state: {1}, reason for transition: {2}, changed by {3} on {4}.";e.WorkItemLogControlLinkRestored="restored link";e.TooManyChildItemsToCopy="Cannot copy a work item with more than {0} children.";e.LinksControlAddNewItemDisabledTooltip="You cannot link new work items to an item that has not been saved";e.WorkItemEditorCaptionNew="New {0} {1}";e.LinkToolTypeBuild="Build";e.WorkItemLogControlHistoryHeader="History";e.WorkItemLogControlAddedComment="added a comment";e.RemoteLinkStatusFailed="Failed";e.QueryFolderDoesNotExist="Parent folder \u0027{0}\u0027 does not exist, if you have renamed the folder please refresh before continuing.";e.KeyboardShortcutGroup_Queries="Queries";e.WorkItemFinderQueryInProgress="Query in progress...";e.CopyQueryURLNotifyMessage="The query URL is copied to the clipboard.";e.CreateWorkitemIVURLSuccess="Successfully copied the template URL to the clipboard.";e.ProgressPercentage="{0}%";e.FailedUnfollowFromEmail="Unfollow was not successful";e.RemoteLinkStatusPendingAdd="Adding";e.QueryFilterErrorUnrecognizedOperator="The operator for row {0} is not recognized.";e.MoveWorkItemIterationPathWatermark="Select an iteration path";e.MyFavoritesGroupName="My";e.HistoryControlChangesHeader="Change details";e.BrowseAllQueries="Browse all queries";e.NewQueryFolder="New subfolder";e.AttachmentUploadProgressNotification="Attachment(s) uploading...";e.WorkItemLogControlMadeChangeWithValue="changed {0} to {1}";e.QueryFilterErrorMissingOperator="The operator for row {0} is missing.";e.SaveQueryAsDialogTitle="Save query as";e.DeleteWorkItemDialogConfirmationTextWithoutCleanUpScheduled="You can restore deleted work items from the Recycle Bin.";e.ColumnOptionsSortAscending="Sort ascending";e.TrackChangesText="View your code artifacts right from the work item form. Creating a new branch or pull request for a bug fix is just a click away.";e.LinkDialogStoryboardLinkAddressTitle="Location";e.ExportingWorkItemsLoading="Exporting work items...";e.LinkDialogDescription="You are adding a link from:";e.QueryMoveOrRename_QueryItemAlreadyExists="A query or folder with the same name already exists in the target folder. Please resolve the name conflict before moving or renaming.";e.GenericHistoryRetrievalError="Error retrieving work item history";e.RollupColumn_LearnMore="Learn more about Rollup.";e.LinkDialog_NewWorkItem_SameTypeHierarchyError="The work item type you have selected is of the same type with work item {0}. Please change the link type or select a {1} work item that is not on the same hierarchy level to avoid a limited experience. ";e.FilterNoStates="No states available";e.NoTeamFavoriteQueries="Drag shared queries here to add them to your team favorites.";e.TestPlanDeleteConfirmationDialogText="Are you sure you want to delete this work item? \u003cb\u003e{0} ID: {1}\u003c/b\u003e and all its child Test Suites, Tests across all configurations and testers along with their Test Result History will be permanently deleted. {2}";e.LinkSelectedItemsToNewWorkItem="Link to a new work item...";e.BrowserRefreshRequired="VS402831: Changes have been made to the process that require you to refresh your browser.";e.RollupColumn_ProgressBy_Backlog="Progress by {0}";e.BulkEdit_ApplyTemplateMessage="Are you sure you want to apply the template \u0027{0}\u0027? The selected work items will be automatically saved.";e.EmptyMyFavoriteGroupTextPrefix="No favorites yet! Favorite a query";e.FieldCannotBeEditedNorRemoved="{0}, this field cannot be edited nor removed";e.LinksControlUnknownLinkTypeText="Unknown link type to execute.";e.CopyWorkItemTitle="Copy work item title (Shift+Alt+C)";e.QueryResultsGridStatusNoResultsText="Query returned no results.";e.ImporCsvDoubleQuoteTerminatedEarlyError="Double-quoted value possibly terminated too early or missing delimiter at line {0}, column {1}.";e.WorkItemSaveLabel="Save";e.FilterStatusFieldName="work-item-status";e.WorkItemFinderResetButtonText="Reset";e.BulkUnfollowsFailed="One or more items could not be unfollowed. Refresh the query and try again.";e.MobileDiscussionAddComment="Add a comment";e.ChangeTypeTooltipDisabled="Not supported when querying across projects";e.QueriesHub_NewFolderCreated_LinkText="Click to open it.";e.EmptyMyFavoriteGroupTextSuffix="to quickly access it here.";e.CreateCopyOfWorkItemSourceFormat="Creating a copy of {0} {1}: {2}";e.HistoryControlViaText=" (via ";e.LoadingWorkItemsLoading="Loading work items...";e.FilesUploadedExceedMaxMb="The following file(s) can\u0027t be uploaded because they exceed our {0} MB file size limit: {1}";e.ErrorEmailUnsavedWorkItems="The selected work items cannot be emailed. You have new work items that have not yet been saved. To proceed, exclude the new work items from the selection.";e.QueriesView_AllPivotName="All";e.EmailSelectedWorkItems="Email...";e.SaveItems="Save items";e.WorkItemFinderTitleContains="Title contains";e.SaveQuery="Save query";e.MoveTargetWorkItemBlockedCase="Work item type {0} cannot be moved because it is disabled, hidden or not supported in the destination project {1}.";e.TagsDeleteButton_AriaLabel="Delete {0} tag";e.DownloadAttachment="Download attachment";e.DeleteQuery="Delete";e.FieldStatusInvalidTooLongError="The value for field \u0027{0}\u0027 is too long.";e.BulkEditWorkItemsTitle="Edit work items";e.OpenInNewTab="Open in new window";e.ChangeTypeDialogTitle="Change work item type";e.RichEditorRestoreName="Restore {0}";e.HistoryControlSingleAttachmentAdornmentText="{0} was added";e.LinksControlWikiPageText="Wiki page";e.WorkItemProjectChangedNotificationMessage="The work item now belongs to a different project.";e.NoMyFavoriteQueries="Drag queries here to add them to your favorites.";e.LinkTopologyNetworkImageAltText="This is a non-directional link that can be created between any set of work items";e.CreateCopyOfWorkItem="Create copy of work item...";e.GitHubZeroDataPullRequestTypeText="pull request";e.CustomFollowDialogStateCheckbox="State Changed";e.EditQuery="Edit";e.RemoteLinkDialogAddressTitle="Remote work item url";e.ErrorExtensionService_CannotRefreshWorkItem="You cannot refresh a work item that is new";e.RunQuery="Run query";e.RenameQueryTitle="Rename query";e.FollowWorkItem="Follow";e.DateTimePicker_HourDownAriaLabel="Decrease hour";e.ImporCsvEmptyFieldValuesError="Empty field value at line {0}, column(s) {1}.";e.AddAColumn="Add a column";e.FieldDoesNotExist="This field does not exist";e.ImporCsvDoubleQuoteNotEnclosedError="Double-quote not enclosed in double-quotes at line {0}, column {1}.";e.QueryFilterInvalidMacro="TF20036: The macro \u0027{0}\u0027 is not recognized. Available macros include @Me, @Project, @Today and @CurrentIteration. ";e.MoveWorkItemAreaPathWatermark="Select an area path";e.SavingWorkItemsLoading="Saving work items...";e.HistoryControlSummaryAssigned="Assigned";e.KeyboardShortcutDescription_LinksTab="Move to links tab";e.RestoreWorkItemDialogTitle="Restore work item(s)";e.StatusMessage_FatalError="An error has occurred while attempting to save your changes. Discard your changes and refresh the page. Error details: {0}";e.IdField="ID Field";e.WorkItemNotSaveable="Work item can not be saved in its current state. Its either not changed or has errors.";e.HistoryControlCommentAriaLabel="Comment";e.AttachmentsGridDateAttachedColumn="Date Attached";e.FieldStatusInvalidFormatError="The value for field \u0027{0}\u0027 is not in a recognized format.";e.AddAttachmentDialogFieldAttachment="Attachment(s)";e.WorkItemDiscussionPreviewAriaLabel="Discussion: Total comments {0}. Click here to view discussion.";e.ErrorCopyingChildItem="Error copying child item {0}: {1}";e.WorkItemBulkDeleteError="We were unable to delete some work item(s). They no longer exist or access is denied. Please refresh to see the failed items.";e.SaveAttachment="Save attachment";e.EditCommentDialogLabel="Comment:";e.RollupColumn_ProgressBy_EffortField="Progress by {0}";e.QuoteReply="Quote reply";e.UntitledQuery="Untitled query";e.RunQuery_PromptUnsavedWorkItemChanges_RejectButtonText="Cancel";e.LinkDialogHyperlinkAddressTitle="Address";e.Edit="Edit";e.Open="Open";e.Save="Save";e.KeyboardShortcutDescription_OpenCurrentIteration="Open sprint";e.WorkItemLogControlMadeChanges="made field changes";e.WorkItemCommentsRetrievalError="Unable to retrieve comments";e.AttachmentUploadingStart="One or more attachments are uploading.";e.RollupTotalByTooltip="{0} {1}";e.AttachmentUploadingError="Error happened when uploading one or more attachments.";e.NewQueryHotkey="(C Q)";e.SharedStepDeleteConfirmationDialogText="Are you sure you want to delete this work item? \u003cb\u003e{0} ID: {1}\u003c/b\u003e will be permanently deleted. {2}";e.ReactionAdditionalUsersCount="+{0} users";e.FieldStatusInvalidTypeError="The value for field \u0027{0}\u0027 is not of the right type.";e.ChangeTypeLabel="Type";e.CopyQueryURLTitle="Copies the query URL to the clipboard.";e.QueryResultsGridLinkQueryStatusSecondaryTextFormat="{0} top level, {1} linked and {2} selected";e.WorkItemLogControlMadeChange="changed {0}";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemControl",["require","exports","VSS/Utils/Core","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Utils/UI","VSS/Utils/String","WorkItemTracking/Scripts/Form/Events","VSS/Events/Services","VSS/Controls/PopupContent","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper","WorkItemTracking/Scripts/Utils/FormRendererHelpers","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","q","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var b,k,w,d;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemControl=t.WorkItemControlEditState=void 0;b=o.getService();k=i.delegate,function(n){n[n.Editable=0]="Editable";n[n.RulesBasedReadOnly=1]="RulesBasedReadOnly";n[n.ControlBasedReadOnly=2]="ControlBasedReadOnly";n[n.WorkItemReadOnly=3]="WorkItemReadOnly"}(w=t.WorkItemControlEditState||(t.WorkItemControlEditState={}));d=function(){function n(t,i,r,u){var f=this,e;if(this.constructor===n)throw new Error("You cannot instantiate an abstract type.");this._container=t;this._controlContainer=t.parents(".control").first();this._options=__assign({},i);this._workItemType=r;this._extensions=u||[];this._readOnly=this._options.readOnly==="True";this._fieldName=this._options.fieldName;this._options.workItemLabel&&(this._workItemLabel=this._options.workItemLabel);this._options.minHeight===undefined&&(this._options.minHeight=n.DEFAULT_CONTROL_HEIGHT);e=t.parents(".witform-layout").first().data("witOptions");e&&!this._options.hideWhenReadOnlyAndEmpty&&(this._options.hideWhenReadOnlyAndEmpty=e.hideReadOnlyEmptyFields);this._onFieldChangedDelegate=k(this,this._onFieldChanged);this._init();this._container.focusout(function(){f._isFieldValueChanged&&f._workItem&&h.WIFormCIDataHelper.fieldValueChanged(f._workItem.sessionId,f._fieldName,f._options.controlType);f._isFieldValueChanged=!1})}return n.prototype.getControlId=function(){return this._options.controlId},n.prototype.getControlType=function(){return this._options.controlType},n.prototype._getFieldType=function(){var n=null;return this._fieldName&&this._workItemType&&(n=this._workItemType.getFieldDefinition(this._fieldName),n)?n.type:0},n.prototype.getFieldDefinition=function(n){var t=this._workItemType.getFieldDefinition(n);return t||(t=this.getExtensionField(n)),t},n.prototype.getExtensionField=function(n){for(var r,u=(""+n).toUpperCase(),t=null,i=0;i<this._extensions.length&&!t;i++)r=this._extensions[i],r.fields.forEach(function(n){if(n.field.referenceName.toUpperCase()===u)return t=n,!1});return t},n.prototype._getField=function(){var n=null;return this._fieldName&&this._workItem&&(n=this._workItem.getField(this._fieldName)),n},n.prototype._getFieldTextValue=function(n){return(n=n||this._getField(),n)?n.getDisplayText():""},n.prototype.isReadOnly=function(){return this.getEditState()!==w.Editable},n.prototype.getEditState=function(){var i,n=this._getField(),f=y.FeatureAvailabilityService.isFeatureEnabled(p.FeatureAvailabilityFlags.UseSaveCommentsPermission,!1),r=f&&this._workItem&&this._workItem.isCommentingAvailable(),u=n&&((i=n.fieldDefinition)===null||i===void 0?void 0:i.id)===a.CoreField.History,t;return this._readOnly?w.ControlBasedReadOnly:(t=this._workItem&&this._workItem.isReadOnly(),r&&(t=!u&&t),!this._workItem||t)?w.WorkItemReadOnly:r&&u&&n.fieldDefinition.isEditable()?w.Editable:n&&n.isReadOnly()?w.RulesBasedReadOnly:w.Editable},n.prototype._init=function(){this._fieldName&&(this._fieldEvents=[this._fieldName]);this._container.keydown(k(this,this._onKeyDownHandler))},n.prototype._onFieldChanged=function(){this.suppressInvalidate||this.invalidate(this._flushing);this._isFieldValueChanged=!0},n.prototype.bind=function(n,t){var i,r,u;if(this.cleanUp(),this._workItemLabel&&this._workItemLabel.bind(n),this._readOnly=t?!0:this._options.readOnly==="True",this._workItem=n,this._fieldEvents)for(i=0,r=this._fieldEvents;i<r.length;i++)u=r[i],n.attachFieldChange(u,this._onFieldChangedDelegate);this.invalidate(!1)},n.prototype.unbind=function(n){this._workItemLabel&&this._workItemLabel.unbind();this.cleanUp();!n&&this.shouldClearOnUnbind()&&this.clear()},n.prototype.shouldClearOnUnbind=function(){return!1},n.prototype.cleanUp=function(){var n,t,i;if(this._workItem){if(this._fieldEvents)for(n=0,t=this._fieldEvents;n<t.length;n++)i=t[n],this._workItem.detachFieldChange(i,this._onFieldChangedDelegate);this._workItem=null}},n.prototype.invalidate=function(){var n=this._getField(),t,i;this._options.hideWhenReadOnlyAndEmpty&&n&&(t=this._controlContainer.css("display")==="none",i={controlElement:this._controlContainer,isVisible:!t},n.isReadOnly()&&this.isEmpty()?t||(this._controlContainer.hide(),b.fire(e.FormEvents.ControlVisibilityChangedEvent(),i)):t&&(this._controlContainer.show(),b.fire(e.FormEvents.ControlVisibilityChangedEvent(),i)));n&&(this._workItemLabel&&this._workItemLabel.setFieldIsValid(n.isValid()),this._controlContainer.toggleClass("invalid",!n.isValid()));this._workItemLabel&&this._workItemLabel.invalidate();!this.isReadOnly()&&this._readOnlyContainer&&(this._readOnlyContainer.remove(),this._readOnlyContainer=null,this._readOnlyToolTip&&this._readOnlyToolTip.dispose());this._readOnlyContainer||this.getEditState()!==w.RulesBasedReadOnly&&this.getEditState()!==w.ControlBasedReadOnly||c.isReadOnlyFieldIconHidden(this._options.controlType)||this.isReadOnlyIconHidden()||this._createReadOnlyIconAndTooltip()},n.prototype.flush=function(n){if(n===void 0&&(n=!1),!this.isReadOnly()){var t=this._getField();if(t)try{this._flushing=!0;t.setValue(this._getControlValue(),!1,n)}finally{this._flushing=!1}}},n.prototype.flushSetText=function(n,t){var i,r;if(t===void 0&&(t=!1),!this.isReadOnly()&&(i=this._getField(),i))try{this._flushing=!0;r=n!==null&&n!==undefined?n:this._getControlValue();i.setValue(r,!1,t)}finally{this._flushing=!1}},n.prototype._getControlValue=function(){return null},n.prototype.clear=function(){},n.prototype.getTfsContext=function(){return this._workItem?this._workItem.store.getTfsContext():this._workItemType?this._workItemType.store.getTfsContext():r.TfsContext.getDefault()},n.prototype.dispose=function(){},n.prototype.getAvailableSpaceImmediate=function(){var n=this._container.closest(".grid-group"),r=this._container.closest(".form-grid"),t;if(!n.length||!r.length)return{width:this._container.width(),height:this._container.height()};var i=n.innerHeight()-n.height()+1,f=n.find(".tfs-collapsible-content"),u=f.position().top,e=n.hasClass("maximized-grid-group");return e?{width:n.width(),height:n.height()-u-i}:this._options.autoFitFormHeight?(t=r.height()-u-i,this._options.minHeight&&t<this._options.minHeight&&(t=this._options.minHeight),{width:n.width(),height:t}):{width:this._container.width(),height:this._container.height()-i}},n.prototype.getAvailableSpace=function(){var n=this;return v.delay(1).then(function(){return n.getAvailableSpaceImmediate()})},n.prototype.onResize=function(){this.onControlResized()},n.prototype.onControlResized=function(){},n.prototype.isEmpty=function(){var t=this._getField(),n;return t?(n=t.getValue(),n===undefined||n===null||n===""):!1},n.prototype.isReadOnlyIconHidden=function(){return this._options.isReadOnlyIconHidden},n.prototype._onKeyDownHandler=function(n){return this._workItem.isSaving()?!1:n.keyCode===u.KeyCode.BACKSPACE&&this.isReadOnly()?!1:void 0},n.prototype._createReadOnlyIconAndTooltip=function(){this._readOnlyContainer=$("<div/>").disableSelection().addClass("read-only-field-icon").attr({unselectable:"on","aria-hidden":"true"}).prependTo(this._container);$("<span/>").addClass("bowtie-icon bowtie-security-lock read-only-icon-span").attr("unselectable","on").appendTo(this._readOnlyContainer);this._readOnlyToolTip=s.RichContentTooltip.add(f.format(l.WorkItemControlReadOnly,this.getFieldDefinition(this._fieldName).name),this._readOnlyContainer,{useMousePosition:!0})},n.DEFAULT_CONTROL_HEIGHT=100,n}();t.WorkItemControl=d});

define("WorkItemTracking/Scripts/OM/WorkItemConstants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d;Object.defineProperty(t,"__esModule",{value:!0});t.CoreLinkTypes=t.LinkTypeName=t.WorkItemPaneMode=t.PageSizes=t.BugWITFieldReferenceNames=t.WorkItemUpdateResultState=t.RelatedDataKeys=t.Actions=t.WorkItemCategoryConstants=t.FieldFlags=t.FieldUsages=t.RuleEvaluatorExecutionPhase=t.FieldStatusFlags=t.FieldStatus=t.Exceptions=t.WorkItemChangeType=t.ServerDefaultValueType=t.ExtensionConstants=void 0,function(n){n.LayoutUserSettingsProvider="ms.vss-work-web.work-item-layout-user-settings-data-provider";n.UnfollowsDataProvider="ms.vss-work-web.work-item-unfollows-data-provider"}(i=t.ExtensionConstants||(t.ExtensionConstants={})),function(n){n[n.None=0]="None";n[n.ServerDateTime=1]="ServerDateTime";n[n.CallerIdentity=2]="CallerIdentity";n[n.RandomGuid=3]="RandomGuid"}(r=t.ServerDefaultValueType||(t.ServerDefaultValueType={})),function(n){n.FieldChange="field-change";n.FieldAllowedValuesChange="field-allowed-values-change";n.PreSave="pre-save";n.Saving="saving";n.SaveCompleted="save-completed";n.Validating="validating";n.ValidationCompleted="validation-completed";n.Saved="saved";n.Opened="opened";n.Created="created";n.Refresh="refresh";n.Reset="reset";n.ErrorChanged="error-changed";n.Discarded="discarded";n.Deleted="deleted";n.ProjectChanging="project-changing";n.ProjectChanged="project-changed";n.TypeChanging="type-changing";n.TypeChanged="type-changed";n.WorkItemLinkChangedOutside="workitem-link-updated-outside"}(u=t.WorkItemChangeType||(t.WorkItemChangeType={})),function(n){n.OperationCanceledException="VSS.WorkItemTracking.OperationCanceledException";n.WorkItemBulkSaveException="VSS.WorkItemTracking.WorkItemBulkSaveException";n.ProjectDoesNotExistException="VSS.WorkItemTracking.ProjectDoesNotExistException";n.FieldDoesNotExistException="VSS.WorkItemTracking.FieldDoesNotExistException";n.LinkTypeEndDoesNotExistException="VSS.WorkItemTracking.LinkTypeEndDoesNotExistException";n.LinkTypeDoesNotExistException="VSS.WorkItemTracking.LinkTypeDoesNotExistException";n.WorkItemSaveFailedDueToInvalidStatusException="VSS.WorkItemTracking.WorkItemSaveFailedDueToInvalidStatusException";n.InvalidQuerySyntaxException="VSS.WorkItemTracking.InvalidQuerySyntaxException";n.InvalidQueryFilterRowException="VSS.WorkItemTracking.InvalidQueryFilterRowException";n.QueryItemAlreadyExistException="VSS.WorkItemTracking.QueryItemAlreadyExistException";n.QueryFolderDoesNotExistException="VSS.WorkItemTracking.QueryFolderDoesNotExistException";n.InvalidOperationException="System.InvalidOperationException"}(f=t.Exceptions||(t.Exceptions={})),function(n){n[n.Valid=0]="Valid";n[n.InvalidEmpty=1]="InvalidEmpty";n[n.InvalidNotEmpty=2]="InvalidNotEmpty";n[n.InvalidFormat=3]="InvalidFormat";n[n.InvalidListValue=4]="InvalidListValue";n[n.InvalidOldValue=5]="InvalidOldValue";n[n.InvalidNotOldValue=6]="InvalidNotOldValue";n[n.InvalidEmptyOrOldValue=7]="InvalidEmptyOrOldValue";n[n.InvalidNotEmptyOrOldValue=8]="InvalidNotEmptyOrOldValue";n[n.InvalidValueInOtherField=9]="InvalidValueInOtherField";n[n.InvalidValueNotInOtherField=10]="InvalidValueNotInOtherField";n[n.InvalidDate=11]="InvalidDate";n[n.InvalidTooLong=12]="InvalidTooLong";n[n.InvalidType=13]="InvalidType";n[n.InvalidComputedField=14]="InvalidComputedField";n[n.InvalidPath=15]="InvalidPath";n[n.InvalidCharacters=16]="InvalidCharacters";n[n.InvalidIdentity=17]="InvalidIdentity";n[n.InvalidUnknown=18]="InvalidUnknown"}(e=t.FieldStatus||(t.FieldStatus={})),function(n){n[n.None=0]="None";n[n.AllowsOldValue=64]="AllowsOldValue";n[n.HasFormats=16]="HasFormats";n[n.HasValues=4]="HasValues";n[n.InvalidCharacters=131072]="InvalidCharacters";n[n.InvalidComputedField=536870912]="InvalidComputedField";n[n.InvalidDate=8192]="InvalidDate";n[n.InvalidEmpty=524288]="InvalidEmpty";n[n.InvalidEmptyOrOldValue=33554432]="InvalidEmptyOrOldValue";n[n.InvalidFormat=2097152]="InvalidFormat";n[n.InvalidID=16384]="InvalidID";n[n.InvalidListValue=4194304]="InvalidListValue";n[n.InvalidMask=2147479552]="InvalidMask";n[n.InvalidNotEmpty=1048576]="InvalidNotEmpty";n[n.InvalidNotEmptyOrOldValue=67108864]="InvalidNotEmptyOrOldValue";n[n.InvalidNotOldValue=16777216]="InvalidNotOldValue";n[n.InvalidOldValue=8388608]="InvalidOldValue";n[n.InvalidPath=32768]="InvalidPath";n[n.InvalidRule=262144]="InvalidRule";n[n.InvalidTooLong=65536]="InvalidTooLong";n[n.InvalidType=4096]="InvalidType";n[n.InvalidValueInOtherField=134217728]="InvalidValueInOtherField";n[n.InvalidValueNotInOtherField=268435456]="InvalidValueNotInOtherField";n[n.LimitedToFormats=32]="LimitedToFormats";n[n.LimitedToValues=8]="LimitedToValues";n[n.ReadOnly=2]="ReadOnly";n[n.Required=1]="Required";n[n.SetByRule=128]="SetByRule";n[n.SetByDefaultRule=256]="SetByDefaultRule";n[n.SetByComputedRule=512]="SetByComputedRule";n[n.InvalidIdentityField=1073741824]="InvalidIdentityField"}(o=t.FieldStatusFlags||(t.FieldStatusFlags={})),function(n){n[n.DefaultRules=1]="DefaultRules";n[n.CopyRules=2]="CopyRules";n[n.OtherRules=3]="OtherRules"}(s=t.RuleEvaluatorExecutionPhase||(t.RuleEvaluatorExecutionPhase={})),function(n){n[n.None=0]="None";n[n.WorkItem=1]="WorkItem";n[n.WorkItemLink=2]="WorkItemLink";n[n.Tree=4]="Tree";n[n.WorkItemTypeExtension=8]="WorkItemTypeExtension"}(h=t.FieldUsages||(t.FieldUsages={})),function(n){n[n.None=0]="None";n[n.Sortable=1]="Sortable";n[n.Computed=2]="Computed";n[n.Editable=4]="Editable";n[n.Ignored=8]="Ignored";n[n.Queryable=16]="Queryable";n[n.Reportable=32]="Reportable";n[n.PersonField=64]="PersonField";n[n.Cloneable=128]="Cloneable";n[n.LongText=256]="LongText";n[n.SupportsTextQuery=512]="SupportsTextQuery"}(c=t.FieldFlags||(t.FieldFlags={})),function(n){n.HIDDEN="Microsoft.HiddenCategory";n.TEST_CASE="Microsoft.TestCaseCategory";n.TEST_PLAN="Microsoft.TestPlanCategory";n.TEST_SUITE="Microsoft.TestSuiteCategory";n.TEST_SHAREDSTEP="Microsoft.SharedStepCategory";n.TEST_SHAREDPARAMETER="Microsoft.SharedParameterCategory"}(l=t.WorkItemCategoryConstants||(t.WorkItemCategoryConstants={})),function(n){n.NEW_PROJECT_DATA="new-project-data";n.DISCUSSION_ADDED="discussion-added";n.DISCUSSION_DELETED="discussion-deleted";n.DISCUSSION_UPDATED="discussion-updated";n.RESET_DISCUSSION="reset-discussion";n.RESET_HISTORY="reset-history";n.DISCUSSION_EDIT_DIRTY_CHANGED="discussion-dirty-changed";n.DISCUSSION_COMMENT_UPDATED="discussion-comment-updated";n.WORKITEM_DELETED="workitem-deleted";n.WORKITEM_RESTORED="workitem-restored";n.WORKITEM_DESTROYED="workitem-destroyed";n.WORKITEM_DISCARDED="workitem-discarded";n.WORKITEM_ID_UPDATED="workitem-id-updated";n.WORKITEM_COPIED="workitem-copied"}(a=t.Actions||(t.Actions={})),function(n){n.HISTORY_OUTDATED="history-outdated";n.WORKITEM_MANAGER_KEY="workitem-manager"}(v=t.RelatedDataKeys||(t.RelatedDataKeys={})),function(n){n.NoResult="NoResult";n.Error="Error";n.Success="Success"}(y=t.WorkItemUpdateResultState||(t.WorkItemUpdateResultState={})),function(n){n.ReproSteps="Microsoft.VSTS.TCM.ReproSteps"}(p=t.BugWITFieldReferenceNames||(t.BugWITFieldReferenceNames={})),function(n){n.QUERY=200;n.SAVE=200}(w=t.PageSizes||(t.PageSizes={})),function(n){n.Off="off";n.Right="right";n.Bottom="bottom"}(b=t.WorkItemPaneMode||(t.WorkItemPaneMode={})),function(n){n.Child_Link_Name="System.LinkTypes.Hierarchy-Forward";n.Parent_Link_Name="System.LinkTypes.Hierarchy-Reverse";n.Related_Link_Name="System.LinkTypes.Related-Forward"}(k=t.LinkTypeName||(t.LinkTypeName={})),function(n){n[n.Related=1]="Related";n[n.Parent=-2]="Parent";n[n.Child=2]="Child";n[n.Predecessor=-3]="Predecessor";n[n.Successor=3]="Successor"}(d=t.CoreLinkTypes||(t.CoreLinkTypes={}))});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace",["require","exports","VSS/Context","VSS/ClientTrace/Services","VSS/ClientTrace/Contracts"],function(n,t,i,r,u){function f(n,t,f,e){var o=i.getPageContext(),s=window.navigator.userAgent,h=o&&o.diagnostics&&o.diagnostics.sessionId||"",c={userAgent:s,sessionId:h},l={area:n,component:t,feature:f,exceptionType:null,level:u.Level.Info,message:e,method:null,properties:c};r.trace(l)}Object.defineProperty(t,"__esModule",{value:!0});t.traceMessage=void 0;t.traceMessage=f});

define("VSS/Flux/Store",["require","exports","VSS/Events/Handlers"],function(n,t,i){var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.RemoteStore=t.DefaultStore=t.Store=void 0;r=function(){function n(){this._changedHandlers=new i.EventHandlerList;this._namedEventCollection=new i.NamedEventCollection}return n.prototype.addChangedListener=function(n){this._changedHandlers.subscribe(n)},n.prototype.removeChangedListener=function(n){this._changedHandlers.unsubscribe(n)},n.prototype.emitChanged=function(){this._changedHandlers.invokeHandlers(this)},n.prototype.emit=function(n,t,i){this._namedEventCollection.invokeHandlers(n,t,i)},n.prototype.addListener=function(n,t){this._namedEventCollection.subscribe(n,t)},n.prototype.removeListener=function(n,t){this._namedEventCollection.unsubscribe(n,t)},n}();t.Store=r;u=function(n){function t(){var t=__construct(this,n,[]),i,r;for(i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return r=t.getAction(),r!==null&&r.addListener(t.onChange,t),t}return __extends(t,n),t.prototype.getAction=function(){return null},t.prototype.onChange=function(n){this._value=n;this.emitChanged()},t.prototype.getValue=function(){return this._value},t}(r);t.DefaultStore=u;f=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._loading=!0,t._error=null,t}return __extends(t,n),t.prototype.isLoading=function(){return this._loading},t.prototype.hasError=function(){return this._error!==null},t.prototype.getError=function(){return this._error},t.prototype.onError=function(n){this._error=n;this.emitChanged()},t}(r);t.RemoteStore=f});

define("VSS/Flux/Action",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.Action=void 0;var i="DEFAULT_SCOPE",r=function(){function n(n){n===void 0&&(n=i);this._listeners=[];this._scope=n}return n.prototype.invoke=function(t){if(n.executingScopes[this._scope])throw new Error("Cannot invoke an action with scope ".concat(this._scope," from inside another action with the same scope"));n.executingScopes[this._scope]=!0;try{this._listeners.forEach(function(n){n(t)})}finally{delete n.executingScopes[this._scope]}},n.prototype.addListener=function(n,t){var i=t?n.bind(t):n;return this._listeners.push(i),i},n.prototype.removeListener=function(n){var t=this._listeners.indexOf(n);t>=0&&this._listeners.splice(t,1)},n.executingScopes={},n}();t.Action=r});

define("VSS/Settings/RestClient",["require","exports","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r){"use strict";function d(n){return window.VSS&&window.VSS.VssSDKRestVersion&&b[window.VSS.VssSDKRestVersion]?i.getClient(b[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):i.getClient(e,undefined,undefined,undefined,n)}var u,f,e,o,s,h,c,l,a,v,y,p,w,k,b;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.SettingsHttpClient=t.SettingsHttpClient3=t.SettingsHttpClient3_1=t.SettingsHttpClient3_2=t.SettingsHttpClient4=t.SettingsHttpClient4_1=t.SettingsHttpClient5=t.SettingsHttpClient5_1=t.SettingsHttpClient5_2=t.SettingsHttpClient6=t.SettingsHttpClient6_1=t.SettingsHttpClient7=t.SettingsHttpClient7_1=t.CommonMethods3To7_1=void 0;u=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.setEntriesForScope=function(n,t,i,r){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Settings",locationId:"4cbaafaf-e8af-4570-98d1-79ee99c56327",resource:"Entries",routeTemplate:"_apis/{area}/{scopeName}/{scopeValue}/{resource}/{userScope}/{*key}",routeValues:{userScope:t,scopeName:i,scopeValue:r},apiVersion:this.entriesApiVersion,data:n})},t.prototype.removeEntriesForScope=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Settings",locationId:"4cbaafaf-e8af-4570-98d1-79ee99c56327",resource:"Entries",routeTemplate:"_apis/{area}/{scopeName}/{scopeValue}/{resource}/{userScope}/{*key}",routeValues:{userScope:n,scopeName:t,scopeValue:i,key:r},apiVersion:this.entriesApiVersion})},t.prototype.getEntriesForScope=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Settings",locationId:"4cbaafaf-e8af-4570-98d1-79ee99c56327",resource:"Entries",routeTemplate:"_apis/{area}/{scopeName}/{scopeValue}/{resource}/{userScope}/{*key}",responseIsCollection:!0,routeValues:{userScope:n,scopeName:t,scopeValue:i,key:r},apiVersion:this.entriesApiVersion})},t.prototype.setEntries=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Settings",locationId:"cd006711-163d-4cd4-a597-b05bad2556ff",resource:"Entries",routeTemplate:"_apis/{area}/{resource}/{userScope}/{*key}",routeValues:{userScope:t},apiVersion:this.entriesApiVersion_cd006711,data:n})},t.prototype.removeEntries=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Settings",locationId:"cd006711-163d-4cd4-a597-b05bad2556ff",resource:"Entries",routeTemplate:"_apis/{area}/{resource}/{userScope}/{*key}",routeValues:{userScope:n,key:t},apiVersion:this.entriesApiVersion_cd006711})},t.prototype.getEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Settings",locationId:"cd006711-163d-4cd4-a597-b05bad2556ff",resource:"Entries",routeTemplate:"_apis/{area}/{resource}/{userScope}/{*key}",responseIsCollection:!0,routeValues:{userScope:n,key:t},apiVersion:this.entriesApiVersion_cd006711})},t}(r.VssHttpClient);t.CommonMethods3To7_1=u;f=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="7.1-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient7_1=f;e=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="7.0-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient7=e;o=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="6.1-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient6_1=o;s=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="6.0-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient6=s;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="5.2-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient5_2=h;c=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="5.1-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient5_1=c;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="5.0-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient5=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="4.1-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient4_1=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="4.0-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient4=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="3.2-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient3_2=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="3.1-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient3_1=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="3.0-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient3=w;k=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(f);t.SettingsHttpClient=k;b={"7.1":f,"7.0":e,"6.1":o,"6.0":s,"5.2":h,"5.1":c,"5.0":l,"4.1":a,"4.0":v,"3.2":y,"3.1":p,"3.0":w};t.getClient=d});

define("VSS/Settings/Services",["require","exports","q","VSS/Contributions/LocalPageData","VSS/Service","VSS/Settings/RestClient","VSS/User/Services"],function(n,t,i,r,u,f,e){function c(n){return u.VssConnection.getConnection(n).getService(h)}Object.defineProperty(t,"__esModule",{value:!0});t.getService=void 0;var s=i({value:{},count:0}),o=i(),h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),Object.defineProperty(t.prototype,"httpClient",{get:function(){return this._httpClient||(this._httpClient=u.getClient(f.SettingsHttpClient)),this._httpClient},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canCallSettingsEndpoint",{get:function(){return this._claimsService||(this._claimsService=e.getService()),this._claimsService.hasClaim(e.UserClaims.Member)},enumerable:!1,configurable:!0}),t.prototype.getEntry=function(n,t,i,u){var h,c,l,f,e,v,y,a,o,s;if(!this.canCallSettingsEndpoint)return undefined;if(h=r.getSharedData("_settings"),h&&(c=this.userScopeToString(t),i&&(c+=";"+i+";"+(u||"")),l=h[c],l))for(f=n.split("/"),e=0,v=f.length;e<v;e++)if(y=f.slice(0,e+1).join("/"),a=l[y],a){for(o=a,s=e+1;s<f.length&&o;s++)o=o[f[s]];return o}return undefined},t.prototype.getEntriesAsync=function(n,t,i,r){return this.canCallSettingsEndpoint?i?this.httpClient.getEntriesForScope(this.userScopeToString(t),i,r,n):this.httpClient.getEntries(this.userScopeToString(t),n):s},t.prototype.setEntries=function(n,t,i,r){return this.canCallSettingsEndpoint?i?this.httpClient.setEntriesForScope(n,this.userScopeToString(t),i,r):this.httpClient.setEntries(n,this.userScopeToString(t)):o},t.prototype.removeEntries=function(n,t,i,r){return this.canCallSettingsEndpoint?i?this.httpClient.removeEntriesForScope(this.userScopeToString(t),i,r,n):this.httpClient.removeEntries(this.userScopeToString(t),n):o},t.prototype.userScopeToString=function(n){return n===1?"host":"me"},t}(u.VssService);t.getService=c});

var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};define("VSSPreview/Utilities/PromiseUtils",["require","exports"],function(n,t){function r(n,t,i){return new Promise(function(r,u){var f=setTimeout(function(){u(i==null?"Timed out after ".concat(t," ms."):i)},t);n.then(function(n){r(n);clearTimeout(f)},function(n){u(n);clearTimeout(f)})})}function i(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,new Promise(function(t){setTimeout(t,n)})]})})}function u(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,Promise.all([n,i(t)])];case 1:return[2,r.sent()[0]]}})})}function f(n){var t=new Array(n.length);return new Promise(function(i){for(var u=0,f=function(r){var f=n[r];f.then(function(n){t[r]={state:"fulfilled",value:n}},function(n){t[r]={state:"rejected",reason:n}}).then(function(){++u===n.length&&i(t)})},r=0;r<n.length;++r)f(r)})}function e(n){return n instanceof Promise?n:new Promise(function(t,i){n.then(t,i)})}function o(){var n,t,i=new Promise(function(i,r){n=i;t=r});return{resolve:n,reject:t,promise:i}}Object.defineProperty(t,"__esModule",{value:!0});t.defer=t.toNativePromise=t.allSettled=t.delay=t.wait=t.timeout=void 0;t.timeout=r;t.wait=i;t.delay=u;t.allSettled=f;t.toNativePromise=e;t.defer=o});

define("WorkItemTracking/Scripts/MruClassificationPicker/Actions/ClassificationFieldsMruSettingsUtils",["require","exports","VSS/Settings/Services","VSS/Utils/Array","VSSPreview/Utilities/PromiseUtils"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.ClassificationFieldsMruSettingsUtils=void 0,function(n){n.SettingsKey="ClassificationFieldsMru";n.AreaPathMruKey="AreaPath";n.IterationPathMruKey="IterationPath";n.MruLength=5}(f||(f={}));e=function(){function n(){this._settingsService=i.getService()}return n.prototype.readMru=function(n){return u.toNativePromise(this._settingsService.getEntriesAsync(f.SettingsKey,0,"project",n))},n.prototype.parseMru=function(n,t){return{projectId:n,areaPathMru:t&&t.value&&t.value[f.AreaPathMruKey]||[],iterationPathMru:t&&t.value&&t.value[f.IterationPathMruKey]||[]}},n.prototype.getMru=function(n){var t=this;return this.readMru(n).then(function(i){return t.parseMru(n,i)})},n.prototype.updateAreaPathMru=function(n,t){var i=this;return this.getMru(n).then(function(r){var e=i._buildNewMru(r.areaPathMru,t),o={};return o["".concat(f.SettingsKey,"/").concat(f.AreaPathMruKey)]=e,u.toNativePromise(i._settingsService.setEntries(o,0,"project",n).then(function(){return e}))})},n.prototype.updateIterationPathMru=function(n,t){var i=this;return this.getMru(n).then(function(r){var e=i._buildNewMru(r.iterationPathMru,t),o={};return o["".concat(f.SettingsKey,"/").concat(f.IterationPathMruKey)]=e,u.toNativePromise(i._settingsService.setEntries(o,0,"project",n).then(function(){return e}))})},n.prototype._buildNewMru=function(n,t){if(!t||t.length===0)return n;var u=r.unique(t),e=r.subtract(n,u),i=u.concat(e);return i.splice(f.MruLength,i.length-f.MruLength),i},n}();t.ClassificationFieldsMruSettingsUtils=e});

define("WorkItemTracking/Scripts/MruClassificationPicker/Actions/ClassificationFieldsMruActionsCreator",["require","exports","VSS/Error","VSS/Flux/Action","WorkItemTracking/Scripts/MruClassificationPicker/Actions/ClassificationFieldsMruSettingsUtils"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.ClassificationFieldsMruActionsCreator=t.ActionsHub=void 0;f=function(){function n(){this.InitializeClassificationFieldsMru=new r.Action;this.SetAreaPathMru=new r.Action;this.SetIterationPathMru=new r.Action}return n}();t.ActionsHub=f;e=function(){function n(n,t){this._actionsHub=n;this._classificationFieldsMruDataProvider=t;this._mruSettingsUtils=new u.ClassificationFieldsMruSettingsUtils}return n.prototype.initializeClassificationFieldsMru=function(n){var t=this;this._classificationFieldsMruDataProvider.isLoaded(n)?this._actionsHub.InitializeClassificationFieldsMru.invoke(null):this._classificationFieldsMruDataProvider.isLoading(n)||(this._classificationFieldsMruDataProvider.setLoading(n,!0),this._mruSettingsUtils.readMru(n).then(function(i){t._classificationFieldsMruDataProvider.setLoading(n,!1);var r=t._mruSettingsUtils.parseMru(n,i);t._actionsHub.InitializeClassificationFieldsMru.invoke(r)},this._logError))},n.prototype.addToAreaPathMru=function(n,t){var i=this;this._mruSettingsUtils.updateAreaPathMru(n,t).then(function(t){i._actionsHub.SetAreaPathMru.invoke({projectId:n,values:t})},this._logError)},n.prototype.addToIterationPathMru=function(n,t){var i=this;this._mruSettingsUtils.updateIterationPathMru(n,t).then(function(t){i._actionsHub.SetIterationPathMru.invoke({projectId:n,values:t})},this._logError)},n.prototype._logError=function(n){i.publishErrorToTelemetry(n)},n}();t.ClassificationFieldsMruActionsCreator=e});

define("WorkItemTracking/Scripts/MruClassificationPicker/Stores/ClassificationFieldsMruStore",["require","exports","VSS/Flux/Store","WorkItemTracking/Scripts/MruClassificationPicker/Actions/ClassificationFieldsMruActionsCreator"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.ClassificationFieldsMruStore=void 0;var u=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._items={},i._isLoadingMap={},t.InitializeClassificationFieldsMru.addListener(function(n){n&&(i._items[n.projectId.toLowerCase()]=n,i.emitChanged())}),t.SetAreaPathMru.addListener(function(n){i.isLoaded(n.projectId)&&n.values&&(i._items[n.projectId.toLowerCase()].areaPathMru=n.values);i.emitChanged()}),t.SetIterationPathMru.addListener(function(n){i.isLoaded(n.projectId)&&n.values&&(i._items[n.projectId.toLowerCase()].iterationPathMru=n.values);i.emitChanged()}),i}return __extends(t,n),t.getDefaultFluxContext=function(){if(!this._defaultFluxContext){var n=new r.ActionsHub,i=new t(n),u=new r.ClassificationFieldsMruActionsCreator(n,i);this._defaultFluxContext={store:i,actionsCreator:u}}return this._defaultFluxContext},t.prototype.setLoading=function(n,t){this._isLoadingMap[n.toLowerCase()]=t},t.prototype.isLoading=function(n){return this._isLoadingMap[n.toLowerCase()]},t.prototype.isLoaded=function(n){return this._items[n.toLowerCase()]!=null},t.prototype.getAreaPathMru=function(n){return this.isLoaded(n)?this._items[n.toLowerCase()].areaPathMru:null},t.prototype.getIterationPathMru=function(n){return this.isLoaded(n)?this._items[n.toLowerCase()].iterationPathMru:null},t}(i.Store);t.ClassificationFieldsMruStore=u});

define("Presentation/Scripts/TFS/FeatureRef/CSSNodeEvents",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.CSSNodesInvalidated=void 0;t.CSSNodesInvalidated="CSSNode/Invalidated"});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/IndexedDBCacheProvider",["require","exports","VSS/Diag","VSS/Telemetry/Services","VSS/Utils/Core","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Context"],function(n,t,i,r,u,f,e,o){var h;Object.defineProperty(t,"__esModule",{value:!0});t.IndexedDBCacheProvider=void 0;var c=6,l=3e3,s="/Service/WorkItemTracking/IndexedDbVersion",a=function(){function n(){var n=this,t;this._disposed=!1;this._store=new h;this._witIndexedDBRegistryVersion=null;t=o.getPageContext().webAccessConfiguration.registryItems;t&&t.hasOwnProperty(s)&&(this._witIndexedDBRegistryVersion=Number(t[s]));this._openPromise=this._store.open("wit","metaDataCache").then(function(){n._openPromise=null}).then(function(){return n._scheduleEviction()}).catch(function(t){f.traceMessage(e.WITCommonConstants.WorkItemTrackingArea,"Caching",e.WITCommonConstants.WitCacheProviderInit,"Could not open IndexedDB: ".concat(t.message||t));n._store=null;n._disposed=!0})}return n.isSupported=function(){try{var n=o.getPageContext().webAccessConfiguration.registryItems,t=!1;return n&&n.hasOwnProperty(s)&&(t=!0),window.indexedDB!=null&&t}catch(i){return!1}},n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._store&&(this._openPromise=null,this._store.close(),this._store=null),this._eviction&&(this._eviction.cancel(),this._eviction=null))},n.prototype.store=function(n,t,i){var r=this;return this._ensureStore(function(){return r._store.set(r._getKey(n,t),i)})},n.prototype.delete=function(n,t){var i=this;return this._ensureStore(function(){return i._store.delete(i._getKey(n,t))})},n.prototype.read=function(n,t){var i=this;return this._ensureStore(function(){return i._store.get(i._getKey(n,t))})},n.prototype.update=function(n,t,i){var r=this;return this._ensureStore(function(){return r._store.getAndSet(r._getKey(n,t),i)})},n.prototype._ensureStore=function(n){var t=this;return!this._store||this._disposed?Promise.resolve(null):this._openPromise?this._openPromise.then(function(){if(t._store)return n()}):n()},n.prototype._getKey=function(n,t){return"wit/".concat(this._witIndexedDBRegistryVersion,"/").concat(n,"/").concat(t)},n.prototype._scheduleEviction=function(){this._eviction=u.delay(this,l,this._evictEntries)},n.prototype._evictEntries=function(){var n=this,t=c*864e5,i=Date.now()-t;this._ensureStore(function(){return n._store.getAll().then(function(n){return Object.keys(n).filter(function(t){return n[t].cachedAt<i})}).then(function(t){return t.length>0&&r.publishEvent(new r.TelemetryEventData(e.WITCommonConstants.WorkItemTrackingArea,"Caching",{numberOfEvictedItems:t.length})),t.reduce(function(t,i){return t.then(function(){return n._store.delete(i)})},Promise.resolve(null))})})},n}();t.IndexedDBCacheProvider=a;h=function(){function n(){}return n.prototype.open=function(n,t){var u=this,f,r;return this._dbName=n,this._storeName=t,f=1,r=window.indexedDB.open(n,f),new Promise(function(n,u){r.onsuccess=function(){return n(r.result)};r.onerror=function(){return u(r.error)};r.onupgradeneeded=function(n){if(i.logInfo("Upgrading from ".concat(n.oldVersion," to ").concat(n.newVersion)),n.oldVersion<1)try{r.result.createObjectStore(t)}catch(u){}}}).then(function(){u._db=r.result;u._sendQuotaInformation()})},n.prototype.close=function(){var n=this;return new Promise(function(){n._db&&(n._db.close(),n._db=null)})},n.prototype.getAll=function(){var n=this;return new Promise(function(t,i){var r={};n._usingTransaction("readonly",function(n){var i=n.openCursor();i.onsuccess=function(n){var i=n.target.result;i?(r[i.key]=i.value,i.continue()):t(r)}}).then(null,i)})},n.prototype.get=function(n){return this._usingTransaction("readonly",function(t){return t.get(n)})},n.prototype.set=function(n,t){return this._usingTransaction("readwrite",function(i){return i.put(t,n)})},n.prototype.getAndSet=function(n,t){return this._usingTransaction("readwrite",function(i){var r=i.get(n);r.onsuccess=function(){var u=r.result,f=t(u);return i.put(f,n)}})},n.prototype.delete=function(n){return this._usingTransaction("readwrite",function(t){return t.delete(n)})},n.prototype._usingTransaction=function(n,t){var i=this;return new Promise(function(r,u){var f,e,o,s;if(!i._db){u(new Error("KeyValueStore: DB not ready"));return}f=i._db.transaction(i._storeName,n);e=null;f.oncomplete=function(){r(e)};o=function(n){n&&n.target&&n.target.error?u(n.target.error):u(n)};f.onabort=o;f.onerror=o;s=f.objectStore(i._storeName);e=t(s)||null;e&&(e.onerror=function(n){u(n)})}).then(function(n){return n?n.result:null})},n.prototype._sendQuotaInformation=function(){try{var n=navigator;n&&n.webkitTemporaryStorage&&n.webkitTemporaryStorage.queryUsageAndQuota&&n.webkitTemporaryStorage.queryUsageAndQuota(function(n,t){r.publishEvent(new r.TelemetryEventData(e.WITCommonConstants.WorkItemTrackingArea,"IndexedDB",{usedQuota:n,availableQuota:t}))})}catch(t){}},n}()});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/NullCacheProvider",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.NullCacheProvider=void 0;var i=function(){function n(){}return n.prototype.delete=function(){return Promise.resolve(null)},n.prototype.store=function(){return Promise.resolve(null)},n.prototype.update=function(){return Promise.resolve(null)},n.prototype.read=function(){return Promise.resolve(null)},n}();t.NullCacheProvider=i});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/Cache",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/IndexedDBCacheProvider","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/NullCacheProvider","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace"],function(n,t,i,r,u,f){function e(){return r.IndexedDBCacheProvider.isSupported()?new r.IndexedDBCacheProvider:(f.traceMessage(i.WITCommonConstants.WorkItemTrackingArea,"Caching",i.WITCommonConstants.WitCacheProviderInit,"Could not find supported WIT cache provider"),new u.NullCacheProvider)}Object.defineProperty(t,"__esModule",{value:!0});t.constructCacheProvider=void 0;t.constructCacheProvider=e});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/WorkItemIndexDBCacheManager",["require","exports","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace","VSS/Telemetry/Services","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/Cache","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemIndexDBCacheManager=void 0;var e="WITData",o=function(){function n(){this._cacheProvider=u.constructCacheProvider()}return n.prototype.getDataFromCache=function(n,t,r,u){return r=this._transformKey(r),u||i.traceMessage(f.WITCommonConstants.WorkItemTrackingArea,"GetMetadataCachestamp",f.WITCommonConstants.WitCacheProviderInit,"Could not get cache stamp for '".concat(t,"'")),this._tryGetDataFromCache(n,t,r,u).catch(function(n){return i.traceMessage(f.WITCommonConstants.WorkItemTrackingArea,"TryGetDataFromCache",f.WITCommonConstants.WitCacheProviderInit,n),null}).then(function(n){return n?n:null})},n.prototype._tryGetDataFromCache=function(t,i,r,u){var f=this;return!this._cacheProvider||!u?n._resolvedPromise:this._cacheProvider.read(t,i).then(function(n){return!n||!n.data[r]?(f._recordTelemetry(t,i,r,u,"CacheMiss"),null):n.cachestamp!==u?(f._recordTelemetry(t,i,r,u,"ClearedCachedStaleData"),f._cacheProvider.delete(t,i).then(function(){return null})):(f._recordTelemetry(t,i,r,u,"CacheHit",null),n.data[r])})},n.prototype.cacheData=function(t,i,r,u,f){if(!this._cacheProvider||!f)return n._resolvedPromise;r=this._transformKey(r);var e=null;return this._cacheProvider.update(t,i,function(n){var t,i;return n=n&&n.cachestamp===f?__assign(__assign({},n),{data:__assign(__assign({},n.data),(i={},i[r]=u,i))}):{cachedAt:Date.now(),cachestamp:f,data:(t={},t[r]=u,t)},e=Object.keys(n.data),n}).then(function(){return e})},n.prototype.deleteData=function(n,t){return this._cacheProvider.delete(n,t)},n.prototype._transformKey=function(n){return n.toLowerCase()},n.prototype._recordTelemetry=function(n,t,i,u,f,o){r.publishEvent(new r.TelemetryEventData("WIT",e,{scopeId:n,type:t,key:i,stamp:u,message:f,cachedData:o}))},n._resolvedPromise=Promise.resolve(null),n}();t.WorkItemIndexDBCacheManager=o});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/WITDataSource",["require","exports","Presentation/Scripts/TFS/TFS.Legacy.Ajax","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Service","VSS/Contributions/Services","VSS/Context","VSS/Performance"],function(n,t,i,r,u,f,e,o){function h(n,t,u){var h=r.TfsContext.getDefault().getActionUrl(n.action||"",n.controller,$.extend({area:"api",team:"",project:""},n.routeData)),f=s.WorkItemMVCToDPMVCTelemetryFeature+"."+n.action,e=o.getScenarioManager().startScenario(s.WorkItemArea,f);return e.addSplitTiming(f+s.ScenarioStart),new Promise(function(n,r){i.getMSJSON(h,t,function(t,i,r){e.addSplitTiming(f+s.ScenarioEnd);e.end();var o={data:u?JSON.parse(t):t,textStatus:i,requestHeaders:r};n(o)},r)})}function c(n,t){var e=r.TfsContext.getDefault().getActionUrl(n.action||"",n.controller,$.extend({area:"api",team:"",project:""},n.routeData)),u=s.WorkItemMVCToDPMVCTelemetryFeature+"."+n.action,f=o.getScenarioManager().startScenario(s.WorkItemArea,u);return f.addSplitTiming(u+s.ScenarioStart),new Promise(function(n,r){i.postMSJSON(e,t,function(t,i,r){f.addSplitTiming(u+s.ScenarioEnd);f.end();var e={data:t,textStatus:i,requestHeaders:r};n(e)},r)})}function l(n,t,u,f){var c=r.TfsContext.getDefault().getActionUrl(n.action||"",n.controller,$.extend({area:"api",team:"",project:""},n.routeData)),e=s.WorkItemMVCToDPMVCTelemetryFeature+"."+n.action,h=o.getScenarioManager().startScenario(s.WorkItemArea,e);h.addSplitTiming(e+s.ScenarioStart);i.postMSJSON(c,t,function(n,t,i){h.addSplitTiming(e+s.ScenarioEnd);h.end();var r={data:n,textStatus:t,requestHeaders:i};u(r)},f)}function a(n,t,i){return new Promise(function(r,h){var c=s.WorkItemMVCToDPDpTelemetryFeature+"."+n.action,l=o.getScenarioManager().startScenario(s.WorkItemArea,c);l.addSplitTiming(c+s.ScenarioStart);u.getService(f.WebPageDataService,e.getDefaultWebContext()).getDataAsync(i,null,t).then(function(n){if(l.addSplitTiming(c+s.ScenarioEnd),l.end(),n.errorMessage&&n.errorMessage.length>0)h(n.errorMessage);else{var t={data:n.data,versionStamp:n.versionStamp};r(t)}},h)})}Object.defineProperty(t,"__esModule",{value:!0});t.getDataFromDataProviderAsync=t.postMVCDataWithCallback=t.postMVCDataAsync=t.getMVCDataAsync=t.WITDataSourceTelemetryConstants=void 0;var s=function(){function n(){}return n.WorkItemMVCToDPMVCTelemetryFeature="WorkItemMVCToDP.MVC",n.WorkItemMVCToDPDpTelemetryFeature="WorkItemMVCToDP.DP",n.WorkItemArea="WIT",n.ScenarioStart="Start",n.ScenarioEnd="End",n}();t.WITDataSourceTelemetryConstants=s;t.getMVCDataAsync=h;t.postMVCDataAsync=c;t.postMVCDataWithCallback=l;t.getDataFromDataProviderAsync=a});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/MVCToDataProviderDataSource",["require","exports","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/MVCToDataProviderDataSources/WITDataSource","VSS/Utils/String","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/WorkItemIndexDBCacheManager","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Performance"],function(n,t,i,r,u,f,e,o,s,h,c){var l,a,v;Object.defineProperty(t,"__esModule",{value:!0});t.WebAccessBoardsWITDataSource=t.WorkItemStoreLevelWITDataSource=void 0;l=function(){function n(){this._workItemCacheManager=new o.WorkItemIndexDBCacheManager}return n.prototype.getDataAsync=function(n,t,i){return(i===void 0&&(i=!1),!this.isDataProviderEnabled(n))?u.getMVCDataAsync(n,t,i):u.getDataFromDataProviderAsync(n,t,this.getDataProviderId(n))},n.prototype.getDataFromCacheAsync=function(n,t,i,r,f,e){var o=this;return(e===void 0&&(e=!1),!this.isDataProviderEnabled(n))?u.getMVCDataAsync(n,t,e):this.getDataProviderDataUsingIndexDB(n,t,i,r,f,e).then(function(n){var e=n.resolvedFromCache,t=n.data,u;return t&&!e?(u=t,o.updateIndexDBCache(u,i,r,f).then(function(){return u})):t})},n.prototype.getDataProviderDataUsingIndexDB=function(n,t,i,r,f,e){var l=this;e===void 0&&(e=!1);var h=t!=null?t.stamp:null,s=u.WITDataSourceTelemetryConstants.WorkItemMVCToDPMVCTelemetryFeature+".Cache."+n.action,o=c.getScenarioManager().startScenario(u.WITDataSourceTelemetryConstants.WorkItemArea,s);return o.addSplitTiming(s+u.WITDataSourceTelemetryConstants.ScenarioStart),o.addData({routeParams:n,requestProperties:t,scopeId:i,type:r,key:f,parseData:e}),this._workItemCacheManager.getDataFromCache(i,r,f,h).then(function(i){if(!i)return o.addData({cacheHit:!1}),u.getDataFromDataProviderAsync(n,t,l.getDataProviderId(n)).then(function(n){return o.addSplitTiming(s+u.WITDataSourceTelemetryConstants.ScenarioEnd),o.end(),{resolvedFromCache:!1,data:n}});o.addData({cacheHit:!0});o.addSplitTiming(s+u.WITDataSourceTelemetryConstants.ScenarioEnd);o.end();var r={data:i,versionStamp:h};return{resolvedFromCache:!0,data:r}})},n.prototype.updateIndexDBCache=function(n,t,i,r){if(n&&n.versionStamp&&n.versionStamp.length>0)return this._workItemCacheManager.cacheData(t,i,r,n.data,n.versionStamp).catch(function(n){return s.traceMessage(h.WITCommonConstants.WorkItemTrackingArea,"CacheData",h.WITCommonConstants.WitCacheProviderInit,n),null})},n.prototype.postDataAsync=function(n,t){return this.isDataProviderEnabled(n)?u.getDataFromDataProviderAsync(n,t,this.getDataProviderId(n)):u.postMVCDataAsync(n,t)},n.prototype.getDataProviderId=function(n){if(n&&n.action&&this.MVCActionToDataproviderIdMapping[n.action])return this.MVCActionToDataproviderIdMapping[n.action];var t=c.getScenarioManager().startScenario(u.WITDataSourceTelemetryConstants.WorkItemArea,"MVCActionToDpIdMappingNotFoundError");t.addData({routeParams:n});t.end();throw new Error(f.format(e.MVCActionToDpIdMappingNotFoundError,n.action));},n}();a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.MVCActionToDataproviderIdMapping={fields:"ms.vss-work-web.fields-data-provider",allowedValues:"ms.vss-work-web.fields-allowed-values-provider",ResourceLinks:"ms.vss-work-web.resource-links-data-provider",workItemTypeExtensions:"ms.vss-work-web.work-item-type-extensions-data-provider",updateWorkItems:"ms.vss-work-web.update-work-items-data-provider",constantSets:"ms.vss-work-web.constant-sets-data-provider",getMetadataCacheStamps:"ms.vss-work-web.work-item-cache-data-provider",linkTypes:"ms.vss-work-web.work-item-link-types-data-provider",teamProjects:"ms.vss-work-web.work-item-team-projects-data-provider",workItemTypes:"ms.vss-work-web.work-item-types-data-provider",pageWorkItems:"ms.vss-work-web.page-work-items-data-provider",pageWorkItemsByIdRev:"ms.vss-work-web.page-work-items-by-id-rev-data-provider",AdHocQueries:"ms.vss-work-web.ad-hoc-queries-data-provider",query:"ms.vss-work-web.work-item-query-data-provider",updateAdHocQuery:"ms.vss-work-web.update-ad-hoc-query-data-provider",updateColumnOptions:"ms.vss-work-web.update-column-options-data-provider",search:"ms.vss-work-web.search-data-provider",queryFavorites:"ms.vss-work-web.query-favorites-data-provider",teamSettings:"ms.vss-work-web.team-settings-data-provider",workitems:"ms.vss-work-web.work-items-with-history-data-provider",workitemsnohistory:"ms.vss-work-web.work-items-no-history-data-provider",sendMail:"ms.vss-work-web.send-mail-data-provider",workitemcolor:"ms.vss-work-web.work-item-color-data-provider"},t.MVCActionToFeatureFlagMapping={sendMail:r.FeatureAvailabilityFlags.DisableSendMailDataProvider,workitemcolor:r.FeatureAvailabilityFlags.DisableWorkItemColorDataProvider},t}return __extends(t,n),t.prototype.isDataProviderEnabled=function(n){return n&&n.action&&this.MVCActionToFeatureFlagMapping[n.action]?!i.FeatureAvailabilityService.isFeatureEnabled(this.MVCActionToFeatureFlagMapping[n.action]):!i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.DisableWorkItemStoreDataProviders)},t.prototype.useCallback=function(n){return!this.isDataProviderEnabled(n)},t.prototype.postDataWithCallback=function(n,t,i,r){this.useCallback(n)?u.postMVCDataWithCallback(n,t,i,r):this.postDataAsync(n,t).then(function(n){return i(n)},r)},t}(l);t.WorkItemStoreLevelWITDataSource=a;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.MVCActionToDataproviderIdMapping={getProcessSettings:"ms.vss-work-web.process-settings-data-provider",getProcessSettingsProperty:"ms.vss-work-web.process-settings-property-data-provider",GetProcessFieldUsages:"ms.vss-work-web.process-field-usage-data-provider",MigrateProjectsProcess:"ms.vss-work-web.migrate-projects-data-provider",GetJobProgress:"ms.vss-work-web.migrate-job-status-data-provider"},t}return __extends(t,n),t.prototype.isDataProviderEnabled=function(){return!i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.DisableWorkItemStoreDataProviders)},t}(l);t.WebAccessBoardsWITDataSource=v});

define("Presentation/Scripts/TFS/TFS.OM.Identities",["require","exports","VSS/Utils/String","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Artifacts/Services","VSS/Locations"],function(n,t,i,r,u,f){var c,e,o,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.IdentityHelper=t.IdentityImageSize=t.IdentitySearchFactor=t.IdentityImageMode=t.IdentityFilter=void 0,function(n){n[n.All=0]="All";n[n.Users=1]="Users";n[n.Groups=2]="Groups"}(c=t.IdentityFilter||(t.IdentityFilter={})),function(n){n[n.None=0]="None";n[n.ShowGenericImage=1]="ShowGenericImage"}(e=t.IdentityImageMode||(t.IdentityImageMode={})),function(n){n[n.AccountName=0]="AccountName";n[n.DisplayName=1]="DisplayName";n[n.AdministratorsGroup=2]="AdministratorsGroup";n[n.Identifier=3]="Identifier";n[n.MailAddress=4]="MailAddress";n[n.General=5]="General";n[n.Alias=6]="Alias"}(o=t.IdentitySearchFactor||(t.IdentitySearchFactor={})),function(n){n[n.Small=0]="Small";n[n.Medium=1]="Medium";n[n.Large=2]="Large"}(s=t.IdentityImageSize||(t.IdentityImageSize={}));h=function(){function n(){}return n.preProcessIdentities=function(t,i){i===void 0&&(i=!1);$.each(t,function(t,i){i.isTfsGroup=n.isTfsGroup(i)})},n.getIdentityImageUrl=function(n,t,i){t===void 0&&(t=e.None);var u=r.TfsContext.getDefault();return n.isAadIdentity?u.getActionUrl("GetAadUserThumbnail","identity",{project:"",team:"",area:"api",userObjectId:n.id}):((i===undefined||i===null)&&(i=s.Medium),n.id)?u.getIdentityImageUrl(n.id,{size:i}):n.uniqueName?u.getIdentityImageUrl("",{identifier:n.uniqueName,resolveAmbiguous:!1,identifierType:o.AccountName,size:i}):n.isContainer?u.getIdentityImageUrl("",{identifier:n.displayName,resolveAmbiguous:!1,identifierType:o.General,size:i}):t===e.ShowGenericImage?u.configuration.getResourcesFile("notassigned-user.svg"):""},n.getIdentityImageUrlByIdentity=function(t){return t?n.getIdentityImageUrl(t,e.ShowGenericImage,s.Small):f.urlHelper.getVersionedContentUrl("notassigned-user.svg")},n.parseUniquefiedIdentityName=function(t){var a,v;if(!t)return null;var f=t.lastIndexOf(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START),o=t.lastIndexOf(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END),s=!1,y=!1,h=!1,e=t;f>=0&&o>f&&(h=!0,e=e.replace(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START).replace(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END));f=e.lastIndexOf(n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START);o=e.lastIndexOf(n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END);var c=e,l="",u="",p="",r="";return f>=0&&o>f&&(c=e.substr(0,f).trim(),h?(r=e.substr(f+1,o-f-1).trim(),r.indexOf(n.AAD_IDENTITY_USER_PREFIX)===0?r=r.substr(n.AAD_IDENTITY_USER_PREFIX.length):r.indexOf(n.AAD_IDENTITY_GROUP_PREFIX)===0&&(s=!0,r=r.substr(n.AAD_IDENTITY_GROUP_PREFIX.length)),a=r.lastIndexOf("\\"),a>0&&(u=r.substr(a+1).trim(),u.indexOf("@")!==-1?(l=u,r=r.substr(0,a).trim()):(c=t,r="",h=!1,s=!1))):(u=e.substr(f+1,o-f-1).trim(),v=n.getVsIdFromGroupUniqueName(u),p=n.getDescriptorFromUniqueName(u),u.indexOf("@")!==-1||u.indexOf("\\")!==-1||u.indexOf(n.DESCRIPTOR_PREFIX)!==-1||v||i.isGuid(u)?(l=u,v!=""&&(r=v,s=!0,y=!0,l="")):c=t)),{id:r,displayName:c,uniqueName:p||l,isAadIdentity:h,isContainer:s,isTfsGroup:y}},n.getUniquefiedIdentityName=function(t){if(t.isAadIdentity&&t.displayName&&t.id){var r=t.isContainer?n.AAD_IDENTITY_GROUP_PREFIX:n.AAD_IDENTITY_USER_PREFIX;return t.uniqueName&&!t.isContainer?i.format("{0} {1}{2}{3}\\{4}{5}",t.displayName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,r,t.id,t.uniqueName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):i.format("{0} {1}{2}{3}{4}",t.displayName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,r,t.id,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END)}return!t.isAadIdentity&&t.displayName&&t.isContainer&&t.isTfsGroup?t.id?i.format("{0} {1}{2}{3}{4}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.TFS_GROUP_PREFIX,t.id.toUpperCase(),n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.displayName:!t.isAadIdentity&&t.displayName&&t.uniqueName?i.format("{0} {1}{2}{3}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,t.uniqueName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.displayName||""},n.getFriendlyDistinctDisplayName=function(t){return t.displayName&&t.uniqueName&&!t.isTfsGroup?n.getDistinctDisplayName(t.displayName,t.uniqueName):t.displayName||""},n.getDistinctDisplayName=function(t,r){return t&&r?i.format("{0} {1}{2}{3}",t,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,r,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):""},n.getFriendlyUniqueName=function(t){if(t.isContainer&&t.isTfsGroup&&t.displayName){var i=t.displayName.lastIndexOf(n.IDENTITY_UNIQUENAME_SEPARATOR);if(i!==-1)return t.displayName.substr(i+1)}return t.uniqueName},n.getVsIdFromGroupUniqueName=function(t){var r,u,f,e;return t?(u="",f=t.lastIndexOf(n.IDENTITY_UNIQUENAME_SEPARATOR),r=f===-1?t:t.substr(0,f),i.startsWith(r,n.TFS_GROUP_PREFIX)&&(e=r.substr(3).trim(),u=i.isGuid(e)?e:""),u):""},n.isTfsGroup=function(t){if(t.isContainer&&t.uniqueName)return n.getVsIdFromGroupUniqueName(t.uniqueName)!==i.empty||i.startsWith(t.uniqueName,u.LinkingUtilities.VSTFS,i.localeIgnoreCaseComparer)},n.union=function(t,i,r){r===void 0&&(r=!0);var u=t.slice(0),f={},e={},o={};return $.each(u,function(n,t){t.id&&(e[t.id.toLowerCase()]=t);t.uniqueName&&(o[t.uniqueName.toLowerCase()]=t);t.id||t.uniqueName||!t.displayName||(f[t.displayName.toLowerCase()]=t)}),$.each(i,function(n,t){t.id||t.uniqueName?e[(t.id||"").toLowerCase()]||o[(t.uniqueName||"").toLowerCase()]||u.push(t):f[t.displayName.toLowerCase()]||u.push(t)}),r&&n._sortListByName(u),u},n.subtract=function(t,i,r){r===void 0&&(r=!0);var u=t.slice(0);return $.each(i,function(t,i){for(var f=u.length,r=0;r<f;r++)n.areItemsEqual(i,u[r])&&(u.splice(r,1),f--)}),r&&n._sortListByName(u),u},n._sortListByName=function(n){n.sort(function(n,t){if(n.isTfsGroup&&!t.isTfsGroup)return 1;if(!n.isTfsGroup&&t.isTfsGroup)return-1;var r=n.displayName.toLowerCase().trim(),u=t.displayName.toLowerCase().trim();return i.localeIgnoreCaseComparer(r,u)})},n.areItemsEqual=function(n,t){var r,u;return n.id&&t.id?(r=n.id.toLowerCase().trim(),u=t.id.toLowerCase().trim()):n.uniqueName&&t.uniqueName?(r=n.uniqueName.toLowerCase().trim(),u=t.uniqueName.toLowerCase().trim()):(r=n.displayName.toLowerCase().trim(),u=t.displayName.toLowerCase().trim()),i.localeIgnoreCaseComparer(r,u)===0},n.getDescriptorFromUniqueName=function(t){return t?t.indexOf(n.DESCRIPTOR_PREFIX)!=0?"":t.replace(/desc:/i,""):""},n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<",n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<<",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">>",n.TFS_GROUP_PREFIX="id:",n.AAD_IDENTITY_USER_PREFIX="user:",n.AAD_IDENTITY_GROUP_PREFIX="group:",n.IDENTITY_UNIQUENAME_SEPARATOR="\\",n.DESCRIPTOR_PREFIX="desc:",n}();t.IdentityHelper=h});

define("TFS/WorkItemTracking/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.WorkItemTypeFieldsExpandLevel=t.WorkItemRecentActivityType=t.WorkItemExpand=t.WorkItemErrorPolicy=t.TreeStructureGroup=t.TreeNodeStructureType=t.TemplateType=t.ReportingRevisionsExpand=t.QueryType=t.QueryResultType=t.QueryRecursionOption=t.QueryOption=t.QueryExpand=t.QueryErrorPolicy=t.ProvisioningActionType=t.LogicalOperation=t.LinkQueryMode=t.GetFieldsExpand=t.FieldUsage=t.FieldType=t.CommentSortOrder=t.CommentReactionType=t.CommentFormat=t.CommentExpandOptions=t.ClassificationNodesErrorPolicy=void 0,function(n){n[n.Fail=1]="Fail";n[n.Omit=2]="Omit"}(i=t.ClassificationNodesErrorPolicy||(t.ClassificationNodesErrorPolicy={})),function(n){n[n.None=0]="None";n[n.Reactions=1]="Reactions";n[n.RenderedText=8]="RenderedText";n[n.RenderedTextOnly=16]="RenderedTextOnly";n[n.All=-17]="All"}(r=t.CommentExpandOptions||(t.CommentExpandOptions={})),function(n){n[n.Markdown=0]="Markdown";n[n.Html=1]="Html"}(u=t.CommentFormat||(t.CommentFormat={})),function(n){n[n.Like=0]="Like";n[n.Dislike=1]="Dislike";n[n.Heart=2]="Heart";n[n.Hooray=3]="Hooray";n[n.Smile=4]="Smile";n[n.Confused=5]="Confused"}(f=t.CommentReactionType||(t.CommentReactionType={})),function(n){n[n.Asc=1]="Asc";n[n.Desc=2]="Desc"}(e=t.CommentSortOrder||(t.CommentSortOrder={})),function(n){n[n.String=0]="String";n[n.Integer=1]="Integer";n[n.DateTime=2]="DateTime";n[n.PlainText=3]="PlainText";n[n.Html=4]="Html";n[n.TreePath=5]="TreePath";n[n.History=6]="History";n[n.Double=7]="Double";n[n.Guid=8]="Guid";n[n.Boolean=9]="Boolean";n[n.Identity=10]="Identity";n[n.PicklistString=11]="PicklistString";n[n.PicklistInteger=12]="PicklistInteger";n[n.PicklistDouble=13]="PicklistDouble"}(o=t.FieldType||(t.FieldType={})),function(n){n[n.None=0]="None";n[n.WorkItem=1]="WorkItem";n[n.WorkItemLink=2]="WorkItemLink";n[n.Tree=3]="Tree";n[n.WorkItemTypeExtension=4]="WorkItemTypeExtension"}(s=t.FieldUsage||(t.FieldUsage={})),function(n){n[n.None=0]="None";n[n.ExtensionFields=1]="ExtensionFields";n[n.IncludeDeleted=2]="IncludeDeleted"}(h=t.GetFieldsExpand||(t.GetFieldsExpand={})),function(n){n[n.WorkItems=0]="WorkItems";n[n.LinksOneHopMustContain=1]="LinksOneHopMustContain";n[n.LinksOneHopMayContain=2]="LinksOneHopMayContain";n[n.LinksOneHopDoesNotContain=3]="LinksOneHopDoesNotContain";n[n.LinksRecursiveMustContain=4]="LinksRecursiveMustContain";n[n.LinksRecursiveMayContain=5]="LinksRecursiveMayContain";n[n.LinksRecursiveDoesNotContain=6]="LinksRecursiveDoesNotContain"}(c=t.LinkQueryMode||(t.LinkQueryMode={})),function(n){n[n.NONE=0]="NONE";n[n.AND=1]="AND";n[n.OR=2]="OR"}(l=t.LogicalOperation||(t.LogicalOperation={})),function(n){n[n.Import=0]="Import";n[n.Validate=1]="Validate"}(a=t.ProvisioningActionType||(t.ProvisioningActionType={})),function(n){n[n.Fail=1]="Fail";n[n.Omit=2]="Omit"}(v=t.QueryErrorPolicy||(t.QueryErrorPolicy={})),function(n){n[n.None=0]="None";n[n.Wiql=1]="Wiql";n[n.Clauses=2]="Clauses";n[n.All=3]="All";n[n.Minimal=4]="Minimal"}(y=t.QueryExpand||(t.QueryExpand={})),function(n){n[n.Doing=1]="Doing";n[n.Done=2]="Done";n[n.Followed=3]="Followed"}(p=t.QueryOption||(t.QueryOption={})),function(n){n[n.ParentFirst=0]="ParentFirst";n[n.ChildFirst=1]="ChildFirst"}(w=t.QueryRecursionOption||(t.QueryRecursionOption={})),function(n){n[n.WorkItem=1]="WorkItem";n[n.WorkItemLink=2]="WorkItemLink"}(b=t.QueryResultType||(t.QueryResultType={})),function(n){n[n.Flat=1]="Flat";n[n.Tree=2]="Tree";n[n.OneHop=3]="OneHop"}(k=t.QueryType||(t.QueryType={})),function(n){n[n.None=0]="None";n[n.Fields=1]="Fields"}(d=t.ReportingRevisionsExpand||(t.ReportingRevisionsExpand={})),function(n){n[n.WorkItemType=0]="WorkItemType";n[n.GlobalWorkflow=1]="GlobalWorkflow"}(g=t.TemplateType||(t.TemplateType={})),function(n){n[n.Area=0]="Area";n[n.Iteration=1]="Iteration"}(nt=t.TreeNodeStructureType||(t.TreeNodeStructureType={})),function(n){n[n.Areas=0]="Areas";n[n.Iterations=1]="Iterations"}(tt=t.TreeStructureGroup||(t.TreeStructureGroup={})),function(n){n[n.Fail=1]="Fail";n[n.Omit=2]="Omit"}(it=t.WorkItemErrorPolicy||(t.WorkItemErrorPolicy={})),function(n){n[n.None=0]="None";n[n.Relations=1]="Relations";n[n.Fields=2]="Fields";n[n.Links=3]="Links";n[n.All=4]="All"}(rt=t.WorkItemExpand||(t.WorkItemExpand={})),function(n){n[n.Visited=0]="Visited";n[n.Edited=1]="Edited";n[n.Deleted=2]="Deleted";n[n.Restored=3]="Restored"}(ut=t.WorkItemRecentActivityType||(t.WorkItemRecentActivityType={})),function(n){n[n.None=0]="None";n[n.AllowedValues=1]="AllowedValues";n[n.DependentFields=2]="DependentFields";n[n.All=3]="All"}(ft=t.WorkItemTypeFieldsExpandLevel||(t.WorkItemTypeFieldsExpandLevel={}));t.TypeInfo={AccountMyWorkResult:{},AccountRecentActivityWorkItemModel:{},AccountRecentActivityWorkItemModel2:{},AccountRecentActivityWorkItemModelBase:{},AccountRecentMentionWorkItemModel:{},AccountWorkWorkItemModel:{},ClassificationNodesErrorPolicy:{enumValues:{fail:1,omit:2}},Comment:{},CommentExpandOptions:{enumValues:{none:0,reactions:1,renderedText:8,renderedTextOnly:16,all:-17}},CommentFormat:{enumValues:{markdown:0,html:1}},CommentList:{},CommentReaction:{},CommentReactionType:{enumValues:{like:0,dislike:1,heart:2,hooray:3,smile:4,confused:5}},CommentSortOrder:{enumValues:{asc:1,desc:2}},CommentVersion:{},ExternalDeployment:{},FieldType:{enumValues:{string:0,integer:1,dateTime:2,plainText:3,html:4,treePath:5,history:6,double:7,guid:8,boolean:9,identity:10,picklistString:11,picklistInteger:12,picklistDouble:13}},FieldUsage:{enumValues:{none:0,workItem:1,workItemLink:2,tree:3,workItemTypeExtension:4}},GetFieldsExpand:{enumValues:{none:0,extensionFields:1,includeDeleted:2}},LinkQueryMode:{enumValues:{workItems:0,linksOneHopMustContain:1,linksOneHopMayContain:2,linksOneHopDoesNotContain:3,linksRecursiveMustContain:4,linksRecursiveMayContain:5,linksRecursiveDoesNotContain:6}},LogicalOperation:{enumValues:{none:0,and:1,or:2}},ProvisioningActionType:{enumValues:{"import":0,validate:1}},QueryBatchGetRequest:{},QueryErrorPolicy:{enumValues:{fail:1,omit:2}},QueryExpand:{enumValues:{none:0,wiql:1,clauses:2,all:3,minimal:4}},QueryHierarchyItem:{},QueryHierarchyItemsResult:{},QueryOption:{enumValues:{doing:1,done:2,followed:3}},QueryRecursionOption:{enumValues:{parentFirst:0,childFirst:1}},QueryResultType:{enumValues:{workItem:1,workItemLink:2}},QueryType:{enumValues:{flat:1,tree:2,oneHop:3}},ReportingRevisionsExpand:{enumValues:{none:0,fields:1}},TemplateType:{enumValues:{workItemType:0,globalWorkflow:1}},TreeNodeStructureType:{enumValues:{area:0,iteration:1}},TreeStructureGroup:{enumValues:{areas:0,iterations:1}},WorkItemBatchGetRequest:{},WorkItemClassificationNode:{},WorkItemComment:{},WorkItemComments:{},WorkItemErrorPolicy:{enumValues:{fail:1,omit:2}},WorkItemExpand:{enumValues:{none:0,relations:1,fields:2,links:3,all:4}},WorkItemField:{},WorkItemField2:{},WorkItemHistory:{},WorkItemQueryClause:{},WorkItemQueryResult:{},WorkItemRecentActivityType:{enumValues:{visited:0,edited:1,deleted:2,restored:3}},WorkItemTagDefinition:{},WorkItemTypeFieldsExpandLevel:{enumValues:{none:0,allowedValues:1,dependentFields:2,all:3}},WorkItemTypeTemplateUpdateModel:{},WorkItemUpdate:{}};t.TypeInfo.AccountMyWorkResult.fields={workItemDetails:{isArray:!0,typeInfo:t.TypeInfo.AccountWorkWorkItemModel}};t.TypeInfo.AccountRecentActivityWorkItemModel.fields={activityDate:{isDate:!0},activityType:{enumType:t.TypeInfo.WorkItemRecentActivityType},changedDate:{isDate:!0}};t.TypeInfo.AccountRecentActivityWorkItemModel2.fields={activityDate:{isDate:!0},activityType:{enumType:t.TypeInfo.WorkItemRecentActivityType},changedDate:{isDate:!0}};t.TypeInfo.AccountRecentActivityWorkItemModelBase.fields={activityDate:{isDate:!0},activityType:{enumType:t.TypeInfo.WorkItemRecentActivityType},changedDate:{isDate:!0}};t.TypeInfo.AccountRecentMentionWorkItemModel.fields={mentionedDateField:{isDate:!0}};t.TypeInfo.AccountWorkWorkItemModel.fields={changedDate:{isDate:!0}};t.TypeInfo.Comment.fields={createdDate:{isDate:!0},createdOnBehalfDate:{isDate:!0},format:{enumType:t.TypeInfo.CommentFormat},modifiedDate:{isDate:!0},reactions:{isArray:!0,typeInfo:t.TypeInfo.CommentReaction}};t.TypeInfo.CommentList.fields={comments:{isArray:!0,typeInfo:t.TypeInfo.Comment}};t.TypeInfo.CommentReaction.fields={type:{enumType:t.TypeInfo.CommentReactionType}};t.TypeInfo.CommentVersion.fields={createdDate:{isDate:!0},createdOnBehalfDate:{isDate:!0},modifiedDate:{isDate:!0}};t.TypeInfo.ExternalDeployment.fields={statusDate:{isDate:!0}};t.TypeInfo.QueryBatchGetRequest.fields={$expand:{enumType:t.TypeInfo.QueryExpand},errorPolicy:{enumType:t.TypeInfo.QueryErrorPolicy}};t.TypeInfo.QueryHierarchyItem.fields={children:{isArray:!0,typeInfo:t.TypeInfo.QueryHierarchyItem},clauses:{typeInfo:t.TypeInfo.WorkItemQueryClause},createdDate:{isDate:!0},filterOptions:{enumType:t.TypeInfo.LinkQueryMode},lastExecutedDate:{isDate:!0},lastModifiedDate:{isDate:!0},linkClauses:{typeInfo:t.TypeInfo.WorkItemQueryClause},queryRecursionOption:{enumType:t.TypeInfo.QueryRecursionOption},queryType:{enumType:t.TypeInfo.QueryType},sourceClauses:{typeInfo:t.TypeInfo.WorkItemQueryClause},targetClauses:{typeInfo:t.TypeInfo.WorkItemQueryClause}};t.TypeInfo.QueryHierarchyItemsResult.fields={value:{isArray:!0,typeInfo:t.TypeInfo.QueryHierarchyItem}};t.TypeInfo.WorkItemBatchGetRequest.fields={$expand:{enumType:t.TypeInfo.WorkItemExpand},asOf:{isDate:!0},errorPolicy:{enumType:t.TypeInfo.WorkItemErrorPolicy}};t.TypeInfo.WorkItemClassificationNode.fields={children:{isArray:!0,typeInfo:t.TypeInfo.WorkItemClassificationNode},structureType:{enumType:t.TypeInfo.TreeNodeStructureType}};t.TypeInfo.WorkItemComment.fields={format:{enumType:t.TypeInfo.CommentFormat},revisedDate:{isDate:!0}};t.TypeInfo.WorkItemComments.fields={comments:{isArray:!0,typeInfo:t.TypeInfo.WorkItemComment}};t.TypeInfo.WorkItemField.fields={type:{enumType:t.TypeInfo.FieldType},usage:{enumType:t.TypeInfo.FieldUsage}};t.TypeInfo.WorkItemField2.fields={type:{enumType:t.TypeInfo.FieldType},usage:{enumType:t.TypeInfo.FieldUsage}};t.TypeInfo.WorkItemHistory.fields={revisedDate:{isDate:!0}};t.TypeInfo.WorkItemQueryClause.fields={clauses:{isArray:!0,typeInfo:t.TypeInfo.WorkItemQueryClause},logicalOperator:{enumType:t.TypeInfo.LogicalOperation}};t.TypeInfo.WorkItemQueryResult.fields={asOf:{isDate:!0},queryResultType:{enumType:t.TypeInfo.QueryResultType},queryType:{enumType:t.TypeInfo.QueryType}};t.TypeInfo.WorkItemTagDefinition.fields={lastUpdated:{isDate:!0}};t.TypeInfo.WorkItemTypeTemplateUpdateModel.fields={actionType:{enumType:t.TypeInfo.ProvisioningActionType},templateType:{enumType:t.TypeInfo.TemplateType}};t.TypeInfo.WorkItemUpdate.fields={revisedDate:{isDate:!0}}});

define("TFS/WorkItemTracking/RestClient",["require","exports","TFS/WorkItemTracking/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f){"use strict";function yt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&at[window.VSS.VssSDKRestVersion]?r.getClient(at[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(k,undefined,undefined,undefined,n)}var h,c,o,s,l,a,v,y,p,e,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,vt,at;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.WorkItemTrackingHttpClient=t.WorkItemTrackingHttpClient2=t.WorkItemTrackingHttpClient2_1=t.WorkItemTrackingHttpClient2_2=t.WorkItemTrackingHttpClient2_3=t.WorkItemTrackingHttpClient3=t.WorkItemTrackingHttpClient3_1=t.WorkItemTrackingHttpClient3_2=t.WorkItemTrackingHttpClient4=t.WorkItemTrackingHttpClient4_1=t.WorkItemTrackingHttpClient5=t.WorkItemTrackingHttpClient5_1=t.WorkItemTrackingHttpClient5_2=t.WorkItemTrackingHttpClient6=t.WorkItemTrackingHttpClient6_1=t.WorkItemTrackingHttpClient7=t.WorkItemTrackingHttpClient7_1=t.CommonMethods7To7_1=t.CommonMethods5_2To7_1=t.CommonMethods5_1To7_1=t.CommonMethods5To7_1=t.CommonMethods4_1To7_1=t.CommonMethods4To7_1=t.CommonMethods3_2To7_1=t.CommonMethods3To7_1=t.CommonMethods2_2To7_1=t.CommonMethods2_1To7_1=t.CommonMethods2To7_1=void 0;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateWorkItemTypeDefinition=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",requestType:i.TypeInfo.WorkItemTypeTemplateUpdateModel,routeValues:{project:t},apiVersion:this.workItemTypeTemplateApiVersion,data:n})},t.prototype.exportWorkItemTypeDefinition=function(n,t,i){var r={exportGlobalLists:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",routeValues:{project:n,type:t},queryParams:r,apiVersion:this.workItemTypeTemplateApiVersion})},t.prototype.getWorkItemTypeStates=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c9d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypeStates",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/states",responseIsCollection:!0,routeValues:{project:n,type:t},apiVersion:this.workItemTypeStatesApiVersion})},t.prototype.getWorkItemTypes=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.workItemTypesApiVersion})},t.prototype.getWorkItemType=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",routeValues:{project:n,type:t},apiVersion:this.workItemTypesApiVersion})},t.prototype.getWorkItemTypeColorAndIcons=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f0f8dc62-3975-48ce-8051-f636b68b52e3",resource:"workItemTypeColorAndIcon",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.workItemTypeColorAndIconApiVersion,data:n})},t.prototype.getWorkItemTypeColors=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"958fde80-115e-43fb-bd65-749c48057faf",resource:"workitemTypeColor",routeTemplate:"_apis/work/{resource}",responseIsCollection:!0,apiVersion:this.workitemTypeColorApiVersion,data:n})},t.prototype.getWorkItemTypeCategory=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",routeValues:{project:n,category:t},apiVersion:this.workItemTypeCategoriesApiVersion})},t.prototype.getWorkItemTypeCategories=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.workItemTypeCategoriesApiVersion})},t.prototype.getWorkItemStateColors=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"0b83df8a-3496-4ddb-ba44-63634f4cda61",resource:"workitemStateColor",routeTemplate:"_apis/work/{resource}",responseIsCollection:!0,apiVersion:this.workitemStateColorApiVersion,data:n})},t.prototype.updateWorkItemTemplate=function(n,t,i,r,u){var f={validateOnly:r,bypassRules:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",routeValues:{project:t,type:i},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:f,apiVersion:this.workItemsApiVersion,data:n})},t.prototype.getWorkItemTemplate=function(n,t,i,r,u){var f={fields:i,asOf:r,$expand:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",routeValues:{project:n,type:t},queryParams:f,apiVersion:this.workItemsApiVersion})},t.prototype.createWorkItem=function(n,t,i,r,u,f,e){var o={validateOnly:r,bypassRules:u,suppressNotifications:f,$expand:e};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",routeValues:{project:t,type:i},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:o,apiVersion:this.workItemsApiVersion,data:n})},t.prototype.getRelationTypes=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseIsCollection:!0,apiVersion:this.workItemRelationTypesApiVersion})},t.prototype.getRelationType=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",routeValues:{relation:n},apiVersion:this.workItemRelationTypesApiVersion})},t.prototype.getWorkItemIconXaml=function(n,t,i){var r={color:t,v:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"image/xaml+xml",area:"wit",locationId:"4e1eb4a5-1970-4228-a682-ec48eb2dca30",resource:"workItemIcons",routeTemplate:"_apis/{area}/{resource}/{icon}",routeValues:{icon:n},queryParams:r,apiVersion:this.workItemIconsApiVersion})},t.prototype.getWorkItemIconSvg=function(n,t,i){var r={color:t,v:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"image/svg+xml",area:"wit",locationId:"4e1eb4a5-1970-4228-a682-ec48eb2dca30",resource:"workItemIcons",routeTemplate:"_apis/{area}/{resource}/{icon}",routeValues:{icon:n},queryParams:r,apiVersion:this.workItemIconsApiVersion})},t.prototype.getWorkItemIcons=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"4e1eb4a5-1970-4228-a682-ec48eb2dca30",resource:"workItemIcons",routeTemplate:"_apis/{area}/{resource}/{icon}",responseIsCollection:!0,apiVersion:this.workItemIconsApiVersion})},t.prototype.getWorkItemIconJson=function(n,t,i){var r={color:t,v:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"4e1eb4a5-1970-4228-a682-ec48eb2dca30",resource:"workItemIcons",routeTemplate:"_apis/{area}/{resource}/{icon}",routeValues:{icon:n},queryParams:r,apiVersion:this.workItemIconsApiVersion})},t.prototype.queryById=function(n,t,r,u,f){var e={timePrecision:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a02355f5-5f8a-4671-8e32-369d23aac83d",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.WorkItemQueryResult,routeValues:{project:t,team:r,id:n},queryParams:e,apiVersion:this.wiqlApiVersion})},t.prototype.getQueryResultCount=function(n,t,i,r,u){var f={timePrecision:r,$top:u};return this._beginRequest({httpMethod:"HEAD",area:"wit",locationId:"a02355f5-5f8a-4671-8e32-369d23aac83d",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",routeValues:{project:t,team:i,id:n},queryParams:f,apiVersion:this.wiqlApiVersion},!0).then(function(n){var i=n[0],r=n[1],t=n[2];return t.getResponseHeader("X-Total-Count")},function(n){throw n;})},t.prototype.queryByWiql=function(n,t,r,u,f){var e={timePrecision:u,$top:f};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"1a9c53f7-f243-4447-b110-35ef023636e4",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseType:i.TypeInfo.WorkItemQueryResult,routeValues:{project:t,team:r},queryParams:e,apiVersion:this.wiqlApiVersion_1a9c53f7,data:n})},t.prototype.sendMail=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"wit",locationId:"12438500-2f84-4fa7-9f1a-c31871b4959d",resource:"sendMail",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.sendMailApiVersion,data:n})},t.prototype.updateQuery=function(n,t,r,u){var f={$undeleteDescendants:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:i.TypeInfo.QueryHierarchyItem,responseType:i.TypeInfo.QueryHierarchyItem,routeValues:{project:t,query:r},queryParams:f,apiVersion:this.queriesApiVersion,data:n})},t.prototype.searchQueries=function(n,t,r,u,f){var e={$filter:t,$top:r,$expand:u,$includeDeleted:f};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:i.TypeInfo.QueryHierarchyItemsResult,routeValues:{project:n},queryParams:e,apiVersion:this.queriesApiVersion})},t.prototype.getQuery=function(n,t,r,u,f,e){var o={$expand:r,$depth:u,$includeDeleted:f,$useIsoDateFormat:e};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:i.TypeInfo.QueryHierarchyItem,routeValues:{project:n,query:t},queryParams:o,apiVersion:this.queriesApiVersion})},t.prototype.getQueries=function(n,t,r,u){var f={$expand:t,$depth:r,$includeDeleted:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:i.TypeInfo.QueryHierarchyItem,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.queriesApiVersion})},t.prototype.deleteQuery=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",routeValues:{project:n,query:t},apiVersion:this.queriesApiVersion})},t.prototype.createQuery=function(n,t,r,u){var f={validateWiqlOnly:u};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:i.TypeInfo.QueryHierarchyItem,responseType:i.TypeInfo.QueryHierarchyItem,routeValues:{project:t,query:r},queryParams:f,apiVersion:this.queriesApiVersion,data:n})},t.prototype.updateClassificationNode=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:i.TypeInfo.WorkItemClassificationNode,responseType:i.TypeInfo.WorkItemClassificationNode,routeValues:{project:t,structureGroup:i.TreeStructureGroup[r],path:u},apiVersion:this.classificationNodesApiVersion,data:n})},t.prototype.getClassificationNode=function(n,t,r,u){var f={$depth:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseType:i.TypeInfo.WorkItemClassificationNode,routeValues:{project:n,structureGroup:i.TreeStructureGroup[t],path:r},queryParams:f,apiVersion:this.classificationNodesApiVersion})},t.prototype.deleteClassificationNode=function(n,t,r,u){var f={$reclassifyId:u};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",routeValues:{project:n,structureGroup:i.TreeStructureGroup[t],path:r},queryParams:f,apiVersion:this.classificationNodesApiVersion})},t.prototype.createOrUpdateClassificationNode=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:i.TypeInfo.WorkItemClassificationNode,responseType:i.TypeInfo.WorkItemClassificationNode,routeValues:{project:t,structureGroup:i.TreeStructureGroup[r],path:u},apiVersion:this.classificationNodesApiVersion,data:n})},t.prototype.getRootNodes=function(n,t){var r={$depth:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a70579d1-f53a-48ee-a5be-7be8659023b9",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.WorkItemClassificationNode,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.classificationNodesApiVersion_a70579d1})},t.prototype.getClassificationNodes=function(n,t,r,u){var f={ids:t&&t.join(","),$depth:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a70579d1-f53a-48ee-a5be-7be8659023b9",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.WorkItemClassificationNode,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.classificationNodesApiVersion_a70579d1})},t.prototype.getRecentMentions=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"d60eeb6e-e18c-4478-9e94-a0094e28f41c",resource:"accountRecentMentions",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentMentionWorkItemModel,responseIsCollection:!0,apiVersion:this.accountRecentMentionsApiVersion})},t.prototype.getAccountMyWorkData=function(n){var t={$queryOption:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"def3d688-ddf5-4096-9024-69beea15cdbd",resource:"accountMyWork",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountMyWorkResult,queryParams:t,apiVersion:this.accountMyWorkApiVersion})},t.serviceInstanceId=f.ServiceInstanceTypes.TFS,t}(u.VssHttpClient);t.CommonMethods2To7_1=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.restoreWorkItem=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:i,id:t},apiVersion:this.recyclebinApiVersion,data:n})},t.prototype.getDeletedWorkItems=function(n,t){var i={ids:n&&n.join(",")};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:t},queryParams:i,apiVersion:this.recyclebinApiVersion})},t.prototype.getDeletedWorkItem=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:t,id:n},apiVersion:this.recyclebinApiVersion})},t.prototype.destroyWorkItem=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:t,id:n},apiVersion:this.recyclebinApiVersion})},t}(h);t.CommonMethods2_1To7_1=c;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.readReportingRevisionsPost=function(n,t,i,r,u){var f={continuationToken:i,startDateTime:r,$expand:u};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:t},queryParams:f,apiVersion:this.workItemRevisionsApiVersion,data:n})},t.prototype.readReportingRevisionsGet=function(n,t,i,r,u,f,e,o,s,h,c,l){var a={fields:t&&t.join(","),types:i&&i.join(","),continuationToken:r,startDateTime:u,includeIdentityRef:f,includeDeleted:e,includeTagRef:o,includeLatestOnly:s,$expand:h,includeDiscussionChangesOnly:c,$maxPageSize:l};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:n},queryParams:a,apiVersion:this.workItemRevisionsApiVersion})},t}(c);t.CommonMethods2_2To7_1=o;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.replaceTemplate=function(n,t,i,r){return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"fb10264a-8836-48a0-8033-1b0ccd2748d5",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{templateId}",routeValues:{project:t,team:i,templateId:r},apiVersion:this.templatesApiVersion,data:n})},t.prototype.getTemplate=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"fb10264a-8836-48a0-8033-1b0ccd2748d5",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{templateId}",routeValues:{project:n,team:t,templateId:i},apiVersion:this.templatesApiVersion})},t.prototype.deleteTemplate=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"fb10264a-8836-48a0-8033-1b0ccd2748d5",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{templateId}",routeValues:{project:n,team:t,templateId:i},apiVersion:this.templatesApiVersion})},t.prototype.getTemplates=function(n,t,i){var r={workitemtypename:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6a90345f-a676-4969-afce-8e163e1d5642",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n,team:t},queryParams:r,apiVersion:this.templatesApiVersion_6a90345f})},t.prototype.createTemplate=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"6a90345f-a676-4969-afce-8e163e1d5642",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",routeValues:{project:t,team:i},apiVersion:this.templatesApiVersion_6a90345f,data:n})},t}(o);t.CommonMethods3To7_1=s;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getWorkArtifactLinkTypes=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1a31de40-e318-41cd-a6c6-881077df52e3",resource:"artifactLinkTypes",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.artifactLinkTypesApiVersion})},t}(s);t.CommonMethods3_2To7_1=l;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateWorkItem=function(n,t,i,r,u,f,e){var o={validateOnly:r,bypassRules:u,suppressNotifications:f,$expand:e};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:i,id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:o,apiVersion:this.workItemsApiVersion_72c7ddf8,data:n})},t.prototype.getWorkItems=function(n,t,i,r,u,f){var e={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:f},queryParams:e,apiVersion:this.workItemsApiVersion_72c7ddf8})},t.prototype.getWorkItem=function(n,t,i,r,u){var f={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:u,id:n},queryParams:f,apiVersion:this.workItemsApiVersion_72c7ddf8})},t.prototype.deleteWorkItem=function(n,t,i){var r={destroy:i};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:t,id:n},queryParams:r,apiVersion:this.workItemsApiVersion_72c7ddf8})},t}(l);t.CommonMethods4To7_1=a;v=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getWorkItemTypeFieldWithReferences=function(n,t,i,r){var u={$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},queryParams:u,apiVersion:this.workItemTypesFieldApiVersion})},t.prototype.getWorkItemTypeFieldsWithReferences=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",responseIsCollection:!0,routeValues:{project:n,type:t},queryParams:r,apiVersion:this.workItemTypesFieldApiVersion})},t.prototype.getWorkItemNextStatesOnCheckinAction=function(n,t){var i={ids:n&&n.join(","),action:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"afae844b-e2f6-44c2-8053-17b3bb936a40",resource:"workItemTransitions",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:i,apiVersion:this.workItemTransitionsApiVersion})},t.prototype.getUpdates=function(n,t,r,u){var f={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"{project}/_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{project:u,id:n},queryParams:f,apiVersion:this.updatesApiVersion})},t.prototype.getUpdate=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"{project}/_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{project:r,id:n,updateNumber:t},apiVersion:this.updatesApiVersion})},t.prototype.getRevisions=function(n,t,i,r,u){var f={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"{project}/_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{project:u,id:n},queryParams:f,apiVersion:this.revisionsApiVersion})},t.prototype.getRevision=function(n,t,i,r){var u={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"{project}/_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{project:r,id:n,revisionNumber:t},queryParams:u,apiVersion:this.revisionsApiVersion})},t.prototype.getDeletedWorkItemShallowReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.recyclebinApiVersion})},t.prototype.uploadAttachment=function(n,t,i,r,u){var f={fileName:u};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:r,id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:f,apiVersion:this.attachmentsApiVersion,data:n,isRawData:!0})},t.prototype.getAttachmentZip=function(n,t,i,r){var u={fileName:t,download:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:i,id:n},queryParams:u,apiVersion:this.attachmentsApiVersion})},t.prototype.getAttachmentContent=function(n,t,i,r){var u={fileName:t,download:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:i,id:n},queryParams:u,apiVersion:this.attachmentsApiVersion})},t.prototype.createAttachment=function(n,t,i,r,u){var f={fileName:t,uploadType:i,areaPath:u};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:r},customHeaders:{"Content-Type":"application/octet-stream"},queryParams:f,apiVersion:this.attachmentsApiVersion,data:n,isRawData:!0})},t.prototype.queryWorkItemsForArtifactUris=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a9a9aa7a-8c09-44d3-ad1b-46e855c1e3d3",resource:"artifactUriQuery",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.artifactUriQueryApiVersion,data:n})},t}(a);t.CommonMethods4_1To7_1=v;y=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getWorkItemsBatch=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"908509b6-4248-4475-a1cd-829139ba419f",resource:"workItemsBatch",routeTemplate:"{project}/_apis/{area}/{resource}",requestType:i.TypeInfo.WorkItemBatchGetRequest,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.workItemsBatchApiVersion,data:n})},t.prototype.getReportingLinksByLinkType=function(n,t,i,r,u){var f={linkTypes:t&&t.join(","),types:i&&i.join(","),continuationToken:r,startDateTime:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b5b5b6d0-0308-40a1-b3f4-b9bb3c66878f",resource:"workItemLinks",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:n},queryParams:f,apiVersion:this.workItemLinksApiVersion})},t.prototype.getQueriesBatch=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"549816f9-09b0-4e75-9e81-01fbfcd07426",resource:"queriesBatch",routeTemplate:"{project}/_apis/{area}/{resource}",requestType:i.TypeInfo.QueryBatchGetRequest,responseType:i.TypeInfo.QueryHierarchyItem,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.queriesBatchApiVersion,data:n})},t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel2,responseIsCollection:!0,apiVersion:this.accountMyWorkRecentActivityApiVersion})},t}(v);t.CommonMethods5To7_1=y;p=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.readReportingDiscussions=function(n,t,i){var r={continuationToken:t,$maxPageSize:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"4a644469-90c5-4fcc-9a9f-be0827d369ec",resource:"workItemRevisionsDiscussions",routeTemplate:"{project}/_apis/{area}/reporting/workItemRevisions/discussions",routeValues:{project:n},queryParams:r,apiVersion:this.workItemRevisionsDiscussionsApiVersion})},t.prototype.getCommentVersions=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"49e03b34-3be0-42e3-8a5d-e8dfb88ac954",resource:"commentsVersions",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}/versions/{version}",responseType:i.TypeInfo.CommentVersion,responseIsCollection:!0,routeValues:{project:n,workItemId:t,commentId:r},apiVersion:this.commentsVersionsApiVersion})},t.prototype.getCommentVersion=function(n,t,r,u){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"49e03b34-3be0-42e3-8a5d-e8dfb88ac954",resource:"commentsVersions",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}/versions/{version}",responseType:i.TypeInfo.CommentVersion,routeValues:{project:n,workItemId:t,commentId:r,version:u},apiVersion:this.commentsVersionsApiVersion})},t.prototype.getCommentReactions=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f6cb3f27-1028-4851-af96-887e570dc21f",resource:"commentsReactions",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}/reactions/{reactionType}",responseType:i.TypeInfo.CommentReaction,responseIsCollection:!0,routeValues:{project:n,workItemId:t,commentId:r},apiVersion:this.commentsReactionsApiVersion})},t.prototype.deleteCommentReaction=function(n,t,r,u){return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"f6cb3f27-1028-4851-af96-887e570dc21f",resource:"commentsReactions",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}/reactions/{reactionType}",responseType:i.TypeInfo.CommentReaction,routeValues:{project:n,workItemId:t,commentId:r,reactionType:i.CommentReactionType[u]},apiVersion:this.commentsReactionsApiVersion})},t.prototype.createCommentReaction=function(n,t,r,u){return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"f6cb3f27-1028-4851-af96-887e570dc21f",resource:"commentsReactions",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}/reactions/{reactionType}",responseType:i.TypeInfo.CommentReaction,routeValues:{project:n,workItemId:t,commentId:r,reactionType:i.CommentReactionType[u]},apiVersion:this.commentsReactionsApiVersion})},t.prototype.updateWorkItemComment=function(n,t,r,u,f){var e={format:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.Comment,routeValues:{project:t,workItemId:r,commentId:u},queryParams:e,apiVersion:this.commentsApiVersion,data:n})},t.prototype.updateComment=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.Comment,routeValues:{project:t,workItemId:r,commentId:u},apiVersion:this.commentsApiVersion,data:n})},t.prototype.getCommentsBatch=function(n,t,r,u,f){var e={ids:r&&r.join(","),includeDeleted:u,$expand:f};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.CommentList,routeValues:{project:n,workItemId:t},queryParams:e,apiVersion:this.commentsApiVersion})},t.prototype.getComments=function(n,t,r,u,f,e,o){var s={$top:r,continuationToken:u,includeDeleted:f,$expand:e,order:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.CommentList,routeValues:{project:n,workItemId:t},queryParams:s,apiVersion:this.commentsApiVersion})},t.prototype.getComment=function(n,t,r,u,f){var e={includeDeleted:u,$expand:f};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.Comment,routeValues:{project:n,workItemId:t,commentId:r},queryParams:e,apiVersion:this.commentsApiVersion})},t.prototype.deleteComment=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",routeValues:{project:n,workItemId:t,commentId:i},apiVersion:this.commentsApiVersion})},t.prototype.addWorkItemComment=function(n,t,r,u){var f={format:u};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.Comment,routeValues:{project:t,workItemId:r},queryParams:f,apiVersion:this.commentsApiVersion,data:n})},t.prototype.addComment=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.Comment,routeValues:{project:t,workItemId:r},apiVersion:this.commentsApiVersion,data:n})},t.prototype.getEngagedUsers=function(n,t,r,u,f,e){var o={$top:f,$skip:e};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"e33ca5e0-2349-4285-af3d-d72d86781c35",resource:"commentReactionsEngagedUsers",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}/reactions/{reactionType}/users",responseIsCollection:!0,routeValues:{project:n,workItemId:t,commentId:r,reactionType:i.CommentReactionType[u]},queryParams:o,apiVersion:this.commentReactionsEngagedUsersApiVersion})},t}(y);t.CommonMethods5_1To7_1=p;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateTag=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"bc15bc60-e7a8-43cb-ab01-2106be3983a1",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}/{tagIdOrName}",requestType:i.TypeInfo.WorkItemTagDefinition,responseType:i.TypeInfo.WorkItemTagDefinition,routeValues:{project:t,tagIdOrName:r},apiVersion:this.tagsApiVersion,data:n})},t.prototype.getTags=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bc15bc60-e7a8-43cb-ab01-2106be3983a1",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}/{tagIdOrName}",responseType:i.TypeInfo.WorkItemTagDefinition,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.tagsApiVersion})},t.prototype.getTag=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bc15bc60-e7a8-43cb-ab01-2106be3983a1",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}/{tagIdOrName}",responseType:i.TypeInfo.WorkItemTagDefinition,routeValues:{project:n,tagIdOrName:t},apiVersion:this.tagsApiVersion})},t.prototype.deleteTag=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"bc15bc60-e7a8-43cb-ab01-2106be3983a1",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}/{tagIdOrName}",routeValues:{project:n,tagIdOrName:t},apiVersion:this.tagsApiVersion})},t.prototype.migrateProjectsProcess=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"19801631-d4e5-47e9-8166-0330de0ff1e6",resource:"projectProcessMigration",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.projectProcessMigrationApiVersion,data:n})},t}(p);t.CommonMethods5_2To7_1=e;w=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.createTempQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"9f614388-a9f0-4952-ad6c-89756bd8e388",resource:"tempQueries",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.tempQueriesApiVersion,data:n})},t}(e);t.CommonMethods7To7_1=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.projectProcessMigrationApiVersion=r.queriesBatchApiVersion=r.sendMailApiVersion=r.tagsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.tempQueriesApiVersion=r.workItemIconsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsBatchApiVersion=r.workitemStateColorApiVersion=r.workItemTransitionsApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="7.1-preview.1",r.accountMyWorkRecentActivityApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion="7.1-preview.2",r.attachmentsApiVersion=r.revisionsApiVersion=r.updatesApiVersion=r.workItemLinksApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemTypesFieldApiVersion="7.1-preview.3",r.commentsApiVersion="7.1-preview.4",r}return __extends(t,n),t.prototype.createWorkItemField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField2,responseType:i.TypeInfo.WorkItemField2,routeValues:{project:t},apiVersion:"7.1-preview.3",data:n})},t.prototype.deleteWorkItemField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"7.1-preview.3"})},t.prototype.getWorkItemField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField2,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"7.1-preview.3"})},t.prototype.getWorkItemFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField2,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"7.1-preview.3"})},t.prototype.updateWorkItemField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField2,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"7.1-preview.3",data:n})},t.prototype.getGithubConnectionRepositories=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"0b3a5212-f65b-2102-0d80-1dd77ce4c700",resource:"githubConnections",routeTemplate:"{project}/_apis/githubconnections/{connectionId}/repos",responseIsCollection:!0,routeValues:{project:n,connectionId:t},apiVersion:"7.1-preview.1"})},t.prototype.updateGithubConnectionRepos=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"15b19676-8d9e-e224-d795-ca4d1a18024d",resource:"githubConnections",routeTemplate:"{project}/_apis/githubconnections/{connectionId}/reposBatch",responseIsCollection:!0,routeValues:{project:t,connectionId:i},apiVersion:"7.1-preview.1",data:n})},t.prototype.getGithubConnections=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"0cf95f86-6ce1-f410-ccf6-3d8c92b3a1ef",resource:"githubConnections",routeTemplate:"{project}/_apis/githubconnections",responseIsCollection:!0,routeValues:{project:n},apiVersion:"7.1-preview.1"})},t.prototype.getWorkItemFieldAllowedValues=function(n,t){var i={name:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1d4da553-5856-4ca5-a3b3-79e0e8fcc142",resource:"workItemFieldAllowedValues",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:n},queryParams:i,apiVersion:"7.1-preview.1"})},t.prototype.deleteWorkItems=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"8bc57545-27e5-420d-b709-f6e3ebcc1fc1",resource:"workItemsDelete",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:"7.1-preview.1",data:n})},t}(w);t.WorkItemTrackingHttpClient7_1=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.projectProcessMigrationApiVersion=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.tagsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.tempQueriesApiVersion=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="7.0",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="7.0-preview.1",r.commentsApiVersion="7.0-preview.4",r}return __extends(t,n),t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"7.0",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"7.0"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"7.0"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"7.0"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"7.0",data:n})},t}(w);t.WorkItemTrackingHttpClient7=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.projectProcessMigrationApiVersion=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.tagsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="6.1",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="6.1-preview.1",r.commentsApiVersion="6.1-preview.4",r}return __extends(t,n),t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"6.1",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"6.1"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"6.1"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"6.1"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"6.1",data:n})},t}(e);t.WorkItemTrackingHttpClient6_1=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.projectProcessMigrationApiVersion=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.tagsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="6.0",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="6.0-preview.1",r.commentsApiVersion="6.0-preview.4",r}return __extends(t,n),t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"6.0",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"6.0"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"6.0"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"6.0"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"6.0",data:n})},t}(e);t.WorkItemTrackingHttpClient6=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.projectProcessMigrationApiVersion=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.tagsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="5.2",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="5.2-preview.1",r.commentsApiVersion="5.2-preview.4",r}return __extends(t,n),t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"5.2",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"5.2"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"5.2"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"5.2"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"5.2",data:n})},t}(e);t.WorkItemTrackingHttpClient5_2=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="5.1",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="5.1-preview.1",r.commentsApiVersion="5.1-preview.4",r}return __extends(t,n),t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"5.1",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"5.1"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"5.1"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"5.1"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"5.1",data:n})},t}(p);t.WorkItemTrackingHttpClient5_1=tt;it=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="5.0",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="5.0-preview.1",r}return __extends(t,n),t.prototype.getComment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"{project}/_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{project:r,id:n,revision:t},apiVersion:"5.0-preview.2"})},t.prototype.getComments=function(n,t,r,u,f){var e={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"{project}/_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{project:f,id:n},queryParams:e,apiVersion:"5.0-preview.2"})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"5.0",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"5.0"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"5.0"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"5.0"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"5.0",data:n})},t}(y);t.WorkItemTrackingHttpClient5=it;rt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="4.1",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="4.1-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"4.1"})},t.prototype.getComment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"{project}/_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{project:r,id:n,revision:t},apiVersion:"4.1-preview.2"})},t.prototype.getComments=function(n,t,r,u,f){var e={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"{project}/_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{project:f,id:n},queryParams:e,apiVersion:"4.1-preview.2"})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"4.1",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"4.1"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"4.1"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"4.1"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"4.1",data:n})},t}(v);t.WorkItemTrackingHttpClient4_1=rt;ut=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactLinkTypesApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="4.0",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="4.0-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"4.0"})},t.prototype.queryWorkItemsForArtifactUris=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a9a9aa7a-8c09-44d3-ad1b-46e855c1e3d3",resource:"artifactUriQuery",routeTemplate:"_apis/{area}/{resource}",apiVersion:"4.0",data:n})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"4.0",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"4.0"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"4.0"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"4.0",data:n,isRawData:!0})},t.prototype.getComment=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{id:n,revision:t},apiVersion:"4.0-preview.1"})},t.prototype.getComments=function(n,t,r,u){var f={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{id:n},queryParams:f,apiVersion:"4.0-preview.1"})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"4.0",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"4.0"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"4.0"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"4.0"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"4.0",data:n})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"4.0"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"4.0"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"4.0"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"4.0"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"4.0"})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"4.0"})},t}(a);t.WorkItemTrackingHttpClient4=ut;ft=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactLinkTypesApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="3.2",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="3.2-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"3.2"})},t.prototype.queryWorkItemsForArtifactUris=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a9a9aa7a-8c09-44d3-ad1b-46e855c1e3d3",resource:"artifactUriQuery",routeTemplate:"_apis/{area}/{resource}",apiVersion:"3.2",data:n})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"3.2",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.2"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.2"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"3.2",data:n,isRawData:!0})},t.prototype.getComment=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{id:n,revision:t},apiVersion:"3.2-preview.1"})},t.prototype.getComments=function(n,t,r,u){var f={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{id:n},queryParams:f,apiVersion:"3.2-preview.1"})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"3.2",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"3.2"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"3.2"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"3.2"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"3.2",data:n})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.2"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"3.2"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.2"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"3.2"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.2"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"3.2"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"3.2"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"3.2"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"3.2",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"3.2"})},t}(l);t.WorkItemTrackingHttpClient3_2=ft;et=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="3.1",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="3.1-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"3.1"})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"3.1",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.1"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.1"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"3.1",data:n,isRawData:!0})},t.prototype.getComment=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{id:n,revision:t},apiVersion:"3.1-preview.1"})},t.prototype.getComments=function(n,t,r,u){var f={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{id:n},queryParams:f,apiVersion:"3.1-preview.1"})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"3.1",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"3.1"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"3.1"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"3.1"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"3.1",data:n})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.1"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"3.1"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.1"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"3.1"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.1"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"3.1"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"3.1"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"3.1"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"3.1",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"3.1"})},t}(s);t.WorkItemTrackingHttpClient3_1=et;ot=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="3.0",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="3.0-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"3.0"})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"3.0",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.0"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.0"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"3.0",data:n,isRawData:!0})},t.prototype.getComment=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{id:n,revision:t},apiVersion:"3.0-preview.1"})},t.prototype.getComments=function(n,t,r,u){var f={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{id:n},queryParams:f,apiVersion:"3.0-preview.1"})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"3.0",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"3.0"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"3.0"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"3.0"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"3.0",data:n})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.0"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"3.0"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.0"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"3.0"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.0"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"3.0"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.0"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"3.0"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"3.0"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"3.0"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"3.0",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"3.0"})},t}(s);t.WorkItemTrackingHttpClient3=ot;st=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="2.3",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="2.3-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"2.3"})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"2.3",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.3"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.3"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"2.3",data:n,isRawData:!0})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"2.3",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.3"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.3"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.3"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"2.3",data:n})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"2.3"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.3"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"2.3"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"2.3"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"2.3"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"2.3"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"2.3",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"2.3"})},t}(o);t.WorkItemTrackingHttpClient2_3=st;ht=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="2.2",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="2.2-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"2.2"})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"2.2",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.2"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.2"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"2.2",data:n,isRawData:!0})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"2.2",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.2"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.2"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.2"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"2.2",data:n})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"2.2"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.2"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"2.2"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"2.2"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"2.2"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"2.2"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"2.2",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"2.2"})},t}(o);t.WorkItemTrackingHttpClient2_2=ht;ct=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="2.1",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="2.1-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"2.1"})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"2.1",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.1"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.1"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"2.1",data:n,isRawData:!0})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"2.1",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.1"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.1"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.1"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"2.1",data:n})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"2.1"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.1"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"2.1"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"2.1"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.readReportingRevisionsGet=function(n,t,i,r,u,f,e){var o={includeDeleted:t,fields:i&&i.join(","),types:r&&r.join(","),watermark:u,startDateTime:f,includeIdentityRef:e};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:n},queryParams:o,apiVersion:"2.1"})},t.prototype.readReportingRevisionsPost=function(n,t,i,r){var u={watermark:i,startDateTime:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:t},queryParams:u,apiVersion:"2.1",data:n})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"2.1"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"2.1"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"2.1",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"2.1"})},t}(c);t.WorkItemTrackingHttpClient2_1=ct;lt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.sendMailApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="2.0",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="2.0-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"2.0"})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"2.0",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.0"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.0"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"2.0",data:n,isRawData:!0})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"2.0",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.0"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.0"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.0"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"2.0",data:n})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"2.0"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"2.0"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"2.0"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.readReportingRevisionsGet=function(n,t,i,r,u,f,e){var o={includeDeleted:t,fields:i&&i.join(","),types:r&&r.join(","),watermark:u,startDateTime:f,includeIdentityRef:e};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:n},queryParams:o,apiVersion:"2.0"})},t.prototype.readReportingRevisionsPost=function(n,t,i,r){var u={watermark:i,startDateTime:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:t},queryParams:u,apiVersion:"2.0",data:n})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"2.0"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"2.0"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"2.0",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"2.0"})},t}(h);t.WorkItemTrackingHttpClient2=lt;vt=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(b);t.WorkItemTrackingHttpClient=vt;at={"7.1":b,"7.0":k,"6.1":d,"6.0":g,"5.2":nt,"5.1":tt,"5.0":it,"4.1":rt,"4.0":ut,"3.2":ft,"3.1":et,"3.0":ot,"2.3":st,"2.2":ht,"2.1":ct,"2.0":lt};t.getClient=yt});

define("VSS/Identities/Picker/Common",["require","exports"],function(n,t){var r,i;Object.defineProperty(t,"__esModule",{value:!0});t.CommonHelpers=t.FilterByScope=void 0;r=function(){function n(n,t){this.filterByAncestorEntityIds=n||[];this.filterByEntityIds=t||[]}return n.GetHashCode=function(t){var r=i._hashSeed,e,u,f,o;if(t==null)return r;for(e=t.filterByAncestorEntityIds.sort().concat([n._hashSeparator],t.filterByEntityIds.sort()),u=0,f=e;u<f.length;u++)o=f[u],r=r*i._stringListHashPrime+i.GetStringHashCode(o),r=r&r;return r},n.isFilterByScopeEmpty=function(n){return n&&n.filterByAncestorEntityIds.length==0&&n.filterByEntityIds.length==0},n._hashSeparator="@",n}();t.FilterByScope=r;i=function(){function n(){}return n.GetStringHashCode=function(t){var i=n._hashSeed,r;if(t)for(t=t.trim().toLowerCase(),r=0;r<t.length;r++)i=i*n._stringHashPrime+t.charCodeAt(r),i=i&i;return i},n.GetStringListHashCode=function(t){var i=n._hashSeed,r;if(t)for(r in t)i=i*n._stringListHashPrime+n.GetStringHashCode(r),i=i&i;return i},n._hashSeed=0,n._stringListHashPrime=31,n._stringHashPrime=37,n}();t.CommonHelpers=i});

define("WorkItemTracking/Scripts/Utils/LayoutUserSettingsUtility",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Utils/Array","VSS/Utils/String","VSS/Diag"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.LayoutUserSettingsUtility=void 0;var e;(function(n){function t(n,t){f.Debug.assertIsNotNull(n,"layoutUserSettings");f.Debug.assertIsNotNull(t,"workItemType");var i,r=t.name;return t.processId&&!u.isEmptyGuid(t.processId)?i=e(n,t.processId):t.project&&t.project.guid&&(i=o(n,t.project.guid)),i&&r&&h(i,r)||null}function h(n,t){var i=r.first(n.workItemTypeSettings,function(n){return u.equals(n.refName,t,!0)});return i||(i={refName:t,collapsedGroups:[],mobileCollapsedGroups:[]},n.workItemTypeSettings.push(i)),i}function e(n,t){var i,r,e,o;if(f.Debug.assertIsNotNull(n,"layoutUserSettings"),f.Debug.assert(u.isGuid(t)),n)for(i=0,r=n.processSettings;i<r.length;i++)if(e=r[i],u.ignoreCaseComparer(e.processId,t)===0)return e;return o={processId:t,workItemTypeSettings:[]},n.processSettings.push(o),o}function o(n,t){var i,r,e,o;if(f.Debug.assertIsNotNull(n,"layoutUserSettings"),n)for(i=0,r=n.projectSettings;i<r.length;i++)if(e=r[i],u.ignoreCaseComparer(e.projectId,t)===0)return e;return o={projectId:t,workItemTypeSettings:[]},n.projectSettings.push(o),o}function c(n,r,u,e){e===void 0&&(e=i.FormLayoutType.Desktop);f.Debug.assertIsNotNull(n,"layoutUserSettings");var o=t(n,r);return s(o,u,e)}function s(n,t,r){r===void 0&&(r=i.FormLayoutType.Desktop);f.Debug.assertIsNotNull(n,"workItemTypeSettings");var e=r===i.FormLayoutType.Desktop?n.collapsedGroups:n.mobileCollapsedGroups;return e?e.filter(function(n){return u.equals(n,t,!0)}).length>0:!1}function l(n,e,o,s,h){var c,l,a;if(h===void 0&&(h=i.FormLayoutType.Desktop),f.Debug.assertIsNotNull(n,"layoutUserSettings"),f.Debug.assertIsNotNull(e,"workItemType"),!n)throw new Error("Invalid parameter: layoutUserSettings");if(!o)throw new Error("Invalid parameter: groupId");if(!e)throw new Error("Invalid parameter: workItemType");c=t(n,e);c.collapsedGroups=c.collapsedGroups||[];c.mobileCollapsedGroups=c.mobileCollapsedGroups||[];l=h===i.FormLayoutType.Desktop?c.collapsedGroups:c.mobileCollapsedGroups;a=r.findIndex(l,function(n){return u.equals(n,o,!0)});s&&a===-1?l.push(o):s||a===-1||l.splice(a,1)}n.getWorkItemTypeSettings=t;n.getProcessSettings=e;n.getProjectSettings=o;n.isGroupCollapsed=c;n.isGroupCollapsedForWorkItemType=s;n.setGroupExpansionState=l})(e=t.LayoutUserSettingsUtility||(t.LayoutUserSettingsUtility={}))});

define("WorkItemTracking/Scripts/Form/UserLayoutSettings",["require","exports","q","VSS/Service","VSS/Contributions/Services","WorkItemTracking/Scripts/Utils/LayoutUserSettingsUtility","VSS/Error","VSS/Diag","VSS/VSS","VSS/WebApi/Constants","VSS/Settings/Services"],function(n,t,i,r,u,f,e,o,s,h,c){var v;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemFormUserLayoutSettingsService=void 0;var y=500,l="ms.vss-work-web.work-item-layout-user-settings-data-provider",a={processSettings:[],projectSettings:[],isWitDialogFullScreen:!1},p=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._storage=new v,t}return __extends(t,n),t.prototype.ensureSettingsAreLoaded=function(){return this._storage.ensureSettingsLoaded()},Object.defineProperty(t.prototype,"isDialogFullscreen",{get:function(){return this._storage.layoutSettings&&this._storage.layoutSettings.isWitDialogFullScreen||!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldChromeBorder",{get:function(){return this._storage.fieldChromeBorder},enumerable:!1,configurable:!0}),t.prototype.getLayoutSettingsForWorkItemType=function(n){var t=this._storage.layoutSettings;return f.LayoutUserSettingsUtility.getWorkItemTypeSettings(t,n)},t.prototype.setGroupExpansionState=function(n,t,i,r){return this._storage.queueSettingsOperation(function(u){u&&f.LayoutUserSettingsUtility.setGroupExpansionState(u,n,t,i,r)})},t.prototype.setDialogFullscreenState=function(n){return this._storage.queueSettingsOperation(function(t){t.isWitDialogFullScreen=n})},t}(r.VssService);t.WorkItemFormUserLayoutSettingsService=p;v=function(){function n(){this._processing=!1;this._queue=[];this._initLayoutSettingsFromPageData()}return n.prototype.ensureSettingsLoaded=function(){var n=this;return this._layoutSettings?i(null):this._updateCurrentLayoutState().then(function(){if(!n._layoutSettings)return r.getService(u.WebPageDataService).ensureDataProvidersResolved([{id:l,properties:{serviceInstanceType:h.ServiceInstanceTypes.TFS}}]).then(function(){n._initLayoutSettingsFromPageData()},function(n){e.publishErrorToTelemetry(n)})})},Object.defineProperty(n.prototype,"layoutSettings",{get:function(){return this._layoutSettings||a},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fieldChromeBorder",{get:function(){return this._fieldChromeBorder},enumerable:!1,configurable:!0}),n.prototype.queueSettingsOperation=function(n){return this._queue.push(n),this._processQueue()},n.prototype._initLayoutSettingsFromPageData=function(){var n=r.getService(u.WebPageDataService).getPageData(l);this._layoutSettings=n&&n.layoutUserSettings;this._fieldChromeBorder=n&&n.fieldChromeBorder},n.prototype._processQueue=function(){var n=this;return this._processing?(this._waitingOperation||(this._waitingOperation=this._pendingOperation.then(function(){return n._waitingOperation=null,n._processQueue()})),this._waitingOperation):(this._pendingOperation=i.delay(y).then(function(){return n._processOperations()}).then(function(){n._pendingOperation=null;n._processing=!1}).then(null,function(t){e.publishErrorToTelemetry(t);n._pendingOperation=null;n._processing=!1}),this._pendingOperation)},n.prototype._processOperations=function(){if(this._processing=!0,this._queue&&this._queue.length>0){var n=[];return n=this._queue.slice(0),this._queue=[],this._updateSettings(n)}},n.prototype._updateSettings=function(n){var t=this;return this._updateCurrentLayoutState().then(function(){for(var u,f,i=0,r=n;i<r.length;i++)u=r[i],u(t._layoutSettings||a);return f=t._getService(),f.setEntries({"WorkItemTracking/LayoutUserSettings":t._layoutSettings},0)})},n.prototype._getService=function(){return c.getService()},n.prototype._updateCurrentLayoutState=function(){var n=this,t=this._getService();return t.getEntriesAsync("WorkItemTracking",0).then(function(t){var i=t.value;n._layoutSettings=i&&i.LayoutUserSettings}).then(null,function(n){e.publishErrorToTelemetry(n);o.logError(s.getErrorMessage(n))})},n}()});

define("WorkItemTracking/Scripts/LinkForm",["require","exports","VSS/Controls","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/VSS","VSS/Events/Services","VSS/Artifacts/Constants"],function(n,t,i,r,u,f,e){function l(n,t){c(n,function(n){n(t)})}function c(n,t){n=n.toUpperCase();o[n]=t}function a(n,t){var i;n=n.toUpperCase();i=o[n];i?i(t):t(null)}function v(n){return!!o[n.name.toUpperCase()]||n.toolId===e.ToolNames.GitHub}var o,h,s;Object.defineProperty(t,"__esModule",{value:!0});t.LinkForm=t.isLinkFormRegistered=t.beginGetLinkForm=t.registerLinkFormAsync=t.registerLinkForm=t.LEARNMORE_LINK=void 0;o={};h=f.getService();t.LEARNMORE_LINK="https://aka.ms/AA56xmh";t.registerLinkForm=l;t.registerLinkFormAsync=c;t.beginGetLinkForm=a;t.isLinkFormRegistered=v;s=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._workItem=t.workItem,i}return __extends(t,n),t.createTitleElement=function(n,t,i){var r=$("<label/>").addClass("dialog-linkform-label").text(n);return t&&r.attr("for",t),i&&r.addClass(i),r},t.createTitleElementWithIconClass=function(n,i,r,u,f){var e=$("<div/>").addClass("section-title");return $("<div/>").addClass(r).appendTo(e),t.createTitleElement(n,i,u).appendTo(e),f&&f.appendTo(e),e},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"link-dialog-form"},t))},t.prototype._createComment=function(){var n="comment";this._element!==null&&(this._element.append(t.createTitleElement(r.LinkDialogCommentTitle,n)),this._element.append($("<input>").attr("type","text").attr("id",n).addClass("link-dialog-width-100")))},t.prototype.getComment=function(){return this._element.find("#comment").val().trim()},t.prototype.LinkResult=function(){return null},t.prototype.unload=function(){this.dispose();this._workItem=null;this._validator=null},t.prototype.fireLinkFormValidationEvent=function(n){h.fire(t.LINKFORM_VALIDATED,this,{linkForm:n})},t.LINKFORM_VALIDATED="linkform-validated",t}(i.BaseControl);t.LinkForm=s;u.initClassPrototype(s,{_workItem:null,_validator:null})});

define("WorkItemTracking/Scripts/OM/DataSources/DataProviderDataSource",["require","exports","VSS/Utils/String","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Utils/Core","VSS/Contributions/Services","VSS/Service","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Context","VSS/Navigation/NavigationHistoryService","VSS/Context"],function(n,t,i,r,u,f,e,o,s,h,c){function l(n){return n.status===o.CacheStatus.UpToDate||typeof n.status=="string"&&n.status===o.CacheStatus[o.CacheStatus.UpToDate]}Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemDataProviderSource=t.WorkItemDataProviderId=void 0;t.WorkItemDataProviderId="ms.vss-work-web.work-item-data-provider";var a=function(){function n(n){this._cacheInformationManager=n}return n.prototype.getWorkItemData=function(n){if(!this._containsWorkItemData(n))return null;var t=this._getDataProviderData();return this._processWorkItemData(n,t)},n.prototype.beginGetWorkItemData=function(n,i,r,u,o){var a=this,l;if(i.length!==1)return Promise.resolve(null);if(l=i[0],!o&&this._containsWorkItemData(l))return Promise.resolve([this.getWorkItemData(l)]);var y=s.getPageContext(),p=h.getNavigationHistoryService(),v={id:i[0],"include-history":o,"include-in-recent-activity":u,"is-deleted":r,cookie:this._cacheInformationManager&&this._cacheInformationManager.readInformationForNonWITLocation()};return e.getService(f.WebPageDataService,c.getDefaultWebContext()).getDataAsync(t.WorkItemDataProviderId,null,v).then(function(n){return a._dataProviderData=n,[a._processWorkItemData(l,a._dataProviderData)]})},n.prototype._processWorkItemData=function(n,t,f){var e,o;if(f===void 0&&(f=!0),e=t&&t["work-item-data"],e||(o=t&&t["work-item-data-serialized"],o&&(e=u.parseMSJSON(o))),!e)throw i.format(r.WorkItemNotFoundClientException,n);return f&&(delete t["work-item-id"],delete t["work-item-data"],delete t["work-item-data-serialized"]),e},n.prototype.beginGetWorkItemTypeData=function(n,t){var e,f,r;if(t.length>1)return Promise.resolve(null);if(e=this._getDataProviderData(),f=e&&e["work-item-type-data"],f){if(l(f))return Promise.resolve(null);if(f.data)return(r=f.data,!i.equals(r.projectGuid,n,!0))?Promise.resolve(null):!i.equals(t[0],r.referenceName,!0)&&!i.equals(t[0],r.name,!0)?Promise.resolve(null):(this._canDeserializeRules(r)&&(r.rules.fieldRules=u.parseMSJSON(r.rules.fieldRules)),Promise.resolve([r]))}return Promise.resolve(null)},n.prototype.beginGetFields=function(){return null},n.prototype.beginGetFieldProjectData=function(n){var r=this._getDataProviderData(),t=r&&r["work-item-project-field-data"],u;if(t)return l(t)?Promise.resolve(null):t.data&&t.data.projects&&(u=t.data.projects.some(function(t){return i.equals(n,t.guid,!0)||i.equals(n,t.name,!0)}),!u)?Promise.resolve(null):Promise.resolve(t.data)},n.prototype.beginGetLinkTypes=function(){var t=this._getDataProviderData(),n=t&&t["work-item-link-data"];if(n)return l(n)?Promise.resolve(null):Promise.resolve(n.data)},n.prototype._canDeserializeRules=function(n){return n&&n.rules&&n.rules.fieldRules&&(typeof n.rules.fieldRules=="string"||n.rules.fieldRules instanceof String)},n.prototype._containsWorkItemData=function(n){var t=this._getDataProviderData();return t&&t["work-item-id"]===n&&t["work-item-data"]!==undefined},n.prototype._getDataProviderData=function(){if(!this._dataProviderData){var n=e.getService(f.WebPageDataService);this._dataProviderData=n.getPageData(t.WorkItemDataProviderId)}return this._dataProviderData},n}();t.WorkItemDataProviderSource=a});

define("WorkItemTracking/Scripts/OM/DataSources/QueryDataProviderDataSource",["require","exports","VSS/Contributions/Services","VSS/Service","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.QueryDataProviderSource=void 0;var e="ms.vss-work-web.query-data-provider",o=function(){function n(){}return n.prototype.beginGetWorkItemData=function(){return null},n.prototype.beginGetWorkItemTypeData=function(){return null},n.prototype.beginGetLinkTypes=function(){return null},n.prototype.beginGetFields=function(){return null},n.prototype.beginGetFieldProjectData=function(n){var i=this._getDataProviderData(),t=i&&i.projectFieldData,r;return t&&(r=u.arrayContains(n,t.projects,function(n,t){return f.localeIgnoreCaseComparer(t.guid,n)===0||f.localeIgnoreCaseComparer(t.name,n)===0}),r)?Promise.resolve(t):null},n.prototype._getDataProviderData=function(){var n=r.getService(i.WebPageDataService);return n.getPageData(e)},n}();t.QueryDataProviderSource=o});

define("WorkItemTracking/Scripts/Utils/PerfScenarioManager",["require","exports","VSS/Diag","VSS/Events/Services","VSS/Performance","VSS/Utils/String","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/Scripts/Utils/WitControlMode"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.PerfScenarioManager=void 0;var s=function(){function n(){}return n.startScenario=function(t,i){return n.startScenarioWithOptions(t,{fromPageNavigation:i,isPageInteractive:i})},n.startScenarioWithOptions=function(t,i){t=n._appendSuffixIfMobile(t);n.abortScenario(t);var f=i.fromPageNavigation,s=f===void 0?!1:f,e=i.isPageInteractive,o=e===void 0?!1:e,r;return r=s?u.getScenarioManager().startScenarioFromNavigation(n._featureArea,t,o):u.getScenarioManager().startScenario(n._featureArea,t,undefined,o),n.addSplitTiming(r.getName(),!0),r},n.addSplitTiming=function(t,r,u,f){var e,o;u===void 0&&(u=!0);f===void 0&&(f=!0);e=r?"".concat(t,".Start"):"".concat(t,".Complete");n._addSplitTiming(e,f);u&&(o=r?i.StampEvent.Enter:i.StampEvent.Leave,i.timeStamp(t,o))},n.addSinglePointSplitTiming=function(t,r,u){r===void 0&&(r=!0);u===void 0&&(u=!0);n._addSplitTiming(t,u);r&&i.timeStamp(t,i.StampEvent.SinglePoint)},n._addSplitTiming=function(t,i){var o,r,f,e;if(i)for(o=n._getWitScenarios(),r=0,f=o;r<f.length;r++)e=f[r],e.isActive()&&e.addSplitTiming(t);else u.getScenarioManager().split(t)},n.addData=function(t){n._getWitScenarios().forEach(function(n){n.isActive()&&n.addData(t)})},n.abortScenario=function(t){for(var i,f=n._getScenarios(t),r=0,u=f;r<u.length;r++)i=u[r],i.isActive()&&(n.addSplitTiming(i.getName(),!1),i.abort())},n.endScenario=function(t,i){for(var f,e=n._getScenarios(t),o=function(t){if(t.isActive()){var r=t.getName();i&&t.addData(i);n.addSplitTiming(t.getName(),!1);t.end().then(function(){return n._fireScenarioCompletedEvents(r)})}},r=0,u=e;r<u.length;r++)f=u[r],o(f)},n.isScenarioActive=function(t){var i=n._getScenarios(t);return i&&i.some(function(n){return n&&n.isActive()})},n._getScenarios=function(t){t=n._appendSuffixIfMobile(t);var i=u.getScenarioManager().getScenarios(n._featureArea,t);return i.concat(u.getScenarioManager().getScenarios(n._featureArea,t))},n._getWitScenarios=function(){var t=[],r,i;for(r in e.WITPerformanceScenario)e.WITPerformanceScenario.hasOwnProperty(r)&&(i=e.WITPerformanceScenario[r],i=n._appendSuffixIfMobile(i),t=t.concat(u.getScenarioManager().getScenarios(n._featureArea,i)),t=t.concat(u.getScenarioManager().getScenarios(n._featureArea,i)));return t},n._appendSuffixIfMobile=function(t){return o.WitFormModeUtility.isMobileForm?"".concat(t).concat(n._mobileSuffix):t},n._fireScenarioCompletedEvents=function(n){f.startsWith(n,e.WITPerformanceScenario.QUERIESHUB_TRIAGEVIEW_OPENQUERYRESULTS)?r.getService().fire(e.WITPerformanceScenarioEvent.QUERIESHUB_TRIAGEVIEW_OPENQUERYRESULTS_COMPLETE,this):f.startsWith(n,e.WITPerformanceScenario.QUERIESHUB_TRIAGEVIEW_OPENWORKITEM)&&r.getService().fire(e.WITPerformanceScenarioEvent.QUERIESHUB_TRIAGEVIEW_OPENWORKITEM_COMPLETE,this)},n._featureArea=e.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,n._mobileSuffix=".Mobile",n}();t.PerfScenarioManager=s});

define("WorkItemTracking/Scripts/OM/DataSources/MvcDataSource",["require","exports","WorkItemTracking/Scripts/Utils/PerfScenarioManager","Presentation/Scripts/TFS/TFS.Legacy.Ajax","WorkItemTracking/Scripts/CustomerIntelligence","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/MVCToDataProviderDataSources/MVCToDataProviderDataSource","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemMvcClient=void 0;var s=function(){function n(n,t){this._tfsContext=n;this._cacheStampManager=t}return n.prototype.beginGetWorkItemData=function(n,t,i,r,u){var f=u?"workitems":"workitemsnohistory",o={controller:"wit",action:f};return(new e.WorkItemStoreLevelWITDataSource).postDataAsync(o,{ids:t,isDeleted:i,includeInRecentActivity:r,includeHistory:u}).then(function(n){return n.data})},n.prototype.beginGetLinkTypes=function(){var n=this;return new Promise(function(t,r){n._cacheStampManager.addStampToParams(f.WITCommonConstants.LinkTypes,null,function(f){(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync({controller:"wit",action:"linkTypes"},f,n._tfsContext.navigation.collection.instanceId,o.WITCommonConstants.LinkTypes,"_").then(function(n){var r;n.requestHeaders&&i.PerfScenarioManager.addData((r={},r["".concat(u.PerformanceEvents.WORKITEMTRACKING_GETLINKTYPES_REQUEST,".ETAG")]=n.requestHeaders.getResponseHeader("ETag"),r["".concat(u.PerformanceEvents.WORKITEMTRACKING_GETLINKTYPES_REQUEST,".DATE")]=n.requestHeaders.getResponseHeader("Date"),r));t(n.data)},r)})})},n.prototype.beginGetWorkItemTypeData=function(n,t){var r=this;return new Promise(function(o,s){r._cacheStampManager.addStampToParams(f.WITCommonConstants.WorkItemTypes,{typeNames:t,projectId:n},function(t){i.PerfScenarioManager.addSplitTiming(u.PerformanceEvents.WORKITEMTRACKING_GETTYPES_REQUEST,!0);var r={controller:"wit",action:"workItemTypes",routeData:{project:n}};(new e.WorkItemStoreLevelWITDataSource).getDataAsync(r,t).then(function(n){var t;n.requestHeaders&&i.PerfScenarioManager.addData((t={},t["".concat(u.PerformanceEvents.WORKITEMTRACKING_GETTYPES_REQUEST,".ETAG")]=n.requestHeaders.getResponseHeader("ETag"),t["".concat(u.PerformanceEvents.WORKITEMTRACKING_GETTYPES_REQUEST,".DATE")]=n.requestHeaders.getResponseHeader("Date"),t));i.PerfScenarioManager.addSplitTiming(u.PerformanceEvents.WORKITEMTRACKING_GETTYPES_REQUEST,!1);o(n.data)},s)},n)})},n.prototype.beginGetFieldProjectData=function(n){var t=this;return new Promise(function(i,r){t._cacheStampManager.addStampToParams(f.WITCommonConstants.TeamProjects,{includeFieldDefinitions:!0,namesOrIds:[n]},function(t){var u={controller:"wit",action:"teamProjects",routeData:{project:n}};(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync(u,t,n,o.WITCommonConstants.TeamProjects,n).then(function(n){i(n.data)},function(n){r(n)})})})},n.prototype.beginGetFields=function(){var n=this;return new Promise(function(t,i){n._cacheStampManager.addStampToParams(f.WITCommonConstants.Fields,null,function(u){r.getMSJSON(n._getApiLocation(undefined,"fields"),u,function(n){t(n)},function(n){i(n)})})})},n.prototype._getApiLocation=function(n,t,i){return this._tfsContext.getActionUrl(t||"","wit",$.extend({project:n,team:"",area:"api"},i))},n}();t.WorkItemMvcClient=s});

define("WorkItemTracking/Scripts/OM/DataSources/index",["require","exports","WorkItemTracking/Scripts/OM/DataSources/DataProviderDataSource","WorkItemTracking/Scripts/OM/DataSources/QueryDataProviderDataSource","WorkItemTracking/Scripts/OM/DataSources/MvcDataSource"],function(n,t,i,r,u){function f(n,t,f){var e=[];return window.LWL&&(e.push(new i.WorkItemDataProviderSource(f)),e.push(new r.QueryDataProviderSource)),e.push(new u.WorkItemMvcClient(n,t)),e}Object.defineProperty(t,"__esModule",{value:!0});t.getDataSources=void 0;t.getDataSources=f});

define("WorkItemTracking/Scripts/OM/DataSources/WorkItemTypeCategoriesDataSource",["require","exports","Presentation/Scripts/TFS/TFS.Legacy.Ajax","q","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","TFS/WorkItemTracking/RestClient","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/WorkItemIndexDBCacheManager","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f,e,o,s,h,c){function l(n,t){return __awaiter(this,void 0,void 0,function(){var l,v,p,r,e,y,i,w,b,k;return __generator(this,function(d){switch(d.label){case 0:return u.FeatureAvailabilityService.isFeatureEnabled(f.FeatureAvailabilityFlags.DisableWorkItemStoreDataProviders)?[4,a(n,t)]:[3,2];case 1:return[2,d.sent()];case 2:return l=new s.WorkItemIndexDBCacheManager,[4,l.getDataFromCache(n,"workItemTypeCategories","_",t?t.stamp:null)];case 3:return(v=d.sent(),!v)?[3,4]:[2,v];case 4:return[4,o.getClient().getWorkItemTypeCategories(n)];case 5:for(p=d.sent(),r={},e=0,y=p;e<y.length;e++)i=y[e],w=i.workItemTypes.map(function(n){return n.name}),b={defaultWorkItemTypeName:i.defaultWorkItemType.name,name:i.name,referenceName:i.referenceName,workItemTypeNames:w},r[i.referenceName]=b;d.label=6;case 6:return d.trys.push([6,8,,9]),[4,l.cacheData(n,"workItemTypeCategories","_",r,t?t.stamp:null)];case 7:return d.sent(),[3,9];case 8:return k=d.sent(),h.traceMessage(c.WITCommonConstants.WorkItemTrackingArea,"CacheData",c.WITCommonConstants.WitCacheProviderInit,k),[3,9];case 9:return[2,r]}})})}function a(n,t){var f=e.TfsContext.getDefault().getActionUrl("workItemTypeCategories","wit",{project:n,area:"api",team:""}),u=r.defer(),o=function(n){u.resolve(n)};return i.getMSJSON(f,t,o,u.reject),u.promise}Object.defineProperty(t,"__esModule",{value:!0});t.beginGetWorkItemTypeCategories=void 0;t.beginGetWorkItemTypeCategories=l});

define("Presentation/Scripts/TFS/FeatureRef/TFS.AgileCommon",["require","exports","VSS/VSS","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","Presentation/Scripts/TFS/TFS.Service","VSS/Diag","VSS/Events/Services","Presentation/Scripts/TFS/MVCToDataProviderDataSources/MVCToDataProviderDataSource"],function(n,t,i,r,u,f,e,o,s,h,c){var v,w,l,a,b,y,p;Object.defineProperty(t,"__esModule",{value:!0});t.TeamService=t.ProjectProcessConfigurationService=t.BugsBehavior=t.ProjectProcessConfiguration=t.BacklogCategoryConfiguration=t.INodeStructureType=t.StateType=void 0,function(n){n[n.Proposed=1]="Proposed";n[n.InProgress=2]="InProgress";n[n.Complete=3]="Complete";n[n.Requested=4]="Requested";n[n.Received=5]="Received";n[n.Reviewed=6]="Reviewed";n[n.Declined=7]="Declined";n[n.Resolved=8]="Resolved"}(v=t.StateType||(t.StateType={})),function(n){n[n.Project=0]="Project";n[n.Area=1]="Area";n[n.Iteration=2]="Iteration"}(w=t.INodeStructureType||(t.INodeStructureType={}));l=function(){function n(n){this.plural=n.plural;this.singular=n.singular;this.category=n.category;this.parentCategory=n.parentCategory;this.workItemCountLimit=n.workItemCountLimit;this.states=n.states}return n.prototype.containsWorkItemType=function(n){return e.contains(this.workItemTypeNames,n,f.localeIgnoreCaseComparer)},n}();t.BacklogCategoryConfiguration=l;a=function(){function n(n){var t=this,i;this.taskBacklog=new l(n.taskBacklog);this.requirementBacklog=new l(n.requirementBacklog);this.portfolioBacklogs=$.map(n.portfolioBacklogs,function(n){return new l(n)});this.allBacklogs=this.portfolioBacklogs.concat([this.requirementBacklog,this.taskBacklog]);this._workItemTypeCategoryMap={};this._backlogCategoryNameMap={};this._workItemCategoryStateNameTypeMap={};this.workItemCategories=n.workItemCategories;i=null;$.each(this.allBacklogs,function(r,u){i!==null&&(i.child=u,u.parent=i);i=u;u.workItemTypeNames=n.workItemCategories[u.category];u.isRequirementCategory=u===t.requirementBacklog;u.defaultWorkItemType=n.defaultWorkItemTypes[u.category];$.each(u.workItemTypeNames||[],function(n,i){t._workItemTypeCategoryMap[i]=u.category});t._backlogCategoryNameMap[u.category]=u});this.bugWorkItems=n.bugWorkItems;this.bugWorkItems&&(this.bugWorkItems.workItemTypeNames=n.workItemCategories[this.bugWorkItems.category],$.each(this.bugWorkItems.workItemTypeNames,function(n,i){t._workItemTypeCategoryMap[i]||(t._workItemTypeCategoryMap[i]=t.bugWorkItems.category)}));this.typeFields=n.typeFields;this.weekends=n.weekends;n.workItemColors&&(this.workItemColors=$.map(n.workItemColors,function(n){return{primaryColor:n.primary,secondaryColor:n.secondary,workItemTypeName:n.name}}))}return n.prototype.getCategoryForWorkItemType=function(n){return this._workItemTypeCategoryMap[n]},n.prototype.getCategoryForCategoryRefName=function(n){return this._backlogCategoryNameMap[n]},n.prototype.getTypeField=function(n){return e.first(this.typeFields,function(t){return t.type===n})},n.prototype.isRequirementCategory=function(n){return this.requirementBacklog&&this.requirementBacklog.containsWorkItemType(n)},n.prototype.isTaskCategory=function(n){return this.taskBacklog&&this.taskBacklog.containsWorkItemType(n)},n.prototype.isBugCategory=function(n){return this.bugWorkItems&&this.bugWorkItems.workItemTypeNames&&e.contains(this.bugWorkItems.workItemTypeNames,n,f.localeIgnoreCaseComparer)},n.StateType=v,n.FieldType={Effort:1,Order:2,RemainingWork:3,Team:4,Activity:5,Requestor:6,ApplicationType:7,ApplicationStartInformation:8,ApplicationLaunchInstructions:9,FeedbackNotes:10,ClosedDate:11},n}();t.ProjectProcessConfiguration=a,function(n){n[n.Off=0]="Off";n[n.AsRequirements=1]="AsRequirements";n[n.AsTasks=2]="AsTasks"}(b=t.BugsBehavior||(t.BugsBehavior={}));y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetProcessSettings=function(n,t,r){var u=this,o=function(t){u._processSettings||(u._processSettings=new a(t));n.apply(u,[u._processSettings])},e,f;this._checkDataIsland();e=this.getTfsContext().contextData.project.id;f={area:"api",project:e};r&&(f=$.extend(r,f));i.queueRequest(this,this,"_processSettingsInternal",o,t,function(n,t){function r(t){i._fireProcessSettingsLoaded(t);n.apply(this,arguments)}var i=u,e={controller:"processConfiguration",action:"getProcessSettings",routeData:f};(new c.WebAccessBoardsWITDataSource).getDataAsync(e,null,null).then(function(n){r(n.data)},t)})},t.prototype._checkDataIsland=function(){var n;this._checkedForDataIsland||(this._checkedForDataIsland=!0,n=$(".process-settings-data"),n.length>0&&(this._processSettingsInternal=u.parseMSJSON(n.eq(0).html(),!1),n.eq(0).empty(),this._fireProcessSettingsLoaded(this._processSettingsInternal)))},t.prototype.getProcessSettings=function(){return this._checkDataIsland(),!this._processSettings&&this._processSettingsInternal&&(this._processSettings=new a(this._processSettingsInternal)),this._processSettings},t.prototype._fireProcessSettingsLoaded=function(n){h.getService().fire(t.PROCESS_SETTINGS_LOADED_EVENT,n)},t.PROCESS_SETTINGS_LOADED_EVENT="ProcessConfigService.SettingsLoaded",t}(o.TfsService);t.ProjectProcessConfigurationService=y;p=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._teamMembers={},t}return __extends(t,n),t.prototype.beginGetTeamMembers=function(n,t,u,f,e){var h,o=this.getTfsContext();n||(n=o.currentTeam.identity.id);u=u||100;t=Boolean(t);h=n+"|"+u+"|"+t;i.queueRequest(this,this._teamMembers,h,f,e,function(i,f){var e=o.getActionUrl("members","teams",{area:"api"});r.getMSJSON(e,{teamId:n,maxResults:u,includeGroups:t},function(n){i(n.members)},f)})},t}(o.TfsService);t.TeamService=p});

define("WorkItemTracking/Scripts/Utils/NodeHelpers",["require","exports","Presentation/Scripts/TFS/FeatureRef/TFS.AgileCommon","TFS/WorkItemTracking/Contracts"],function(n,t,i,r){var f,u;Object.defineProperty(t,"__esModule",{value:!0});t.ClassificationNodeTypeConstants=t.NodeHelpers=void 0,function(n){function f(t){var i,r,u;if(t.children)for(i=0,r=t.children;i<r.length;i++)u=r[i],u.parent=t,n.link(u);return t}function e(n,t){var f=n.children,i,r,u;if(f)for(i=0,r=f;i<r.length;i++)if(u=r[i],u.structure===t)return u;return null}function o(t,i){var r,u,e,f;if(t){if(t.id===i)return t;if(t.children)for(r=0,u=t.children;r<u.length;r++)if(e=u[r],f=n.findById(e,i),f)return f}return null}function s(t,i){var r,u,e,f;if(t){if(t.guid===i)return t;if(t.children)for(r=0,u=t.children;r<u.length;r++)if(e=u[r],f=n.findByGuid(e,i),f)return f}return null}function h(n,t,i,r){var o=0,f,s,l=0,u,e,h,c;if(i!=null&&r==null)throw new Error("ArgumentNullError: stuctureType must be provided if structureLevel is provided");if(!n||!t)return null;for(t=t.replace(/^(\s|\u00A0|\\)+|(\s|\u00A0|\\)+$/g,""),c=t.toUpperCase().split("\\"),u=[n];u&&u.length>0&&o<c.length;){if(h=null,i!=null&&l++===i){for(e=[],f=0,s=u.length;f<s;f++)if(u[f].structure===r){e=u[f].children||[];break}u=e;continue}for(e=null,f=0,s=u.length;f<s;f++)if(u[f].name.toUpperCase()===c[o]){h=u[f];e=h.children;o++;break}u=e}return o===c.length?h:null}function c(n,t){for(var i=[];n;)i.unshift(n.name),n=n.parent;return typeof t=="number"&&i.splice(t,1),i}function l(n){var t=n.split("\\");return t.unshift(t[0]),t}function a(t,i){var r=n.getNodeSegments(t,i);return r.join("\\")}function v(n){return n.split("\\").slice(1).join("\\")}function t(n){var e=n.attributes?n.attributes.startDate:null,o=n.attributes?n.attributes.finishDate:null,f,s,h,c;if(e=typeof e=="string"?new Date(e):e,o=typeof o=="string"?new Date(o):o,f={id:n.id,structure:null,startDate:e,children:[],finishDate:o,guid:n.identifier,name:n.name,parent:null,type:null},n.structureType===r.TreeNodeStructureType.Area?(f.structure=i.INodeStructureType.Area,f.type=u.AreaType):n.structureType===r.TreeNodeStructureType.Iteration&&(f.structure=i.INodeStructureType.Iteration,f.type=u.IterationType),n.children)for(s=0,h=n.children;s<h.length;s++)c=h[s],f.children.push(t(c));return f}n.link=f;n.findChildByStructure=e;n.findById=o;n.findByGuid=s;n.findByPath=h;n.getNodeSegments=c;n.getReferencedNodeSegmenets=l;n.getPath=a;n.getRelativePath=v;n.mapClassificationNodesToLegacyNode=t}(f=t.NodeHelpers||(t.NodeHelpers={})),function(n){n[n.ProjectType=-42]="ProjectType";n[n.AreaType=-43]="AreaType";n[n.IterationType=-44]="IterationType"}(u=t.ClassificationNodeTypeConstants||(t.ClassificationNodeTypeConstants={}))});

define("WorkItemTracking/Scripts/OM/NodesCacheManager",["require","exports","VSS/VSS","VSS/Service","VSS/Navigation/Services","VSS/Diag","WorkItemTracking/Scripts/Utils/NodeHelpers","WorkItemTracking/Scripts/CustomerIntelligence","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Utils/PerfScenarioManager","Presentation/Scripts/TFS/TFS.Legacy.Ajax","q","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","TFS/WorkItemTracking/RestClient","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){Object.defineProperty(t,"__esModule",{value:!0});t.NodesCacheManager=void 0;var d=function(){function n(n){this._referencedNodes={byId:{},byAreaPath:{},byIterationPath:{}};this._project=n;var t={id:this._project.id,name:this._project.name,path:this._project.name};this._referencedNodes.byId[t.id]=this._referencedNodes.byAreaPath[t.path]=this._referencedNodes.byIterationPath[t.path]=t}return n.prototype.addReferencedNodes=function(n){var i,u,r,f,t;if(n){for(i=0,u=n.areaNodes;i<u.length;i++)t=u[i],this._referencedNodes.byId[t.id]=this._referencedNodes.byAreaPath[t.path]=t;for(r=0,f=n.iterationNodes;r<f.length;r++)t=f[r],this._referencedNodes.byId[t.id]=this._referencedNodes.byIterationPath[t.path]=t}},n.prototype.getReferencedNode=function(n){var t,u,o;if(typeof n=="number")t=n;else if(typeof n=="object")var e=n,i=e.path,r=e.nodeType;if(this.isNodesCacheAvailable()){if(typeof t=="number")return this.findNodeById(t);if(i&&r)return r===1?this.findAreaNodeByPath(i):this.findIterationNodeByPath(i)}return(r?(o=r===1?this._referencedNodes.byAreaPath:this._referencedNodes.byIterationPath,u=o[i]):u=this._referencedNodes.byId[t],u)?u:(f.Debug.logInfo("Could not find a node cache for ".concat(t?t:"".concat(i," (type: ").concat(r,")"))),null)},n.prototype.clearCache=function(){this._iterationNode=null;this._areaNode=null;this._nodes=null},n.prototype.getNodes=function(){if(this.isNodesCacheAvailable())return this._nodes;f.Debug.fail("Project nodes are not ready yet. Use beginGetNodes to download from the server.")},n.prototype.isNodesCacheAvailable=function(){return this._nodes&&typeof this._nodes!="function"},n.prototype.refreshCache=function(){var t=this,n;return this.clearCache(),n=b.TfsContext.getDefault().navigation.projectId,this._project.store.metadataCacheStampManager.ensureStampsForCurrentProject(n,!0).then(function(){return t.beginGetNodes()})},n.prototype.beginGetNodes=function(){var n=u.getHistoryService().getCurrentState().readonly,t=n||!y.FeatureAvailabilityService.isFeatureEnabled(p.FeatureAvailabilityFlags.DisableWorkItemStoreDataProviders);return t?this.beginGetNodesFromRestClient():this.beginGetNodesFromMvc()},n.prototype.beginGetNodesFromMvc=function(){var n=this,t=l.defer();return i.queueRequest(this,this,"_nodes",function(n){return t.resolve(n)},function(n){return t.reject(n)},function(t,i){n._project.store.metadataCacheStampManager.addStampToParams(s.WITCommonConstants.Nodes,null,function(r){h.PerfScenarioManager.addSplitTiming(o.PerformanceEvents.WORKITEMTRACKING_GETNODES_REQUEST,!0);var u=function(f){c.getMSJSON(n._project.getApiLocation("nodes"),r,function(i,s,c){var l,y;if(i==null&&f){y={ErrorName:"NodesIsNullOrUndefined",projectName:n._project.name,urlParams:r};a.publishEvent(new a.TelemetryEventData(v.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,v.WITCustomerIntelligenceFeature.NODES_CACHE_MANAGER,y));r.forceInvalidateCache=(new Date).getTime().toString();u(!1);return}h.PerfScenarioManager.addData((l={},l["".concat(o.PerformanceEvents.WORKITEMTRACKING_GETNODES_REQUEST,".ETAG")]=c.getResponseHeader("ETag"),l));h.PerfScenarioManager.addSplitTiming(o.PerformanceEvents.WORKITEMTRACKING_GETNODES_REQUEST,!1);t(e.NodeHelpers.link(i))},i)};u(!0)})}),t.promise},n.prototype.beginGetNodesFromRestClient=function(){var n=this,t=l.defer();return i.queueRequest(this,this,"_nodes",function(n){return t.resolve(n)},function(n){return t.reject(n)},function(t,i){h.PerfScenarioManager.addSplitTiming(o.PerformanceEvents.WORKITEMTRACKING_GETNODES_REQUEST,!0);var f=r.getClient(w.WorkItemTrackingHttpClient4),u={id:n._project.id,name:n._project.name,guid:n._project.guid,structure:0,type:e.ClassificationNodeTypeConstants.ProjectType,children:[]};f.getRootNodes(n._project.name,15).then(function(i){for(var r,f=0,o=i;f<o.length;f++)r=o[f],r.hasChildren&&(r.children=n.sortNodes(r.children)),u.children.push(e.NodeHelpers.mapClassificationNodesToLegacyNode(r));e.NodeHelpers.link(u);t(u)},function(n){i(n.message)})}),t.promise},n.prototype.sortNodes=function(n){for(var i,t=0,r=n;t<r.length;t++)i=r[t],i.hasChildren&&(i.children=this.sortNodes(i.children));return n.sort(this._compare)},n.prototype.findAreaNodeByPath=function(n){return e.NodeHelpers.findByPath(this.getNodes(),n,1,1)},n.prototype.findIterationNodeByPath=function(n){return e.NodeHelpers.findByPath(this.getNodes(),n,1,2)},n.prototype.findNodeById=function(n){return e.NodeHelpers.findById(this.getNodes(),n)},n.prototype.getAreaNode=function(n){return this._areaNode||(this._areaNode=e.NodeHelpers.findChildByStructure(this.getNodes(),1)),n?{id:this._project.id,name:this._project.name,guid:this._project.guid,structure:0,type:-42,children:this._areaNode.children}:this._areaNode},n.prototype.getIterationNode=function(n){return this._iterationNode||(this._iterationNode=e.NodeHelpers.findChildByStructure(this.getNodes(),2)),n?{id:this._project.id,name:this._project.name,guid:this._project.guid,structure:0,type:-42,children:this._iterationNode.children}:this._iterationNode},n.prototype._compare=function(n,t){var i=0,r=new Date(n.attributes?n.attributes.startDate:null),u=new Date(n.attributes?n.attributes.finishDate:null),f=new Date(t.attributes?t.attributes.startDate:null),e=new Date(t.attributes?t.attributes.finishDate:null);return i=(r.getTime()||Number.MAX_VALUE)-(f.getTime()||Number.MAX_VALUE),i===0&&(i=(u.getTime()||Number.MAX_VALUE)-(e.getTime()||Number.MAX_VALUE)),i===0&&(i=k.localeIgnoreCaseComparer(n.name||"",t.name||"")),i},n}();t.NodesCacheManager=d});

define("WorkItemTracking/Scripts/OM/WorkItemMetadataCookie",["require","exports"],function(n,t){function f(n){for(var e,t,o=[],f=0,s=Object.keys(n);f<s.length;f++)e=s[f],t=n[e],o.push([e,t.scopeId,t.stamp,Array.isArray(t.keys)&&t.keys.join(u)||t.keys].join(r));return encodeURIComponent(o.join(i))}function e(n){var t={},f=decodeURIComponent(n||"").split(i);return f.forEach(function(n){var i=n.split(r);if(i.length>2){var e=i[0],o=i[1],s=i[2],f=i[3].split(u);t[e]={scopeId:o,stamp:s,keys:f.length>0&&f||"_"}}}),t}Object.defineProperty(t,"__esModule",{value:!0});t.deserialize=t.serialize=void 0;var i="|",r=":",u=",";t.serialize=f;t.deserialize=e});

define("WorkItemTracking/Scripts/OM/WorkItemMetadataCacheInformationManager",["require","exports","Presentation/Scripts/TFS/TFS.Core.Utils","WorkItemTracking/Scripts/OM/WorkItemMetadataCookie","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Utils/Core","VSS/Utils/String","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Service","VSS/Settings"],function(n,t,i,r,u,f,e,o,s,h){var c;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemMetadataCacheInformationManager=void 0;var a=432e3,l="WIT-METADATA",v=(c={},c[o.WITCommonConstants.TeamProjects.toLowerCase()]=!0,c[o.WITCommonConstants.LinkTypes.toLowerCase()]=!0,c[o.WITCommonConstants.WorkItemTypes.toLowerCase()]=!0,c),y=function(){function n(){}return n.prototype.persist=function(n,t,u,c){var p,y,w,d;if(this._shouldSetCookieForType(t)){var b=e.format(o.WorkItemTrackingMetadataCacheConstants.CookieFormat,n),k=s.getLocalService(h.LocalSettingsService),v=i.getCookie(b);for(v||(v=k.read(l,null,h.LocalSettingsScope.Project)),p=r.deserialize(v),p[t]={scopeId:n,stamp:c,keys:u},v=r.serialize(p),y=0,w=this._getCookieLocations();y<w.length;y++)d=w[y],f.setCookie(b,v,d,undefined,a);k.write(l,v,h.LocalSettingsScope.Project)}},n.prototype.readInformationForNonWITLocation=function(){var n=s.getLocalService(h.LocalSettingsService);return n.read(l,null,h.LocalSettingsScope.Project)},n.prototype._shouldSetCookieForType=function(n){return v[n.toLowerCase()]},n.prototype._getCookieLocations=function(){return[u.TfsContext.getDefault().getActionUrl("","workitems")]},n}();t.WorkItemMetadataCacheInformationManager=y});

define("WorkItemTracking/Scripts/RegisteredLinkTypeNames",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.RegisteredLinkTypeNames=void 0;var i;(function(n){n.Related="Related Workitem";n.Hyperlink="Workitem Hyperlink";n.Changeset="Fixed in Changeset";n.VersionedItem="Source Code File";n.Commit="Fixed in Commit";n.Branch="Branch";n.Tag="Tag";n.PullRequest="Pull Request";n.ResultAttachment="Result Attachment";n.TestResult="Test Result";n.Test="Test";n.Storyboard="Storyboard";n.Build="Build";n.FoundInBuild="Found in build";n.IntegratedInBuild="Integrated in build";n.WikiPage="Wiki Page";n.WorkItemLink="WorkItemLink";n.RemoteWorkItemLink="RemoteWorkItemLink";n.GitHubPullRequestLinkType="GitHub Pull Request";n.GitHubCommitLinkType="GitHub Commit";n.GitHubIssueLinkType="GitHub Issue"})(i=t.RegisteredLinkTypeNames||(t.RegisteredLinkTypeNames={}))});

define("WorkItemTracking/Scripts/RegisterLinkForms",["require","exports","VSS/VSS","WorkItemTracking/Scripts/LinkForm","WorkItemTracking/Scripts/RegisteredLinkTypeNames"],function(n,t,i,r,u){function f(){e();o();s();h();c();l()}function e(){r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Changeset,function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.WorkItemIntegration.Linking"],function(t){n(t.ChangesetLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.VersionedItem,function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.WorkItemIntegration.Linking"],function(t){n(t.VersionedItemLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Commit,function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.WorkItemIntegration.Linking"],function(t){n(t.CommitLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Branch,function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.WorkItemIntegration.Linking"],function(t){n(t.GitBranchLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Tag,function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.WorkItemIntegration.Linking"],function(t){n(t.GitTagLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.PullRequest,function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.WorkItemIntegration.Linking"],function(t){n(t.PullRequestLinkForm)})})}function o(){r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Build,function(n){i.using(["Build/Scripts/WorkItemIntegration.Linking"],function(t){n(t.BuildLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.FoundInBuild,function(n){i.using(["Build/Scripts/WorkItemIntegration.Linking"],function(t){n(t.FoundInBuildLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.IntegratedInBuild,function(n){i.using(["Build/Scripts/WorkItemIntegration.Linking"],function(t){n(t.IntegratedInBuildLinkForm)})})}function s(){r.registerLinkFormAsync(u.RegisteredLinkTypeNames.TestResult,function(n){i.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Forms"],function(t){n(t.TestResultForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.ResultAttachment,function(n){i.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Forms"],function(t){n(t.TestResultAttachmentForm)})})}function h(){r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Hyperlink,function(n){i.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Forms"],function(t){n(t.HyperlinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Storyboard,function(n){i.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Forms"],function(t){n(t.StoryboardLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.WorkItemLink,function(n){i.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Forms.WorkItem"],function(t){n(t.WorkItemLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.RemoteWorkItemLink,function(n){i.using(["WorkItemTracking/Scripts/Controls/Links/RemoteLinkForm"],function(t){n(t.RemoteLinkForm)})})}function c(){r.registerLinkFormAsync(u.RegisteredLinkTypeNames.WikiPage,function(n){i.using(["Wiki/Scripts/WikiPageForm"],function(t){n(t.WikiPageForm)})})}function l(){r.registerLinkFormAsync(u.RegisteredLinkTypeNames.GitHubPullRequestLinkType,function(n){i.using(["WorkItemTracking/Scripts/Controls/Links/GitHubLinkForms"],function(t){n(t.GitHubPullRequestLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.GitHubCommitLinkType,function(n){i.using(["WorkItemTracking/Scripts/Controls/Links/GitHubLinkForms"],function(t){n(t.GitHubCommitLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.GitHubIssueLinkType,function(n){i.using(["WorkItemTracking/Scripts/Controls/Links/GitHubLinkForms"],function(t){n(t.GitHubIssueLinkForm)})})}Object.defineProperty(t,"__esModule",{value:!0});t.registerLinkForms=void 0;t.registerLinkForms=f});

define("TFS/WorkItemTracking/ExtensionContracts",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.KnownColumns=t.ArtifactIconType=t.RemoteLinkStatus=void 0,function(n){n[n.PendingAdd=0]="PendingAdd";n[n.Success=1]="Success";n[n.Failed=2]="Failed";n[n.PendingUpdate=4]="PendingUpdate";n[n.PendingDelete=8]="PendingDelete"}(i=t.RemoteLinkStatus||(t.RemoteLinkStatus={})),function(n){n[n.icon=0]="icon";n[n.colorBar=1]="colorBar";n[n.colorCircle=2]="colorCircle";n[n.identity=3]="identity";n[n.fabricIcon=4]="fabricIcon"}(r=t.ArtifactIconType||(t.ArtifactIconType={}));t.KnownColumns={State:"State",LastUpdate:"LastUpdate"}});

define("WorkItemTracking/Scripts/Utils/RemoteWorkItemUtils",["require","exports","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Authentication/Services","VSS/Common/Contracts/Platform","VSS/Contributions/Services","VSS/Service","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","TFS/WorkItemTracking/ExtensionContracts","VSS/Utils/Url","VSS/Error"],function(n,t,i,r,u,f,e,o,s,h,c){function v(n,t){var r=i.TfsContext.getDefault();return t=t+"/",{account:{id:n,name:"",relativeUri:"",uri:t},collection:{id:n,name:"",relativeUri:"",uri:t},host:{authority:"",hostType:u.ContextHostType.ProjectCollection,id:n,name:"",scheme:r.contextData.host.scheme,relativeUri:"",uri:t,isAADAccount:r.contextData.host.isAADAccount},project:null,team:null,user:r.contextData.user}}function y(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return(l&&l.remoteWorkItemSessionToken&&l.remoteWorkItemSessionToken.validTo&&(new Date).getTime()>l.remoteWorkItemSessionToken.validTo.getTime()-6e4&&(l=null),!!l)?[3,2]:[4,p()];case 1:l=t.sent();t.label=2;case 2:return l&&l.remoteWorkItemSessionToken&&(n=new r.WebSessionTokenManager(l.remoteWorkItemSessionToken)),[2,n]}})})}function p(){return e.getService(f.WebPageDataService).getDataAsync(a)}function w(n){switch(n){case s.RemoteLinkStatus.PendingAdd:return o.RemoteLinkStatusPendingAdd;case s.RemoteLinkStatus.Success:return o.RemoteLinkStatusSuccess;case s.RemoteLinkStatus.Failed:return o.RemoteLinkStatusFailed;case s.RemoteLinkStatus.PendingUpdate:return o.RemoteLinkStatusPendingUpdate;case s.RemoteLinkStatus.PendingDelete:return o.RemoteLinkStatusPendingDelete}}function b(n){try{var t=h.Uri.parse(n),r=t.path.replace(/\/$/,"");return"".concat(t.scheme,"://").concat(t.host,"/").concat(r)}catch(i){return i&&c.publishErrorToTelemetry(i),""}}function k(n,t,i){return"".concat(n,"/").concat(t,"/_apis/wit/workItems/").concat(i)}var a,l;Object.defineProperty(t,"__esModule",{value:!0});t.getRemoteWorkItemRestUrl=t.sanitizeRemoteWorkItemUrl=t.getFriendlyRemoteLinkStatus=t.getRemoteWorkItemAuthSessionToken=t.getRemoteContext=void 0;a="ms.vss-work-web.remote-workitem-token-data-provider";t.getRemoteContext=v;t.getRemoteWorkItemAuthSessionToken=y;t.getFriendlyRemoteLinkStatus=w;t.sanitizeRemoteWorkItemUrl=b;t.getRemoteWorkItemRestUrl=k});

define("VSS/Identities/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.ReadIdentitiesOptions=t.QueryMembership=t.GroupScopeType=t.FrameworkIdentityType=void 0,function(n){n[n.None=0]="None";n[n.ServiceIdentity=1]="ServiceIdentity";n[n.AggregateIdentity=2]="AggregateIdentity";n[n.ImportedIdentity=3]="ImportedIdentity"}(i=t.FrameworkIdentityType||(t.FrameworkIdentityType={})),function(n){n[n.Generic=0]="Generic";n[n.ServiceHost=1]="ServiceHost";n[n.TeamProject=2]="TeamProject"}(r=t.GroupScopeType||(t.GroupScopeType={})),function(n){n[n.None=0]="None";n[n.Direct=1]="Direct";n[n.Expanded=2]="Expanded";n[n.ExpandedUp=3]="ExpandedUp";n[n.ExpandedDown=4]="ExpandedDown"}(u=t.QueryMembership||(t.QueryMembership={})),function(n){n[n.None=0]="None";n[n.FilterIllegalMemberships=1]="FilterIllegalMemberships"}(f=t.ReadIdentitiesOptions||(t.ReadIdentitiesOptions={}));t.TypeInfo={CreateScopeInfo:{},FrameworkIdentityInfo:{},FrameworkIdentityType:{enumValues:{none:0,serviceIdentity:1,aggregateIdentity:2,importedIdentity:3}},GroupScopeType:{enumValues:{generic:0,serviceHost:1,teamProject:2}},IdentityBatchInfo:{},IdentityScope:{},IdentitySnapshot:{},QueryMembership:{enumValues:{none:0,direct:1,expanded:2,expandedUp:3,expandedDown:4}},ReadIdentitiesOptions:{enumValues:{none:0,filterIllegalMemberships:1}}};t.TypeInfo.CreateScopeInfo.fields={scopeType:{enumType:t.TypeInfo.GroupScopeType}};t.TypeInfo.FrameworkIdentityInfo.fields={identityType:{enumType:t.TypeInfo.FrameworkIdentityType}};t.TypeInfo.IdentityBatchInfo.fields={queryMembership:{enumType:t.TypeInfo.QueryMembership}};t.TypeInfo.IdentityScope.fields={scopeType:{enumType:t.TypeInfo.GroupScopeType}};t.TypeInfo.IdentitySnapshot.fields={scopes:{isArray:!0,typeInfo:t.TypeInfo.IdentityScope}}});

define("VSS/Graph/Contracts",["require","exports","VSS/Identities/Contracts"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.GraphTraversalDirection=void 0;var r;(function(n){n[n.Unknown=0]="Unknown";n[n.Down=1]="Down";n[n.Up=2]="Up"})(r=t.GraphTraversalDirection||(t.GraphTraversalDirection={}));t.TypeInfo={AadGraphMember:{},GraphScope:{},GraphScopeCreationContext:{},GraphServicePrincipal:{},GraphTraversalDirection:{enumValues:{unknown:0,down:1,up:2}},GraphUser:{},PagedGraphServicePrincipals:{},PagedGraphUsers:{}};t.TypeInfo.AadGraphMember.fields={metadataUpdateDate:{isDate:!0}};t.TypeInfo.GraphScope.fields={scopeType:{enumType:i.TypeInfo.GroupScopeType}};t.TypeInfo.GraphScopeCreationContext.fields={scopeType:{enumType:i.TypeInfo.GroupScopeType}};t.TypeInfo.GraphServicePrincipal.fields={metadataUpdateDate:{isDate:!0}};t.TypeInfo.GraphUser.fields={metadataUpdateDate:{isDate:!0}};t.TypeInfo.PagedGraphServicePrincipals.fields={graphServicePrincipals:{isArray:!0,typeInfo:t.TypeInfo.GraphServicePrincipal}};t.TypeInfo.PagedGraphUsers.fields={graphUsers:{isArray:!0,typeInfo:t.TypeInfo.GraphUser}}});

define("VSS/Profile/Contracts",["require","exports"],function(n,t){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.ProfileState=t.AvatarSize=void 0,function(n){n[n.Small=0]="Small";n[n.Medium=1]="Medium";n[n.Large=2]="Large"}(i=t.AvatarSize||(t.AvatarSize={})),function(n){n[n.Custom=0]="Custom";n[n.CustomReadOnly=1]="CustomReadOnly";n[n.ReadOnly=2]="ReadOnly"}(r=t.ProfileState||(t.ProfileState={}));t.TypeInfo={AttributesContainer:{},Avatar:{},AvatarSize:{enumValues:{small:0,medium:1,large:2}},CoreProfileAttribute:{},CreateProfileContext:{},Profile:{},ProfileAttribute:{},ProfileAttributeBase:{},ProfileState:{enumValues:{custom:0,customReadOnly:1,readOnly:2}}};t.TypeInfo.AttributesContainer.fields={attributes:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ProfileAttribute}};t.TypeInfo.Avatar.fields={size:{enumType:t.TypeInfo.AvatarSize},timeStamp:{isDate:!0}};t.TypeInfo.CoreProfileAttribute.fields={timeStamp:{isDate:!0}};t.TypeInfo.CreateProfileContext.fields={profileState:{enumType:t.TypeInfo.ProfileState}};t.TypeInfo.Profile.fields={applicationContainer:{typeInfo:t.TypeInfo.AttributesContainer},coreAttributes:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.CoreProfileAttribute},profileState:{enumType:t.TypeInfo.ProfileState},timeStamp:{isDate:!0}};t.TypeInfo.ProfileAttribute.fields={timeStamp:{isDate:!0}};t.TypeInfo.ProfileAttributeBase.fields={timeStamp:{isDate:!0}}});

define("VSS/Graph/RestClient",["require","exports","VSS/Graph/Contracts","VSS/Profile/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u,f){"use strict";function ut(n){return window.VSS&&window.VSS.VssSDKRestVersion&&it[window.VSS.VssSDKRestVersion]?u.getClient(it[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):u.getClient(v,undefined,undefined,undefined,n)}var h,c,o,l,s,e,a,v,y,p,w,b,k,d,g,nt,tt,rt,it;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.GraphHttpClient=t.GraphHttpClient3_1=t.GraphHttpClient3_2=t.GraphHttpClient4=t.GraphHttpClient4_1=t.GraphHttpClient5=t.GraphHttpClient5_1=t.GraphHttpClient5_2=t.GraphHttpClient6=t.GraphHttpClient6_1=t.GraphHttpClient7=t.GraphHttpClient7_1=t.CommonMethods6To7_1=t.CommonMethods5_1To7_1=t.CommonMethods5To7_1=t.CommonMethods4To7_1=t.CommonMethods3_2To7_1=t.CommonMethods3_1To7_1=void 0;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getDescriptor=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"048aee0a-7072-4cde-ab73-7af77b1e0b4e",resource:"Descriptors",routeTemplate:"_apis/{area}/{resource}/{storageKey}",routeValues:{storageKey:n},apiVersion:this.descriptorsApiVersion})},t}(f.VssHttpClient);t.CommonMethods3_1To7_1=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateUser=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",responseType:i.TypeInfo.GraphUser,routeValues:{userDescriptor:t},apiVersion:this.usersApiVersion,data:n})},t.prototype.listUsers=function(n,t,r){var u={subjectTypes:n&&n.join(","),continuationToken:t,scopeDescriptor:r};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",responseType:i.TypeInfo.GraphUser,responseIsCollection:!0,queryParams:u,apiVersion:this.usersApiVersion},!0).then(function(n){var i=n[0],u=n[1],r=n[2],t=r.getResponseHeader("X-MS-ContinuationToken");return{graphUsers:i,continuationToken:t?t.split(","):[]}})},t.prototype.getUser=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",responseType:i.TypeInfo.GraphUser,routeValues:{userDescriptor:n},apiVersion:this.usersApiVersion})},t.prototype.deleteUser=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",routeValues:{userDescriptor:n},apiVersion:this.usersApiVersion})},t.prototype.createUser=function(n,t){var r={groupDescriptors:t&&t.join(",")};return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",responseType:i.TypeInfo.GraphUser,queryParams:r,apiVersion:this.usersApiVersion,data:n})},t.prototype.getSubject=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"1d44a2ac-4f8a-459e-83c2-1c92626fb9c6",resource:"Subjects",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},apiVersion:this.subjectsApiVersion})},t.prototype.lookupSubjects=function(n){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"4dd4d168-11f2-48c4-83e8-756fa0de027c",resource:"SubjectLookup",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.subjectLookupApiVersion,data:n})},t.prototype.getStorageKey=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"eb85f8cc-f0f6-4264-a5b1-ffe2e4d4801f",resource:"StorageKeys",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},apiVersion:this.storageKeysApiVersion})},t.prototype.updateScope=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Graph",locationId:"21b5fea7-2513-41d0-af78-b8cdb0f328bb",resource:"Scopes",routeTemplate:"_apis/{area}/{resource}/{scopeDescriptor}",routeValues:{scopeDescriptor:n},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.scopesApiVersion,data:t})},t.prototype.getScope=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"21b5fea7-2513-41d0-af78-b8cdb0f328bb",resource:"Scopes",routeTemplate:"_apis/{area}/{resource}/{scopeDescriptor}",responseType:i.TypeInfo.GraphScope,routeValues:{scopeDescriptor:n},apiVersion:this.scopesApiVersion})},t.prototype.deleteScope=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"21b5fea7-2513-41d0-af78-b8cdb0f328bb",resource:"Scopes",routeTemplate:"_apis/{area}/{resource}/{scopeDescriptor}",routeValues:{scopeDescriptor:n},apiVersion:this.scopesApiVersion})},t.prototype.createScope=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"21b5fea7-2513-41d0-af78-b8cdb0f328bb",resource:"Scopes",routeTemplate:"_apis/{area}/{resource}/{scopeDescriptor}",requestType:i.TypeInfo.GraphScopeCreationContext,responseType:i.TypeInfo.GraphScope,routeValues:{scopeDescriptor:t},apiVersion:this.scopesApiVersion,data:n})},t.prototype.traverseMemberships=function(n,t,i){var r={direction:t,depth:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"5d59d874-746f-4f9b-9459-0e571f1ded8c",resource:"MembershipTraversals",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},queryParams:r,apiVersion:this.membershipTraversalsApiVersion})},t.prototype.lookupMembershipTraversals=function(n,t,i){var r={direction:t,depth:i};return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"5d59d874-746f-4f9b-9459-0e571f1ded8c",resource:"MembershipTraversals",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",responseIsCollection:!0,queryParams:r,apiVersion:this.membershipTraversalsApiVersion,data:n})},t.prototype.getMembershipState=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"1ffe5c94-1144-4191-907b-d0211cad36a8",resource:"MembershipStates",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},apiVersion:this.membershipStatesApiVersion})},t.prototype.listMemberships=function(n,t,i){var r={direction:t,depth:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"e34b6394-6b30-4435-94a9-409a5eef3e31",resource:"MembershipsBatch",routeTemplate:"_apis/{area}/Memberships/{subjectDescriptor}",responseIsCollection:!0,routeValues:{subjectDescriptor:n},queryParams:r,apiVersion:this.membershipsBatchApiVersion})},t.prototype.removeMembership=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"3fd2e6ca-fb30-443a-b579-95b19ed0934c",resource:"Memberships",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}/{containerDescriptor}",routeValues:{subjectDescriptor:n,containerDescriptor:t},apiVersion:this.membershipsApiVersion})},t.prototype.getMembership=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"3fd2e6ca-fb30-443a-b579-95b19ed0934c",resource:"Memberships",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}/{containerDescriptor}",routeValues:{subjectDescriptor:n,containerDescriptor:t},apiVersion:this.membershipsApiVersion})},t.prototype.checkMembershipExistence=function(n,t){return this._beginRequest({httpMethod:"HEAD",area:"Graph",locationId:"3fd2e6ca-fb30-443a-b579-95b19ed0934c",resource:"Memberships",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}/{containerDescriptor}",routeValues:{subjectDescriptor:n,containerDescriptor:t},apiVersion:this.membershipsApiVersion}).then(function(){return!0},function(n){if(n.status===404)return!1;throw n;})},t.prototype.addMembership=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"Graph",locationId:"3fd2e6ca-fb30-443a-b579-95b19ed0934c",resource:"Memberships",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}/{containerDescriptor}",routeValues:{subjectDescriptor:n,containerDescriptor:t},apiVersion:this.membershipsApiVersion})},t.prototype.getMemberByDescriptor=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"b9af63a7-5db6-4af8-aae7-387f775ea9c6",resource:"Members",routeTemplate:"_apis/{area}/{resource}/{memberDescriptor}",routeValues:{memberDescriptor:n},apiVersion:this.membersApiVersion})},t.prototype.lookupMembers=function(n){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"3d74d524-ae3d-4d24-a9a7-f8a5cf82347a",resource:"MemberLookup",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.memberLookupApiVersion,data:n})},t.prototype.updateGroup=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",routeValues:{groupDescriptor:n},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.groupsApiVersion,data:t})},t.prototype.listGroups=function(n,t,i){var r={scopeDescriptor:n,subjectTypes:t&&t.join(","),continuationToken:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",responseIsCollection:!0,queryParams:r,apiVersion:this.groupsApiVersion},!0).then(function(n){var i=n[0],u=n[1],r=n[2],t=r.getResponseHeader("X-MS-ContinuationToken");return{graphGroups:i,continuationToken:t?t.split(","):[]}})},t.prototype.getGroup=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",routeValues:{groupDescriptor:n},apiVersion:this.groupsApiVersion})},t.prototype.deleteGroup=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",routeValues:{groupDescriptor:n},apiVersion:this.groupsApiVersion})},t.prototype.createGroup=function(n,t,i){var r={scopeDescriptor:t,groupDescriptors:i&&i.join(",")};return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",queryParams:r,apiVersion:this.groupsApiVersion,data:n})},t.prototype.getCachePolicies=function(){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"beb83272-b415-48e8-ac1e-a9b805760739",resource:"CachePolicies",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.cachePoliciesApiVersion})},t}(h);t.CommonMethods3_2To7_1=c;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getProviderInfo=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"1e377995-6fa2-4588-bd64-930186abdcfa",resource:"ProviderInfo",routeTemplate:"_apis/{area}/Users/{userDescriptor}/{resource}",routeValues:{userDescriptor:n},apiVersion:this.providerInfoApiVersion})},t}(c);t.CommonMethods4To7_1=o;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getFederatedProviderData=function(n,t,i){var r={providerName:t,versionHint:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"5dcd28d6-632d-477f-ac6b-398ea9fc2f71",resource:"FederatedProviderData",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},queryParams:r,apiVersion:this.federatedProviderDataApiVersion})},t}(o);t.CommonMethods5To7_1=l;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.querySubjects=function(n){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"05942c89-006a-48ce-bb79-baeb8abf99c6",resource:"SubjectQuery",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.subjectQueryApiVersion,data:n})},t.prototype.requestAccess=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Graph",locationId:"8d54bf92-8c99-47f2-9972-b21341f1722e",resource:"RequestAccess",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.requestAccessApiVersion,data:n})},t.prototype.setAvatar=function(n,t){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Graph",locationId:"801eaf9c-0585-4be8-9cdb-b0efa074de91",resource:"Avatars",routeTemplate:"_apis/{area}/Subjects/{subjectDescriptor}/{resource}",requestType:r.TypeInfo.Avatar,routeValues:{subjectDescriptor:t},apiVersion:this.avatarsApiVersion,data:n})},t.prototype.getAvatar=function(n,t,i){var u={size:t,format:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"801eaf9c-0585-4be8-9cdb-b0efa074de91",resource:"Avatars",routeTemplate:"_apis/{area}/Subjects/{subjectDescriptor}/{resource}",responseType:r.TypeInfo.Avatar,routeValues:{subjectDescriptor:n},queryParams:u,apiVersion:this.avatarsApiVersion})},t.prototype.deleteAvatar=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"801eaf9c-0585-4be8-9cdb-b0efa074de91",resource:"Avatars",routeTemplate:"_apis/{area}/Subjects/{subjectDescriptor}/{resource}",routeValues:{subjectDescriptor:n},apiVersion:this.avatarsApiVersion})},t}(l);t.CommonMethods5_1To7_1=s;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.translate=function(n,t){var i={masterId:n,localId:t};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"9cacc4da-06e3-474a-a1fa-604dd34a2fa2",resource:"IdentityTranslation",routeTemplate:"_apis/{area}/{resource}",queryParams:i,apiVersion:this.identityTranslationApiVersion})},t}(s);t.CommonMethods6To7_1=e;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.cachePoliciesApiVersion=r.descriptorsApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.identityTranslationApiVersion=r.memberLookupApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.providerInfoApiVersion=r.requestAccessApiVersion=r.scopesApiVersion=r.storageKeysApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="7.1-preview.1",r.membersApiVersion="7.1-preview.2",r}return __extends(t,n),t.prototype.listMembers=function(n,t,i,r,u){var f={continuationToken:n,subjectTypes:t&&t.join(","),subjectKinds:i&&i.join(","),metaTypes:r&&r.join(","),scopeDescriptor:u};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"8b9ecdb2-b752-485a-8418-cc15cf12ee07",resource:"Members",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:f,apiVersion:"7.1-preview.2"},!0).then(function(n){var i=n[0],u=n[1],r=n[2],t=r.getResponseHeader("X-MS-ContinuationToken");return{graphMembers:i,continuationToken:t?t.split(","):[]}})},t.prototype.resolve=function(n){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"2f0cae3a-74a3-4c40-a13b-974889698e6b",resource:"ResolveDisconnectedUsers",routeTemplate:"_apis/{area}/{resource}",apiVersion:"7.1-preview.1",data:n})},t.prototype.createServicePrincipal=function(n,t){var r={groupDescriptors:t&&t.join(",")};return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"e1dbb0ae-49cb-4532-95a1-86cd89cfcab4",resource:"ServicePrincipals",routeTemplate:"_apis/{area}/{resource}/{servicePrincipalDescriptor}",responseType:i.TypeInfo.GraphServicePrincipal,queryParams:r,apiVersion:"7.1-preview.1",data:n})},t.prototype.deleteServicePrincipal=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"e1dbb0ae-49cb-4532-95a1-86cd89cfcab4",resource:"ServicePrincipals",routeTemplate:"_apis/{area}/{resource}/{servicePrincipalDescriptor}",routeValues:{servicePrincipalDescriptor:n},apiVersion:"7.1-preview.1"})},t.prototype.getServicePrincipal=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"e1dbb0ae-49cb-4532-95a1-86cd89cfcab4",resource:"ServicePrincipals",routeTemplate:"_apis/{area}/{resource}/{servicePrincipalDescriptor}",responseType:i.TypeInfo.GraphServicePrincipal,routeValues:{servicePrincipalDescriptor:n},apiVersion:"7.1-preview.1"})},t.prototype.listServicePrincipals=function(n,t){var r={continuationToken:n,scopeDescriptor:t};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"e1dbb0ae-49cb-4532-95a1-86cd89cfcab4",resource:"ServicePrincipals",routeTemplate:"_apis/{area}/{resource}/{servicePrincipalDescriptor}",responseType:i.TypeInfo.GraphServicePrincipal,responseIsCollection:!0,queryParams:r,apiVersion:"7.1-preview.1"},!0).then(function(n){var i=n[0],u=n[1],r=n[2],t=r.getResponseHeader("X-MS-ContinuationToken");return{graphServicePrincipals:i,continuationToken:t?t.split(","):[]}})},t.prototype.updateServicePrincipal=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Graph",locationId:"e1dbb0ae-49cb-4532-95a1-86cd89cfcab4",resource:"ServicePrincipals",routeTemplate:"_apis/{area}/{resource}/{servicePrincipalDescriptor}",responseType:i.TypeInfo.GraphServicePrincipal,routeValues:{servicePrincipalDescriptor:t},apiVersion:"7.1-preview.1",data:n})},t}(e);t.GraphHttpClient7_1=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="7.0",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.identityTranslationApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.requestAccessApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="7.0-preview.1",r}return __extends(t,n),t}(e);t.GraphHttpClient7=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="6.1",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.identityTranslationApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.requestAccessApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="6.1-preview.1",r}return __extends(t,n),t}(e);t.GraphHttpClient6_1=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="6.0",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.identityTranslationApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.requestAccessApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="6.0-preview.1",r}return __extends(t,n),t}(e);t.GraphHttpClient6=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="5.2",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.requestAccessApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="5.2-preview.1",r}return __extends(t,n),t}(s);t.GraphHttpClient5_2=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="5.1",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.requestAccessApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="5.1-preview.1",r}return __extends(t,n),t}(s);t.GraphHttpClient5_1=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="5.0",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="5.0-preview.1",r}return __extends(t,n),t}(l);t.GraphHttpClient5=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="4.1",r.cachePoliciesApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="4.1-preview.1",r}return __extends(t,n),t}(o);t.GraphHttpClient4_1=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="4.0",r.cachePoliciesApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="4.0-preview.1",r}return __extends(t,n),t}(o);t.GraphHttpClient4=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.descriptorsApiVersion=r.storageKeysApiVersion="3.2",r.cachePoliciesApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="3.2-preview.1",r}return __extends(t,n),t}(c);t.GraphHttpClient3_2=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.descriptorsApiVersion="3.1",r}return __extends(t,n),t}(h);t.GraphHttpClient3_1=tt;rt=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(a);t.GraphHttpClient=rt;it={"7.1":a,"7.0":v,"6.1":y,"6.0":p,"5.2":w,"5.1":b,"5.0":k,"4.1":d,"4.0":g,"3.2":nt,"3.1":tt};t.getClient=ut});

define("VSS/Identities/Picker/Constants",["require","exports"],function(n,t){var i,r,u,f,e;Object.defineProperty(t,"__esModule",{value:!0});t.diacriticsRemovalMap=t.PromiseResultStatus=t.ConsumerId=t.PrefixType=t.TelemetryProperties=t.Telemetry=void 0;i=function(){function n(){}return n.Area="IdentityPicker",n.Scenario_GetMru_Rtt="IdentityPicker_MruService_GetMru_Rtt",n.Scenario_AddMru_Rtt="IdentityPicker_MruService_AddMru_Rtt",n.Scenario_RemoveMru_Rtt="IdentityPicker_MruService_RemoveMru_Rtt",n.Scenario_GetDirectory_Rtt="IdentityPicker_IdentityService_GetDirectory_Rtt",n.Scenario_GetConnections_Rtt="IdentityPicker_IdentityService_GetConnections_Rtt",n.Scenario_GetUserConnections_Rtt="IdentityPicker_IdentityService_GetUserConnections_Rtt",n.Scenario_PagingQuerySplit="IdentityPicker_PagingQuerySplit",n.Feature_DropdownControl="DropdownControl",n.Feature_SearchControl="SearchControl",n.Feature_IdCardDialogControl="IdCardDialogControl",n.Feature_DisplayControl="DisplayControl",n.Feature_TwoLayerCache="TwoLayerCache",n.Feature_RequestCache="RequestCache",n.Feature_Select_Mru_NoPrefix="Select_Mru_NoPrefix",n.Feature_Select_Mru_Prefix="Select_Mru_Prefix",n.Feature_Select_Mru_Dir="Select_Mru_Dir",n.Feature_Select_Dir="Select_Dir",n.Feature_Click_IdCard="Click_IdCard",n.Feature_Click_Remove_Mru="Click_Remove_Mru",n.Feature_ApiExceptions="Api_Exceptions",n}();t.Telemetry=i;r=function(){function n(){}return n.prefixType="p_prefixType",n.prefixLength="p_prefixLength",n.userId="p_userId",n.accountProjectCollectionTeam="p_accountProjectCollectionTeam",n.identityTypes="p_identityTypes",n.operationScopes="p_operationScopes",n.maxResults="p_maxResults",n.minResults="p_minResults",n.consumerId="p_consumerId",n.extensionId="p_extensionId",n.entityId="p_entityId",n.exceptionData="p_exceptionData",n.isMru="p_isMru",n.isNonMaterialized="p_isNonMaterialized",n.isTwoLayerCacheHit="p_isTwoLayerCacheHit",n.isDirSearchUid="p_isDirSearchUid",n}();t.TelemetryProperties=r;u=function(){function n(){}return n.SignInAddress="signInAddress",n.DomainSamAccountName="domainSamAccountName",n.EntityId="entityId",n.Vsid="vsid",n.ScopedPrefix="scopedPrefix",n.StringPrefix="stringPrefix",n}();t.PrefixType=u;f=function(){function n(){}return n.UnknownConsumer="UNKNOWN",n}();t.ConsumerId=f;e=function(){function n(){}return n.Fulfilled="fulfilled",n.Rejected="rejected",n}();t.PromiseResultStatus=e;t.diacriticsRemovalMap={A:"A","\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A","\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"A","\ua738":"AV","\ua73a":"AV","\ua73c":"AY",B:"B","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B",C:"C","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C",D:"D","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz",E:"E","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E",F:"F","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F",G:"G","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G",H:"H","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H",I:"I","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I",J:"J","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J",K:"K","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K",L:"L","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj",M:"M","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M",N:"N","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj",O:"O","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU",P:"P","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P",Q:"Q","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q",R:"R","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R",S:"S","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S",T:"T","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ",U:"U","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U",V:"V","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY",W:"W","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W",X:"X","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X",Y:"Y","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y",Z:"Z","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z",a:"a","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay",b:"b","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b",c:"c","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c",d:"d","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz",e:"e","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e",f:"f","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f",g:"g","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g",h:"h","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv",i:"i","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i",j:"j","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j",k:"k","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k",l:"l","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj",m:"m","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m",n:"n","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj",o:"o","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo",p:"p","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p",q:"q","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q",r:"r","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r",s:"s","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s",t:"t","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz",u:"u","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u",v:"v","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy",w:"w","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w",x:"x","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x",y:"y","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y",z:"z","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"}});

define("VSS/Identities/Picker/RestClient",["require","exports","VSS/WebApi/Constants","VSS/WebApi/RestClient"],function(n,t,i,r){var u,f;Object.defineProperty(t,"__esModule",{value:!0});t.CommonIdentityPickerHttpClient=t.AbstractIdentityPickerHttpClient=void 0;u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetIdentities=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetIdentities"};},t.prototype.beginGetIdentityImageLocation=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetImageLocation"};},t.prototype.beginGetConnections=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetConnections"};},t.prototype.beginGetIdentityFeatureMru=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetMru"};},t.prototype.beginPatchIdentityFeatureMru=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginPatchMru"};},t}(r.VssHttpClient);t.AbstractIdentityPickerHttpClient=u;f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetIdentities=function(n){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentitiesLocationId,httpMethod:"POST",data:n})},t.prototype.beginGetIdentityImageLocation=function(n){var r=this,u={objectId:n};return t._identityImageLocation||(t._identityImageLocation=this._beginGetLocation(i.CommonIdentityPickerResourceIds.ServiceArea,i.CommonIdentityPickerResourceIds.IdentityAvatarLocationId)),t._identityImageLocation.then(function(n){return r.getRequestUrl(n.routeTemplate,n.area,n.resourceName,u,{})})},t.prototype.beginGetConnections=function(n,t){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentityConnectionsLocationId,httpMethod:"GET",routeValues:{objectId:n},data:t})},t.prototype.beginGetIdentityFeatureMru=function(n,t,r){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentityFeatureMruLocationId,httpMethod:"GET",routeValues:{objectId:n,featureId:t},data:r})},t.prototype.beginPatchIdentityFeatureMru=function(n,t,r){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentityFeatureMruLocationId,httpMethod:"PATCH",routeValues:{objectId:n,featureId:t},data:r})},t._identityImageLocation=null,t}(u);t.CommonIdentityPickerHttpClient=f});

define("VSS/Identities/Picker/Cache",["require","exports","VSS/Utils/Core","VSS/Utils/String","VSS/Identities/Picker/Constants","VSS/Telemetry/Services"],function(n,t,i,r,u,f){var s,e,o,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});t.TwoLayerCache=t.RequestCache=t.HashCache=t.CacheableTypes=void 0;s=function(){function n(){}return n.guessQueryTokenType=function(t){return r.isGuid(t)&&!r.isEmptyGuid(t)?e.Guid:n._isValidEmail(t)?e.Email:n._isPotentialEntityId(t)?e.UniqueIdentifier:e.Unknown},n._isPotentialEntityId=function(n){var t=n.split(".");return t.length==6&&r.isGuid(t[5])&&!r.isEmptyGuid(t[5])?!0:!1},n._isValidEmail=function(n){var t=n.split("@");return t.length===2&&t[0].length>=1&&t[1].length>=1?!0:!1},n}(),function(n){n[n.Unknown=0]="Unknown";n[n.UniqueIdentifier=1]="UniqueIdentifier";n[n.Guid=2]="Guid";n[n.Email=3]="Email"}(e=t.CacheableTypes||(t.CacheableTypes={}));o=function(){function n(){this._cache={};this._config={expirationIntervalS:86400}}return n.prototype.get=function(n){if(!n)throw{message:"invalid (null/undefined) key",parameter:"key",source:"HashCache add"};if(!this._cache.hasOwnProperty(n)||!this._cache[n])return null;var t=this._cache[n];return(new Date).getTime()/1e3>t.expiryTimeS?(delete this._cache[n],null):this._cache[n].item},n.prototype.set=function(n,t){if(!n)throw{message:"invalid (null/undefined) key",parameter:"key",source:"HashCache add"};var i={item:t,expiryTimeS:(new Date).getTime()/1e3+this._config.expirationIntervalS};this._cache[n]=i},n.prototype.clear=function(){var n=this._getKeys(),t;if(n&&n.length!=0)for(t in n)delete this._cache[t]},n.prototype.configure=function(n){this._config=n},n.prototype._getKeys=function(){return Object.keys(this._cache)},n}();t.HashCache=o;h=function(){function n(){this._config={delayIntervalMS:n._defaultDelayIntervalMS};this._cache=new o;this._cache.configure({expirationIntervalS:this._config.delayIntervalMS/1e3})}return n.prototype.getPromise=function(n){this._setOrResetTimer();var t=this._cache.get(n);return t?t:null},n.prototype.setPromise=function(n,t){this._setOrResetTimer();this._cache.set(n,t)},n.prototype.configure=function(n){this._config=n;this._cache.configure({expirationIntervalS:this._config.delayIntervalMS/1e3})},n.prototype._setOrResetTimer=function(){var n=this;this._timeoutHandle&&(clearTimeout(this._timeoutHandle),this._timeoutHandle=null);this._timeoutHandle=window.setTimeout(i.delegate(this,function(){n._cache.clear()}),this._config.delayIntervalMS)},n._defaultDelayIntervalMS=6e4,n}();t.RequestCache=h;c=function(){function n(n){this._redirectors={};this.configure(n);this._objectCache=new o}return n.prototype.configure=function(n){if(!n||!n.getUniqueIdentifier)throw{source:"TwoLayerCache configure",message:"missing config or missing the required getUniqueIdentifier property",parameter:"config"};this._config=n},n.prototype.addRedirector=function(n){if(n===null||n===undefined)throw{source:"TwoLayerCache addRedirector",message:"invalid null/undefined cacheType",parameter:"cacheType"};if(this._redirectors.hasOwnProperty(n.toString()))throw{source:"TwoLayerCache addRedirector",message:"redirector with supplied cacheType already exists: currently at most one redirector supported for a CacheType",parameter:"cacheType"};this._redirectors[n.toString()]=new o},n.prototype.get=function(n,t){return this._queryCache(n,t)},n.prototype.set=function(n,t,i){var u,r,f;if(u=i?i:s.guessQueryTokenType(n).toString(),r=this._config.getUniqueIdentifier(t),!r)throw{source:"TwoLayerCache set",message:"could not retrieve a valid unique identifier from the value"};if(u==e.UniqueIdentifier.toString()||r==n||this._redirectors.hasOwnProperty(u.toString())){if(u==e.UniqueIdentifier.toString()||r==n){this._objectCache.set(n,t);return}f=this._redirectors[u];f.set(n,r);this._objectCache.set(r,t);return}},n.prototype._queryCache=function(n,t){var i,r;return i=t?t:s.guessQueryTokenType(n).toString(),i==e.UniqueIdentifier.toString()?this._objectCache.get(n):this._redirectors.hasOwnProperty(i.toString())?(r=this._redirectors[i].get(n),!r)?null:this._objectCache.get(r):this._objectCache.get(n)},n}();t.TwoLayerCache=c;l=function(){function n(){}return n.traceCacheHit=function(n,t){var r=n!=null,i={};i[u.TelemetryProperties.isTwoLayerCacheHit]=r;f.publishEvent(new f.TelemetryEventData(u.Telemetry.Area,t,i))},n}()});

define("VSS/Identities/Picker/Services",["require","exports","VSS/Context","VSS/Locations","VSS/Performance","VSS/Service","VSS/Telemetry/Services","VSS/User/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Identities/Picker/RestClient","VSS/Identities/Picker/Cache","VSS/Identities/Picker/Common","VSS/Identities/Picker/Constants","q","VSS/LWP"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var b,w,k,d;Object.defineProperty(t,"__esModule",{value:!0});t.MruService=t.IdentityService=t.ServiceHelpers=void 0;b=s.delegate;w=function(){function n(){}return n.getOperationScopeList=function(n){var t=[];return n.IMS&&t.push("ims"),n.Source&&t.push("source"),n.AAD&&t.push("aad"),n.AD&&t.push("ad"),n.WMD&&t.push("wmd"),n.GHB&&t.push("ghb"),t},n.getQueryTypeHint=function(n){var t=void 0;return n?(n.UID&&(t="uid"),t):t},n.getIdentityTypeList=function(t){var i=[];return t.User&&i.push(n.UserEntity),t.Group&&i.push(n.GroupEntity),t.ServicePrincipal&&i.push(n.ServicePrincipalEntity),i},n.getConnectionTypeList=function(n){var t=[];return n.successors?t.push("successors"):n.successors&&t.push("predecessors"),n.managers&&t.push("managers"),n.directReports&&t.push("directReports"),t},n.getDefaultIdentityImage=function(t){return t.entityType.toLowerCase().trim()==n.GroupEntity?t.originDirectory.toLowerCase().trim()==n.VisualStudioDirectory?n.DefaultVsoGroupImage:n.DefaultRemoteGroupImage:n.DefaultUserImage},n.getDistinct=function(n){return n.filter(function(n,t,i){return i.indexOf(n)==t})},n.isAuthenticatedMember=function(){return o.getService().hasClaim(o.UserClaims.Member)},n.getPrefixTypeForTelemetry=function(n){var t,r;return h.isGuid(n)?v.PrefixType.Vsid:(t=n.indexOf("@"),t&&n.indexOf(".",t))?v.PrefixType.SignInAddress:(r=n.indexOf("\\"),r&&r==n.lastIndexOf("\\"))?i.getPageContext().webAccessConfiguration.isHosted?v.PrefixType.ScopedPrefix:v.PrefixType.DomainSamAccountName:n.startsWith("vss.ds.v1")?v.PrefixType.EntityId:v.PrefixType.StringPrefix},n.addScenarioProperties=function(t,i,r,u,f,e){return u&&(i[v.TelemetryProperties.identityTypes]=n.getIdentityTypeList(u)),r&&(i[v.TelemetryProperties.operationScopes]=n.getOperationScopeList(r)),f&&(i[v.TelemetryProperties.maxResults]=f.maxResults,i[v.TelemetryProperties.minResults]=f.minResults),i[v.TelemetryProperties.consumerId]=e?e.consumerId:v.ConsumerId.UnknownConsumer,i[v.TelemetryProperties.userId]=t&&t.getWebContext()&&t.getWebContext().user?t.getWebContext().user.id:"",i[v.TelemetryProperties.accountProjectCollectionTeam]=n._getHostMetadata(t),i},n._getHostMetadata=function(n){var t="",i="",r="",u="";return n&&n.getWebContext()&&(t=n.getWebContext().account?n.getWebContext().account.name:"",i=n.getWebContext().collection?n.getWebContext().collection.name:"",r=n.getWebContext().project?n.getWebContext().project.name:"",u=n.getWebContext().team?n.getWebContext().team.name:""),"account["+t+"]/collection["+i+"]/project["+r+"]/team["+u+"]"},n._defaultProperties=["DisplayName","IsMru","ScopeName","SamAccountName","Active","SubjectDescriptor"],n._defaultUserProperties=["Department","JobTitle","Mail","MailNickname","PhysicalDeliveryOfficeName","SignInAddress","Surname","Guest","TelephoneNumber"],n._defaultGroupProperties=["Description"],n.DefaultUserImage=r.urlHelper.getVersionedContentUrl("ip-content-user-default.png"),n.DefaultVsoGroupImage=r.urlHelper.getVersionedContentUrl("ip-content-vso-group-default.png"),n.DefaultRemoteGroupImage=r.urlHelper.getVersionedContentUrl("ip-content-aad-group-default.png"),n.VisualStudioDirectory="vsd",n.AzureActiveDirectory="aad",n.ActiveDirectory="ad",n.WindowsMachineDirectory="wmd",n.SourceDirectory="src",n.GitHubDirectory="ghb",n.UserEntity="user",n.GroupEntity="group",n.ServicePrincipalEntity="servicePrincipal",n.OptionsMinResultsKey="MinResults",n.OptionsMaxResultsKey="MaxResults",n.ExtensionData_ExtensionIdKey="ExtensionId",n.ExtensionData_ProjectScopeNameKey="ProjectScopeName",n.ExtensionData_CollectionScopeNameKey="CollectionScopeName",n.ExtensionData_ConstraintListKey="Constraints",n.ExtensionData_NoServiceIdentities="NoServiceIdentities",n.GetIdentities_Prefix_Separator=";",n}();t.ServiceHelpers=w;k=function(n){function t(){var i=__construct(this,n,[]),r,u,f;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return u={getUniqueIdentifier:function(n){return n&&n.identities&&n.identities.length==1?n.identities[0].entityId:null}},i._qtrCache=new l.TwoLayerCache(u),i._qtrCache.addRedirector(l.CacheableTypes.Email),i._qtrCache.addRedirector(l.CacheableTypes.Guid),i._qtrRequestAggregator=new l.RequestCache,i._entityImageRequestAggregator=new l.RequestCache,f=p.getLWPService("IVssContributionService"),i.identitySearchService=t.resolveIdentitySearchService(),i}return __extends(t,n),t.resolveIdentitySearchService=function(){return __awaiter(this,void 0,void 0,function(){var i,r,n,f,t,e,o,u,s,h;return __generator(this,function(c){switch(c.label){case 0:c.trys.push([0,7,,8]);i=p.getLWPService("IVssContributionService");r=i.getContributionsByType("ms.vss-features.preferred-identity-search-service-name");n=[];for(f in r)n.push(f);t=0;c.label=1;case 1:if(!(t<n.length))return[3,6];e=n[t];o=r[e];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,i.getService(o.serviceId)];case 3:return(u=c.sent(),u)?[2,u]:[3,5];case 4:return s=c.sent(),[3,5];case 5:return t++,[3,1];case 6:return[3,8];case 7:return h=c.sent(),[3,8];case 8:return[2,undefined]}})})},t.prototype.getIdentities=function(n,i,r,f,o,s){var tt=this,k,p,h,rt,ct,ft,lt,g,at,et,vt,yt,l,ut,it,st,bt,nt;if(!i){it={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw it;}if(!r){it={source:"IdentityService",parameter:"identityType",message:"identityType null or undefined"};throw it;}if(k=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_GetDirectory_Rtt),p={},p=w.addScenarioProperties(this,p,i,r,f,s),p[v.TelemetryProperties.prefixType]=w.getPrefixTypeForTelemetry(n),p[v.TelemetryProperties.prefixLength]=n.length,p[v.TelemetryProperties.isDirSearchUid]=Boolean(o&&o.UID),h={},rt={},!n)return rt;for(l=[],ct=n.split(w.GetIdentities_Prefix_Separator),ft=0;ft<ct.length;ft++)lt=ct[ft].trim(),lt&&l.push(lt);l=w.getDistinct(l);l.forEach(function(n){h[n.toLowerCase()]=y.defer();rt[n.toLowerCase()]=h[n.toLowerCase()].promise});for(g in h){if(at=t.getUniqueRequestString(g,i,r,f?f.extensionData:null,f?f.getFilterByScope():null),et=this._qtrCache.get(at),et){et.queryToken=g;h[g].resolve(et);l=t._removeQueryToken(g,l);continue}if(vt=this._qtrRequestAggregator.getPromise(at),vt){yt=b(this,function(n){vt.then(b(tt,function(t){h&&h[n]&&h[n].resolve(t)}),b(tt,function(t){h&&h[n]&&h[n].reject(t)}))});yt(g);l=t._removeQueryToken(g,l);continue}}if(l.length==0)return rt;for(ut=0;ut<l.length;ut++)this._qtrRequestAggregator.setPromise(t.getUniqueRequestString(l[ut],i,r,f?f.extensionData:null,f?f.getFilterByScope():null),h[l[ut].toLowerCase()].promise);n=l.join(w.GetIdentities_Prefix_Separator);var pt=w.getIdentityTypeList(r),wt=w.getOperationScopeList(i),ot=w.getQueryTypeHint(o);if(pt.length==0||wt.length==0){it={source:"IdentityService",parameter:"identityType or operationScope",message:"queried identityType or operationScope is/are unsupported"};throw it;}f&&f.httpClient?st=f.httpClient:(bt=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),st=bt);var kt=pt,dt=wt,d={};f&&f.minResults&&(d[w.OptionsMinResultsKey]=f.minResults);f&&f.maxResults&&(d[w.OptionsMaxResultsKey]=f.maxResults);f&&f.extensionData&&(d[w.ExtensionData_ExtensionIdKey]=f.extensionData.extensionId,d[w.ExtensionData_ProjectScopeNameKey]=f.extensionData.projectScopeName,d[w.ExtensionData_CollectionScopeNameKey]=f.extensionData.collectionScopeName,d[w.ExtensionData_ConstraintListKey]=f.extensionData.constraints);nt=w._defaultProperties;r.User&&(nt=nt.concat(w._defaultUserProperties));r.Group&&(nt=nt.concat(w._defaultGroupProperties));var ni=function(n){if(n.results.length<1)return u;var s=function(n){if(k&&k.addSplitTiming(v.Telemetry.Scenario_PagingQuerySplit+"_End_"+n&&n.results[0]?a.CommonHelpers.GetStringHashCode(n.results[0].queryToken).toString():""),n&&n.results.length!=0){n.results[0].identities.forEach(function(n){n.image||(n.image=w.getDefaultIdentityImage(n))});tt._cacheQueryTokenResult(n.results[0],t.getUniqueRequestString(n.results[0].queryToken.trim(),i,r,f?f.extensionData:null,f?f.getFilterByScope():null));var u=n.results[0].queryToken;u&&h[u.toLowerCase().trim()]&&h[u.toLowerCase().trim()].resolve(n.results[0])}},o=function(n){for(var i in h)h[i].reject(n);p[v.TelemetryProperties.exceptionData]=t._getExceptionData(n);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,p))},u,c=function(n){var e,c,l;n.identities&&n.identities.length==0&&n.pagingToken?(e=f&&f.getFilterByScope(),c={query:n.queryToken,identityTypes:kt,operationScopes:dt,properties:nt,filterByAncestorEntityIds:e?e.filterByAncestorEntityIds:[],filterByEntityIds:e?e.filterByEntityIds:[],pagingToken:n.pagingToken,options:d},ot&&(c.queryTypeHint=ot),k.addSplitTiming(v.Telemetry.Scenario_PagingQuerySplit+"_Start_"+a.CommonHelpers.GetStringHashCode(n.queryToken).toString()),l=tt.fetchIdentitiesWithInjectionsAsync(st,c).then(s,o),u&&u.push(l)):n.identities&&n.identities.length>=0?(n.identities.forEach(function(n){n.image||(n.image=w.getDefaultIdentityImage(n))}),tt._cacheQueryTokenResult(n,t.getUniqueRequestString(n.queryToken.trim(),i,r,f?f.extensionData:null,f?f.getFilterByScope():null)),n.queryToken&&h[n.queryToken.toLowerCase().trim()]&&h[n.queryToken.toLowerCase().trim()].resolve(n)):o()};n.results.forEach(c,tt);u&&u.length>0?y.allSettled(u).then(function(){k.addData(p);k.end()},function(){k.addData(p);k.end()}):(k.addData(p),k.end())},ti=function(n){for(var i in h)h[i].reject(n);p[v.TelemetryProperties.exceptionData]=t._getExceptionData(n);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,p));k.end()},ht=f&&f.getFilterByScope(),gt={query:n,identityTypes:kt,operationScopes:dt,properties:nt,filterByAncestorEntityIds:ht?ht.filterByAncestorEntityIds:[],filterByEntityIds:ht?ht.filterByEntityIds:[],options:d};return ot&&(gt.queryTypeHint=ot),this.fetchIdentitiesWithInjectionsAsync(st,gt).then(ni,ti),rt},t.prototype.fetchIdentitiesWithInjectionsAsync=function(n,t){return __awaiter(this,void 0,void 0,function(){var i,r,u;return __generator(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,this.identitySearchService];case 1:return i=f.sent(),i&&(r=i.getScopeId(),r&&(t.operationScopes=["ims"],t.options=__assign({ScopeId:r},t.options))),[3,3];case 2:return u=f.sent(),[3,3];case 3:return[2,n.beginGetIdentities(t)]}})})},t.prototype.getIdentityImages=function(n,i){var h=this,l,r,e,o,a,f,s,v,u;if(!n||n.length<=0){l={source:"IdentityService",parameter:"identities",message:"identities null or undefined or empty list"};throw l;}r={};e={};i&&i.httpClient?o=i.httpClient:(a=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),o=a);u=t._getEntityIdsAsQueryTokens(n);u.forEach(function(n){r[n]=y.defer();e[n]=r[n].promise});for(f in r)if(s=this._entityImageRequestAggregator.getPromise(f),s){v=b(this,function(n){s.then(b(h,function(t){r&&r[n]&&r[n].resolve(t)}),b(h,function(t){r&&r[n]&&r[n].reject(t)}))});v(f);u=t._removeQueryToken(f,u);continue}else this._entityImageRequestAggregator.setPromise(f,r[f].promise);return u.length==0?e:(u.forEach(function(n){var t=function(t){var i;t&&t.trim()&&(i={},i[n]=t.trim(),r[n].resolve(i))};o.beginGetIdentityImageLocation(n).then(t)}),e)},t.prototype.getIdentityConnections=function(n,i,r,f,o,s,h){var l,p,a,b,tt,k,it;if(!w.isAuthenticatedMember())return null;if(!n){l={source:"IdentityService",parameter:"identity",message:"identity null or undefined or empty list"};throw l;}if(!i){l={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw l;}if(!r){l={source:"IdentityService",parameter:"identityType",message:"identityType null or undefined"};throw l;}if(!f){l={source:"IdentityService",parameter:"connectionType",message:"connectionType null or undefined"};throw l;}var rt=h?h:1,d=w.getIdentityTypeList(r),g=w.getOperationScopeList(i),nt=w.getConnectionTypeList(f);if(d.length==0||g.length==0||nt.length==0){l={source:"IdentityService",parameter:"identityType or operationScope or connectionType",message:"queried identityType or operationScope or connectionType is/are unsupported"};throw l;}p=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_GetConnections_Rtt);a={};a=w.addScenarioProperties(this,a,i,r,o,s);a[v.TelemetryProperties.entityId]=n.entityId;b=y.defer();tt=b.promise;o&&o.httpClient?k=o.httpClient:(it=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),k=it);var ut=w._defaultProperties.concat(w._defaultUserProperties).concat(w._defaultGroupProperties).concat("Manager"),ft={identityTypes:d,operationScopes:g,connectionTypes:nt,depth:rt,properties:ut},et=function(n){n&&n.successors&&n.successors.forEach(function(n){n.image||(n.image=w.getDefaultIdentityImage(n))});p.addData(a);p.end();b.resolve(n)},ot=function(n){a[v.TelemetryProperties.exceptionData]=t._getExceptionData(n);p.addData(a);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,a));p.end();b.reject(n)};return k.beginGetConnections(n.entityId,ft).then(et,ot),tt},t._getEntityIdsAsQueryTokens=function(n){var t=[];return n.forEach(function(n){(n.entityType.trim().toLowerCase()==w.UserEntity||n.entityType.trim().toLowerCase()==w.GroupEntity)&&t.push(n.entityId)}),t},t.prototype._cacheQueryTokenResult=function(n,t){n.queryToken&&n.queryToken.trim()&&n.identities&&n.identities.length==1&&t&&this._qtrCache.set(t,n)},t._removeQueryToken=function(n,t){var i=-1;return t.some(function(t,r){if(n==t.toLowerCase())return i=r,!0}),i>=0&&t.splice(i,1),t},t._getExceptionData=function(n){return n?n.serverError?n.serverError.typeName:n.name:""},t.getUniqueRequestString=function(n,i,r,u,f){var e=w.getIdentityTypeList(r).join(","),o=w.getOperationScopeList(i).join(",");return(n+";"+o+";"+e+";"+t.getExtensionUniqueRequestString(u)+";"+a.FilterByScope.GetHashCode(f).toString()).trim().toLowerCase()},t.getExtensionUniqueRequestString=function(n){return n?a.CommonHelpers.GetStringHashCode(n.collectionScopeName).toString()+a.CommonHelpers.GetStringHashCode(n.projectScopeName).toString()+a.CommonHelpers.GetStringHashCode(n.extensionId).toString()+a.CommonHelpers.GetStringListHashCode(n.constraints).toString():""},t.MIN_RESULTS=40,t.MAX_RESULTS=40,t}(f.VssService);t.IdentityService=k;d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getMruIdentities=function(n,i,r,f,o){var l,h,p,s,a,k,b,d;if(!w.isAuthenticatedMember())return null;if(!n){s={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw s;}if(i&&i.trim().toLowerCase()!=t.DEFAULT_IDENTITY_ID){s={source:"IdentityService",parameter:"identityId",message:"identityId can only be 'me'"};throw s;}if(i="me",r&&r.trim().toLowerCase()!=t.DEFAULT_FEATURE_ID){s={source:"IdentityService",parameter:"featureId",message:"featureId can only be 'common'"};throw s;}if(r="common",l=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_GetMru_Rtt),h={},h=w.addScenarioProperties(this,h,null,null,f,o),p=w.getOperationScopeList(n),p.length==0){s={source:"IdentityService",parameter:"operationScope",message:"queried operationScope is unsupported"};throw s;}a=y.defer();k=a.promise;f&&f.httpClient?b=f.httpClient:(d=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),b=d);var g=w._defaultProperties.concat(w._defaultUserProperties).concat(w._defaultGroupProperties),nt={operationScopes:p,properties:g,filterByAncestorEntityIds:f&&f.filterByScope?f.filterByScope.filterByAncestorEntityIds:[],filterByEntityIds:f&&f.filterByScope?f.filterByScope.filterByEntityIds:[]},tt=function(n){l.addData(h);l.end();a.resolve(n.mruIdentities)},it=function(n){h[v.TelemetryProperties.exceptionData]=t._getExceptionData(n);l.addData(h);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,h));l.end();a.reject(n)};return b.beginGetIdentityFeatureMru(i,r,nt).then(tt,it),k},t.prototype.removeMruIdentities=function(n,i,r,f,o,s){var a,l,b,h,p,d,k,g;if(!w.isAuthenticatedMember())return null;if(!n||n.length==0){h={source:"IdentityService",parameter:"objectIds",message:"objectIds null or undefined or empty"};throw h;}if(!i){h={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw h;}if(r&&r.trim().toLowerCase()!=t.DEFAULT_IDENTITY_ID){h={source:"IdentityService",parameter:"identityId",message:"identityId can only be 'me'"};throw h;}if(r="me",f&&f.trim().toLowerCase()!=t.DEFAULT_FEATURE_ID){h={source:"IdentityService",parameter:"featureId",message:"featureId can only be 'common'"};throw h;}if(f="common",a=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_RemoveMru_Rtt),l={},l=w.addScenarioProperties(this,l,null,null,o,s),b=w.getOperationScopeList(i),b.length==0){h={source:"IdentityService",parameter:"operationScope",message:"queried operationScope is unsupported"};throw h;}p=y.defer();d=p.promise;o&&o.httpClient?k=o.httpClient:(g=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),k=g);var nt=[{op:"remove",value:n,operationScopes:b}],tt=function(n){a.addData(l);a.end();p.resolve(n.result)},it=function(n){l[v.TelemetryProperties.exceptionData]=t._getExceptionData(n);a.addData(l);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,l));a.end();p.reject(n)};return k.beginPatchIdentityFeatureMru(r,f,nt).then(tt,it),d},t.prototype.addMruIdentities=function(n,i,r,f,o,s){var b,h,a,l,p,d,k,g;if(!w.isAuthenticatedMember())return null;if(!n||n.length==0){h={source:"IdentityService",parameter:"objectIds",message:"objectIds null or undefined or empty"};throw h;}if(!i){h={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw h;}if(r&&r.trim().toLowerCase()!=t.DEFAULT_IDENTITY_ID){h={source:"IdentityService",parameter:"identityId",message:"identityId can only be 'me'"};throw h;}if(r=t.DEFAULT_IDENTITY_ID,f&&f.trim().toLowerCase()!=t.DEFAULT_FEATURE_ID){h={source:"IdentityService",parameter:"featureId",message:"featureId can only be 'common'"};throw h;}if(f=t.DEFAULT_FEATURE_ID,b=w.getOperationScopeList(i),b.length==0){h={source:"IdentityService",parameter:"operationScope",message:"queried operationScope is unsupported"};throw h;}a=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_AddMru_Rtt);l={};l=w.addScenarioProperties(this,l,null,null,o,s);p=y.defer();d=p.promise;o&&o.httpClient?k=o.httpClient:(g=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),k=g);var nt=[{op:"add",value:n,operationScopes:b}],tt=function(n){a.addData(l);a.end();p.resolve(n.result)},it=function(n){l[v.TelemetryProperties.exceptionData]=t._getExceptionData(n);a.addData(l);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,l));a.end();p.reject(n)};return k.beginPatchIdentityFeatureMru(r,f,nt).then(tt,it),d},t._getExceptionData=function(n){return n?n.serverError?n.serverError.typeName:n.name:""},t.DEFAULT_IDENTITY_ID="me",t.DEFAULT_FEATURE_ID="common",t}(f.VssService);t.MruService=d});

/*!
 * jQuery UI Button 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/button",["jquery","./controlgroup","./checkboxradio","./keycode","./widget"],t):t(jQuery)}(function(t){"use strict";var i;return t.widget("ui.button",{version:"1.13.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,i=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(i.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(i.label=this.originalLabel),i},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(i){i.keyCode===t.ui.keyCode.SPACE&&(i.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(i,o){var s="iconPosition"!==i,n=s?this.options.iconPosition:o,e="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,o),this._attachIcon(n),e?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var i=void 0===t.showLabel?this.options.showLabel:t.showLabel,o=void 0===t.icon?this.options.icon:t.icon;i||o||(t.showLabel=!0),this._super(t)},_setOption:function(t,i){"icon"===t&&(i?this._updateIcon(t,i):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,i),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!i),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(i):(this.element.html(i),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,i),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",i),this.element[0].disabled=i,i&&this.element.trigger("blur"))},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,i){"text"!==t?("showLabel"===t&&(this.options.text=i),"icon"===t&&(this.options.icons.primary=i),"icons"===t&&(i.primary?(this._super("icon",i.primary),this._super("iconPosition","beginning")):i.secondary&&(this._super("icon",i.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",i)}}),t.fn.button=(i=t.fn.button,function(o){var s="string"==typeof o,n=Array.prototype.slice.call(arguments,1),e=this;return s?this.length||"instance"!==o?this.each(function(){var i,s=t(this).attr("type"),h="checkbox"!==s&&"radio"!==s?"button":"checkboxradio",a=t.data(this,"ui-"+h);return"instance"===o?(e=a,!1):a?"function"!=typeof a[o]||"_"===o.charAt(0)?t.error("no such method '"+o+"' for button widget instance"):(i=a[o].apply(a,n))!==a&&void 0!==i?(e=i&&i.jquery?e.pushStack(i.get()):i,!1):void 0:t.error("cannot call methods on button prior to initialization; attempted to call method '"+o+"'")}):e=void 0:(n.length&&(o=t.widget.extend.apply(null,[o].concat(n))),this.each(function(){var s=t(this).attr("type"),n="checkbox"!==s&&"radio"!==s?"button":"checkboxradio",e=t.data(this,"ui-"+n);if(e)e.option(o||{}),e._init&&e._init();else{if("button"===n)return void i.call(t(this),o);t(this).checkboxradio(t.extend({icon:!1},o))}})),e}),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button});

/*!
 * jQuery UI Dialog 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(i){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/dialog",["jquery","./button","./draggable","./mouse","./resizable","./focusable","./keycode","./position","./safe-active-element","./safe-blur","./tabbable","./unique-id","./version","./widget"],i):i(jQuery)}(function(i){"use strict";return i.widget("ui.dialog",{version:"1.13.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=i(this).css(t).offset().top;e<0&&i(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&i.fn.draggable&&this._makeDraggable(),this.options.resizable&&i.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?i(t):this.document.find(t||"body").eq(0)},_destroy:function(){var i,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(i=t.parent.children().eq(t.index)).length&&i[0]!==this.element[0]?i.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:i.noop,enable:i.noop,close:function(t){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||i.ui.safeBlur(i.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var o=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+i(this).css("z-index")}).get(),n=Math.max.apply(null,s);return n>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",n+1),o=!0),o&&!e&&this._trigger("focus",t),o},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=i(i.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var i=this._focusedElement;i||(i=this.element.find("[autofocus]")),i.length||(i=this.element.find(":tabbable")),i.length||(i=this.uiDialogButtonPane.find(":tabbable")),i.length||(i=this.uiDialogTitlebarClose.filter(":tabbable")),i.length||(i=this.uiDialog),i.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var t=i.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||i.contains(this.uiDialog[0],t)||this._focusTabbable()},_keepFocus:function(i){i.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=i("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===i.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===i.ui.keyCode.TAB&&!t.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),o=e.first(),s=e.last();t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==o[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){s.trigger("focus")}),t.preventDefault()):(this._delay(function(){o.trigger("focus")}),t.preventDefault())}},mousedown:function(i){this._moveToTop(i)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=i("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){i(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=i("<button type='button'></button>").button({label:i("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(i){i.preventDefault(),this.close(i)}}),t=i("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(i){this.options.title?i.text(this.options.title):i.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=i("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=i("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),i.isEmptyObject(e)||Array.isArray(e)&&!e.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(i.each(e,function(e,o){var s,n;o="function"==typeof o?{click:o,text:e}:o,o=i.extend({type:"button"},o),s=o.click,n={icon:o.icon,iconPosition:o.iconPosition,showLabel:o.showLabel,icons:o.icons,text:o.text},delete o.click,delete o.icon,delete o.iconPosition,delete o.showLabel,delete o.icons,"boolean"==typeof o.text&&delete o.text,i("<button></button>",o).button(n).appendTo(t.uiButtonSet).on("click",function(){s.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,e=this.options;function o(i){return{position:i.position,offset:i.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,s){t._addClass(i(this),"ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",e,o(s))},drag:function(i,e){t._trigger("drag",i,o(e))},stop:function(s,n){var a=n.offset.left-t.document.scrollLeft(),l=n.offset.top-t.document.scrollTop();e.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:t.window},t._removeClass(i(this),"ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",s,o(n))}})},_makeResizable:function(){var t=this,e=this.options,o=e.resizable,s=this.uiDialog.css("position"),n="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";function a(i){return{originalPosition:i.originalPosition,originalSize:i.originalSize,position:i.position,size:i.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:this._minHeight(),handles:n,start:function(e,o){t._addClass(i(this),"ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",e,a(o))},resize:function(i,e){t._trigger("resize",i,a(e))},stop:function(o,s){var n=t.uiDialog.offset(),l=n.left-t.document.scrollLeft(),h=n.top-t.document.scrollTop();e.height=t.uiDialog.height(),e.width=t.uiDialog.width(),e.position={my:"left top",at:"left"+(l>=0?"+":"")+l+" top"+(h>=0?"+":"")+h,of:t.window},t._removeClass(i(this),"ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",o,a(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=i(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=i.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var i=this.document.data("ui-dialog-instances");return i||(i=[],this.document.data("ui-dialog-instances",i)),i},_minHeight:function(){var i=this.options;return"auto"===i.height?i.minHeight:Math.min(i.minHeight,i.height)},_position:function(){var i=this.uiDialog.is(":visible");i||this.uiDialog.show(),this.uiDialog.position(this.options.position),i||this.uiDialog.hide()},_setOptions:function(t){var e=this,o=!1,s={};i.each(t,function(i,t){e._setOption(i,t),i in e.sizeRelatedOptions&&(o=!0),i in e.resizableRelatedOptions&&(s[i]=t)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,e){var o,s,n=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:i("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((o=n.is(":data(ui-draggable)"))&&!e&&n.draggable("destroy"),!o&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((s=n.is(":data(ui-resizable)"))&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var i,t,e,o=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),o.minWidth>o.width&&(o.width=o.minWidth),i=this.uiDialog.css({height:"auto",width:o.width}).outerHeight(),t=Math.max(0,o.minHeight-i),e="number"==typeof o.maxHeight?Math.max(0,o.maxHeight-i):"none","auto"===o.height?this.element.css({minHeight:t,maxHeight:e,height:"auto"}):this.element.height(Math.max(0,o.height-i)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=i(this);return i("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!i(t.target).closest(".ui-dialog").length||!!i(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=i.fn.jquery.substring(0,4),e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(i){if(!e){var o=this._trackingInstances()[0];o._allowInteraction(i)||(i.preventDefault(),o._focusTabbable(),"3.4."!==t&&"3.5."!==t||o._delay(o._restoreTabbableFocus))}}.bind(this)),this.overlay=i("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var i=this.document.data("ui-dialog-overlays")-1;i?this.document.data("ui-dialog-overlays",i):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==i.uiBackCompat&&i.widget("ui.dialog",i.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(i,t){"dialogClass"===i&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),i.ui.dialog});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Identities/Picker/Controls",["require","exports","react","react-dom","VSS/Controls/PopupContent","VSS/FeatureAvailability/Services","VSS/Common/Constants/Platform","VSS/Context","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Identities/Picker/Common","VSS/Identities/Picker/Constants","VSS/Identities/Picker/Services","VSS/Identities/Picker/Cache","VSS/Controls/Notifications","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Controls/StatusIndicator","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/Telemetry/Services","VSS/VSS","q","jQueryUI/button","jQueryUI/dialog","jQueryUI/tabbable"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){var lt,wt,dt,st,pt,kt,gt,ft,at,ni,bt,yt,ti,ii;Object.defineProperty(t,"__esModule",{value:!0});t.EntityOperationsFacade=t.SourceType=t.SourceId=t.EntityFactory=t.IdentityDisplayControl=t.EDisplayControlType=t.IdentityPickerControlSize=t.IdentityPickerSearchControl=t.IdCardDialog=t.IdentityPickerDropdownControl=void 0;var fi=nt.domElem,ut=d.delegate,ot=nt.KeyCode,ht;(function(n){n[n.SelectNone=-1]="SelectNone";n[n.SelectFirstItem=0]="SelectFirstItem"})(ht||(ht={}));lt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._numItemsDisplayed=0,i._scrollTimeout=100,i._loadOnCreate=!1,i._isFiltered=!0,i._isRepositioning=!1,"eventOptions"in t&&t.eventOptions||(t.eventOptions={uniqueId:ft.getRandomString()}),i.initializeOptionsInternal(t),i}return __extends(t,n),t.prototype.initializeOptionsInternal=function(n){this._identityType=n.identityType?n.identityType:{User:!0};this._operationScope=n.operationScope?n.operationScope:{IMS:!0};this._size=n.size!==null&&n.size!==undefined?n.size:st.Large;this._options.getFilterByScope||(this._options.getFilterByScope=function(){return null});this._showContactCard=this._options.showContactCard;this._displayedEntities=[];this._showOnlyMruIdentities=!1;this._enableDirectorySearch();this._options.showMru&&this._disableDirectorySearch();this._isSearchActive=!1;this._preDropdownRender=n.preDropdownRender?n.preDropdownRender:null;this._onDirectorySearchFinished=n.onDirectorySearchFinished?n.onDirectorySearchFinished:null;this._loadOnCreate=n.loadOnCreate?n.loadOnCreate:!1;this._elementAlign=this._options.alignment&&this._options.alignment.elementAlign?this._options.alignment.elementAlign:"left-top";this._baseAlign=this._options.alignment&&this._options.alignment.baseAlign?this._options.alignment.baseAlign:"left-bottom";this._positioningElement=this._options.alignment&&this._options.alignment.positioningElement?this._options.alignment.positioningElement:null;this._prefix="";v.ServiceHelpers.isAuthenticatedMember()||(this._showContactCard=!1,this._disableDirectorySearch(),this._options.showMru=!1,this._loadOnCreate=!1);this._controlLoaded=null;this._loadOnCreate&&this.load();n.eventOptions&&(this._eventOptions=n.eventOptions)},t.prototype.initializeOptions=function(i){var r=t.DROPDOWN_BASE_CLASS+" "+ft.FIXED_POSTIION_CLASS;n.prototype.initializeOptions.call(this,$.extend({coreCssClass:r,pageSize:i.pageSize?i.pageSize:10},i))},t.prototype.initialize=function(){var i=this,r,u,f;n.prototype.initialize.call(this);r=function(n){n.preventDefault()};this._element.on("mousedown.identityPickerDropdown",ut(this,r));u=function(){return i._scrollTimeout!==null&&(clearTimeout(i._scrollTimeout),i._scrollTimeout=null),i._scrollTimeout=window.setTimeout(ut(i,i._loadNextPage),100),!1};this._options.smallScreenRender&&(this._$suggestedPeople=$("<div/>").addClass("search"),$("<span/>").addClass("status-message").text(w.IdentityPicker_SuggestedPeople).appendTo(this._$suggestedPeople),this._$suggestedPeople.appendTo(this._element));f=this._options.useRemainingSpace?"":Math.min((ft.getSizePx(this._size)+t.IMAGE_MARGINS_PX)*this._options.pageSize-10,t.MAX_HEIGHT)+"px";this._$itemsContainer=$("<ul/>").addClass("items").attr({role:"listbox",id:s.getId().toString(),"aria-label":w.IdentityPicker_AriaLabel}).css({"max-height":f});this._$liveStatus=$("<div/>").addClass("visually-hidden").attr("aria-live","polite");this._element.append(this._$itemsContainer).append(this._$liveStatus);this._$itemsContainer.scroll(ut(this,u))},t.prototype.getItemsListId=function(){return this._$itemsContainer.length?this._$itemsContainer.attr("id"):""},t.prototype.load=function(){return this._getEntityOperationsFacade().load({loadMru:this._options.showMru,filterByScope:this._options.getFilterByScope()})},t.prototype.addIdentitiesToMru=function(n){var r=this,i;if(v.ServiceHelpers.isAuthenticatedMember())try{if(!n||n.length==0)return;if(i=n.filter(function(n){if(!at.isStringPrefixedLocalId(n))return!0}),!i||i.length==0)return;var u=function(n){r._element&&n==!0&&r._getEntityOperationsFacade().refreshUserMru(r._options.getFilterByScope())},f=function(){},e=b.getService(v.MruService);e.addMruIdentities(i,{IMS:!0},v.MruService.DEFAULT_IDENTITY_ID,v.MruService.DEFAULT_FEATURE_ID,{httpClient:this._options.httpClient},{consumerId:this._options.consumerId}).then(u,f);this._disableDirectorySearch()}catch(t){if(t!==Object(t)||!("source"in t)||t.source!="MruService")throw t;}},t.prototype.isVisible=function(){return this._isVisible},t.prototype.isFiltered=function(){return this._isVisible&&this._isFiltered},t.prototype.showAllMruIdentities=function(n){var t=this,i;if(n===void 0&&(n=!0),!this._options.showMru){i={source:"showAllMruIdentities",message:"The showMru option needs to be enabled to call showAllMruIdentities"};throw i;}return this.load().then(ut(this,function(){return t._getUserMruEntitiesPostLoad(n)}),ut(this,function(){return t._getUserMruEntitiesPostLoad(n)}))},t.prototype.getIdentities=function(n,t){var i=this;return t===void 0&&(t=!0),this.load().then(ut(this,function(){return i._getIdentitiesPostLoad(n,t)}),ut(this,function(){return i._getIdentitiesPostLoad(n,t)}))},t.prototype.show=function(){var n=this;this.load().then(ut(this,function(){n._showPostLoad()}),ut(this,function(){n._showPostLoad()}))},t.prototype.hide=function(n,i){var r=this,u;if(i===void 0&&(i=!1),this._isVisible=!1,this._element&&(this._element.hide(),this._element.parents().off(".identityPickerDropdown"),["scroll","resize"].map(function(n){document.removeEventListener(n,ut(r,r._handleScrollAndResize))}),this._isRepositioning=!1),!i&&this._options.onHide)this._options.onHide(n);u={uniqueId:this._eventOptions?this._eventOptions.uniqueId:null};c.getService().fire(t.HIDE_DROPDOWN_EVENT_INTERNAL,u)},t.prototype.getSelectedIndex=function(){return this._selectedIndex==-1?null:this._selectedIndex<this._displayedEntities.length-1?this._selectedIndex:this._displayedEntities.length-1},t.prototype.getSelectedItem=function(){return this._selectedIndex==-1||this._selectedIndex>this._displayedEntities.length-1?null:this._displayedEntities[this._selectedIndex]},t.prototype.handleKeyEvent=function(n){if(!n||!n.keyCode)return!0;switch(n.keyCode){case ot.UP:return this.isVisible()?this._prevItem():!0;case ot.DOWN:return this.isVisible()?this._nextItem():(this.show(),!0);case ot.PAGE_UP:return this.isVisible()?this._prevPage():!0;case ot.PAGE_DOWN:return this.isVisible()?this._nextPage():!0;case ot.ENTER:return this.isVisible()&&this._searchButtonClickDelegate(),!0;case ot.ESCAPE:return this.isVisible()?(this.hide(n),n.stopPropagation(),!1):!0;case ot.RIGHT:return this.isVisible()&&this._showContactCard&&this._selectedIndex!=-1?(n.stopPropagation(),$(".identity-picker-contact-card-icon",this._indexedEntityMap[this._selectedIndex]).click(),!1):!0;case ot.DELETE:if(this.isVisible()&&this._options.showMru){var t=this.getSelectedItem();return t&&t.isMru&&et.isDirectoryEntityType(t)?(n.stopPropagation(),$(".identity-picker-delete-icon",this._indexedEntityMap[this._selectedIndex]).click(),!1):!0}return!0;default:return!0}},t.prototype.getPrefix=function(){return this._prefix},t.prototype.updatePrefix=function(n){this._prefix=n?n.toLowerCase().trim():"";this._prefix||(this._isSearchActive=!1,this._disableDirectorySearch())},t.prototype.dispose=function(){this._element&&(this._element.off(".identityPickerDropdown"),this._element.parents().off(".identityPickerDropdown"));n.prototype.dispose.call(this)},t.prototype.reset=function(){this._resetSearchStatuses();this._prefix="";this._enableDirectorySearch();this._displayedEntities=[];this._alterStateAndRender(!1,!1);this._disableDirectorySearch()},t.getClassSelector=function(n){return"."+n},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=b.getService(yt)),this._entityOperationsFacade},t.prototype._getUserMruEntitiesPostLoad=function(n){var t=this;return n===void 0&&(n=!0),this._isFiltered=!1,this._showOnlyMruIdentities=!0,this._isDropdownVisibleInitially=this._isVisible,this._getEntityOperationsFacade().isUserMruReady(this._options.getFilterByScope())||this._alterStateAndRender(!0,!1,n),this.load().then(ut(this,function(){return t.getIdentities(t._prefix,n)}))},t.prototype._enableDirectorySearch=function(){this._isDirectorySearchEnabled=!0},t.prototype._disableDirectorySearch=function(){this._isDirectorySearchEnabled=!1},t.prototype._resetSearchStatuses=function(){this._isSearchActive=!1;this._disableDirectorySearch()},t.prototype._getIdentitiesPostLoad=function(n,t){var i,r;return(t===void 0&&(t=!0),i=rt.defer(),!this._element)?(i.reject(null),i.promise):(this._showLoading(),this._isDropdownVisibleInitially=this._isVisible,this._isSearchActive=!1,this._displayedEntities=[],this._options.showMru&&(this._mruEntities=this._getEntityOperationsFacade().getMruEntitiesUnchecked(this._options.getFilterByScope()),r=v.ServiceHelpers.getIdentityTypeList(this._identityType),this._mruEntities=this._mruEntities.filter(function(n){return r.indexOf(n.entityType.trim().toLowerCase())>=0})),(!n||n.trim().length===0)&&!this._options.smallScreenRender&&(this._resetSearchStatuses(),!this._showOnlyMruIdentities))?(this._prefix=n,this._enableDirectorySearch(),this._alterStateAndRender(!0,!0),this._disableDirectorySearch(),i.resolve([]),i.promise):(n=n.toLowerCase().trim(),this._prefix=n,this._showOnlyMruIdentities)?(this._displayedEntities=this._mruEntities?this._mruEntities:[],this._alterStateAndRender(!1,!1,t),this._showOnlyMruIdentities=!1,this._getImagesForDisplayedEntities(),i.resolve(this._displayedEntities),i.promise):(this._options.showMru&&(this._displayedEntities=yt.filterEntities(this._mruEntities,n)),this._isFiltered=!0,this._options.showMru&&!this._isDirectorySearchEnabled)?(this._alterStateAndRender(!0,!1,t),this._getImagesForDisplayedEntities(),i.resolve(this._displayedEntities),i.promise):this._getDirectoryEntitiesWithRender(n,i)},t.prototype._getDirectoryEntitiesWithRender=function(n,t){return this._isSearchActive=!0,this._alterStateAndRender(!0),this._getDirectoryEntities(n,t)},t.prototype._checkIfServerException=function(n){return!n||!("serverError"in n)||!n.serverError||!("typeKey"in n.serverError)?!1:!0},t.prototype._getMessageForIpsAuthorizationException=function(n){if(n.serverError.typeKey.trim()=="IdentityPickerAuthorizationException"&&n.serverError.customProperties!=null){var i=n.serverError.customProperties.identityPickerAuthorizationExceptionType,t=w.IdentityPicker_ErrorAuthorizationException;return i==kt.IsGuestUser&&(t=w.IdentityPicker_GuestUserException),t}return null},t.prototype._getDirectoryEntities=function(n,i,r){var u=this,s,c;r===void 0&&(r=!1);var f=function(t){u._element&&(u._isSearchActive=!1,n===u._prefix&&n.length>=1&&(u._displayedEntities=t?t.identities:[],u._alterStateAndRender(!0)),u._onDirectorySearchFinished&&u._onDirectorySearchFinished(u._displayedEntities,n),i.resolve(u._displayedEntities))},e=function(r){if(r&&h.logError("_getDirectoryEntities/getIdentitiesErrorCallback:"+JSON.stringify(r)),n===u._prefix)if(u._checkIfServerException(r)){var f=u._getMessageForIpsAuthorizationException(r);f&&u._showError($("<span/>").text(f+" [").append($("<a><\/a>").attr("href",t.IP_AUTHORIZATION_EXCEPTION_DETAILS_LINK).text(w.IdentityPicker_ErrorMoreDetails).attr("target","_blank")).append($("<span/>").text("]")))}else u._showError(w.IdentityPicker_ErrorLoadingIdentities);u._isSearchActive=!1;i.reject(r?r:null)},o=this._options.getFilterByScope();return l.FilterByScope.isFilterByScopeEmpty(o)?f(null):(s={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:a.ConsumerId.UnknownConsumer},prefix:n,sources:this._options.showMru?[ct.Directory,ct.Mru]:[ct.Directory],filterByScope:o},c=this._getEntityOperationsFacade().search(s).then(function(n){for(var t in n.queryTokenResponse)n.queryTokenResponse[t].then(ut(u,f),ut(u,e))},e)),i.promise},t.prototype._getImagesForDisplayedEntities=function(){var n=this,i=function(i){if(n._element){if(!i)return;n._displayedEntities.forEach(ut(n,function(r){i.hasOwnProperty(r.entityId)&&i[r.entityId]&&(r.image=i[r.entityId],$(t.getClassSelector(t.AVATAR_CLASS),n._$itemsContainer).each(function(n,t){t.hasAttribute("data-objectid")&&t.getAttribute("data-objectid")===r.entityId&&t.setAttribute("src",i[r.entityId])}))}))}},r=function(n){n&&h.logError("_getImagesForDisplayedEntities/getIdentityImagesErrorCallback:"+JSON.stringify(n))},u={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:a.ConsumerId.UnknownConsumer},sources:[ct.Directory]};this._getEntityOperationsFacade().getImagesForEntities(this._displayedEntities,u).then(i,r)},t.prototype._showPostLoad=function(){var n=this,i;if(this._element){this._isVisible=!0;this._element.show();this._setPosition();this._element.parents().on("scroll.identityPickerDropdown resize.identityPickerDropdown",ut(this,this._handleScrollAndResize));["scroll","resize"].map(function(t){document.addEventListener(t,ut(n,n._handleScrollAndResize))});this._isRepositioning=!1;i={uniqueId:this._eventOptions?this._eventOptions.uniqueId:null};c.getService().fire(t.SHOW_DROPDOWN_EVENT_INTERNAL,i)}},t.prototype._handleScrollAndResize=function(){var n=this;this._isRepositioning||(this._isRepositioning=!0,d.delay(this,500,ut(this,function(){n._isRepositioning=!1;n._setPosition()})))},t.prototype._constructDropdown=function(n,t,i){n===void 0&&(n=!1);t===void 0&&(t=!0);i===void 0&&(i=!0);this._indexedEntityMap={};t&&this._setupDom();n?this._setSelectedIndex(this._selectedIndex<this._displayedEntities.length?this._selectedIndex:this._isSearchActive?this._displayedEntities.length-1:-1,!0,nt.Positioning.VerticalScrollBehavior.Top):(this._selectedIndex=ht.SelectNone,i&&this._numItemsDisplayed>0?this._setSelectedIndex(ht.SelectFirstItem,!1):this._setSelectedIndex(ht.SelectNone,!1))},t.prototype._removeIdentityFromMru=function(n){var i=this;try{if(at.isStringPrefixedLocalId(n))return;var r=function(n){i._element&&n==!0&&i._getEntityOperationsFacade().refreshUserMru(i._options.getFilterByScope())},u=function(){},f=b.getService(v.MruService);f.removeMruIdentities([n],{IMS:!0},v.MruService.DEFAULT_IDENTITY_ID,v.MruService.DEFAULT_FEATURE_ID,{httpClient:this._options.httpClient},{consumerId:this._options.consumerId}).then(r,u);this._disableDirectorySearch()}catch(t){if(t!==Object(t)||!("source"in t)||t.source!="MruService")throw t;}},t.prototype._alterStateAndRender=function(n,t,i){if(t===void 0&&(t=!1),i===void 0&&(i=!0),this._element){if(n||this.hide(void 0,!0),this._prefix&&this._prefix.trim().length!=0||(this._isSearchActive=!1),this._displayedEntities=this._displayedEntities||[],this._preDropdownRender&&(this._displayedEntities=this._preDropdownRender(this._displayedEntities,this._isDirectorySearchEnabled)),this._constructDropdown(t,!0,i),!this._isSearchActive&&!this._prefix&&this._displayedEntities.length==0){this.hide();return}n&&(!this._isDropdownVisibleInitially||this._isVisible)&&this.show()}},t.prototype._fireActiveDescendantUpdate=function(n){var i={activeDescendantId:n,uniqueId:this._eventOptions?this._eventOptions.uniqueId:null};c.getService().fire(t.UPDATE_ACTIVE_DESCENDANT_ID,i)},t.prototype._setSelectedIndex=function(n,t,i){i===void 0&&(i=nt.Positioning.VerticalScrollBehavior.Bottom);var r=n!==null&&n!==undefined&&this._indexedEntityMap&&this._indexedEntityMap[n]&&(this._selectedIndex!==n||!this._indexedEntityMap[this._selectedIndex].hasClass("selected"));r?(this._selectedIndex=n,this._clearItemsSelection(this._element.find(".search")),this._clearItemsSelection(this._$itemsContainer.find("li")),this._selectItem(this._indexedEntityMap[this._selectedIndex]),t&&this._scrollItemIntoView(this._selectedIndex,i)):isNaN(n)||(this._selectedIndex=n)},t.prototype._scrollItemIntoView=function(n,t){n!==null&&n!==undefined&&nt.Positioning.scrollIntoViewVertical(this._indexedEntityMap[n],t)},t.prototype._setPosition=function(){var n,i,r,u,e,f,o;this._element&&(n=this._getPositioningElement(),this._options.width?this._element.width(this._options.width):(i=n.outerWidth()-t.DROPDOWN_BORDER_PX,this._element.width(i<t.MIN_WIDTH?t.MIN_WIDTH:i)),n.is(":visible")&&nt.Positioning.position(this.getElement(),n,{elementAlign:this._elementAlign,baseAlign:this._baseAlign,overflow:"fit-flip"}),r=$(window),u=this._element.offset().top+this._element.height()-r.height()-r.scrollTop(),u>0&&(e=parseInt(this._$itemsContainer.css("max-height")),this._$itemsContainer.css("max-height",e-u+"px")),this._options.useRemainingSpace&&(this._element.width(""),this._element.css("left",""),this._element.addClass("use-remaining-space"),f=this._element.position().top,o="calc(100% - "+f+"px)",this._element.css("max-height",o),this._element.css("top",f+"px")),this._options.smallScreenRender&&this._element.addClass("small-screen"))},t.prototype._getPositioningElement=function(){var n=this._positioningElement;return typeof n=="function"&&(n=n()),n||(n=this.getElement().parent()),n},t.prototype._showLoading=function(){this._$liveStatus.detach();this._$itemsContainer.detach();this._element.empty();this._$liveStatus.appendTo(this._element);this._$liveStatus.text(w.IdentityPicker_LoadingIdentities);this._$itemsContainer.empty().attr("aria-busy","true").appendTo(this._element);var n=$("<div/>").addClass("search").appendTo(this._element),t=s.BaseControl.createIn(k.StatusIndicator,n,{center:!1,message:w.IdentityPicker_LoadingIdentities});t.start()},t.prototype._showError=function(n){var t=typeof n=="string"||n instanceof String?$("<span/>").text(n):n,i,r;this._$liveStatus.text(t.text());i=$(".search",this._element).empty().addClass("search-error");r=s.BaseControl.createIn(p.MessageAreaControl,i,{closeable:!1,message:{header:t,type:p.MessageAreaType.Error},showIcon:!1})},t.prototype._nextPage=function(){var n=-1;return this._loadNextPage(!0),this._selectedIndex<this._displayedEntities.length-1&&this._selectedIndex!==-1&&(n=this._selectedIndex+this._options.pageSize),this._setSelectedIndex(n<this._displayedEntities.length?n:this._displayedEntities.length-1,!0,nt.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._prevPage=function(){var n=0;return this._selectedIndex===-1?n=this._displayedEntities.length-this._options.pageSize:this._selectedIndex>0&&(n=this._selectedIndex-this._options.pageSize),this._setSelectedIndex(n>=0?n:ht.SelectFirstItem,!0,nt.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._nextItem=function(){if(this._selectedIndex===this._displayedEntities.length-1){var n=this._element.find(".search");n.is(":visible")?(this._selectedIndex=ht.SelectNone,this._clearItemsSelection(this._$itemsContainer.find("li")),this._selectItem(n)):this._setSelectedIndex(ht.SelectFirstItem,!0)}else this._selectedIndex<this._displayedEntities.length-1&&this._setSelectedIndex(this._selectedIndex+1,!0);return!1},t.prototype._prevItem=function(){return this._selectedIndex===-1&&this._displayedEntities&&this._displayedEntities.length?(this._clearItemsSelection(this._element.find(".search")),this._setSelectedIndex(this._displayedEntities.length-1,!0)):this._selectedIndex>0&&this._setSelectedIndex(this._selectedIndex-1,!0,nt.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._selectItem=function(n){var t=n.attr("id")?n.attr("id"):s.getId().toString();n.addClass("selected").attr({id:t,"aria-selected":"true"});this._fireActiveDescendantUpdate(t)},t.prototype._clearItemsSelection=function(n){n.removeClass("selected").attr("aria-selected","false")},t.prototype._createItem=function(n){var t=this,r={deleteIconClickDelegate:ut(this,function(n,i){var r=t._mruEntities.indexOf(n);r>=0&&t._mruEntities.splice(r,1);r=t._displayedEntities.indexOf(n);r>=0&&t._displayedEntities.splice(r,1);i.remove();n.localId&&n.localId.trim()&&t._removeIdentityFromMru(n.localId);t._numItemsDisplayed=Math.min(t._displayedEntities.length,Math.max(t._options.pageSize,t._numItemsDisplayed));t._$searchResultStatus.remove();t._$searchResultStatus=t._constructSearchResultStatus();t._showAdditionalInformation()}),entityListItemClickDelegate:ut(this,function(n){if(t._logSelectedEntity(n),typeof t._options.onItemSelect=="function")t._options.onItemSelect(n)})},u={operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient?this._options.httpClient:null},f={consumerId:this._options.consumerId},e=this._displayedEntities[n],i=(new ui).withIdentityServiceOptions(u).withIdentityExtensionOptions(f).withPrefix(this._prefix&&this._prefix.trim()&&!this._showOnlyMruIdentities?this._prefix:"").withEntity(e).forControlOfSize(this._size).registerCallbacks(r).withContactCard(this._showContactCard,this._options.focusElementOnContactCardClose).withHoverSupport(!this._options.useRemainingSpace).withSmallScreenRender(this._options.smallScreenRender).withDialogAppendTo(this._options.dialogAppendTo).build();return this._indexedEntityMap[n]=i,i},t.prototype._logSelectedEntity=function(n){var r=!1,u=!1,i,t,f;try{i=a.Telemetry.Feature_DropdownControl;(n.originDirectory.toLowerCase().trim()==v.ServiceHelpers.VisualStudioDirectory||n.localDirectory.toLowerCase().trim()==v.ServiceHelpers.VisualStudioDirectory)&&(r=!0);n.isMru&&(u=!0);this._prefix?this._options.showMru?i=this._isDirectorySearchEnabled?a.Telemetry.Feature_Select_Mru_Dir:a.Telemetry.Feature_Select_Mru_Prefix:this._isDirectorySearchEnabled&&(i=a.Telemetry.Feature_Select_Dir):this._options.showMru&&(i=a.Telemetry.Feature_Select_Mru_NoPrefix);t={};t[a.TelemetryProperties.prefixType]=v.ServiceHelpers.getPrefixTypeForTelemetry(this._prefix);t[a.TelemetryProperties.prefixLength]=this._prefix.length;t[a.TelemetryProperties.consumerId]=this._options&&this._options.consumerId?this._options.consumerId:null;t[a.TelemetryProperties.extensionId]=this._options&&this._options.extensionData&&this._options.extensionData.extensionId?this._options.extensionData.extensionId:null;t[a.TelemetryProperties.identityTypes]=v.ServiceHelpers.getIdentityTypeList(this._options.identityType);t[a.TelemetryProperties.operationScopes]=v.ServiceHelpers.getOperationScopeList(this._options.operationScope);t[a.TelemetryProperties.isMru]=u;t[a.TelemetryProperties.isNonMaterialized]=!r;t[a.TelemetryProperties.maxResults]=this._options&&this._options.maxResults?this._options.maxResults:v.IdentityService.MAX_RESULTS;t[a.TelemetryProperties.minResults]=this._options&&this._options.minResults?this._options.minResults:v.IdentityService.MIN_RESULTS;t[a.TelemetryProperties.entityId]=n.entityType.toLowerCase().trim()==at.STRING_ENTITY_TYPE?at.STRING_ENTITY_TYPE:n.entityId;t[a.TelemetryProperties.consumerId]=this._options.consumerId;f=b.getService(v.IdentityService);t=v.ServiceHelpers.addScenarioProperties(b.getService(v.IdentityService),t);tt.publishEvent(new tt.TelemetryEventData(a.Telemetry.Area,i,t))}catch(e){}},t.prototype._setupDom=function(){var n,t,i;this._$liveStatus.text("").detach();this._$itemsContainer.empty().removeAttr("aria-busy").detach();this._element.empty();this._$liveStatus.appendTo(this._element);this._setupEntitiesInDom();n=!1;!this._isDirectorySearchEnabled&&this._options.showMru&&this._prefix&&!this._showOnlyMruIdentities&&(t=this._constructSearchButton().appendTo(this._element),this._$itemsContainer.attr("aria-owns",t.attr("id")),n=!0,this._displayedEntities&&this._displayedEntities.length||(this._selectedIndex=ht.SelectNone,this._selectItem(t)));this._displayedEntities&&this._displayedEntities.length>0&&(this._$searchResultStatus=this._constructSearchResultStatus());n&&(i=this._$liveStatus.text(),this._$liveStatus.text((i?i+". ":"")+w.IdentityPicker_SearchButtonShownInDropdown));this._showAdditionalInformation()},t.prototype._showAdditionalInformation=function(){this._displayedEntities.length===0&&(this._isSearchActive||this._options.showMru&&!this._getEntityOperationsFacade().isUserMruReady(this._options.getFilterByScope())?this._showLoading():(!this._options.showMru||this._isDirectorySearchEnabled&&this._prefix||this._showOnlyMruIdentities)&&(this._$liveStatus.text(w.IdentityPicker_NoResult),(this._options.showNoIdentitiesFound||this._options.showNoIdentitiesFound===undefined||this._options.showNoIdentitiesFound===null)&&this._constructInformativeMessage(w.IdentityPicker_NoResult).appendTo(this._element)));this._$suggestedPeople&&(this._displayedEntities.length>0?this._$suggestedPeople.show():this._$suggestedPeople.hide())},t.prototype._setupEntitiesInDom=function(){var n,i;if(this._options.smallScreenRender&&this._$suggestedPeople.appendTo(this._element),this._$itemsContainer.empty().appendTo(this._element),this._displayedEntities.length==0)this._numItemsDisplayed=0;else for(this._numItemsDisplayed=Math.min(this._displayedEntities.length,Math.max(this._options.pageSize,this._numItemsDisplayed)),n=0;n<this._numItemsDisplayed;n++)n>this._displayedEntities.length-1||(i=this._createItem(n),i&&(this._$itemsContainer.append(i),this._options.smallScreenRender||i.height(i.height()+t.IMAGE_MARGINS_PX)))},t.prototype._constructSearchResultStatus=function(){var n=$("<div/>").addClass("search-result-status").appendTo(this._element),t,i;return this._displayedEntities.length==1&&this._numItemsDisplayed==this._displayedEntities.length?(t=g.format(w.IdentityPicker_SingleResultStatus,this._displayedEntities.length),this._$liveStatus.text(t),n.text(t)):this._displayedEntities.length>1&&this._numItemsDisplayed<=this._displayedEntities.length?(i=g.format(w.IdentityPicker_MultipleResultStatus,this._displayedEntities.length),this._$liveStatus.text(i),n.text(i)):n.hide(),n},t.prototype._constructSearchButton=function(){var n=$("<div/>").addClass("search").attr({role:"button option","aria-label":w.IdentityPicker_SearchButtonLabel,tabindex:"0",id:s.getId().toString()}),t=$("<span/>").addClass("bowtie-icon bowtie-search identity-picker-search-icon"),i=$("<span/>").addClass("status-message").text(w.IdentityPicker_SearchButton);return n.append(t).append(i),n.click(ut(this,this._searchButtonClickDelegate)),n},t.prototype._constructInformativeMessage=function(n){return $("<div/>").addClass("no-result").append($("<span/>").addClass("status-message").text(n).attr("role","alert"))},t.prototype._loadNextPage=function(n){var u,r,i;if(n===void 0&&(n=!1),u=this._$itemsContainer.scrollTop()+this._$itemsContainer.outerHeight()>=this._$itemsContainer[0].scrollHeight-5,n||u){for(r=this._numItemsDisplayed;r<this._numItemsDisplayed+Math.min(this._displayedEntities.length-this._numItemsDisplayed,this._options.pageSize);r++)i=this._createItem(r),i&&(this._$itemsContainer.append(i),i.height(i.height()+t.IMAGE_MARGINS_PX));this._numItemsDisplayed+=Math.min(this._displayedEntities.length-this._numItemsDisplayed,this._options.pageSize);this._$searchResultStatus.remove();this._$searchResultStatus=this._constructSearchResultStatus()}this._scrollTimeout!==null&&(clearTimeout(this._scrollTimeout),this._scrollTimeout=null)},t.prototype._searchButtonClickDelegate=function(){this._enableDirectorySearch();this.getIdentities(this._prefix)},t.SHOW_DROPDOWN_EVENT_INTERNAL="identity-picker-dropdown-show",t.HIDE_DROPDOWN_EVENT_INTERNAL="identity-picker-dropdown-hide",t.UPDATE_ACTIVE_DESCENDANT_ID="identity-picker-dropdown-update-active-descendant-id",t.DROPDOWN_BASE_CLASS="identity-picker-dropdown",t.IMAGE_MARGINS_PX=8,t.MIN_WIDTH=300,t.MAX_HEIGHT=240,t.DROPDOWN_BORDER_PX=2,t.IP_AUTHORIZATION_EXCEPTION_DETAILS_LINK="https://aka.ms/c0eo4d",t.AVATAR_CLASS="identity-picture",t}(s.Control);t.IdentityPickerDropdownControl=lt;wt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._scrollTimeout=100,i._pageSize=10,i._selectedIndex=ht.SelectNone,i._identityType=t.identityType?t.identityType:{User:!0},i._operationScope=t.operationScope?t.operationScope:{IMS:!0},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:402,height:70,resizable:!1,modal:!1,draggable:!0,autoOpen:!0,closeOnEscape:!1,cssClass:"idcard-dialog-content",closeText:w.CloseButtonLabelText},t))},t.prototype.initialize=function(){var u,i,f,e;n.prototype.initialize.call(this);this._previousFocusedElement=$(document.activeElement);this._element.dialog(this._options);this._$idCardDialog=this._element.closest(t.JQUERY_UI_DIALOG_CLASS).addClass("idcard-dialog").attr("visibility","hidden");this._$idCardDialog.on("dialogclose.contactCard",ut(this,this._onIdCardClose));this._$idCardDialog.on("keydown.contactCard",ut(this,this._onKeyDown));if(this._$idCardDialog.css("z-index",t._getHigherZIndex("div"+t.JQUERY_UI_DIALOG_CLASS)),$(".ui-icon-closethick",this._$idCardDialog).addClass("bowtie-icon bowtie-navigate-close"),this._repositionDialog(),this._$idCardDialog.hide(),$(".ui-dialog-content",$(".idcard-dialog:visible")).dialog("close"),u=$(".cards-container"),u.length>0&&r.unmountComponentAtNode(u[0]),this._$idCardDialog.attr("id",t.ID_CARD_DIALOG_ID),this._options.identity){if(i=this._options.identity,!et.isDirectoryEntityType(i)){f={source:"IdCardDialog initialize",message:"The IdCardDialog can only be initialized with a user or group IEntity"};throw f;}e=et.getUniqueIdentifierForDisambiguation(i);this._$idCardDialog.attr("data-prefix",e.toLowerCase());this._getIdentitiesSuccess({queryToken:null,identities:[i]});!ft.isOnPremiseEnvironment()&&i.localDirectory&&i.localDirectory.toLowerCase().trim()==v.ServiceHelpers.VisualStudioDirectory&&this._operationScope&&(this._operationScope.AAD||this._operationScope.Source)&&this._getDirectoryEntities(i.entityId)}else this._$idCardDialog.attr("data-prefix",this._options.uniqueIdentifier.toLowerCase()),this._getDirectoryEntities(this._options.uniqueIdentifier)},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=b.getService(yt)),this._entityOperationsFacade},t._getHigherZIndex=function(n){var t,i=1001;return $(n).each(function(n,r){t=$(r).css("z-index");!isNaN(t)&&t>i&&(i=t)}),++i},t.prototype._repositionDialog=function(){var t={elementAlign:"left-top",baseAlign:"left-bottom",overflow:"none-none"},n,i,r;this._options.anchorContainer?(n=$(this._options.anchorContainer).offset(),t.leftOffsetPixels=n.left,t.topOffsetPixels=n.top,t.skipZIndexSetting=!0):n=this._options.anchor.offset();nt.Positioning.position(this._$idCardDialog,this._options.anchor,t);i=this._options.leftValue&&this._options.leftValue>0?this._options.leftValue:n.left;i+this._$idCardDialog.outerWidth()<$(window).width()+$(window).scrollLeft()?this._$idCardDialog.css("left",i):this._$idCardDialog.css("left",i-this._$idCardDialog.outerWidth()+this._options.anchor.outerWidth());r=this._options.topValue&&this._options.topValue>0?this._options.topValue:n.top+this._options.anchor.outerHeight();r+this._$idCardDialog.outerHeight()<$(window).height()+$(window).scrollTop()?this._$idCardDialog.css("top",r):this._$idCardDialog.css("top",r-this._$idCardDialog.outerHeight()-this._options.anchor.outerHeight())},t.prototype._getDirectoryEntities=function(n){var t=this,i={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:a.ConsumerId.UnknownConsumer},prefix:n,queryTypeHint:{UID:!0},sources:[ct.Directory]},r=this._getEntityOperationsFacade().search(i).then(function(n){for(var i in n.queryTokenResponse)n.queryTokenResponse[i].then(ut(t,t._getIdentitiesSuccess),ut(t,t._getIdentitiesFailure))},this._getIdentitiesFailure)},t.prototype._getIdentitiesFailure=function(){c.getService().fire(t.IDCARD_LOADED_EVENT)},t.prototype._getIdentitiesSuccess=function(n){var r,u;if(!n||!n.identities||n.identities.length<1){this._getIdentitiesFailure(n);return}this._identity=n.identities[0];var o=f.FeatureAvailabilityService.isFeatureEnabled(e.WebPlatformFeatureFlags.ReactProfileCard),s=this._identity.entityType.trim().toLowerCase()==v.ServiceHelpers.UserEntity,i=this._identity.entityType.trim().toLowerCase()==v.ServiceHelpers.GroupEntity,h=window.top!==window.self,l=this._options.useOfficeFabricProfileCard!==null&&this._options.useOfficeFabricProfileCard!==undefined?this._options.useOfficeFabricProfileCard:!h;if(o&&l&&(s||i))this._displayReactIdCard(i);else{if(!v.ServiceHelpers.isAuthenticatedMember())return;r=et.getUniqueIdentifierForDisambiguation(this._identity);u=et.getSignInAddress(this._identity);(this._$idCardDialog.attr("data-prefix")&&r.toLowerCase().indexOf(this._$idCardDialog.attr("data-prefix").toLowerCase())===0||u.toLowerCase().indexOf(this._$idCardDialog.attr("data-prefix").toLowerCase())===0)&&this._element&&this._displayIdCard()}c.getService().fire(t.IDCARD_LOADED_EVENT)},t.prototype._displayReactIdCard=function(n){var t=this,s=$("body").eq(0),f=s.find(".cards-container"),u,e,o,h;if(f.length===0&&(f=$("<div class='cards-container' />").appendTo(s)),u=this._options.anchor,u&&u.attr("role")==="row"&&(u=u.children()),e=u[0],this._options.leftValue!==undefined&&this._options.topValue!==undefined&&this._options.leftValue!==null&&this._options.topValue!==null&&(e={x:this._options.leftValue,y:this._options.topValue}),o=function(){r.unmountComponentAtNode(f[0]);$(".ui-dialog-content",$(".idcard-dialog")).dialog("close")},n){var c=function(n){var i=b.getService(v.IdentityService);return i.getIdentityConnections(n,t._operationScope,{User:!0,Group:!0},{successors:!0},{httpClient:t._options.httpClient},{consumerId:t._options.consumerId})},l=function(n){var i={identityServiceOptions:{operationScope:t._operationScope,identityType:t._identityType,httpClient:null,extensionData:null},identityExtensionOptions:{consumerId:t._options?t._options.consumerId:a.ConsumerId.UnknownConsumer},prefix:n,queryTypeHint:{UID:!0},sources:["Directory"]};return t._getEntityOperationsFacade().search(i).then(function(n){var t=Object.keys(n.queryTokenResponse)[0];return n.queryTokenResponse[t].then(function(n){return n.identities[0]})})},y=u[0],p={getEntityFromUniqueAttribute:l,identity:this._identity,onDismissCallback:o,onRequestConnectionInformation:c,target:y};it.using(["VSSUI/IdentityCard"],function(n){var t=i.createElement(n.IdentityCard,p);r.render(t,f[0])})}else h={identity:this._identity,target:e,entityOperationsFacade:this._getEntityOperationsFacade(),consumerId:this._options?this._options.consumerId:a.ConsumerId.UnknownConsumer,onDismissCallback:o},it.using(["VSS/Identities/Picker/PersonaCard"],function(n){var t=i.createElement(n.PersonaCard,h);r.render(t,f[0])})},t.prototype._displayIdCard=function(){var n=this,t,o,s,e,h,y;this._$idCardDialog.attr("data-objectid",this._identity.entityId);$("body").on("mousedown.contactCard",ut(this,this._onIdCardBlur));$(".ui-dialog-buttonpane",this._$idCardDialog).hide();this._element.empty();$(".identity-picker-idcard-header").empty();var l=$("<div/>").addClass("identity-picker-idcard-header").prependTo($(".ui-dialog-titlebar",this._$idCardDialog)),b=$("<div/>").addClass("identity-picker-idcard-image").appendTo(l),a=$("<div/>").addClass("identity-picker-idcard-basicinfo").appendTo(l),f=et.getDisplayName(this._identity),k=v.ServiceHelpers.getDefaultIdentityImage(this._identity),d=ft.createImgElement(k,this._identity.image?this._identity.image:"","user-picture-card");if(d.attr("alt",f).appendTo(b),t=et.getSignInAddress(this._identity),t.trim()||this._options.uniqueIdentifier&&ft.isValidEmail(this._options.uniqueIdentifier)&&(t=this._options.uniqueIdentifier),o=$("<div/>").addClass("identity-picker-idcard-basicinfo-name").appendTo(a).text(f),u.RichContentTooltip.addIfOverflow(f,o,{menuContainer:o}),s=$("<div/>").addClass("identity-picker-idcard-ellipsis-overflow").appendTo(a),ft.isValidEmail(t)?$("<a/>").attr({"aria-label":w.IdentityPicker_IdCardSendEmail,href:"mailto:"+t,tabindex:"0"}).text(t).appendTo(s):s.text(t),this._$liveStatus=$("<div/>").addClass("visually-hidden").attr("aria-live","polite").appendTo(this._$idCardDialog),$(".ui-dialog-title",this._$idCardDialog).text(g.format(w.IdentityPicker_ContactCardInformation,f)),this._$idCardDialog.attr("name",f),e=(new ri).getIdentityAttributes(this._identity),this._identity.entityType.trim().toLowerCase()==v.ServiceHelpers.UserEntity){h=e.toRows();for(y in h)this._element.append(h[y])}else if(this._identity.entityType.trim().toLowerCase()==v.ServiceHelpers.GroupEntity){var p=$("<div/>").addClass("identity-picker-idcard-row").attr("role","tablist").appendTo(this._element),i=$("<span/>").addClass("identity-picker-idcard-tab").text(w.IdentityPicker_IdCardInfo).attr({tabindex:"0",id:"identity-picker-idcard-tab-info",role:"tab","aria-selected":"true"}).appendTo(p),r=$("<span/>").addClass("identity-picker-idcard-tab identity-picker-idcard-unselected-tab").text(w.IdentityPicker_IdCardMembers).attr({tabindex:"0",id:"identity-picker-idcard-tab-members",role:"tab","aria-selected":"false"}).appendTo(p),c=e.toRows()[0].attr({role:"tabpanel","aria-labelledby":"identity-picker-idcard-tab-info"});this._element.append(c);this._constructMemberTabContent().appendTo(this._element);this._getDirectoryMemberEntities(this._identity);i.click(ut(this,function(){i.hasClass("identity-picker-idcard-unselected-tab")&&(i.removeClass("identity-picker-idcard-unselected-tab"),i.attr("aria-selected","true"),r.attr("aria-selected","false"),r.addClass("identity-picker-idcard-unselected-tab"),n._$groupMembersContainer.parent().hide(),c.show(),n._element.css("height","auto"),n._$idCardDialog.css("height","auto"))}));r.click(ut(this,function(){r.hasClass("identity-picker-idcard-unselected-tab")&&(r.removeClass("identity-picker-idcard-unselected-tab"),r.attr("aria-selected","true"),i.attr("aria-selected","false"),i.addClass("identity-picker-idcard-unselected-tab"),c.hide(),n._setSelectedIndex(ht.SelectFirstItem,nt.Positioning.VerticalScrollBehavior.Top),n._$groupMembersContainer.parent().show(),n._element.css("height","auto"),n._$idCardDialog.css("height","auto"),n._groupMembers.length?n._groupMembers.length==1?n._$liveStatus.text(w.IdentityPicker_MembersSingleResultStatus):n._$liveStatus.text(g.format(w.IdentityPicker_MembersMultipleResultStatus,n._groupMembers.length)):n._$liveStatus.text(w.IdentityPicker_NoMembers))}))}e.isEmpty()?$(".ui-dialog-titlebar",this._$idCardDialog).addClass("no-content"):$(".ui-dialog-titlebar",this._$idCardDialog).removeClass("no-content");this._element.css("height","auto");this._repositionDialog();this._$idCardDialog.show();this._$idCardDialog.attr("visibility","");this._$idCardDialog.attr("tabindex","-1");this._$idCardDialog.focus()},t.prototype._constructMemberTabContent=function(){var n=$("<div/>").addClass(t.ID_CARD_MEMBERS_DROPDOWN_CLASS+" "+t.ID_CARD_LIST_CLASS).attr({role:"tabpanel","aria-busy":"true","aria-labelledby":"identity-picker-idcard-tab-members"}).hide(),i;return this._$groupMembersContainer=$("<ul/>").attr({role:"list","aria-labelledby":"identity-picker-idcard-tab-members",tabindex:"0"}).appendTo(n).css({"max-height":Math.min((ft.getSizePx(st.Large)+t.IMAGE_MARGINS_PX)*this._pageSize-10,t.MAX_HEIGHT)+"px"}),i=$("#identity-picker-idcard-tab-members-description.visually-hidden"),i.length||(i=$("<div/>").text(w.IdentityPicker_IdCardMembersTabDescription).attr("id","identity-picker-idcard-tab-members-description").addClass("visually-hidden").appendTo("<body>")),this._$groupMembersContainer.attr("aria-describedby","identity-picker-idcard-tab-members-description"),this._$loading=$("<div/>").addClass("identity-picker-idcard-word-wrap identity-picker-idcard-error").text(w.IdentityPicker_IdCardLoadingMembers).appendTo(n),n},t.prototype._getDirectoryMemberEntities=function(n){var t=this,r=b.getService(v.IdentityService),u=function(n){if(t._element){if(!n)return;t._groupMembers.forEach(ut(t,function(i){n.hasOwnProperty(i.entityId)&&n[i.entityId]&&(i.image=n[i.entityId],$(".identity-picture",t._$groupMembersContainer).each(function(t,r){r.hasAttribute("data-objectid")&&r.getAttribute("data-objectid")===i.entityId&&(r.setAttribute("src",n[i.entityId]),r.setAttribute("class","identity-picture small"))}))}))}},f=function(n){n&&h.logError("_getDirectoryMemberEntities/getIdentityImagesErrorCallback:"+JSON.stringify(n))},e=function(n){if(t._element){if(!n||!n.successors){ut(t,i)();return}if(t._groupMembers=n.successors,t._groupMembers&&t._groupMembers.length>0){t._groupMembers=ft.sortGroupMembersByName(t._groupMembers);t._groupMembers.forEach(function(n){(!n.image||n.image.trim())&&(n.image=v.ServiceHelpers.getDefaultIdentityImage(n))});var r={identityServiceOptions:{operationScope:t._operationScope,identityType:{User:!0,Group:!0},httpClient:t._options.httpClient,extensionData:t._options.extensionData},identityExtensionOptions:{consumerId:t._options.consumerId},sources:[ct.Directory]};t._getEntityOperationsFacade().getImagesForEntities(t._groupMembers,r).then(u,f);t._$loading.hide();t._renderMembersList()}else t._$loading.text(w.IdentityPicker_IdCardNoMembers);t._$groupMembersContainer.parent().removeAttr("aria-busy")}},i=function(n){t._element&&(t._$groupMembersContainer.parent().removeAttr("aria-busy"),t._$loading.text(w.IdentityPicker_IdCardErrorLoadingMembers));n&&h.logError("_displayIdCard/getConnectionsErrorCallback:".concat(JSON.stringify(n)))};r.getIdentityConnections(n,this._operationScope,{User:!0,Group:!0},{successors:!0},{httpClient:this._options.httpClient},{consumerId:this._options.consumerId}).then(ut(this,e),ut(this,i))},t.prototype._isMembersListVisible=function(){return this._$groupMembersContainer&&this._$groupMembersContainer.length&&this._$groupMembersContainer.parent()&&this._$groupMembersContainer.parent().is(":visible")},t.prototype._onIdCardBlur=function(n){this._element.hasClass("ui-dialog-content")&&n&&!$(n.target).closest("#"+t.ID_CARD_DIALOG_ID).length&&!$(n.target).is("#"+t.ID_CARD_DIALOG_ID)&&this._element.dialog("close")},t.prototype._onIdCardClose=function(){this._options.focusElementOnClose&&this._options.focusElementOnClose.is(":visible")?this._options.focusElementOnClose.focus():this._previousFocusedElement.focus();$("body").off("mousedown.contactCard");this._$idCardDialog.off(".contactCard");this._element.dialog("destroy")},t.prototype._onKeyDown=function(n){if(!n||!n.keyCode)return!0;switch(n.keyCode){case ot.UP:return this._isMembersListVisible()?this._prevItem():!0;case ot.DOWN:return this._isMembersListVisible()?this._nextItem():!0;case ot.PAGE_UP:return this._isMembersListVisible()?this._prevPage():!0;case ot.PAGE_DOWN:return this._isMembersListVisible()?this._nextPage():!0;case ot.ENTER:case ot.SPACE:return $(document.activeElement).hasClass("identity-picker-idcard-tab")&&$(document.activeElement).hasClass("identity-picker-idcard-unselected-tab")?(n.stopPropagation(),$(document.activeElement).click(),!1):$(document.activeElement).hasClass("ui-dialog-titlebar-close")?(n.stopPropagation(),this._element.dialog("close"),!1):this._isMembersListVisible()&&this._selectedIndex!=ht.SelectNone?(n.stopPropagation(),$("li",this._$groupMembersContainer).eq(this._selectedIndex).click(),!1):!0;case ot.ESCAPE:case ot.LEFT:return n.stopPropagation(),this._element.dialog("close"),!1;case ot.TAB:var r=$(":tabbable",this._$idCardDialog),t=r.first(),i=r.last();return i.length&&n.target===i[0]&&!n.shiftKey?(t.focus(),!1):t.length&&n.target===t[0]&&n.shiftKey?(i.focus(),!1):!0;default:return!0}},t.prototype._createItem=function(n){var i=this,e,h,o,f,r,c;return n?(h=v.ServiceHelpers.getDefaultIdentityImage(n),n.image&&(e=n.image),o=et.getDisplayName(n),f=et.getSignInAddress(n),f=g.isGuid(f)?"":f,r=$("<li/>").attr("role","listitem").attr("id",s.getId().toString()).height(40),u.RichContentTooltip.addIfOverflow(o,r,{menuContainer:r}),ft.createImgElement(h,e,"identity-picture small",n.entityId).addClass(e&&e.trim()?"":"hidden").appendTo(r),c=$("<div/>").addClass("item-text-container").append($("<div/>").addClass("title large").text(o)).append($("<div/>").addClass("subtitle large").text(f)).appendTo(r),c.css("max-width",this._element.width()-t.MEMBERS_TAB_LEFT_PADDING_PX-t.IMAGE_MARGINS_PX-ft.getSizePx(st.Large)-ft.IDENTITY_ITEM_BUFFER_WIDTH_PX),r.click(ut(this,function(u){u.stopPropagation();var f={identity:n,anchor:r,leftValue:u.pageX!==undefined?u.pageX:r.offset().left,topValue:u.pageY!==undefined?u.pageY:r.offset().top,operationScope:i._operationScope,identityType:i._identityType,httpClient:i._options.httpClient?i._options.httpClient:null,focusElementOnClose:i._options.focusElementOnClose&&i._options.focusElementOnClose.is(":visible")?i._options.focusElementOnClose:i._previousFocusedElement,appendTo:i._options.appendTo,consumerId:i._options.consumerId};s.Enhancement.enhance(t,"<div/>",f)})),r):null},t.prototype._renderMembersList=function(){var n=this,r=function(){return n._scrollTimeout!==null&&(clearTimeout(n._scrollTimeout),n._scrollTimeout=null),n._scrollTimeout=window.setTimeout(ut(n,n._loadNextPage),100),!1},t,i;if(this._$groupMembersContainer.empty(),this._$groupMembersContainer.addClass("items"),this._$groupMembersContainer.scroll(ut(this,r)),this._groupMembers.length==0)this._numItemsDisplayed=0;else for(this._numItemsDisplayed=Math.min(this._groupMembers.length,this._pageSize),t=0;t<Math.min(this._groupMembers.length,this._pageSize);t++)i=this._createItem(this._groupMembers[t]),i&&this._$groupMembersContainer.append(i)},t.prototype._loadNextPage=function(){var t=this._$groupMembersContainer.scrollTop()+this._$groupMembersContainer.outerHeight()>=this._$groupMembersContainer[0].scrollHeight-5,n;if(t){for(n=this._numItemsDisplayed;n<this._numItemsDisplayed+Math.min(this._groupMembers.length-this._numItemsDisplayed,this._pageSize);n++)this._$groupMembersContainer.append(this._createItem(this._groupMembers[n]));this._numItemsDisplayed+=Math.min(this._groupMembers.length-this._numItemsDisplayed,this._pageSize)}this._scrollTimeout!==null&&(clearTimeout(this._scrollTimeout),this._scrollTimeout=null)},t.prototype._nextItem=function(){return this._selectedIndex===this._groupMembers.length-1?this._setSelectedIndex(ht.SelectFirstItem):this._selectedIndex<this._groupMembers.length-1&&this._setSelectedIndex(this._selectedIndex+1),!1},t.prototype._prevItem=function(){return this._selectedIndex===-1&&this._groupMembers&&this._groupMembers.length?this._setSelectedIndex(this._groupMembers.length-1):this._selectedIndex>0&&this._setSelectedIndex(this._selectedIndex-1,nt.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._nextPage=function(){var n=-1;return this._loadNextPage(),this._selectedIndex<this._groupMembers.length-1&&this._selectedIndex!==-1&&(n=this._selectedIndex+this._pageSize),this._setSelectedIndex(n<this._groupMembers.length?n:this._groupMembers.length-1,nt.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._prevPage=function(){var n=0;return this._selectedIndex===-1?n=this._groupMembers.length-this._pageSize:this._selectedIndex>0&&(n=this._selectedIndex-this._pageSize),this._setSelectedIndex(n>=0?n:ht.SelectFirstItem,nt.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._setSelectedIndex=function(n,t){var i,u,r,f;t===void 0&&(t=nt.Positioning.VerticalScrollBehavior.Bottom);i=$("li",this._$groupMembersContainer);u=n!==null&&n!==undefined&&i.length&&i.eq(n).length&&(this._selectedIndex!==n||!i.eq(this._selectedIndex).hasClass("selected"));u?(this._selectedIndex=n,i.removeClass("selected").attr("aria-selected","false").removeAttr("id"),r=i.eq(this._selectedIndex),f=r.attr("id")?r.attr("id"):s.getId().toString(),r.addClass("selected").attr({id:f,"aria-selected":"true"}),this._$liveStatus.text(g.format(w.IdentityPicker_SelectedMember,et.getDisplayName(this._groupMembers[n]))),nt.Positioning.scrollIntoViewVertical(r,t)):isNaN(n)||(this._selectedIndex=n)},t.IDCARD_LOADED_EVENT="idcard-finished-loading",t.MAX_HEIGHT=240,t.IMAGE_MARGINS_PX=8,t.MEMBERS_TAB_LEFT_PADDING_PX=11,t.ID_CARD_LIST_CLASS="identity-picker-idcard-list",t.ID_CARD_MEMBERS_DROPDOWN_CLASS=lt.DROPDOWN_BASE_CLASS,t.JQUERY_UI_DIALOG_CLASS=".ui-dialog",t.ID_CARD_DIALOG_ID="idcard-dialog",t}(s.Control);t.IdCardDialog=wt;dt=function(n){function t(i,r){var u,f;return r===void 0&&(r=!1),u=n.call(this,i)||this,u._resolvedIEntity=null,u._loadOnCreate=!1,u._previousInput="",u._isSearchEverIssued=!1,u._readOnlyMode=!1,u._showMruExpander=!1,u._trackTabKeyDown=!1,u._queryTokensRequested={},u._onDocumentLoad=function(){u._$container.is(":visible")?u._recalculateInputWidth():setTimeout(u._onDocumentLoad,50)},u._recalculateInputWidth=function(){if(u._$input)if(u._controlWidth=Math.max(u._$container.width(),t.DEFAULT_WIDTH),u._$input.prev(".identity-picker-resolved")[0]){var n=u._$input.prev(".identity-picker-resolved"),f=u._$container[0].scrollHeight>u._$container.innerHeight(),i=u._$container.offset().left+Math.max(u._$container.outerWidth(),t.DEFAULT_WIDTH)-n.offset().left-n.outerWidth()-parseInt(n.css("margin-right"))-parseInt(u._$container.css("padding-right"))-parseInt(u._$container.css("border-right-width"))-(f?ft.SCROLL_BAR_WIDTH_PX:0)-(u._showMruExpander?t.TRIANGLE_WIDTH_PX:0)-1,r=u._$input.attr("placeholder").length;i>(r?r:15)*6?u._$input.outerWidth(i):u._$input.outerWidth(u._controlWidth-ft.SCROLL_BAR_WIDTH_PX-(u._showMruExpander?t.TRIANGLE_WIDTH_PX:0))}else u._$input.outerWidth(u._controlWidth-(u._showMruExpander?t.TRIANGLE_WIDTH_PX:0)-(u._options.smallScreenRender?u._$closeInput.outerWidth():0))},r||(f=i,f.dropdownContainer||(f.dropdownContainer=ut(u,function(){return $("body")})),u.initializeOptionsInternal(f)),u}return __extends(t,n),t.prototype.initializeOptionsInternal=function(n){if(this._identityType=n.identityType?n.identityType:{User:!0},this._operationScope=n.operationScope?n.operationScope:{IMS:!0},this._size=n.size!==null&&n.size!==undefined?n.size:st.Medium,this._dropdownContainerDelegate=n.dropdownContainer,this._preDropdownRender=this._options.callbacks&&n.callbacks.preDropdownRender?n.callbacks.preDropdownRender:null,this._onDirectorySearchFinished=this._options.callbacks&&n.callbacks.onDirectorySearchFinished?n.callbacks.onDirectorySearchFinished:null,this._loadOnCreate=n.loadOnCreate?n.loadOnCreate:!1,n.placeholderText&&n.placeholderText.trim())this._placeholderText=n.placeholderText;else{var t=v.ServiceHelpers.getIdentityTypeList(this._identityType);this._placeholderText=this._generatePlaceHolder(t)}this._controlLoaded=null;this._delaySearchTimeOutValue=n.delaySearchTimeoutValue||0},t.prototype.initialize=function(){var i=this,r,e,u,f,o,h;n.prototype.initialize.call(this);r=this._options.items;this._selectedItems=[];this._unresolvedItems=[];this._$currentlyFocusedItem=null;this._$container=this._element.parent();this._controlWidth=Math.max(this._$container.innerWidth(),t.DEFAULT_WIDTH);this._element.addClass("identity-picker-search-box");this._options.smallScreenRender&&this._element.addClass("small-screen");this._element.height(ft.getSizePx(this._size)+t.OUTER_PADDING_PX);e=function(n){$(n.target).hasClass("identity-picker-input")||$(n.target).hasClass("identity-picker-search-multiple-name")||$(n.target).hasClass(t.SEARCH_MRU_TRIANGLE_CLASS)||i.focusOnSearchInput()};this._element.on("click.identityPicker",ut(this,e));this._element.on("remove.identityPicker",ut(this,this.dispose));if(this._$input=$("<input>").attr("type","text").attr("spellcheck","false").attr("autocomplete","off").attr("placeholder",this._placeholderText).addClass("identity-picker-input").attr("role","combobox").attr("aria-autocomplete","list").attr("aria-expanded","false"),!this._options.required||this._$input.attr("required","true"),!this._options.ariaDescribedby||this._$input.attr("aria-describedby",this._getAriaDescribedby(this._options.ariaDescribedby)),this._options.excludeAriaLabel||this._$input.attr("aria-label",this._options.ariaLabel?this._options.ariaLabel:this._placeholderText),this._options.elementId&&this._$input.attr("id",this._options.elementId),this._$input.appendTo(this._element),ft.styleElementBySize(this._$input,this._size,!0),this._options.multiIdentitySearch&&(f=s.getId().toString(),u=$("<label/>").addClass("visually-hidden").attr("id",f).appendTo(this._element),this._$input.attr("aria-describedby",this._getAriaDescribedby(f))),this._options.smallScreenRender&&(this._$closeInput=this._createCloseButton(),ft.styleElementBySize(this._$closeInput,this._size,!1),this._$closeInput.hide(),this._$closeInput.appendTo(this._element),this._$closeInput.mousedown(ut(this,function(n){i._setInputText("");i.focusOnSearchInput();i._recalculateInputWidth();n.preventDefault();i._$closeInput.hide()}))),this._options.showMruTriangle=this._options.forceOpen?!1:this._options.showMruTriangle,this._showMruExpander=this._options.showMruTriangle?!0:!1,this._isReadOnly()&&(this._showMruExpander=!1),this._showMruExpander){this._$mruTriangle=$("<span/>").addClass(t.SEARCH_MRU_TRIANGLE_CLASS).addClass("bowtie-icon bowtie-triangle-down").appendTo(this._element);this._$mruTriangle.on("mousedown.identityPicker",ut(this,function(n){i._onMruTriangleMousedown(n)}));this._$mruTriangle.on("click.identityPicker",ut(this,function(n){i._onMruTriangleClick(n)}))}this._recalculateInputWidth();$(window).on("resize.identityPicker",ut(this,function(){i._recalculateInputWidth()}));this._$input.on("focus.identityPicker",ut(this,function(){i._$currentlyFocusedItem=null;i._options.multiIdentitySearch&&(i._selectedItems.length||i._unresolvedItems.length?u.text(g.format(w.IdentityPicker_SelectedIdentities,i._selectedItems.length+i._unresolvedItems.length)):u&&u.text(""));i._$container.triggerHandler("focus")}));if(this._options.showMruOnClick&&this._options.showMru)this._$input.on("mouseup.identityPicker",ut(this,function(n){i._identityPickerDropdown&&!i._identityPickerDropdown.isVisible()&&n.button===0&&i._showAllMruInDropdown(!1,!0)}));if(this._options.multiIdentitySearch&&(this._options.highlightResolved=!1,this._options.watermark=null),this._options.highlightResolved||(this._options.watermark=null),this._options.watermark&&this._showWatermark(),this._options.getFilterByScope||(this._options.getFilterByScope=function(){return null}),this._showContactCard=this._options.showContactCard==!1?!1:!0,v.ServiceHelpers.isAuthenticatedMember()){this._element.on("keydown.identityPicker",ut(this,this._onInputKeyDown));this._$input.on("keyup.identityPicker",ut(this,this._onInputKeyUp));this._$input.on("blur.identityPicker",ut(this,this._onInputBlur));this._$input.on("input.identityPicker",ut(this,this._onInputChange));this._$input.on("click.identityPicker",ut(this,this._onInputClick));this._externalEventDelegate=ut(this,this._onInputBlur);this._dropdownShowEventDelegate=ut(this,this._attachHandlersOnShowDropdown);this._dropdownHideEventDelegate=ut(this,this._detachHandlersOnHideDropdown);this._updateActiveDescendantIdEventDelegate=ut(this,this._updateActiveDescendantId);o=this._dropdownContainerDelegate();this._identityPickerDropdownUniqueId=ft.getRandomString();c.getService().attachEvent(lt.SHOW_DROPDOWN_EVENT_INTERNAL,this._dropdownShowEventDelegate);c.getService().attachEvent(lt.HIDE_DROPDOWN_EVENT_INTERNAL,this._dropdownHideEventDelegate);c.getService().attachEvent(lt.UPDATE_ACTIVE_DESCENDANT_ID,this._updateActiveDescendantIdEventDelegate);h={pageSize:this._options.pageSize,useRemainingSpace:this._options.useRemainingSpace,smallScreenRender:this._options.smallScreenRender,dialogAppendTo:this._options.dialogAppendTo,onItemSelect:ut(this,function(n){if(i._resolveItem(n),i.focusOnSearchInput(),i._options.callbacks&&i._options.callbacks.onItemSelect)i._options.callbacks.onItemSelect(n)}),identityType:this._identityType,operationScope:this._operationScope,httpClient:this._options.httpClient?this._options.httpClient:null,showContactCard:this._showContactCard,showMru:this._isShowMruEnabledInDropdown(),showNoIdentitiesFound:this._options.showNoIdentitiesFound,getFilterByScope:this._options.getFilterByScope,preDropdownRender:this._preDropdownRender,onDirectorySearchFinished:this._onDirectorySearchFinished,loadOnCreate:this._loadOnCreate,extensionData:this._options.extensionData,size:this._options.dropdownSize!==null&&this._options.dropdownSize!==undefined?this._options.dropdownSize:st.Large,width:this._options.dropdownWidth,focusElementOnContactCardClose:this._$input,eventOptions:{uniqueId:this._identityPickerDropdownUniqueId},alignment:{positioningElement:this._$container},consumerId:this._options.consumerId};this._identityPickerDropdown=s.create(lt,o,h);this._attachHandlersOnShowDropdown({uniqueId:this._identityPickerDropdownUniqueId})}else this._showContactCard=!1,this._loadOnCreate=!1,this._options.showMru=!1,this._options.forceOpen=!1,this.enableReadOnlyMode();r&&((typeof r=="string"||r instanceof String)&&r?this.setEntities([],r.trim().split(";")):r instanceof Array&&r.length>0&&this.setEntities(r,[]));this._loadOnCreate&&this.load();this._options.forceOpen&&this._showAllMruInDropdownWithoutDefaultSelection();$(this._onDocumentLoad)},t.prototype.load=function(){var n=this;return this._controlLoaded?this._controlLoaded.promise:(this._controlLoaded=rt.defer(),this._identityPickerDropdown.load().then(ut(this,function(){n._controlLoaded.resolve(!0)}),ut(this,function(){n._controlLoaded.resolve(!1)})))},t.prototype.getIdentitySearchResult=function(){return{resolvedEntities:this._selectedItems,unresolvedQueryTokens:this._unresolvedItems}},t.prototype.clear=function(){this._element&&(this._clearSearchControl(),!this._options.multiIdentitySearch&&this._options.watermark&&this._showWatermark())},t.prototype.isDropdownVisible=function(){return this._identityPickerDropdown&&this._identityPickerDropdown.isVisible()},t.prototype.isDropdownFiltered=function(){return this._identityPickerDropdown&&this._identityPickerDropdown.isFiltered()},t.prototype.addIdentitiesToMru=function(n){if(v.ServiceHelpers.isAuthenticatedMember()){var t=n.map(function(n){if(et.isDirectoryEntityType(n))return n.localId});this._identityPickerDropdown.addIdentitiesToMru(t)}},t.prototype.setEntities=function(n,t,i){var o=n?n.length:0,s=t?t.length:0,l,a,u,e,r,h,c,f;if(o+s!=0){if(!this._options.multiIdentitySearch&&o+s>1){l={source:"setEntities",message:"Can't set more than one entity for a single select control"};throw l;}if(a={UID:!0},s>0){if(u="",this._options.multiIdentitySearch||(u=t[0]?t[0].trim():u),this._options.showTemporaryDisplayName){this._options.watermark&&$(".identity-picker-resolved:has(> .identity-picker-watermark-name)",this._element).off(".identityPicker").remove();e=[];for(f in t)r=t[f].trim(),r.charAt(r.length-1)==">"&&r.indexOf("<")>=0?(h=r.substring(0,r.indexOf("<")-1).trim(),c=r.substring(r.indexOf("<")+1,r.length-1).trim(),e.push(c),this._createTemporaryItem(h,c.toLowerCase()),this._options.multiIdentitySearch||(u=h)):e.push(r);t=e}this._resolveInputToIdentities(t.join(";"),a,i,u)}if(o>0)for(f in n)n[f]&&this._resolveItem(n[f])}},t.prototype.getDropdownPrefix=function(){return this._identityPickerDropdown?this._identityPickerDropdown.getPrefix():""},t.prototype.showMruDropdown=function(){this._showMruExpander&&this._$mruTriangle.trigger("click")},t.prototype.focusOnSearchInput=function(){if(this._$currentlyFocusedItem=null,this._$input.is(":visible"))this._$input.focus();else{var n=$(".identity-picker-resolved:visible",this._element);n.length<=0?(this._$input.show(),this._$input.focus()):($(n[0]).focus(),this._$currentlyFocusedItem=$(n[0]))}this._$container.triggerHandler("focus")},t.prototype.enableReadOnlyMode=function(){this._readOnlyMode=!0;this._showMruExpander=!1;this._hideMruTriangle();this._$container.addClass("identity-picker-readonly");$(".identity-picker-resolved-name",this._element).removeAttr("tabindex");$(".identity-picker-watermark-name",this._element).removeAttr("tabindex");$(".identity-picker-resolved-close",this._element).hide();$(".identity-picker-resolved-name",this._element).attr("aria-label",g.format(w.ReadOnlyPrefix,this._options.ariaLabel?this._options.ariaLabel:this._placeholderText));this._element.removeAttr("aria-label");var n=$(".identity-picker-resolved",this._element);n.removeAttr("aria-describedby");n.attr("tabindex","-1");n.attr("aria-disabled","true");$("visually-hidden",n).remove();this._$input.attr("disabled","");this._$input.removeAttr("role");this._$input.removeAttr("aria-expanded")},t.prototype.disableReadOnlyMode=function(){this._readOnlyMode=!1;this._showMruExpander=this._options.showMruTriangle?!0:!1;this._showMruTriangle();this._$container.removeClass("identity-picker-readonly");this._element.attr("aria-label",this._options.ariaLabel?this._options.ariaLabel:this._placeholderText);$(".identity-picker-watermark-name",this._element).attr("tabindex","0");var t=$(".identity-picker-resolved",this._element),n=$(".identity-picker-resolved-name",this._element);n.length&&(this._options.highlightResolved&&n.attr("tabindex","0"),n.removeAttr("aria-label"),this._element.find(".identity-picker-resolved-close").show(),this._showContactCard&&!this._options.highlightResolved&&t.attr("aria-haspopup","true"));this._$input.prop("disabled",!1);this._$input.attr("role","combobox");this._$input.attr("aria-expanded","false");this._options.highlightResolved||t.attr("tabindex","0");this._setResolvedItemRole(t,n.text())},t.prototype.hasPendingRequests=function(){return this._queryTokensRequested&&Object.keys(this._queryTokensRequested).length>0},t.prototype.dispose=function(){this._detachHandlersOnHideDropdown({uniqueId:this._identityPickerDropdownUniqueId});this._dropdownShowEventDelegate&&c.getService().detachEvent(lt.SHOW_DROPDOWN_EVENT_INTERNAL,this._dropdownShowEventDelegate);this._dropdownHideEventDelegate&&c.getService().detachEvent(lt.HIDE_DROPDOWN_EVENT_INTERNAL,this._dropdownHideEventDelegate);this._updateActiveDescendantIdEventDelegate&&c.getService().detachEvent(lt.UPDATE_ACTIVE_DESCENDANT_ID,this._updateActiveDescendantIdEventDelegate);this._identityPickerDropdown&&this._identityPickerDropdown.dispose();this._$input&&this._$input.off(".identityPicker");this._showMruExpander&&this._$mruTriangle&&this._$mruTriangle.off(".identityPicker");this._element&&this._element.off(".identityPicker");$(window).off("resize.identityPicker");n.prototype.dispose.call(this)},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=b.getService(yt)),this._entityOperationsFacade},t.prototype._isReadOnly=function(){return this._readOnlyMode||!v.ServiceHelpers.isAuthenticatedMember()},t.prototype._hideMruTriangle=function(){this._$mruTriangle&&this._$mruTriangle.addClass("identity-picker-element-hide")},t.prototype._showMruTriangle=function(){this._showMruExpander&&this._$mruTriangle&&this._$mruTriangle.removeClass("identity-picker-element-hide")},t.prototype._getAriaDescribedby=function(n){var t=this._$input.attr("aria-describedby");return t?t.concat(" "+n):n},t.prototype._resetSearchControl=function(n,t){n===void 0&&(n=!0);t===void 0&&(t=!0);this._options.watermark&&!this._options.forceOpen?n?this._showWatermark():this._clearWatermark():(this._$input.show(),this._recalculateInputWidth());this._showMruTriangle();t&&this.focusOnSearchInput()},t.prototype._clearSearchControl=function(){$(".identity-picker-resolved",this._element).off(".identityPicker").remove();this._queryTokensRequested={};this._options.multiIdentitySearch||this._resetSearchControl(!1,!1);this._selectedItems=[];this._unresolvedItems=[];this._$currentlyFocusedItem=null;this._resolvedIEntity=null;this._setInputText("");this._fireInvalidInput()},t.prototype._showAllMruInDropdownWithoutDefaultSelection=function(n){n===void 0&&(n=!0);this._showAllMruInDropdown(n,!1)},t.prototype._showAllMruInDropdown=function(n,t){var i=this,r;n===void 0&&(n=!0);t===void 0&&(t=!0);r=function(t){i._element&&((t&&t.length>0||n)&&i._showDropdown(),i._$input.off("input.identityPicker"),i.focusOnSearchInput(),d.delay(i,0,function(){i._$input.on("input.identityPicker",ut(i,i._onInputChange))}))};this._isSearchEverIssued=!0;this._identityPickerDropdown.showAllMruIdentities(t).then(r)},t.prototype._showProgressCursor=function(){this._fire(t.SEARCH_STARTED_EVENT,null);$(".identity-picker-input",this._element).css("cursor","progress")},t.prototype._stopProgressCursor=function(){this._fire(t.SEARCH_FINISHED_EVENT,null);$(".identity-picker-input",this._element).css("cursor","text")},t.prototype._fireInvalidInput=function(){this._fire(t.INVALID_INPUT_EVENT,null)},t.prototype._fireValidInput=function(){this._fire(t.VALID_INPUT_EVENT,null)},t.prototype._fireRemoveResolvedInput=function(n){this._fire(t.RESOLVED_INPUT_REMOVED_EVENT,n?!0:null)},t.prototype._updateActiveDescendantId=function(n){n&&n.uniqueId&&this._identityPickerDropdownUniqueId&&this._identityPickerDropdownUniqueId===n.uniqueId&&this._$input.attr("aria-activedescendant",n.activeDescendantId)},t.prototype._isShowMruEnabledInDropdown=function(){return this._options.showMru||this._showMruExpander},t.prototype._attachHandlersOnShowDropdown=function(n){if(n&&n.uniqueId&&this._identityPickerDropdownUniqueId&&this._identityPickerDropdownUniqueId===n.uniqueId){if(this._element)this._element.parents().on("scroll.identityPicker resize.identityPicker",ut(this,this._onInputBlur));this.isDropdownVisible()&&(this._$input.attr("aria-expanded","true"),this._$input.attr("aria-owns",this._identityPickerDropdown.getItemsListId()));c.getService().attachEvent(t.DIALOG_MOVE_EVENT,this._externalEventDelegate)}},t.prototype._detachHandlersOnHideDropdown=function(n){n&&n.uniqueId&&this._identityPickerDropdownUniqueId&&this._identityPickerDropdownUniqueId===n.uniqueId&&(this._element&&this._element.parents().off("scroll.identityPicker resize.identityPicker"),this._$input.attr("aria-expanded","false"),this._$input.removeAttr("aria-activedescendant"),c.getService().detachEvent(t.DIALOG_MOVE_EVENT,this._externalEventDelegate))},t.prototype._hideDropdown=function(n){this._identityPickerDropdown&&!this._options.forceOpen&&(this._detachHandlersOnHideDropdown({uniqueId:this._identityPickerDropdownUniqueId}),this._identityPickerDropdown.hide(n),this._$input.removeAttr("aria-activedescendant"))},t.prototype._showDropdown=function(){this._attachHandlersOnShowDropdown({uniqueId:this._identityPickerDropdownUniqueId});this._identityPickerDropdown.show()},t.prototype._compareInputOnInputChangeEvent=function(n){return n=n?n:"",this._previousInput==n},t.prototype._setInputText=function(n){n=n?n:"";this._$input.val(n);this._previousInput=n;this._options.smallScreenRender&&n&&this._$closeInput.show()},t.prototype._resetPreviousInput=function(){this._previousInput=""},t.prototype._onInputChange=function(n){var i=this,t;this._delaySearchTimer||(t=function(){i._inputChangeActions(n)},this._delaySearchTimer=new d.DelayedFunction(this,this._delaySearchTimeOutValue,"inputFieldChanged",t));this._delaySearchTimer.reset()},t.prototype._inputChangeActions=function(n){var t=this.getInputText(),i,r,u,f;if(this._options.smallScreenRender&&(t?this._$closeInput.show():this._$closeInput.hide()),this._compareInputOnInputChangeEvent(t))return!0;if(t=t?t:"",this._previousInput=t,this._resolvedIEntity=null,this._recalculateInputWidth(),t&&t.indexOf(";")<=0?this._fireInvalidInput():this._fireInputValidityEvent(),!t||!this._options.multiIdentitySearch||t.indexOf(";")<0){if(this._isSearchEverIssued=!0,t&&!this._options.multiIdentitySearch){i=t.split(";");r="";for(u in i)if(f=i[u]?i[u].trim():"",f){r=f;break}t=r}return this._identityPickerDropdown.getIdentities(t),!0}this._resolveInputToIdentities(this.getInputText());n.stopPropagation()},t.prototype._onInputClick=function(n){var t=this.getInputText();t&&(this._isSearchEverIssued?this._showDropdown(n):this._options.showMru&&this._showAllMruInDropdown(!1))},t.prototype._onMruTriangleMousedown=function(n){n.preventDefault();n.stopPropagation()},t.prototype._onMruTriangleClick=function(n){if(this._isReadOnly())return!1;this.isDropdownVisible()?this._hideDropdown(n):this._showAllMruInDropdownWithoutDefaultSelection();this.focusOnSearchInput();n.stopPropagation()},t.prototype._isDropdownHovered=function(){return this._identityPickerDropdown.getElement()&&$(this._identityPickerDropdown.getElement()).filter(":hover").length>0},t.prototype._isContactCardHovered=function(){return $(".idcard-dialog").length>0&&$(".idcard-dialog").filter(":hover").length>0},t.prototype._onInputBlur=function(n){if(this._identityPickerDropdown&&!this._isDropdownHovered()&&!($(".idcard-dialog").length||$(".idcard-dialog-content").length)&&this._$input.is(":visible")){var t=!1;this._trackTabKeyDown&&(this.isDropdownVisible()&&this._identityPickerDropdown.getSelectedItem()&&(this._resolveSelectedItem(!0),t=!0),this._trackTabKeyDown=!1);this._options.highlightResolved&&!t&&(this._resolvedIEntity?this._resolveItem(this._resolvedIEntity):this._options.watermark&&!this.getInputText()&&(this._showWatermark(),this._showMruTriangle()));this.isDropdownVisible()&&this._hideDropdown(n);this._options.callbacks&&this._options.callbacks.onInputBlur&&this._options.callbacks.onInputBlur()}},t.prototype._focusOnResolvedItem=function(n){n.is(":visible")?(n.focus(),this._$container.triggerHandler("focus")):this.focusOnSearchInput()},t.prototype._onInputKeyDown=function(n){var i,t;if(!n||this._isReadOnly())return!0;if(n.keyCode===ot.ESCAPE&&this.isDropdownVisible()&&n.stopPropagation(),n.keyCode===ot.UP)return this.isDropdownVisible()&&this._identityPickerDropdown.handleKeyEvent(n),n.preventDefault(),!0;if(n.keyCode===ot.DOWN)return this._identityPickerDropdown&&(this._identityPickerDropdown.isVisible()?this._identityPickerDropdown.handleKeyEvent(n):this._isShowMruEnabledInDropdown()?this._showAllMruInDropdown():this._showDropdown(n)),n.preventDefault(),!0;if(n.keyCode===ot.TAB)return this._trackTabKeyDown=!0,!0;if(n.keyCode===ot.ENTER)return this.isDropdownVisible()?(this.focusOnSearchInput(),this._resolveSelectedItem(),!1):this._options.multiIdentitySearch&&this._$currentlyFocusedItem?(this._$currentlyFocusedItem.click(),!1):!0;if(n.keyCode===ot.RIGHT&&this._showContactCard&&this.isDropdownVisible()&&this._identityPickerDropdown.getSelectedItem()&&this._$input[0].selectionEnd==this._$input.val().length||n.keyCode===ot.DELETE&&this._isShowMruEnabledInDropdown()&&this.isDropdownVisible()&&(i=this._identityPickerDropdown.getSelectedItem(),i&&i.isMru&&et.isDirectoryEntityType(i)))return this._identityPickerDropdown.handleKeyEvent(n),n.preventDefault(),!1;if(!this._$currentlyFocusedItem&&this._$input[0]===document.activeElement&&this._$input[0].selectionStart>0)return!0;if(this._options.callbacks&&this._options.callbacks.onKeyPress)this._options.callbacks.onKeyPress(n.keyCode);switch(n.keyCode){case ot.LEFT:return this._options.multiIdentitySearch?this._$currentlyFocusedItem&&this._$currentlyFocusedItem.prev(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem.blur(),this._$currentlyFocusedItem=this._$currentlyFocusedItem.prev(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem),!1):!this._$currentlyFocusedItem&&(this._selectedItems&&this._selectedItems.length>0||this._unresolvedItems&&this._unresolvedItems.length>0)&&this._$input[0]===document.activeElement&&!this._$input[0].selectionStart?(this._$currentlyFocusedItem=this._$input.prev(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem),!1):!0:!0;case ot.RIGHT:return this._options.multiIdentitySearch?this._$currentlyFocusedItem?(this._$currentlyFocusedItem.blur(),this._$currentlyFocusedItem.next(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.next(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this.focusOnSearchInput(),!1):!0:!0;case ot.BACKSPACE:return this._options.multiIdentitySearch?this._$currentlyFocusedItem?(t=this._$currentlyFocusedItem,this._$currentlyFocusedItem.prev(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.prev(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this._$currentlyFocusedItem.next(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.next(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this.focusOnSearchInput(),this._removeFromResolved(t.attr("data-signin")),this._removeFromUnresolved(t.attr("data-signin")),t.off(".identityPicker").remove(),this._recalculateInputWidth(),!1):(this._selectedItems&&this._selectedItems.length>0||this._unresolvedItems&&this._unresolvedItems.length>0)&&this._$input[0]===document.activeElement&&!this._$input[0].selectionStart?(this._removeFromResolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._removeFromUnresolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._$input.prev(".identity-picker-resolved").off(".identityPicker").remove(),this._recalculateInputWidth(),!1):!0:this._selectedItems&&this._selectedItems.length>0?(this._removeFromResolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._$input.prev(".identity-picker-resolved").off(".identityPicker").remove(),this._resetSearchControl(),!1):!0;case ot.DELETE:return this._options.multiIdentitySearch?this._$currentlyFocusedItem?(t=this._$currentlyFocusedItem,this._$currentlyFocusedItem.next(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.next(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this.focusOnSearchInput(),this._removeFromResolved(t.attr("data-signin")),this._removeFromUnresolved(t.attr("data-signin")),t.off(".identityPicker").remove(),this._recalculateInputWidth(),!1):!0:this._selectedItems&&this._selectedItems.length>0?(this._removeFromResolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._$input.prev(".identity-picker-resolved").off(".identityPicker").remove(),this._resetSearchControl(),!1):!0;case ot.SPACE:return this._options.multiIdentitySearch&&this._$currentlyFocusedItem?(this._$currentlyFocusedItem.click(),!1):!0;default:return!0}},t.prototype._fireInputValidityEvent=function(){!this.getInputText().length&&this._selectedItems&&this._selectedItems.length>0&&(!this._unresolvedItems||!this._unresolvedItems.length)?this._fireValidInput():this._fireInvalidInput()},t.prototype._resolveSelectedItem=function(n){if(n===void 0&&(n=!1),this.isDropdownVisible()){var t=this._identityPickerDropdown.getSelectedItem();if(t&&(this._resolveItem(t,!0,null,n),this._options.callbacks&&this._options.callbacks.onItemSelect))this._options.callbacks.onItemSelect(t)}},t.prototype._onInputKeyUp=function(n){return n&&n.keyCode!==ot.DOWN&&n.keyCode!==ot.UP&&n.keyCode!==ot.RIGHT&&this._identityPickerDropdown&&this._identityPickerDropdown.handleKeyEvent(n),!0},t.prototype._removeFromUnresolved=function(n){for(var i=this._getSearchPrefix(n).toLowerCase(),t=this._unresolvedItems.indexOf(i);t>=0;)this._unresolvedItems.splice(t,1),t=this._unresolvedItems.indexOf(i);this._fireInputValidityEvent()},t.prototype._removeFromResolved=function(n,t){function r(t){var i=et.getUniqueIdentifierForDisambiguation(t);return i.toLowerCase()===n.toLowerCase()?($(".idcard-dialog").each(function(){if($(this).is(":visible")&&$(this).attr("data-prefix")&&n.toLowerCase().indexOf($(this).attr("data-prefix").toLowerCase())===0)return $(".ui-dialog-content",$(this)).dialog("close"),!1}),!1):!0}var i=this._selectedItems.filter(r);i.length!=this._selectedItems.length&&(this._selectedItems=i,this._fireInputValidityEvent(),this._fireRemoveResolvedInput(t))},t.prototype.getInputText=function(){return this._$input.val().trim()},t.prototype._resolveInputToIdentities=function(n,i,r,u){var f=this,b=function(n){if(f._element){if(!n||!n.queryToken||!n.identities){l();return}if(n.identities.length!=1)if(i&&i.UID){var e=g.htmlEncode(n.queryToken),r={entityId:t.INACTIVE_ENTITY_ID_PREFIX+"_"+e,entityType:t.INACTIVE_ENTITY_TYPE,originDirectory:ft.VisualStudioDirectory,originId:t.INACTIVE_ORIGIN_ID_PREFIX+"_"+e,isMru:!1,active:!1,displayName:u?u:n.queryToken,signInAddress:n.queryToken,samAccountName:ft.isOnPremiseEnvironment()&&n.queryToken.indexOf("\\")>=0?n.queryToken.split("\\",2)[1]:"",scopeName:ft.isOnPremiseEnvironment()&&n.queryToken.indexOf("\\")>=0?n.queryToken.split("\\",1)[0]:""};r.image=v.ServiceHelpers.getDefaultIdentityImage(r);f._resolveItem(r,!1,n.queryToken)}else f._fireInvalidInput();else n.queryToken.toLowerCase().trim()in f._queryTokensRequested&&f._resolveItem(n.identities[0],!1,n.queryToken);f._hideDropdown();f._stopProgressCursor()}},l=function(n){f._element&&(f._stopProgressCursor(),f._fireValidInput());n&&h.logError("_resolveInputToIdentities/getIdentitiesErrorCallback:"+JSON.stringify(n))},p=n.split(v.ServiceHelpers.GetIdentities_Prefix_Separator),o=[],y,s,w,k,e,d,nt,c;for(s in p)y=p[s]?p[s].trim():"",y.length>0&&(o.push(y),this._unresolveItem(y));this._options.multiIdentitySearch||(this._queryTokensRequested={});for(s in o)this._queryTokensRequested[o[s].toLowerCase().trim()]=!0;if(w=o.length,w)for(this._showProgressCursor(),k=function(){var n=o.slice(50*c,50*c+50);d={identityServiceOptions:{operationScope:r?r:e._operationScope,identityType:e._identityType,httpClient:e._options.httpClient,extensionData:e._options.extensionData},identityExtensionOptions:{consumerId:e._options?e._options.consumerId:a.ConsumerId.UnknownConsumer},prefix:n.join(";"),queryTypeHint:i,sources:[ct.Directory],filterByScope:e._options.getFilterByScope()};nt=e._getEntityOperationsFacade().search(d).then(function(t){if(f._options.retainInputIdentitiesSequenceWithinPage)f._resolveIdentityResponseInSequence(t,n,b,l);else for(var i in t.queryTokenResponse)t.queryTokenResponse[i].then(b,l)},l)},e=this,c=0;c<=w/50;c++)k()},t.prototype._resolveIdentityResponseInSequence=function(n,i,r,u){var o=this,f=[];for(var e in n.queryTokenResponse)n.queryTokenResponse.hasOwnProperty(e)&&f.push(n.queryTokenResponse[e]);rt.allSettled(f).then(function(n){for(var l,e,v,k,f,s,y,d,p=[],w=[],h=0,b=n;h<b.length;h++)f=b[h],f.state===a.PromiseResultStatus.Fulfilled?p.push(f.value):f.state===a.PromiseResultStatus.Rejected&&w.push(f.reason);for(l={},p.forEach(function(n){return l[n.queryToken]=n}),e=0,v=i;e<v.length;e++)k=v[e],f=l[k],f&&r(f);for(s=0,y=w;s<y.length;s++)d=y[s],u(d);c.getService().fire(t.SEQUENCED_IDENTITIES_IN_PAGE_RESOLVED_EVENT_INTERNAL,o)},u)},t.prototype._replaceAndCleanup=function(n){for(var i=!1,t=new RegExp("(( *;+ *)+|^ *)("+n.replace(/[.^$*+?()[{\\|\]-]/g,"\\$&")+")(( *;+ *)+| *$)","gi");this.getInputText().search(t)>=0;)this._setInputText(this.getInputText().replace(t,";")),i=!0;return t=new RegExp("^( *;+ *)+$"),this.getInputText().search(t)||this._setInputText(""),i},t.prototype._findInSelectedItems=function(n){var i=-1,t,r;if(!n)return i;for(t=0,r=this._selectedItems.length;t<r;t++)if(this._selectedItems[t].entityId===n.entityId){i=t;break}return i},t.prototype._showIdCardDialog=function(n){if(this._showContactCard&&v.ServiceHelpers.isAuthenticatedMember()){var t={identity:n.identity,anchor:n.anchor,leftValue:n.leftValue,topValue:n.topValue,operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient?this._options.httpClient:null,consumerId:this._options.consumerId,appendTo:this._options.dialogAppendTo,useOfficeFabricProfileCard:this._options.useOfficeFabricProfileCard};s.Enhancement.enhance(wt,"<div/>",t)}},t.prototype._clearWatermark=function(){this.isDropdownVisible()&&this._hideDropdown();!this._options.forceOpen&&this._identityPickerDropdown&&this._identityPickerDropdown.reset();this._$input.hide();this._options.smallScreenRender&&this._$closeInput.hide();this._setInputText("")},t.prototype._showWatermark=function(){var n=this,a=this._isControlInFocus(),r,i,e,s,h,c,f,o,l;this._controlWidth=Math.max(this._$container.width(),t.DEFAULT_WIDTH);this._clearWatermark();r=this._options.watermark;i=$("<span/>").addClass("identity-picker-resolved").addClass("identity-picker-resolved-single-search");i.attr("tabindex","-1");i.blur(ut(this,function(t){n._identityPickerDropdown&&!n._isDropdownHovered()&&!n._isContactCardHovered()&&i.is(":visible")&&(n.isDropdownVisible()&&n._hideDropdown(t),n._options.callbacks&&n._options.callbacks.onInputBlur&&n._options.callbacks.onInputBlur())}));ft.styleElementBySize(i,this._size,!0);this._options.smallScreenRender?e=$("<span/>").addClass("icon identity-picker-text-search-icon bowtie-icon bowtie-search"):(h=v.ServiceHelpers.getDefaultIdentityImage(r),r.image&&(s=r.image),e=ft.createImgElement(h,s,"user-picture-resolved",r.entityId));ft.styleElementBySize(e,this._size,!1);c=et.getDisplayName(r);f=$("<span/>").addClass("identity-picker-watermark-name").addClass("text-cursor").text(c);i.append(e).append(f).insertBefore(this._$input);i.width(this._controlWidth-t.OUTER_PADDING_PX-(this._showMruExpander?t.TRIANGLE_WIDTH_PX:0));f.attr("tabindex","0");o=function(t){t.stopPropagation();i.off(".identityPicker").remove();n._$input.show();n._showMruTriangle();n._recalculateInputWidth();n.focusOnSearchInput();n._setInputText("")};f.on("focus.identityPicker",ut(this,function(t){if(n._isReadOnly())return!1;o(t)}));i.on("mousedown.identityPicker",ut(this,function(t){if(n._isReadOnly())return!1;t.preventDefault();o(t);n._showAllMruInDropdown(!1)}));a&&this.focusOnSearchInput();this._options.callbacks&&this._options.callbacks.getCustomTooltip&&(l=ft.createTooltip(r,this._options.callbacks.getCustomTooltip()),u.RichContentTooltip.add(l,f,{showOnFocus:!this._options.smallScreenRender}))},t.prototype._createTemporaryItem=function(n,t){var i=$("<span/>").addClass("identity-picker-resolved identity-picker-temp").attr("data-signin",ft.replaceBackslash(t)).attr("tabindex","-1"),f,r;ft.styleElementBySize(i,this._size,!0);f=ft.createImgElement(v.ServiceHelpers.DefaultUserImage,"","user-picture-resolved");ft.styleElementBySize(f,this._size,!1);r=$("<span/>").addClass("identity-picker-resolved-name").text(n);this._options.multiIdentitySearch?(i.addClass("identity-picker-resolved-bg"),r.addClass("identity-picker-search-multiple-name").css("max-width",this._getItemNameContainerMaxWidth([]))):(i.addClass("identity-picker-resolved-single-search"),this._options.highlightResolved||(i.attr("tabindex","0"),i.addClass("identity-picker-resolved-single-bg")),$(".identity-picker-resolved",this._element).off(".identityPicker").remove());this._options.highlightResolved&&r.addClass("text-cursor");i.append(f).append(r).insertBefore(this._$input);this._options.multiIdentitySearch?this._recalculateInputWidth():(this._$input.hide(),this._options.smallScreenRender&&this._$closeInput.hide());this._isControlInFocus()&&this.focusOnSearchInput();this._options.callbacks&&this._options.callbacks.getCustomTooltip&&u.RichContentTooltip.add(n,r,{showOnFocus:!this._options.smallScreenRender})},t.prototype._isControlInFocus=function(){var n=$(document.activeElement);return n.length>0&&(this._element.is(n[0])||this._element.has(n[0]).length>0)},t.prototype._createResolvedItem=function(n){var t=$("<span/>").addClass("identity-picker-resolved").attr("data-signin",ft.replaceBackslash(n));return this._isReadOnly()||t.attr("tabindex","-1"),this._options.multiIdentitySearch?t.addClass("identity-picker-resolved-bg"):(t.addClass("identity-picker-resolved-single-search"),this._showMruExpander&&this._options.highlightResolved&&t.addClass("identity-picker-drop-icon-padding"),this._options.highlightResolved||(t.attr("tabindex","0"),!this._options.ariaDescribedby||t.attr("aria-describedby",this._getAriaDescribedby(this._options.ariaDescribedby)),t.addClass("identity-picker-resolved-single-bg"))),t},t.prototype._setResolvedItemRole=function(n,t){n.attr("role","button").attr("aria-disabled","false").attr("aria-label",g.format(w.IdentityPicker_ButtonResolvedItemLabel,g.htmlEncodeJavascriptAttribute(t)));var i=s.getId().toString(),r=$("<div/>").attr("id",i).addClass("visually-hidden").appendTo(n);n.attr("aria-describedby",this._getAriaDescribedby(i));this._options.highlightResolved?r.text(w.IdentityPicker_FocusChangeValue):r.text(g.format(w.IdentityPicker_ButtonResolvedItemDescription,g.htmlEncodeJavascriptAttribute(t))+". "+(this._showContactCard&&!this._options.highlightResolved?w.IdentityPicker_EnterSpaceMessage+". ":"")+w.IdentityPicker_DeleteBackspaceMessage)},t.prototype._resolveItem=function(n,i,r,f){var e=this,d,c,a,o,nt,tt,y,l,s,h,k,p,b;if(i===void 0&&(i=!0),r===void 0&&(r=null),f===void 0&&(f=!1),this._controlWidth=Math.max(this._$container.width(),t.DEFAULT_WIDTH),n){if(d=this._isControlInFocus(),!this._options.multiIdentitySearch&&this._selectedItems&&this._selectedItems.length>0&&this._clearSearchControl(),this.isDropdownVisible()&&this._hideDropdown(),!this._options.forceOpen&&(this._options.multiIdentitySearch||!this._options.highlightResolved)&&this._identityPickerDropdown&&this._identityPickerDropdown.reset(),this._resetPreviousInput(),i&&this._setInputText(""),c=r?this._getSearchPrefix(r):"",c&&(this._replaceAndCleanup(c.toLowerCase()),this._removeFromUnresolved(c.toLowerCase()),this._element.find('.identity-picker-resolved[data-signin="'+ft.replaceBackslash(c.toLowerCase())+'"][data-unresolved="true"]').off(".identityPicker").remove()),this._options.showTemporaryDisplayName&&(this._options.multiIdentitySearch?this._element.find('.identity-picker-temp[data-signin="'+ft.replaceBackslash(c.toLowerCase())+'"]').remove():$(".identity-picker-temp",this._element).remove()),this._findInSelectedItems(n)!=-1){this._fireInputValidityEvent();return}if(this._selectedItems.push(n),$(".ui-dialog-content",$(".idcard-dialog:visible")).dialog("close"),a=et.getUniqueIdentifierForDisambiguation(n),this._$input.width(10),o=this._createResolvedItem(a.toLowerCase()),ft.styleElementBySize(o,this._size,!0),tt=v.ServiceHelpers.getDefaultIdentityImage(n),n.image&&(nt=n.image),y=ft.createImgElement(tt,nt,"user-picture-resolved",n.entityId),ft.styleElementBySize(y,this._size,!1),l=et.getDisplayName(n),this._options.smallScreenRender&&this._$closeInput.hide(),s=this._createCloseButton(),this._options.multiIdentitySearch&&s.addClass("identity-picker-resolved-bg"),this._options.highlightResolved||s.addClass("identity-picker-resolved-single-bg"),ft.styleElementBySize(s,this._size,!1),s.click(ut(this,function(n){if(e._removeFromResolved(a.toLowerCase(),!0),o.off(".identityPicker").remove(),e._identityPickerDropdown&&e._identityPickerDropdown.updatePrefix(""),e._resolvedIEntity=null,!e._options.multiIdentitySearch){e._resetSearchControl();return}e._recalculateInputWidth();e.focusOnSearchInput();n.stopPropagation()})),o.append(y).append(s).insertBefore(this._$input),h=$("<span/>").addClass("identity-picker-resolved-name").text(l),this._readOnlyMode&&h.attr("aria-label",g.format(w.ReadOnlyPrefix,this._options.ariaLabel?this._options.ariaLabel:this._placeholderText)),this._options.multiIdentitySearch&&h.addClass("identity-picker-search-multiple-name").css("max-width",this._getItemNameContainerMaxWidth([y,s])),this._options.highlightResolved?h.addClass("text-cursor"):et.isDirectoryEntityType(n)&&h.addClass("pointer-cursor"),n.active!==!1||et.isAadGroup(n)||h.addClass("identity-picker-inactive-name"),this._isReadOnly()?s.hide():this._setResolvedItemRole(o,l),o.append(h),this._options.multiIdentitySearch?this._recalculateInputWidth():(this._$input.hide(),this._options.smallScreenRender&&this._$closeInput.hide(),this._showMruExpander&&this._hideMruTriangle(),this._options.watermark&&$(".identity-picker-resolved:has(> .identity-picker-watermark-name)",this._element).off(".identityPicker").remove(),this._options.highlightResolved&&!this._isReadOnly()&&h.attr("tabindex","0")),k=function(t){t.stopPropagation();e._resolvedIEntity=n;e._removeFromResolved(a.toLowerCase());o.off(".identityPicker").remove();e._$input.show();e._showMruTriangle();e._recalculateInputWidth();e.focusOnSearchInput();e._setInputText(l);e._identityPickerDropdown&&e._identityPickerDropdown.updatePrefix(l);e._$input.select()},this._options.highlightResolved)h.on("focus.identityPicker",ut(this,function(n){if(e._isReadOnly())return!1;k(n)}));p=function(t){if($.contains(s[0],t.target)||s[0]===t.target)return!0;if(e._isReadOnly())return!1;if(b)return b=!1,!1;if(b=!0,t.preventDefault(),e._options.highlightResolved)k(t);else if(t.stopPropagation(),et.isDirectoryEntityType(n)){e._showIdCardDialog({anchor:o,identity:n,leftValue:0,consumerId:e._options.consumerId});var i=function(n){n.stopPropagation();o.off("click.identityPicker",i)};o.on("click.identityPicker",i)}e._options.highlightResolved&&e._showAllMruInDropdownWithoutDefaultSelection(!1)};b=!1;o.on("mousedown.identityPicker",ut(this,function(n){p(n)}));o.on("click.identityPicker",ut(this,function(n){p(n)}));if(!this._options.multiIdentitySearch&&!this._options.highlightResolved)o.on("keypress.identityPicker",ut(this,function(n){n&&n.keyCode===ot.ENTER&&p(n)}));o.blur(ut(this,function(n){e._identityPickerDropdown&&!e._isDropdownHovered()&&!e._isContactCardHovered()&&o.is(":visible")&&(e.isDropdownVisible()&&e._hideDropdown(n),e._options.callbacks&&e._options.callbacks.onInputBlur&&e._options.callbacks.onInputBlur())}));this._isReadOnly()||!this._showContactCard||this._options.highlightResolved||o.attr("aria-haspopup","true");this._fireInputValidityEvent();this._$container[0].scrollTop=this._$container[0].scrollHeight;d&&!f&&this.focusOnSearchInput();this._options.highlightResolved&&v.ServiceHelpers.isAuthenticatedMember()&&u.RichContentTooltip.add(ft.createTooltip(n),h,{showOnFocus:!this._options.smallScreenRender})}},t.prototype._getItemNameContainerMaxWidth=function(n){var t=this._controlWidth-ft.SCROLL_BAR_WIDTH_PX;for(var i in n)n.hasOwnProperty(i)&&(t-=parseInt(n[i].css("width"),10));return t},t.prototype._createCloseButton=function(){var n=$("<span/>").addClass("identity-picker-resolved-close-icon bowtie-icon");return n.addClass(this._options.smallScreenRender?"bowtie-edit-remove":"bowtie-edit-delete"),$("<span/>").addClass("identity-picker-resolved-close").append(n)},t.prototype._getSearchPrefix=function(n){var t=/^.*[(<{\[]\s*([^\s]+@[^\s]+\.[^\s]+[^)>}\]])\s*[)>}\]]+\s*$/.exec(n);return t&&t[0]===n?t[1]:n},t.prototype._unresolveItem=function(n){var o=this,f,i,h,r,e,c,l;if(this._controlWidth=Math.max(this._$container.width(),t.DEFAULT_WIDTH),this._resetPreviousInput(),n){if(f=this._getSearchPrefix(n),this._unresolvedItems.indexOf(f.toLowerCase())!=-1){this._replaceAndCleanup(n.toLowerCase());return}if(!this._replaceAndCleanup(n.toLowerCase()))return;this._options.showTemporaryDisplayName&&(this._options.multiIdentitySearch?this._element.find('.identity-picker-temp[data-signin="'+ft.replaceBackslash(f.toLowerCase())+'"]').remove():$(".identity-picker-temp",this._element).remove());this._fireInvalidInput();this._unresolvedItems.push(f.toLowerCase());this._$input.width(10);i=this._createResolvedItem(f.toLowerCase()).attr("data-unresolved","true");ft.styleElementBySize(i,this._size,!0);h=$("<span/>").addClass("identity-picker-resolved-close-icon bowtie-icon bowtie-edit-delete");h.addClass(this._options.smallScreenRender?"bowtie-edit-remove":"bowtie-edit-delete");r=$("<span/>").addClass("identity-picker-resolved-close").append(h);this._options.multiIdentitySearch?r.addClass("identity-picker-resolved-bg"):this._options.highlightResolved||r.addClass("identity-picker-resolved-single-bg");ft.styleElementBySize(r,this._size,!1);r.click(ut(this,function(){o._removeFromUnresolved(n.toLowerCase());i.off(".identityPicker").remove();o._recalculateInputWidth();o.focusOnSearchInput()}));i.append(r).insertBefore(this._$input);e=$("<span/>").addClass("identity-picker-unresolved-name").text(g.decodeHtmlSpecialChars(n));this._options.multiIdentitySearch&&e.addClass("identity-picker-search-multiple-name").css("max-width",this._getItemNameContainerMaxWidth([r]));i.attr("role","button").attr("aria-label",g.format(w.IdentityPicker_ButtonUnresolvedItemLabel,n));c=s.getId().toString();l=$("<div/>").attr("id",c).addClass("visually-hidden").appendTo(i);l.text(g.format(w.IdentityPicker_ButtonUnresolvedItemDescription,n)+". "+w.IdentityPicker_DeleteBackspaceMessage);i.attr("aria-describedby",c);i.append(e);this._recalculateInputWidth();this.focusOnSearchInput();this._$container[0].scrollTop=this._$container[0].scrollHeight;u.RichContentTooltip.add(w.IdentityPicker_UnresolvedIdentity+": "+n,e,{showOnFocus:!this._options.smallScreenRender})}},t.prototype._generatePlaceHolder=function(n){return this._isInArray(v.ServiceHelpers.UserEntity,n)&&this._isInArray(v.ServiceHelpers.GroupEntity,n)?w.IdentityPicker_PlaceholderTextUserGroup:this._isInArray(v.ServiceHelpers.UserEntity,n)&&!this._isInArray(v.ServiceHelpers.GroupEntity,n)?w.IdentityPicker_PlaceholderTextUser:!this._isInArray(v.ServiceHelpers.UserEntity,n)&&this._isInArray(v.ServiceHelpers.GroupEntity,n)?w.IdentityPicker_PlaceholderTextGroup:w.IdentityPicker_PlaceholderTextPrefix},t.prototype._isInArray=function(n,t){return t.indexOf(n)>=0},t.INVALID_INPUT_EVENT="identity-picker-search-invalid-input",t.VALID_INPUT_EVENT="identity-picker-search-valid-input",t.RESOLVED_INPUT_REMOVED_EVENT="identity-picker-resolved-input-removed",t.SEARCH_STARTED_EVENT="identity-picker-search-started",t.SEARCH_FINISHED_EVENT="identity-picker-search-finished",t.DIALOG_MOVE_EVENT="dialog-move",t.SEQUENCED_IDENTITIES_IN_PAGE_RESOLVED_EVENT_INTERNAL="identity-picker-sequenced-identities-in-page-resolved-internal",t.SEARCH_MRU_TRIANGLE_CLASS="identity-picker-search-drop-icon",t.DEFAULT_WIDTH=140,t.OUTER_PADDING_PX=2,t.TRIANGLE_WIDTH_PX=19,t.NAME_PADDING_PX=8,t.INACTIVE_ENTITY_TYPE="inactive_entitytype",t.INACTIVE_ENTITY_ID_PREFIX="INACTIVE_ENTITY_ID",t.INACTIVE_ORIGIN_ID_PREFIX="INACTIVE_ORIGIN_ID",t}(s.Control);t.IdentityPickerSearchControl=dt,function(n){n[n.Small=0]="Small";n[n.Medium=1]="Medium";n[n.Large=2]="Large"}(st=t.IdentityPickerControlSize||(t.IdentityPickerControlSize={})),function(n){n[n.AvatarText=0]="AvatarText";n[n.AvatarOnly=1]="AvatarOnly";n[n.TextOnly=2]="TextOnly"}(pt=t.EDisplayControlType||(t.EDisplayControlType={})),function(n){n[n.ExpiredAccessToken=0]="ExpiredAccessToken";n[n.IsGuestUser=1]="IsGuestUser"}(kt||(kt={}));gt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._displayedEntity=null,i._identityType=t.identityType?t.identityType:{User:!0},i._operationScope=t.operationScope?t.operationScope:{IMS:!0},i._size=t.size!==null&&t.size!==undefined?t.size:st.Medium,i._turnOffHover=t.turnOffHover?t.turnOffHover:!1,i}return __extends(t,n),t.prototype.initialize=function(){var t,i;if(n.prototype.initialize.call(this),v.ServiceHelpers.isAuthenticatedMember()||(this._turnOffHover=!0),t=this._options.item,!t||(typeof t=="string"||t instanceof String)&&!t.trim()){i={source:"IdentityDisplayControl.initialize()",message:"The item argument to the IdentityDisplayControl cannot be null or empty"};throw i;}this._displayType=this._options.displayType?this._options.displayType:pt.AvatarText;(typeof t=="string"||t instanceof String)&&t?(t=t.trim(),this._displayString(t),this._resolveStringToEntity(t)):this._displayEntity(t,"")},t.prototype.getDisplayedEntity=function(){if(this._displayedEntity)return this._displayedEntity;throw{source:"getResolvedEntity",message:"No resolved entity found."};},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=b.getService(yt)),this._entityOperationsFacade},t.prototype._resolveStringToEntity=function(n){var t=this,r=function(i){if(t._element){if(!i||!i.queryToken||!i.identities)return;if(i.identities.length!=1)return;t._getEntityOperationsFacade().queryTokenEntityImageCache.set(n,i.identities[0].image);t._displayEntity(i.identities[0],n)}},i=function(n){n&&h.logWarning("_resolveStringToEntity/getIdentitiesErrorCallback:"+JSON.stringify(n))},u={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:a.ConsumerId.UnknownConsumer},prefix:n,queryTypeHint:{UID:!0},sources:[ct.Directory]},f=this._getEntityOperationsFacade().search(u).then(function(n){for(var u in n.queryTokenResponse)n.queryTokenResponse[u].then(ut(t,r),ut(t,i))},i)},t.prototype._showIdCardDialog=function(n){v.ServiceHelpers.isAuthenticatedMember()&&s.Enhancement.enhance(wt,"<div/>",{identity:n.identity,anchor:n.anchor,leftValue:n.leftValue,operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient?this._options.httpClient:null,consumerId:this._options.consumerId,appendTo:this._options.dialogAppendTo})},t.prototype._displayString=function(n){var t=$("<span/>").addClass("identity-picker-display").attr("data-item",n).attr("tabindex","-1"),i,r,f,e;this._turnOffHover||u.RichContentTooltip.add(this._options.friendlyDisplayName?this._options.friendlyDisplayName+" <"+n+">":n,t);ft.styleElementBySize(t,this._size,!0);i=null;this._displayType!=pt.TextOnly&&(r=this._getEntityOperationsFacade().queryTokenEntityImageCache.get(n),f=r?r:v.ServiceHelpers.DefaultUserImage,i=ft.createImgElement(f,"","user-picture-resolved"),ft.styleElementBySize(i,this._size,!1),t.append(i));this._displayType!=pt.AvatarOnly?(e=$("<span/>").addClass("identity-picker-resolved-name").text(this._options.friendlyDisplayName?this._options.friendlyDisplayName:n),t.append(e)):i.attr("alt",this._options.friendlyDisplayName?this._options.friendlyDisplayName+" <"+n+">":n);t.appendTo(this._element)},t.prototype._displayEntity=function(n,i){var r=this,f,o,c,s,l,a;if(n){this._displayedEntity=n;var e=et.getDisplayName(this._displayedEntity),y=et.getUniqueIdentifierForDisambiguation(this._displayedEntity),u=$("<span/>").addClass("identity-picker-display").attr("data-signin",ft.replaceBackslash(y.toLowerCase())).attr("tabindex","-1");if(ft.styleElementBySize(u,this._size,!0),f=null,o=null,this._displayType!=pt.TextOnly&&(c=v.ServiceHelpers.getDefaultIdentityImage(this._displayedEntity),f=ft.createImgElement(c,this._displayedEntity.image?this._displayedEntity.image:"","user-picture-resolved",this._displayedEntity.entityId),ft.styleElementBySize(f,this._size,!1),u.append(f)),this._displayType!=pt.AvatarOnly?(o=$("<span/>").addClass("identity-picker-resolved-name").text(e),$('.identity-picker-display[data-item="'+i+'"]',this._element).remove(),u.append(o)):(s=et.getSignInAddress(this._displayedEntity),f.attr("alt",e!==s?e+" <"+s+">":e)),l=function(){var n=$('.idcard-dialog[data-objectid="'+r._displayedEntity.entityId+'"]');n.length&&$(".ui-dialog-content",n).dialog("close")},a=function(){r._hoverIdCardEnterTimer=new d.DelayedFunction(r,t.DEFAULT_HOVER_WAIT_ENTER_INTERVAL,"showDisplayControlContactCard",function(){r._element.parent().length>0&&r._element.is(":visible")&&r._showIdCardDialog({anchor:u,identity:r._displayedEntity,leftValue:0,consumerId:r._options.consumerId})})},!this._turnOffHover&&et.isDirectoryEntityType(this._displayedEntity))u.on("mouseenter",function(){r._hoverIdCardEnterTimer?r._hoverIdCardEnterTimer.reset():(a(),r._hoverIdCardEnterTimer.start())}).on("mouseleave",function(){r._hoverIdCardEnterTimer&&r._hoverIdCardEnterTimer.cancel();var n=$('.idcard-dialog[data-objectid="'+r._displayedEntity.entityId+'"]'),i=function(){r._hoverIdCardExitTimer?r._hoverIdCardExitTimer.reset():(r._hoverIdCardExitTimer=new d.DelayedFunction(r,t.DEFAULT_HOVER_WAIT_EXIT_INTERVAL,"closeDisplayControlContactCard",l),r._hoverIdCardExitTimer.start())};n&&n.length&&n.mouseenter(function(){r._hoverIdCardExitTimer.cancel();n.mouseleave(function(){i()})});i()});this._element.empty();u.appendTo(this._element)}},t.DEFAULT_HOVER_WAIT_ENTER_INTERVAL=800,t.DEFAULT_HOVER_WAIT_EXIT_INTERVAL=200,t.MIN_WIDTH=100,t.OUTER_PADDING_PX=2,t}(s.Control);t.IdentityDisplayControl=gt;ft=function(){function n(){}return n.styleElementBySize=function(n,t,i){i===void 0&&(i=!0);switch(t){case st.Small:i?n.addClass("element-height-small"):n.addClass("element-2d-small");n.hasClass("identity-picker-resolved-single-search")&&n.addClass("element-height-small-compensate-padding");break;case st.Medium:i?n.addClass("element-height-medium"):n.addClass("element-2d-medium");n.hasClass("identity-picker-resolved-single-search")&&n.addClass("element-height-medium-compensate-padding");break;case st.Large:i?n.addClass("element-height-large"):n.addClass("element-2d-large");n.hasClass("identity-picker-resolved-single-search")&&n.addClass("element-height-large-compensate-padding")}},n.createImgElement=function(n,t,i,r){t===void 0&&(t="");i===void 0&&(i="");r===void 0&&(r="");var u=$("<img>").css("background","url('".concat(n,"') no-repeat")).css("background-size","100%").attr("src",t?t:n).attr("alt","").attr("draggable","false").on("dragstart",function(){return!1});u.on("error",function(){u.attr("src")&&u.attr("src")===n?(u.off("error"),u.css("background-color","#7d7d7d").css("background-size","100%")):u.attr("src",n)});u.on("load",function(){u.attr("src")&&u.attr("src")!==n&&u.css("background-image","none")});return i&&u.addClass(i),r&&u.attr("data-objectid",r),u},n.getRandomString=function(){return Math.random().toString(36).substring(5)},n.getSizePx=function(n){switch(n){case st.Small:return 16;case st.Medium:return 24;case st.Large:return 32}},n.isValidEmail=function(n){var t=n.split("@");return t.length===2&&t[0].length>=1&&t[1].length>=1?!0:!1},n.isOnPremiseEnvironment=function(){return!o.getPageContext().webAccessConfiguration.isHosted==!0},n.sortGroupMembersByName=function(n){return n.sort(function(n,t){return!n||!n.displayName?-1:!t||!t.displayName?1:n.displayName.toLocaleLowerCase().localeCompare(t.displayName.toLocaleLowerCase())})},n.createTooltip=function(t,i){var u,r,f;return i?i:t?(u=t.displayName&&t.displayName.trim()?t.displayName:"",r="",n.isOnPremiseEnvironment()?t.samAccountName&&t.samAccountName.trim()&&(r="("+(t.scopeName&&t.scopeName.trim()?t.scopeName+"\\":"")+t.samAccountName+")"):t.signInAddress&&t.signInAddress.trim()&&(r="<"+t.signInAddress+">"),f="",t.active!==!1||et.isAadGroup(t)||(f=" - "+(t.entityType.toLowerCase().trim()==v.ServiceHelpers.UserEntity?w.IdentityPicker_InactiveUser:t.entityType.toLowerCase().trim()==v.ServiceHelpers.GroupEntity?w.IdentityPicker_InactiveGroup:w.IdentityPicker_InactiveIdentity)),(u?u:"")+(r?" "+r:"")+f):""},n.replaceBackslash=function(n){return n.replace(/\\/g,"%")},n.UserEntityType=v.ServiceHelpers.UserEntity,n.GroupEntityType=v.ServiceHelpers.GroupEntity,n.VisualStudioDirectory=v.ServiceHelpers.VisualStudioDirectory,n.AzureActiveDirectory=v.ServiceHelpers.AzureActiveDirectory,n.SourceDirectory=v.ServiceHelpers.SourceDirectory,n.FIXED_POSTIION_CLASS="identity-picker-fixed-position",n.SCROLL_BAR_WIDTH_PX=20,n.IDENTITY_ITEM_BUFFER_WIDTH_PX=18,n}();at=function(){function n(){}return n.createStringEntity=function(t,i){var r=g.htmlEncode(t),u={entityId:n.STRING_ENTITY_ID_PREFIX+"_"+r,entityType:n.STRING_ENTITY_TYPE,originDirectory:n.STRING_DIRECTORY,originId:n.STRING_ORIGIN_ID_PREFIX+"_"+r,localDirectory:n.STRING_DIRECTORY,localId:n.STRING_LOCAL_ID_PREFIX+"_"+r,isMru:!1,displayName:r};return u.image=i||v.ServiceHelpers.getDefaultIdentityImage(u),u},n.isStringEntityId=function(t){return!t||!t.trim()?!1:t.indexOf(n.STRING_ENTITY_ID_PREFIX)==0?!0:!1},n.isStringPrefixedLocalId=function(t){return!t||!t.trim()?!1:t.indexOf(n.STRING_LOCAL_ID_PREFIX)==0},n.STRING_ENTITY_TYPE="string_entitytype",n.STRING_ENTITY_ID_PREFIX="STRING_ENTITYID",n.STRING_DIRECTORY="STRING_DIRECTORY",n.STRING_ORIGIN_ID_PREFIX="STRING_ORIGINID",n.STRING_LOCAL_ID_PREFIX="STRING_LOCALID",n}();t.EntityFactory=at;var et=function(){function n(){}return n.isDirectoryEntityType=function(n){return n.entityType?n.entityType.toLowerCase().trim()==v.ServiceHelpers.UserEntity||n.entityType.toLowerCase().trim()==v.ServiceHelpers.GroupEntity:!1},n.isAadGroup=function(n){return n.entityType&&n.entityType.toLowerCase().trim()==v.ServiceHelpers.GroupEntity&&n.originDirectory.toLowerCase().trim()==v.ServiceHelpers.AzureActiveDirectory},n.getUniqueIdentifierForDisambiguation=function(n){return ft.isOnPremiseEnvironment()||n.entityType.toLowerCase().trim()!=v.ServiceHelpers.UserEntity?n.entityId:n.signInAddress&&ft.isValidEmail(n.signInAddress)?n.signInAddress:n.entityId},n.getDisplayName=function(t){return t.displayName&&t.displayName.trim()?t.displayName:n.getSignInAddress(t,n.isGitHubIdentity(t))},n.isGitHubIdentity=function(n){return n.originDirectory&&n.originDirectory.toLowerCase().trim()==v.ServiceHelpers.GitHubDirectory},n.getNonDiacriticDisplayName=function(n){return this.replaceDiacriticCharacters(this.getDisplayName(n))},n.replaceDiacriticCharacters=function(n){var t,i,r;if(n){for(t=n,i=0;i<t.length;i++)r=t.charAt(i),r in a.diacriticsRemovalMap&&(t=t.replace(r,a.diacriticsRemovalMap[r]));return t}return n},n.getSignInAddress=function(n,t){return(t===void 0&&(t=!1),ft.isOnPremiseEnvironment()&&n.samAccountName&&n.samAccountName.trim())?(n.scopeName&&n.scopeName.trim()?n.scopeName+"\\":"")+n.samAccountName:!t&&n.signInAddress&&n.signInAddress.trim()?n.signInAddress:!t&&n.mail&&n.mail.trim()?n.mail:n.mailNickname&&n.mailNickname.trim()?n.mailNickname:""},n}(),ri=function(){function n(){}return n.prototype.getIdentityAttributes=function(n){if(n.entityType.trim().toLowerCase()==v.ServiceHelpers.UserEntity)return new ti(n);if(n.entityType.trim().toLowerCase()==v.ServiceHelpers.GroupEntity)return new ii(n);throw{source:"getIdentityAttributes",message:"identity entityType do not match existing type"};},n}(),vt=function(){function n(n,t,i){this._displayTitle=n;this._displayContent=t;this._needWordWrap=i?i:!1}return n.prototype.getDisplayTitle=function(){return this._displayTitle},n.prototype.getDisplayContent=function(){return this._displayContent},n.prototype.constructAttribute=function(n){var r=$("<div/>").addClass("identity-picker-idcard-attribute-name").attr("id","identity-picker-idcard-attribute-name_"+n).text(this.getDisplayTitle()),i=this.getDisplayContent(),t=$("<div/>").addClass("identity-picker-idcard-ellipsis-overflow"),f;return u.RichContentTooltip.addIfOverflow(i,t,{menuContainer:t}),this._isValidSendEmailAttribute()?f=$("<a/>").attr({"aria-labelledby":"identity-picker-idcard-attribute-name_"+n,href:"mailto:"+i,tabindex:"0"}).text(i).appendTo(t):t.text(this.getDisplayContent()),this._needWordWrap&&t.addClass("identity-picker-idcard-word-wrap"),[r,t]},n.prototype._isValidSendEmailAttribute=function(){return w.IdentityPicker_IdCardMail.toLowerCase()==this.getDisplayTitle().toLowerCase().trim()&&ft.isValidEmail(this.getDisplayContent())},n}(),ui=function(){function n(){this._withContactCard=!1;this._smallScreenRender=!1;this._withContactCard=!0;this._focusElementOnContactCardClose=null}return n.prototype.withPrefix=function(n){return this._prefix=n,this},n.prototype.withEntity=function(n){return this._entity=n,this},n.prototype.withContactCard=function(n,t){return this._withContactCard=n,this._withContactCard&&(this._focusElementOnContactCardClose=t),this},n.prototype.forControlOfSize=function(n){return this._size=n,this},n.prototype.withIdentityServiceOptions=function(n){return this._identityServiceOptions=n,this},n.prototype.withIdentityExtensionOptions=function(n){return this._identityExtensionOptions=n,this},n.prototype.withHoverSupport=function(n){return this._supportsHover=n,this},n.prototype.withSmallScreenRender=function(n){return this._smallScreenRender=n,this},n.prototype.withDialogAppendTo=function(n){return this._dialogAppendTo=n,this},n.prototype.registerCallbacks=function(n){return this._callbacks=n,this},n.prototype.build=function(){var i=this,t,c,f,e,o,s,r,l,h,v,y;if(!this._entity||this._size===null||this._size===undefined||!this._identityServiceOptions||!this._identityServiceOptions.identityType||!this._identityServiceOptions.operationScope||!this._callbacks)return null;if(t=$("<li/>").attr("role","option"),this._smallScreenRender&&(c=$("<i/>").addClass("ms-Icon ms-Icon--CheckMark"),f=$("<span/>").addClass("container"),c.appendTo(f),e=$("<span/>").addClass("selected-fade"),f.appendTo(e),e.appendTo(t)),ft.styleElementBySize(t,this._size,!0),n._appendImage(this._entity,t,this._size),o=et.isGitHubIdentity(this._entity),s=!o&&this._withContactCard&&et.isDirectoryEntityType(this._entity),this._entity.isMru&&et.isDirectoryEntityType(this._entity)&&(r=$("<div/>").addClass("bowtie-icon bowtie-edit-delete bowtie-icon-small identity-picker-delete-icon").attr("role","button").appendTo(t),u.RichContentTooltip.add(w.IdentityPicker_RemoveFromMru,r,{menuContainer:r}),ft.styleElementBySize(r,this._size,!1),s&&r.addClass("with-idcard"),r.hide(),l=ut(this,function(){var n={};n[a.TelemetryProperties.entityId]=i._entity.entityId;n[a.TelemetryProperties.consumerId]=i._identityExtensionOptions?i._identityExtensionOptions.consumerId:a.ConsumerId.UnknownConsumer;tt.publishEvent(new tt.TelemetryEventData(a.Telemetry.Area,a.Telemetry.Feature_Click_Remove_Mru,n));i._callbacks.deleteIconClickDelegate(i._entity,t)}),this._callbacks.deleteIconClickDelegate&&r.click(l)),s&&!et.isGitHubIdentity(this._entity)&&n._appendIdCard(this._entity,t,this._size,this._identityServiceOptions,this._identityExtensionOptions,this._callbacks,this._focusElementOnContactCardClose,this._dialogAppendTo),h=n._appendTextContainer(this._entity,t,this._size,this._prefix,this._smallScreenRender),this._size==st.Small&&(v=this._entity.entityType.toLowerCase().trim()==at.STRING_ENTITY_TYPE?this._entity.displayName:et.getSignInAddress(this._entity,o),u.RichContentTooltip.add(v,h,{menuContainer:h})),y=function(){var n,r;i._smallScreenRender&&(n=17,d.delay(null,n,function(){t.children(".selected-fade").attr("class","selected-fade-active")}),r=400,d.delay(null,n+r,function(){t.children(".selected-fade").attr("class","selected-fade")}));i._callbacks.entityListItemClickDelegate(i._entity)},this._callbacks.entityListItemClickDelegate&&t.click(y),this._entity.isMru&&this._supportsHover)t.on("mouseenter",ut(this,function(){t.children(".identity-picker-delete-icon").show()})).on("mouseleave",ut(this,function(){t.children(".identity-picker-delete-icon").hide()}));return t},n._appendTextContainer=function(t,i,r,u,f){var s,o,e;return f===void 0&&(f=!1),s=et.isGitHubIdentity(t)&&!(t.displayName&&t.displayName.trim()),s?o=$("<div/>").addClass("item-text-container").append($("<div/>").append($("<div/>").addClass("bowtie-icon bowtie-brand-github list-icon")).addClass("title-only").addClass(r==st.Large?"large":"").append(n._highlightPrefix(et.getDisplayName(t),u,!0))):(o=$("<div/>").addClass("item-text-container").append($("<div/>").addClass("title").addClass(r==st.Large?"large":"").append(n._highlightPrefix(et.getDisplayName(t),u,!0))),e=et.getSignInAddress(t,et.isGitHubIdentity(t)),e=g.isGuid(e)?"":e,r!=st.Small&&e&&e.trim()&&o.append($("<div/>").append($("<div/>").addClass(et.isGitHubIdentity(t)?"bowtie-icon bowtie-brand-github list-icon":"")).addClass("subtitle").addClass(r==st.Large?"large":"").append(n._highlightPrefix(e,u)))),o.appendTo(i),f||o.height(ft.getSizePx(r)+lt.IMAGE_MARGINS_PX),o},n._appendImage=function(n,t,i){var f=v.ServiceHelpers.getDefaultIdentityImage(n),r,u;n.image&&(r=n.image);u=ft.createImgElement(f,r,r&&r.trim()?"identity-picture":"identity-picture hidden",n.entityId).appendTo(t);ft.styleElementBySize(u,i,!1)},n._appendIdCard=function(n,t,i,r,f,e,o,h){var c=$("<div/>").addClass("bowtie-icon bowtie-contact-card identity-picker-contact-card-icon").attr("role","button").appendTo(t),l;u.RichContentTooltip.add(w.IdentityPicker_ShowContactCardTitle,c,{menuContainer:c});ft.styleElementBySize(c,i,!1);l=ut(this,function(t){t.stopPropagation();var u={identity:n,anchor:c,operationScope:r.operationScope,identityType:r.identityType,httpClient:r.httpClient?r.httpClient:null,focusElementOnClose:o,leftValue:c.offset().left,topValue:c.offset().top+c.outerHeight(),consumerId:f.consumerId,appendTo:h},i={};i[a.TelemetryProperties.entityId]=n.entityId;i[a.TelemetryProperties.consumerId]=f?f.consumerId:a.ConsumerId.UnknownConsumer;tt.publishEvent(new tt.TelemetryEventData(a.Telemetry.Area,a.Telemetry.Feature_Click_IdCard,i));s.Enhancement.enhance(wt,"<div/>",u)});c.click(l)},n._highlightPrefix=function(n,t,i){var u;if(i===void 0&&(i=!1),!n)return null;var o=et.replaceDiacriticCharacters(n),s=et.replaceDiacriticCharacters(t),r=o.toLowerCase().indexOf(s.toLowerCase()),f=function(n,t,i){return $("<span/>").append(g.htmlEncode(n.substring(0,i))).append($("<b>").text(n.substr(i,t))).append(g.htmlEncode(n.substr(i+t)))},e=function(n,t,i,r){for(var u=et.replaceDiacriticCharacters(n),e=et.replaceDiacriticCharacters(t);i>0&&u.charAt(i-1)!=r;)i=u.toLowerCase().indexOf(e.toLowerCase(),i+1);return i>0?f(n,t.length,i):null};if(r){if(r>0){if(i&&(u=e(n,t,r," "),u)||ft.isOnPremiseEnvironment()&&t.indexOf("\\")<0&&(u=e(n,t,r,"\\"),u))return u}else if(ft.isOnPremiseEnvironment()&&t.indexOf("\\")>0)if(t=t.substring(t.indexOf("\\")+1),r=o.toLowerCase().indexOf(s.toLowerCase()),r){if(i&&(u=e(n,t,r," "),u))return u}else return f(n,t.length,r)}else return f(n,t.length,r);return $("<span/>").text(n)},n}(),ct=function(){function n(){}return n.Directory="Directory",n.Mru="Mru",n.Persistent="Persistent",n.String="String",n}();t.SourceId=ct,function(n){n[n.Sync=0]="Sync";n[n.Async=1]="Async"}(ni=t.SourceType||(t.SourceType={}));bt=function(){function n(){}return n.PreferFirst="preferfirst",n.PreferSecond="prefersecond",n}();yt=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._mruEntities={},t._syncSources={},t._requestStack=[],t._deferredStack=[],t._userMruReady={},t._entityRetrieverPrepComplete={},t._mruEntitiesPromise={},t._mruEntities={},t.registerSyncSource({id:ct.Mru,sourceType:ni.Sync,getEntities:t._mruSourceGetEntitiesHandler,sortRank:10}),t.queryTokenEntityImageCache=new y.HashCache,t}return __extends(t,n),t.prototype.registerSyncSource=function(n){if(!(n.id in this._syncSources)){for(var t in this._syncSources)if(this._syncSources[t].sortRank==n.sortRank)return;this._syncSources[n.id]=n}},t.prototype.search=function(n){var i=this,e,u,f;if(!n.sources||n.sources.length==0||!n.identityServiceOptions){e={source:"EntityOperationsFacade: search",message:"missing arguments"};throw e;}var o=rt.defer(),s=o.promise,r=l.FilterByScope.GetHashCode(n.filterByScope);return typeof this._requestStack[r]=="undefined"&&(this._requestStack[r]=[]),this._requestStack[r].push(n),typeof this._deferredStack[r]=="undefined"&&(this._deferredStack[r]=[]),this._deferredStack[r].push(o),u=ut(this,function(){for(var e=function(){var e=i._requestStack[r].pop(),o=i._deferredStack[r].pop();n=[];f=i._getRegisteredSyncSourcesSorted().filter(function(n){return e.sources.indexOf(n)!=-1});f&&f.forEach(ut(i,function(r){var u=i._syncSources[r].getEntities.bind(i),f=u(n,e);n=t.mergeEntities(f,n)}));u={entityResponse:[],queryTokenResponse:{}};e.sources.indexOf(ct.Directory)!=-1&&(u.queryTokenResponse=i._directorySourceGetEntities(n,e));n.length>0?i.getImagesForEntities(n,e).then(function(t){n.forEach(ut(i,function(n){t.hasOwnProperty(n.entityId)&&(n.image=t[n.entityId])}));u.entityResponse=n;o.resolve(u)}):o.resolve(u)},n,f,u;i._requestStack[r].length>0;)e()}),f=this.load({loadMru:n.sources.indexOf(ct.Mru)!=-1,filterByScope:n.filterByScope}),f.isFulfilled()?u():f.then(u,u),s},t.prototype.isUserMruReady=function(n){return this._userMruReady[l.FilterByScope.GetHashCode(n)]},t.prototype.getMruEntitiesUnchecked=function(n){return this._mruEntities[l.FilterByScope.GetHashCode(n)]},t.prototype.refreshUserMru=function(n){return this._getUserMruEntities(null,null,n)},t.prototype.load=function(n){var i=this,t=l.FilterByScope.GetHashCode(n.filterByScope);return this._entityRetrieverPrepComplete[t]&&(!n.loadMru||this._userMruReady[t])?this._entityRetrieverPrepComplete[t].promise:(this._entityRetrieverPrepComplete[t]=rt.defer(),n.loadMru?this._mruEntitiesPromise[t]?this._mruEntitiesPromise[t].then(ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!0)}),ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!1)})):(this._mruEntitiesPromise[t]=this._getUserMruEntities(null,null,n.filterByScope),this._mruEntitiesPromise[t].then(ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!0)}),ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!1)}))):this._entityRetrieverPrepComplete[t].resolve(!0),this._entityRetrieverPrepComplete[t].promise)},t.filterEntities=function(n,t){return!n||n.length==0?[]:n.filter(function(n){return n.displayName&&et.getNonDiacriticDisplayName(n).toLowerCase().indexOf(et.replaceDiacriticCharacters(t))==0?!0:ft.isOnPremiseEnvironment()&&n.samAccountName&&n.samAccountName.trim().toLowerCase().indexOf(t)==0||ft.isOnPremiseEnvironment()&&n.scopeName&&n.samAccountName&&(n.scopeName+"\\"+n.samAccountName).trim().toLowerCase().indexOf(t)==0||n.signInAddress&&n.signInAddress.trim().toLowerCase().indexOf(t)==0||!n.signInAddress&&n.mail&&n.mail.trim().toLowerCase().indexOf(t)==0||!n.signInAddress&&!n.mail&&n.mailNickname&&n.mailNickname.trim().toLowerCase().indexOf(t)==0?!0:!1})},t.mergeEntities=function(n,i,r){var u,f,e;if(r===void 0&&(r=bt.PreferFirst),u={},f=[],!n&&!i)return[];if(!i||i.length==0)return n?n:[];if(!n||n.length==0)return i?i:[];n.forEach(function(n){var i=t._getMergingKeyFromEntity(n);u[i]=u.hasOwnProperty(i)?t._mergeSimilarEntities(u[i],n,r):n});i.forEach(function(n){var i=t._getMergingKeyFromEntity(n),f;i in u?(f=t._mergeSimilarEntities(u[i],n,r),u[i]=f):u[i]=n});for(e in u)u[e].isMru?f.unshift(u[e]):f.push(u[e]);return f},t.prototype.getImagesForEntities=function(n,t){var r=rt.defer(),s=r.promise,e={},c=b.getService(v.IdentityService),u,f,o;try{u=c.getIdentityImages(n,{httpClient:t&&t.identityServiceOptions&&t.identityServiceOptions.httpClient?t.identityServiceOptions.httpClient:null});f=[];for(o in u)f.push(u[o]);rt.allSettled(f).then(function(n){n.forEach(function(n){if(n.state==a.PromiseResultStatus.Fulfilled){if(!n.value||Object.keys(n.value).length!=1||!Object.keys(n.value)[0]||!Object.keys(n.value)[0].trim())return;var i=Object.keys(n.value)[0],t=n.value[i];if(!t||!t.trim())return;e[i]=t}else n.state==a.PromiseResultStatus.Rejected&&n.reason&&h.logError("_getImagesForEntities/_getImagesForEntitiesErrorCallback:"+JSON.stringify(n.reason))});r.resolve(e)},function(n){n&&h.logError("_getImagesForEntities/_getImagesForEntitiesErrorCallback:"+JSON.stringify(n));r.reject(n)})}catch(i){if(i!==Object(i)||!("source"in i)||i.source!="IdentityService")throw i;}return s},t._getMergingKeyFromEntity=function(n){var t,i;return ft.isOnPremiseEnvironment()&&n&&n.entityType&&n.localId&&n.localDirectory.toLowerCase().trim()==v.ServiceHelpers.VisualStudioDirectory&&(n.entityType.toLowerCase().trim()==v.ServiceHelpers.UserEntity||n.entityType.toLowerCase().trim()==v.ServiceHelpers.GroupEntity)?n.localId:n.entityType.toLowerCase().trim()==v.ServiceHelpers.UserEntity?(t=et.getSignInAddress(n),i=t?t:n.entityId,i):n.entityType.toLowerCase().trim()==v.ServiceHelpers.GroupEntity?n.displayName&&n.displayName.trim()?n.mailNickname&&n.mailNickname.trim()?n.displayName+n.mailNickname:n.mail&&n.mail.trim()?n.displayName+n.mail:n.displayName:n.entityId:n.entityType.toLowerCase().trim()==at.STRING_ENTITY_TYPE?n.entityId:void 0},t._mergeSimilarEntities=function(n,i,r){var f,u,e;if(r===void 0&&(r=bt.PreferFirst),n==null)return i;if(i==null)return n;f={entityId:t._computeValue("entityId",n,i,r),entityType:t._computeValue("entityType",n,i,r),originDirectory:t._computeValue("originDirectory",n,i,r),originId:t._computeValue("originId",n,i,r),localDirectory:t._computeValue("localDirectory",n,i,r),localId:t._computeValue("localId",n,i,r)};u=["displayName","scopeName","department","jobTitle","mail","mailNickname","physicalDeliveryOfficeName","signInAddress","surname","guest","description","image","isMru","samAccountName","active","telephoneNumber",];for(e in u)f[u[e]]=t._computeValue(u[e],n,i,r);return f},t._computeValue=function(n,t,i,r){r===void 0&&(r=bt.PreferFirst);return r==bt.PreferFirst?t[n]?typeof t[n]=="string"||t[n]instanceof String?t[n].trim()?t[n]:i[n]:t[n]:i[n]:i[n]?typeof i[n]=="string"||i[n]instanceof String?i[n].trim()?i[n]:t[n]:i[n]:t[n]},t._filterMruEntitiesByIdentityType=function(n,t){if(!n.identityServiceOptions||!n.identityServiceOptions.identityType)return t;var i=v.ServiceHelpers.getIdentityTypeList(n.identityServiceOptions.identityType);return t.filter(function(n){return i.indexOf(n.entityType.trim().toLowerCase())>=0})},t.prototype._mruSourceGetEntitiesHandler=function(n,i){var r=t._filterMruEntitiesByIdentityType(i,this._mruEntities[l.FilterByScope.GetHashCode(i.filterByScope)]);return i.prefix&&(r=t.filterEntities(r,i.prefix)),r},t.prototype._directorySourceGetEntities=function(n,i){var e=this,c,o,u,l;if(!i||!i.prefix)return{};var r={},s={},a=b.getService(v.IdentityService);try{c={httpClient:i.identityServiceOptions.httpClient,minResults:i.identityServiceOptions.minResults?i.identityServiceOptions.minResults:n?n.length>v.IdentityService.MIN_RESULTS?0:v.IdentityService.MIN_RESULTS-n.length:v.IdentityService.MIN_RESULTS,maxResults:i.identityServiceOptions.minResults?i.identityServiceOptions.minResults:v.IdentityService.MAX_RESULTS,extensionData:i.identityServiceOptions.extensionData,getFilterByScope:function(){return i.filterByScope}};o=a.getIdentities(i.prefix,i.identityServiceOptions.operationScope,i.identityServiceOptions.identityType,c,i.queryTypeHint,i.identityExtensionOptions);for(u in o)l=ut(this,function(u){o[u].then(ut(e,function(f){i.prefix&&i.prefix.length>=1&&(f.identities=f&&f.identities?t.mergeEntities(f.identities,n):n);f.identities.length>0?e.getImagesForEntities(f.identities,i).then(function(n){f.identities.forEach(function(t){n.hasOwnProperty(t.entityId)&&(t.image=n[t.entityId])});r[u].resolve(f)}):r[u].resolve(f)}),ut(e,function(n){n&&h.logWarning("_directorySourceGetEntities/getIdentitiesErrorCallback:"+JSON.stringify(n));r[u].reject(n?n:null)}))}),l(u),r[u]=rt.defer(),s[u]=r[u].promise}catch(f){if(f!==Object(f)||!("source"in f)||f.source!="IdentityService")throw f;}return s},t.prototype._getRegisteredSyncSourcesSorted=function(){var n=this,t=Object.keys(this._syncSources);return t.sort(function(t,i){return n._syncSources[t].sortRank>n._syncSources[i].sortRank?1:-1}),t},t.prototype._getUserMruEntities=function(n,t,i){var f=this,e=rt.defer(),c=e.promise,r=l.FilterByScope.GetHashCode(i),o,s,h;try{return(this._userMruReady[r]=!1,o=ut(this,function(n){f._userMruReady[r]=!0;f._mruEntities[r]=n.filter(function(n){return n.active!==!1});f._mruEntities[r].forEach(function(n){n.image=v.ServiceHelpers.getDefaultIdentityImage(n)});e.resolve(!0)}),s=ut(this,function(){f._mruEntities[r]=[];e.resolve(!1)}),l.FilterByScope.isFilterByScopeEmpty(i))?rt(o([])):(h=b.getService(v.MruService),h.getMruIdentities({IMS:!0},v.MruService.DEFAULT_IDENTITY_ID,v.MruService.DEFAULT_FEATURE_ID,{httpClient:n?n.httpClient:null,filterByScope:i},{consumerId:t?t.consumerId:a.ConsumerId.UnknownConsumer}).then(o,s))}catch(u){if(u!==Object(u)||!("source"in u)||u.source!="MruService")throw u;}return c},t}(b.VssService);t.EntityOperationsFacade=yt;ti=function(){function n(n){this._attributes=this._mapEntityPropertiesToAttributes(n)}return n.prototype._mapEntityPropertiesToAttributes=function(n){var t=[];return n.jobTitle&&t.push(new vt(w.IdentityPicker_IdCardJobTitle,n.jobTitle)),n.mailNickname&&!g.isGuid(n.mailNickname)&&t.push(new vt(w.IdentityPicker_IdCardAlias,n.mailNickname)),n.physicalDeliveryOfficeName&&t.push(new vt(w.IdentityPicker_IdCardOffice,n.physicalDeliveryOfficeName)),n.department&&t.push(new vt(w.IdentityPicker_IdCardDepartment,n.department)),t},n.prototype.isEmpty=function(){return!(this._attributes.length>0)},n.prototype._appendAttributeBlock=function(t,i){var r=this._attributes[t].constructAttribute(n._idCardEntityAttributeCounter++);for(var u in r)r[u].appendTo(i)},n.prototype.toRows=function(){var i=[],n,r,t,u,f;for(r in this._attributes)t=parseInt(r),this._isEven(t)?(n&&i.push(n),n=$("<div/>").addClass("identity-picker-idcard-row"),u=$("<div/>").addClass("identity-picker-idcard-left-attribute").appendTo(n),this._appendAttributeBlock(t,u)):(f=$("<div/>").addClass("identity-picker-idcard-right-attribute").appendTo(n),this._appendAttributeBlock(t,f));return n&&i.push(n),i},n.prototype._isEven=function(n){return n%2==0},n._idCardEntityAttributeCounter=0,n}();ii=function(){function n(n){this._attributes=this._mapEntityPropertiesToAttributes(n)}return n.prototype._mapEntityPropertiesToAttributes=function(n){var t=[],i=new vt(w.IdentityPicker_IdCardDescription,n.description?n.description:"",!0);return t.push(i),n.scopeName&&t.push(new vt(w.IdentityPicker_IdCardGroupSource,this._getScopeNameByDirectoryType(n))),n.mail&&t.push(new vt(w.IdentityPicker_IdCardMail,n.mail)),n.mailNickname&&!g.isGuid(n.mailNickname)&&t.push(new vt(w.IdentityPicker_IdCardAlias,n.mailNickname)),t},n.prototype._getScopeNameByDirectoryType=function(n){var t=n.originDirectory.trim().toLowerCase()==v.ServiceHelpers.VisualStudioDirectory?w.IdentityPicker_IdCardImsGroupSource:w.IdentityPicker_IdCardAadGroupSource;return g.format(t,n.scopeName)},n.prototype.isEmpty=function(){return!(this._attributes.length>0)},n.prototype._appendAttributeBlock=function(t,i){var r=this._attributes[t].constructAttribute(n._idCardEntityAttributeCounter++);for(var u in r)r[u].appendTo(i)},n.prototype.toRows=function(){var t=$("<div/>").addClass("identity-picker-idcard-info"),r,n,u,f,e,o,i;if(this._isValidIndex(1))for(r=$("<div/>").addClass("identity-picker-idcard-column").appendTo(t),n=1;this._isValidIndex(n);)u=$("<div/>").addClass("identity-picker-idcard-row").appendTo(r),f=$("<div/>").addClass("identity-picker-idcard-left-attribute").appendTo(u),this._appendAttributeBlock(n,f),n++;return this._attributes[0].getDisplayContent()&&(e=$("<div/>").addClass("identity-picker-idcard-column").appendTo(t),o=$("<div/>").addClass("identity-picker-idcard-left-attribute").appendTo(e),this._appendAttributeBlock(0,o)),i=[],i.push(t),i},n.prototype._isValidIndex=function(n){return typeof this._attributes[n]!="undefined"},n._idCardEntityAttributeCounter=0,n}()});

define("TfsCommon/Scripts/WITIdentityHelpers",["require","exports","VSS/Locations","VSS/Identities/Picker/Controls","VSS/Utils/String","VSS/WebApi/Constants"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.WITIdentityHelpers=void 0;var e=function(){function n(){}return n.isAADIdentity=function(n){return u.equals(n.originDirectory,"aad",!0)&&n.originId&&!n.localId},n.isTfsGroup=function(n){var t=n.displayName.indexOf("\\");return u.equals(n.entityType,"Group",!0)&&u.startsWith(n.displayName,"[")&&t!==-1&&u.endsWith(n.displayName.substring(0,t),"]")},n.getVsIdFromGroupUniqueName=function(t){var i,r,f,e;return t?(r="",f=t.lastIndexOf(n.IDENTITY_UNIQUENAME_SEPARATOR),i=f===-1?t:t.substr(0,f),u.startsWith(i,n.TFS_GROUP_PREFIX)&&(e=i.substr(3).trim(),r=u.isGuid(e)?e:""),r):""},n.getDescriptorFromUniqueName=function(t){return t?t.indexOf(n.DESCRIPTOR_PREFIX)!==0?"":t.replace(/desc:/i,""):""},n.getUniquefiedIdentityName=function(t){var i,r,f;return t?(i=t.signInAddress||t.mail||t.samAccountName,n.isAADIdentity(t)?(r=u.equals(t.entityType,"Group",!0),f=r?n.AAD_IDENTITY_GROUP_PREFIX:n.AAD_IDENTITY_USER_PREFIX,(t.signInAddress||t.mail)&&!r?u.format("{0} {1}{2}{3}\\{4}{5}",t.displayName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,f,t.originId,t.signInAddress||t.mail,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):u.format("{0} {1}{2}{3}{4}",t.displayName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,f,t.originId,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END)):n.isTfsGroup(t)?t.localId?u.format("{0} {1}{2}{3}{4}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.TFS_GROUP_PREFIX,t.localId.toUpperCase(),n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.displayName:i?i.indexOf("@")===-1&&t.scopeName?u.format("{0} {1}{2}\\{3}{4}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,t.scopeName,i,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):u.format("{0} {1}{2}{3}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,i,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.subjectDescriptor?u.format("{0} {1}{2}{3}{4}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.DESCRIPTOR_PREFIX,t.subjectDescriptor,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.displayName||""):""},n.getUniqueIdentityNameForContextIdentity=function(t,i){return t?u.format("{0} {1}{2}{3}",i,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,t,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):i||""},n.getFriendlyDistinctDisplayName=function(t,i){return i.displayName&&i.entityId&&!n.isTfsGroup(i)?t:i.displayName||""},n.parseUniquefiedIdentityName=function(t){var p,w;if(!t)return null;var o=t.lastIndexOf(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START),h=t.lastIndexOf(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END),v=!1,l=!1,s=t;o>=0&&h>o&&(l=!0,s=s.replace(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START).replace(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END));o=s.lastIndexOf(n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START);h=s.lastIndexOf(n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END);var a=s,c="",e="",y="",f="";return o>=0&&h>o&&h===s.length-1&&(a=s.substr(0,o).trim(),l?(f=s.substr(o+1,h-o-1).trim(),f.indexOf(n.AAD_IDENTITY_USER_PREFIX)===0?f=f.substr(n.AAD_IDENTITY_USER_PREFIX.length):f.indexOf(n.AAD_IDENTITY_GROUP_PREFIX)===0&&(v=!0,f=f.substr(n.AAD_IDENTITY_GROUP_PREFIX.length)),p=f.lastIndexOf("\\"),p>0&&(e=f.substr(p+1).trim(),e.indexOf("@")!==-1?(c=e,f=f.substr(0,p).trim()):(a=t,f="",v=!1))):(e=s.substr(o+1,h-o-1).trim(),w=n.getVsIdFromGroupUniqueName(e),y=n.getDescriptorFromUniqueName(e),e.indexOf("@")!==-1||e.indexOf("\\")!==-1||e.indexOf(n.DESCRIPTOR_PREFIX)!==-1||w||u.isGuid(e)?(c=e,w!==""&&(f=w,v=!0,c="")):a=t)),f||c||y?{localId:l?undefined:f,displayName:a,signInAddress:c,originDirectory:l?"aad":"vsd",entityId:y||f||c,entityType:v?"Group":"User",originId:l?f:undefined,subjectDescriptor:y}:r.EntityFactory.createStringEntity(a,i.urlHelper.getVersionedContentUrl("notassigned-user.svg"))},n.getEntityIdentifier=function(n,t,i){var e=u.equals(n.entityType||"",r.EntityFactory.STRING_ENTITY_TYPE,!0),f;return e?"":(f=n.subjectDescriptor||n.localId||n.signInAddress||n.mail,t)?f:i&&!f?"":f?"".concat(n.displayName," <").concat(f,">"):n.displayName},n.getDistinctDisplayNameFromGraphSubject=function(t,i){return t?this.isGraphGroup(t)&&(i||t.originId)&&t.principalName?u.format("{0} {1}{2}{3}{4}",t.principalName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.TFS_GROUP_PREFIX,(i||t.originId).toUpperCase(),n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):this.isGraphUser(t)&&t.mailAddress?"".concat(t.displayName," <").concat(t.mailAddress,">"):t.displayName:undefined},n.isGraphGroup=function(n){return u.equals(n.subjectKind,f.SubjectKind.Group,!0)},n.isGraphUser=function(n){return u.equals(n.subjectKind,f.SubjectKind.User,!0)},n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<",n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<<",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">>",n.TFS_GROUP_PREFIX="id:",n.AAD_IDENTITY_USER_PREFIX="user:",n.AAD_IDENTITY_GROUP_PREFIX="group:",n.IDENTITY_UNIQUENAME_SEPARATOR="\\",n.DESCRIPTOR_PREFIX="desc:",n}();t.WITIdentityHelpers=e});

define("WorkItemTracking/Scripts/Utils/WorkItemIdentityHelper",["require","exports","Presentation/Scripts/TFS/TFS.OM.Identities","VSS/Utils/String","VSS/Graph/RestClient","VSS/Service","VSS/WebApi/Constants","TfsCommon/Scripts/WITIdentityHelpers","VSS/Error","VSS/VSS","VSS/Events/Services","VSS/Navigation/HubsService","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function nt(n){w(n)&&n.identityRef&&n.identityRef.descriptor&&(b[n.identityRef.descriptor]=!0)}function k(n,t){var u=w(n),f=d(n),i,r;if(!t||u||f){if(u)return i=n,t?i.identityRef:i.distinctDisplayName||i.identityRef.displayName;if(f)return r=n,t?r:r.displayName}else return g(n);return n}function w(n){if(n&&n.identityRef!==undefined){var t=n;return t.distinctDisplayName&&!v[t.distinctDisplayName]&&(v[t.distinctDisplayName]=t),t.identityRef&&t.identityRef.descriptor&&!y[t.identityRef.descriptor]&&(y[t.identityRef.descriptor]=t),!0}return!1}function d(n){return!!(n&&n.displayName!==undefined)}function g(n){if(v[n])return v[n].identityRef;var t=i.IdentityHelper.parseUniquefiedIdentityName(n),r=i.IdentityHelper.getIdentityImageUrlByIdentity(t);return t&&t.isAadIdentity?{displayName:n}:t&&{displayName:t.displayName,uniqueName:t.uniqueName,imageUrl:r,_links:{avatar:{href:r}}}}function tt(n){if(n&&n.subjectDescriptor){var t={distinctDisplayName:o.WITIdentityHelpers.getUniquefiedIdentityName(n),identityRef:{displayName:n.displayName,descriptor:n.subjectDescriptor}};return y[n.subjectDescriptor]||(y[n.subjectDescriptor]=t),v[t.distinctDisplayName]||(v[t.distinctDisplayName]=t),t}return null}function it(n){if(w(n))return n;var t=k(n,!0);return t||(t={displayName:n}),{distinctDisplayName:n,identityRef:t}}function rt(n){var f=w(n),r=f?n.identityRef:n,t,u;return r?(t=r._links,u=r.imageUrl,t&&t.avatar&&t.avatar.href)?t.avatar.href:u?u:i.IdentityHelper.getIdentityImageUrlByIdentity(n):i.IdentityHelper.getIdentityImageUrlByIdentity(null)}function ut(n){var t,i;return!n||n.length===0?n:(t={},n.forEach(function(n){return t[n.distinctDisplayName]=n}),i=Object.keys(t).sort(r.localeIgnoreCaseComparer),i.map(function(n){return t[n]}))}function ft(n){return __awaiter(this,void 0,void 0,function(){var i,r,t,u,f,c;return __generator(this,function(l){switch(l.label){case 0:if(!(n&&n.descriptor))return[3,7];if(i=y[n.descriptor],i&&b[n.descriptor])return[2,Promise.resolve(i)];et();l.label=1;case 1:return l.trys.push([1,6,,7]),[4,p.lookupSubjects({lookupKeys:[n]})];case 2:return(r=l.sent(),r=r.value,!r[n.descriptor])?[3,5]:(t=r[n.descriptor],u=void 0,!(t.descriptor&&a.startsWith(t.descriptor,e.SubjectType.AadGroup,a.localeIgnoreCaseComparer)))?[3,4]:[4,p.getStorageKey(t.descriptor)];case 3:f=l.sent();f&&(u=f.value);l.label=4;case 4:return i={distinctDisplayName:o.WITIdentityHelpers.getDistinctDisplayNameFromGraphSubject(t,u),identityRef:{descriptor:t.descriptor,displayName:t.displayName,imageUrl:t._links&&t._links.avatar&&t._links.avatar.href,_links:t._links}},v[i.distinctDisplayName]=i,y[i.identityRef.descriptor]=i,b[i.identityRef.descriptor]=!0,[2,i];case 5:return[3,7];case 6:return c=l.sent(),s.publishErrorToTelemetry({name:"UnableToResolveWorkItemIdentityRef",message:h.getErrorMessage(c)}),[3,7];case 7:return[2,{distinctDisplayName:n&&n.displayName,identityRef:n}]}})})}function et(){p||(p=f.VssConnection.getConnection().getHttpClient(u.GraphHttpClient5,e.ServiceInstanceTypes.SPS))}Object.defineProperty(t,"__esModule",{value:!0});t.resolveIdentityRefToWorkItemIdentityRef=t.uniqueSortWorkItemIdentityRefObjects=t.getAvatarUrl=t.convertWorkItemIdentityRefFromFieldValue=t.createWorkItemIdentityRefFromEntity=t.createIdentityRefFromDistinctDisplayName=t.isIdentityRef=t.isWorkItemIdentityRef=t.convertPotentialIdentityRefFromFieldValue=t.setResolvedByDescriptorIfWorkItemIdentityRef=void 0;var v={},y={},b={},p;c.getService().attachEvent(l.HubEventNames.PreXHRNavigate,function(){v={};y={};b={};p=null});t.setResolvedByDescriptorIfWorkItemIdentityRef=nt;t.convertPotentialIdentityRefFromFieldValue=k;t.isWorkItemIdentityRef=w;t.isIdentityRef=d;t.createIdentityRefFromDistinctDisplayName=g;t.createWorkItemIdentityRefFromEntity=tt;t.convertWorkItemIdentityRefFromFieldValue=it;t.getAvatarUrl=rt;t.uniqueSortWorkItemIdentityRefObjects=ut;t.resolveIdentityRefToWorkItemIdentityRef=ft});

define("WorkItemTracking/Scripts/Utils/WorkItemRichTextHelper",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemRichTextHelper=void 0;var r;(function(n){function t(n,t,i){var u="<style>\nhtml, body\n{\n    height: 100%;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n}\nhtml {\n    overflow: hidden;\n}\nbody\n{\n    font-family: Segoe UI, Helvetica Neue, Helvetica, Arial, Verdana;\n    color: #222222;\n    background-color: #ffffff;\n    font-size: 14px;\n    word-break: break-word;\n    margin:0;\n    padding: 5px;\n    box-sizing: border-box;\n    overflow: auto;\n}\n\nbody.invalid\n{\n    background-color: #ffc;\n}\n\nP\n{\n    line-height: 1.5em;\n    margin: 0;\n}\n\nbody.watermark {\n    color: #999999;\n    font-style: italic;\n}\n\nimg \n{ \n    max-width: 100%; \n}\n\na, a:visited {\n    color: #007acc;\n}\n\n\na.mention-link {\n    text-decoration: none;\n}\n\n.mention-widget-workitem {\n    background: rgba(244, 244, 244, 1);\n    padding: 2px .333em;\n    display: inline;\n    word-break: break-word;\n    margin: 0 1px;\n    border-radius: 2px;\n    line-height: 24px;\n    font-style: normal;\n    font-weight: normal;\n    border-left: 2px solid transparent;\n}\n\n.mention-widget-workitem-no-access {\n    background: rgba(244, 244, 244, 1);\n    padding: 2px .333em;\n    display: inline;\n    word-break: break-word;\n    margin: 0 1px;\n    border-radius: 2px;\n    line-height: 24px;\n    font-style: normal;\n    font-weight: normal;\n}\n\n.mention-widget-workitem-typeid {\n    color: rgba(16, 110, 190, 1);\n}\n\n.mention-widget-workitem-title {\n    color: rgba(0, 0, 0, .9);\n    font-weight: 600;\n}\n\n.mention-widget-workitem-state {\n    border-left: 1px solid rgba(200, 200, 200, 1);\n    padding: 0px 8px 0px 4px;\n    display: inline-flex;\n    align-items: center;\n    margin: 4px 2px 4px 8px;\n    line-height: 14px;\n    vertical-align: bottom;\n    color: rgba(0, 0, 0, .9);\n    height: 16px;\n}\n\n.workitem-state-color {\n    border: 3px solid transparent;\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    margin: 0px 4px;\n    background-clip: padding-box;\n}\n\n.mention-preview-person {\n    color: rgba(16, 110, 190, 1);\n    font-weight: bold;\n    background-color: rgba(244, 244, 244, 1);\n}\n\n.mention-preview-me {\n    color: rgba(218, 10, 0, 1);\n}\n\n.mention-preview-person-clickable {\n    cursor: pointer;\n}\n\n.mention-widget {\n    color: $communication-foreground;\n    cursor: pointer;\n}\n\n.mention-widget * {\n    cursor: pointer;\n}\n\n.mention-card {\n    box-shadow: 0 0 20px gray;\n}\n\n.work-item-type-icon-host {\n    display: inline-block;\n}\n\n.work-item-type-icon {\n    min-width: 14px;\n    display: inline;\n}\n\n.secondary-text {\n    color: rgba(0, 0, 0, .55)\n}\n\n.work-item-type-icon-no-tooltip {\n    margin-right: 5px;\n}\n\n.mention-widget-item {\n    background: rgba(244, 244, 244, 1);\n    padding: 0 .333em;\n    display: inline;\n    word-break: break-word;\n}\n\n.mention-widget-typeid {\n    color: rgba(16, 110, 190, 1);\n}\n\n.mention-widget-title {\n    color: rgba(0, 0, 0, .9)\n}\n\n".concat(i||"","\n<\/style>"),r="";return t&&(r+='<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">'),"<head>"+r+u+"<\/head>"}function r(n){var r=$.parseHTML(n),t=!0;return $.each(r,function(n,r){return t=r.textContent!==undefined&&r.textContent.trim()===i.empty&&(r.innerHTML===undefined||r.innerHTML!==undefined&&r.tagName!=="IMG"&&r.innerHTML.indexOf("img")===-1&&r.innerHTML.indexOf("li")===-1),t?void 0:t}),t}n.getPageHtml=t;n.isHtmlVisuallyBlank=r})(r=t.WorkItemRichTextHelper||(t.WorkItemRichTextHelper={}))});

define("WorkItemTracking/Scripts/WorkItemMetadataCacheStampManager",["require","exports","q","VSS/Service","VSS/Utils/String","VSS/Contributions/Services","VSS/WebApi/Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","WorkItemTracking/Scripts/Utils/PerfScenarioManager","WorkItemTracking/Scripts/CustomerIntelligence","Presentation/Scripts/TFS/MVCToDataProviderDataSources/MVCToDataProviderDataSource","VSS/Error"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemMetadataCacheStampManager=void 0;var a=function(){function n(n){this._cachedPromises={};this._workItemMetaDataCacheStamps={};this._tfsContext=n}return n.prototype.ensureStampsForCurrentProject=function(t,i){var s=this,o,u;return i===void 0&&(i=!1),o=t.toUpperCase(),u=r.getService(f.WebPageDataService),u.ensureDataProvidersResolved([{id:n.MetadataStampsKey,properties:{serviceInstanceType:e.ServiceInstanceTypes.TFS}}],i).then(function(){var t=u.getPageData(n.MetadataStampsKey);t&&t.data&&s._setCacheStamps(t.data,o)})},n.prototype.getMetadataCacheStamp=function(n,t){var f=this,e=o.TfsContext.getDefault().navigation.projectId,r=(t||e||"").toUpperCase(),u;return r?(u=function(){return f._workItemMetaDataCacheStamps[r]?f._workItemMetaDataCacheStamps[r][n]:null},!this._workItemMetaDataCacheStamps[r])?this._cachedPromises[r]?this._cachedPromises[r].then(function(){return u()},function(){return u()}):(this._cachedPromises[r]=this._ensureMetadataCacheStamps(r,e,t),this._cachedPromises[r].then(function(){return delete f._cachedPromises[r],u()},function(n){return delete f._cachedPromises[r],l.publishErrorToTelemetry(n),u()})):i(u()):i(null)},n.prototype._fetchMetadataCacheStamps=function(n){var t=i.defer(),r={controller:"wit",action:"getMetadataCacheStamps",routeData:{project:n}};return(new c.WorkItemStoreLevelWITDataSource).getDataAsync(r,{projectId:n},!0).then(function(n){t.resolve(n.data)},function(){t.resolve(null)}),t.promise},n.prototype._ensureMetadataCacheStamps=function(t,e,o){var c=this,a=!o||u.equals(o,e||"",!0),l=function(n){c._workItemMetaDataCacheStamps[t]=n?n.workItemMetadataCacheStamp:null;c.workItemTypesEtag=n?n.rawWorkItemTypesEtagForCI:null};return a?(s.PerfScenarioManager.addSplitTiming(h.PerformanceEvents.WORKITEMTRACKING_GETMETADATACACHESTAMP_FROMPAGEDATA,!0),r.getService(f.ExtensionService).getContribution(n.MetadataStampsKey).then(function(){s.PerfScenarioManager.addSplitTiming(h.PerformanceEvents.WORKITEMTRACKING_GETMETADATACACHESTAMP_FROMPAGEDATA,!1);var t=c.getPageData(n.MetadataStampsKey);return t&&t.data&&l(t.data),i(null)})):(s.PerfScenarioManager.addSplitTiming(h.PerformanceEvents.WORKITEMTRACKING_GETMETADATACACHESTAMP_FROMAPI,!0),this._fetchMetadataCacheStamps(o).then(function(n){return s.PerfScenarioManager.addSplitTiming(h.PerformanceEvents.WORKITEMTRACKING_GETMETADATACACHESTAMP_FROMAPI,!1),l(n),i(null)}))},n.prototype._setCacheStamps=function(n,t){this._workItemMetaDataCacheStamps[t]=n?n.workItemMetadataCacheStamp:null;this.workItemTypesEtag=n?n.rawWorkItemTypesEtagForCI:null},n.prototype.addStampToParams=function(n,t,i,r){var u=function(n){return n?t?(t.stamp=n,t):{stamp:n}:t};this.getMetadataCacheStamp(n,r).then(function(n){i(u(n))})},n.prototype.getPageData=function(n){return r.getService(f.WebPageDataService).getPageData(n)},n.prototype._getApiLocation=function(n,t){return this._tfsContext.getActionUrl(n||"","wit",$.extend({project:"",team:"",area:"api"},t))},n.MetadataStampsKey="ms.vss-work-web.work-item-cache-data-provider",n}();t.WorkItemMetadataCacheStampManager=a});

define("Presentation/Scripts/TFS/FeatureRef/TFS.TeamAwarenessService",["require","exports","Presentation/Scripts/TFS/FeatureRef/TFS.AgileCommon","VSS/Contributions/Services","VSS/Diag","VSS/Service","VSS/Utils/String"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.TeamAwarenessService=t.TeamSettingsContributionId=void 0;t.TeamSettingsContributionId="ms.vss-work-web.team-wit-settings-data-provider";var o=function(n){function o(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._teamSettingsById={},t}return __extends(o,n),o.contextSupports=function(n){return n&&n.currentTeam&&!!n.currentTeam.identity.id},o.prototype.beginGetTeamMembers=function(n,t,r){var e=this;return u.Debug.assertParamIsBool(t,"includeGroups"),u.Debug.assertParamIsNumber(r,"maxResults"),new Promise(function(u,o){return f.getService(i.TeamService,e.getWebContext()).beginGetTeamMembers(n,t,r,u,o)})},o.prototype.beginGetTeamSettings=function(n){var s=this,o=f.getService(r.WebPageDataService,this.getWebContext()),i=o.getPageData(t.TeamSettingsContributionId);return i&&e.equals(i.teamId,n,!0)?Promise.resolve(i):o.getDataAsync(t.TeamSettingsContributionId,null,{teamId:n}).then(function(t){return u.Debug.assert(e.equals(t&&t.teamId,n,!0),"Retrieved teamSettings teamId does not match what was requested"),s._teamSettingsById[t.teamId]=t,t})},o.prototype.getTeamSettings=function(n){var s=f.getService(r.WebPageDataService,this.getWebContext()),i=s.getPageData(t.TeamSettingsContributionId),o;if(i&&e.equals(i.teamId,n,!0))return this._teamSettingsById[i.teamId]=i,i;if(this._teamSettingsById[n])return this._teamSettingsById[n];o="Team settings for team ".concat(n," not found in JSON island");u.Debug.fail(o);throw new Error(o);},o}(f.VssService);t.TeamAwarenessService=o});

define("Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.WorkItemTracking.Constants",["require","exports"],function(n,t){var i,r,u;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemTrackingRestResources=t.WitConstants=t.QueryResultFormat=void 0,function(n){n[n.Json=0]="Json";n[n.Html=1]="Html"}(i=t.QueryResultFormat||(t.QueryResultFormat={})),function(n){n.WorkItemsLocationId="72C7DDF8-2CDC-4F60-90CD-AB71C14A399B";n.QueriesLocationId="A67D190C-C41F-424B-814D-0E906F659301";n.WorkItemTypeFieldsLocationId="BD293CE5-3D25-4192-8E67-E8092E879EFB";n.WorkItemRuleEngineLocationId="1A3A1536-DCA6-4509-B9C3-DD9BB2981506";n.AreaName="wit";n.DefaultPreviewApiVersion="1.0-Preview.2";n.DefaultReleaseApiVersion="1.0"}(r=t.WitConstants||(t.WitConstants={})),function(n){n.WorkItems="workItems"}(u=t.WorkItemTrackingRestResources||(t.WorkItemTrackingRestResources={}))});

define("WorkItemTracking/Scripts/TFS.WorkItemTracking.WebApi",["require","exports","q","VSS/Diag","VSS/WebApi/RestClient","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.WorkItemTracking.Constants"],function(n,t,i,r,u,f){var e,o,s;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemTrackingHttpClient=t.AttachmentsLocationId=t.DefaultAttachmentChunkSize=t.AttachmentUploadType=void 0,function(n){n[n.Queries=0]="Queries";n[n.WorkItemTypeFields=1]="WorkItemTypeFields";n[n.WorkItemRuleEngine=2]="WorkItemRuleEngine";n[n.Attachments=3]="Attachments"}(e||(e={})),function(n){n.Simple="Simple";n.Chunked="Chunked"}(o=t.AttachmentUploadType||(t.AttachmentUploadType={}));t.DefaultAttachmentChunkSize=5e6;t.AttachmentsLocationId="E07B5FA4-1499-494D-A496-64B860FD64FF";s=function(n){function u(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._baseRootRequestPath=t,i}return __extends(u,n),u.prototype.beginGetRootQueries=function(n,t){var i=this._getQueryRequestOptions(n,t);return i.responseIsCollection=!0,this._beginRequest(i)},u.prototype.beginGetQueries=function(n,t,i){var u=this._getQueryRequestOptions(n,t,{query:i});return this._beginRequest(u)},u.prototype.beginGetQueriesByPath=function(n,t,i){var u=this._getQueryRequestOptions(n,t);return $.extend(u.data,{query:i}),this._beginRequest(u)},u.prototype.beginCreateQueryDefinition=function(n,t,i,u){return this._postQueryItem(n,{name:t,wiql:i,isFolder:!1},u)},u.prototype.beginCreateQueryFolder=function(n,t,i){return this._postQueryItem(n,{name:t,isFolder:!0},i)},u.prototype.beginMoveQueryItem=function(n,t,i){return this._postQueryItem(n,{id:t},i)},u.prototype.beginUpdateQueryDefinition=function(n,t,i){return this._patchQueryItem(n,{id:t,wiql:i})},u.prototype.beginRenameQueryItem=function(n,t,i){return this._patchQueryItem(n,{id:t,name:i})},u.prototype.beginDeleteQueryItem=function(n,t){var i=this._getRequestOptions(e.Queries,"DELETE",null,{query:t,project:n});return this._beginRequest(i)},u.prototype._beginGetLocation=function(n,t){var r=i.defer();switch(t){case u.WorkItemTypeFieldsLocation.id:r.resolve(u.WorkItemTypeFieldsLocation);break;case u.QueryLocation.id:r.resolve(u.QueryLocation);break;case u.AttachmentsLocation.id:r.resolve(u.AttachmentsLocation)}return r.promise},u.prototype._postQueryItem=function(n,t,i){var r=this._getRequestOptions(e.Queries,"POST",t,{query:i,project:n});return this._beginRequest(r)},u.prototype._patchQueryItem=function(n,t){var i=this._getRequestOptions(e.Queries,"PATCH",t,{query:t.id,project:n});return this._beginRequest(i)},u.prototype._getRequestOptions=function(n,i,r,u){switch(n){case e.Queries:return{httpMethod:i,area:f.WitConstants.AreaName,locationId:f.WitConstants.QueriesLocationId,routeValues:u,data:$.extend(this._getDefaultParameters(),r),responseIsCollection:!1};case e.WorkItemTypeFields:return{httpMethod:i,area:f.WitConstants.AreaName,locationId:f.WitConstants.WorkItemTypeFieldsLocationId,routeValues:u,data:$.extend(this._getDefaultParameters(),r),responseIsCollection:!1};case e.Attachments:return{httpMethod:i,area:f.WitConstants.AreaName,locationId:t.AttachmentsLocationId,routeValues:u,data:$.extend(this._getDefaultParameters(),r),responseIsCollection:!1}}},u.prototype._getQueryRequestOptions=function(n,t,i){return this._getRequestOptions(e.Queries,"GET",{$depth:t,$expand:"minimal"},$.extend({project:n},i))},u.prototype.beginGetWorkItemTypeFields=function(n,t,i){var u=this._getRequestOptions(e.WorkItemTypeFields,"GET",null,{project:n,type:t,field:i});return this._beginRequest(u)},u.prototype.getAttachmentUrl=function(n,t,i,r){var e={id:t,project:n},f=u.AttachmentsLocation;return this.getRequestUrl(f.routeTemplate,f.area,f.resourceName,e,{fileName:i,download:r,"api-version":"5.0-preview.2"})},u.prototype.beginAttachmentUpload=function(n,i,u,f,e,o){var s=f?f:t.DefaultAttachmentChunkSize;return i.size>s?this.beginAttachmentUploadChunked(n,i,u,s,e,o):this.beginAttachmentUploadSimple(n,i,u,o)},u.prototype.beginAttachmentUploadChunked=function(n,t,i,u,f,e){var s=this,o;return o=jQuery.Deferred(),this._registerAttachment(n,t,i,e).then(function(r){s._uploadAttachment(n,r.id,t,u,f,e,i).then(function(){return o.resolve(r)},function(n){return o.reject(n)})}),o.promise()},u.prototype.beginAttachmentUploadSimple=function(n,t,i,u){var s=this;var e=jQuery.Deferred(),f=new FileReader,h=!1,c=function(n){h=!0;e.reject(n)};try{f.readAsArrayBuffer(t)}catch(l){c(l)}return f.onerror=function(n){c(n)},f.onloadend=function(){if(!h&&f.readyState===f.DONE){var t=new Uint8Array(f.result),r=$.extend(s._getAttachmentUploadRequestParams("POST",n,o.Simple,i,null,u),{data:t,isRawData:!0});s._beginRequest(r).then(function(n){return e.resolve(n)},function(n){return e.reject(n)})}},e.promise()},u.prototype._registerAttachment=function(n,t,i,r){var u=this._getAttachmentUploadRequestParams("POST",n,o.Chunked,i,null,r);return this._beginRequest(u)},u.prototype._uploadAttachment=function(n,i,u,f,e,s,h){function y(){var t;typeof u.slice=="function"&&(!e||e())?t=u.slice(v,l+1):c.reject();var n=new FileReader,i=!1,r=function(n){i=!0;c.reject(n)};try{n.readAsArrayBuffer(t)}catch(o){r(o)}n.onerror=function(n){r(n)};n.onloadend=function(){if(!i&&n.readyState===n.DONE){var t=$.extend(p,{data:new Uint8Array(n.result),isRawData:!0,customHeaders:{"Content-Range":"bytes "+v+"-"+l+"/"+a}});w._beginRequest(t).then(function(){return l<a-1?(v+=f,l=Math.min(l+f,a-1),y()):c.resolve(),null},function(n){return c.reject(n)})}}}var c;c=jQuery.Deferred();(!f||f<=0)&&(f=t.DefaultAttachmentChunkSize);var a=u.size,v=0,l=Math.min(f,a)-1,p=this._getAttachmentUploadRequestParams("PUT",n,o.Chunked,h,i,s),w=this;return y(),c.promise()},u.prototype._getAttachmentUploadRequestParams=function(n,i,r,u,e,o){var s={area:f.WitConstants.AreaName,locationId:t.AttachmentsLocationId,queryParams:{uploadType:r,areaPath:u,fileName:o},routeValues:{project:i},httpMethod:n,apiVersion:f.WitConstants.DefaultReleaseApiVersion};return e?$.extend(s,{routeValues:{id:e,project:i}}):s},u.prototype._getDefaultParameters=function(){return{"api-version":f.WitConstants.DefaultReleaseApiVersion}},u.QueryLocation={id:f.WitConstants.QueriesLocationId,area:f.WitConstants.AreaName,maxVersion:"2.0",minVersion:"2.0",releasedVersion:"2.0",resourceName:"queries",resourceVersion:2,routeTemplate:"{project}/_apis/{area}/{resource}/{*query}"},u.WorkItemTypeFieldsLocation={id:f.WitConstants.WorkItemTypeFieldsLocationId,area:f.WitConstants.AreaName,maxVersion:"2.0",minVersion:"1.0",releasedVersion:"1.0",resourceName:"workItemTypesField",resourceVersion:1,routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}"},u.AttachmentsLocation={id:t.AttachmentsLocationId,area:f.WitConstants.AreaName,resourceName:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",resourceVersion:1,minVersion:"1.0",maxVersion:"2.0",releasedVersion:"1.0"},u}(u.VssHttpClient);t.WorkItemTrackingHttpClient=s});

define("TFS/WorkItemTracking/BatchRestClient",["require","exports","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u){"use strict";function e(){return i.getClient(f)}Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.WorkItemTrackingHttpBatchClient=void 0;var f=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._batchApiVersion="4.0-preview",i}return __extends(t,n),t.prototype.createWorkItemsBatch=function(n,t,i){for(var f,u=[],e="/".concat(t,"/_apis/wit/workitems/$").concat(i,"?api-version=").concat(this._batchApiVersion),r=0,o=n.length;r<o;r++)f={method:"PATCH",uri:e,headers:{"Content-Type":"application/json-patch+json"},body:n[r]},u.push(f);return this._beginBatchRequest(u)},t.prototype.updateWorkItemsBatch=function(n){var t=this,i=n.map(function(n){return t._createBatchRequest(n[0],"PATCH","workItems",n[1])});return this._beginBatchRequest(i)},t.prototype.destroyWorkItemsBatch=function(n){var t=this._createBatchRequests(n,"DELETE","recyclebin");return this._beginBatchRequest(t)},t.prototype.restoreWorkItemsBatch=function(n){var t=this._createBatchRequests(n,"PATCH","recyclebin",[{op:"replace",path:"/IsDeleted",value:!1},]);return this._beginBatchRequest(t)},t.prototype.deleteWorkItemsBatch=function(n){var t=this._createBatchRequests(n,"DELETE","workItems");return this._beginBatchRequest(t)},t.prototype.getQueriesBatch=function(n){var t=this._createBatchRequests(n,"GET","queries");return this._beginQueryBatchRequest(t)},t.prototype._createBatchRequests=function(n,t,i,r){for(var e,f=[],u=0,o=n.length;u<o;u++)e=this._createBatchRequest(n[u],t,i,r),f.push(e);return f},t.prototype._createBatchRequest=function(n,t,i,r){return{method:t,uri:"/_apis/wit/".concat(i,"/").concat(n,"?api-version=").concat(this._batchApiVersion),headers:{"Content-Type":"application/json-patch+json"},body:r}},t.prototype._beginBatchRequest=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"A5AD93C8-56B7-4CB0-A9C0-8419DBD7FC71",resource:"batch",routeTemplate:"_apis/{area}/${resource}",data:n,apiVersion:this._batchApiVersion})},t.prototype._beginQueryBatchRequest=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"batch",routeTemplate:"_apis/{area}/${resource}",data:n,apiVersion:this._batchApiVersion})},t.serviceInstanceId=u.ServiceInstanceTypes.TFS,t}(r.VssHttpClient);t.WorkItemTrackingHttpBatchClient=f;t.getClient=e});

define("VSS/Utils/Html",["require","exports","VSS/Diag","VSS/Utils/Array","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f){var e,c,a,p;Object.defineProperty(t,"__esModule",{value:!0});t.Utils=t.TemplateEngine=t.HtmlNormalizer=void 0,function(n){function h(n,t){var i,r,u,f,e;if(t){if(Array.isArray(t)){for(i=0;i<t.length;i++)n[t[i].toUpperCase()]=0;return}for(r=0,u=Object.keys(t);r<u.length;r++)f=u[r],e=t[f],n[f.toUpperCase()]=e?e:0}}function c(n){h(e,n)}function t(n,t,i,u){var f={attributes:{},eolBefore:t,eolAfter:i};r[n.toUpperCase()]=f;h(f.attributes,u)}function v(n){(n||[]).forEach(function(n){return t(n,!1,!1)})}function nt(n){(n||[]).forEach(function(n){return l[n.toUpperCase()]=0})}function y(){r||(r={},t("a",!1,!1,{charset:0,href:0,hreflang:0,name:0,rel:0,rev:0,shape:0,tabindex:0,target:{_BLANK:0},type:0}),t("blockquote",!0,!0,["cite"]),t("br",!1,!0,["clear"]),t("caption",!0,!0,["align"]),t("col",!0,!0,["align","char","charoff","span","valign","width"]),t("colgroup",!0,!0,["align","char","charoff","span","valign","width"]),t("del",!1,!1,["cite","datetime"]),t("dir",!0,!0,["compact"]),t("div",!0,!0,["align"]),t("dl",!0,!0,["compact"]),t("font",!1,!1,["color","face","size"]),t("h1",!0,!0,["align"]),t("h2",!0,!0,["align"]),t("h3",!0,!0,["align"]),t("h4",!0,!0,["align"]),t("h5",!0,!0,["align"]),t("h6",!0,!0,["align"]),t("hr",!0,!0,["align","size","width"]),t("img",!1,!1,["align","alt","border","height","hspace","ismap","longdesc","name","src","usemap","vspace","width","alt2","src2"]),t("video",!0,!0,["border","height","src","width","controls","poster","muted","loop"]),t("ins",!1,!1,["cite","datetime"]),t("li",!0,!0,["type","value"]),t("map",!1,!1,["name"]),t("menu",!0,!0,["compact"]),t("input",!0,!0,{checked:0,disabled:0,type:{CHECKBOX:0,TEXT:0}}),t("ol",!0,!0,["compact","start","type"]),t("p",!0,!0,["align"]),t("pre",!0,!0,["width"]),t("q",!1,!1,["cite"]),t("table",!0,!0,["align","border","cellpadding","cellspacing","frame","rules","summary","width","caption"]),t("tbody",!1,!1,["align","char","charoff","valign"]),t("td",!0,!0,["abbr","align","axis","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]),t("tfoot",!0,!0,["align","char","charoff","valign"]),t("th",!0,!0,["abbr","align","axis","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]),t("thead",!0,!0,["align","char","charoff","valign"]),t("tr",!0,!0,["align","char","charoff","valign"]),t("ul",!0,!0,["compact","type"]),t("dd",!0,!0,[]),t("dt",!0,!0,[]),t("details",!1,!1,["open"]),v(["abbr","acronym","address","b","bdo","big","center","cite","code","dfn","em","i","summary","figure","figcaption"]),v(["kbd","s","samp","small","span","strike","strong","sub","sup","tt","u","var","mark"]),v(["annotation","math","mfrac","mi","mn","mo","mover","mrel","mrow","mspace","msqrt","mstyle","msub","msubsup","msup","mtext","semantics"]))}function p(){var i,r,n,t,f,e;if(!u){for(u={},i=["b","i","u","em","small","strong","sub","sup","ins","del","mark","font","code","pre","h1","h2","h3","h4","h5","h6","strike","ul","ol","dl","table","tbody","colgroup","col","tfoot","thead"],r={li:{tagToReplace:"p"},dt:{tagToReplace:"p"},dd:{tagToReplace:"p"},tr:{tagToReplace:"div"},th:{tagToReplace:"span",afterTagText:" "},td:{tagToReplace:"span",afterTagText:" "}},n=0;n<i.length;n++)u[i[n].toUpperCase()]={tagToReplace:""};for(t=0,f=Object.keys(r);t<f.length;t++)e=f[t],u[e.toUpperCase()]=r[e]}}function tt(){l||(l={},nt(["script","style","option","select","textarea"]))}function it(){e||(e={},c(["dir","lang","title","style","id","class","contenteditable"]),c({role:{BUTTON:0,CHECKBOX:0,CELL:0,COLUMNHEADER:0,COMBOBOX:0,GRID:0,GRIDCELL:0,HEADING:0,LINK:0,LISTBOX:0,MENU:0,MENUBAR:0,MENUITEM:0,MENUITEMCHECKBOX:0,MENUITEMRADIO:0,OPTION:0,RADIO:0,RADIOGROUP:0,ROW:0,ROWGROUP:0,ROWHEADER:0,SWITCH:0,TAB:0,TABLIST:0,TOOLTIP:0,TREE:0,TREEGRID:0,TREEITEM:0}}),c(["aria-label","aria-labelledby","aria-describedby"]),c({"aria-hidden":{TRUE:0,FALSE:0}}),c({"aria-disabled":{TRUE:0,FALSE:0}}))}function rt(){o||(o={},h(o,["src","href","cite","longdesc"]),h(o,["background-image","list-style-image"]))}function ut(){if(!s){s={};var n=function(n,t){return n&&n.toUpperCase()==="IMG"&&t&&t.toUpperCase()==="SRC"};s.BLOB=function(t,i,r){if(!n(t,i))return!1;var e=r.indexOf(":"),u=r.substr(e+1);return u.indexOf(":")>=0?f.isSafeProtocol(u):!0};s.DATA=function(t,i,r){return n(t,i)?r.toUpperCase().search("DATA:IMAGE/\\w+;")===0:!1}}}function ft(){a||(a={},h(a,["background","background-attachment","background-color","background-image","background-position","background-repeat","border","border-bottom","border-bottom-color","border-bottom-style","border-bottom-width","border-collapse","border-color","border-left","border-left-color","border-left-style","border-left-width","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-style","border-top-width","border-width","break-after","break-before","break-inside","caption-side","clear","color","float","font","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","table-layout","text-align","text-decoration","text-indent","text-transform","vertical-align","white-space","width","word-spacing"]))}function et(n,t){return n&&t?n.toUpperCase()===t.toUpperCase():!1}function ot(n){return n?(y(),n.toUpperCase()in r):!1}function st(n){return w(n,!0)}function ht(n){return w(n,!1)}function w(n,t){if(n){y();var i=n.toUpperCase();if(i in r)return t?r[i].eolBefore:r[i].eolAfter}return!1}function ct(n){if(n){p();var t=u[n.toUpperCase()];if(t!==undefined&&t.tagToReplace!=null&&t.tagToReplace.length===0)return!0}return!1}function lt(n){if(n){p();var t=u[n.toUpperCase()];if(t&&t.tagToReplace&&t.tagToReplace.length>0)return t}return null}function at(n){return n?(tt(),n.toUpperCase()in l):!1}function vt(n,t,i){var s;if(t){it();var u=t.toUpperCase(),f=i.invalidAttributes,o=i.validAttributes;if(f&&o&&u in f&&u in o)throw new Error("".concat(u," is specified in additionalInvalidAttributes and additionalValidAttributes. Attributes may only appear in either the whitelist or blacklist."));if(o&&u in o)return!0;if(u in e)return f&&u in f?!1:!0;if(n&&(y(),s=r[n.toUpperCase()],s))return u in s.attributes}return!1}function yt(n,t,i){var f=t.toUpperCase(),u=r[n.toUpperCase()].attributes[f];return u?i.toUpperCase()in u:(u=e[f],u)?i.toUpperCase()in u:!0}function b(n){return n&&(rt(),n.toUpperCase()in o)?!0:!1}function k(n,t,i,r){var u,e,o;return(e=i.indexOf(":"),e<0||f.isSafeProtocol(i))?!0:(o=i.substr(0,e),r.invalidProtocols&&o.toUpperCase()in r.invalidProtocols)?!1:(ut(),u=s[o.toUpperCase()],typeof u=="function"&&u(n,t,i)===!0)?!0:!1}function pt(n,t){if(n){if(ft(),n=n.toUpperCase(),t.invalidStyles&&n in t.invalidStyles)return!1;if(t.validStyles&&n in t.validStyles||n in a)return!0}return!1}function d(n){var t=n;return t?(t=t.replace(/&/g,"&amp;"),t=t.replace(/"/g,"&quot;"),t=t.replace(/>/g,"&gt;"),t.replace(/</g,"&lt;")):""}function g(n,t,i){i=i||'"';var r=$("<div bogusAttribute="+i+t+i+">");return r.attr("bogusAttribute")}function wt(n,t,i){var u=[],r;return(t.split(";")||[]).forEach(function(t){if(t=(t||"").trim(),t){var f=t.split(":",2),r=(f[0]||"").trim(),e=r.toUpperCase();f.length===2&&pt(r,i)&&(!b(r)||k(n,r,(f[1]||"").trim(),i))&&u.push(t)}}),r=u.join(";"),r?'style="'+d(r)+'"':""}function bt(n,t){var r,u;if(n&&t)try{return r=g(n,t,""),decodeURI(r),u=decodeURI(f.Uri.parse(encodeURI(r)).absoluteUri),n.replace(t,d(u))}catch(e){return n.replace(t,"Invalid uri value")}return n}function kt(n,t,i,r,u,f,e,o){var s=i.substr(r,u);if(b(t)){if(k(n,t,g(t,s,f).trim(),e))return bt(i,s)}else{if(t.toUpperCase()==="STYLE")return wt(n,s,e);if(yt(n,t,s))return o&&"A"===n.toUpperCase()&&"TARGET"===t.toUpperCase()&&"_BLANK"===s.toUpperCase()&&o.updateAttribute("rel","noopener noreferrer"),i}return""}var r,l,e,o,s,a,u;n.areTagsEqual=et;n.isAllowedTag=ot;n.shouldAddEolBeforeTag=st;n.shouldAddEolAfterTag=ht;n.isFormattingRemovalTag=ct;n.getFormattingReplacementTag=lt;n.isSpecialTag=at;n.isAllowedAttribute=vt;n.cleanAttribute=kt}(e||(e={})),function(n){function s(n){return n>="0"&&n<="9"||n>="A"&&n<="Z"||n>="a"&&n<="z"?!0:!1}function i(n,t){u.lastIndex=t;var i=u.exec(n);return i?i.index:n.length}function h(n,t){f.lastIndex=t;var i=f.exec(n);return i?i.index:n.length}function t(n,t,i){var r=n.indexOf(i,t);return r>=0?r+i.length:n.length}function r(n,t){o.lastIndex=t;var i=o.exec(n);return i?{offset:i.index,name:n.substr(t,i.index-t)}:{offset:n.length,name:n.substr(t,n.length-t)}}function c(n,u,f){for(var c=n.length,o=0,p,l,w,g,b,a,v,it,nt,k,tt,d,y;o<c;){if(l=o,o=n.indexOf("<",o),o<0&&(o=c),o>l){u.writeText(n,l,o-l);continue}if(l=o++,p=n.charAt(o),o<c&&p==="!"){if(o++,o+1<c&&n.substr(o,2)==="--"){o+=2;o=t(n,o,"-->");continue}if(o+6<c&&n.substr(o,7)==="[CDATA["){o+=7;o=t(n,o,"]\]>");continue}o=t(n,o,">");continue}if(o<c&&p==="?"){o++;o=t(n,o,">");continue}if(b=!1,o<c&&p==="/"&&(b=!0,o++),o=i(n,o),a=r(n,o),o=a.offset,v=a.name,e.isSpecialTag(v)){for(o=t(n,o,">");o<c;)if(o=t(n,o,"<"),o+2<c&&n.substr(o,3)==="!--")o=t(n,o,"-->");else if(o<c&&n.charAt(o)==="/"){if(o++,o=i(n,o),a=r(n,o),o=a.offset,it=a.name,e.areTagsEqual(v,it)){o=t(n,o,">");break}}else o<c&&o++;continue}if(!e.isAllowedTag(v)||f.removeFormatting&&e.isFormattingRemovalTag(v))if(f.encodeUnknownText){u.writeEncodedText(n,l,o-l);continue}else{o=t(n,o,">");continue}if(d=v,y=null,f.removeFormatting&&(y=e.getFormattingReplacementTag(v),y&&y.tagToReplace.length!==0)){d=y.tagToReplace;o=t(n,o,">");u.writeTag(n,l,d,b);b&&y.afterTagText!=null&&y.afterTagText.length>0&&u.writeText(y.afterTagText,0,y.afterTagText.length);continue}for(u.writeTag(n,l,d,b);o<c;){if(l=o,o=i(n,o),o<c&&n.charAt(o)==="/"&&o++,o<c&&n.charAt(o)===">"){o++;u.writeEndOfTag(n,l,o-l,d);break}if(o<c&&s(n.charAt(o))){if(a=r(n,o),o=a.offset,nt=a.name,o=i(n,o),w=0,g=0,o<c&&n.charAt(o)==="=")if(o++,o=i(n,o),w=o,p=n.charAt(o),k=null,o<c&&(p==="'"||p==='"')){for(k=p,o++,w=o;o<c&&n.charAt(o)!==k;)o++;g=o;o<c&&n.charAt(o)===k&&o++}else o=h(n,o),g=o;e.isAllowedAttribute(v,nt,f)&&(tt=e.cleanAttribute(v,nt,n.substr(l,o-l),w-l,g-w,k,f,u),tt&&u.writeAttribute(tt));continue}o<c&&n.charAt(o)!==">"&&o++}}}var u=/\S/g,f=/[\s|>]/g,o=/[^\w\:\-]/g;n.parse=c}(c||(c={}));var s=function(){function n(n){this.text=n}return n.prototype.render=function(n){n.append(this.text)},n}(),o=function(){function n(n,t){this.tag=n.toUpperCase();this.root=t===!0}return n._getEmptyTags=function(){if(!n._emptyTags){var t={};t.AREA=!0;t.BASE=!0;t.BASEFONT=!0;t.BGSOUND=!0;t.BR=!0;t.COL=!0;t.EMBED=!0;t.FRAME=!0;t.HR=!0;t.IMG=!0;t.INPUT=!0;t.ISINDEX=!0;t.LINK=!0;t.META=!0;t.PARAM=!0;t.WBR=!0;t.IFRAME=!1;t.MARQUEE=!1;n._emptyTags=t}return n._emptyTags},n.hasEndTag=function(n){var t=this._getEmptyTags(),i=!0;return n in t&&(i=!t[n]),i},n.canTagHaveChild=function(n){var t=this._getEmptyTags();return!(n in t)},n.prototype.getChildren=function(){return this._children||(this._children=[]),this._children},n.prototype.getAttributes=function(){return this._attributes||(this._attributes=[]),this._attributes},n.prototype.getHasClosingTag=function(){return this.empty===!0?!1:n.hasEndTag(this.tag)},n.prototype.getCanHaveChildren=function(){return this.tagClosed===!0?!1:n.canTagHaveChild(this.tag)},n.prototype.render=function(n){var t,r,i,u,e=!1,f;if(this.tag)for(n.append("<"),n.append(this.tag),i=this.getAttributes(),t=0,r=i.length;t<r;t++)n.append(" "),n.append(i[t].trim());if(u=this.getChildren(),u.length>0)for(e=!0,this.tag&&n.append(">"),t=0,r=u.length;t<r;t++)u[t].render(n);this.tag&&(e?(n.append("<\/"),n.append(this.tag),n.append(">")):this.getHasClosingTag()?(n.append("><\/"),n.append(this.tag),n.append(">")):(f=n.toString().slice(-1),f!=" "&&f!='"'&&f!="'"&&i&&i.length>0&&n.append(" "),n.append("/>")))},n}(),v=function(){function n(){this._strings=[]}return n.prototype.append=function(n){var t=this._strings;return n&&(t[t.length]=n),this},n.prototype.clear=function(){return this._strings=[],this},n.prototype.toString=function(){return this._strings.join("")},n}(),y=function(){function n(){this._textAccumulator="";this._lastWriteWasEol=!0}return n.prototype.writeText=function(n,t,i){this._textAccumulator+=n.substr(t,i);this._lastWriteWasEol=!1},n.prototype.writeEncodedText=function(n,t,i){this._textAccumulator+=u.htmlEncode(n.substr(t,i));this._lastWriteWasEol=!1},n.prototype.writeTag=function(n,t,i,r){var u=i.toUpperCase();(r?e.shouldAddEolAfterTag(i):e.shouldAddEolBeforeTag(i))&&this._writeEols()},n.prototype.writeEndOfTag=function(){},n.prototype.writeAttribute=function(){},n.prototype.updateAttribute=function(){},n.prototype.finish=function(){},n.prototype.toString=function(){return this._textAccumulator.replace("\u00a0\r\n","\r\n").trim()},n.prototype._writeEols=function(){this._lastWriteWasEol||(this._textAccumulator+="\r\n",this._lastWriteWasEol=!0)},n}(),h=function(){function n(){this.root=new o("",!0);this.elements=[]}return n.prototype.writeText=function(n,t,i){var r=this.elements;r[r.length]=new s(n.substr(t,i))},n.prototype.writeEncodedText=function(n,t,i){var r=this.elements;r[r.length]=new s(u.htmlEncode(n.substr(t,i)))},n.prototype.writeTag=function(n,t,i,r){var u,h,c=this.elements,e,f,l=i.toUpperCase();if(r===!0){for(f=[];c.length>0;)if(h=c.pop(),h instanceof s)f[f.length]=h;else if(u=h,u.tag!==l||u.tagClosed){if(u.getCanHaveChildren())for(e=h.getChildren();f.length>0;)e[e.length]=f.pop();f[f.length]=u;u=null}else break;for(u||(u=new o(i)),e=u.getChildren();f.length>0;)e[e.length]=f.pop()}else u=new o(i);u.tagClosed=r;c[c.length]=u},n.prototype.writeEndOfTag=function(n,t,i,r){var u,f,e=this.elements,s=r.toUpperCase();i>1&&(f=n.substr(t,i),f.charAt(f.length-2)==="/"&&e.length>0&&(u=e[e.length-1],u instanceof o&&u.tag===s&&(u.empty=!0,u.tagClosed=!0)))},n.prototype.writeAttribute=function(n){var t,i=this.elements;i.length>0&&(t=i[i.length-1],t instanceof o&&t.getAttributes().push(n))},n.prototype.updateAttribute=function(n,t){var f=this.elements,e=f[f.length-1];if(e instanceof o){var i=e.getAttributes(),s=r.findIndex(i,function(t){return u.startsWith(t.trim().toUpperCase(),n.toUpperCase())}),h=" ".concat(n,'="').concat(t,'"');s===-1?i.push(h):i[s]=h}},n.prototype.finish=function(){for(var t,u=this.elements,f=this.root,n=[],i,r;u.length>0;)if(t=u.pop(),t instanceof s)n[n.length]=t;else{if(t.getCanHaveChildren())for(i=t.getChildren();n.length>0;)i[i.length]=n.pop();n[n.length]=t}for(r=f.getChildren();n.length>0;)r[r.length]=n.pop()},n.prototype.toString=function(){var n=new v;return this.root.render(n),n.toString()},n}(),l;(function(n){function t(n){var i=null,t,r,u;if(n)for(i={},t=0,r=n;t<r.length;t++)u=r[t],i[u.toUpperCase()]=0;return i}function i(n){return n===void 0&&(n={}),{invalidAttributes:t(n.additionalInvalidAttributes),validAttributes:t(n.additionalValidAttributes),invalidStyles:t(n.additionalInvalidStyles),validStyles:t(n.additionalValidStyles),removeFormatting:n.removeFormatting||!1,encodeUnknownText:n.encodeUnknownText||!1,invalidProtocols:t(n.additionalInvalidProtocols)}}function u(n){var t=new h;return r(n,t,i())}function f(n,t,u,f,e,o,s){var c=new h;return r(n,c,i({additionalInvalidAttributes:t,additionalValidAttributes:u,additionalInvalidStyles:f,additionalValidStyles:e,encodeUnknownText:o,additionalInvalidProtocols:s}))}function e(n){var t=new h;return r(n,t,i({additionalInvalidAttributes:["CLASS","STYLE"],removeFormatting:!0}))}function o(n){var t=new h;return r(n,t,i({encodeUnknownText:!0}))}function s(n){var t=new y;return r(n,t,i({encodeUnknownText:!0}))}function r(n,t,i){return c.parse(n,t,i),t.finish(),t.toString()}n.normalize=u;n.normalizeStripAttributes=f;n.removeFormatting=e;n.sanitize=o;n.convertToPlainText=s})(l=t.HtmlNormalizer||(t.HtmlNormalizer={}));a=function(){function n(){}return n._replaceSimpleTemplateTokens=function(t,i){for(var r=t,e=/\$\{([^\$\}]+)\}/ig,u,o,f;(u=e.exec(r))!==null;)o=u[1],f=n._getEncodedTextPropertyValue(i,o),r=n._replaceMatch(r,u,f),e.lastIndex=u.index+f.length;return r},n._replaceUnencodedTemplateTokens=function(t,i){for(var r=t,e=/\{\{html ([^\$\}]+)\}\}/ig,u,o,f;(u=e.exec(r))!==null;)o=u[1],f=n._getTextPropertyValue(i,o),r=n._replaceMatch(r,u,f),e.lastIndex=u.index+f.length;return r},n._replaceForEachTemplateTokens=function(t,i){for(var f=t,a=/\{\{each \s*([^ \}]+)\}\}((?:.|\r|\n)*)\{\{\/each\}\}/ig,c=/\$\{\$value(?:\.([^\}]+))?\}/ig,r,v,y,e,o,s,p,l,u,h,w;(r=a.exec(f))!==null;){if(v=r[1],y=r[2],e="",o=n._getPropertyValue(i,v),Array.isArray(o))for(h=0,w=o.length;h<w;h+=1){for(u=y,c.lastIndex=0;(s=c.exec(u))!==null;)p=s[1],l=n._getEncodedTextPropertyValue(o[h],p),u=n._replaceMatch(u,s,l),c.lastIndex=s.index+l.length;e+=u}f=n._replaceMatch(f,r,e);a.lastIndex=r.index+e.length}return f},n._replaceMatch=function(n,t,i){return n.substring(0,t.index)+i+n.substring(t.index+t[0].length)},n._getEncodedTextPropertyValue=function(t,i){var r=n._getPropertyValue(t,i);return r===undefined?"":u.htmlEncode(r.toString())},n._getTextPropertyValue=function(t,i){var r=n._getPropertyValue(t,i);return r===undefined?"":r.toString()},n._getPropertyValue=function(n,t){if(t===undefined||t.length===0)return n;for(var r=t.split("."),i=n;r.length>0&&i!==undefined;)i=i[r.shift()];return i},n.tmpl=function(t,i){var r=t;return r=n._replaceSimpleTemplateTokens(r,i),r=n._replaceUnencodedTemplateTokens(r,i),n._replaceForEachTemplateTokens(r,i)},n}();t.TemplateEngine=a,function(n){function t(t){if(t===null||t===undefined)return!0;if(t.length>=n.ISEMPTY_MINIMAL_CONTENT_LENGTH)return!1;var i=l.removeFormatting(t);return i===""||i==="<BR>"||i==="<BR/>"||i==="<P>&nbsp;<\/P>"||i==="<P><\/P>"||i==="<P><BR/><\/P>"||i==="<BR>\r\n"||i==="<BR>\r\n"||i==="<DIV><BR/><\/DIV>"||i==="<DIV><DIV><BR/><\/DIV><\/DIV>"}n.ISEMPTY_MINIMAL_CONTENT_LENGTH=500;n.isEmpty=t}(p=t.Utils||(t.Utils={}))});

define("WorkItemTracking/Scripts/TFS.WorkItemTracking",["require","exports","VSS/VSS","Presentation/Scripts/TFS/FeatureRef/CSSNodeEvents","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/WorkItemIndexDBCacheManager","Presentation/Scripts/TFS/MVCToDataProviderDataSources/MVCToDataProviderDataSource","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace","Presentation/Scripts/TFS/MVCToDataProviderDataSources/WITDataSource","Presentation/Scripts/TFS/TFS.OM.Identities","TFS/WorkItemTracking/RestClient","VSS/Contributions/Services","VSS/Error","VSS/Events/Services","VSS/FeatureAvailability/Services","VSS/Identities/Picker/Common","VSS/Service","WorkItemTracking/Scripts/Form/UserLayoutSettings","WorkItemTracking/Scripts/LinkForm","WorkItemTracking/Scripts/OM/DataSources/index","WorkItemTracking/Scripts/OM/DataSources/WorkItemTypeCategoriesDataSource","WorkItemTracking/Scripts/OM/NodesCacheManager","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemMetadataCacheInformationManager","WorkItemTracking/Scripts/RegisterLinkForms","WorkItemTracking/Scripts/Utils/NodeHelpers","WorkItemTracking/Scripts/Utils/PerfScenarioManager","WorkItemTracking/Scripts/Utils/RemoteWorkItemUtils","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper","WorkItemTracking/Scripts/Utils/WitControlMode","WorkItemTracking/Scripts/Utils/WorkItemIdentityHelper","WorkItemTracking/Scripts/Utils/WorkItemRichTextHelper","WorkItemTracking/Scripts/WorkItemMetadataCacheStampManager","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/TFS.Core.Utils","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Date","VSS/Utils/Array","VSS/Utils/Number","VSS/Utils/File","VSS/Diag","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Events/Action","VSS/Events/Handlers","VSS/Events/Services","Presentation/Scripts/TFS/TFS.Service","Presentation/Scripts/TFS/FeatureRef/TFS.TeamAwarenessService","WorkItemTracking/Scripts/TFS.WorkItemTracking.WebApi","TFS/WorkItemTracking/BatchRestClient","VSS/Utils/Html","VSS/Telemetry/Services","q","VSS/Service","WorkItemTracking/Scripts/CustomerIntelligence","VSS/Contributions/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi){function br(n){return n&&n.isIdentity}function tr(n,t){var i=new Error(n);return $.each(t,function(n,t){i[n]=t}),i}function kr(n){return tr(ni.WorkItemBulkSaveFailed,{name:tt.Exceptions.WorkItemBulkSaveException,results:n})}function eu(n){return tr(pt.format(ni.ProjectDoesNotExist,n),{name:tt.Exceptions.ProjectDoesNotExistException,projectName:n})}function ou(n){return tr(pt.format(ni.WorkItemLinkTypeEndDoesNotExist,n),{name:tt.Exceptions.LinkTypeEndDoesNotExistException,linkTypeEnd:n})}function su(n){return tr(pt.format(ni.WorkItemLinkTypeDoesNotExists,n),{name:tt.Exceptions.LinkTypeDoesNotExistException,linkType:n})}function hu(n){var t=n.getInfoText().text;return tr(t,{name:tt.Exceptions.WorkItemSaveFailedDueToInvalidStatusException,detail:t,workItem:n})}var nr,cr,ur,dr,pi,fr,er,or,yi,ar,bi,ir,lr,wi,rr,di,gr,vr,ki,sr,yr,nu,pr;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemDataManager=t.WorkItemIdentityScope=t.FieldValidationKey=t.ServerDefaultValue=t.RuleEngine=t.RuleValueFrom=t.Attachment=t.WorkItemLink=t.Hyperlink=t.ExternalLink=t.Link=t.Field=t.WorkItem=t.FieldDefinition=t.WorkItemType=t.WorkItemStore=t.Project=t.createError=t.isIdentityPickerSupportedForField=void 0;var wr=i.queueCallbacks,hr=i.queueRequest,gi=i.handleError,tu=i.getErrorMessage,iu=/^\{?([\dA-F]{8})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{12})\}?$/i,ru=2,uu=/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F-\u009F]/g,fu=/(^[\uD800-\uDFFF]$)|[^\uD800-\uDBFF](?=[\uDC00-\uDFFF])|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/g;t.isIdentityPickerSupportedForField=br;t.createError=tr,function(n){n[n.WorkItemMissingOrUpdated=600122]="WorkItemMissingOrUpdated";n[n.ResourceLinkNotFoundException=600180]="ResourceLinkNotFoundException"}(cr||(cr={}));ur=function(){function n(n,t){var i=this;this._onCSSNodesInvalidated=function(){o.traceMessage(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"onCSSNodesInvalidated",ai.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_CSSNODECACHEINVALIDATED,"The CSS Node cache was invalidated");i.nodesCacheManager.clearCache()};this.store=n;this.id=t.id;this.name=t.name;this.guid=t.guid;this.workItemTypeNames=t.workItemTypes;this.fieldIds=t.fieldIds;this.extras=t.extras||{};this.process=t.process;this.visibility=t.visibility;this.relatedData={};Array.isArray(this.workItemTypeNames)&&this.workItemTypeNames.sort(pt.localeIgnoreCaseComparer);this.workItemTypes={};this.nodesCacheManager=new nt.NodesCacheManager(this);v.getService().attachEvent(r.CSSNodesInvalidated,this._onCSSNodesInvalidated)}return n.prototype.getApiLocation=function(n,t){return this._getApiLocation(!1,n,t)},n.prototype.getApiLocationIncludingTeam=function(n,t){return this._getApiLocation(!0,n,t)},n.prototype.path=function(){return this.store.path()+"/"+this.name},n.prototype.beginGetWorkItemType=function(n,t,i){this.beginGetWorkItemTypes([n],function(n){return t(n[0])},i)},n.prototype.beginGetWorkItemTypes=function(n,t,i,r){var f=this,p,rt,k,a,s,d,g,ut,e,et,lt;var o=0,nt=!1,v=[],h=[],at=this.store.fields&&this.store.fields.length>0,ot=y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.DisableWorkItemTypesSplittedLoading);ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETTYPES,!0);var c=function(){o--;nt||o!==0||(v.length>0?f._constructWITsAsync(v).then(function(){ct()},l):ct())},ht=!1,ct=function(){var o,a,b,e,s,y,c,p,l,w,i,u;for(ht,ht=!0,ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETTYPES,!1),o=0,a=h;o<a.length;o++)b=a[o],b.finish();if(h=[],typeof t=="function"){if(e=[],ot)for(s=0,y=n;s<y.length;s++)i=y[s],u=i.toUpperCase(),e.push(f.workItemTypes[u]);else if(r)for(c=0,p=v;c<p.length;c++)i=p[c],u=i.name.toUpperCase(),e.push(f.workItemTypes[u]);else for(l=0,w=n;l<w.length;l++)i=w[l],u=i.toUpperCase(),e.push(f.workItemTypes[u]);t(e)}},l=function(n){for(var u,t=0,r=h;t<r.length;t++)u=r[t],u.error();h=[];nt||(nt=!0,typeof i=="function"&&i.apply(f,[n]))},tt=function(n){var u=wr(f,$.noop,$.noop),t,r,e;for(h.push(u),t=0,r=n;t<r.length;t++)e=r[t],f.workItemTypes[e.toUpperCase()]=u.register;f.store.witDataManager.beginGetWorkItemTypeData(f.guid,n).then(function(n){for(var r,t=0,i=n;t<i.length;t++)r=i[t],v.push(r);c()},i)},it=[];for(p=0,rt=n;p<rt.length;p++)e=rt[p],k=this.workItemTypes[e.toUpperCase()],k?typeof k=="function"&&(o++,k(c,l)):it.push(e);for(it.sort(),s=[],d=0,g=0,ut=it;g<ut.length;g++)e=ut[g],et=e.length+11,d+et>1024&&(d=0,a=null),a?a.push(e):(a=[e],s.push(a),o++),d+=et;if(o++,at?c():this.store.beginGetFields().then(c).catch(l),lt=this.store.userSettingsLoaded===undefined,lt&&(o++,st.WitFormModeUtility.ensureWitFormModeLoaded().then(function(){f.store.userSettingsLoaded=!0;w.getService(b.WorkItemFormUserLayoutSettingsService).ensureSettingsAreLoaded().then(function(){c()},l)},l)),ot)while(s.length>0)tt(s.pop());else if(r)tt([]);else while(s.length>0)tt(s.pop())},n.prototype.getWorkItemTypes=function(n,t){var i=this;return ci.Promise(function(r,u){return i.beginGetWorkItemTypes(n,r,u,t)})},n.prototype._constructWITsAsync=function(n){for(var r,v,u,o,s,h,t=this,i=ci.defer(),f={},c=[],l=[],y=function(){for(var r,u=!1,s=function(n){var i=new fr(t,n),r=n.name.toUpperCase();t.workItemTypes[r]=i},f=0,h=n;f<h.length;f++){var e=h[f],c=e.fields,o=void 0;for(r=0;r<c.length;r++)if(o=c[r],!t.store.fieldMap[o]&&!t.store.fieldMapById[o]){u=!0;break}u?l.push(e):s(e)}u?t.store.refreshFields().then(function(){for(var r,n=0,t=l;n<t.length;n++)r=t[n],s(r);i.resolve(null)},function(n){i.reject(n)}):i.resolve(null)},p=function(r){for(var e,u=0,f=n;u<f.length;u++)e=f[u].name,delete t.workItemTypes[e.toUpperCase()];i.reject(r)},e=0,a=n;e<a.length;e++)if(r=a[e],r.rules&&r.rules.globals&&r.rules.globals.length>0)for(v=r.rules.globals,u=0,o=v;u<o.length;u++)s=o[u],f[s]=s;for(h in f)f.hasOwnProperty(h)&&c.push(h);return this.store.beginEnsureConstantSets(c,y,p),i.promise},n.prototype.getWorkItemType=function(n){var i=n.toUpperCase(),t=this.workItemTypes[i];if(t&&typeof t!="function")return t},n.prototype.beginQuery=function(n,t,i,r){this.store.beginQuery(this.guid,n,t,i,r)},n.prototype.beginSearch=function(n,t,i,r){this.store.beginSearch(this,n,t,i,r)},n.prototype.beginUpdateColumnOptions=function(n,t,i,r){(new e.WorkItemStoreLevelWITDataSource).postDataAsync({controller:"wit",action:"updateColumnOptions"},{persistenceId:n,fields:t}).then(function(){return i}).catch(r)},n.prototype.beginGetWorkItemCategories=function(n,t){this.store.beginGetWorkItemCategories(this,n,t)},n.prototype.beginGetVisibleWorkItemTypeNames=function(n,t){var i=[tt.WorkItemCategoryConstants.HIDDEN];this._beginGetWorkItemTypeNames(n,i,t)},n.prototype.beginGetValidWorkItemTypeNames=function(n,t){var i=[tt.WorkItemCategoryConstants.HIDDEN,tt.WorkItemCategoryConstants.TEST_CASE,tt.WorkItemCategoryConstants.TEST_PLAN,tt.WorkItemCategoryConstants.TEST_SUITE];this._beginGetWorkItemTypeNames(n,i,t)},n.prototype.beginGetValidWorkItemTypeNamesWithCategories=function(n,t){var i=[tt.WorkItemCategoryConstants.HIDDEN];this._beginGetWorkItemTypeNames(n,i,t)},n.prototype._beginGetWorkItemTypeNames=function(n,t,i){var r=this;this.beginGetWorkItemCategories(function(i){return __awaiter(r,void 0,void 0,function(){var e,r,f,o,s;return __generator(this,function(h){switch(h.label){case 0:return(e=[],r={},!!y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.DisableWorkItemTypesSplittedLoading))?[3,2]:(f=[],!!this.workItemTypeNames)?[3,2]:($.each(i,function(n,t){t.workItemTypeNames.forEach(function(n){f.some(function(t){return t===n})||f.push(n)})}),[4,this.getWorkItemTypes(f,!0)]);case 1:o=h.sent();this.workItemTypeNames=o.map(function(n){return n.name});h.label=2;case 2:return t&&$.each(t,function(n,t){if(i&&i[t]){var u=i[t];$.each(u.workItemTypeNames,function(n,t){r[t]=!0})}}),$.each(this.workItemTypeNames,function(n,t){r.hasOwnProperty(t)||e.push(t)}),s=Object.keys(r),typeof n=="function"&&n.call(this,e,s,i),[2]}})})},i)},n.prototype._getApiLocation=function(n,t,i){var r={};return n||(r.team=""),this.store.getTfsContext().getActionUrl(t||"","wit",$.extend({project:this.guid,area:"api"},r,i))},n}();t.Project=ur;dr=/^-(1|2|10|30)(\|.*)?$/;pi=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._ongoingDeleteOrRestoreOperationCt=0,t.constantSets={},t.allowedValues={},t.groups={},t.witCategories={},t.workItemTypeExtensions={},t.relatedData={},t._allProjectsLoaded=!1,t._allFieldsLoaded=!1,t._projectLoadingPromisesMap={},t._queryExecutingPromiseMap={},t}return __extends(t,n),t.prototype.dispose=function(){var n=this.relatedData[tt.RelatedDataKeys.WORKITEM_MANAGER_KEY];n&&n.dispose()},t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this.metadataCacheStampManager=new lt.WorkItemMetadataCacheStampManager(this.getTfsContext());this.witDataManager=new pr(this.getTfsContext(),this.metadataCacheStampManager)},t.prototype.isDeletingOrRestoring=function(){return this._ongoingDeleteOrRestoreOperationCt>0},t.prototype.path=function(){return dt.combinePaths(this.getConnection().getHostUrl(),"WorkItemStore")},t.prototype.getApiLocation=function(n,t){return this.getTfsContext().getActionUrl(n||"","wit",$.extend({project:"",team:"",area:"api"},t))},t.prototype.getProjectApiLocationIncludingTeam=function(n,t,i){return this.getTfsContext().getActionUrl(t||"","wit",$.extend({project:n,area:"api"},i))},t.prototype.getWorkItemTypesEtagForCI=function(){return this.metadataCacheStampManager.workItemTypesEtag},t.prototype.getCurrentUserName=function(){return this.getCurrentUser().distinctDisplayName},t.prototype.getCurrentUser=function(){var n=this.getTfsContext().currentIdentity,t=n.displayName,i=n.uniqueName;return{distinctDisplayName:h.IdentityHelper.getDistinctDisplayName(t,i),identityRef:{id:n.id,displayName:t,uniqueName:i}}},t.prototype._loadFieldsFromServer=function(){var n=this,t,i;return this._getFieldsPromise?this._getFieldsPromise:(t=function(t){return n._getFieldsPromise=null,n._allFieldsLoaded=!0,t},i=function(t){n._getFieldsPromise=null;throw t;},this._getFieldsPromise=new Promise(function(t,i){return n.witDataManager.beginGetFields().then(function(i){n._prepareFields(i);t(n.fields)},i)}).then(t,i),this._getFieldsPromise)},t.prototype.beginGetFields=function(n){return(n===void 0&&(n=!1),this.fields&&(!n||this._allFieldsLoaded))?Promise.resolve(this.fields):this._loadFieldsFromServer()},t.prototype.refreshFields=function(){var n=this;return ci.Promise(function(t,i){n._loadFieldsFromServer().then(function(){return t(null)}).catch(i)})},t.prototype.getFieldDefinition=function(n){var t=(""+n).toUpperCase();return this.fieldMap[t]||this.fieldMapById[t]},t.prototype.beginGetProjects=function(n,t){var i=this;this._allProjectsLoaded?n(this.projects):this._allProjectsLoadingPromise=this._allProjectsLoadingPromise&&this._allProjectsLoadingPromise.isPending()?this._allProjectsLoadingPromise.then(function(t){return n(i.projects),t},function(n){return typeof t=="function"&&t(n),n}):this._loadProjects().then(function(t){var r,u,f;if(i.projects&&i.projects.length!==0)for(r=0,u=t.projects;r<u.length;r++)f=u[r],i.hasProject(f.guid)||i.projects.push(new ur(i,f));else i.projects=t.projects.map(function(n){return new ur(i,n)});return i._allProjectsLoaded=!0,n(i.projects),t},function(n){return typeof t=="function"&&t(n),n})},t.prototype.beginGetContributedLinkTypes=function(){var t=this;if(this._beginGetContributedLinkTypesPromise)return this._beginGetContributedLinkTypesPromise;var n=ci.defer(),i={},r=li.getService(vi.ExtensionService);return r.getContributionsForTargets(["ms.vss-work-web.workitem-artifact-links"]).then(function(r){$.each(r,function(n,t){var r=t.properties.toolId,u=t.properties.supportedArtifactTypes;$.each(u,function(n,u){var f=u.name,e=u.linkTypes;$.each(e,function(n,u){var e={linkType:u.id,tool:r,artifactName:f,linkTypeName:u.name,contributionId:t.id};i[u.id]=e})})});t.contributedLinkTypes=i;n.resolve(t.contributedLinkTypes)},function(t){n.reject(t)}),this._beginGetContributedLinkTypesPromise=n.promise,this._beginGetContributedLinkTypesPromise},t.prototype.getContributedLinkTypes=function(){if(this.contributedLinkTypes)return this.contributedLinkTypes},t.prototype._loadProjects=function(n){var t=this,r=function(n){ri.getService().fire(tt.Actions.NEW_PROJECT_DATA,t,n.projects);t._prepareFields(n.fields,!0)},i,f;return n?ci.Promise(function(i,u){return t.witDataManager.beginGetFieldProjectData(n).then(function(n){r(n);i(n)},u)}):(i=ci.defer(),f=y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.DisableWorkItemTypesSplittedLoading)?{includeFieldDefinitions:!0}:{includeFieldDefinitions:!1,includeProcessId:!1,includeProcessInfo:!1,includeWorkItemTypes:!1},this.metadataCacheStampManager.addStampToParams(at.WITCommonConstants.TeamProjects,f,function(u){ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETPROJECTS_REQUEST,!0);n&&(u.namesOrIds=[n]);(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync({controller:"wit",action:"teamProjects"},u,t.getTfsContext().navigation.collection.instanceId,at.WITCommonConstants.TeamProjects,"_").then(function(n){var t;n.requestHeaders&&ft.PerfScenarioManager.addData((t={},t["".concat(ai.PerformanceEvents.WORKITEMTRACKING_GETPROJECTS_REQUEST,".ETAG")]=n.requestHeaders.getResponseHeader("ETag"),t));ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETPROJECTS_REQUEST,!1);r(n.data);i.resolve(n.data)},function(n){i.reject(n)})},null),i.promise)},t.prototype.getProjects=function(){if(this.projects&&typeof this.projects!="function")return this.projects},t.prototype.getProject=function(n,t){t===void 0&&(t=!0);var r=t?this.getProjects():this.projects,i=bt.first(r||[],function(t){return pt.equals(t.name,n,!0)||pt.equals(t.guid,n,!0)});if(i)return i;if(t)throw eu(n);else return null},t.prototype.hasProject=function(n){return this.projects&&typeof this.projects!="function"?bt.arrayContains(n,this.projects,function(n,t){return pt.equals(t.name,n,!0)||pt.equals(t.guid,n,!0)}):!1},t.prototype.beginGetProject=function(n,t,i){var r=this,u=this.getProject(n,!1),f=function(){try{u=r.getProject(n);t.call(r,u)}catch(f){gi(f,i,r)}};u?t.call(this,u):this._allProjectsLoadingPromise&&this._allProjectsLoadingPromise.isPending()?this._allProjectsLoadingPromise=this._allProjectsLoadingPromise.then(function(n){return f(),n},function(n){return typeof i=="function"&&i(n),n}):this._projectLoadingPromisesMap[n]=this._projectLoadingPromisesMap[n]&&this._projectLoadingPromisesMap[n].isPending()?this._projectLoadingPromisesMap[n].then(function(n){return f(),n},function(n){return typeof i=="function"&&i(n),n}):this._loadProjects(n).then(function(n){if(n.projects&&n.projects.length===1){var t=new ur(r,n.projects[0]);r.projects?r.hasProject(t.guid)||r.projects.push(t):r.projects=[t]}return f(),n},function(n){return typeof i=="function"&&i(n),n})},t.prototype.beginGetTeamSettings=function(n){var r,t,i=ci.defer(),u=function(){r&&t&&(r.nodesCacheManager.addReferencedNodes(t.referencedNodes),i.resolve(t))},f;return this.beginGetProject(this.getTfsContext().navigation.projectId,function(n){r=n;u()},function(n){return i.reject(n)}),f=li.getService(fi.TeamAwarenessService),f.beginGetTeamSettings(n).then(function(n){t=n;u()},function(n){return i.reject(n)}),i.promise},t.prototype.beginGetWorkItemData=function(n,t,i,r,u,f){var s=this,e,h,o,c,l;if(n?Array.isArray(n)?n.length===0&&(e=new Error(ni.BeginGetWorkItemArgumentNull)):(h=+n,n=[h]):e=new Error(ni.BeginGetWorkItemArgumentNull),n)for(o=0,c=n.length;o<c;++o)if(n[o]=+n[o],n[o]===undefined){e=new Error(ni.WorkItemIdUndefined);break}else if(isNaN(n[o])){e=new Error(ni.WorkItemIdNaN);break}else if(n[o]<=0){e=new Error(ni.WorkItemIdOutOfRange);break}if(e){e.name="ArgumentException";gi(e,i,this);i&&a.publishErrorToTelemetry(e);return}l=function(n){typeof t=="function"&&(n&&n.length===1?t.call(s,n[0],i):t.call(s,n,i))};this.witDataManager.beginGetWorkItemData(n,r,!f,u).then(l,i)},t.prototype.beginGetWorkItem=function(n,t,i,r,u){var f=this;this.beginGetWorkItems([n],function(n){typeof t=="function"&&t.call(f,n&&n[0])},i,r,u)},t.prototype.getWorkItemsAsync=function(n,t,i,r){var u=this;return i===void 0&&(i=!1),r===void 0&&(r=!1),new Promise(function(f,e){return u.beginGetWorkItems(n,function(n){return f(n)},function(n){return e(n)},t,i,r)})},t.prototype.beginGetWorkItems=function(n,t,i,r,u,f){var e=this;u===void 0&&(u=!1);f===void 0&&(f=!1);this.beginGetWorkItemData(n,function(n){var f,h=0,o=[];n&&(f=Array.isArray(n)?n:[n]);var c=function(){typeof t=="function"&&t.call(e,o)},r=function(n){gi(n,i,e)},s=function(){var n,v;if(n=f&&f[h++],n){var t=null,i=null,a=!1,l=function(){if(t&&(!u||i)&&a)try{var f=t.create(n,i);f.extensionIds=f.extensionIds.concat(n.currentExtensions);o.push(f);yt.delay(e,0,s)}catch(h){r(h)}};e.beginGetLinkTypes(function(){a=!0;l()},r);u&&e.beginGetWorkItemTypeExtensions(n.currentExtensions,function(n){i=n;l()},r);v=n.projectId||n.fields[at.CoreField.TeamProject];e.beginGetProject(v,function(i){var u=n.fields[at.CoreField.WorkItemType];i.beginGetWorkItemType(u,function(n){t=n;l()},r)},r)}else c()};s()},i,r,undefined,f)},t.prototype.beginQuery=function(n,t,i,r,u){var o=this,f;this._queryExecutingPromiseMap[t]?this._queryExecutingPromiseMap[t].then(function(n){delete o._queryExecutingPromiseMap[t];typeof i=="function"&&i.call(o,n)},r):(f=function(i,r){var f=$.extend({wiql:t},u),o={controller:"wit",action:"query",routeData:{project:n||""}};(new e.WorkItemStoreLevelWITDataSource).postDataAsync(o,f).then(function(n){var t=n.data;i(t)}).catch(r)},i===null?this._queryExecutingPromiseMap[t]=new Promise(f):f(i,r))},t.prototype._beginWorkItemsBatchHelper=function(n,t,i,r){var f=this,u=[],e=[];u.push(n);var s=function(n){typeof i=="function"&&i.call(f,n)},h=function(n){gi(n,r,f)},o=function(){if(u.length>0){var n=u.pop();n.length>tt.PageSizes.SAVE&&u.push(n.splice(tt.PageSizes.SAVE));t(n).then(function(n){n&&n.count>0&&$.each(n.value,function(n,t){e.push(t)});yt.delay(f,0,o)},function(n){h(n)})}else s(e)};o()},t.prototype._beginDeleteWorkItems=function(n){var t=this,i=this.tfsConnection.getHttpClient(oi.WorkItemTrackingHttpBatchClient);return this._ongoingDeleteOrRestoreOperationCt++,i.deleteWorkItemsBatch(n).then(function(i){var u,r,f,e;if(t._ongoingDeleteOrRestoreOperationCt--,i.count>0)for(u=i.value,r=0,f=u.length;r<f;r++)e=u[r],e.code===204&&ri.getService().fire(tt.Actions.WORKITEM_DELETED,t,{workItemId:n[r]});return i},function(n){t._ongoingDeleteOrRestoreOperationCt--;throw n;})},t.prototype.beginDeleteWorkItemsBatch=function(n,t,i){var r=this;this._beginWorkItemsBatchHelper(n,function(n){return r._beginDeleteWorkItems(n)},t,i)},t.prototype._beginRestoreWorkItems=function(n){var t=this,i=this.tfsConnection.getHttpClient(oi.WorkItemTrackingHttpBatchClient);return this._ongoingDeleteOrRestoreOperationCt++,i.restoreWorkItemsBatch(n).then(function(n){if(t._ongoingDeleteOrRestoreOperationCt--,n.count>0){var i=n.value;i.forEach(function(n){if(n.code===200){var i=JSON.parse(n.body);ri.getService().fire(tt.Actions.WORKITEM_RESTORED,t,{workItemId:i.id})}})}return n},function(n){t._ongoingDeleteOrRestoreOperationCt--;throw n;})},t.prototype.beginRestoreWorkItemsBatch=function(n,t,i){var r=this;this._beginWorkItemsBatchHelper(n,function(n){return r._beginRestoreWorkItems(n)},t,i)},t.prototype._beginDestroyWorkItems=function(n){var t=this,i=this.tfsConnection.getHttpClient(oi.WorkItemTrackingHttpBatchClient);return this._ongoingDeleteOrRestoreOperationCt++,i.destroyWorkItemsBatch(n).then(function(i){var u,r,f,e;if(t._ongoingDeleteOrRestoreOperationCt--,i.count>0)for(u=i.value,r=0,f=u.length;r<f;r++)e=u[r],e.code===204&&ri.getService().fire(tt.Actions.WORKITEM_DESTROYED,t,{workItemId:n[r]});return i},function(n){t._ongoingDeleteOrRestoreOperationCt--;throw n;})},t.prototype.beginDestroyWorkItemsBatch=function(n,t,i){var r=this;this._beginWorkItemsBatchHelper(n,function(n){return r._beginDestroyWorkItems(n)},t,i)},t.prototype.beginSearch=function(n,t,i,r,u){var o=this,f;f={controller:"wit",action:"search",routeData:{project:n?n.guid:""}};(new e.WorkItemStoreLevelWITDataSource).getDataAsync(f,$.extend({searchText:t},u)).then(function(n){var t=n.data;typeof i=="function"&&i.call(o,t)}).catch(r)},t.prototype.beginGetLinkTypes=function(n,t){var i=this,r=function(){n&&n.call(i,i.linkTypes,i.registeredLinkTypes)};hr(this,this,"linkTypes",r,t,function(n,t){i.witDataManager.beginGetLinkTypes().then(function(t){i._bindLinkTypeEnds(t.witLinkTypes);i.registeredLinkTypes=t.registeredLinkTypes.filter(function(n){return k.isLinkFormRegistered(n)});n(t.witLinkTypes)},t)})},t.prototype.getRegisteredLinkTypes=function(){if(this.registeredLinkTypes&&typeof this.registeredLinkTypes!="function")return this.registeredLinkTypes},t.prototype.getLinkTypes=function(){if(this.linkTypes&&typeof this.linkTypes!="function")return this.linkTypes},t.prototype.getLinkTypesMap=function(){for(var n,t={},u=this.getLinkTypes(),i=0,r=u;i<r.length;i++)n=r[i],n.isDirectional&&(t[n.reverseEnd.name]=n),t[n.forwardEnd.name]=n;return t},t.prototype.getLinkTypeEnds=function(){var n=this.linkTypeEnds,u,t,r,i;if(n)return n;for(u=this.getLinkTypes(),n=[],t=0,r=u;t<r.length;t++)i=r[t],n.push(i.forwardEnd),i.isDirectional&&n.push(i.reverseEnd);return this.linkTypeEnds=n,n},t.prototype.findLinkType=function(n){for(var i,u=(""+n).toUpperCase(),f=this.getLinkTypes(),t=0,r=f;t<r.length;t++)if(i=r[t],i.referenceName.toUpperCase()===u)return i;throw su(n);},t.prototype.findLinkTypeEnd=function(n){for(var t,r=(""+n).toUpperCase(),f=this.getLinkTypeEnds(),i=0,u=f;i<u.length;i++)if((t=u[i],t.id===n)||t.name.toUpperCase()===r||t.immutableName.toUpperCase()===r)return t;throw ou(n);},t.prototype.beginGetAllowedValues=function(n,t,i,r,u){var s=this,o=this.getFieldDefinition(n),f=o.id.toString();f=t?f+"|"+t:f;f=i?f+"|"+i:f;hr(this,this.allowedValues,f,r,u,function(n,r){s.metadataCacheStampManager.addStampToParams(at.WITCommonConstants.AllowedValues,null,function(u){var c=$.extend({projectId:t,workItemTypeName:i,fieldRefName:o.referenceName,fieldId:o.id.toString()},u),h={controller:"wit",action:"allowedValues"},l=s.getTfsContext().navigation.collection.instanceId;(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync(h,c,l,h.action,f).then(function(t){var i=t.data;n(i)},r)})})},t.prototype.getAllowedValues=function(n,t,i){var r=this;return new Promise(function(u,f){r.beginGetAllowedValues(n,t,i,function(n){u(n)},function(n){f(n)})})},t.prototype.beginGetWorkItemCategories=function(n,t,i){var r=this,u=""+(n?n.id:0);hr(this,this.witCategories,u,t,i,function(t,i){r.metadataCacheStampManager.addStampToParams(at.WITCommonConstants.WorkItemTypeCategories,null,function(r){g.beginGetWorkItemTypeCategories(n.guid,r).then(function(n){t(n)},i)})})},t.prototype.beginGetWorkItemTypeExtension=function(n,t,i){var r=this.workItemTypeExtensions[n];r?t(r):this.beginGetWorkItemTypeExtensions([n],function(n){t(n[0])},i)},t.prototype.beginGetWorkItemTypeExtensions=function(n,t,i){var r=this,o=[],u,s=0,h=0,f=[],c=function(){h===0&&t.call(r,f)},l=function(n){ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETTYPEEXTENSIONS_REQUEST,!0);var t={controller:"wit",action:"workItemTypeExtensions"};(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync(t,{extensionIds:n},r.getTfsContext().navigation.collection.instanceId,t.action,"_").then(function(n){var e,t,u;n.requestHeaders&&ft.PerfScenarioManager.addData((e={},e["".concat(ai.PerformanceEvents.WORKITEMTRACKING_GETTYPEEXTENSIONS_REQUEST,".ETAG")]=n.requestHeaders.getResponseHeader("ETag"),e));ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETTYPEEXTENSIONS_REQUEST,!1);t=n.data;t.forEach(function(n){var t=n.fields.map(function(n){return n.field});r._prepareFields(t,!0)});u=[];t.forEach(function(n){r.workItemTypeExtensions[n.id]=n;n.globals&&(u=u.concat(n.globals))});r.beginEnsureConstantSets(u,function(){f=f.concat(t);h--;c()},i)},i)};if(n&&n.length>0)if(n.forEach(function(n){if(r.workItemTypeExtensions[n])f.push(r.workItemTypeExtensions[n]);else{var t=n.length+15;s+t>1024&&(s=0,u=null);u?u.push(n):(u=[n],o.push(u),h++);s+=t}}),o.length===0)c();else while(o.length>0)l(o.pop());else t.call(this,f)},t.prototype.beginEnsureConstantSets=function(n,t,i){var r=this,h=[],o,y=0,p=0,f=0,w=!1,c,l,k,a,v,d,u;ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETCONSTANTSETS,!0);var g=function(n){w||(w=!0,ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETCONSTANTSETS,!1),typeof i=="function"&&i.apply(r,n))},b=function(){f--;!w&&f<=0&&(ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETCONSTANTSETS,!1),typeof t=="function"&&t.apply(r))},nt=function(n){for(var f,t=wr(r,b,g),i=0,u=n;i<u.length;i++)f=u[i],r.constantSets[f]=t.register;r.metadataCacheStampManager.addStampToParams(at.WITCommonConstants.ConstantSets,{ids:n},function(i){var u,f,o,h;ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETCONSTANTSETS_REQUEST,!0);u={controller:"wit",action:"constantSets"};f="_";n!=null&&(f=n.sort().reduce(function(n,t){return n+t}));o=new e.WorkItemStoreLevelWITDataSource;h=null;h=o.isDataProviderEnabled(u)?o.getDataProviderDataUsingIndexDB(u,i,r.getTfsContext().navigation.collection.instanceId,at.WITCommonConstants.ConstantSets,f).then(function(n){var e=n.resolvedFromCache,t=n.data,i,u;return t&&!e&&(i=t,u=$.extend(!0,{},i),o.updateIndexDBCache(u,r.getTfsContext().navigation.collection.instanceId,at.WITCommonConstants.ConstantSets,f)),t}):s.getMVCDataAsync(u,i,!1);h.then(function(i){var f,h,e,u,o,s;for(i.requestHeaders&&ft.PerfScenarioManager.addData((f={},f["".concat(ai.PerformanceEvents.WORKITEMTRACKING_GETCONSTANTSETS_REQUEST,".ETAG")]=i.requestHeaders.getResponseHeader("ETag"),f)),ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETCONSTANTSETS_REQUEST,!1),h=i.data,u=0,o=n;u<o.length;u++)s=o[u],e=h[s],bt.flagSorted(e,pt.localeIgnoreCaseComparer),r.constantSets[s]=e;t.finish()},function(i){for(var e,u=0,f=n;u<f.length;u++)e=f[u],delete r.constantSets[e];t.error(i)})})};if(n){for(c=[],l=0,k=n;l<k.length;l++)u=k[l],a=this.constantSets[u],a?typeof a=="function"&&(f++,a(b,g)):c.push(u);for(c.sort(),v=0,d=c;v<d.length;v++)u=d[v],dr.test(u)?(h.push([u]),f++):(p=(u+"").length+5,y+p>1024&&(y=0,o=null),o?o.push(u):(o=[u],h.push(o),f++),y+=p)}while(h.length>0)nt(h.pop());f===0&&b()},t.prototype.invalidateExtensions=function(n){var t=this;Boolean(n)?$.each(n,function(n,i){delete t.workItemTypeExtensions[i]}):this.workItemTypeExtensions={}},t.prototype.getConstantSet=function(n){return this.constantSets[n]},t.prototype.beginPageWorkItems=function(n,t,i,r,u){var s=this,f,o;if(!Array.isArray(n))throw new Error("Invalid argument type: ids must be an array.");if(!Array.isArray(t))throw new Error("Invalid argument type: 'fields' must be an array.");f={workItemIds:n.join(","),fields:t.join(",")};u&&$.extend(f,u);o={controller:"wit",action:"pageWorkItems"};(new e.WorkItemStoreLevelWITDataSource).postDataWithCallback(o,f,function(n){var t=n.data;typeof i=="function"&&i.apply(s,[t])},r)},t.prototype.beginPageWorkItemsByIdRev=function(n,t,i,r,u){var f=this,o={workItemIds:n.join(","),workItemRevisions:t.join(","),fields:i.join(",")};(new e.WorkItemStoreLevelWITDataSource).postDataAsync({controller:"wit",action:"pageWorkItemsByIdRev"},o).then(function(n){var t=n.data;typeof r=="function"&&r.apply(f,[t])}).catch(u)},t.prototype.beginGetWorkItemResources=function(n,t,i){var r={ids:n};(new e.WorkItemStoreLevelWITDataSource).getDataAsync({controller:"wit",action:"ResourceLinks"},r).then(function(n){t(n.data)},i)},t.prototype.beginSaveWorkItems=function(n,t,i,r){r===void 0&&(r=!0);this._beginSaveWorkItemsInternal(n,{},{},t,i,r)},t.prototype._beginSaveWorkItemsInternal=function(n,t,i,r,u,f){var b=this,o,l,h,a,d,g,w,nt,s,c,it,rt,ut;f===void 0&&(f=!0);h=[];a={};gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItems.start");var k=function(n,t){for(var r,f,u=0,e=n;u<e.length;u++)r=e[u],f=a[r.id]?a[r.id]:a[r.tempId],f&&i[r.id]&&$.extend(f.changedFields,i[r.id]),r._setSavingStatus(t,f),r._setValidatingStatus(!1)},v=function(){try{if(l)l=kr(h),gi(l,u,b);else if(typeof r=="function"){gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItems.complete");gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItems.completedCallback.start");var t={workItems:n};r.call(b,t);gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItems.completedCallback.complete")}}finally{k(o,!1)}},y=function(n,t){l=new Error(t.message);f&&n.setError(l);h.push({workItem:n,error:t})},p=function(){var n,i,u,t,r,f;if(o&&o.length===h.length){for(n=0,i=o;n<i.length;n++)for(u=i[n],t=0,r=u.allLinks;t<r.length;t++)f=r[t],f.setState(!0);v()}},et=function(n,t){var i={},f,r,u;for(f in t)t.hasOwnProperty(f)&&(r=Number(f),u=n.fieldMapById[r],u&&(i[u.fieldDefinition.referenceName]=u,r===at.CoreField.IterationId?i[at.CoreFieldRefNames.IterationPath]=n.fieldMapById[at.CoreField.IterationPath]:r===at.CoreField.AreaId&&(i[at.CoreFieldRefNames.AreaPath]=n.fieldMapById[at.CoreField.AreaPath])));return i},ot=function(n,i){for(var u,f,s,r,e=[],o=0,h=i.deletedLinks;o<h.length;o++)u=h[o],u instanceof wi&&e.push({command:"remove",sourceId:n.id,targetId:u.getTargetId(),linkData:u.linkData});for(f=0,s=i.addedLinks;f<s.length;f++)r=s[f],r instanceof wi&&(t.hasOwnProperty(r.getTargetId())&&(r.linkData.ID=t[r.getTargetId()]),e.push({command:"add",sourceId:n.id,targetId:r.getTargetId(),linkData:r.linkData}));return{typeChanged:n.hasWorkItemTypeChanged(),projectChanged:n.hasTeamProjectChanged(),changedFields:et(n,i.payload.fields),changedWorkItemLinks:e,firstSave:n.id==0}};if(n&&n.length>0){for(d=[],g=[],o=[],w=0,nt=n.length;w<nt;w++)s=n[w],s.fireWorkItemPreSave(),s.isDirty()&&(c=s.getUpdateData(),c&&c.payload&&(g.push(c),d.push(c.payload),it=s.id>0?s.id:s.tempId,a[it]=ot(s,c),o.push(s)));if(o.length>0){k(o,!0);try{ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_UPDATE_AJAX,!0);rt={controller:"wit",action:"updateWorkItems"};ut={updatePackage:yt.stringifyMSJSON(d)};(new e.WorkItemStoreLevelWITDataSource).postDataWithCallback(rt,ut,function(n){var i=n.data,r;ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_UPDATE_AJAX,!1);i.length===o.length?(r=!1,$.each(i,function(n,t){if(t.state!==tt.WorkItemUpdateResultState.Success)return r=!0,!1}),$.each(o,function(n,u){var f=i[n];f.state!==tt.WorkItemUpdateResultState.Success||r?f.state!==tt.WorkItemUpdateResultState.Success?(y(u,f.error),p()):(h.push({workItem:u}),p()):b.beginGetWorkItemTypeExtensions(f.currentExtensions,function(i){u._takeUpdateResult(f,g[n],i);h.push({workItem:u});t[u.tempId]=u.id;p()},function(n){y(u,n);p()})})):($.each(o,function(n,t){y(t,{message:"Server data does not match with what client sent."})}),v())},function(n){ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_UPDATE_AJAX,!1);$.each(o,function(t,i){y(i,n)});v()})}catch(st){k(o,!1);throw st;}}else v()}else v()},t.prototype.saveWorkItemsBatchAsync=function(n){var t=this;return new Promise(function(i,r){t.beginSaveWorkItemsBatch(n,function(n){return i(n)},function(n){return r(n)})})},t.prototype.beginSaveWorkItemsBatch=function(n,t,i,r){function c(){var s,v;f.length>0?(s=f.pop(),s.length>tt.PageSizes.SAVE&&(f.push(s.slice(tt.PageSizes.SAVE)),s=s.slice(0,tt.PageSizes.SAVE)),u._beginSaveWorkItemsInternal(s,a,h,function(){$.each(s,function(n,t){e.push({workItem:t})});r&&r.call(u,s.length);yt.delay(u,0,c)},function(t){function p(n){if(a===0){if(s.length===1&&n)f.push(s);else if(s.length>1){var i=s.length/2;f.push(s.slice(i));f.push(s.slice(0,i))}else e.push(t.results[0]);yt.delay(u,0,c)}}function g(n,t){a-=1;h[n.id]=$.extend(t,h[n.id]);p(!0)}function nt(){a-=1;o=!0;p(!1)}var a=0,b=!1,k=!1,d,v,w,r,y;if(t&&t.name===tt.Exceptions.WorkItemBulkSaveException){for(d=t.results,v=0,w=d;v<w.length;v++)r=w[v],y=r.workItem,r.error&&(r.error.errorCode===cr.WorkItemMissingOrUpdated||r.error.errorCode===cr.ResourceLinkNotFoundException)&&!l.hasOwnProperty(y.id.toString())?(b=!0,l[y.id]=!0,a+=1,u._beginTryMergeWorkItem(y,g,nt)):k=!0;!b&&k&&(o=!0);p(!1)}else $.each(n,function(n,i){i.setError(t)}),gi(t,i,u)},!1)):o?($.each(e,function(){this.error&&this.workItem.setError(this.error)}),gi(kr(e),i,u)):(gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItemsBatch.complete"),gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItemsBatch.completedCallback.start"),typeof t=="function"&&(v={workItems:n},t.call(u,v)),gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItemsBatch.completedCallback.complete"))}var u=this,s=[],f=[],h={},e=[],o=!1,l={},a={};gt.logTracePoint("VSS.WorkItemTracking.WorkItemStore.beginSaveWorkItemsBatch.start");$.each(n,function(n,t){t.isValid()?s.push(t):(o=!0,e.push({workItem:t,error:hu(t)}))});s.length>0&&f.push(s);c()},t.prototype._prepareFields=function(n,t){var f,i,r,u,e;if(t&&this.fields||(this.fields=[],this.fieldMap={},this.fieldMapById={}),n){for(ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETFIELDS_PROCESS,!0),f=function(n){var t=new er(i,n),u=!0,r;i.fieldMapById[t.id]||(u=!1);i.fieldMapById[t.id]=t;i.fieldMap[t.name.toUpperCase()]=t;i.fieldMap[t.referenceName.toUpperCase()]=t;u?(r=-1,$.each(i.fields,function(n,i){if(i.id===t.id)return r=n,!1}),r!==-1?i.fields[r]=t:i.fields.push(t)):i.fields.push(t)},i=this,r=0,u=n;r<u.length;r++)e=u[r],f(e);ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETFIELDS_PROCESS,!1)}return this.fields},t.prototype._reduceTagWorkitemAssociation=function(n){var t={},r={},i,u;return $.each(n,function(n,f){i=r[f.tagDefinition.name.toUpperCase()];i==null?(t[f.tagDefinition.name]=f.workitemIds,r[f.tagDefinition.name.toUpperCase()]=f.tagDefinition.name):(u=t[i],t[i]=bt.union(u,f.workitemIds))}),t},t.prototype._beginTryMergeWorkItem=function(n,t,i){var u=this,r;r={};gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore._beginTryMergeWorkItem.start");this.beginGetWorkItemData([n.id],function(f){var o,e;if(u._hasConflicts(n,f,r)){i(n);return}o=u._getChangedFieldsForMerge(n,f);u._mergeWorkItem(n,f,r);n.evaluate();for(e in r)r.hasOwnProperty(e)&&n.setFieldValue(e,r[e]);n.isValid()?(gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore._beginTryMergeWorkItem.complete"),gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore._beginTryMergeWorkItem.completedCallback.start"),t(n,o),gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore._beginTryMergeWorkItem.completedCallback.complete")):i(n)},function(){i(n)},!1,!0)},t.prototype._getChangedFieldsForMerge=function(n,t){var u,f,r,i,e,o;u={};f=t.fields;for(r in f)f.hasOwnProperty(r)&&(i=n.getField(r),i&&(e=i.getValue(!0),o=yi.convertValueToExternal(n.store,t.fields[r],i.fieldDefinition.type),yi.compareValues(e,o,!1)||(u[i.fieldDefinition.referenceName]=i)));return u},t.prototype._hasConflicts=function(n,t,i){var c,e,u,o,f,s,h,r;s=n.getFieldUpdates();for(h in s)if(s.hasOwnProperty(h)&&(r=Number(h),u=n.getField(r),u&&(c=u.getValue(!0),e=yi.convertValueToExternal(n.store,t.fields[r],u.fieldDefinition.type),u.isUserChange())))if(o=u.getValue(),r==at.CoreField.History||yi.compareValues(c,e,!1))i[r]=o,r===at.CoreField.IterationId?(f=n.getField(at.CoreField.IterationPath),i[at.CoreField.IterationPath]=f.getValue()):r===at.CoreField.AreaId&&(f=n.getField(at.CoreField.AreaPath),i[at.CoreField.AreaPath]=f.getValue());else if(!yi.compareValues(o,e,!1))return!0;return!1},t.prototype._mergeWorkItem=function(n,t,i){var u,r;u=n.getLinkUpdates();n._load(t,!0);for(r in i)i.hasOwnProperty(r)&&n._setFieldValueById(Number(r),i[r],!1);n._restoreLinkUpdates(u)},t.prototype._bindLinkTypeEnds=function(n){for(var i,t,r=0,u=n;r<u.length;r++)i=u[r],t=i.forwardEnd,t&&(t.linkType=i,t.oppositeEnd=i.reverseEnd),t=i.reverseEnd,t&&(t.linkType=i,t.oppositeEnd=i.forwardEnd)},t.ServiceLifetime=li.ServiceLifetime.ClearOnFPS,t.FutureDate=new Date(2533707648e5),t.LayoutUserSettingsKey="workItemTracking.LayoutUserSettings",t}(ui.TfsService);t.WorkItemStore=pi;fr=function(){function n(n,t){var o,f,s,r,e;this.project=n;this.store=n.store;this.id=t.id;this.name=t.name;this.referenceName=t.referenceName;this.dependentFieldsMapByReferenceName={};this._httpClient=this.store.tfsConnection.getHttpClient(ei.WorkItemTrackingHttpClient);o=t.fields;this.form=t.rules.form;this.processId=t.rules.processId;this.triggerList=t.rules.triggerList;this.transitions=t.rules.transitions;f=t.rules.fieldRules;s=t.rules.fieldHelpTexts;this.orderedStates=t.orderedStates;this.color=t.color;this._parseStateColors(t.rules.stateColors);var h=this.fieldMap={},l=this.fieldMapById={},c=this.fields=[],a=this.store.fieldMap,v=this.store.fieldMapById;for(r=0,e=o;r<e.length;r++){var u=e[r],y=v[u]||a[u],i=new er(this,y,f&&f[u],s[u]||"");l[i.id]=i;h[i.name.toUpperCase()]=i;h[i.referenceName.toUpperCase()]=i;c[c.length]=i}}return n.prototype.path=function(){return this.project.path()+"/wit/"+this.name},n.prototype.create=function(n,t){return new or(this,n,t)},n.prototype.getFieldDefinition=function(n){var t=(""+n).toUpperCase();return this.fieldMapById[t]||this.fieldMap[t]},n.prototype.getTriggerList=function(){var t=this,n=[];return this.triggerList&&$.each(this.triggerList,function(i,r){t.getFieldDefinition(r)&&n.push(r)}),n},n.prototype.getInitialState=function(){var n;return this.transitions&&this.transitions[""]&&(n=this.transitions[""][0]),n||""},n.prototype.getRestUrl=function(){if(!this.restUrl){var n=this.store.getTfsContext(),t=n.navigation.publicAccessPoint.scheme+"://"+n.navigation.publicAccessPoint.authority+n.getServiceHostUrl();return pt.format("{0}{1}/_apis/wit/workItemTypes/{2}",t,this.project.guid,this.name)}return this.restUrl},n.prototype.beginGetDependentFields=function(n,t,i){var r=this,u=this.getFieldDefinition(n);if(!u){typeof i=="function"&&i.apply(this,{message:pt.format("Field {0} doesn't exist in work item type {1}",n,this.name)});return}hr(this,this.dependentFieldsMapByReferenceName,u.referenceName,t,i,function(n,t){r._httpClient.beginGetWorkItemTypeFields(r.project.guid,r.name,u.referenceName).then(function(t){var i=$.map(t.dependentFields||[],function(n){return r.getFieldDefinition(n.referenceName)});r.restUrl=t._links.parent.href;n(i)},t)})},n.prototype._parseStateColors=function(n){var t=this;n&&(this.stateColors={},$.each(n,function(n,i){t.stateColors[i.name]="#"+i.color}))},n}();t.WorkItemType=fr;i.initClassPrototype(fr,{project:null,store:null,id:null,name:null,fields:null,fieldMap:null,fieldMapById:null,form:null,triggerList:null});er=function(){function n(n,t,i,r){n instanceof pi?this.store=n:(this.workItemType=n,this.store=n.store);this.id=t.id;this.name=t.name;this.referenceName=t.referenceName;this.flags=t.flags;this.type=t.type;this.usages=t.usages;this.rules=i;this.helpText=r||"";this.isIdentity=t.isIdentity;this.isHistoryEnabled=t.isHistoryEnabled}return n.prototype.checkFlag=function(n){return(this.flags&+n)!==tt.FieldFlags.None},n.prototype.canSortBy=function(){return this.checkFlag(tt.FieldFlags.Sortable)},n.prototype.isQueryable=function(){return this.checkFlag(tt.FieldFlags.Queryable)},n.prototype.isIgnored=function(){return pt.equals(this.referenceName,at.CoreFieldRefNames.AreaId,!0)||pt.equals(this.referenceName,at.CoreFieldRefNames.IterationId,!0)?!0:this.checkFlag(tt.FieldFlags.Ignored)},n.prototype.isCloneable=function(){return this.checkFlag(tt.FieldFlags.Cloneable)},n.prototype.isComputed=function(){return this.checkFlag(tt.FieldFlags.Computed)},n.prototype.supportsTextQuery=function(){return this.checkFlag(tt.FieldFlags.SupportsTextQuery)},n.prototype.isEditable=function(){switch(this.id){case at.CoreField.AreaPath:case at.CoreField.IterationPath:return!0;case at.CoreField.Id:case at.CoreField.Rev:case at.CoreField.WorkItemType:case at.CoreField.CreatedBy:case at.CoreField.IsDeleted:return!1}return!this.isComputed()},n.prototype.isCoreField=function(){return this.referenceName.toLowerCase().indexOf("system.")===0},n.prototype.isoobfield=function(){return this.referenceName.toLowerCase().indexOf("microsoft.vsts.")===0},n.prototype.isCustomField=function(){return!this.isCoreField()&&!this.isoobfield()},n}();t.FieldDefinition=er;i.initClassPrototype(er,{store:null,workItemType:null,id:null,name:null,referenceName:null,type:null,usages:tt.FieldUsages.None,flags:tt.FieldFlags.None,rules:null,helpText:""});or=function(){function n(n,t,i){this._isCommentDirty=!1;this._saving=!1;this._isChangeProjectInProgress=!1;this.id=0;this.tempId=0;this.revision=0;this.workItemType=n;this._originalWorkItemType=this.workItemType;this.store=n.store;this.project=n.project;this.extensions=i||[];this._originalExtensions=this.extensions;this._httpClient=this.store.tfsConnection.getHttpClient(ei.WorkItemTrackingHttpClient);this.events=new ii.NamedEventCollection;this._eventsEnabled=!1;this._initializeFields();this._defineExtensionFields();this._load(t,!1);this._eventsEnabled=!0;this.relatedData={};this.extensionIds=[];this._contributionErrorMap={};this.sessionId=pt.generateUID()}return n.getTempId=function(){return--n.tempIdSeed},n.getTempIdSeed=function(){return n.tempIdSeed},n.reserveTempId=function(t){n.tempIdSeed>t&&(n.tempIdSeed=t)},n.getResourceUrl=function(n,t){var i=n.navigation.publicAccessPoint.scheme+"://"+n.navigation.publicAccessPoint.authority+n.getServiceHostUrl();return pt.format("{0}_apis/wit/workItems/{1}",i,t)},n.prototype._initializeFields=function(){this.fields=[];this.fieldMap={};this.fieldMapById={};this._fieldValidationMap={};this._defineWorkItemTypeFields()},n.prototype.setContributionErrorStatus=function(n,t,i){if(t&&this._contributionErrorMap.hasOwnProperty(n))delete this._contributionErrorMap[n],this.fireWorkItemErrorChanged();else if(!t){var r=this._contributionErrorMap[n];this._contributionErrorMap[n]=i||"";r!==this._contributionErrorMap[n]&&this.fireWorkItemErrorChanged()}},n.prototype.resetContributionErrorStatuses=function(){this._contributionErrorMap&&Object.keys(this._contributionErrorMap).length>0&&(this._contributionErrorMap={},this.fireWorkItemErrorChanged())},n.prototype.hasAttachmentsPendingUpload=function(){var n=!1;return this.allLinks.some(function(t){return t instanceof rr&&t.getPlaceholderStatus()&&(n=!0),n})},n.prototype.isReset=function(){return this._isReset},n.prototype.getWorkItemContract=function(){var i=this,t;return this.isNew()?null:(t={},this.fields.forEach(function(n){t[n.fieldDefinition.referenceName]=i.getFieldValue(n.fieldDefinition.referenceName)}),{id:this.id,rev:this.revision,relations:null,fields:t,_links:null,url:n.getResourceUrl(this.store.getTfsContext(),this.id)})},n.prototype.getWorkItemRelations=function(){var n=this.allLinks,t=n.filter(function(n){return!n.isRemoved()&&n.linkData.FldID!==at.DalFields.AttachedFiles});return t.map(function(n){return{attributes:n.getAttributes(),rel:n.getRelationLinkType(),url:n.getLinkUrl()}})},n.prototype.doesLinkAlreadyExist=function(n){for(var u,i=!1,t=0,r=this.allLinks;t<r.length;t++)if(u=r[t],i=u.isDuplicate(n),i)return!0;return!1},n.prototype.changeWorkItemType=function(n,t,i){var r,f,e,u,o,h,s;if(!this.isReadOnly()&&this.workItemType!==n){for(r=n.project!==this.project,this._isChangeProjectInProgress=r,i||(r?this.fireWorkItemProjectChanging():this.fireWorkItemTypeChanging()),f=this.workItemType,e=this._getFieldChangeOnBugTypeChanged(f,n),this.workItemType=n,this.ruleEngine=null,this._initializeFields(),u=0,o=Object.keys(this._fieldData);u<o.length;u++)h=o[u],this._defineField(h);if(this.extensions=t||[],this._defineExtensionFields(),this._setProject(n.project),!pt.equals(n.name,f.name)){this.setFieldValue(at.CoreField.WorkItemType,n.name);for(s in e)this.setFieldValue(s,e[s])}this.evaluate();this._isChangeProjectInProgress=!1;i||(r?this.fireWorkItemProjectChanged():this.fireWorkItemTypeChanged())}},n.prototype.isChangeProjectInProgress=function(){return this._isChangeProjectInProgress},n.prototype._getFieldChangeOnBugTypeChanged=function(n,t){var f={},u="<b><u><br/><br/>".concat(pt.format(ni.WorkItemChangedReproDescriptionMessage,this.getField(this._isBugTypeChange(n)?tt.BugWITFieldReferenceNames.ReproSteps:at.CoreFieldRefNames.Description).fieldDefinition.name,n.name,t.name),"<\/u><\/b><br/>"),i,e,r,o;return this._isBugTypeChange(n)?(i=this.getFieldValue(tt.BugWITFieldReferenceNames.ReproSteps),e=this.getFieldValue(at.CoreFieldRefNames.Description),i&&!ct.WorkItemRichTextHelper.isHtmlVisuallyBlank(i)&&(f[at.CoreFieldRefNames.Description]=e?e+u+i:u+i)):this._isBugTypeChange(t)&&(r=this.getFieldValue(at.CoreFieldRefNames.Description),o=this.getFieldValue(tt.BugWITFieldReferenceNames.ReproSteps),r&&!ct.WorkItemRichTextHelper.isHtmlVisuallyBlank(r)&&(f[tt.BugWITFieldReferenceNames.ReproSteps]=o?o+u+r:u+r)),f},n.prototype._isBugTypeChange=function(n){return n.fields?n.fields.some(function(n){return pt.equals(n.referenceName,tt.BugWITFieldReferenceNames.ReproSteps,!0)}):!1},n.prototype.getOriginalWorkItemType=function(){return this._originalWorkItemType},n.prototype._setProject=function(n){this.isReadOnly()||this.project!==n&&(this.project=n,this._setFieldValueById(at.CoreField.TeamProject,n.name))},n.prototype._defineField=function(n){var t,i;this.fieldMap.hasOwnProperty((""+n).toUpperCase())||(t=this.workItemType.getFieldDefinition(n),t||(t=this.store.getFieldDefinition(n)),t&&!Boolean(this.fieldMapById[t.id+""])&&(i=new yi(this,t),this.fieldMap[t.referenceName.toUpperCase()]=i,this.fieldMap[t.name.toUpperCase()]=i,this.fieldMapById[t.id+""]=i,this.fields.push(i)))},n.prototype._defineWorkItemTypeFields=function(){var n=this;$.each(this.workItemType.fields,function(t,i){n._defineField(i.referenceName)})},n.prototype._defineExtensionFields=function(){var n=this;this.extensions&&$.each(this.extensions,function(t,i){i.markerField&&n._defineField(i.markerField.field.referenceName);i.fields&&$.each(i.fields,function(t,i){n._defineField(i.field.referenceName)})})},n.prototype.discardIfNew=function(){this.isNew()&&(this.fireWorkItemDiscarded(),ri.getService().fire(tt.Actions.WORKITEM_DISCARDED,this))},n.prototype.isNew=function(){return+this.id<1},n.prototype.isDeleted=function(){return this.getFieldValue(at.CoreFieldRefNames.IsDeleted)},n.prototype.resetManualFieldChanges=function(){this.manuallySetFields={}},n.prototype.setExtensions=function(n){this.extensions=n||[];this._originalExtensions=this.extensions;this._defineExtensionFields();this.ruleEngine=null},n.prototype.isDirty=function(n,t){var f,r,u,i;if(this.isReadOnly()||this.isDeleted())return!1;if(this._fieldsDirty(n,t))return!0;for(f=this.allLinks,r=0,u=f;r<u.length;r++)if((i=u[r],!i.isRemoved())&&(!i.isNew()||!(i instanceof wi)||!i.linkData.isAddedBySystem)&&(i.deleted!==i.isNew()||i.updated))return!0;return!1},n.prototype.isValid=function(){var n=this.getInvalidFields(!0);return(!n||n.length===0)&&Object.keys(this._contributionErrorMap).length===0},n.prototype.isReadOnly=function(){return this._isReadOnly||this.isDeleted()},n.prototype.isCommentingAvailable=function(){return this._isCommentingAvailable},n.prototype.areCommentsEditable=function(){var n=y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.UseSaveCommentsPermission,!1);return n?this.isCommentingAvailable():!this.isReadOnly()},n.prototype.isExtensionField=function(n){return(n.usages&tt.FieldUsages.WorkItemTypeExtension)===tt.FieldUsages.WorkItemTypeExtension},n.prototype.getRevisions=function(){return this._revisions},n.prototype.getUniqueId=function(){return this.id||this.tempId},n.prototype.setError=function(n){this._error=n;this.fireWorkItemErrorChanged()},n.prototype.clearError=function(){this._error&&(this._error=null,this.fireWorkItemErrorChanged())},n.prototype.getError=function(){return this._error},n.prototype.hasError=function(){return this._error?!0:!1},n.prototype.getInvalidFields=function(n){for(var i,r=[],f=this.fields,t=0,u=f;t<u.length;t++)if(i=u[t],!i.isValid()&&(r.push(i),n))break;return r},n.prototype.getDirtyFields=function(n){for(var t,u,i=[],r=0,f=this.fields;r<f.length;r++)t=f[r],u=t.fieldDefinition.id.toString(),n&&this.manuallySetFields&&this.manuallySetFields.hasOwnProperty(u)?i.push(t):!n&&this.fieldUpdates&&this.fieldUpdates.hasOwnProperty(u)&&i.push(t);return i},n.prototype.isFieldDirty=function(n){var t=this.getField(n);return t&&t.isDirty()},n.prototype.setFieldValue=function(n,t,i,r){if(this.isReadOnly())return!1;var u=this.getField(n);return u?(u.setValue(t,!1,r,i),!0):!1},n.prototype.setIsCommentDirty=function(n){this._isCommentDirty=n},n.prototype.getIsCommentDirty=function(){return this._isCommentDirty},n.prototype.getFieldValue=function(n,t,i){var r=this.getField(n);if(r)return r.getValue(t,i)},n.prototype.getIdentityFieldValue=function(n,t,i){var r=this.getField(n);if(r)return r.getIdentityValue(t,i)},n.prototype.getFriendlyFieldValue=function(n,t,i){var r=this.getField(n);if(r)return r.getFriendlyValue(t,i)},n.prototype._getFieldValueById=function(n,t,i,r){var o=this.fieldUpdates,f,e;switch(n){case at.CoreField.AttachedFileCount:return this._getLinkCount(rr,t);case at.CoreField.ExternalLinkCount:return this._getLinkCount(ir,t);case at.CoreField.HyperLinkCount:return this._getLinkCount(lr,t);case at.CoreField.RelatedLinkCount:return this._getLinkCount(wi,t);case at.CoreField.Parent:return this._getParentLinkId(t);case at.CoreField.CommentCount:return this._getCommentCount(t);case at.CoreField.TeamProject:if(this.isNew()&&this.project)return this.project.name}return(f=n+"",!t&&o.hasOwnProperty(f)&&(e=o[f],!e.setByRule||!i))?ht.convertPotentialIdentityRefFromFieldValue(e.value,r):n===at.CoreField.History&&!y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.GetWorkItemHistoryFieldValue)?"":ht.convertPotentialIdentityRefFromFieldValue(this._fieldData[f],r)},n.prototype._setFieldValueById=function(n,t,i,r){var s=this.isReadOnly(),f=n===at.CoreField.History,c,o,l,a;if(r==!0&&(s=!f&&this.isReadOnly()),!s){switch(n){case at.CoreField.AttachedFileCount:case at.CoreField.ExternalLinkCount:case at.CoreField.HyperLinkCount:case at.CoreField.RelatedLinkCount:case at.CoreField.Parent:case at.CoreField.CommentCount:return;case at.CoreField.AreaId:case at.CoreField.IterationId:if(!this.project.nodesCacheManager.getReferencedNode(t))throw new Error("Invalid node id.");}var u=n+"",e=this.getField(n),h=!1;e&&e.fieldDefinition&&(h=e.fieldDefinition.isIdentity);c=this._fieldData[u];!i&&this.manuallySetFields&&(this.manuallySetFields[u]=t);o=f&&!yi.compareValues("",t);l=!f&&!yi.compareValues(c,t,undefined,h);o||l?(this.fieldUpdates[u]={value:t,setByRule:i},o&&(a=this.getFieldValue(at.CoreField.CommentCount),this.evaluateField(at.CoreField.CommentCount,!0,a))):(delete this.fieldUpdates[u],this.manuallySetFields&&delete this.manuallySetFields[u])}},n.prototype.getFieldValueByRevision=function(n,t){var i=this._revisions,u=n+"",f,e,o,r;if(t<0)return null;if(n===at.CoreField.History)return t<i.length?i[t][u]:this._fieldData[u];if(f=this.getComputedFieldValue(n,t),f&&f.success)return f.value;for(e=void 0,o=!1,r=t;r<i.length;r++)if(i[r].hasOwnProperty(u)){e=ht.convertPotentialIdentityRefFromFieldValue(i[r][u]);o=!0;break}return o||(e=this._getFieldValueById(n,!0)),e},n.prototype.getNonComputedFieldValueByRevisionWithDefaultValue=function(n,t,i,r){if(t<0)return null;var u=this._revisions[t],f=n+"";return u&&u.hasOwnProperty(f)?ht.convertPotentialIdentityRefFromFieldValue(u[f],r):i===undefined||t>=this._revisions.length?this._getFieldValueById(n,!0,!1,r):i},n.prototype.getComputedFieldValue=function(n,t){var u=n+"",i,r;if(t>=0&&(n===at.CoreField.TeamProject||n===at.CoreField.IterationPath||n===at.CoreField.AreaPath)&&(i=this._revisions[t],i&&i.hasOwnProperty(u)&&(r=i[u],r)))return{success:!0,value:r};switch(n){case at.CoreField.TeamProject:return this._getFieldValueById(n,!0);case at.CoreField.NodeName:return this.computeFieldValue(at.CoreField.NodeName,at.CoreField.AreaId,t);case at.CoreField.IterationPath:return this.computeFieldValue(at.CoreField.IterationPath,at.CoreField.IterationId,t);case at.CoreField.AreaPath:return this.computeFieldValue(at.CoreField.AreaPath,at.CoreField.AreaId,t);default:return null}},n.prototype.isSaving=function(){return this._saving},n.prototype.isValidating=function(n){if(n)return this._fieldValidationMap[n.toString()]||!1;for(var t in this._fieldValidationMap)if(this._fieldValidationMap[t])return!0;return!1},n.prototype.getTitle=function(){return this._getFieldValueById(at.CoreField.Title)||""},n.prototype.getCaption=function(n,t){var i,r;return this.isNew()?(r=t?"":-this.tempId,i=pt.format(ni.WorkItemEditorCaptionNew,this.workItemType.name,r)):i=pt.format(ni.WorkItemEditorCaption,this.workItemType.name,this.id),n&&this.isDirty(!0)&&(i=pt.format(ni.WorkItemEditorDirtyCaption,i)),i},n.prototype.getInfoText=function(){var n={},t=this.getInvalidFields(!0);return t&&t.length>0?(n.text=t[0].getErrorText(),n.invalid=!0):this.hasError()?(this._error.fieldReferenceName&&!this.fieldMap[this._error.fieldReferenceName.toUpperCase()]?(n.text=ni.BrowserRefreshRequired,hi.publishEvent(new hi.TelemetryEventData(ot.WIFormCIDataHelper.getArea(),"WorkItem.BrowserRefreshRequired",{fieldReferenceName:this._error.fieldReferenceName}))):n.text=tu(this.getError()),n.invalid=!0):Object.keys(this._contributionErrorMap).length>0?(n.invalid=!0,n.text=this._contributionErrorMap[Object.keys(this._contributionErrorMap)[0]]||""):n.text=this.getTitle(),n},n.prototype.getState=function(){return this._getFieldValueById(at.CoreField.State)||""},n.prototype.getPerson=function(n){return this.referencedPersons[n]||this.store.getCurrentUser()},n.prototype.getIdentity=function(n){return ht.isWorkItemIdentityRef(n)?n.identityRef:ht.createIdentityRefFromDistinctDisplayName(n)},n.prototype.updateCachedIdOnSave=function(){ri.getService().fire(tt.Actions.WORKITEM_ID_UPDATED,this)},n.prototype.attachEvent=function(n,t){this.events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this.events.unsubscribe(n,t)},n.prototype.fireEvent=function(n,t){this._eventsEnabled&&this.events.invokeHandlers(n,this,t)},n.prototype.attachWorkItemChanged=function(n){this.attachEvent("workitem-changed",n)},n.prototype.detachWorkItemChanged=function(n){this.detachEvent("workitem-changed",n)},n.prototype.fireWorkItemChanged=function(n){n&&n.change!==tt.WorkItemChangeType.ErrorChanged&&n.change!==tt.WorkItemChangeType.SaveCompleted&&this.clearError();this.fireEvent("workitem-changed",n)},n.prototype.fireWorkItemPreSave=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.PreSave},n))},n.prototype.fireWorkItemSaved=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Saved},n))},n.prototype.fireWorkItemSaving=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Saving},n))},n.prototype.fireWorkItemValidating=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Validating},n))},n.prototype.fireWorkItemValidationComplete=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.ValidationCompleted},n))},n.prototype.fireWorkItemRefresh=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Refresh},n))},n.prototype.fireWorkItemReset=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Reset},n))},n.prototype.fireWorkItemDiscarded=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Discarded},n))},n.prototype.fireWorkItemSaveComplete=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.SaveCompleted},n))},n.prototype.fireWorkItemDeleted=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Deleted},n))},n.prototype.fireWorkItemTypeChanging=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.TypeChanging},n))},n.prototype.fireWorkItemTypeChanged=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.TypeChanged},n))},n.prototype.fireWorkItemProjectChanging=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.ProjectChanging},n))},n.prototype.fireWorkItemProjectChanged=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.ProjectChanged},n))},n.prototype.fireWorkItemErrorChanged=function(t){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.ErrorChanged},t));this.hasError()&&this._error.fieldReferenceName?this.fireEvent("field-error:"+this._error.fieldReferenceName):this.fireEvent(n.FIELD_ERRORS_CLEARED)},n.prototype.fireWorkItemLinksUpdatedByOtherWorkItem=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.WorkItemLinkChangedOutside},n))},n.prototype.fireFieldAllowedValuesChange=function(n){var i=this.getField(n),t={};t[n]=i;this.fireWorkItemChanged({workItem:this,change:tt.WorkItemChangeType.FieldAllowedValuesChange,changedFields:t})},n.prototype.fireFieldChange=function(t){var h=this,r={},f,e,o,s,i,u;if(this._eventsEnabled&&t){for(f=0,e=t;f<e.length;f++)i=e[f],r.hasOwnProperty(i)||(u=this.getField(i),u?(o=u.fieldDefinition.id,s=n.FIELD_ID_TO_DEPENDENT_ID_MAP[o],r[o]=u,s&&s.forEach(function(n){var t=h.getField(n);t&&(r[n]=t)})):r[i]=null);t=[];for(i in r)r.hasOwnProperty(i)&&(u=r[i],t[t.length]=i,this.fireEvent("field-change:"+i,u))}this.fireWorkItemChanged({workItem:this,change:tt.WorkItemChangeType.FieldChange,changedFields:r})},n.prototype.attachFieldChange=function(n,t){var i=this.getField(n);i?this.attachEvent("field-change:"+i.fieldDefinition.id,t):this.attachEvent("field-change:"+n,t)},n.prototype.detachFieldChange=function(n,t){var i=this.getField(n);i?this.detachEvent("field-change:"+i.fieldDefinition.id,t):this.detachEvent("field-change:"+n,t)},n.prototype.getField=function(n){var t=(""+n).toUpperCase();return this.fieldMapById[t]||this.fieldMap[t]},n.prototype.computeFieldValue=function(n,t,i){function e(n){var t,i;f&&(t=c.project.nodesCacheManager.getReferencedNode(f),t&&(i=void 0,i=t.path?ut.NodeHelpers.getReferencedNodeSegmenets(t.path):ut.NodeHelpers.getNodeSegments(t),u.value=i[n],u.success=!0))}var c=this,o,f,u={success:!1},s,h,r;o=n instanceof yi?n.fieldDefinition.id:n;f=i>=0?this.getFieldValueByRevision(t,i):this._getFieldValueById(t);switch(o){case at.CoreField.AreaId:case at.CoreField.IterationId:f&&(r=this.project.nodesCacheManager.getReferencedNode({path:f,nodeType:o===at.CoreField.AreaId?1:2}),r&&(u.value=r.id,u.success=!0));break;case at.DalFields.AreaLevel1:case at.DalFields.IterationLevel1:e(0);break;case at.DalFields.AreaLevel2:case at.DalFields.IterationLevel2:e(2);break;case at.DalFields.AreaLevel3:case at.DalFields.IterationLevel3:e(3);break;case at.DalFields.AreaLevel4:case at.DalFields.IterationLevel4:e(4);break;case at.DalFields.AreaLevel5:case at.DalFields.IterationLevel5:e(5);break;case at.DalFields.AreaLevel6:case at.DalFields.IterationLevel6:e(6);break;case at.DalFields.AreaLevel7:case at.DalFields.IterationLevel7:e(7);break;case at.CoreField.AreaPath:case at.CoreField.IterationPath:if(f){if(r=this.project.nodesCacheManager.getReferencedNode(f),!r&&(s=this.getFieldValueByRevision(at.CoreField.TeamProject,i),s))try{h=this.store.getProject(s);h.nodesCacheManager.isNodesCacheAvailable()&&(r=h.nodesCacheManager.findNodeById(f))}catch(l){}r?(u.value=r.path||ut.NodeHelpers.getPath(r,1),u.success=!0):(u.value=o===at.CoreField.AreaPath?ni.DeletedAreaPath:ni.DeletedIterationPath,u.success=!0)}break;case at.CoreField.NodeName:f&&(r=this.project.nodesCacheManager.getReferencedNode(f),r&&(u.value=r.name,u.success=!0))}return u},n.prototype.beginSilentSave=function(){var i=this,t,n;return this.isReadOnly()?ci.reject(new Error(ni.WorkItemIsReadOnlyError)):(t=this._eventsEnabled,this._eventsEnabled=!1,n=ci.defer(),this.beginSave(function(){i._eventsEnabled=t;n.resolve(null)},function(r){i._eventsEnabled=t;n.reject(r)}),n.promise)},n.prototype.saveAsync=function(){var n=this;return new Promise(function(t,i){return n.beginSave(function(n){return t(n)},function(n){return i(n)})})},n.prototype.beginSave=function(n,t,i){var s=this,f,v,e,o,r;if(this.isReadOnly()){t(ni.WorkItemIsReadOnlyError);return}var h=0,c=0,l=0,u=this.getLinkUpdates();u&&(h=u.addedLinks?u.addedLinks.length:0,c=u.updatedLinks?u.updatedLinks.length:0,l=u.deletedLinks?u.deletedLinks.length:0);try{e=this.getFieldValue(at.DalFields.Tags);f=this._splitTagNames(e).length;o=this.getFieldValue(at.DalFields.Tags,!0);o!==e&&(v=f-this._splitTagNames(o).length)}catch(y){a.publishErrorToTelemetry(y)}return ft.PerfScenarioManager.endScenario(ai.WITUserScenarioActions.WORKITEM_CREATEOREDIT,{isNew:this.isNew(),fieldsChangedCount:Object.keys(this.manuallySetFields).length,addedLinksCount:h,updatedLinksCount:c,deletedLinksCount:l,isMobile:st.WitFormModeUtility.isMobileForm,project:this.project.name,workItemType:"[NonEmail: "+this.workItemType.referenceName+"]",workItemSessionId:this.sessionId,workItemId:this.id}),r=ft.PerfScenarioManager.startScenario(ai.WITPerformanceScenario.WORKITEM_SAVE,!1),r.addData({workItemType:"[NonEmail: "+this.workItemType.referenceName+"]",numberOfTags:f,numberOfTagsDelta:v}),i==null&&(i=window.location.pathname),r.addData({PathName:i}),this.store.beginSaveWorkItemsBatch([this],function(t){r&&r.addSplitTiming(ai.PerformanceEvents.WORKITEM_SAVE_COMPLETE);typeof n=="function"&&n.call(s,t);r&&ft.PerfScenarioManager.endScenario(r.getName())},function(n){r&&ft.PerfScenarioManager.abortScenario(r.getName());n&&n.name===tt.Exceptions.WorkItemBulkSaveException&&(n=n.results[0].error);gi(n,t,s)})},n.prototype.beginValidate=function(n,t,r,u){var o=this,f,e;!this.isDirty()||this.isValidating(t)||this.isSaving()||(f=this.getUpdateData(),f&&f.payload&&(this._setValidatingStatus(!0,t),gt.logTracePoint("VSS.WorkItemTracking.WorkItem.beginValidate.start"),e=this.getField(n),this.workItemType.beginGetDependentFields(n,function(n){return __awaiter(o,void 0,void 0,function(){var h,f,o,i,c,a,s=this;return __generator(this,function(v){switch(v.label){case 0:h=n.concat(e.fieldDefinition);f={};o={};$.each(h,function(n,t){f[t.referenceName]=s.getFieldValue(t.id,!0);s.fieldUpdates.hasOwnProperty(t.id+"")&&(o[t.referenceName]=s.getFieldValue(t.id))});v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,w.getService(l.WebPageDataService).getDataAsync("ms.vss-work-web.work-item-rule-engine-data-provider",null,{fieldsToEvaluate:{projectId:this.project.guid,workItemType:this.workItemType.name,fields:[e.fieldDefinition.referenceName],fieldValues:f,fieldUpdates:o}})];case 2:return i=v.sent(),i&&i.exception?typeof u=="function"&&(c=i.exception.customProperties&&i.exception.customProperties.FieldReferenceName||i.exception.customProperties.ReferenceName,u(i.exception,c)):this.isValidating(t)&&!this.isSaving()&&typeof r=="function"&&r(),[3,5];case 3:return a=v.sent(),typeof u=="function"&&u(a),[3,5];case 4:return this._setValidatingStatus(!1,t),gt.logTracePoint("VSS.WorkItemTracking.WorkItem.beginValidate.end"),[7];case 5:return[2]}})})},i.handleError)))},n.prototype.getFieldUpdates=function(){var u={},t,n,i,f,r=this.fieldUpdates,e=this.workItemType.fieldMap,o=this.workItemType.fieldMapById;for(n in r)if(r.hasOwnProperty(n)){if(i=o[n]||e[n],i&&i.checkFlag(tt.FieldFlags.Computed))continue;t=r[n].value;typeof t=="undefined"&&(t=null);u[n]=t;f=!0}return f?u:null},n.prototype.getTemplateFieldValues=function(){var i=this,n={},t=this.initialValues||{};return $.each(this.manuallySetFields,function(r,u){var f=+r,e=i.getField(f),s,h=f+"",o;f!==at.CoreField.AreaId&&f!==at.CoreField.IterationId&&((o=e.getValue(),o instanceof ki)||(s=t.hasOwnProperty(h)?!yi.compareValues(t[h].value,u):!yi.compareValues(e.getValue(!0),u),s&&(n[e.fieldDefinition.referenceName]=o)))}),n},n.prototype.getLinkUpdates=function(n){for(var t,i,r=[],u=[],f=[],e=0,o=this.allLinks;e<o.length;e++)(t=o[e],t.isRemoved())||(t.deleted?(r.push(t.linkData),n&&n.deletedLinks.push(t)):t.isNew()?(f.push(t.linkData),n&&n.addedLinks.push(t)):t.updated&&(u.push(t.linkData),n&&n.updatedLinks.push(t)));return i=null,r.length>0&&(i=i||{},i.deletedLinks=r),u.length>0&&(i=i||{},i.updatedLinks=u),f.length>0&&(i=i||{},i.addedLinks=f),i},n.prototype._restoreLinkUpdates=function(n){var o,i,f,s,u,e,r,t;if(n){if(n.addedLinks)for(o=n.addedLinks,i=0,f=o;i<f.length;i++)r=f[i],t=bi.createFromLinkData(this,r),this.addLink(t);if(n.deletedLinks)for(s=n.deletedLinks,u=0,e=s;u<e.length;u++)r=e[u],t=this.findLink(bi.createFromLinkData(this,r)),t&&this.removeLinks([t])}},n.prototype.getUpdateData=function(){var t=!1,i={uniqueId:this.getUniqueId(),id:this.id,tempId:this.tempId,rev:this.revision,projectId:this.project.guid,addedLinks:[],deletedLinks:[],updatedLinks:[]},n={id:this.id,rev:this.revision,projectId:this.project.guid,isDirty:this._fieldsDirty()},r,u;return this.isNew()&&(n.tempId=this.tempId),r=this.getFieldUpdates(),r&&(n.fields=r,this.hasTeamProjectChanged()&&(n.fields[at.CoreFieldRefNames.TeamProject]=this.project.name),t=!0),u=this.getLinkUpdates(i),u&&(n.links=u,t=!0),t&&(i.payload=n),i},n.prototype.setRevisions=function(n){this._revisions=n;this._revisionsPopulated=!0},n.prototype.getRevisionsArePopulated=function(){return this._revisionsPopulated},n.prototype._takeUpdateResult=function(n,t,i){var c,l,a,y,r,s,h,p,w;ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_TAKEUPDATERESULT,!0);c=[];l=this.id;try{if(this._loadTime=n.loadTime,this.ruleEngine=null,this.extensions=i,this._originalExtensions=this.extensions,this._defineExtensionFields(),a=n.rev!==this.revision,y=n.fields&&this._fieldData&&n.fields[at.CoreField.Watermark]!==this._fieldData[at.CoreField.Watermark],a||y){if(this._setFieldValueById(at.CoreField.Id,n.id),this.id=n.id,n.isCommentingAvailable!==undefined&&n.isCommentingAvailable!==null&&(this._isCommentingAvailable=n.isCommentingAvailable),l===0&&this.updateCachedIdOnSave(),this._setFieldValueById(at.CoreField.Rev,n.rev),this.revision=n.rev,r=void 0,s=n.fields,s)for(r in s)s.hasOwnProperty(r)&&(this._setFieldValueById(+r,s[r]),c.push(+r));var f=this.fieldUpdates,u=this._fieldData,o=void 0,v=""+at.CoreField.ChangedBy,e=""+at.CoreField.History;if(n.rev===1){for(r in f)f.hasOwnProperty(r)&&(u[r]=f[r].value);u[e]&&this._addDiscussionForRevision(u[e],u)}else if(a){o={};u.hasOwnProperty(v)&&(o[v]=u[v]);for(r in f)f.hasOwnProperty(r)&&(o[r]=u[r],u[r]=f[r].value);u.hasOwnProperty(e)&&(o.hasOwnProperty(e)||(o[e]=u[e],delete u[e]));this._revisionsPopulated&&this._revisions.push(o);u[e]&&this._addDiscussionForRevision(u[e],u)}else for(r in f)f.hasOwnProperty(r)&&(u[r]=f[r].value);this.fieldUpdates={}}}finally{ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_TAKEUPDATERESULT,!1)}ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_EVALUATELINKUPDATES,!0);try{h=this._takeLinkUpdateResult(n,t);this.resetHistory();this.evaluate(h.changedFields,c);this.resetManualFieldChanges()}finally{ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_EVALUATELINKUPDATES,!1)}ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_RESETAFTERSAVE,!0);try{p=this.hasWorkItemTypeChanged();w=this.hasTeamProjectChanged();this._originalWorkItemType=this.workItemType;this.fireWorkItemSaved({changedWorkItemLinks:h.changedWorkItemLinks,externalLinkChanged:h.externalLinkChanged,firstSave:l!==this.id,typeChanged:p,projectChanged:w})}finally{ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_RESETAFTERSAVE,!1)}},n.prototype._takeLinkUpdateResult=function(n,t){var i=this,h=this.allLinks,r={},f=[],u=!1,c=function(n){return n.SourceID===i.id?{targetId:n.TargetID,linkType:n.LinkType,remoteHostId:n.RemoteHostId}:{targetId:n.SourceID,linkType:i.store.findLinkTypeEnd(n.LinkType).oppositeEnd.id,remoteHostId:n.RemoteHostId}},l=function(n,t,i){var r=null;return $.each(h,function(u,f){if(f instanceof wi&&!f.isRemoved()){var e=f;if(e.getTargetId()===n&&(!f.remoteHostId||f.remoteHostId===i)&&e.getLinkType()===t)return r=e,!1}}),r},a={},e,o,s;$.each(t.deletedLinks,function(n,t){t instanceof wi||(r[""+t.getFieldId()]=!0,t.linkData.RemovedDate=i._getFieldValueById(at.DalFields.LastChangedDateId),a[t.linkData.FilePath]=t)});$.each(n.deletedLinks,function(n,t){var o,e,s;t.ExtID?!u&&t.FilePath&&(s=a[t.FilePath],s instanceof ir&&(u=!0)):(o=c(t),e=l(o.targetId,o.linkType,o.remoteHostId),e&&(r[""+e.getFieldId()]=!0,e.linkData["Revised Date"]=t.ChangedDate,e.linkData["Revised By"]=t.ChangedBy,f.push({command:"remove",sourceId:i.id,targetId:e.getTargetId(),linkData:e.linkData})))});e={};$.each(t.addedLinks,function(n,t){t instanceof wi||(e[t.linkData.FilePath]=t)});$.each(n.addedLinks,function(n,t){var s,a,o;t.ExtID?(s=e[t.FilePath],s&&(r[""+s.getFieldId()]=!0,s.linkData.ExtID=t.ExtID,s.linkData.AddedDate=i._getFieldValueById(at.DalFields.LastChangedDateId),s instanceof ir&&(u=!0))):(a=c(t),o=l(a.targetId,a.linkType,a.remoteHostId),o||(o=wi.create(i,a.linkType,a.targetId,null),h.push(o)),r[""+o.getFieldId()]=!0,o.linkData["Changed Date"]=t.ChangedDate,o.linkData["Changed By"]=t.ChangedBy,f.push({command:"add",sourceId:i.id,targetId:o.getTargetId(),linkData:o.linkData}))});this.resetLinks();o=[];for(s in r)r.hasOwnProperty(s)&&o.push(+s);return{changedFields:o,changedWorkItemLinks:f,externalLinkChanged:u}},n.prototype._getRuleEngine=function(){if(!this.ruleEngine){var n=[];$.each(this.workItemType.fields,function(t,i){i.rules&&n.push({fieldId:i.id,rules:i.rules})});this.extensions&&$.each(this.extensions,function(t,i){i.fieldRules&&$.each(i.fieldRules,function(t,i){n.push({fieldId:t,rules:i})})});this.ruleEngine=new vr(this,n)}return this.ruleEngine},n.prototype._evaluateSilent=function(){var n=this._eventsEnabled;this._eventsEnabled=!1;try{this.evaluate()}finally{this._eventsEnabled=n}},n.prototype.evaluate=function(n,t){var r=[],i={},u;$.each(this.workItemType.getTriggerList(),function(n,t){var u=t+"";i.hasOwnProperty(u)||(r.push(t),i[u]=!0)});t?($.each(t,function(n,t){var u=t+"";i.hasOwnProperty(u)||(r.push(t),i[t]=!0)}),u=at.DalFields.HistoryId+"",i.hasOwnProperty(u)||(r.push(at.DalFields.HistoryId),i[u]=!0)):$.each(this.fields,function(n,t){var u=t.fieldDefinition.id,f=u+"";i.hasOwnProperty(f)||(r.push(u),i[f]=!0)});this.evaluateFields(r,n)},n.prototype.evaluateField=function(n,t,i){return this._getRuleEngine().evaluateField(n,t,i)},n.prototype.evaluateFields=function(n,t){var i={},r;t&&$.each(t,function(n,t){i[t+""]=!0});r=this._getRuleEngine().evaluateFields(n);r&&$.each(r,function(n,t){i[t+""]=!0});this.fireFieldChange(vt.keys(i))},n.prototype.resetLinks=function(n){var r,i,t,u;if(this._links=null,n)for(i=this.allLinks,t=0,u=i.length;t<u;t++)r=i[t],r.deleted&&r.isNew()&&(i.splice(t--,1),u--)},n.prototype.getLinks=function(){var r,u,n,i,t;if(!this._links)for(this._links=r=[],u=this.allLinks,n=0,i=u;n<i.length;n++)t=i[n],t.deleted||t.isRemoved()||r.push(t);return this._links},n.prototype.findLink=function(n){var u,t,i,r;for(u=this.allLinks,t=0,i=u;t<i.length;t++)if(r=i[t],r.equals(n))return r;return undefined},n.prototype.addLink=function(n){this.addLinks([n])},n.prototype.addLinks=function(n){var i,e,h,r,u,o,f;if(!this.isReadOnly()){var t={},c=function(n){var r=!1,u=!1,i;if($.each(s.allLinks,function(t,i){if(!i.isRemoved()&&n.isDuplicate(i)){if(i.deleted)return pt.equals(i.getComment(),n.getComment(),!1)||i.setComment(n.getComment()),r=!0,i.deleted=!1,!1;u=!0}}),u)return"continue";i=n.getFieldId();r?t[i]=0:(t[i]=(t[i]||0)+1,s.allLinks.push(n))},s=this;for(i=0,e=n;i<e.length;i++)h=e[i],c(h);if(n.length){this.resetLinks();r=[];u=void 0;for(o in t)t.hasOwnProperty(o)&&(f=+o,r.push(f),u=bi.getCountFieldId(f),this.evaluateField(u,!0,this.getFieldValue(u)-t[f]));this.evaluateFields(r,r)}}},n.prototype.removeLinks=function(n){var s,t,i,u,h,r,f,e,o;if(!this.isReadOnly()){for(s=0,t={},u=0,h=n;u<h.length;u++)r=h[u],r.getIsLocked()||(i=r.getFieldId(),r.remove({preventEvent:!0}),t[r.getFieldId()]=(t[i]||0)+1,s++);if(s){this.resetLinks(!0);f=[];e=void 0;for(o in t)t.hasOwnProperty(o)&&(i=+o,f.push(+o),e=bi.getCountFieldId(i),this.evaluateField(e,!0,this.getFieldValue(e)+t[i]));this.evaluateFields(f,f)}}},n.prototype.resetHistory=function(){ri.getService().fire(tt.Actions.RESET_HISTORY,this,null)},n.prototype.getLoadTime=function(){return this._loadTime},n.prototype.getLinkUpdatedExternallyDate=function(){return this._linkUpdatedExternallyDate},n.prototype.linksUpdatedExternally=function(){this._linkUpdatedExternallyDate=new Date;this.resetHistory()},n.prototype._addDiscussionForRevision=function(n,t){var i=""+at.CoreField.CommentCount;this._fieldData[i]=this._getCommentCount();ri.getService().fire(tt.Actions.DISCUSSION_ADDED,this,{historyText:n,revision:t})},n.prototype._resetDiscussion=function(){ri.getService().fire(tt.Actions.RESET_DISCUSSION,this,null)},n.prototype.DiscussionCommentUpdated=function(n){ri.getService().fire(tt.Actions.DISCUSSION_COMMENT_UPDATED,this,{workItemId:this.id,commentId:n})},n.prototype.beginResetExtension=function(n,t,i){var r=this;this.store.beginGetWorkItemTypeExtension(n,function(n){for(var i=0,u=r.extensions.length;i<u;i++)if(pt.equals(r.extensions[i].id,n.id)){r.extensions[i]=n;r.ruleEngine=null;break}r.evaluate();typeof t=="function"&&t(n)},i)},n.prototype.reset=function(){this.resetContributionErrorStatuses();this.resetChanges(!1);this.relatedData={};this._isReset=!0;var n=[at.DalFields.RelatedLinks,at.DalFields.BISURI,at.DalFields.LinkedFiles,at.DalFields.AttachedFiles,at.DalFields.Tags];this.fieldMap[at.CoreFieldRefNames.Parent]&&n.push(at.CoreField.Parent);this.fireFieldChange(n);this.fireWorkItemReset()},n.prototype.resetChanges=function(n){var t,r,i,u;for(this._isCommentDirty=!1,this._links=null,r=this.allLinks,i=0,u=r.length;i<u;i++)t=r[i],t.isNew()?(r.splice(i--,1),u--):(t.deleted=!1,t.linkData.CommentChanged&&(t.linkData.Comment=t.comment,t.linkData.CommentChanged=!1),t.linkData.LockChanged&&(t.linkData.Lock=t.isLocked,t.linkData.LockChanged=!1),t.setState());this.fieldUpdates={};n?this._evaluateSilent():this.evaluate();this.resetManualFieldChanges();this._resetWorkItemTypeChanges()},n.prototype.updateWorkItemPayload=function(n,t,i,r){var u=this,f=function(){u._load(n,!0,r);u.fireWorkItemRefresh();typeof t=="function"&&t.call(u,u)},e=n.fields[at.CoreField.TeamProject],o=n.fields[at.CoreField.WorkItemType];this._evaluateWorkItemTypeChange(e,o,f,i)},n.prototype.beginRefresh=function(n,t,i,r){var u=this;if(this.isNew())try{this.reset();typeof n=="function"&&n.call(this,this)}catch(f){gi(f,t,this)}else this._isReset=!0,this.store.beginGetWorkItemData([this.id],function(i){u.updateWorkItemPayload(i,n,t,r)},t,i)},n.prototype._resetWorkItemTypeChanges=function(){if(this.hasWorkItemTypeChanged()){var n={SourceType:this._originalWorkItemType.name,DestinationType:this.workItemType.name};this.workItemType.project!==this._originalWorkItemType.project?hi.publishEvent(new hi.TelemetryEventData(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ai.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_MOVE_REVERT,n)):hi.publishEvent(new hi.TelemetryEventData(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ai.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_TYPE_CHANGE_REVERT,n));this.changeWorkItemType(this._originalWorkItemType,this._originalExtensions);this._originalWorkItemType=this.workItemType;this._originalExtensions=this.extensions}},n.prototype._evaluateWorkItemTypeChange=function(n,t,i,r){var u=this;pt.equals(n,this._originalWorkItemType.project.name,!0)&&pt.equals(t,this._originalWorkItemType.name,!0)?pt.equals(n,this.workItemType.project.name,!0)&&pt.equals(t,this.workItemType.name,!0)?i():(this._resetWorkItemTypeChanges(),i()):this.store.beginGetProject(n,function(n){n.beginGetWorkItemType(t,function(n){u.changeWorkItemType(n);u._originalWorkItemType=n;i()},r)},r)},n.prototype._copyField=function(n,t,i){var u,r;if(t&&t.isCloneable()&&(u=this.getField(t.id),u&&(r=u.getValue(),!yi.isEmpty(r)))){if((t.id===at.CoreField.AreaId||t.id===at.CoreField.IterationId)&&(typeof r!="number"||this.project.id!==i.project.id))return;n.setFieldValue(t.id,r)}},n.prototype.copy=function(n,t,i,r,u,f,e,o){var ct=this,d=[],h=[],v={},et,ot,s,y,g,nt,p,w,it,c,b,st,l,ht,k,rt,ut,a,ft;for(n=n instanceof fr?n:this.workItemType,t=typeof t!="boolean"?!0:t,i=typeof i!="boolean"?!0:i,r=typeof r!="boolean"?!0:r,u=typeof u!="boolean"?!0:u,e=typeof e!="boolean"?!0:e,et=new hi.TelemetryEventData(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ai.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_INCLUDE_WORKITEM_LINKS_ATTACHMENTS,{action:"Telemetry for Copy links and attachments checkbox",copyLinks:t,copyAttachments:i}),hi.publishEvent(et),ot=[at.OobFieldRefNames.ResolvedBy,at.OobFieldRefNames.ResolvedDate,at.OobFieldRefNames.ClosedBy,at.OobFieldRefNames.ClosedDate,"Microsoft.Sync.ProjSrv.RequestedAssnGuid","Microsoft.Sync.ProjSrv.RequestedProjGuid","Microsoft.Sync.ProjSrv.ProjGuid","Microsoft.Sync.ProjSrv.TaskGuid"],f=f||[],ot.forEach(function(n){var t=ct.store.getFieldDefinition(n);t&&f.push(t.id.toString())}),$.each(f,function(n,t){v[t]=!0}),s=n.create(),ri.getService().fire(tt.Actions.WORKITEM_COPIED,s),y=0,g=n.triggerList;y<g.length;y++)nt=g[y],p=nt.toString(),v.hasOwnProperty(p)||(c=n.fieldMapById[p],c?this._copyField(s,c,n):hi.publishEvent(new hi.TelemetryEventData(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"CloneWorkItem_FieldNotFound",{typeName:"[NonEmail:".concat(n.name,"]"),triggerList:"[NonEmail:".concat(n.triggerList.join(),"]"),fieldMap:"[NonEmail:"+JSON.stringify(Object.keys(n.fieldMapById).map(function(t){return{fieldId:t,fieldRefName:n.fieldMapById[t]?n.fieldMapById[t].referenceName:""}}))+"]",fieldId:nt})),v[p]=!0);for(w=0,it=n.fields;w<it.length;w++)c=it[w],v.hasOwnProperty(c.id.toString())||this._copyField(s,c,n);if(r&&(b=void 0,this.isNew()?b=ni.CreateCopyCopiedFromNewWorkItem:(st="<a href='x-mvwit:workitem/".concat(this.id,"'>").concat(this.workItemType.name," ").concat(this.id,"<\/a>"),l=ni.CreateCopyCopiedFrom,t&&i?l=ni.CreateCopyCopiedWithAllLinksAndAttachmentsFrom:t?l=ni.CreateCopyCopiedWithAllLinksFrom:i&&(l=ni.CreateCopyCopiedWithAllAttachmentsFrom),b=pt.format(l,st)),s.setFieldValue(at.CoreField.History,b)),t||i)for(ht=this.getLinks(),k=0,rt=ht;k<rt.length;k++)ut=rt[k],a=ut.clone(s),a instanceof rr?i&&d.push(a):t&&a&&(!o||o.indexOf(ut.linkData.LinkType)===-1)&&h.push(a);return!this.isNew()&&e&&h.push(wi.create(s,this.store.findLinkTypeEnd(tt.LinkTypeName.Related_Link_Name),this.id,"")),d.length>0&&h.push.apply(h,d),h.length>0&&s.addLinks(h),ft=[at.DalFields.RelatedLinks,at.DalFields.AttachedFiles,at.DalFields.BISURI,at.DalFields.LinkedFiles],this.fieldMap[at.CoreFieldRefNames.Parent]&&ft.push(at.CoreField.Parent),s.evaluate(ft),s},n.prototype.copyWithChildren=function(n,t,i,r,u,f,e){return __awaiter(this,void 0,void 0,function(){var o,l,s,h,a,v,c,y,p,w=this;return __generator(this,function(b){switch(b.label){case 0:if(o=this.copy(n,t,i,r,u,f,e,[tt.CoreLinkTypes.Child]),!o.isValid()){l=o.getInvalidFields()[0].getErrorText();throw Error(l);}if(s=this.getLinks().filter(function(n){return n.linkData.LinkType===tt.CoreLinkTypes.Child}).map(function(n){return n.linkData.ID}),h=100,s.length>h)throw Error(pt.format(ni.TooManyChildItemsToCopy,h));return(s.length>0)?[4,this.store.getWorkItemsAsync(s,!1,!0,!0)]:[3,3];case 1:return a=b.sent(),v=a.filter(function(n){return n.project.guid===o.project.guid}),c=v.map(function(n){var o=n.copy(n.workItemType,t,i,r,u,f,e,[tt.CoreLinkTypes.Parent]),s;if(!o.isValid()){s=o.getInvalidFields()[0].getErrorText();throw Error(pt.format(ni.ErrorCopyingChildItem,n.id,s));}return o}),[4,this.store.saveWorkItemsBatchAsync(c)];case 2:b.sent();y=c.map(function(n){return wi.create(o,w.store.findLinkTypeEnd(tt.LinkTypeName.Child_Link_Name),n.id,"")});o.addLinks(y);b.label=3;case 3:return p=new hi.TelemetryEventData(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ai.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_COPY_WITH_CHILDREN,{action:"Copy work item with children",copyLinks:t,copyAttachments:i,children:s.length}),hi.publishEvent(p),[2,o]}})})},n.prototype.getTagNames=function(){return this._splitTagNames(this.getFieldValue(at.DalFields.Tags))},n.prototype._splitTagNames=function(n){return n?n.trim().split(/;\s*/):[]},n.prototype._load=function(t,i,r){var s,h,v=this,e,c,u,o,f,l,a;t=t||{};this._isReadOnly=t.isReadOnly||!1;this._loadTime=t.loadTime||new Date;this._fieldData=t.fields||{};for(u in this._fieldData)this._fieldData.hasOwnProperty(u)&&(o=this.workItemType.getFieldDefinition(u),o&&(yi.isLongTextField(o.type)?(f=this._fieldData[u],f&&(this._fieldData[u]=f.trim())):o.isIdentity&&(f=this._fieldData[u],f&&ht.setResolvedByDescriptorIfWorkItemIdentityRef(f))));this._revisions=t.revisions||[];this.fieldUpdates=r&&this.fieldUpdates.hasOwnProperty(at.CoreField.History)?(s={},s[at.CoreField.History]=this.fieldUpdates[at.CoreField.History],s):{};$.each(this._fieldData,function(n){v._defineField(n)});i&&($.each(this.fields,function(n,t){t._reset()}),this.resetContributionErrorStatuses());e=[];t.files&&bt.addRange(e,t.files);t.relations&&bt.addRange(e,t.relations);t.relationRevisions&&bt.addRange(e,t.relationRevisions);this.allLinks=c=[];this._links=null;c.push.apply(c,e.map(function(n){return bi.createFromLinkData(v,n)}));this.relatedData={};this.referencedPersons=t.referencedPersons||{};this.project.nodesCacheManager.addReferencedNodes(t.referencedNodes);this.id=this._getFieldValueById(at.CoreField.Id)||0;this.id===0&&(t.tempId?(this.tempId=t.tempId,n.reserveTempId(this.tempId)):this.tempId=n.getTempId());this._isCommentingAvailable=t.isCommentingAvailable||this.isNew();this.revision=this._getFieldValueById(at.CoreField.Rev)||0;this.isNew()?(l=this.project.id,this._setFieldValueById(at.CoreField.AreaId,l,!0),this._setFieldValueById(at.CoreField.IterationId,l,!0),this._setFieldValueById(at.CoreField.WorkItemType,this.workItemType.name,!0),this._revisionsPopulated=!0):this._revisionsPopulated=t.revisions!=undefined&&t.revisions!=null&&t.revisions.length>0||t.relationRevisions!=undefined&&t.relationRevisions!=null&&t.relationRevisions.length>0;this.resetHistory();this._resetDiscussion();a=[at.DalFields.RelatedLinks,at.DalFields.AttachedFiles,at.DalFields.BISURI,at.DalFields.LinkedFiles];this.fieldMap[at.CoreFieldRefNames.Parent]&&a.push(at.CoreField.Parent);this.evaluate(a);this.isNew()&&(this.initialValues=$.extend({},this.fieldUpdates));this.manuallySetFields=r&&this.manuallySetFields.hasOwnProperty(at.CoreField.History)?(h={},h[at.CoreField.History]=this.manuallySetFields[at.CoreField.History],h):{}},n.prototype._fieldsDirty=function(n,t){var u,e,s,r,o,h,i,f;if(n){if(this.manuallySetFields){if(u=__assign({},this.manuallySetFields),t&&t.length>0)for(e=0,s=t;e<s.length;e++)i=s[e],delete u[i],delete u[i.toString()];for(f in u)if(u.hasOwnProperty(f))return!0}}else{if(this.isNew())return!0;if(r=__assign({},this.fieldUpdates),t&&t.length>0)for(o=0,h=t;o<h.length;o++)i=h[o],delete r[i],delete r[i.toString()];for(f in r)if(r.hasOwnProperty(f)&&!r[f].setByRule)return!0}return!1},n.prototype._setSavingStatus=function(n,t){this._saving!==n&&(this._saving=n,n?this.fireWorkItemSaving():this.fireWorkItemSaveComplete(t))},n.prototype._setValidatingStatus=function(n,t){var i=!1,r;if(t)this._fieldValidationMap[t.toString()]!==n&&(this._fieldValidationMap[t.toString()]=n,i=!0);else for(r in this._fieldValidationMap)this._fieldValidationMap[r]!==n&&(this._fieldValidationMap[r]=n,i=!0);i&&(n?this.fireWorkItemValidating():this.fireWorkItemValidationComplete())},n.prototype._getLinkCount=function(n,t){var i=0,r=this.getLinks();return $.each(r,function(r,u){t&&u.isNew()||(n?u instanceof n&&i++:i++)}),i},n.prototype._getParentLinkId=function(n){for(var t,r,f=this.getLinks(),i=0,u=f;i<u.length;i++)if((t=u[i],!n||!t.isNew())&&t instanceof wi&&(r=t,r.getLinkType()===tt.CoreLinkTypes.Parent))return r.getTargetId();return undefined},n.prototype._getCommentCount=function(n){var t=this._fieldData[at.CoreField.CommentCount]||0;return!n&&this.fieldUpdates.hasOwnProperty(at.CoreField.History)&&(t+=1),t},n.prototype.hasWorkItemTypeChanged=function(){return this._originalWorkItemType!==this.workItemType},n.prototype.hasTeamProjectChanged=function(){return this._originalWorkItemType.project!==this.project},n.tempIdSeed=0,n.FIELD_ID_TO_DEPENDENT_ID_MAP=(nr={},nr[at.DalFields.AttachedFiles]=[at.CoreField.AttachedFileCount],nr[at.DalFields.RelatedLinks]=[at.CoreField.RelatedLinkCount,at.CoreField.Parent],nr[at.DalFields.LinkedFiles]=[at.CoreField.HyperLinkCount],nr[at.DalFields.BISURI]=[at.CoreField.ExternalLinkCount],nr[at.DalFields.HistoryId]=[at.CoreField.CommentCount],nr),n.MAX_TITLE_LENGTH=255,n.FIELD_ERRORS_CLEARED="field-errors-cleared",n}();t.WorkItem=or;yi=function(){function n(n,t){this.workItem=n;this.fieldDefinition=t}return n.isEmpty=function(n){return n===null||typeof n=="undefined"||typeof n=="string"&&!n.trim()},n.compareValues=function(t,i,r,u){var f,e,o;return t instanceof ki?i instanceof ki&&t.type===i.type?n.compareValues(t.value,i.value,r):!1:i instanceof ki?!1:(t=ht.convertPotentialIdentityRefFromFieldValue(t,!1),i=ht.convertPotentialIdentityRefFromFieldValue(i,!1),(t===null||typeof t=="undefined")&&(t=""),(i===null||typeof i=="undefined")&&(i=""),t=""+t,i=""+i,f=!1,f=r?pt.localeIgnoreCaseComparer(t,i)===0:pt.localeComparer(t,i)===0,!f&&u&&(e=h.IdentityHelper.parseUniquefiedIdentityName(t),o=h.IdentityHelper.parseUniquefiedIdentityName(i),e&&o&&e.uniqueName&&o.uniqueName&&(f=pt.localeIgnoreCaseComparer(e.uniqueName,o.uniqueName)===0)),f)},n.isMatch=function(n,t){return n?(n=n.replace(/[.*+?|()\[\]\^\${}\\]/g,"\\$&"),n=n.replace(/n/gi,"\\d").replace(/a/gi,"[a-zA-Z]").replace(/x/gi,"[a-zA-Z0-9]"),n="^"+n+"$",new RegExp(n,"i").test(t)):!0},n.hashset=function(n,t){var r={},u,e,f,o,i;if(t){if(n.__hashSetCaseInsensitive)return n.__hashSetCaseInsensitive;for(u=0,e=n;u<e.length;u++)i=e[u],r[i.toLocaleUpperCase()]=i;n.__hashSetCaseInsensitive=r}else{if(n.__hashSet)return n.__hashSet;for(f=0,o=n;f<o.length;f++)i=o[f],r[i]=i;n.__hashSet=r}return r},n.contains=function(t,i,r){if(r){var u=n.hashset(t,!0);return u.hasOwnProperty(i.toLocaleUpperCase())}return $.inArray(i,t)>=0},n.normalize=function(t,i){if(i){var r=n.hashset(t,!0);return r[i.toLocaleUpperCase()]||i}return i},n.intersect=function(t,i,r){var e,u,o,h,s,c,f;if(!i)return t;if(i.length===0)return[];if(t.length<i.length?e=n.hashset(t,r):(e=n.hashset(i,r),i=t),u=[],bt.copySortFlag(u,i),r)for(o=0,h=i;o<h.length;o++)f=h[o],e.hasOwnProperty(f.toLocaleUpperCase())&&(u[u.length]=f);else for(s=0,c=i;s<c.length;s++)f=c[s],e.hasOwnProperty(f)&&(u[u.length]=f);return u},n.union=function(n,t,i){var e=i?pt.localeIgnoreCaseComparer:pt.localeComparer,r;if(!t||t.length===0)return n;if(!n||n.length===0)return t;bt.sortIfNotSorted(n,e);bt.sortIfNotSorted(t,e);r=[];bt.flagSorted(r,e);for(var u=0,c=n.length,f=0,l=t.length,o,s,h;u<c&&f<l;)o=n[u],s=t[f],h=e(o,s),h===0?(r[r.length]=o,u++,f++):h>0?(r[r.length]=s,f++):(r[r.length]=o,u++);while(u<c)r[r.length]=n[u],u++;while(f<l)r[r.length]=t[f],f++;return r},n.subtract=function(t,i,r){var s,u,e,h,o,c,f;if(!i||i.length===0)return t;if(u=[],bt.copySortFlag(u,t),s=n.hashset(i,r),r)for(e=0,h=t;e<h.length;e++)f=h[e],s.hasOwnProperty(f.toLocaleUpperCase())||(u[u.length]=f);else for(o=0,c=t;o<c.length;o++)f=c[o],s.hasOwnProperty(f)||(u[u.length]=f);return u},n.inList=function(t,i,r,u,f){var o,e,s,h;if(r&&n.contains(r,i,f))return!0;if(u)for(e=0,s=u;e<s.length;e++)if(h=s[e],o=t.getConstantSet(h),!o,n.contains(o,i,f))return!0;return!1},n.unionLists=function(t,i,r){var u,e,f,o,s;if(r){for(i?(u=i.slice(0),bt.copySortFlag(u,i)):(u=[],bt.flagSorted(u,pt.localeIgnoreCaseComparer)),f=0,o=r;f<o.length;f++)s=o[f],e=t.getConstantSet(s),!e,u=n.union(u,e,!0);return u}return i},n.isLongTextField=function(n){switch(n){case at.FieldType.PlainText:case at.FieldType.Html:case at.FieldType.History:return!0;default:return!1}},n.isNumericField=function(n){switch(n){case at.FieldType.Integer:case at.FieldType.Double:return!0;default:return!1}},n.isStringField=function(n){switch(n){case at.FieldType.PlainText:case at.FieldType.Html:case at.FieldType.History:case at.FieldType.String:return!0;default:return!1}},n.convertValueToDisplayString=function(n){return n!==null&&typeof n!="undefined"&&n instanceof ki&&(n=n.value),yt.convertValueToDisplayString(n)},n.isValidStringFieldValue=function(n,t){return!t&&pt.containsControlChars(n)?!1:!pt.containsMismatchedSurrogateChars(n)},n.normalizeStringValue=function(n,t){return t||(n=n.replace(uu," ")),n.replace(fu," ")},n.normalizeHtmlValue=function(n,t,i){var r="class",u=[];return(!t||t.indexOf(r)<0)&&u.push(r),si.HtmlNormalizer.normalizeStripAttributes(n,u,t,i)},n.convertValueToInternal=function(t,i,r){var e=0,u,o,f;if(i===null||typeof i=="undefined")u=null;else if(typeof i=="string"&&i.length===0)u=null;else if(i instanceof ki)u=i;else try{switch(r){case at.FieldType.Boolean:if(typeof i=="boolean")u=i?1:0;else if(typeof i=="number")u=i!==0?1:0;else if(typeof i=="string")u=/^\d+$/.test(i)?kt.parseLocale(i)!==0?1:0:vt.BoolUtils.parse(i)?1:0;else throw new Error("Invalid Boolean field value.");break;case at.FieldType.Integer:if(typeof i=="number"?u=Math.round(i):typeof i=="boolean"?u=i?0:1:typeof i=="string"&&/^[\-+]?\d+$/.test(i.trim())&&(u=kt.parseLocale(i)),typeof u=="undefined"||isNaN(u)||!isFinite(u)||u>n.SqlIntMaxValue-1||u<-n.SqlIntMaxValue)throw new Error("Invalid Integer field value,  ".concat(i));break;case at.FieldType.Double:if(typeof i=="number"?u=i:typeof i=="boolean"?u=i?0:1:typeof i=="string"&&(u=kt.parseLocale(i)),typeof u=="undefined"||isNaN(u)||!isFinite(u))throw new Error("Invalid Double field value,  ".concat(i));break;case at.FieldType.DateTime:if(u=i instanceof Date?i:typeof i=="string"?wt.parseDateString(i):null,u===null||isNaN(u))throw new Error("Invalid DateTime field value.");o=u.getFullYear();(o<1753||o>9999)&&(e=tt.FieldStatusFlags.InvalidDate);break;case at.FieldType.Guid:if(typeof i=="string"){if(f=iu.exec(i),!f)throw new Error("Invalid GUID field value.");u=f[1]+"-"+f[2]+"-"+f[3]+"-"+f[4]+"-"+f[5]}else throw new Error("Invalid GUID field value.");break;default:if(typeof i=="string")u=i;else if(typeof i=="number")u=kt.localeFormat(i,"N");else if(typeof i=="boolean")u=i?"True":"False";else if(i instanceof Date)u=wt.localeFormat(i,"F");else throw new Error("Invalid String field type.");typeof u=="undefined"&&(u=null);u!==null&&((r==at.FieldType.PlainText||r==at.FieldType.Html)&&(u=u.trim()),u.length===0&&(u=null));u!==null&&(r===at.FieldType.String&&u.length>or.MAX_TITLE_LENGTH&&(e=tt.FieldStatusFlags.InvalidTooLong),n.isValidStringFieldValue(u,n.isLongTextField(r))||(e=tt.FieldStatusFlags.InvalidCharacters))}}catch(s){return{value:i,error:s,status:tt.FieldStatusFlags.InvalidType}}return{value:u,status:e}},n.convertValueToExternal=function(t,i,r){return typeof i=="undefined"&&(i=null),i===null&&n.isStringField(r)?i="":r===at.FieldType.Boolean&&(i=i?!0:!1),i},n.getFieldErrorText=function(n,t,i,r){switch(t){case tt.FieldStatus.InvalidEmpty:return pt.format(ni.FieldStatusInvalidEmptyError,n);case tt.FieldStatus.InvalidNotEmpty:return pt.format(ni.FieldStatusInvalidNotEmptyError,n);case tt.FieldStatus.InvalidFormat:return pt.format(ni.FieldStatusInvalidFormatError,n);case tt.FieldStatus.InvalidListValue:return pt.format(ni.FieldStatusInvalidListValueError,n,i);case tt.FieldStatus.InvalidOldValue:return pt.format(ni.FieldStatusInvalidOldValueError,n);case tt.FieldStatus.InvalidNotOldValue:return pt.format(ni.FieldStatusInvalidNotOldValueError,n);case tt.FieldStatus.InvalidEmptyOrOldValue:return pt.format(ni.FieldStatusInvalidEmptyOrOldValueError,n);case tt.FieldStatus.InvalidNotEmptyOrOldValue:return pt.format(ni.FieldStatusInvalidNotEmptyOrOldValueError,n);case tt.FieldStatus.InvalidValueInOtherField:return pt.format(ni.FieldStatusInvalidValueInOtherFieldError,n);case tt.FieldStatus.InvalidValueNotInOtherField:return pt.format(ni.FieldStatusInvalidValueNotInOtherFieldError,n);case tt.FieldStatus.InvalidDate:return pt.format(ni.FieldStatusInvalidDateErrorError,n);case tt.FieldStatus.InvalidTooLong:return pt.format(ni.FieldStatusInvalidTooLongError,n);case tt.FieldStatus.InvalidType:return pt.format(ni.FieldStatusInvalidTypeError,n);case tt.FieldStatus.InvalidComputedField:return pt.format(ni.FieldStatusInvalidComputedFieldError,n);case tt.FieldStatus.InvalidPath:return pt.format(ni.FieldStatusInvalidPathError,n);case tt.FieldStatus.InvalidCharacters:return pt.format(ni.FieldStatusInvalidCharactersError,n);case tt.FieldStatus.InvalidIdentity:return r||pt.format(ni.FieldStatusInvalidListValueError,n,i);default:return pt.format(ni.FieldStatusInvalidUnknownError,n)}},n.getFieldStatus=function(n){if((n&tt.FieldStatusFlags.InvalidMask)!==tt.FieldStatusFlags.None){for(var t=1,i=ar.length;t<i;t++)if((n&ar[t])!==tt.FieldStatusFlags.None)return t;return tt.FieldStatus.InvalidUnknown}return tt.FieldStatus.Valid},n.prototype.resetUpdate=function(){delete this.workItem.fieldUpdates[this.fieldDefinition.id+""]},n.prototype.getValue=function(t,i){return n.convertValueToExternal(this.workItem.store,this._getValue(t,i,!1),this.fieldDefinition.type)},n.prototype.getIdentityValue=function(n,t){return this._getValue(n,t,!0)},n.prototype.getFriendlyValue=function(n,t){var i=this.getValue(n,t);return this.fieldDefinition.isIdentity&&i?h.IdentityHelper.parseUniquefiedIdentityName(i).displayName:i},n.prototype.getDisplayText=function(t,i){return n.convertValueToDisplayString(this.getValue(t,i))},n.prototype.setValue=function(t,i,r,u,f){var s,e,h,o,c;i===void 0&&(i=!1);r===void 0&&(r=!1);u===void 0&&(u=!1);f===void 0&&(f=!1);s={preventFire:!1,fireIdentityEagerValidation:!1,setByRule:!1,forceEvaluate:!1};ht.isWorkItemIdentityRef(t)&&(t=t.distinctDisplayName);e=typeof i!="object"?$.extend({},s,{preventFire:i,fireIdentityEagerValidation:r,setByRule:u}):$.extend({},s,i);h=this.workItem._getFieldValueById(this.fieldDefinition.id);o=n.convertValueToInternal(this.workItem.store,this._tryNormalizeValue(t),this.fieldDefinition.type);this._setValue(o.value,e.setByRule,f);(!n.compareValues(h,o.value)||e.forceEvaluate)&&(c=this.workItem.evaluateField(this.fieldDefinition.id,!0,h),this.status|=o.status,e.fireIdentityEagerValidation&&this.validateIdentityFieldValue(),e.preventFire||this.workItem.fireFieldChange(c))},n.prototype.validateIdentityFieldValue=function(){var n=this,i=this.getValue(),t=new sr(this.fieldDefinition.id,i,this.filterByScope);!br(this.fieldDefinition)||!this.isValid()||i instanceof ki||this.workItem.beginValidate(this.fieldDefinition.id,t,function(){new sr(n.fieldDefinition.id,n.getValue(),n.filterByScope).equals(t)&&(n._error="")},function(i,r){var u=n;r&&(u=n.workItem.getField(r));u.isValid()&&new sr(n.fieldDefinition.id,n.getValue(),n.filterByScope).equals(t)&&(u._error=i.message,u.status=tt.FieldStatusFlags.InvalidIdentityField,n.workItem.fireFieldChange([u.fieldDefinition.id]))})},n.prototype.isDirty=function(){var t=this.fieldDefinition.id,n=this.workItem.fieldUpdates.hasOwnProperty(t+"");if(!n)switch(t){case at.CoreField.IterationPath:n=this.workItem.fieldUpdates.hasOwnProperty(at.CoreField.IterationId+"");break;case at.CoreField.AreaPath:n=this.workItem.fieldUpdates.hasOwnProperty(at.CoreField.AreaId+"")}return n},n.prototype.isUserChange=function(){var n=this.workItem.fieldUpdates[this.fieldDefinition.id+""];return n?n.setByRule?(this.status&tt.FieldStatusFlags.SetByComputedRule)!==tt.FieldStatusFlags.None?!0:!1:!0:!1},n.prototype.isValid=function(){return(this.status&tt.FieldStatusFlags.InvalidMask)===tt.FieldStatusFlags.None},n.prototype.isValidValueOrEmpty=function(){return(this.status&tt.FieldStatusFlags.InvalidMask&~tt.FieldStatusFlags.InvalidEmpty)===tt.FieldStatusFlags.None},n.prototype.isHistoricalRevision=function(){return this.workItem.isReadOnly()},n.prototype.isEditable=function(){if(this.isHistoricalRevision()||!this.fieldDefinition.isEditable())return!1;var n=this.fieldDefinition.id;switch(n){case at.CoreField.Rev:case at.CoreField.WorkItemType:case at.CoreField.CreatedBy:case at.CoreField.IsDeleted:return!1;case at.CoreField.AreaPath:n=at.CoreField.AreaId;break;case at.CoreField.IterationPath:n=at.CoreField.IterationId;break;default:return(this.status&tt.FieldStatusFlags.ReadOnly)===tt.FieldStatusFlags.None}return this.workItem.getField(n).isEditable()},n.prototype.isReadOnly=function(){return!this.isEditable()},n.prototype.isRequired=function(){var n=this.fieldDefinition.id;switch(n){case at.CoreField.IterationPath:n=at.CoreField.IterationId;break;case at.CoreField.AreaPath:n=at.CoreField.AreaId;break;default:return(this.status&tt.FieldStatusFlags.Required)!==tt.FieldStatusFlags.None}return this.workItem.getField(n).isRequired()},n.prototype.getErrorText=function(){return n.getFieldErrorText(this.fieldDefinition.name,this.getStatus(),this.getDisplayText(),this._error)},n.prototype.getStatus=function(){return n.getFieldStatus(this.status)},n.prototype.validate=function(n){this.customValidators=this.customValidators||[];this.customValidators.push(n)},n.prototype.hasList=function(){return(this.status&tt.FieldStatusFlags.HasValues)!==tt.FieldStatusFlags.None},n.prototype.isLimitedToAllowedValues=function(){return(this.status&tt.FieldStatusFlags.LimitedToValues)!==tt.FieldStatusFlags.None},n.prototype.setAllowedValues=function(n){this.hasList()&&!this.fieldDefinition.isIdentity&&(this.allowedValues=n)},n.prototype.getAllowedValues=function(){var t=this.allowedValues,i,r,f,h,c,u,e,l,a,o,s,v,y;if(!t){if(this.hasList()){if(i=this.lists,r=this.workItem.store,i.allowedValues&&i.allowedValues.length>0)for(t=n.unionLists(r,i.allowedValues[0].items,i.allowedValues[0].globals),f=0,h=i.allowedValues;f<h.length;f++)c=h[f],t=n.intersect(t,n.unionLists(r,c.items,c.globals),!0);if(i.suggestedValues&&i.suggestedValues.length>0){for(u=[],e=0,l=i.suggestedValues;e<l.length;e++)a=l[e],u=n.union(u,n.unionLists(r,a.items,a.globals),!0);t=t?n.intersect(t,u):u}if(i.allowExistingValue&&(o=this._getValue(!0),n.isEmpty(o)||(t=t?n.union(t,[n.convertValueToDisplayString(o)],!0):[n.convertValueToDisplayString(o)])),t&&i.prohibitedValues&&i.prohibitedValues.length>0)for(s=0,v=i.prohibitedValues;s<v.length;s++)y=v[s],t=n.subtract(t,n.unionLists(r,y.items,y.globals),!0)}t=t||[];n.isNumericField(this.fieldDefinition.type)?bt.sortIfNotSorted(t,kt.defaultComparer):this.fieldDefinition.id===at.CoreField.State&&this.fieldDefinition.workItemType&&this.fieldDefinition.workItemType.orderedStates?t=this.fieldDefinition.workItemType.orderedStates.filter(function(n){return t.indexOf(n)!==-1}):bt.sortIfNotSorted(t,pt.localeIgnoreCaseComparer);this.allowedValues=t}return t},n.prototype.isChangedInRevision=function(n){var t=this.fieldDefinition.id,i,r,f,u;switch(t){case at.CoreField.AreaPath:case at.CoreField.NodeName:case at.DalFields.AreaLevel1:case at.DalFields.AreaLevel2:case at.DalFields.AreaLevel3:case at.DalFields.AreaLevel4:case at.DalFields.AreaLevel5:case at.DalFields.AreaLevel6:case at.DalFields.AreaLevel7:t=at.CoreField.AreaId;break;case at.CoreField.IterationPath:case at.DalFields.IterationLevel1:case at.DalFields.IterationLevel2:case at.DalFields.IterationLevel3:case at.DalFields.IterationLevel4:case at.DalFields.IterationLevel5:case at.DalFields.IterationLevel6:case at.DalFields.IterationLevel7:t=at.CoreField.IterationId;break;case at.CoreField.AuthorizedAs:t=at.DalFields.PersonID;break;case at.CoreField.IsDeleted:if(n===0)return!1;break;case at.CoreField.AttachedFileCount:case at.CoreField.HyperLinkCount:case at.CoreField.ExternalLinkCount:case at.CoreField.RelatedLinkCount:case at.CoreField.Parent:return null}return n===0?this.workItem.getFieldValueByRevision(t,n)!==null:this.workItem.getRevisions()[n-1]&&(i=this.workItem.getRevisions(),r=t+"",i[n-1].hasOwnProperty(r))?t!==at.CoreField.TeamProject?!0:(f=i[n-1][r],u=n<i.length?i[n][r]:this.workItem.getFieldValue(at.CoreField.TeamProject,!0),u!=undefined&&f!==u):!1},n.prototype._reset=function(){this.status=tt.FieldStatusFlags.None;this.allowedValues=null;this.lists=null},n.prototype._getValue=function(n,t,i){return this.workItem._getFieldValueById(this.fieldDefinition.id,n,t,i)},n.prototype._setValue=function(n,t,i){this.workItem._setFieldValueById(this.fieldDefinition.id,n,t,i)},n.prototype._tryNormalizeValue=function(t){if(t&&typeof t=="string"&&this.hasList()){var i=this.getAllowedValues();t=n.normalize(i,t)}return t},n.SqlIntMaxValue=2147483648,n}();t.Field=yi;i.initClassPrototype(yi,{workItem:null,fieldDefinition:null,status:tt.FieldStatusFlags.None,_allowedValues:null,_lists:null,customValidators:null});ar=[tt.FieldStatusFlags.None,tt.FieldStatusFlags.InvalidEmpty,tt.FieldStatusFlags.InvalidNotEmpty,tt.FieldStatusFlags.InvalidFormat,tt.FieldStatusFlags.InvalidListValue,tt.FieldStatusFlags.InvalidOldValue,tt.FieldStatusFlags.InvalidNotOldValue,tt.FieldStatusFlags.InvalidEmptyOrOldValue,tt.FieldStatusFlags.InvalidNotEmptyOrOldValue,tt.FieldStatusFlags.InvalidValueInOtherField,tt.FieldStatusFlags.InvalidValueNotInOtherField,tt.FieldStatusFlags.InvalidDate,tt.FieldStatusFlags.InvalidTooLong,tt.FieldStatusFlags.InvalidType,tt.FieldStatusFlags.InvalidComputedField,tt.FieldStatusFlags.InvalidPath,tt.FieldStatusFlags.InvalidCharacters,tt.FieldStatusFlags.InvalidIdentityField];bi=function(){function n(n,t){this.workItem=n;this.linkData=t;this.updated=!1;this.deleted=!1;this.baseLinkType="Link";this.comment=this.linkData.Comment;this.isLocked=this.linkData.Lock;this.remoteHostId=this.linkData.RemoteHostId;this.remoteProjectId=this.linkData.RemoteProjectId;this.remoteStatus=this.linkData.RemoteStatus;this.remoteHostUrl=this.linkData.RemoteHostUrl;this.remoteHostName=this.linkData.RemoteHostName;this.remoteStatusMessage=this.linkData.RemoteStatusMessage}return n.createFromLinkData=function(t,i){i=i||{};i.FldID||(i.FldID=at.DalFields.RelatedLinks);var r=i.FldID;switch(r){case at.DalFields.AttachedFiles:return new rr(t,i);case at.DalFields.LinkedFiles:return new lr(t,i);case at.DalFields.BISURI:return new ir(t,i);case at.DalFields.RelatedLinks:return new wi(t,i);default:return new n(t,i)}},n.prototype.setState=function(n){n?(this.comment=this.getComment(),this.isLocked=this.getIsLocked(),this.updated=!1,this.linkData.CommentChanged=!1,this.linkData.LockChanged=!1):this.updated=this.linkData.CommentChanged||this.linkData.LockChanged},n.prototype._fireChanged=function(){this.workItem.fireFieldChange([this.getFieldId()])},n.prototype.isNew=function(){return wt.equals(pi.FutureDate,this.getAddedDate())},n.prototype.isRemoved=function(){return!wt.equals(pi.FutureDate,this.getRemovedDate())},n.prototype.getComment=function(){return this.linkData.Comment},n.prototype.setComment=function(n,t){this.linkData.Comment=n;this.linkData.CommentChanged=!0;this.setState();t||this._fireChanged()},n.prototype.remove=function(n){var t=n&&n.preventEvent===!0;this.deleted=!0;t||(this.workItem.resetLinks(!0),this._fireChanged())},n.prototype.clone=function(){return null},n.prototype.getFieldId=function(){return this.linkData.FldID},n.prototype.getIsLocked=function(){return this.linkData.Lock||!1},n.prototype.setIsLocked=function(n){this.linkData.Lock=n;this.linkData.LockChanged=!0;this.setState();this._fireChanged()},n.prototype.getAddedDate=function(){return this.linkData.AddedDate},n.prototype.getRemovedDate=function(){return this.linkData.RemovedDate},n.prototype.setRemovedDate=function(n){this.linkData.RemovedDate=n},n.prototype.equals=function(n){var t,i,r;if(n&&this.baseLinkType===n.baseLinkType){for(t in this)if(t.substr(0,3)==="get"&&typeof this[t]=="function"&&(i=this[t].call(this),r=n[t].call(n),!yi.compareValues(i,r,!1)))return!1}else return!1;return!0},n.prototype.isDuplicate=function(n){return this.equals(n)},n.prototype.getArtifactLinkType=function(){return""},n.prototype.getAttributes=function(){var n={isDeleted:this.deleted,isNew:this.isNew()};return this._isResourceLinkType(this.linkData.FldID)?(n[at.WorkItemLinkConstants.ATTRIBUTES_AUTHORIZEDDATE]=this.linkData.AddedDate,n[at.WorkItemLinkConstants.ATTRIBUTES_ID]=this.linkData.ExtID,n[at.WorkItemLinkConstants.ATTRIBUTES_RESOURCECREATEDDATE]=this.linkData.CreationDate,n[at.WorkItemLinkConstants.ATTRIBUTES_RESOURCEMODIFIEDDATE]=this.linkData.LastWriteDate,n[at.WorkItemLinkConstants.ATTRIBUTES_REVISEDDATE]=this.linkData.RemovedDate,this.linkData.Length>0&&(n[at.WorkItemLinkConstants.ATTRIBUTES_RESOURCESIZE]=this.linkData.Length),this.linkData.Comment&&(n[at.WorkItemLinkConstants.ATTRIBUTES_COMMENT]=this.linkData.Comment),this.linkData.OriginalName&&(n[at.WorkItemLinkConstants.ATTRIBUTES_NAME]=this.linkData.OriginalName),n):this.linkData.FldID===at.DalFields.RelatedLinks?(n[at.WorkItemLinkConstants.ATTRIBUTES_ISLOCKED]=this.linkData.Lock,this.linkData.Comment&&(n[at.WorkItemLinkConstants.ATTRIBUTES_COMMENT]=this.linkData.Comment),n):null},n.prototype.getLinkUrl=function(){return this._isResourceLinkType(this.linkData.FldID)?this.linkData.FilePath:this.remoteHostId?et.getRemoteWorkItemRestUrl(this.remoteHostUrl,this.remoteProjectId,this.linkData.ID):or.getResourceUrl(this.workItem.store.getTfsContext(),this.linkData.ID)},n.prototype.getRelationLinkType=function(){switch(this.linkData.FldID){case at.DalFields.BISURI:return at.WorkItemLinkConstants.ARTIFACTLINKTYPE;case at.DalFields.AttachedFiles:return at.WorkItemLinkConstants.ATTACHEDLINKTYPE;case at.DalFields.LinkedFiles:return at.WorkItemLinkConstants.HYPERLINKLINKTYPE;default:return this instanceof wi?this.getLinkTypeEnd().immutableName:""}},n.prototype._isResourceLinkType=function(n){switch(n){case at.DalFields.BISURI:case at.DalFields.AttachedFiles:case at.DalFields.LinkedFiles:return!0;default:return!1}},n.getCountFieldId=function(n){var t;switch(n){case at.DalFields.AttachedFiles:t=at.CoreField.AttachedFileCount;break;case at.DalFields.RelatedLinks:t=at.CoreField.RelatedLinkCount;break;case at.DalFields.LinkedFiles:t=at.CoreField.HyperLinkCount;break;case at.DalFields.BISURI:t=at.CoreField.ExternalLinkCount}return t},n}();t.Link=bi;ir=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.baseLinkType="ExternalLink",r}return __extends(t,n),t.create=function(n,i,r,u,f){return new t(n,{OriginalName:i,FilePath:r,Comment:u||"",FldID:at.DalFields.BISURI,AddedDate:pi.FutureDate,RemovedDate:pi.FutureDate,externalLinkContext:f})},t.prototype.getArtifactLinkType=function(){return this.linkData.OriginalName},t.prototype.getLinkedArtifactUri=function(){return this.linkData.FilePath},t.prototype.clone=function(n){return t.create(n,this.getArtifactLinkType(),this.getLinkedArtifactUri(),this.getComment())},t.prototype.isDuplicate=function(n){if(n instanceof t){var i=n;return this.getFieldId()===i.getFieldId()&&pt.equals(this.getLinkedArtifactUri(),i.getLinkedArtifactUri(),!0)&&pt.equals(this.getArtifactLinkType(),i.getArtifactLinkType(),!0)}return!1},t}(bi);t.ExternalLink=ir;lr=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.baseLinkType="HyperLink",r}return __extends(t,n),t.create=function(n,i,r){return new t(n,{OriginalName:"",FilePath:i,Comment:r||"",FldID:at.DalFields.LinkedFiles,AddedDate:pi.FutureDate,RemovedDate:pi.FutureDate})},t.prototype.getArtifactLinkType=function(){return"Workitem Hyperlink"},t.prototype.getLocation=function(){return this.linkData.FilePath},t.prototype.clone=function(n){return t.create(n,this.getLocation(),this.getComment())},t.prototype.isDuplicate=function(n){if(n instanceof t){var i=n;return this.getFieldId()===i.getFieldId()&&pt.equals(this.getLocation(),i.getLocation(),!0)}return!1},t}(bi);t.Hyperlink=lr;wi=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.baseLinkType="WorkItemLink",r}return __extends(t,n),t.create=function(n,i,r,u,f,e){var o,s;return typeof i=="object"?o=i.id:(s=n.store.findLinkTypeEnd(i),o=s.id),new t(n,{ID:r,LinkType:o,Comment:u||"",FldID:at.DalFields.RelatedLinks,"Changed Date":pi.FutureDate,"Revised Date":pi.FutureDate,isAddedBySystem:f,RemoteHostUrl:e&&e.remoteHostUrl,RemoteProjectId:e&&e.remoteProjectId,RemoteHostId:e&&e.remoteHostId,RemoteHostName:e&&e.remoteHostName})},t.prototype.getSourceId=function(){return this.workItem.id},t.prototype.getTargetId=function(){return this.linkData.ID},t.prototype.getAddedDate=function(){return this.linkData["Changed Date"]},t.prototype.getAddedBy=function(){return this.linkData["Changed By"]},t.prototype.getRemovedDate=function(){return this.linkData["Revised Date"]},t.prototype.setRemovedDate=function(n){this.linkData["Revised Date"]=n},t.prototype.getRemovedBy=function(){return this.linkData["Revised By"]||-1},t.prototype.getLinkType=function(){return this.linkData.LinkType},t.prototype.getLinkTypeEnd=function(){return this.linkTypeEnd||(this.linkTypeEnd=this.workItem.store.findLinkTypeEnd(this.getLinkType())),this.linkTypeEnd},t.prototype.clone=function(n){var r=this.getLinkTypeEnd(),i=r.linkType,u;if(i&&i.isActive&&i.topology!=="Unknown"&&!(i.isOneToMany&&r.isForwardLink))return u={remoteHostId:this.remoteHostId,remoteHostName:this.remoteHostName,remoteHostUrl:this.remoteHostUrl,remoteProjectId:this.remoteProjectId},t.create(n,r,this.getTargetId(),this.getComment(),!1,u)},t.prototype.isDuplicate=function(n){if(n instanceof t){var i=n;return this.getFieldId()===i.getFieldId()&&this.getLinkType()===i.getLinkType()&&this.getTargetId()===i.getTargetId()&&this.getSourceId()===i.getSourceId()&&this.remoteHostId===i.remoteHostId&&this.remoteProjectId===i.remoteProjectId}return!1},t}(bi);t.WorkItemLink=wi;rr=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.baseLinkType="Attachment",r.uploaded=!0,r}return __extends(t,n),t.prototype.getPlaceholderStatus=function(){return this.isPlaceholder},t.create=function(n,i,r,u,f,e,o,s){var h;return s?(h=new t(n,{OriginalName:i,Comment:"",ExtID:0,FldID:at.DalFields.AttachedFiles,Length:f,CreationDate:new Date,LastWriteDate:new Date,AddedDate:pi.FutureDate,RemovedDate:pi.FutureDate}),h.isPlaceholder=!0):(h=new t(n,{OriginalName:i,FilePath:r,Comment:u||"",ExtID:0,FldID:at.DalFields.AttachedFiles,Length:f,CreationDate:e||new Date,LastWriteDate:o||new Date,AddedDate:pi.FutureDate,RemovedDate:pi.FutureDate}),h.isPlaceholder=!1),h},t.prototype.clone=function(n){return t.create(n,this.linkData.OriginalName,this.linkData.FilePath,this.linkData.Comment,this.linkData.Length,this.linkData.CreationDate,this.linkData.LastWriteDate)},t.prototype.resolvePlaceholder=function(n,t,i){this.isPlaceholder=!1;this.linkData.FilePath=n;t!=null&&(this.linkData.CreationDate=t);i!=null&&(this.linkData.LastWriteDate=i);this._fireChanged()},t.prototype.getName=function(){return this.linkData.OriginalName},t.prototype.setName=function(n){this.linkData.OriginalName=n;this._fireChanged()},t.prototype.getLength=function(){return this.linkData.Length},t.prototype.setLength=function(n){this.linkData.Length=n;this._fireChanged()},t.prototype.getFilePath=function(){return this.linkData.FilePath},t.prototype.setFilePath=function(n){this.linkData.FilePath=n;this._fireChanged()},t.prototype.getUri=function(n){var t=this.workItem.project.store.tfsConnection.getHttpClient(ei.WorkItemTrackingHttpClient),i=this.workItem.project.guid,r=this.getName();return t.getAttachmentUrl(i,this.getFilePath(),r,n)},t.prototype.getContent=function(){var n=c.getClient(),t=this.workItem.project.guid,i=this.getName();return n.getAttachmentContent(this.getFilePath(),i,t,!0)},t.prototype.open=function(){ti.getService().performAction(ti.CommonActions.ACTION_WINDOW_OPEN,{url:this.getUri(!1),target:"_blank"})},t.prototype.save=function(){ti.getService().performAction(ti.CommonActions.ACTION_WINDOW_OPEN,{url:this.getUri(!0),target:"_blank"})},t.prototype._uploadComplete=function(n,t,i){this.uploaded=!0;this.linkData.OriginalName=n;this.linkData.FilePath=t;this.linkData.Length=i;this._fireChanged()},t.prototype.isDuplicate=function(){return!1},t}(bi);t.Attachment=rr,function(n){n[n.Value=1]="Value";n[n.CurrentValue=2]="CurrentValue";n[n.OriginalValue=4]="OriginalValue";n[n.OtherFieldCurrentValue=8]="OtherFieldCurrentValue";n[n.OtherFieldOriginalValue=16]="OtherFieldOriginalValue";n[n.CurrentUser=32]="CurrentUser";n[n.Clock=64]="Clock"}(di=t.RuleValueFrom||(t.RuleValueFrom={}));gr=function(){function n(n,t,i,r,u,f,e){this.executionPhase=tt.RuleEvaluatorExecutionPhase.DefaultRules;this.userChange=!1;this.valueLocked=!1;this.setByRule=!1;this.valueChanged=!1;this.setByDefaultRule=!1;this.setByComputedRule=!1;this.readOnly=!1;this.empty=!1;this.required=!1;this.frozen=!1;this.cannotLoseValue=!1;this.otherFields={};this.allowExistingValue=!1;this.validUser=!1;this.serverDefault=!1;this.isIdentityField=!1;this.whenCount=0;this.fieldId=n;this.workItem=t;this.field=i;this.value=r;this.originalValue=u;this.valueLocked=f;this.userChange=f;this.evalState=e;this.isIdentityField=i.fieldDefinition.isIdentity}return n.compareLists=function(n,t){var r,i;if(n!==t){if(!n||!t||(r=n.length,r!==t.length))return!1;for(i=0;i<r;i++)if(n[i].items!==t[i].items||n[i].globals!==t[i].globals)return!1}return!0},n.compareFieldLists=function(t,i){return t!==i&&(!t||!i||t.allowExistingValue!==i.allowExistingValue||!n.compareLists(t.allowedValues,i.allowedValues)||!n.compareLists(t.suggestedValues,i.suggestedValues)||!n.compareLists(t.prohibitedValues,i.prohibitedValues))?!1:!0},n.prototype.setExecutionPhase=function(n){this.executionPhase=n},n.prototype.evaluate=function(n){try{n&&(this.setExecutionPhase(tt.RuleEvaluatorExecutionPhase.CopyRules),this.Block(n),this.setExecutionPhase(tt.RuleEvaluatorExecutionPhase.DefaultRules),this.Block(n),this.setExecutionPhase(tt.RuleEvaluatorExecutionPhase.OtherRules),this.Block(n));this.validate()}catch(t){var i="Error occured in Rule Engine Evaluate. Name: ".concat(t.Name," Message: ").concat(t.message," Rules.length: ").concat(n.length," Rules.Information: ").concat(n.toString()," Stack: ").concat(t.stack);a.publishErrorToTelemetry(new Error(i))}},n.prototype.Block=function(n){for(var t,i=0,f=n.length,r,u;i<f;)r=n[i++],u=n[i++]||[],(t=this[r])===null||t===void 0?void 0:t.apply(this,u)},n.prototype.BlockWhenChangedProhibitedValuesOnly=function(n,t){for(var r=0,e=t.length,u,i,f;r<e;)u=t[r++],i=t[r++]||[],u==="ProhibitedValues"&&i[0]&&(f=i[0].filter(function(t){return t!==n}),this.ProhibitedValues(f,i[1]))},n.prototype.When=function(n,t,i,r,u){i=this._getValueFrom(r,i);var f=this._isIdentityField(t),e=r==di.Value&&f;(this._areValuesEqual(t,this._getFieldValue(t,!1),i,!0,e)?!n:n)&&(this.whenCount++,this.Block(u),this.whenCount--)},n.prototype.WhenWas=function(n,t,i,r,u){i=this._getValueFrom(r,i);var f=this._isIdentityField(t),e=r==di.Value&&f;(this._areValuesEqual(t,this._getFieldValue(t,!0),i,!0,e)?!n:n)&&(this.whenCount++,this.Block(u),this.whenCount--)},n.prototype.WhenChanged=function(n,t,i){var r=this._areValuesEqual(t,this._getFieldValue(t,!1),this._getFieldValue(t,!0),!0);(r?n:!n)?(this.whenCount++,this.Block(i),this.whenCount--):t!=ru||!r||n||y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.TypeScriptRuleEngineStateTransitionFilteringDisabled)||(this.whenCount++,this.BlockWhenChangedProhibitedValuesOnly(this._getFieldValue(t,!0),i),this.whenCount--)},n.prototype.WhenBecameNonEmpty=function(n,t,i){(this._areValuesEqual(t,this._getFieldValue(t,!0),null,!0)&&!this._areValuesEqual(t,this._getFieldValue(t,!1),null,!0)?!n:n)&&(this.whenCount++,this.Block(i),this.whenCount--)},n.prototype.WhenRemainedNonEmpty=function(n,t,i){(this._areValuesEqual(t,this._getFieldValue(t,!0),null,!0)||this._areValuesEqual(t,this._getFieldValue(t,!1),null,!0)?n:!n)&&(this.whenCount++,this.Block(i),this.whenCount--)},n.prototype.OtherField=function(n,t,i){if(this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules){var r=this._getFieldValue(n,i);this.otherFields[n]=r;this.otherFieldCheck=t;t==="same-as"&&!this.userChange&&i&&(this.value=r,this.setByRule=!0,this.valueChanged=!0)}},n.prototype.Map=function(n,t,i,r){var e=this,h,u,c,f,s,l,o;this.executionPhase===tt.RuleEvaluatorExecutionPhase.CopyRules&&(h=this._getFieldValue(n,!1),t?(s=this.evalState[n+""],l=s&&s.prevValue!==undefined?s.prevValue:this._getFieldValue(n,!1),this._areValuesEqual(n,this._getFieldValue(n,!1),l,!0)||this.userChange||(i!=null&&$.each(i,function(t,i){return i.values&&$.each(i.values,function(t,r){if(e._areValuesEqual(n,h,r,!0))return o=i.case,!1}),o?!1:void 0}),o===undefined||this._areValuesEqual(n,o,this.value,!0)||(this.value=o,this.valueLocked=!0,this.setByRule=!0,this.valueChanged=!0))):(this.userChange||(i!=null&&$.each(i,function(t,i){if(e._areValuesEqual(n,h,i.case,!0))return u=i,!1}),u||(u=r),u&&(c=!1,u.values&&$.each(u.values,function(t,i){if(e._areValuesEqual(n,i,e.value,!0))return c=!0,!1}),c||(u.default?bt.contains(u.values,this.originalValue)?(this.value=this.originalValue,this.valueLocked=!0,this.setByRule=!0,this.valueChanged=!0):this._areValuesEqual(n,u.default,this.value,!0)||(this.value=u.default,this.valueLocked=!0,this.setByRule=!0,this.valueChanged=!0):(this.value=u.values&&u.values[0],this.valueLocked=!0,this.setByRule=!0,this.valueChanged=!0)))),this.allowedValues||(this.allowedValues=[]),f=[],i!=null&&$.each(this._getAllowedValues(n),function(t,r){var u;$.each(i,function(t,i){if(e._areValuesEqual(n,r,i.case,!0))return u=i,!1});u&&(f=yi.union(f,u.values,!0))}),r&&(f=yi.union(f,r.values,!0)),this.allowedValues.push({items:f})))},n.prototype.AllowExistingValue=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.allowExistingValue=!0)},n.prototype.ReadOnly=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.readOnly=!0,this.userChange||(this.value=this.originalValue,this.setByRule=!0,this.valueChanged=!0))},n.prototype.Empty=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.empty=!0,this.userChange||(this.value=undefined,this.setByRule=!0,this.valueChanged=!0))},n.prototype.Required=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.required=!0)},n.prototype.Frozen=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.frozen=!0,!this.userChange&&this.originalValue&&(this.value=this.originalValue,this.setByRule=!0,this.valueChanged=!0))},n.prototype.CannotLoseValue=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.cannotLoseValue=!0)},n.prototype.ValidUser=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.validUser=!0)},n.prototype.Copy=function(n,t){this.executionPhase===tt.RuleEvaluatorExecutionPhase.CopyRules&&(this.valueLocked||(this.value=this._getValueFrom(n,t),this.valueLocked=!0,this.setByRule=!0,this.valueChanged=!0))},n.prototype.Default=function(n,t){this.executionPhase===tt.RuleEvaluatorExecutionPhase.DefaultRules&&(this.valueLocked||yi.isEmpty(this.value)&&(this.value=this._getValueFrom(n,t),this.valueLocked=!0,this.setByRule=!0,this.setByDefaultRule=!0,this.valueChanged=!0))},n.prototype.AllowedValues=function(n,t){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.allowedValues||(this.allowedValues=[]),n&&bt.flagSorted(n,pt.localeIgnoreCaseComparer),this.allowedValues.push({items:n,globals:t}))},n.prototype.SuggestedValues=function(n,t){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.suggestedValues||(this.suggestedValues=[]),n&&bt.flagSorted(n,pt.localeIgnoreCaseComparer),this.suggestedValues.push({items:n,globals:t}))},n.prototype.ProhibitedValues=function(n,t){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.prohibitedValues||(this.prohibitedValues=[]),n&&bt.flagSorted(n,pt.localeIgnoreCaseComparer),this.prohibitedValues.push({items:n,globals:t}))},n.prototype.Match=function(n,t){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.patterns||(this.patterns=[]),n&&bt.flagSorted(n,pt.localeIgnoreCaseComparer),this.patterns.push({items:n,globals:t}))},n.prototype.ServerDefault=function(n){this.executionPhase===tt.RuleEvaluatorExecutionPhase.CopyRules&&(this.value=new ki(n,this.originalValue),this.serverDefault=!0,this.valueLocked=!0,this.setByRule=!0,this.setByDefaultRule=!0,this.valueChanged=!0)},n.prototype.Computed=function(n){if(this.executionPhase===tt.RuleEvaluatorExecutionPhase.DefaultRules&&!this.valueLocked){var t=this.workItem.computeFieldValue(this.field,n);t&&t.success&&(this.value=t.value,this.valueLocked=!0,this.setByRule=!0,this.setByComputedRule=!0,this.valueChanged=!0)}},n.prototype.Trigger=function(n){var t=this;this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&n&&(this.triggerFields||(this.triggerFieldMap={},this.triggerFields=[]),$.each(n,function(n,i){var r=i+"";t.triggerFieldMap.hasOwnProperty(r)||(t.triggerFieldMap[r]=!0,t.triggerFields.push(i))}))},n.prototype.ScopedIdentity=function(n,t,i,r,u){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.whenCount>0||!this.filterByScope)&&(this.filterByScope=new yr(i,t,n,r,u))},n.prototype.validate=function(){var i,t=this.field,r,e,s,y,h,it,c,p,l,w,o,a,b,k,v,d,g;this.originalFieldStatus=t.status;t.status=tt.FieldStatusFlags.None;var u=t.workItem.store,f=yi.convertValueToInternal(u,this.originalValue,t.fieldDefinition.type),nt=yi.convertValueToInternal(u,this.value,t.fieldDefinition.type);if(i=nt.value,t.status|=nt.status,this.setByRule&&(t._setValue(i,this.setByRule),t.status|=tt.FieldStatusFlags.SetByRule),this.setByDefaultRule&&(t.status|=tt.FieldStatusFlags.SetByDefaultRule),this.setByComputedRule&&(t.status|=tt.FieldStatusFlags.SetByComputedRule),(this.readOnly||this.serverDefault||this.empty)&&(t.status|=tt.FieldStatusFlags.ReadOnly),this.cannotLoseValue&&(yi.isEmpty(this.originalValue)||(this.required=!0)),this.required&&(t.status|=tt.FieldStatusFlags.Required),r={},r.allowedValues=this.allowedValues,this.allowedValues&&this.allowedValues.length>0&&(t.status|=tt.FieldStatusFlags.HasValues,t.status|=tt.FieldStatusFlags.LimitedToValues),r.suggestedValues=this.suggestedValues,this.suggestedValues&&this.suggestedValues.length>0&&(t.status|=tt.FieldStatusFlags.HasValues,t.status&=~tt.FieldStatusFlags.LimitedToValues),r.prohibitedValues=this.prohibitedValues,r.allowExistingValue=this.allowExistingValue,n.compareFieldLists(t.lists,r)||(t.lists=r,t.allowedValues=null),this.allowExistingValue&&(t.status|=tt.FieldStatusFlags.AllowsOldValue),this.patterns&&this.patterns.length>0)for(e=yi.unionLists(u,this.patterns[0].items,this.patterns[0].globals),s=0,y=this.patterns;s<y.length;s++)o=y[s],e=yi.intersect(e,yi.unionLists(u,o.items,o.globals),!0);if(t.fieldDefinition.isIdentity&&(t.filterByScope=this.filterByScope),t.patterns=e,e&&(t.status|=tt.FieldStatusFlags.HasFormats),yi.isEmpty(i)){if(!this.empty){if(t.isRequired()){t.status|=tt.FieldStatusFlags.Required;t.status|=tt.FieldStatusFlags.InvalidEmpty;return}if(typeof this.otherFieldCheck!="undefined")for(h in this.otherFields)if(yi.isEmpty(this.otherFields[h])){if(this.otherFieldCheck==="not-same-as"){t.status|=tt.FieldStatusFlags.Required;t.status|=tt.FieldStatusFlags.InvalidValueNotInOtherField;return}}else if(this.otherFieldCheck==="same-as"){t.status|=tt.FieldStatusFlags.Required;t.status|=tt.FieldStatusFlags.InvalidValueInOtherField;return}}return}if(this.empty){t.status&=~tt.FieldStatusFlags.ReadOnly;t.status|=tt.FieldStatusFlags.InvalidNotEmpty;return}if(this.readOnly&&!this.serverDefault&&!this.setByDefaultRule&&!this._areValuesEqual(t.fieldDefinition.id,i,f.value)){t.status|=tt.FieldStatusFlags.InvalidNotOldValue;return}if(typeof this.otherFieldCheck!="undefined")for(h in this.otherFields)if(this._areValuesEqual(t.fieldDefinition.id,i,this.otherFields[h])){if(this.otherFieldCheck==="not-same-as"){t.status|=tt.FieldStatusFlags.InvalidValueInOtherField;return}}else if(this.otherFieldCheck==="same-as"){t.status|=tt.FieldStatusFlags.InvalidValueNotInOtherField;return}if(this.frozen&&!yi.isEmpty(f.value)&&!this._areValuesEqual(t.fieldDefinition.id,i,f.value)){t.status|=tt.FieldStatusFlags.InvalidNotEmptyOrOldValue;return}if(t.fieldDefinition.type===at.FieldType.TreePath&&!this.workItem.isChangeProjectInProgress()&&(it=this.workItem.project.nodesCacheManager.getReferencedNode({path:i,nodeType:t.fieldDefinition.id===at.CoreField.AreaPath?1:2}),!it)){this.workItem.project.nodesCacheManager.isNodesCacheAvailable()?t.status|=tt.FieldStatusFlags.InvalidPath:this.workItem.project.nodesCacheManager.beginGetNodes().then(function(){t.setValue(i,{forceEvaluate:!0})});return}if(!(this.serverDefault||i instanceof ki)){if(c=i===undefined||i===null?"":""+i,t.patterns){for(p=!1,l=0,w=t.patterns;l<w.length;l++)if(o=w[l],yi.isMatch(o,c)){p=!0;break}if(!p){t.status|=tt.FieldStatusFlags.InvalidFormat;return}}if(r.prohibitedValues)for(a=0,b=r.prohibitedValues;a<b.length;a++)if(k=b[a],yi.inList(u,c,k.items,k.globals,!0)){t.status|=tt.FieldStatusFlags.InvalidListValue;return}if(this.allowExistingValue&&!yi.isEmpty(f.value)&&this._areValuesEqual(t.fieldDefinition.id,i,f.value))return;if(r.allowedValues)for(v=0,d=r.allowedValues;v<d.length;v++)if(g=d[v],!yi.inList(u,c,g.items,g.globals,!0)){t.status|=tt.FieldStatusFlags.InvalidListValue;return}}},n.prototype._isIdentityField=function(n){var t=this.workItem.getField(n);return t&&t.fieldDefinition.isIdentity},n.prototype._getFieldValue=function(n,t){return n===this.fieldId?t?this.originalValue:this.value:this.workItem._getFieldValueById(n,t)},n.prototype._getValueFrom=function(n,t){switch(n){case di.Clock:return new Date;case di.CurrentUser:return this.workItem.store.getCurrentUserName();case di.OtherFieldOriginalValue:return this._getFieldValue(t,!0);case di.OtherFieldCurrentValue:return this._getFieldValue(t,!1);case di.Value:return t;case di.CurrentValue:return this.value;case di.OriginalValue:return this.originalValue;default:return t}},n.prototype._areValuesEqual=function(n,t,i,r,u){return this.workItem.fieldMapById[n]&&this.workItem.fieldMapById[n].fieldDefinition.type==at.FieldType.Boolean&&(t=this._translateToBoolData(t),i=this._translateToBoolData(i)),yi.compareValues(t,i,r,u)},n.prototype._translateToBoolData=function(n){return n&&(n==1||String(n).toLowerCase()==="true")?1:0},n.prototype._getAllowedValues=function(n){return this.workItem.getField(n).getAllowedValues()},n}();vr=function(){function n(n,t){var i,u;if(this.workItem=n,this.fieldRules={},t)for(i=0,u=t;i<u.length;i++){var f=u[i],e=f.fieldId+"",r=this.fieldRules[e];r||(this.fieldRules[e]=r=[]);r.push("Block");r.push([f.rules])}}return n.prototype.evaluateFields=function(n){var r={},t,i,u;if(n)for(t=0,i=n;t<i.length;t++)u=i[t],this._evaluateFieldRule(u,r,!1);return this._evalStateToChangedFields(r)},n.prototype.evaluateField=function(n,t,i){var r={};return this._evaluateFieldRule(n,r,t,i),this._evalStateToChangedFields(r)},n.prototype._evalStateToChangedFields=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(+i);return t},n.prototype._evaluateFieldRule=function(n,t,i,r){var c=this,f=this.workItem.getField(n),e,o;if(f){var u=n+"",s=f._getValue(),h=!1;t[u]&&t[u].requiresControlUpdate&&(h=!0);t[u]={state:!0,prevValue:r===undefined?s:r,requiresControlUpdate:!1||h};e=new gr(n,this.workItem,f,s,f._getValue(!0),i||!1,t);e.evaluate(this.fieldRules[u]);o=void 0;o=i?!0:!yi.compareValues(s,f._getValue());o&&(t[u].requiresControlUpdate=!0);o&&e.triggerFields&&$.each(e.triggerFields,function(n,i){var r=t[i+""];r&&r.state||c._evaluateFieldRule(i,t,!1)});t[u].state=!1}},n}();t.RuleEngine=vr;ki=function(){function n(n,t){this.type=tt.ServerDefaultValueType.None;this.type=n;this.value=t}return n.prototype.toString=function(){return""+this.value},n.prototype.valueOf=function(){return this.value},n}();t.ServerDefaultValue=ki;sr=function(){function n(n,t,i){this.fieldId=n;this.fieldValue=t;this.scope=i}return n.prototype.toString=function(){return JSON.stringify({fieldId:this.fieldId,fieldValue:this.fieldValue,scope:{filterByScope:p.FilterByScope.GetHashCode(this.scope),nonIdentities:this.scope&&this.scope.nonIdentities,excludeGroups:this.scope&&this.scope.excludeGroups}})},n.prototype.equals=function(n){return n.toString()===this.toString()},n}();t.FieldValidationKey=sr;yr=function(n){function t(t,i,r,u,f){var e=__construct(this,n,[t,i]);for(var o in e)e.hasOwnProperty(o)&&(this[o]=e[o]);return e.nonIdentities=r||[],e.displayNames=u||[],e.excludeGroups=f||!1,e}return __extends(t,n),t.equals=function(n,t){var i,r,u,f;return n==null&&t==null?!0:p.FilterByScope.GetHashCode(n)!==p.FilterByScope.GetHashCode(t)?!1:(i=n.nonIdentities==null?0:n.nonIdentities.length,r=t.nonIdentities==null?0:t.nonIdentities.length,i!=r)?!1:(u=n.nonIdentities==null?"":n.nonIdentities.sort().join(","),f=t.nonIdentities==null?"":t.nonIdentities.sort().join(","),pt.equals(u,f,!0))},t}(p.FilterByScope);t.WorkItemIdentityScope=yr;nu="WITData";pr=function(){function n(n,t){this._tfsContext=n;this._cacheStampManager=t;this._workItemIndexDBCacheManager=new f.WorkItemIndexDBCacheManager;this._cacheInformationManager=new it.WorkItemMetadataCacheInformationManager;this._dataSources=d.getDataSources(n,t,this._cacheInformationManager)}return n.prototype.beginGetWorkItemData=function(n,t,i,r){var u=this;return this._getDataFromSource(function(f){return f.beginGetWorkItemData(u._tfsContext.navigation.projectId,n,t,i,r)})},n.prototype.beginGetLinkTypes=function(){return this._getDataWithCache(this._tfsContext.navigation.collection.instanceId,at.WITCommonConstants.LinkTypes,"_",function(n){return n.beginGetLinkTypes()})},n.prototype.beginGetFieldProjectData=function(n){return this._getDataWithCache(n,at.WITCommonConstants.TeamProjects,n,function(t){return t.beginGetFieldProjectData(n)})},n.prototype.beginGetFields=function(){return(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync({action:"fields",controller:"wit"},null,this._tfsContext.navigation.collection.instanceId,at.WITCommonConstants.Fields,"_").then(function(n){return n.data})},n.prototype.beginGetWorkItemTypeData=function(n,t){var i=this;return y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.DisableWorkItemTypesSplittedLoading)?t.length===1?this._getDataWithCache(n,at.WITCommonConstants.WorkItemTypes,t[0],function(i){return i.beginGetWorkItemTypeData(n,t)}):this._getDataFromSource(function(i){return i.beginGetWorkItemTypeData(n,t)}).then(function(t){return i._cacheStampManager.getMetadataCacheStamp(at.WITCommonConstants.WorkItemTypes).then(function(r){return Promise.all(t.map(function(t){return i._workItemIndexDBCacheManager.cacheData(n,at.WITCommonConstants.WorkItemTypes,i._transformKey(t.name),[t],r).then(function(t){t&&i._cacheInformationManager&&i._cacheInformationManager.persist(n,at.WITCommonConstants.WorkItemTypes,t,r)}).catch(function(n){o.traceMessage(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"CacheData",ai.WITCustomerIntelligenceFeature.WIT_CACHE_PROVIDER_INIT,n)})})).then(function(){return t})})}):(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync({action:"workItemTypes",controller:"wit"},{projectId:n,typeNames:t},n,at.WITCommonConstants.WorkItemTypes,"_").then(function(n){return n.data})},n.prototype._getDataWithCache=function(n,t,i,r){var u=this;return i=this._transformKey(i),this._cacheStampManager.getMetadataCacheStamp(t).then(function(f){return u._workItemIndexDBCacheManager.getDataFromCache(n,t,i,f).then(function(n){return n?{resolvedFromCache:!0,data:n}:u._getDataFromSource(r).then(function(n){return{resolvedFromCache:!1,data:n}})}).then(function(r){var s=r.resolvedFromCache,e=r.data;return e&&!s?u._workItemIndexDBCacheManager.cacheData(n,t,i,e,f).then(function(i){return i&&u._cacheInformationManager&&u._cacheInformationManager.persist(n,t,i,f),e}).catch(function(n){return o.traceMessage(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"CacheData",ai.WITCustomerIntelligenceFeature.WIT_CACHE_PROVIDER_INIT,n),e}):e})})},n.prototype._getDataFromSource=function(n,t){return t===void 0&&(t=0),__awaiter(this,void 0,void 0,function(){var i,r,u,f=this;return __generator(this,function(e){switch(e.label){case 0:return(i=function(){return t+1<f._dataSources.length?f._getDataFromSource(n,t+1):null},r=n(this._dataSources[t]),!!r)?[3,1]:[2,i()];case 1:return[4,r];case 2:return(u=e.sent(),!u)?[2,i()]:[2,u]}})})},n.prototype._transformKey=function(n){return n.toLowerCase()},n.prototype._recordTelemetry=function(n,t,i,r,u,f){hi.publishEvent(new hi.TelemetryEventData(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,nu,{scopeId:n,type:t,key:i,stamp:r,message:u,cachedData:f}))},n._resolvedPromise=Promise.resolve(null),n}();t.WorkItemDataManager=pr;rt.registerLinkForms();i.tfsModuleLoaded("TFS.WorkItemTracking",t)});

define("WorkItemTracking/Scripts/TFS.UI.Tags.Constants",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.TAG_ELLIPSIS=t.TAG_SPLITTING_SEPARATOR=t.TAG_FORMATTING_SEPARATOR=t.TAG_CHARACTER_LIMIT=void 0;t.TAG_CHARACTER_LIMIT=30;t.TAG_FORMATTING_SEPARATOR="; ";t.TAG_SPLITTING_SEPARATOR=/[,;]/;t.TAG_ELLIPSIS="..."});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};define("Presentation/Scripts/TFS/FeatureRef/TFS.TagService",["require","exports","Presentation/Scripts/TFS/TFS.Service","VSS/Context","VSS/Contributions/Services","VSS/Diag","VSS/Service","VSS/Settings/Services","VSSPreview/Utilities/PromiseUtils","VSS/Utils/Array"],function(n,t,i,r,u,f,e,o,s,h){var c,l;Object.defineProperty(t,"__esModule",{value:!0});t.TagService=t.TagsKind=void 0,function(n){n[n.WorkItem=0]="WorkItem";n[n.PullRequest=1]="PullRequest"}(c=t.TagsKind||(t.TagsKind={}));l=function(n){function t(){var t=n.call(this)||this;return t._tagNamesCache={},t}return __extends(t,n),t.prototype.beginQueryTagNames=function(n,i,o,s){var v=this,y,h,l,a;if(f.Debug.assertParamIsFunction(o,"callback"),f.Debug.assertParamIsStringNotEmpty(i,"projectScope"),y=n===c.WorkItem?t.WORK_ITEM_ARTIFACT_KIND:t.PULL_REQUEST_LABELS_ARTIFACT_KIND,h=this._getCacheKey(n,i),this._tagNamesCache.hasOwnProperty(h)){f.logTracePoint("TagService.queryTagNamesCached.start");l=this._tagNamesCache[h];f.logTracePoint("TagService.queryTagNamesCached.completed");o(l);return}f.logTracePoint("TagService.tagNamesDataProvider.start");a=n===c.WorkItem?t.WORK_ITEM_TAGS_DATA_PROVIDER_ID:t.PULL_REQUEST_LABELS_DATA_PROVIDER_ID;e.getService(u.WebPageDataService,r.getDefaultWebContext()).getDataAsync(a,null,{projectScope:i}).then(function(n){var t=n||[];v._tagNamesCache[h]=t;f.logTracePoint("TagService.tagNamesDataProvider.completed");o(t)},s)},t.prototype.invalidateCacheForArtifactKinds=function(n,t){var i=this._getCacheKey(n,t);this._tagNamesCache.hasOwnProperty(i)&&delete this._tagNamesCache[i]},t.prototype.addTagsToCacheForArtifactKinds=function(n,t,i){var o=this._getCacheKey(t,i),u,r,f,e;if(this._tagNamesCache.hasOwnProperty(o))for(u=this._tagNamesCache[o],r=0,f=n;r<f.length;r++)e=f[r],u.indexOf(e)===-1&&u.push(e)},t.prototype._getCacheKey=function(n,t){return"".concat(t.toLowerCase(),"-").concat(n)},t.prototype.getTagsMru=function(){var n=this;return this._tagsMruCache?Promise.resolve(this._tagsMruCache.slice()):s.toNativePromise(o.getService().getEntriesAsync(t.TAGS_MRU_SETTINGS_KEY,0).then(function(i){var r=i&&i.value&&i.value[t.TAGS_MRU_TAGS_KEY]||[];return n._tagsMruCache=h.subtract(r,[";;;;;",";SUGGESTIONS;"]),n._tagsMruCache.slice()}))},t.prototype.addTagsMru=function(n){return __awaiter(this,void 0,void 0,function(){var u,f,i,e,r;return __generator(this,function(c){switch(c.label){case 0:return[4,this.getTagsMru()];case 1:return u=c.sent(),f=h.subtract(u,n),i=n.concat(f),i.splice(t.TAGS_MRU_MAX_LENGTH),this._tagsMruCache=i,e="".concat(t.TAGS_MRU_SETTINGS_KEY,"/").concat(t.TAGS_MRU_TAGS_KEY),r={},r[e]=i,[2,s.toNativePromise(o.getService().setEntries(r,0))]}})})},t.prototype.dispose=function(){},t.ServiceLifetime=e.ServiceLifetime.ClearOnFPS,t.WORK_ITEM_ARTIFACT_KIND="E7626DBD-6075-416C-A31E-DFD48FE3CFDE",t.PULL_REQUEST_LABELS_ARTIFACT_KIND="F22387E3-984E-4C52-9C6D-FBB8F14C812D",t.WORK_ITEM_TAGS_DATA_PROVIDER_ID="ms.vss-work-web.work-item-tag-suggestions-data-provider",t.PULL_REQUEST_LABELS_DATA_PROVIDER_ID="ms.vss-code-web.pull-request-label-suggestions-data-provider",t.TAGS_MRU_SETTINGS_KEY="TagsMru",t.TAGS_MRU_TAGS_KEY="Tags",t.TAGS_MRU_MAX_LENGTH=5,t}(i.TfsService);t.TagService=l});

define("WorkItemTracking/Scripts/Utils/TagUtils",["require","exports","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Utils/Array","VSS/Utils/String","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/TFS.UI.Tags.Constants","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/FeatureRef/TFS.TagService","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.TagUtils=void 0;var a;(function(n){function a(t,i){var e=t.getField(f.CoreField.Tags);if(e&&!e.isReadOnly()&&e.isEditable()){if(u.equals(i.fieldName+"",n.getTagsAddPseudoFieldName(e.fieldDefinition.name),!0)||u.equals(i.fieldName+"",n.AddTagsPseudoRefName,!0)){var o=n.splitAndTrimTags(e.getValue()),s=n.splitAndTrimTags(i.value),h=r.union(o,s,u.localeIgnoreCaseComparer);return e.setValue(n.formatTags(h)),s.length}if(u.equals(i.fieldName+"",n.getTagsRemovePseudoFieldName(e.fieldDefinition.name),!0)||u.equals(i.fieldName+"",n.RemoveTagsPseudoRefName,!0)){var o=n.splitAndTrimTags(e.getValue()),c=n.splitAndTrimTags(i.value),h=r.subtract(o,c,u.localeIgnoreCaseComparer);return e.setValue(n.formatTags(h)),-c.length}}return 0}function v(i){var s={},h=[],a=i.getFieldValue(f.CoreField.Tags,!0),r,e,o,c,l,v;for(a&&(h=n.splitAndTrimTags(a).sort(u.localeIgnoreCaseComparer)),r=h,i.isFieldDirty(f.CoreField.Tags)&&(r=n.splitAndTrimTags(i.getFieldValue(f.CoreField.Tags)).sort(u.localeIgnoreCaseComparer)),e=[],o=0,c=h;o<c.length;o++)l=c[o],v=r.indexOf(l),v===-1&&e.push(l);return e.length>0&&(s[n.RemoveTagsPseudoRefName]=t(e)),r.length>0&&(s[n.AddTagsPseudoRefName]=t(r)),s}function y(t){var o={added:!1,removed:!1},i=[],s=t.getFieldValue(f.CoreField.Tags,!0),e,h,c;return s&&(i=n.splitAndTrimTags(s).sort(u.localeIgnoreCaseComparer)),e=i,t.isFieldDirty(f.CoreField.Tags)&&(e=n.splitAndTrimTags(t.getFieldValue(f.CoreField.Tags)).sort(u.localeIgnoreCaseComparer)),h=r.first(e,function(n){return!r.contains(i,n)}),c=r.first(i,function(n){return!r.contains(e,n)}),o.added=!!h,o.removed=!!c,o}function p(t){var u=[],e=t.getFieldValue(f.CoreField.Tags,!0),i;return e&&(u=n.splitAndTrimTags(e)),i=[],t.isFieldDirty(f.CoreField.Tags)&&(i=n.splitAndTrimTags(t.getFieldValue(f.CoreField.Tags))),r.subtract(i,u)}function w(t){var i,r,u;o.FeatureAvailabilityService.isFeatureEnabled(s.FeatureAvailabilityFlags.WebAccessWorkItemTrackingDisableTagsMRU)||(i=n.getWorkItemAddedTags(t),i.length>0&&(r=c.TfsContext.getDefault(),u=l.ProjectCollection.getConnection(r).getService(h.TagService),u.addTagsMru(i)))}function b(n){return"".concat(n," (").concat(i.BulkEditTagsAdd,")")}function k(n){return"".concat(n," (").concat(i.BulkEditTagsRemove,")")}function d(n){var f,i,t,r,o,u;if(!n)return[];for(f=n.split(e.TAG_SPLITTING_SEPARATOR),i=[],t=0,r=f;t<r.length;t++)o=r[t],u=o.trim(),u&&i.push(u);return i}function t(n){return n.join("; ")}n.tryProcessTagsChanges=a;n.AddTagsPseudoRefName="System.Tags-Add";n.RemoveTagsPseudoRefName="System.Tags-Remove";n.getTagPseudoFieldValues=v;n.areTagsAddedRemoved=y;n.getWorkItemAddedTags=p;n.updateTagsMru=w;n.getTagsAddPseudoFieldName=b;n.getTagsRemovePseudoFieldName=k;n.splitAndTrimTags=d;n.formatTags=t})(a=t.TagUtils||(t.TagUtils={}))});

define("WorkItemTracking/Scripts/OM/WorkItemManager",["require","exports","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace","q","VSS/Events/Action","VSS/LWP","VSS/Navigation/HubsService","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String","WorkItemTracking/Scripts/MruClassificationPicker/Stores/ClassificationFieldsMruStore","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Utils/TagUtils","VSS/VSS","VSS/Diag","VSS/Events/Document","VSS/Events/Handlers","VSS/Events/Services","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Utils/Core","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){function rt(){return l.createError("Operation Canceled.",{name:c.Exceptions.OperationCanceledException})}var tt,it,nt;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemManager=void 0;tt=f.getLWPModule("VSS/Platform/FPS");it=function(){function n(n){this.workItemManager=n}return n.prototype.workItemsChanged=function(n){if(n.change===c.WorkItemChangeType.Saved&&n.changedWorkItemLinks){var t=n.changedWorkItemLinks.filter(function(n){return!n.linkData.RemoteHostId});this.updateWorkItemLinkTargets(t);this._fireEventsForWorkItemLinkTargets(t)}},n.prototype.updateWorkItemLinkTargets=function(n){for(var t,i,u=this.workItemManager,r=0,f=n.length;r<f;r++)t=n[r],i=u.getWorkItem(t.targetId),i&&(t.command==="add"?this.addWorkItemLink(i,t):t.command==="remove"&&this.deleteWorkItemLink(i,t))},n.prototype.addWorkItemLink=function(n,t){var r=t.linkData,f=n.store.findLinkTypeEnd(r.LinkType).oppositeEnd,e=f.id,o=this.findWorkItemLink(n,t.sourceId,e),i,u;o?o.linkData["Changed Date"]=r["Changed Date"]:(i=$.extend({},r),i.ID=t.sourceId,i.LinkType=e,n.allLinks.push(new l.WorkItemLink(n,i)));n.linksUpdatedExternally();n.resetLinks();u=[g.DalFields.RelatedLinks,g.DalFields.HistoryId];n.getField(g.DalFields.Parent)&&f.id===c.CoreLinkTypes.Parent&&u.push(g.DalFields.Parent);n.fireFieldChange(u)},n.prototype.deleteWorkItemLink=function(n,t){var i,r=t.linkData,f=n.store.findLinkTypeEnd(r.LinkType).oppositeEnd,e=f.id,u;i=this.findWorkItemLink(n,t.sourceId,e);i&&(i.linkData["Revised Date"]=r["Revised Date"],i.linkData["Revised By"]=r["Revised By"]);n.linksUpdatedExternally();n.resetLinks();u=[g.DalFields.RelatedLinks,g.DalFields.HistoryId];n.getField(g.DalFields.Parent)&&f.id===c.CoreLinkTypes.Parent&&u.push(g.DalFields.Parent);n.fireFieldChange(u)},n.prototype.findWorkItemLink=function(n,t,i){for(var f=n.getLinks(),r,u=0,e=f.length;u<e;u++)if(r=f[u],r instanceof l.WorkItemLink&&r.getTargetId()===t&&r.getLinkType()===i)return r},n.prototype._fireEventsForWorkItemLinkTargets=function(n){var u=this,t={},i,r;n.forEach(function(n){var i=n.targetId,r=u.workItemManager.getWorkItem(i);r&&(t[i]||(t[i]=[]),t[i].push(n))});for(i in t)r=this.workItemManager.getWorkItem(Number(i)),r.fireWorkItemLinksUpdatedByOtherWorkItem({changedWorkItemLinks:t[i]})},n}();nt=function(){function n(t){var i=this;this.hasDirtyManager=!1;this._downloading=!1;this._postXHRNavigate=function(){i.resetDirtyWorkItems();r.fcall(function(){return i.registerRunningDocumentEntry()})};this._deletingOrRestoringMessageDelegate=function(){if(!p.getRunningDocumentsTable().isModified()&&i.store.isDeletingOrRestoring())return k.DeleteOrRestoreConfirmationMessage};this._showDirtyConfirmationDialog=function(n){var r=n.unloadText,t=n.detail;v.requireModules(["VSS/Controls/Dialogs"]).spread(function(n){var u={dialogClass:"dirty-workitem-confirmation-dialog",defaultButton:n.MessageDialog.buttons.cancel.id,escapeButton:n.MessageDialog.buttons.cancel,noDefaultButton:!0,noAutoCta:!0,buttons:[{id:"discard",text:k.DiscardChanges,reject:!1,style:"cta savebtn"},n.MessageDialog.buttons.cancel,],title:o.UnsavedChangesMessageTitle},f=function(){t.data.skipUnloadText=!0;tt.FastPageSwitch(t.pageContext,t.href,t.recordHistoryEntry,t.data)},e=r+"\n"+k.UnsavedWorkItemActionsMessage,s=$("<div/>").css("white-space","pre-wrap").html(e);n.showMessageDialog(s,u).then(function(){i.resetDirtyWorkItems();f()});$(".dirty-workitem-confirmation-dialog .savebtn").focus()})};this.store=t;this._cache={};this._pinCounts={};this._pendingWorkitems={};this._workItemChangedDelegate=d.delegate(this,this.onWorkItemChanged);this._events=new w.NamedEventCollection;this._linkManager=new it(this);this._updateClassificationMruThrottledDelegate=d.throttledDelegate(this,100,this._updateClassificationMru);this._cleanerTimer=window.setInterval(function(){i.cleanCache()},n.cacheCleanupTimeout);u.getService().registerActionWorker(u.CommonActions.SHOW_DIRTY_CONFIRMATION_DIALOG,this._showDirtyConfirmationDialog);b.getService().attachEvent(e.HubEventNames.PostXHRNavigate,this._postXHRNavigate);this.registerRunningDocumentEntry()}return n._initialize=function(){b.getService().attachEvent(c.Actions.WORKITEM_DELETED,n._onWorkItemDeleted);b.getService().attachEvent(c.Actions.WORKITEM_RESTORED,n._onWorkItemRestored);b.getService().attachEvent(c.Actions.WORKITEM_DESTROYED,n._onWorkItemDestroyed);b.getService().attachEvent(c.Actions.WORKITEM_DISCARDED,n._onWorkItemDiscarded);b.getService().attachEvent(c.Actions.WORKITEM_ID_UPDATED,n._onWorkItemIdUpdated);b.getService().attachEvent(c.Actions.WORKITEM_COPIED,n._onWorkItemCopied)},n.get=function(t){var i=t&&t.relatedData&&t.relatedData[c.RelatedDataKeys.WORKITEM_MANAGER_KEY];return i||(i=new n(t),t.relatedData[c.RelatedDataKeys.WORKITEM_MANAGER_KEY]=i),i},n._onWorkItemDeleted=function(t,i){var o=n.get(t),r=o.getWorkItem(i.workItemId),h,e,u,s;if(r){h=r.getField(g.CoreField.IsDeleted);h.setValue(!0,!0);r.fireWorkItemDeleted();var c=[i.workItemId],a=[],v=r.getLinks(),f=void 0;for(e=0;e<v.length;e++)f=v[e],f instanceof l.WorkItemLink&&(u=f.getTargetId(),s=f.getSourceId(),a.push(u===r.id?s:u),c.push(u===r.id?s:u));o.removeWorkItems(c);o.beginGetWorkItems(a,$.noop)}},n._onWorkItemRestored=function(t,i){n._removeWorkItemFromManager(t,i.workItemId)},n._onWorkItemDestroyed=function(t,i){n._removeWorkItemFromManager(t,i.workItemId)},n._removeWorkItemFromManager=function(t,i){var r=n.get(t),u=r.getWorkItem(i);u&&r.removeWorkItem(u)},n._onWorkItemDiscarded=function(t){var i=n.get(t.store);i.removeWorkItem(t)},n._onWorkItemIdUpdated=function(t){var i=n.get(t.store);i.updatePinWithSavedId(t)},n._onWorkItemCopied=function(t){var i=n.get(t.store);i.onWorkItemChanged(i,{workItem:t,change:c.WorkItemChangeType.Created});i.setWorkItem(t)},n.prototype.registerRunningDocumentEntry=function(){var n=this;this._runningDocumentEntry&&(p.getRunningDocumentsTable().remove(this._runningDocumentEntry),$(window).off("beforeunload",this._deletingOrRestoringMessageDelegate));this._runningCommentDocumentEntry&&p.getRunningDocumentsTable().remove(this._runningCommentDocumentEntry);this._runningDocumentEntry=p.getRunningDocumentsTable().add(this.store.path()+"/WorkItemManager",{isDirty:function(){return n.isDirty(!0)},beginSave:function(t,i){return n.beginSaveDirtyWorkItems(t,i)},getDirtyDocumentTitles:function(t){return n.getDirtyWorkItemTitles(t)}});this._runningCommentDocumentEntry=p.getRunningDocumentsTable().add(this.store.path()+"/WorkItemManager/CommentManager",{isDirty:function(){return n.isCommentDirty()},getDirtyDocumentTitles:function(){return n.getDirtyCommentTitles()}});$(window).on("beforeunload",this._deletingOrRestoringMessageDelegate)},n.prototype.getDirtyCommentTitles=function(){for(var i,n=0,t=this.getManagedWorkItems();n<t.length;n++)if(i=t[n],i.getIsCommentDirty()&&!i.isDirty())return[k.UnsavedComment];return[]},n.prototype.getDirtyWorkItemTitles=function(n){for(var t,i=[],u=this.getDirtyWorkItems(),r=0,f=Math.min(n,u.length);r<f;r++)t=u[r],t.getIsCommentDirty()?i.push(s.format(k.WithUnsavedComment,t.getCaption(!1))):i.push(t.getCaption(!1));return i},n.prototype.resetDirtyWorkItems=function(){for(var n,r=this.getDirtyWorkItems(),t=0,i=r;t<i.length;t++)n=i[t],n.reset(),n.isNew()&&this.removeWorkItem(n)},n.prototype.dispose=function(){b.getService().detachEvent(e.HubEventNames.PostXHRNavigate,this._postXHRNavigate);u.getService().unregisterActionWorker(u.CommonActions.SHOW_DIRTY_CONFIRMATION_DIALOG,this._showDirtyConfirmationDialog);this._runningDocumentEntry&&(p.getRunningDocumentsTable().remove(this._runningDocumentEntry),$(window).off("beforeunload",this._deletingOrRestoringMessageDelegate));this._runningCommentDocumentEntry&&p.getRunningDocumentsTable().remove(this._runningCommentDocumentEntry);this._cleanerTimer&&(window.clearInterval(this._cleanerTimer),this._cleanerTimer=null)},n.prototype.invalidateCache=function(n){for(var t,r,i=0,u=n.length;i<u;i+=1)r=n[i],t=this._cache[r],t&&(this.isPinned(r)||t.workItem.isDirty()||this.removeWorkItem(t.workItem))},n.prototype.cleanCache=function(){var i,u=(new Date).getTime(),r=this._cache;for(var t in r)r.hasOwnProperty(t)&&(i=this._cache[t],u-i.timeStamp>n.cacheCleanupTimeout&&!this.isPinned(Number(t))&&(i.workItem.isDirty()||delete r[t]))},n.prototype.resetCache=function(){this._pinCounts={};this._cache={};this._pendingWorkitems={}},n.prototype.getLastRetrievedWorkitemCIData=function(){return this._lastRetrievedWorkitemCIData},n.prototype.updatePinWithSavedId=function(n){if(n.tempId<0){var r=n.tempId,t=n.id||0,i=this._pinCounts[r]||0;i>0&&t>0&&(this._pinCounts[t]=i)}},n.prototype.pin=function(n){if(!(n instanceof l.WorkItem))throw new Error("Invalid argument type: 'workItem'");n.id>0&&(this._touchCache(n.id,n),this._incrementPinCount(n.id));n.tempId<0&&(this._touchCache(n.tempId,n),this._incrementPinCount(n.tempId))},n.prototype.unpin=function(n){if(!(n instanceof l.WorkItem))throw new Error("Invalid argument type: 'workItem'.");n.id>0&&(this._touchCache(n.id,n),this._decrementPinCount(n.id));n.tempId<0&&(this._touchCache(n.tempId,n),this._decrementPinCount(n.tempId))},n.prototype.isPinned=function(n){return(this._pinCounts[n]||0)>0},n.prototype.createWorkItem=function(n,t,r){try{var u=n.create(t,r);this.onWorkItemChanged(this,{workItem:u,change:c.WorkItemChangeType.Created});return this.setWorkItem(u),u}catch(f){n instanceof l.WorkItemType||i.traceMessage(g.WITCommonConstants.WorkItemTrackingArea,"WorkItemManager",g.WITCommonConstants.WorkItemTypes,"passed object is of type ".concat(typeof n," ").concat(f.message));throw f;}},n.prototype.logWorkItemTypesData=function(n){var r=function(){var n=new WeakSet;return function(t,i){if(typeof i=="object"&&i!==null){if(n.has(i))return;n.add(i)}return i}},t;try{t=JSON.stringify(n,r());i.traceMessage(g.WITCommonConstants.WorkItemTrackingArea,"WorkItemManager",g.WITCommonConstants.WorkItemTypes,"object: ".concat(t))}catch(u){i.traceMessage(g.WITCommonConstants.WorkItemTrackingArea,"WorkItemManager",g.WITCommonConstants.WorkItemTypes,"".concat(u.message))}},n.prototype.beginGetWorkItem=function(n,t,i,r,u,f){var s=this,e,o;this.getManagedWorkItems().length>0&&(this._cache[n]?u&&(u>this._cache[n].workItem.revision||u===-1)?this.invalidateCache([n]):(e=(new Date).getTime()-this._cache[n].timeStamp,this._lastRetrievedWorkitemCIData={CacheHit:"true",TimeInCache:e.toString()}):this._lastRetrievedWorkitemCIData={CacheHit:"false"});o={isDeleted:r,includeExtensionFields:f};this.beginGetWorkItems([n],function(n){typeof t=="function"&&t.call(s,n&&n[0])},i,o)},n.prototype.beginGetWorkItems=function(n,t,i,r){var e=this,h=[],s={},f={},u=0,l=c.PageSizes.SAVE,o;r=r||{};r.pageSize&&Number(r.pageSize)>0&&(l=r.pageSize);var a=function(){!o&&u<=0&&(o=!0,typeof t=="function"&&t.call(e,$.map(n,function(n){return s[n]})))},p=function(n,t){u--;delete f[n];s[n]=t;a()},w=function(){$.each(f,function(n,t){f.hasOwnProperty(n)&&e._cancelPendingGetWorkItem(n,t)});u=0;f={}},y=function(n){o||(o=!0,w(),v.handleError(n,i,e))},b=function(n,t){u--;delete f[n];y(t)},k=function(){o||y(rt())};$.each(n,function(n,t){var i=e.getWorkItem(t);i?(h.push(t),s[t]=i):(u++,f[t]=e._pendWorkItem(t,p,b))});r.cancelable&&r.cancelable.register(k);typeof r.pageOperationCallback=="function"&&h.length>0&&r.pageOperationCallback($.map(h,function(n){return s[n]}),u===0);u?this._downloadPendingWorkItems(r.pageOperationCallback,l,r.isDeleted,r.includeExtensionFields,r.retryOnExceedingJsonLimit,r.excludeFromUserRecentActivity):a()},n.prototype.getWorkItem=function(n){var i,t=this._cache[n];return t&&(t.timeStamp=(new Date).getTime(),i=t.workItem),i},n.prototype.bind=function(n){if(!(n instanceof l.WorkItem))throw new Error("Invalid argument type: 'workItem'.");n.attachWorkItemChanged(this._workItemChangedDelegate)},n.prototype.unbind=function(n){if(!(n instanceof l.WorkItem))throw new Error("Invalid argument type: 'workItem'.");n.detachWorkItemChanged(this._workItemChangedDelegate)},n.prototype.setWorkItem=function(n){var t;if(!(n instanceof l.WorkItem))throw new Error("Invalid argument type: 'workItem'.");this._setManager(n);t={workItem:n,timeStamp:(new Date).getTime()};n.id>0&&(this._cache[n.id]=t);n.tempId<0&&(this._cache[n.tempId]=t)},n.prototype.removeWorkItem=function(n){if(!(n instanceof l.WorkItem))throw new Error("Invalid argument type: 'workItem'.");n.id>0&&(delete this._cache[n.id],delete this._pinCounts[n.id]);n.tempId<0&&(delete this._cache[n.tempId],delete this._pinCounts[n.tempId]);this._clearManager(n)},n.prototype.removeWorkItems=function(n){var t=this;n.forEach(function(n){var i=t.getWorkItem(n);i&&t.removeWorkItem(i)})},n.prototype.getManagedWorkItems=function(){var r=[],n=this._cache,t;for(var i in n)if(n.hasOwnProperty(i)){if(t=n[i].workItem,Number(i)<0&&t.id!==0)continue;r.push(t)}return r},n.prototype.getUnmanagedWorkItems=function(){var r=[],n=this._cache;for(var t in n)if(n.hasOwnProperty(t)){if(Number(t)>=0)continue;var i=n[t].workItem,u=i.id,f=i.tempId;u>0&&f<0&&r.push(i)}return r},n.prototype.getDirtyWorkItems=function(){for(var i=[],t=this.getManagedWorkItems(),n=0,r=t.length;n<r;n++)t[n].isDirty()&&i.push(t[n]);return i},n.prototype.beginSaveDirtyWorkItems=function(n,t){return this.store.beginSaveWorkItemsBatch(this.getDirtyWorkItems(),n,t)},n.prototype.onWorkItemChanged=function(n,t){var i,r;t.change===c.WorkItemChangeType.PreSave&&(i=t.workItem,i&&i.isDirty()&&(this._populateWorkItemClassificationNodes(i),this._updateClassificationMruThrottledDelegate(),this._updateTagsMru(i)));t.change===c.WorkItemChangeType.Saved&&this.setWorkItem(t.workItem);this._linkManager.workItemsChanged(t);this._events.invokeHandlers("work-item-changed",this,t);(t.change===c.WorkItemChangeType.Opened||t.change===c.WorkItemChangeType.Refresh||t.change===c.WorkItemChangeType.SaveCompleted||t.change===c.WorkItemChangeType.Deleted)&&(r=f.getLWPService("IVssContributionEventService"),r&&r.fireEvent("workitem-activity-updated"))},n.prototype.attachWorkItemChanged=function(n){this._events.subscribe("work-item-changed",n)},n.prototype.detachWorkItemChanged=function(n){this._events.unsubscribe("work-item-changed",n)},n.prototype.isDirty=function(n){for(var i=this.getManagedWorkItems(),t=0,r=i.length;t<r;t++)if(i[t].isDirty(n))return!0;return!1},n.prototype.isCommentDirty=function(){for(var t=this.getManagedWorkItems(),n=0,i=t.length;n<i;n++)if(t[n].getIsCommentDirty()&&!t[n].isDirty())return!0;return!1},n.prototype._populateWorkItemClassificationNodes=function(n){var i=n.getUpdateData(),r=i&&i.payload&&i.payload.fields;if(r){var u=this.store.getFieldDefinition(g.CoreFieldRefNames.AreaId),f=this.store.getFieldDefinition(g.CoreFieldRefNames.IterationId),t=n.project.guid,e=r[u.id],o=r[f.id];u&&e&&(this._areaIdsMap||(this._areaIdsMap={}),this._areaIdsMap[t]||(this._areaIdsMap[t]=[]),this._areaIdsMap[t].push(e));f&&o&&(this._iterationIdsMap||(this._iterationIdsMap={}),this._iterationIdsMap[t]||(this._iterationIdsMap[t]=[]),this._iterationIdsMap[t].push(o))}},n.prototype._updateClassificationMru=function(){var f=h.ClassificationFieldsMruStore.getDefaultFluxContext(),t,r,i,u,n;if(this._areaIdsMap){for(t=0,r=Object.keys(this._areaIdsMap);t<r.length;t++)n=r[t],this._areaIdsMap[n]&&this._areaIdsMap[n].length>0&&f.actionsCreator.addToAreaPathMru(n,this._areaIdsMap[n]);this._areaIdsMap=null}if(this._iterationIdsMap){for(i=0,u=Object.keys(this._iterationIdsMap);i<u.length;i++)n=u[i],this._iterationIdsMap[n]&&this._iterationIdsMap[n].length>0&&f.actionsCreator.addToIterationPathMru(n,this._iterationIdsMap[n]);this._iterationIdsMap=null}},n.prototype._updateTagsMru=function(n){a.TagUtils.updateTagsMru(n)},n.prototype._setManager=function(n){var t=n.relatedData[c.RelatedDataKeys.WORKITEM_MANAGER_KEY];t!==this&&(t&&t.unbind(n),n.relatedData[c.RelatedDataKeys.WORKITEM_MANAGER_KEY]=this,this.bind(n))},n.prototype._clearManager=function(n){var t=n.relatedData[c.RelatedDataKeys.WORKITEM_MANAGER_KEY];t===this&&(n.relatedData[c.RelatedDataKeys.WORKITEM_MANAGER_KEY]=null,this.unbind(n))},n.prototype._touchCache=function(n,t){var i=this._cache[n];i&&i.workItem===t&&(i.timeStamp=(new Date).getTime())},n.prototype._decrementPinCount=function(n){var t=this._pinCounts[n]||0;t--;t<=0?delete this._pinCounts[n]:this._pinCounts[n]=t},n.prototype._incrementPinCount=function(n){var t=this._pinCounts[n]||0;t++;this._pinCounts[n]=t},n.prototype._pendWorkItem=function(n,t,i){var r=this,u=this._pendingWorkitems[n],f=function(n,i){if(delete r._pendingWorkitems[n],!r.getWorkItem(n)){r.setWorkItem(i);r.onWorkItemChanged(r,{workItem:i,change:c.WorkItemChangeType.Opened})}t.call(r,n,i)},e=function(n,t){delete r._pendingWorkitems[n];i.call(r,n,t)};return u?u.cbQueue.register(f,e):(u={id:n,cbQueue:v.queueCallbacks(this,f,e)},this._pendingWorkitems[n]=u,u.cookie)},n.prototype._cancelPendingGetWorkItem=function(n,t){var i=this._pendingWorkitems[n];i&&(i.cbQueue.unregister(t),i.cbQueue.count()===0&&delete this._pendingWorkitems[n])},n.prototype._downloadPendingWorkItems=function(t,i,r,u,f,e){var s=this,o=[],h;this._downloading||($.each(this._pendingWorkitems,function(n,t){if(s._pendingWorkitems.hasOwnProperty(n)&&(o.push(t),o.length>i))return!1}),o.length&&(this._downloading=!0,h=this,this.store.beginGetWorkItems($.map(o,function(n){return n.id}),function(n){var c={},l;try{$.each(n,function(n,t){c[t.id]=t});$.each(o,function(n,t){t.cbQueue.finish(t.id,c[t.id])});t&&typeof t=="function"&&(l=Object.keys(h._pendingWorkitems).length,t(n,l===0))}finally{s._downloading=!1;s._downloadPendingWorkItems(t,i,r,u,f,e)}},function(h){try{f===!0&&i>=2*n.MINIMUM_PAGE_SIZE&&h.type===c.Exceptions.InvalidOperationException?i/=2:$.each(o,function(n,t){t.cbQueue.error(t.id,h)})}finally{s._downloading=!1;s._downloadPendingWorkItems(t,i,r,u,f,e)}},r,u,e)))},n.cacheCleanupTimeout=6e5,n.MINIMUM_PAGE_SIZE=10,n}();t.WorkItemManager=nt;nt._initialize()});

define("VSS/Controls/Panels",["require","exports","VSS/Ajax","VSS/Controls","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Controls/StatusIndicator","VSS/Utils/Core","VSS/Utils/UI","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h){var a,v;Object.defineProperty(t,"__esModule",{value:!0});t.AjaxPanel=t.AjaxPanelO=t.CollapsiblePanel=void 0;var c=s.domElem,y=h.getErrorMessage,l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({collapsed:!0,iconCss:"icon",iconCollapseCss:"bowtie-icon bowtie-toggle-tree-collapsed",iconExpandCss:"bowtie-icon bowtie-toggle-tree-expanded"},t))},t.prototype._swapDefaultToggleIconForCustom=function(n){this._$toggleIcon.remove();this._$toggleIcon=n;this._header.addClass(t._defaultToggleIconOverrideClass)},t.prototype._createControl=function(){var t=this,n=this._options;if(this._isDisabled=!1,n.hoverCss)this.getElement().on("mouseenter",function(){$(this).addClass(n.hoverCss)}).on("mouseleave",function(){$(this).removeClass(n.hoverCss)});this._header=$(c("div","tfs-collapsible-header"));this._options.headerNotFocusable?this._header.attr("role","presentation"):this._header.attr({tabIndex:"0",role:"button","aria-expanded":String(this.isExpanded())});n.headerCss&&this._header.addClass(n.headerCss);this._header.on("click.CollapsiblePanel",function(){return t.toggleExpandedState()});this._header.on("keydown",function(n){if(n.target===n.currentTarget&&(n.keyCode===s.KeyCode.ENTER||n.keyCode===s.KeyCode.SPACE)&&!s.KeyUtils.isModifierKey(n))return t.toggleExpandedState()});this._header.on("mouseenter focus",function(n){return n.preventDefault(),t._header.addClass("focus"),!1});this._header.on("mouseleave blur",function(n){return n.preventDefault(),t._header.removeClass("focus"),!1});return this._$toggleIcon=$(c("span","tfs-collapsible-collapse")).attr("aria-hidden","true").addClass(n.iconCss).addClass(n.collapsed?n.iconCollapseCss:n.iconExpandCss),n.collapseCss&&this._$toggleIcon.addClass(n.collapseCss),this._header.append(this._$toggleIcon),this.getElement().append(this._header),this._content=$(c("div","tfs-collapsible-content")),n.contentCss&&this._content.addClass(n.contentCss),n.collapsed&&this._content.hide(),this.getElement().append(this._content),this.getElement()},t.prototype._createIn=function(t){n.prototype._createIn.call(this,t);this._createControl()},t.prototype._enhance=function(n){if(this._options.collapsed=n.hasClass("collapsed"),this._createElement(),this._createControl(),n.after(this.getElement()),this.appendContent(n),this._options.headerText)this.appendHeaderText(this._options.headerText);else if(this._options.headerContent)this.appendHeader(this._options.headerContent),this._options.customToggleIcon&&this._swapDefaultToggleIconForCustom(this._options.customToggleIcon);else{var t=n.attr("title");t&&(n.hasClass("header")&&(n.removeClass("header"),this._header.addClass("header")),this.appendHeader(t))}},t.prototype.replaceHeaderTextIfPresent=function(n){return $("span.tfs-collapsible-text",this._header).text(n)},t.prototype.appendHeaderText=function(n){this._header.attr("title",n);var t=$("<span/>").text(n).addClass("tfs-collapsible-text");return(this._options.headingLevel===undefined||this._options.headingLevel>0)&&t.attr({role:"heading","aria-level":this._options.headingLevel?String(this._options.headingLevel):"2"}),this.appendHeader(t)},t.prototype.appendHeader=function(n){return this._header.append(n),this},t.prototype.prependHeader=function(n){return this._header.prepend(n),this},t.prototype.appendContent=function(n){var i=this._options,t;return typeof n=="function"?i.collapsed?(this._dynamicContents||(this._dynamicContents=[]),this._dynamicContents.push(n)):t=n.call(this):t=n,t&&typeof t!="function"&&(this._content.append(t),this.getElement().removeClass("collapsed")),this},t.prototype.isExpanded=function(){return this._options.collapsed?!1:!0},t.prototype.expand=function(){this.isExpanded()||this.toggleExpandedState()},t.prototype.collapse=function(){this.isExpanded()&&this.toggleExpandedState()},t.prototype.toggleExpandedState=function(){var n=this._options,r=this._content,o=this._dynamicContents,u,i,f,e;if(this._isDisabled)return!1;if(n.collapsed=!n.collapsed,u=this._$toggleIcon,u.removeClass(n.iconCollapseCss+" "+n.iconExpandCss),u.addClass(n.collapsed?n.iconCollapseCss:n.iconExpandCss),this._options.headerNotFocusable||this._header.attr("aria-expanded",String(!n.collapsed)),n.collapsed)r.hide(),n.expandCss&&this.getElement().removeClass(n.expandCss),this._fire(t.EVENT_CONTENT_COLLAPSED);else{if(o){for(i=0,f=o;i<f.length;i++)e=f[i],typeof e=="function"&&r.append(e.apply(undefined));this._dynamicContents=null}r.show();n.expandCss&&this.getElement().addClass(n.expandCss);this._fire(t.EVENT_CONTENT_EXPANDED)}if(this._options.onToggleCallback&&typeof this._options.onToggleCallback=="function")this._options.onToggleCallback(this.isExpanded());return!1},t.prototype.setDisabled=function(n){this._isDisabled!==n&&(n?(this._header.addClass("disabled"),this._$toggleIcon.hide(),this._header.removeAttr("tabindex")):(this._header.removeClass("disabled"),this._$toggleIcon.show(),this._header.attr("tabindex","0")),this._isDisabled=n)},t.prototype.isCollapsiblePanelDisabled=function(){return this._isDisabled},t.EVENT_CONTENT_EXPANDED="collapsible-panel-expanded",t.EVENT_CONTENT_COLLAPSED="collapsible-panel-collapsed",t.enhancementTypeName="tfs.collapsiblepanel",t._defaultToggleIconOverrideClass="custom-toggle-icon",t}(r.Control);t.CollapsiblePanel=l;r.Enhancement.registerJQueryWidget(l,"collapsible");r.Enhancement.registerEnhancement(l,".tfs-collapsible");a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"ajax-panel",replaceContent:!0,cache:!0},t))},t.prototype.initialize=function(){var t=this._options.url;n.prototype.initialize.call(this);t&&this.beginLoad(t,this._options.urlParams,this._options.success,this._options.error)},t.prototype._dispose=function(){this._cancelPendingLoad();n.prototype._dispose.call(this)},t.prototype.beginLoad=function(n,t,s,h){var l=this,c,a;u.logTracePoint("AjaxPanel.beginLoad.start");this._cancelPendingLoad();c=new o.Cancelable(this);this._cancelable=c;this.getElement().empty();this._options.showStatusIndicator!==!1&&(a=r.BaseControl.createIn(e.StatusIndicator,this.getElement(),{center:!0,imageClass:"big-status-progress",message:f.Loading}),a.start());this._element.attr("aria-busy","true");i.issueRequest(n,{type:"GET",data:t,dataType:"html",traditional:!0,cache:this._options.cache}).then(c.wrap(function(n){l.onLoadCompleted(n);typeof s=="function"&&s.call(self,n)}),c.wrap(function(n){var t;typeof h=="function"&&(t=h.call(self,n)===!0);l.onLoadError(n,t)}))},t.prototype.onLoadCompleted=function(n){this.getElement()&&this._options.replaceContent&&(this.getElement().empty(),this.getElement().html(n),r.Enhancement.ensureEnhancements(this.getElement()));this._element.removeAttr("aria-busy");u.logTracePoint("AjaxPanel.beginLoad.complete")},t.prototype.onLoadError=function(n,t){t||this.showError(n);this._element.removeAttr("aria-busy");u.logTracePoint("AjaxPanel.beginLoad.complete")},t.prototype.showError=function(n){this.getElement().empty();$(c("div","error")).appendTo(this.getElement()).text(y(n))},t.prototype._cancelPendingLoad=function(){this._cancelable&&(this._cancelable.cancel(),this._cancelable=null)},t.enhancementTypeName="tfs.ajaxPanel",t}(r.Control);t.AjaxPanelO=a;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(a);t.AjaxPanel=v});

define("VSS/Controls/Dialogs",["require","exports","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Navigation/HubsService","VSS/Controls/Panels","VSS/Controls/PopupContent","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Accessibility","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","q","jQueryUI/button","jQueryUI/dialog","jQueryUI/tabbable","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function rt(n,t){t&&a.BrowserCheckUtils.isEdge()&&$.each(t,function(t,i){var r=i.click;r&&(i.click=function(t){t&&!$(t.currentTarget).is(":disabled")&&r.apply(n[0],arguments)})})}function ut(n,t){var r=t||"",i;return i=typeof n=="string"?n.split(" "):n,r.split(" ").concat(i).filter(function(n,t,i){return i.indexOf(n)===t}).join(" ")}function st(n,t){return w.show(n,t)}function ht(n,t){return b.showMessageDialog(n,t)}function ct(n,t){return ht(n,{title:t||s.UnsavedChangesMessageTitle,noDefaultButton:!0,buttons:[{id:"leave",text:s.UnsavedChangesLeaveButton,reject:!1},{id:"stay",text:s.UnsavedChangesStayButton,reject:!0},]})}var p,it,k,w,d,g,nt,ft,et,tt,b,ot;Object.defineProperty(t,"__esModule",{value:!0});t.showConfirmNavigationDialog=t.showMessageDialog=t.show=t.CopyContentDialog=t.MessageDialog=t.MessageDialogO=t.ConfirmationDialog=t.ConfirmationDialogO=t.ModalDialog=t.ModalDialogO=t.Dialog=t.DialogO=t.preventClickingDisabledButtons=void 0;p=c.delegate;it=a.domElem,function(){var n=[".ms-Layer",".bolt-portal"];$.widget("ui.dialog",$.ui.dialog,{_allowInteraction:function(t){var i,r,u;if(this._super(t)||a.BrowserCheckUtils.isFirefox()&&t.type==="focusin"&&t.target==document)return!0;for(i=0,r=n;i<r.length;i++)if(u=r[i],$(t.target).closest(u).length)return!0}})}();t.preventClickingDisabledButtons=rt;k=function(n){function t(t){var i=n.call(this,t)||this;return i._closedByNavigation=!1,i._resizing=!1,i._onWindowResizeDelegate=p(i,i._onWindowResize),i}return __extends(t,n),t.beginExecuteDialogAction=function(n){w._dialogActionInProgress||(w._dialogActionInProgress=!0,n(function(){w._dialogActionInProgress=!1}))},t.create=function(n,t){var o=t&&t.content||$("<div />"),r,u,f,e;return t&&t.contentText&&o.text(t.contentText),r=i.Enhancement.enhance(n,o,t),u=this._getNextDialogZIndex(),r._element.parent().css("z-index",u),r._options.modal&&(f=r._element.parent().next("div.ui-widget-overlay").css("z-index",u-1),(a.BrowserCheckUtils.isIE()||a.BrowserCheckUtils.isEdge())&&(e=f.clone().insertAfter(f),f.css("width","50%"),e.css({"z-index":u-1,width:"50%",left:"50%"}),r._secondOverlay=e)),r._element.parent().children("div.ui-icon-gripsmall-diagonal-se").addClass("ui-icon-grip-diagonal-se"),r},t._getNextDialogZIndex=function(){var n,i,t=0;return $("div.ui-dialog").each(function(){n=Number($(this).css("z-index"));!isNaN(n)&&n>t&&(t=n)}),$("div.ms-Modal").closest("div.ms-Layer").each(function(){n=Number($(this).css("z-index"));!isNaN(n)&&n>t&&(t=n)}),$("div.bolt-portal-host").each(function(n,i){(i.querySelector("div.work-item-form-dialog")||i.querySelector("div.run-with-options-dialog-callout-element"))&&(t=1e6)}),t<10001?i=10002:(i=t+2,i%2!=0&&i++),i},t.show=function(n,t){return this.create(n,$.extend({autoOpen:!0},t))},t.prototype.initializeOptions=function(t){var i,r,u,f;this._options=this._options||{};n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"dialog",widthPct:.8,heightPct:.8,modal:!0,draggable:!0,resizable:!0,autoOpen:!1,dynamicSize:!0,disposeOnClose:!0,closeText:s.CloseButtonLabelText},t));i=this._options;r=$(window);i.height==="auto"&&(i.height=null);i.minWidth=Math.max(240,parseInt(i.minWidth,10)||0);i.minHeight=Math.max(192,parseInt(i.minHeight,10)||0);this._specifiedMaxWidth=parseInt(i.maxWidth,10);this._specifiedMaxHeight=parseInt(i.maxHeight,10);this._setMaxSize();this._ensureCtaButton();i.dynamicSize?(i.width=r.width()*i.widthPct,i.height=r.height()*i.heightPct):!i.useLegacyStyle&&i.height&&(u=66,i.subtitle&&(u+=22),f=typeof i.height=="number"?i.height:parseInt(i.height,10),f+=u,i.height=f);i.height&&!isNaN(i.height)&&(i.height=Math.min(i.height,r.height()));i.width&&!isNaN(i.width)&&(i.width=Math.min(i.width,r.width()));i.hideCloseButton&&(i.dialogClass=ut("no-close",i.dialogClass));this._options.useLegacyStyle&&(i.dialogClass=ut("ui-dialog-legacy",i.dialogClass))},t.prototype.initialize=function(){var t=this,s,l,c,h;n.prototype.initialize.call(this);var e=this,v=$(window),i=$.extend({},this._options);i.dialogClass&&(i.classes={"ui-dialog":i.dialogClass},delete i.dialogClass);i.title=this.getTitle();i.close=function(n){t._options.close&&t._options.close(__assign(__assign({},n),{closedByNavigation:t._closedByNavigation}));t._removeSecondOverlay();t.onClose(n)};i.beforeClose=function(n){if(t._options.beforeClose)return t._options.beforeClose(__assign(__assign({},n),{closedByNavigation:t._closedByNavigation}))};i.open=function(n){e._options.open&&e._options.open.call(this,n);e.onOpen(n)};this._bind("dialogdragstart dialogdragstop",function(){u.getService().fire("dialog-move",t);t._onDialogMove()});this._options.attachResize&&this._bind("dialogresizestop",this.onDialogResize.bind(this));this._options.resizable&&(this._bind("dialogresize",this._onDialogResizing.bind(this)),this._bind("dialogresizestart",this._onDialogResizeStart.bind(this)),this._bind("dialogresizestop",this._onDialogResizeStop.bind(this)));i.dynamicSize&&(u.getService().attachEvent("window-resize",this._onWindowResizeDelegate),this._bind("dialogclose",function(){var n=u.getService();n.fire("dialog-close",e);n.detachEvent("window-resize",e._onWindowResizeDelegate)}));i.url||r.logTracePoint("Dialog.initialize.complete");rt(this.getElement(),i.buttons);this._options.contentMargin===!1&&this.getElement().addClass("no-margin");this.getElement().dialog(i);this._options.useLegacyStyle||(s=this.getElement().parent(),l=s.find(".ui-dialog-titlebar"),l.addClass("bowtie").append($("<div />").addClass("ui-dialog-subtitle")),c=$("span.ui-dialog-title",l),c.attr({role:"heading","aria-level":1}),a.tooltipIfOverflow(c[0],{titleTarget:c[0],titleText:this.getTitle()}),s.find(".ui-dialog-buttonpane").addClass("bowtie"),h=s.find("button.ui-dialog-titlebar-close"),this._closeTooltip=o.RichContentTooltip.add(this._options.closeText,h),h.removeAttr("title"),h.attr("aria-label",this._options.closeText),h.find(".ui-button-icon").addClass("bowtie-icon bowtie-navigate-close"),(this._options.useBowtieStyle||this._options.bowtieVersion>0)&&s.addClass("bowtie-style"));this.setSubtitle(this.getSubtitle());this.getElement().keydown(function(n){var i,r,t;if(n.keyCode===$.ui.keyCode.ENTER){if(t=$(n.target),t.attr("role")==="combobox"||t.attr("role")==="radio")return!0;if((!n.shiftKey&&t.is("input[type='text']")||t.is("textarea")&&n.ctrlKey)&&e._options.defaultButton&&e._options.buttons)return i=e._options.buttons[e._options.defaultButton],i&&(r=$("#"+i.id).button("option"),r.disabled||i.click.apply(this,[n])),!1;if(!t.is("textarea")&&!t.is("a")&&!t.is("button")&&!t.hasClass("propagate-keydown-event"))return!1}});this._options.resizable&&this._addResizeKeydownHandler();setTimeout(function(){t._autoSizeAndPosition();t.onInitialize()},0);w._dialogActionInProgress=!1;this._onHubNavigateDelegate=function(){t._closedByNavigation=!0;t.close()};u.getService().attachEvent(f.HubEventNames.PreXHRNavigate,this._onHubNavigateDelegate);a.attachResize(this.getElement(),p(this,this._onWindowResize))},t.prototype._addResizeKeydownHandler=function(){var i=this,n=this.getElement(),t=n.siblings(".ui-icon-gripsmall-diagonal-se");if(t.length>0){t.attr({tabindex:0,role:"button","aria-label":s.DialogResizeLabel});this._resizeIconTooltip=o.RichContentTooltip.add(s.DialogResizeLabel,t);t.removeAttr("title");var r=n.dialog("option","minWidth")||150,u=n.dialog("option","minHeight")||150,f=n.dialog("option","maxWidth")||Number.MAX_VALUE,e=n.dialog("option","maxHeight")||Number.MAX_VALUE;t.keydown(function(n){switch(n.keyCode){case a.KeyCode.LEFT:i._resize("width",!1,r,Math.max);h.announce(s.DialogSizeDecreased);break;case a.KeyCode.RIGHT:i._resize("width",!0,f,Math.min);h.announce(s.DialogSizeIncreased);break;case a.KeyCode.UP:i._resize("height",!1,u,Math.max);h.announce(s.DialogSizeDecreased);break;case a.KeyCode.DOWN:i._resize("height",!0,e,Math.min);h.announce(s.DialogSizeIncreased)}})}},t.prototype._resize=function(n,i,r,u){var f=this.getElement(),e=f.dialog("option",n),o;e==="auto"&&(e=f.parent().height());o=u(e+t.RESIZE_STEP*(i?1:-1),r);f.dialog("option",n,o);f.trigger("dialogresizestop",{size:{width:f.dialog("option","width"),height:f.dialog("option","height")}})},t.prototype._autoSizeAndPosition=function(){var n=this.getElement(),t=this._options;n&&n.length>0&&$.contains(document.body,n[0])&&(t.preventAutoResize||(t.position&&n.dialog("option","position",t.position),t.height?n.dialog("option","height",t.height):n.dialog("option","height","auto"),this._setMaxHeight()),n.show())},t.prototype._ensureCtaButton=function(){var n=this._options,r,u,t,i;n.noAutoCta!==!0&&(r=/(^cta$)|(^cta\ )|(\ cta\ )|( cta$)/,u=/(^warning$)|(^warning\ )|(\ warning\ )|( warning$)/,Array.isArray(n.buttons)&&n.buttons.length>0&&!n.buttons.some(function(n){return r.test(n.class)})&&!n.buttons.some(function(n){return u.test(n.class)})?(i=n.buttons[0].class||"",n.buttons[0].class=i+" cta"):n.buttons&&typeof n.buttons=="object"&&(t=Object.keys(n.buttons),t.length>0&&(t.some(function(t){return r.test(n.buttons[t].class)})||t.some(function(t){return u.test(n.buttons[t].class)})||(i=n.buttons[t[0]].class||"",n.buttons[t[0]].class=i+" cta"))))},t.prototype.onLoadCompleted=function(t){n.prototype.onLoadCompleted.call(this,t);this.setInitialFocus();r.logTracePoint("Dialog.initialize.complete")},t.prototype.setInitialFocus=function(){var n=this._options.initialFocusSelector||":visible:tabbable";this.getElement().find(n).first().focus()},t.prototype.setFormFocusDelayed=function(n){c.delay(this,300,function(){n.eq(0).focus().select()})},t.prototype.setTitle=function(n){this._title=n;this._updateTitle()},t.prototype.getTitle=function(){return this._title||this._options.title||this.getElement().attr("title")||""},t.prototype.setSubtitle=function(n){this._subtitle=n;this._updateSubtitle()},t.prototype.getSubtitle=function(){var n=this._subtitle;return(n===null||n===undefined)&&(n=this._options.subtitle),n||""},t.prototype.centerDialog=function(){this.getElement().dialog("option","position",{my:"center",at:"center",of:window});this._setMaxHeight()},t.prototype.getDialogResult=function(){return this._dialogResult},t.prototype.setDialogResult=function(n){this._dialogResult=n},t.prototype.show=function(){this.getElement().dialog("open")},t.prototype.onOpen=function(){if(!this._options||this._options.hasProgressElement!==!1){var n=$("<div />").addClass("ui-dialog-titlebar-progress-container").appendTo(this.getElement().parent().find(".ui-dialog-titlebar"));this._progressElement=$("<div />").addClass("ui-dialog-titlebar-progress-element").appendTo(n);v.globalProgressIndicator.registerProgressElement(this._progressElement)}u.getService().fire("dialog-open",this)},t.prototype.onClose=function(){u.getService().fire("dialog-close",this);this._progressElement&&v.globalProgressIndicator.unRegisterProgressElement(this._progressElement);this._removeSecondOverlay();this._options.disposeOnClose&&this.dispose();var n=$(".ui-dialog").slice(-1);n.length&&!this._options.noFocusOnClose&&n.focus()},t.prototype.onInitialize=function(){typeof this._options.initialize=="function"&&this._options.initialize.call(this)},t.prototype.close=function(){this.getElement()&&this.getElement().dialog("close")},t.prototype.dispose=function(){this._removeSecondOverlay();u.getService().detachEvent(f.HubEventNames.PreXHRNavigate,this._onHubNavigateDelegate);a.detachResize(this.getElement());this._closeTooltip&&(this._closeTooltip.dispose(),this._closeTooltip=null);this._resizeIconTooltip&&(this._resizeIconTooltip.dispose(),this._resizeIconTooltip=null);n.prototype.dispose.call(this)},t.prototype._removeSecondOverlay=function(){this._secondOverlay&&(this._secondOverlay.remove(),this._secondOverlay=null)},t.prototype._updateSubtitle=function(){if(this._initialized&&this.getElement()){var n=this.getElement().parent().find(".ui-dialog-subtitle"),t=this.getSubtitle()||"";n.text(t);a.tooltipIfOverflow(n[0],{titleTarget:n[0],titleText:t});n.toggle(t.length>0)}},t.prototype.onDialogResize=function(){},t.prototype._updateTitle=function(){if(this._initialized&&this.getElement()){var t=this.getElement().dialog("option","title",this.getTitle()),n=$("span.ui-dialog-title",t.parent());a.tooltipIfOverflow(n[0],{titleTarget:n[0],titleText:this.getTitle()})}},t.prototype._onWindowResize=function(){if(!this._resizing){var t=$(window),n=this._options;n.dynamicSize&&(this._setMaxSize(),this.getElement().dialog("option",{width:t.width()*n.widthPct,height:t.height()*n.heightPct,maxHeight:parseInt(this._options.maxHeight,10),maxWidth:parseInt(this._options.maxWidth,10)}));this.getElement().dialog("option","position",{my:"center",at:"center",of:window})}},t.prototype._onDialogResizing=function(n,t){var u=$(window),i,r;t&&t.position&&t.size&&(i=Math.min(t.size.height,u.height()-t.position.top),r=Math.min(t.size.width,u.width()-t.position.left),(i!==t.size.height||r!==t.size.width)&&this.getElement().dialog("option",{width:r,height:i}))},t.prototype._onDialogMove=function(){this._options.preventAutoResize||(this._setMaxHeight(),this._ensureDialogContentHeight());this._hideCloseButtonTooltip();this._hideResizeIconTooltip()},t.prototype._onDialogResizeStart=function(){this._resizing=!0;this._hideCloseButtonTooltip();this._hideResizeIconTooltip()},t.prototype._onDialogResizeStop=function(){this._resizing=!1},t.prototype._ensureDialogContentHeight=function(){var n=this.getElement().parent().css("height");n!=="auto"?this.getElement().css("height",this.getElement().outerHeight()):this.getElement().css("height","auto")},t.prototype._setMaxHeight=function(){var n=this.getElement().prev().outerHeight(!0)+this.getElement().next().outerHeight(!0);this.getElement().css("maxHeight",window.innerHeight-this.getElement().parent().position().top-n)},t.prototype._setMaxSize=function(){this._options.maxWidth=Math.min(window.innerWidth,this._specifiedMaxWidth||Infinity);this._options.maxHeight=Math.min(window.innerHeight,this._specifiedMaxHeight||Infinity)},t.prototype._hideCloseButtonTooltip=function(){this._closeTooltip&&this._closeTooltip.hide()},t.prototype._hideResizeIconTooltip=function(){this._resizeIconTooltip&&this._resizeIconTooltip.hide()},t.enhancementTypeName="tfs.dialog",t._dialogActionInProgress=!1,t.RESIZE_STEP=25,t}(e.AjaxPanelO);t.DialogO=k;w=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(k);t.Dialog=w;d=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"dialog modal-dialog",modal:!0,dynamicSize:!1,width:500,height:"auto",defaultButton:"ok",buttons:{ok:{id:"ok",text:t&&t.okText||s.ModalDialogOkButton,click:p(this,this.onOkClick),"class":"cta",disabled:"disabled"},cancel:{id:"cancel",text:t&&t.cancelText||s.ModalDialogCancelButton,click:p(this,this.onCancelClick)}}},t))},t.prototype.initialize=function(){this._bind(g.EVENT_BUTTON_STATUS_CHANGE,p(this,this.onButtonStatusChange));this._bind("resultReady",p(this,this.onResultReady));n.prototype.initialize.call(this)},t.prototype.updateOkButton=function(n){this.getElement()&&this.getElement().trigger(g.EVENT_BUTTON_STATUS_CHANGE,{enabled:n===!0})},t.prototype.processResult=function(n){var t=this._options.okCallback;n&&(typeof t=="function"&&(t.call(this,n),r.logTracePoint(this.getTypeName()+".callback-complete")),this.close())},t.prototype.onOkClick=function(){r.logTracePoint(this.getTypeName()+".OkClicked");this.processResult(this.getDialogResult())},t.prototype.onResultReady=function(n,t){this.processResult(t)},t.prototype.onCancelClick=function(){typeof this._options.cancelCallback=="function"&&this._options.cancelCallback();this.close()},t.prototype.onButtonStatusChange=function(n,t){var i=this.getElement().siblings(".ui-dialog-buttonpane").find("#"+(t.button||"ok"));i.button("option","disabled",!t.enabled);this.setAttribute("aria-disabled",t.enabled?"false":"true",i)},t.enhancementTypeName="tfs.modaldialog",t.EVENT_BUTTON_STATUS_CHANGE="buttonStatusChange",t}(k);t.ModalDialogO=d;g=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(d);t.ModalDialog=g;nt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:400,height:200,resizable:!1,cssClass:"confirmation-dialog"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.$errorContainer=$(it("div")).addClass("confirmation-dialog-error").prependTo(this.getElement()).hide();this.updateOkButton(!0)},t.prototype._onSuccess=function(){this._fire("resultReady",!0);var n=this._options.successCallback;typeof n=="function"&&(n.apply(this,arguments),r.logTracePoint(this.getTypeName()+".callback-complete"))},t.prototype._onError=function(n){this.$errorContainer.text(n.message).show()},t.prototype.onOkClick=function(t){this.updateOkButton(!1);n.prototype.onOkClick.call(this,t)},t}(d);t.ConfirmationDialogO=nt;ft=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(nt);t.ConfirmationDialog=ft;et=function(){function n(n){this.button=n}return n.prototype.toString=function(){return"MessageDialogResult: Button: "+(this.button?this.button.id:"?")+" ("+v.ErrorHandler.ignoreRejectedPromiseTag+")"},n}();tt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){var u=this,i=$.extend({width:500,height:"auto",hideCloseButton:!0,coreCssClass:"dialog modal-dialog message-dialog",modal:!0,dynamicSize:!1},t),r;i.buttons instanceof Array&&i.buttons.length>0&&(r={},i.buttons.forEach(function(n){r[n.id]=u.getButtonOptions(n)}),t.noDefaultButton||(i.defaultButton=i.buttons[0].id),this.setDialogResult(i.buttons[i.buttons.length-1]),i.buttons=r);t.escapeButton&&this.setDialogResult(t.escapeButton);t.initialFocusButton&&c.delay(this,100,function(){document.getElementById(t.initialFocusButton.id).focus()});n.prototype.initializeOptions.call(this,i)},t.prototype.initialize=function(){var i,t;n.prototype.initialize.call(this);this._options.requiredTypedConfirmation&&this.initializeTypedConfirmation();for(i in this._options.buttons)t=this._options.buttons[i],t.style&&$("#"+t.id).addClass(t.style)},t.prototype.initializeTypedConfirmation=function(){var u=this,f=this.getElement(),n=$("<input type='text' class='textbox message-dialog-confirm-textbox no-match' />"),t=$(),i,r;for(i in this._options.buttons)this._options.buttons[i].reject||(t=t.add($("#"+this._options.buttons[i].id)));r=function(){l.ignoreCaseComparer(n.val(),u._options.requiredTypedConfirmation)==0?(n.removeClass("no-match").addClass("match"),t.button("option","disabled","")):(n.addClass("no-match").removeClass("match"),t.button("option","disabled","disabled"))};n.on("input keyup",r);f.append($("<div class='message-dialog-confirm'><\/div>").append(n));r(null);c.delay(this,100,function(){n.focus();n.select()})},t.prototype.getPromise=function(){return this._deferred||(this._deferred=y.defer()),this._deferred.promise},t.showMessageDialog=function(n,t){var i,r;return t=t||{},i=$.extend({buttons:[b.buttons.ok,b.buttons.cancel],useBowtieStyle:!0,minWidth:t.width,minHeight:t.height,title:s.Confirm},t),i.content=typeof n=="string"?$("<div />").text(n):n,r=st(b,i),r.getPromise()},t.prototype.onClose=function(t){if(this._deferred){var i=new et(this.getDialogResult());this._options.beforeClose&&this._options.beforeClose(i.button);i.button.reject?this._deferred.reject(i):this._deferred.resolve(i)}return n.prototype.onClose.call(this,t)},t.prototype.getButtonOptions=function(n){var t=this;return $.extend({click:function(){t.setDialogResult(n);t.close()}},n)},t.buttons={ok:{id:"ok",text:s.ModalDialogOkButton,reject:!1},cancel:{id:"cancel",text:s.ModalDialogCancelButton,reject:!0},yes:{id:"yes",text:s.ModalDialogYesButton,reject:!1},no:{id:"no",text:s.ModalDialogNoButton,reject:!0},close:{id:"close",text:s.CloseButtonLabelText,reject:!0}},t}(k);t.MessageDialogO=tt;b=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(tt);t.MessageDialog=b;ot=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:t.width||600,minWidth:400,height:t.height||450,minHeight:200,attachResize:!0,defaultButton:"close",buttons:[{id:"close",text:s.CloseButtonLabelText,click:p(this,this.close)},]},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.setTitle(s.CopyContentDialogTitle);this._decorate()},t.prototype._decorate=function(){var r=this.getElement(),n,i=$("<div/>").text(this._options.dialogLabel||this._getDefaultLabelText()),t;this._options.dialogLabelExtend&&i.append(this._options.dialogLabelExtend);t=$("<div class='copy-dialog-container'/>").append(i).append($("<p/>"));this._options.excludeTextPanel||(n=$("<div/>"),t.append(n),this._options.copyAsHtml?this._initializeRichEditor(n):(this._initializeTextPanel(n),this._options.preventAutoTextSelection||c.delay(this,100,function(){this._$textArea.focus();this._$textArea.select()})),this._bind("dialogresize",function(){n.css("height",t.height()-i.height()-40+"px")}));r.append(t);this._options.excludeTextPanel||n.css("height",t.height()-i.height()-40+"px")},t.prototype._getDefaultLabelText=function(){return a.BrowserCheckUtils.isMacintosh()?s.CopyContentMacintoshHelpText:s.CopyContentPcHelpText},t.prototype._initializeRichEditor=function(n){var t=this;v.using(["VSS/Controls/RichEditor"],function(r){var u=i.BaseControl.createIn(r.RichEditor,n,{noToolbar:!0,height:"100%",pageHtml:t._options.pageHtml,internal:!0});u.ready(function(){u.setValue(t._options.data);u.bindOnCopy(p(t,function(){c.delay(this,0,function(){this.close()})}));c.delay(t,100,function(){u.selectText();u.setEnabled(!1)})})})},t.prototype._initializeTextPanel=function(n){var t="copy-content-textarea";this._options.textAreaCopyClass&&(t=this._options.textAreaCopyClass);this._$textArea=$("<textarea/>").addClass(t).text(this._options.data);this._$textArea.attr("aria-label",s.CopyTextAreaName);this._options.disableEdit&&(this._$textArea.attr("readonly","readonly"),this._$textArea.focus(function(){this._$textArea.select()}));this._$textArea[0].oncopy=p(this,function(){c.delay(this,0,function(){this.close()})});n.append(this._$textArea)},t.enhancementTypeName="CopyContentDialog",t}(d);t.CopyContentDialog=ot;t.show=st;t.showMessageDialog=ht;t.showConfirmNavigationDialog=ct});

define("WorkItemTracking/Scripts/Utils/Attachments",["require","exports","VSS/Controls","VSS/Controls/Dialogs","VSS/VSS","VSS/Utils/UI","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Utils/Core","VSS/Utils/String","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/TFS.WorkItemTracking.WebApi"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function y(n,t){function lt(){return!rt}var ut,w,k,b,p,ft,d,g,ct,et,y,ot,nt,tt,it,rt=!1,st,ht=25e6;if(!n&&!(t&&t.uploadOnly&&typeof t.formActionDelegate=="function"))return!1;p="FileUpload"+i.getId();d="tgt"+p;g="cb"+d;st=t&&t.title?t.title:l.AddAttachmentDialogTitle;et=t&&t.attachmentLabel?t.attachmentLabel:l.AddAttachmentDialogFieldAttachment;y={callback:function(i){var f,r,e;i=i||{};it&&(it.remove(),it=null);tt&&(u.globalProgressIndicator.actionCompleted(tt),tt=null);window[g]=undefined;try{delete window[g]}catch(o){}!rt&&i.success?(r=i.attachments[0],(!t||t.uploadOnly)&&t||(e=c.Attachment.create(n,r.Name,r.Id,ft?ft.val():"",r.Size),n.addLink(e)),k.close(),t&&typeof t.successCallback=="function"&&t.successCallback(!1,r)):(jQuery("#"+p+"_OK").button("option","disabled",!1),rt||i.canceled?rt=!0:(f=i.clientError?i.clientError:i.error.serverError&&i.error.serverError.value&&i.error.serverError.value.Message?i.error.serverError.value.Message:i.error&&i.error.message?new Error(i.error.message):new Error(l.AddAttachmentUnknownError),alert(v(f))))}};k=r.show(r.ModalDialog,{title:st,cssClass:"attachment-dialog",open:function(){b=$("<div><\/div>").addClass("attachment-dialog");$("<label />").text(et).attr("for",p).addClass("label").appendTo(b);ut=$("<form />").attr("method","POST").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data").appendTo(b);w=$("<input />").attr("type","file").attr("id",p).attr("name","attachment").attr("contentEditable","false").addClass("file textbox").appendTo(ut).keydown(function(n){if(n.keyCode===f.KeyCode.ENTER&&f.BrowserCheckUtils.isMsie())return!1});e.setAntiForgeryToken(ut);t&&t.fileType&&w.attr("accept",t.fileType);ot=t&&t.showComments!==undefined?t.showComments:!0;ot&&($("<label />").text(l.AddAttachmentDialogFieldComment).attr("for","comment"+p).addClass("label").appendTo(b),ft=$("<input />").attr("type","text").attr("id","comment"+p).addClass("comment textbox").appendTo(b));$(this).append(b);w.focus()},close:function(){y.callback({success:!1,canceled:!0});t&&t.onClose&&t.onClose()},defaultButton:"OK",buttons:{OK:{text:l.OK,id:p+"_OK",click:function(){var r=w.val();r?(t&&t.validator&&typeof t.validator.validate=="function"?(nt=t.validator.validate($(w).val(),t),nt||y.callback({success:!1,clientError:{message:t.validator.errorString}})):nt=!0,nt&&(it=$("<iframe />",{name:d,id:d}).hide().on("error",function(n){alert(n)}).appendTo(document.body),y.isCallback=!0,window[g]=y,o.delay(this,0,function(){var t;try{if(tt=u.globalProgressIndicator.actionStarted("add-attachment-attempt"+i.getId()),jQuery("#"+p+"_OK").button("option","disabled",!0),t=w[0].files?w[0].files[0]:null,t){var f=n.store.tfsConnection.getHttpClient(a.WorkItemTrackingHttpClient),e=n.getComputedFieldValue(h.CoreField.AreaPath).value,r=void 0;typeof t.slice=="function"&&t.size>ht&&(r=ht);f.beginAttachmentUpload(n.project.guid,t,e,r,lt,t.name).then(function(n){y.callback({success:!0,attachments:[{Name:t.name,Size:t.size,Id:n.id,Url:n.url}]})},function(n){y.callback({success:!1,error:n})})}k.setTitle(ct)}catch(o){y.callback({success:!1,clientError:o})}}))):y.callback({success:!1,clientError:{message:s.format(l.AddAttachmentFileNotFoundError,r)}})}},Cancel:{text:l.Cancel,click:function(){y.callback({success:!1,canceled:!0});k.close()}}},width:t&&t.width?t.width:"30em",height:"auto",dynamicSize:!1,resizable:!1})}Object.defineProperty(t,"__esModule",{value:!0});t.addAttachment=void 0;var v=u.getErrorMessage;t.addAttachment=y});

define("TestManagement/Scripts/Resources/TFS.Resources.TestManagement",["require","exports"],function(require,exports){var e=exports;e.SessionInsightSessionOwnerTitle="Session Owner";e.AddedStep="Added step";e.ResultAnalysisDialogTitle="Update Analysis";e.NoFailedTestMessageText="All tests passed. Only failed tests are shown here.";e.RemoveTestCaseWarningMessage="This will remove selected tests across all configurations from the suite";e.TestResultsToolbarShortcutGroupName="Results toolbar";e.RefreshTestConfigurations="Refresh test configurations";e.AddComment="Add comment";e.AttachmentAddedAgo="Added {0}";e.FailStepResultText="Fail test step";e.AttachmentSizeValueInKB="{0}K";e.MicrophoneNotAvailable="Microphone not available";e.ConfirmParameterDeletionWithoutParamDetailsForTcUsingSP="These steps contain shared parameters. The references to these parameters will be removed. Do you want to delete these steps?";e.ResultGridHeader_Duration="Duration";e.HistoryHeaderText="History";e.ChartsViewTestResultChartKeyboardShortcutText="New test result chart";e.TestHistoryListLoaded="Test history grid loaded with {0} items.";e.TextFilterResultCountMessage="Filtering {0} out of {1} items. {2}";e.TestResultsFilterClearedMessage="Showing {0} of {1} test results.";e.LoadingTestResultDetailsAriaLabel="Loading result details";e.LoadMore="Filter next {0} test results";e.RunTestUsingClientTooltip="Run test using Microsoft Test Manager";e.ResetTestsShortcutText="Reset tests to active";e.RunActiveTests="Run active tests";e.AnnounceSelected="Selected";e.String1TestStepHistoryGridHeader_Attachment="Attachment";e.BulkMarkError="You cannot mark the selected tests.";e.NoDescriptionText="No description found for the Test Case";e.ReproStepCommentHeader="Comments:";e.SelectTestersSendMailText="Send email";e.ResultHistoryHistogramBarTitleText="{0} {1} on {2}, ran for {3}";e.PreviousResultSummaryIconToolTip="Previous test result";e.AssignConfigurationDialogTitle="Assign configurations to test suite - {0}";e.BuildNumber="Build number";e.TestCaseNotFound="Test Case with ID {0} not found";e.ResultOutcomeAndMachineNameInfo="{0} {1} on {2}";e.RequiredFieldErrorMessage="This field is required";e.EnableTestImpactAnalysis="Reduce duration by running only impacted tests: \u003ca href=\u0027javascript:;\u0027\u003eEnable Test Impact Analysis\u003c/a\u003e";e.ConfigLoadBuildPipelinesFailedMessage="Failed to load Build pipelines. Refresh and try again.";e.BuildResultNone="None";e.MoveToPosition="Move to position...";e.AnalyticsTestTrendWidget_LearnMoreLink="https://go.microsoft.com/fwlink/?LinkID=[TODO:1337868]";e.EditTestStepText="Edit test step";e.NoTestResultsMessage="Test results are not yet available.";e.LoadMoreMessage="Filtered {0} of {1} test results.";e.TestResultsPassedNumberHeader="{0}/{1} Passed - {2}";e.ListViewShortcutText="View list";e.NoScreenShotWindowFound="No Active Windows Found for screenshot";e.AccessDeniedTooltip="You don\u0027t have permission to perform operation \u0027{0}\u0027";e.NewTestCaseText="New test case";e.NonSupportedBrowserWebRunnerDataCollectorSelectionText="No data collection possible with your current browser.";e.TeamText="Team";e.TriggeringTestRunText="Triggering test run";e.ManualText="Manual";e.Variable="Variable";e.UpdateAnalysisMenuItem="Update analysis";e.MoveToPositionDialogMessage="Enter a value between 1 and {0}:";e.TestPlanSelectorFilterPlanWaterMarkText="Filter Test Plans";e.RunContainsAutomatedPointsError="You can only run manual test cases using this option. Remove the automated test cases from your selection and try again.";e.WIQLQueryError="{0} , Query Editor will reset to default query.";e.SessionInsightQueryDialogInfoText="Only work items from Epic, Scenario, Feature, Requirement and/or Test case categories will be considered.";e.FilterNoPriority="No priorities available";e.TestResultHistoryFailingSinceText="Failing since: ";e.RunsSummaryStatusWithImpactedRunsOnly="{0} Run(s) Completed ( {1} Passed, {2} Failed, {3} Not impacted )";e.TestStepAttachmentTitle="Test step attachments";e.UnitInMilliSeconds="ms";e.OutcomeFilterText="Outcome Filter";e.SessionInsightSessionDurationTitle="Session Duration";e.BugsCreated="Bugs created:";e.NoAttachmentsMessage="No attachments available for selected item";e.RunSummaryRanForText="Ran for";e.TestResults_CreateBugTitle_WithoutBuild="{0} {1}";e.Expand="Expand";e.ResultsWithContinuationTokenNotFound="results not found with continuation token";e.UpgradeToModernBrowser="Please upgrade to a newer version of your browser to view Code Coverage data";e.CommentsWatermark="Enter your comments here...";e.RunWithOptionDialogWebRunnerLabel="Manual tests using Web Browser based runner";e.AssignConfigurationsToSuiteToolTip="Select the configurations that you want to assign to all the tests";e.XTRelaunchDialogTitle="Relaunch web runner window";e.NewTestPlanPlaceholder="Enter a plan name";e.FilterNoOwner="No owners available";e.FilterNoStage="No stages available";e.TestOutcome_Aborted="Aborted";e.PauseTestText="Pause test";e.MoveStepUp="Move current step up";e.TabNotReachable="Unable to communicate with the selected Tab";e.Available="Available";e.AssignTesterTitle="Assign tester";e.FilterShortcutText="Filter";e.AnnounceFetchedResults="Fetched {0} results.";e.AlertTestResultAssociatedWithTheBugNotFound="The test result associated with this work item no longer exists";e.BuildConfigurationText="Build configuration";e.TestOutcome_Timeout="Timeout";e.RenameSharedParamDataSet="Rename shared parameter";e.DeleteStepConfirmation="Do you want to delete the test step from the test?";e.FailTestStepKeyboardShortcutText="Fail test step";e.NextTestCaseTooltip="Move to next test";e.TestResultsTreeView="Test results tree view";e.RunsSummaryStatus="{0} Run(s) Completed ( {1} Passed, {2} Failed )";e.FailedTestsHeading="Failed tests";e.PreviewAttachment="Preview Attachment - {0}";e.BuildDoesNotHaveTestReports="No test runs are available for this build. Run tests and get rich reports by using an appropriate built-in task such as the \u003ca href=\u0027https://go.microsoft.com/fwlink/?linkid=835764\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eVisual Studio Test task\u003c/a\u003e. Alternately, run tests using a runner of your choice such as \u003ca href=\u0027https://junit.org\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eJUnit\u003c/a\u003e, \u003ca href=\u0027https://xunit.github.io/\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003exUnit\u003c/a\u003e, mocha, jest, pytest, rspec, etc. and use the \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=857107\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003ePublish Test Results\u003c/a\u003e task to get rich reports.";e.TestRunExplorerPageTitle="Run Explorer";e.HourFormat="{0}h";e.Configuration="Configuration";e.PassTestStepKeyboardShortcutText="Pass test step";e.OldWidgetInfoText="This version of the widget does not support viewing passed tests. Add the ‘Test trend chart’ widget, which supports configuration options, from the widget gallery to include passed tests in this chart.";e.TestStepAttachments="Test Step Attachments";e.PassPercentageLongFormat="{0}%";e.Environment="Environment";e.DurationSeriesLabel="Duration ({0})";e.TestsInProgressText="Tests in progress";e.TestRunStepCommentHeadingString="COMMENT";e.ZeroWorkItemCountText="-";e.ResultGridHeader_DateStarted="Date started";e.TestCaseText="Test Case";e.AssignTestersToSuiteToolTip="Select the testers that you want to run all the tests";e.RenameSuite="Rename suite";e.NewTestCaseCommandTooltip="Create a test case and add it to this suite";e.PercentageText="Percentage";e.PercentageSign="%";e.AssignedToText="AssignedTo";e.FilterByOwner="Owner";e.DefaultPivotPriority="priority";e.CurrentBuildDefinition="Current build pipeline";e.TestResultsPaneRunByColumnHeader="Run by";e.TestOutcomeSettingsTabLinkText="Test outcome settings";e.FailPercentageSeriesLabel="Fail percentage";e.NoTaskFiledText="No task(s) filed";e.NewUsingGrid="New test case using grid";e.BlockTestText="Block test";e.NoRepositorySelectedMsg="Select repository and branch";e.RunsSummaryStatusWithOtherRunsOnly="{0} Run(s) Completed ( {1} Passed, {2} Failed, {3} Others )";e.BuildHasNotCompletedTextForCodeCoverage="Code coverage data is shown only for completed builds.";e.TestPointState_Paused="Paused";e.AssignTesterDialogDescription="To assign tester to selected tests, just type the sign-in address";e.IterationTitleFormatWhenNoSteps="Test {0}";e.BlockedEditingError="You cannot edit the test steps because this is not the latest version of the test case or shared steps.";e.BackText="Back";e.TestResultsFilterByOutcomePassed="Passed";e.NewTestVariable="New configuration variable";e.ResultStateQueued="Queued";e.ChartEditor_TestAuthoring_GroupingTooltip="Choose a pivot to group the data for your chart";e.SessionGridBanner_NoWorkItemUnExploredWithoutQuery="Specify a query to view unexplored work-items or change your group by option to see data for another view.";e.DefaultPivotConfiguration="configuration";e.DetailedListSortedAsc="Test results grid sorted by {0} in ascending order.";e.AnalyticsNotEnabledSuggestion="Analytics can be enabled in project collection settings.";e.BulkEntryTestUpdatedError="One or more test cases cannot not be saved as it was updated in another session. Refresh the list and try again.";e.CannotOpenTestRunError="There are no test points to run. Please select the test points and try again.";e.NewSuite="New suite";e.TotalText="Total";e.ExportHtmlTestPlanHierarchy="Suite hierarchy";e.FeedbackRequestLengthExceededWarning="Current feedback request instruction length {0}, exceeded the maximum length limit of {1}. ";e.LinkedWorkItemsLabel="Linked Items ({0})";e.ResumeTestText="Resume test";e.NumberOfFailedTests="{0} test(s) failed";e.TestCaseDescriptionLabel="Description";e.MillisecondFormat="{0}ms";e.AddAttachmentText="Add attachment";e.Mtr2015AndBelowDataCollectorHelpText="Configure via Test Settings first in Microsoft Test Manager (MTM) for local/remote machines.  \u003cspan\u003e\u003ca href=\u0027https://aka.ms/mtr2015\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e\u003c/span\u003e";e.TestResultText="Test Result";e.Previous="prev";e.BuildsGridDateCompletedLabel="Date completed";e.DraggedItemText="Moving {0} test";e.Memory="Memory";e.TestRunStateNeedsInvestigation="Needs investigation";e.LoadingImageText="Loading...";e.WorkItemTitleFormat="{0}: {1}";e.AreaPathTitle="Area path:";e.AssignTestersToSuiteEmailTextViewTest="View tests";e.SelectBuildInfoMtr2015BelowInfoText="Assign build in MTM first. Creates traceability between selected build and test results published.";e.UnitInHours="hours";e.ErrorFilteringTestPlansCategory="You can apply filter only on {0}";e.TestPointGridColumnID="ID";e.SessionInsightBugsByState="Bugs by state";e.PeriodLabel="Period";e.NotImpactedLegendText="Not Impacted";e.ActionLogStepsText="Steps";e.TestPlanSelectorNoItemsFilterTabText="No Test Plan found";e.FindBuildDailogBuildGridResultColumnLabel="Result";e.TrendChartMetricLabel="Trend chart metric";e.RemoveSharedParameter="Remove";e.RunWithOptionDialogXT2017AndAboveClientHelpText="Recommended for exploring your desktop applications.";e.TotalTestsSeriesLabel="Total tests";e.RunTestShortcutText="Execute tests";e.SevenNumberText="7";e.BuildDeletedNoTestResults="No test runs are available for this build as this build has been deleted.";e.SessionInsightSessionCountTitle="Session Count";e.DeletePlanConfirmation="Any test suites or test cases that are children of this test plan will also be deleted. You won’t be able to view the test results for the test plan or any of its children.\r\n\r\nDelete?";e.UnableToRenderGrid="Unable to Render Grid View";e.NewSharedParameter="New shared parameter";e.TestResultsMessage="Total {0} results shown";e.DataTableIterationNumber="{0} of {1}";e.ServiceFailedToFetchAttachments="Failed to fetch attachments due to service unavailability";e.ExploratorySessionGridHeader_Testcases="Test Cases";e.ValidatingStageText="Validating stage";e.AverageDurationText="Average duration";e.GotoTestplanliteHubKeyboardShortcutText="Open test plan lite hub";e.RunSummaryStatusDurationSeconds="{0} seconds";e.QueryBasedSuiteTitle="Query-based suite";e.UnexploredText="Unexplored";e.AdditionalFiltersText="Additional filters";e.ExtensionConfiguredInfo2="\u003cb\u003ePlease note:\u003c/b\u003e You can use the Settings page in the extension to configure your connections details (Server and Project/Team)";e.FilterMoreTestResults="Filter more test results";e.XTMessageDialogViewLess="view less...";e.XTMessageDialogViewMore="view more...";e.LinkText="Link";e.TestPlan_IterationFilterText="Filter by iteration";e.ExtensionConfiguredLabel="You are almost there...";e.CannotPauseCompletedTest="This test has already been completed.";e.TestResultsFilterByOutcomeAborted="Aborted";e.BugText="Bug";e.TestCaseDetailsPaneToggleButtonTitle="Test details pane";e.TestOutcome_Result_Unspecified="Unspecified";e.TestRunsShortcutText="Test runs";e.PassPercentageText="{0} percent test passed";e.DeleteSharedParamColumnWarning="This parameter will be removed from any test cases that reference it. Do you want to delete the parameter?";e.IdText="Test Plan ID";e.FilterText="Filter";e.TestResultDetailsLoadedMessage="Details loaded";e.SessionDurationText="Total session duration";e.GetItNowText="Get it now";e.XTMessageDialogInstallText="Install";e.ErrorFailedToLoadQueryHierarchyFormat="Can\u0027t show your test runs. Refresh the test runs pane, and try again. More info:\u0027{0}\u0027";e.TestResults_CreateBugTitle_WithBuild="{0} {1} in {2}";e.ResultStatePaused="Paused";e.TestCaseNavigationTitle="Test {0} of {1}";e.DataSetAddTestCaseKeyboardShortcutText="Add test from test cases pane";e.MinuteFormat="{0}m";e.SharedStepCreatedText="Created";e.LinkedArtifactsTestResultPerformed="Performed {0}";e.DeleteAttachment="Delete Attachment";e.GroupBySelectedAriaLabel="Group by: {0}";e.CreateSuites="Create suites";e.CannotMoveTestCases="Cannot move tests when show tests from child suites option is enabled. Disable the option first and then do the move.";e.OkText="Ok";e.ResultNoBugs="No linked bugs";e.BuildCodeCoverageNoResults="( Coverage results unavailable to download )";e.NoTestCaseSelectedErrorText="At least one test case should be selected";e.AssociatedStageDeleted="The associated release stage is not available. This error may occur if the release stage associated with the test plan has been deleted.​​";e.TestPlan_StateFilterText="Filter by state";e.RefreshTitle="Refresh queries";e.OfText="of";e.RefreshQuery="Refresh Query";e.InProgressTestRunString="Executing {0}";e.AssignTestersToSuite="Assign testers to run all tests";e.TestPointGridColumnLastRunBy="Last Run By";e.ErrorNotFound="Can\u0027t show your test runs. Refresh the test runs pane, and try again.";e.SessionInsightTotalDurationTitle="Total Duration";e.TestPlanSelector="Test plan selector.";e.HeroMetricsAriaLabel="{0}. Pass Rate {1}. {2}";e.TestCaseNavigationTitleWithIteration="{0}: Iteration {1}";e.XTFFMessageDialogExtensionDisabledText="The extension could be in a disabled state. Enable it from addons page (about:addons) for the Test \u0026 Feedback extension.";e.NewFailureSubHeading="({0} new)";e.DaysToKeepAutomatedResultsText="Days to keep automated test runs, results, and attachments when not associated with pipeline";e.TestRunStateInProgress="In progress";e.LoadingRequirementsMessage="Loading requirements...";e.ConfigureTestOutcome_Description="Configure how same tests across test suites under a test plan need to behave";e.PaneToolTip="Switch between different panes";e.TestStepsControlExpectedResult="Expected result";e.ResetTestError="You cannot reset the selected tests.";e.AbortedRunsTimelineHeader="Tests aborted";e.DeleteText="Delete";e.DeletePlan="Delete Plan";e.DeleteStep="Delete step";e.AlertNoTestResultFound="Cannot verify as no test result is associated with this work item. Verify option is valid for bugs created through Web Runner or Microsoft Test Runner";e.DraggedMultipleItemsText="Moving {0} tests";e.TCMChartsTestSuiteLabelText="Test suite";e.EulaText="EULA";e.ResultCountText="Result count";e.AnalyticsTestResultsNotFoundSuggestion="Run automated tests by adding a test task to your pipeline, such as the \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=860028\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eVisual Studio Test\u003c/a\u003e task. If you choose to run tests using a custom task or runner, you can publish results using the \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=857107\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003ePublish Test Results\u003c/a\u003e task.";e.OrderTestsLabel="Showing {0} test cases - drag/drop tests to reorder.";e.BuildDefinitionTextPlural="Build pipelines";e.Browser="Browser";e.DisplayTextNone="None";e.Separator="/";e.ExportHtmlTooltip="Email or print test artifacts";e.SearchConfigurationsText="Search configurations by name or values...";e.AddToExistingBugText="Add to existing {0}";e.ConsoleLog="Log";e.ExtensionAbsentInfo5Firefox="If extension is already installed and is disabled, then enable it from addons page (about:addons).";e.SharedStepNameWatermark="\u003cShared steps name\u003e";e.SessionGridBanner_NoWorkItemExplored="No work item(s) have been explored, change your filter options to see session data in another view.";e.MarkDownSupportedMessage="Markdown supported.";e.NoTestcaseDataAvailable="Couldn\u0027t get test case data of the result";e.Definition="Definition";e.TestOutcome_Failed="Failed";e.NotApplicableTestsShortcutText="Mark tests as NA";e.RequirementsLabel="Requirements ({0})";e.BrowserIncompatibleLabelWithFirefox="Sorry! We support only Google Chrome and Mozilla Firefox browsers for now...";e.UpdateVerifyBugTitle="Verify bug";e.AnnounceDeselected="Deselected";e.NewChartDropdownExecution="New test result chart";e.TestPointGridColumnTitle="Title";e.QueryResultsStatusText="{0} results ({1} selected)";e.RefreshActionLogDialogTitle="Refresh highlighted window";e.StoppingDataCollector="Collecting Information from all data collectors";e.AnnounceAssociationsDeleted="{0} Associations Successfully Deleted";e.LoadingMessage="Loading...";e.ResultStateCompleted="Completed";e.FilterTestPlans="Filter test plans";e.TestPointGridColumnBuild="Build";e.TestPointGridColumnOrder="Order";e.EnableActionLogGuidanceText="Action recording is disabled from the Test \u0026 Feedback extension. Enable image action log option from the extension’s Options page (right click on extension, select Options).";e.ExploratorySessionGridHeader_AssignedTo="Assigned To";e.MetricOutcomeComboLabel="{0} of {1} tests";e.BulkEditCountText="Showing {0} of {1} test cases";e.DataTableHeader="Data iteration:";e.QuerySectionHeader="Requirements query";e.Height="Height";e.AssignTestersToSuiteHintMessageForRedirectPart1="(In certain cases, you may have to click the above link twice to view the tests assigned to you. ";e.AssignTestersToSuiteHintMessageForRedirectPart3=".)";e.AssignTestersToSuiteHintMessageForRedirectPart2="Read more";e.ReleaseDefinitionText="Release pipeline";e.SearchUserChildMenuLabel="Search users";e.TestResultsTrendText="Test Results Trend";e.Workflow_Release="Release";e.PreviousTestCaseShortcut="Alt + ←";e.TwentyDays="20";e.NewChartText="New chart";e.UpdateVerifyBugCancelText="No";e.OnDemandInvalidStageText="The stage configured to run tests is invalid.";e.CloseDetailsPane="Close test result details";e.XTEdgeMessageDialogExtensionDisabledText="The extension could be in a disabled state. Enable it from More option \u003e Extensions for the Test \u0026 Feedback extension.";e.TestOutcome_Warning="Warning";e.AddConfigurationVariable="Add configuration variable";e.GotoParametersHubKeyboardShortcutText="Open parameters";e.ShowDescriptionText="Show description";e.SelectBuildDialogBuildDefinitionsDefaultText="All";e.CommentsText="Comments";e.ErrorSelectingWorkItemsForCategory="You should select at least one work item belonging to {0}. ";e.TestRunnerTestCaseTitle="{0}: {1}";e.TestRunSettingsTabLinkText="Test run settings";e.DevicePixelRatio="Device pixel ratio";e.ResultStatePending="Pending";e.MultipleOutcomeSelectedAriaLabel="Outcome: {0} and {1} more";e.StackTraceLabel="Stack trace";e.SessionInsightTasksByState="Tasks by state";e.SelectTestersRemovalInfoText="If at a later time you decide to remove a tester from this list for this suite, then the tests that were created for this tester are removed.";e.Quality="Quality";e.DataSetViewGridKeyboardShortcutText="Open values";e.NoConfigurationsFound="No configurations returned for given search string.";e.QueryOr="Or";e.NoneText="None";e.TestPlanSelectorNoItemsFavoriteText="No Test Plans have been favorited";e.DataSetViewPropertiesKeyboardShortcutText="Open properties";e.SelectBuildDefinitionText="Select a build pipeline";e.QuerySelectorText="Query selector";e.TestResultsDeltaValueNotApplicable="(N/A)";e.TotalCoverageLinesText="Total Lines";e.NewTestConfiguration="New test configuration";e.BugBeingVerifiedTitle="Bug being verified: {0}";e.RefreshToolTip="Refresh";e.TestPlanSelectorAllTabText="All";e.RunsSummaryStatusWithImpactedAndOtherRuns="{0} Run(s) Completed ( {1} Passed, {2} Failed, {3} Not impacted, {4} Others )";e.AllOutcomesText="All outcomes";e.DeleteTestWorkItemDialogRefreshWarningMessage="After deleting selected work item, you need to refresh the page to reflect the changes.";e.TestRunnerAboutDialogText="Test Runner (Azure Test Plans) is your one stop application for your Manual Testing needs for Desktop Applications.";e.AutomatedTestRunValidationDialogTitle="Automated test run - {0}";e.Config_TestOutcomePickerLabel="Outcome";e.AnalyticsSettings="View Analytics Settings";e.TenDays="10";e.QueryColumnNameOutcome="Outcome";e.ChartsShortcutText="Open charts";e.NavigateBack="Navigate back";e.AnalyticsTestTrendWidget_LearnMore="Learn more about the [TODO:1337868] Widget";e.SearchTestConfigurationsWatermark="Search...";e.FailureCountTrendTooltip="{0} test(s) failed in build {1}";e.GotoRunWatermarkText="Enter Run ID...";e.TestReportFetchInProgressText="Fetching test results...";e.NumberOfProcessors="Number of processors";e.TestResultsFilterByOutcomeOthers="Others";e.NoResultsSuggestionMessage="Choose a different filter to view test results relevant to you";e.CreateBugTitleForMultipleResults_WithBuild="{0} and {1} other tests have issues in {2}";e.SignOut="Sign out";e.SessionInsightBugsByPriority="Bugs by priority";e.DeleteTestSuiteConfirmation="Any test suites or test cases that are children of this test suite will also be deleted. You won’t be able to view the test results for the test suite or any of its children.\r\n\r\nDelete?";e.BlockTestsShortcutText="Mark tests as blocked";e.UnassignedTester="Unassigned";e.AnalyticsHeroMetricsHeaderText="Test failures";e.DateText="Date";e.DetailedListShowMore="{0} more items have been loaded in Test Results grid.";e.HubNavigationShortcutGroupText="Test";e.QueriesShortcutGroupName="Queries";e.XTMessageDialogContextText="After installation, if you are still getting this message, check the following:  [\u003ca class=\u0027{0}\u0027  href=\u0027#\u0027\u003eview more...\u003c/a\u003e]";e.SessionInprogressLabel="Another session is running...";e.CaptureActions="Capture user actions as image action log";e.TestPlanNameWatermark="\u003cTest plan name\u003e";e.ExploratorySessionGridHeader_Owner="Owner";e.ShowFilterBarTitle="Show filter bar";e.TestHistoryChartMetricSelectedAriaLabel="Test history trend chart selected: {0}";e.NonChromeBrowserSettingsName="Not available";e.IterationWorkDayFormat="{0} work day";e.SelectTestersMinTestersErrorText="At least one tester should be selected";e.PassStepResultText="Pass test step";e.FavoriteTestPlanMetaDataText="{0} : {1}";e.BulkEditSelectedTestCasesTooltip="Edit the selected test cases";e.RetainsAutomatedResultsWithRetainedBuildText="The retention is applicable only for Test runs created outside of Pipeline.";e.SessionInsightSessionHeader="EXPLORATORY SESSION";e.ExploratorySessionGridHeader_Title="Title";e.ExploratorySessionGridHeader_Tasks="Tasks";e.ReproStepComment="Comments: {0}";e.NoResultFound="No result found for given search string. Try using complete words or regular expression.";e.ExploratorySessionGridHeader_State="State";e.RunShortcut="Alt + R";e.EmptyLiteralText="Empty";e.StaticSuiteTitle="Static suite";e.NoResultsForCurrentSetMessage="No test results found for the specified filter(s) in the current set";e.TestResultsFilterByOutcomePassedOnRerun="Passed on rerun";e.MineText="Mine";e.TestResultUpdateConflict="Test results have been modified by another user or session. You must reload the test run and update the test results again.";e.ShowTestPointsCount="Showing {0}";e.XTMessageDialogHeader="Install Pre-requisites";e.Parameters="Parameters";e.NoFailedResultsMessage="Hooray! There are no test failures.";e.NotifyTestersLabelText="Send email to the testers";e.NewText="New";e.RunSummaryRunningForText="Running for";e.ExtensionConfiguredInfo="We have automatically configured the Server and Project/Team in the extension for you. Launch the extension by clicking on the Test \u0026 Feedback extension icon on the extension bar to provide feedback.";e.Favorite_TestPlan_DeletedMessage="This test plan has been deleted or you don\u0027t have permission to access it.";e.AttachmentSize="Size";e.AttachmentName="Name";e.NoBranchText="\u003cNo associated branch\u003e";e.RunSummaryNoCommentsText="No comments";e.OthersArtifactWithCountText="Others ({0})";e.DaysText="Days";e.ColumnChartAdvancedTooltip="Use this chart type to visually compare categories.";e.PivotText="Pivot";e.ExportHtmlSuiteTestCasesLabel="Test cases with steps";e.RunSummaryStatusDurationMilliseconds="{0} milliseconds";e.CommaSeparatedStrings="{0}, {1}";e.NoBugFiledText="No bug(s) filed";e.AddTestCases="Add test cases";e.LineCoverageText="Line Coverage";e.TestChartsDataSourceNeededMessage="Please select appropriate filters";e.TestResultHistoryNoResultsMessage="This test has no results for the selected group.";e.DataCollectionComplete="{0} stopped at {1} and attached with the test result.";e.ExploratorySessionGridHeader_ID="ID";e.ResultSummaryStatusText="{0} of {1} tests";e.CreateBugKeyboardShortcutText="Create a new bug";e.ChartEditor_TestExecution_GroupingTooltip="Choose a pivot to group the data for your chart";e.SearchSharedParameter="Search by title";e.DefaultPivotOutcome="Outcome";e.SelectAllCheckBox="Select all checkbox";e.LineChartAdvancedTooltip="Use this chart type to show how category values change relative to each other over time.";e.TestConfigurationTitleDirtyState="Test configuration {0}*: {1}";e.ResultSummaryAnalysisFailureTypeFormat="Failure type";e.XTMessageDialogExtensionDisabledText="The extension could be in a disabled state. Enable it in the extensions page (chrome://extensions/) for the Test \u0026 Feedback extension.";e.ExtensionAbsentInfo="Looks like Test \u0026 Feedback extension is either not installed or is disabled.";e.ExploratorySessionGroupByExploredWorkItem="Explored Work Item";e.AttachmentUnpreviewableSuggestionMessage="Download the file to view content";e.ExistingBugDialogText="Search for existing bug";e.TestPlanSelectorNoMatchesText="No Test Plans found with the filter text";e.NoSuiteWithIdExists="The test suite with id {0} does not exist.";e.DragDirtyTestCases="Save changes for all test cases before you try to move them.";e.ConvertToSharedParameter="Convert to shared parameters";e.TestChartsSelectSuiteReminderMessage="Please select a test suite";e.CoverageModuleFilterPlaceholder="Filter by module name";e.ChangeSharedParameter="Change";e.ResultNoTestSteps="No test steps";e.TestResultsFilterByOutcomeAll="All";e.NewTestPlanText="New Test Plan";e.SessionInsightNoWorkItemInQueryResultText="Selected query returned no results to display. Change the query to view data or switch to another view.";e.TestRunStateCompleted="Completed";e.BuildDefinitionText="Build pipeline";e.BugsLabel="Bugs ({0})";e.ExploratorySessionFilterByOutcomeTestCase="Test Cases";e.NoActiveTestPointsInSuite="There are no active tests in the selected suite.";e.ThirtyDays="30";e.CreateSuite="Create suite";e.SelectTesterDescriptionText="If you want to have multiple users run the same test cases in this test suite, add these users to this list. Tests are created from all the test cases for each tester.";e.DefinitionDirtyWindow_ConfirmMessage="You have unsaved changes. Are you sure you wish to change? Unsaved changes will be lost.";e.MultipleTestCaseSelectedText="Multiple";e.TestPlanSettingsOutOfDate="Test plan settings are out of date. Please reconfigure the settings, or use \u0027run with options\u0027 ({0})";e.ReleaseDefinitionTextPlural="Release pipelines";e.HideDescriptionText="Hide description";e.SessionGridBanner_NoWorkItemUnExploredWithQuery="There are no unexplored work-items for the query selected. Change your filter options to view session insights.";e.ExploratorySessionGridHeader_Bugs="Bugs";e.CreateTestCases="Create test cases";e.CloseAddAttachmentDialog="Close add attachment dialog";e.RunSummaryStatusDurationHours="{0} hours ";e.ScreenRecordingFeatureDisabled="Screen recording feature is disabled. To enable, upgrade Google Chrome to version 49 or later.";e.NoVariableValueSpecifiedError="At least one value must be specified for the Configuration variable";e.DiagnosticDataAdapterHeadline="\u003cb\u003eDiagnostic Data Adapter\u003c/b\u003e";e.ExitFullScreenModeText="Exit full screen mode";e.ConfirmParameterDeletionForTcUsingSharedParameters="All the references to the following parameters and their mappings to the shared parameters will be removed:\r\n\r\n{0}";e.FailureType="Failure type";e.ConfigurationVariables="Configuration variables";e.AddTestCasesToSuite="Add Test Cases to Suite";e.NextTestCaseShortcut="Alt + →";e.RunWithOptionDialogTestRunnerLabel="Manual tests using Test Runner (Azure Test Plans)*";e.ExportHtmlSuiteTypeStatic="Static Suite";e.BugsCreatedOrUpdated="Bugs created/updated :";e.CreateQueryBasedSuiteTitle="Create a query-based suite";e.TestPlanText="Test Plan";e.ActionLogSelectWindowGuidance="Actions are recorded for selected window \u0026 its children";e.Repository="Repository";e.TrendChartLabel="Trend Chart";e.TextFilterNextItemsMessage="Filter the next {0} items";e.CurrentResult="Current Result";e.ReproStepResultHeader="Result";e.RequirementSuite="Requirement-based suite";e.ResultGridHeader_FailingSince="Failing since";e.Architecture="Architecture";e.ViewProgressText="View test run";e.PassPercentageSeriesLabel="Pass percentage";e.Unspecified="\u003cUnspecified\u003e";e.AnalyticsTestResultsNotFoundMessage="We didn\u0027t find any test results...";e.TestPointState_Ready="Active";e.NewRequirementSuite="New requirement-based suite";e.SavingText="Saving...";e.UnSavedDataAndRecording="Changes/recording you made may not be saved.";e.TestResultsFilterByOutcomeFailed="Failed";e.SelectReleaseDefinitionText="Select a release pipeline";e.EmptyQueryChartList="Click \u0027New\u0027 and choose chart type to create the first chart for \u0027{0}\u0027 suite.";e.NewReferencedTestCaseCommandTitle="Create a new test case using this shared parameter";e.ResultGridHeader_FailingBuild="Failing build";e.TestsAsPrefixText="tests";e.Iteration="Iteration";e.TestVariableInUseError="Test variable \u0027{0}\u0027 cannot be deleted as it is in use.";e.SessionInsightTotalSessionDurationTitle="Total Session Duration";e.Capacity="Capacity";e.TestResultsFilterClearedNextItemsMessage="Fetch the next {0} test results";e.CancelText="Cancel";e.LastExecutionDay="Last execution day";e.TestSuitePaneStatusColumnHeader="Status";e.BulkEditActionColumnTitle="Step Action";e.SaveChangesText="Save changes";e.NewSharedStep="Shared steps";e.ExportHtmlSuitePropertiesLabel="Properties";e.NoConfigurationFoundErrorText="No test configuration found ";e.ExploratorySessionGridHeader_WorkItemType="Work Item Type";e.ExpandOrCollapseButton="Expand or collapse the group.";e.MarkTestCaseResultTitle="Mark test case result";e.TestStepsControlSteps="Steps";e.TitleText="Title";e.ResultStateUnspecified="Unspecified";e.BuildsGridDefinitionLabel="Build pipeline";e.Comment="Comment";e.TestChartsUpgradeWarning="This chart is linked to an existing chart in the Test hub. Saving changes will unlink the chart and require future modifications to be made here.";e.TestRunner="Microsoft Test Runner";e.ConfigurationVariableRowLabel="Configuration Variable {0}";e.BuildHasNotCompletedText="The build is in progress. Test results will appear here when the build completes.";e.TestRunStateWaiting="Waiting";e.LoadingAttachmentsMessage="Loading attachments...";e.RunScopedQueryTitleFormat="Run {0} - {1}";e.AssignConfigurationToTestCases="Assign configurations";e.DeleteIteration="Delete iteration";e.SharedStepParameterEditingError="To delete shared steps with parameters, open the test case in the TEST hub.";e.TestPluralText="tests";e.ParameterEditingError="To add parameters, open the test case in the TEST hub.";e.TestSuiteName="Suite name";e.BulkEditPasteError="You can paste a title row only at the end of a test case, not between test steps.";e.TestSuiteText="Test suite";e.AllTestVariables="All configuration variables";e.SupportedVSTestTaskNotPresent="The selected stage does not have the right version or settings of the Visual Studio Test task to run tests.";e.SessionInsightQueryIdResultExceedText="Selected query returned results more than maximum allowed limit of 200. Please refine the query and try again.";e.UnsavedChangesRefreshWarning="You have unsaved changes. Are you sure you wish to refresh? Unsaved changes will be lost.";e.PassRate="Pass rate";e.DeletedSuiteIdText="-";e.SaveQueryText="Save query";e.AnnounceSortedDesc="Sorted by {0} in descending order";e.StartDate="Start date";e.UnsavedChanges="Changes you made may not be saved.";e.TfsAuthenticationError="You do not have appropriate permissions to perform this operation.";e.FetchingCodeCoverageData="Fetching code coverage data";e.BuildFlavorText="Build flavor";e.AnalyticsCardTestsNotFoundMessage="Test failures report is not available since we didn’t find any test results in this pipeline. You can run automated tests by adding a test task to your pipeline, such as the Visual Studio Test task. If you choose to run tests using a custom task or runner, you can publish results using the Publish Test Results task.";e.LoadingTestResultDetailsLabel="Loading details...";e.RunWithOptionDialogMtr2015AndBelowClientHelpText="Recommended for testing desktop applications. Specify data collectors and build to test using Run settings in Microsoft Test Manager client.";e.NoSharedParameterWithIdExists="The shared parameter with id {0} does not exist or it’s area path is not owned by the default project team. Include it in the default project team’s owned areas and try again.";e.ResultSummaryRunByFormat="Run by";e.SearchText="Search";e.ChartMetricLabel="Metric";e.TestRunStateAborted="Aborted";e.DetailedReportText="Detailed report \u003e";e.AreaPath="Area Path";e.AreaText="Area";e.ExportHtmlSuiteTypeRequirement="Requirement-based Suite";e.ExpandIterationDetailsLabel="Expand iteration details";e.AssignToNewTestPlans="Assign to new test plans";e.SwitchToNewView="Switch to new view";e.TestArtifactNameDefaultWatermark="\u003cEnter title here\u003e";e.ProgressReportRun="{0}% run.";e.IterationPathTitle="Iteration:";e.InsertSharedSteps="Insert shared steps";e.InsertStep="Insert new step";e.FailedText="Failed";e.ConfigureTestOutcomeSettings="Configure test outcome settings";e.BuildResultCanceled="Canceled";e.GroupByText="Group by";e.SharedParamDataSetListItemTooltip="{0}: {1}";e.CoverageVisualText="Coverage Visual";e.InsertParameter="Insert parameter";e.FailedTestsDescription="Failed: {0} / {1}";e.ScreenRecordingCompleteAndAttachedToBug="Screen recording was automatically stopped at {0} and attached with bug form and test result.";e.TestPlanDirectoryEmptyFavoritesGroupText="No favorites yet! Favorite {0} a test plan to quickly access it here.";e.DeleteTestWorkItemDeleteButtonText="Permanently delete";e.AddToExistingWorkItemWatermarkText="Search for existing workitem using work item id or keywords in title.";e.ClearAssociatedAutomation="Clear";e.PermanentlyDeletePlan="Permanently delete plan";e.PermanentlyDeleteText="Permanently delete";e.TestFailuresTrendHeader="Test failures";e.FailTestsShortcutText="Fail tests";e.ShowingSuggestionCount="Showing {0} suggestions";e.BuildResultAny="Any";e.CollapseAllText="Collapse all";e.NewTestVariableDirtyState="New configuration variable*";e.QueryRunsStatusText="{0} runs ({1} selected)";e.ActionLogFullScreenText="Full screen image";e.LineChartName="Line";e.WorkflowPickerLabel="Pipelines";e.CreateSharedParameter="Create Shared Parameters";e.DeleteRow="Delete row";e.TestPlan_KeywordFilterText="Filter test plans";e.VariableDescriptionWatermark="Variable description...";e.PassedOnRerunLegendText="Passed on rerun ({0})";e.SelectTestersSummaryText="Assign all the test cases in this test suite to be run by multiple testers. For example, you can assign the tests to all your user acceptance testers. Then send them an email to let them know that the tests are ready to be run.";e.Language="Language";e.SessionInprogressInfo="To start your feedback request, please stop the current session and refresh the page.";e.MTMLabEnvironment="MTM lab environment";e.OtherTestsSeriesLabel="Other tests";e.ToggleFilterToolTip="Filter";e.SearchTeamText="Search a team";e.ManageText="Manage";e.TestConfigurationTooltipFormat="Test configuration: {0}";e.OpenColumnOptionPanel="Open column options panel";e.AssignTestersToSuiteEmailTextHi="Hi,";e.PassedTestsDescription="Passed: {0} / {1}";e.OthersTestsDescription="Others: {0} / {1}";e.TestPointGridColumnLastRunDuration="Last Run Duration";e.CreateTestPlanMenuItem="Test plan";e.TestPlanSettingsDialogText="Test plan settings - {0}";e.TestResultsPaneDurationColumnHeader="Duration";e.NewTestCaseCommandText="New";e.IterationWorkDaysFormat="{0} work days";e.BugFilingReproStepHeader="Bug filed on \"{0}\"";e.TestStepsWithNoTestCaseError="There are tests steps at the start of the grid with no associated test case. Please add a test case title for those test steps.";e.SelectBuildText="Select a build";e.AnalyticsBuildHeroMetricsFooterText="Pass rate and results are for builds done in the last 14 days. Click here to analyze the tests that have been failing in this build pipeline.";e.SelectTestCase="Select Test case";e.DetailedListSortedDesc="Test results grid sorted by {0} in descending order.";e.ExportErrorMessage="Cannot export more than {0} suites at one go. Use ‘Selected suite only’ option OR specify a new suite to export.";e.OutcomeText="Outcome";e.DataCollectorEventLogText="Event log";e.TestResultHistoryFirstFailureText="First failure: ";e.TestPlanViewPermissionError="You do not have sufficient permissions to view test plans. \u003ca href=\u0027https://go.microsoft.com/fwlink/?linkid=866498\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.DeleteTestWorkItemDialogTitle="Delete test work item";e.LoadingHistoryMessage="Loading history...";e.AnalyticsNotEnabledCardMetricsSuggestion="Test failures report couldn\u0027t load. Analytics needs to be enabled to use this feature. Click for next steps.";e.ConfigureTestOutcome_OkText="Save";e.ViewTestResultPermissionMessage="You cannot view test results because you don\u0027t have the \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=733476\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eappropriate permission\u003c/a\u003e.";e.ReproStepIndexHeader="Step no.";e.AddAttachmentsErrorAnnounceText="Error occurred during adding attachments";e.TestResultsFilterMessage="Filtered {0} of {1} test results.";e.BuildDetailSummaryCouldNotRetrieveTestRuns="Could not retrieve test runs for this build";e.BranchText="Branch";e.ResolutionStateNone="None";e.OnDemandFallbackErrorMessage="The stage configured for the test run is invalid.";e.ScreenshotSelectWindowGuidance="Only active tab (title shown above) can be captured";e.ResultAnalysisLabel="Analysis";e.CannotRemoveTestCases="Cannot remove tests when show tests from child suites option is enabled. Disable the option first and then do the deletion.";e.IterationDurationFormat="{0} - {1}";e.InsertColumn="Insert column";e.NewStaticSuite="New static suite";e.DeleteRequirementAndQueryBasedSuiteConfirmation="If you delete this test suite, you won’t be able to view the test results for this suite.\r\n\r\nDelete?";e.TestOutcome_Passed="Passed";e.TestOutcome_Paused="Paused";e.ReleasePicker_EmptyWatermark="Select a release pipeline";e.TestOutcome_NotExecuted="Not executed";e.DurationTrendTooltip="Tests ran for {0} in build {1}";e.TestRunnerLinkCopytoClipboardTooltip="Copy download link to clipboard";e.ExpandSuites="Expand all";e.RunSummaryStatusDurationDays="{0} days ";e.AutomatedTestName="Automated test name";e.AutomatedTestType="Automated test type";e.AbortedTestsSubHeader="run aborted";e.SessionInsightExploredWorkItemHeader="EXPLORED WORK ITEM";e.TCMChartsTestPlanLabelText="Test plan";e.TestCasesOverLoadError="Test Runner has a limit of 100 tests per session. Reduce the number of selected tests and try again.";e.FilterByTestRun="Test run";e.ColumnOptionsMoveColumnDown="Move Down";e.SharedParameterNameWatermark="\u003cShared Parameters Name\u003e";e.FilterNoTestFile="No test files available";e.FailedTimelineHeader="Tests Failed";e.DataCollectorDropdownSelectionTextNone="\u003cselect from list\u003e";e.ConfirmParameterDeletion="All the references to the following parameters and their values will be removed:\r\n\r\n{0}";e.TestPointNotFoundInKanbanBoardError="One or more tests could not be found. Refresh the board and try again.";e.TestOutcome_NotApplicable="Not applicable";e.WorkItemId="Id";e.AttachmentUnpreviewableMessage="No preview available for the selected file type";e.ExpandOrCollapseHeader="Expand or collapse";e.TestRunFooterCreatedAttachments="Attachments: {0}";e.AnalyticsDataNotReadySuggestion="This typically takes few minutes, but can take longer depending on the amount of data in your organization.\u003cbr\u003ePlease check after some time.";e.ExportHtmlLatestTestOutcome="Latest test outcome";e.FilterByTestName="Filter by test name";e.FilterByTestFile="Test file";e.RunSummaryCompletedWithFailuresText="Completed with failures";e.TestSuitePointCountText="Total count of tests: {0}";e.AssignConfigurationsToSuite="Assign configurations to test suite";e.InfoSectionCloseButton="Close tooltip";e.ResultStateNotImpacted="Not Impacted";e.TestRunnerFooterCreateOrUpdateBug="{0} created/updated: {1}";e.SuiteTitleWithTotalPointCount="{0} ({1} of {2})";e.PassPercentHeading="Pass percentage";e.TestFileText="Test file";e.LoadingAttachmentMessage="Loading attachment...";e.TestRunnerTestCaseIterationTitle="Iteration: {0}";e.XTRelaunchGuidance="After completing the installation of the extension, you need to relaunch this web runner once, before you can capture screenshots/screen recordings/ action recordings.\r\nClicking on “Relaunch” button will automatically save your in-progress work, relaunch the web runner and get you back to the current state. No data will be lost during the restart.";e.PreviousStep="Previous step";e.TotalDurationText="Total duration";e.SuiteAndChildRadioButton="Selected suite + children";e.ConfigurationsReturned="{0} configurations found for the given search string.";e.RunsAborted="Run(s) Aborted";e.XTRelaunchDialogOkText="Relaunch";e.RunWithOptionDialogTestRunnerHelpText="Recommended for testing desktop applications. Capture screenshots and action logs with this option.";e.BulkEditExpectedColumnTitle="Step Expected Result";e.SelectBuildDialogTtitle="Find a build";e.NewerResults="Newer results";e.CannotAddExistingTestCases="Cannot add existing test cases when show tests from child suites option is enabled. Disable the option first and then add existing tests.";e.StageToRunTestsSubText="Select a release pipeline and stage that can consume the selected build\u0027s artifacts.";e.SuiteOnlyRadioButton="Selected suite only";e.FailedTestsSeriesLabel="Failed tests";e.SearchWorkItemWatermarkText="Search for existing work item using work item id or keywords in title.";e.DebugPivotLabel="Debug";e.AutomatedText="Automated";e.TestResultHistoryManualResultNotSupportedError="Test history can be viewed only for automated test results. ";e.StateText="State";e.ActionLogImageText="Image";e.StackedColumnSeriesLabelText="Tests";e.TestRunAddInfoTooltip="Add information to test result";e.TestCaseDataProgress="Retrieving test cases...";e.TimeSeparator=":";e.PassTestText="Pass test";e.NoBuildDefinitionSelectedText="No build pipeline is selected";e.WorkItemUnExploredHeading="Work Items from query";e.WorkItemExploredHeading="Work Items explored";e.SubResultDisplayName="Sub result {0}";e.SuiteTitleWithPointCount="{0} ({1})";e.ColumnOptionsAddColumn="Add Column";e.RunContainsAutomatedPointsWarning="One or more of the selected test cases are automated. Do you want to run these tests manually?";e.NoResultsForCurrentSetSuggestionMessage="Choose the next result set above to find test results relevant to you";e.ParametersHubKeyboardShortcutGroup="Parameters";e.SharedParamaterUsedInTestCaseTitle="{0}: {1}";e.OutcomeSelectedAriaLabel="Outcome: {0}";e.InvalidParamName="The Parameter name is invalid";e.TooltipTitleShortcutFormat="{0} ({1})";e.Display="Display";e.TestDetailPaneToggleButtonTooltip="Show/hide details pane";e.GotoRunsHubKeyboardShortcutText="Open runs";e.InavalidDateFormatErrorMessage="Invalid Date format. Enter a valid date or choose from date picker.";e.IterationDayRemainingFormat="{0} work day remaining";e.AssignTestersToSuiteEmailTextThanks="Thanks,";e.ExportHtmlTestPlanProperties="Properties";e.NoResultsMessage="No test results found for the selected filter(s)";e.ExportHtmlTestSuiteParameterData="Parameter data";e.WorkItemFiledHeading="Work Items filed";e.TestResultsFilterNextItemsMessage="Filter the next {0} test results";e.SharedParamDataSetNameCannotBeEmpty="Shared parameter set name cannot be empty.";e.Configurations="Configurations";e.BuildDetailsSummaryNoCodeCoverageLink="Enable code coverage via the test framework used in your build pipeline, such as \u003ca href=\u0027https://junit.org\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eJUnit\u003c/a\u003e, \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=613743\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eVisual Studio Test\u003c/a\u003e, or \u003ca href=\u0027https://xunit.github.io/\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003exUnit\u003c/a\u003e.";e.TestPlanTitleFormat="{0}: {1} (ID: {2})";e.ResumeTooltip="Resume test";e.DefaultChartTitleByOutcome="Outcome by {0}";e.SecondFormat="{0}s";e.TestsInProgressHeader="Tests in progress";e.ExpandAllText="Expand all";e.ExistingFailuresLegendText="Existing";e.TestPointGridColumnConfiguration="Configuration";e.MachineLabel="Machine";e.DaysToKeepManualResultsText="Days to keep manual test runs, results, and attachments";e.NoLinkedTests="No linked tests";e.AnalyticsNotEnabledMessage="Analytics needs to be enabled to use this feature.";e.TfsConnectionError="Unable to connect to Azure DevOps Server. Please check your connection.";e.NonSupportedBrowserWebRunnerDataCollectorHelpText="\u003cspan\u003e\u003ca href=\u0027https://aka.ms/webrunner\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e\u003c/span\u003e about which browsers support data collection from local machine.";e.NoOfWeeksFormatString="{0} Weeks";e.RunWithOptionDialogDataCollectorLabel="Data collectors";e.EnterParamName="Enter Parameter name here";e.TestRunnerLinkCopiedtoClipboardTooltip="Download link copied to clipboard";e.TestRunnerTitleTooltip="{0} (Configuration: {1})";e.InsertStepAuthoring="Insert step";e.FourteenNumberText="14";e.InsertSharedParameter="ADD A SHARED PARAMETER";e.Download="Download";e.AddNewValue="Add new value";e.ResultSummaryOnComputer="on";e.EndDate="End date";e.ShowMoreTestResults="Show more test results";e.TestPointState_InProgress="In progress";e.OthersText="Others";e.XTRelaunchQuestion="Do you want to relaunch the runner now?";e.ConflictingParametersCheckMessagePostText="Check that the names represent the same field in the user interface. If they do not, you must rename the parameters to avoid any conflict.\r\n\r\nDo you want to insert the shared steps?";e.ResultAttachmentsHeaderText="Result attachments";e.OS="Operating system";e.CreateBugTitleForMultipleResults_OnlyOneOtherTest_WithoutBuild="{0} and {1} other test have issues";e.AnalyticsText="Analytics";e.ActionRecordingText="Action recording";e.BuildResultPartiallySucceeded="PartiallySucceeded";e.DeleteTestWorkItemDialogConfirmationText="Are you sure you want to permanently delete the selected test work item? Permanently deleted test work item cannot be restored.";e.RetainsManualResultsWithRetainedBuildText="Manual test results are kept when a build is deleted. To keep these results for a limited time, select the number of days.";e.ExportHtmlTestSuiteHeading="Test suite";e.AnalyticsDataNotReadyMessage="Preparing your data";e.CollapseSuites="Collapse all";e.TestOutcome_Unspecified="Unspecified";e.Mtr2015OrEarlierDataCollectorSelectionText="IntelliTrace, screenshots, screen recordings  etc.";e.AnalyticsNotEnabledAriaDescription="Analytics is not enabled. Analytics needs to be enabled to use this feature. Enable Analytics here.";e.LinkedWorkItemsDataProgress="Retrieving linked workitem data...";e.IterationAttachmentsHeaderText="Iteration attachments";e.NewSharedParameterFormat="{0} {1}";e.AverageDurationInSeconds="{0} seconds";e.NotAvailable="Not Available";e.MoveStepDown="Move current step down";e.SelectReleaseStageText="Select a release stage";e.BuildInputPlaceHolderMtr2015BelowText="\u003cRead from Microsoft Test Manager (MTM)\u003e";e.SelectResultAndTry="Please select a test result and try again.";e.NewStaticSuiteTitle="New static suite";e.AlertAlreadyInVerifyMode="Verify option is not valid as Web runner is already running";e.FailedToFetchAttachments="Failed to fetch Attachments";e.MyTestPlanText="My TestPlan";e.TestPlanChartDefaultTitle="Chart for Test Plans";e.TestVariableTitle="Configuration variable {0}: {1}";e.TestStepResultAttachmentSizeFormat="({0}K)";e.PriorityText="Priority";e.TestCaseResultViewBackText="Back";e.UpdatedConfigurationTree="Updated configuration tree with search results.";e.SharedStepToolTip="Shared steps : {0} ";e.UpdateVerifyBugDetails="{0}: {1}";e.CloseOverlayPanel="Close panel";e.PassedText="Passed";e.RunWithOptionDialogMtr2017AndAboveClientHelpText="Recommended for testing desktop applications.";e.TestRunKeyboardShortcutGroup="Test Run";e.NewReferencedTestCaseCommandText="Add new test case";e.IdColumnTitle="ID";e.FailTestText="Fail test";e.BuildDetailsSummaryNoCodeCoverageToDisplay="Code coverage data cannot be displayed. Please verify that a valid directory containing code coverage files, including an index.html was used to publish data. ";e.Columnoptions="Column options";e.IterationStartTimeDurationFormat="Start time: {0} | Duration: {1}";e.CreateTestCasesUsingGrid="Create test cases using grid";e.ViewLatestResultText="View test result ";e.ConfigurationDescriptionWatermark="Configuration description...";e.ColumnOptionsRemoveColumn="Remove Column";e.NeedToAssociateBuild="Need a build with test binaries. Associate a build to the test plan.";e.LearnMoreText="Learn more";e.MaximumTestLimitErrorMessage="Maximum of 50 tests can be linked at a time.";e.UnsavedChangesLoseWarning="You have unsaved changes. Do you want to continue and lose changes?";e.NeedToAssociateStage="A stage is needed to run tests. Associate a stage with the test plan.​";e.ConfigurationVariableName="Configuration variable name";e.EditTestCasesUsingGridTooltip="Edit the selected test cases in grid";e.SaveDataSetText="Save parameter set";e.Add="Add existing";e.Two="2";e.Run="Run test";e.SessionInsightNoWorkItemSupportedInQueryText2="Incorrect work item category specified. Scope your query to the categories mentioned below.";e.WorkItemTypeFilter="Show";e.PeriodSelectedAriaLabel="Period: {0}";e.Email="Email";e.Error="Error";e.ConfigLoadReleasePipelinesFailedMessage="Failed to load Release pipelines. Refresh and try again.";e.TestPlanRemoveFromFavoritesButton="remove from favorites button";e.UpdateVerifyBugSubTitle="Do you want to update the verified bug?";e.About="About";e.TestResults="Test results";e.ActionLogRecordingGuidanceText="Your actions are getting recorded";e.ReproStepExpectedResultHeading="Expected Result";e.SaveAndCloseText="Save and close";e.RunTestForWebAppsText="Run for web application";e.Order="Order";e.Owner="Owner";e.ResetTestText="Reset test to active";e.Width="Width";e.Reset="Reset";e.Stage="Stage";e.Print="Print";e.UnSavedRecording="Recording you made may not be saved.";e.TestShortcutGroupName="Test Plan";e.UnableToDeleteText="Unable to delete the following attachments: {0}";e.TestDurationTrendHeader="Test duration";e.CreateBugTitleForMultipleResults_OnlyOneOtherTest_WithBuild="{0} and {1} other test have issues in {2}";e.NoPlanWithIdExistsGoToDirectory="The test plan with id {0} does not exist or it’s area path is not owned by the default project team. Include it in the default project team’s owned areas and try again. Navigate to \u003ca href=\u0027{1}\u0027\u003eTest plans directory\u003c/a\u003e to browse through the test plans in the project.";e.RunSummaryShortcutGroupName="Runs summary";e.AbortedRunTrendTooltip="Aborted Run";e.AnalyticsTestTrendWidget_Name="Test results trend";e.ExtensionAbsentInfo5Edge="If extension is already installed and is disabled, then enable it from More options \u003e Extensions.";e.RunWithOptionDialogMtr2015AndBelowRunner="Manual tests using Microsoft Test Manager 2015 or earlier client";e.BackResultSummaryIconToolTip="Back to test results";e.ExploreUsingXTToolTip="Do exploratory testing for selected work item.";e.OpenTestSuite="Open test suite";e.AssociatedBuildDefinitionDeleted="The associated build pipeline or build is not available. This error may occur if build pipeline or build has been deleted.​";e.LoadingCompleted="Completed loading {0} files.";e.NoWorkItemFound="No workitem found for given search string";e.ToggleFilter="Filter";e.DetailedTestListLoaded="Test results grid loaded with {0} items.";e.ResultSummaryAnalysisCommentFormat="Comment";e.PassRateMetricsLoaded="Pass rate card loaded.";e.ShowTestsRecursive="Show tests from child suites";e.FailedTestsSubHeader="failed";e.TestOutcome_InProgress="In Progress";e.SelectAll="Select all";e.SelectRow="Select the row";e.MoreRequirementsText="+ {0} more Requirements";e.ExpectedResultHeadingString="EXPECTED RESULT";e.TestRunStateNotStarted="Not started";e.ContinueAndLoseChanges="Do you want to continue and lose changes?";e.DataCollectorDropdownSelectionTextMultiple="Multiple";e.LastDays="Last {0} days";e.TestResultsPaneDateColumnHeader="Date";e.NoLicenseEmptyQueryChartList="To author charts, you must have the correct license and configuration. For more information, \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=256033\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003esee visualstudio.com\u003c/a\u003e.";e.NoBuildArtifactsFound="Code coverage summary was found, but no artifacts were present to fetch the summary file";e.RunFormat="{0}: {1}";e.VariableValues="Variable values";e.FailStepResultShortcut="Press T + F";e.TestOutcome_Inconclusive="Inconclusive";e.ClearErrorMessage="Clear error message";e.FailedTestsText="Failed tests";e.TotalTestsShortFormat="{0}k+";e.InvalidParameterSetErrorString="Shared parameter column name cannot be empty";e.VideoTimeout="10:00 minutes";e.BulkEntryGridSharedStepTitleFormat="Shared steps {0}: {1}";e.NoTestMethodSelectedText="No test method is selected.";e.AnnounceSortedAsc="Sorted by {0} in ascending order";e.ReproStepTestConfigurationHeader="Test Configuration:";e.FileSizeTooLargeForPreview="File size is too large for preview. \u003ca href={0} target=\"_blank\"\u003eClick here\u003c/a\u003e to download the file.";e.AverageDurationInMinutes="{0} minutes";e.RequirementDialogOkText="Associate";e.ColumnOptionsAvailableColumns="Available Columns";e.AutomatedTestStorage="Automated test storage";e.ShowMoreText="Show more...";e.OpenTestPlan="Open test plan";e.ProcessorModel="Processor model";e.InvalidParameterSuiteId="The parameter suiteId is invalid.";e.NeverDeleteSettingsText="Never delete";e.InvalidVariableIdError="Invalid variable id";e.OrderTests="Order tests";e.FailedToOpenPreviewDialog="Failed to open Preview Dialog";e.FailedTestCount="{0} test(s) failed";e.NoImpactedTestsText="This build is configured to run only the tests impacted by incoming commits. No tests ran, since no impacted tests were discovered.";e.TestRunStateUnspecified="Unspecified";e.DeleteParameter="Delete parameter";e.DefaultPivotResolution="resolution";e.ClipboardDataInvalidFormat="The data you\u0027re pasting isn\u0027t the same size as your selection.";e.NotReportedHeading="Not reported";e.NoTestCaseSelectedText="None";e.CreateRequirementSuite="Create requirement-based suites";e.FetchingResultText="Fetching results...";e.LoadingStatus="Loaded {0} files.";e.ResultSummaryAnalysisResolutionFormat="Resolution";e.ProgressReportView="View report";e.EmptyConfigurationVariableRowLabel="Empty configuration variable at row {0}";e.UndoChangesText="Undo changes";e.TotalTestsHeading="Total tests";e.TestCasesLabel="Selected test cases";e.TotalCountText="Total count";e.StackedColumnChartName="Stacked column";e.ErrorMessageLabel="Error message";e.ExportHtmlSuiteTypeHeading="Type";e.SelectBuildInfoForAutomatedTestText="Select the build that has test binaries for the selected automated tests.";e.ReferencedTestSuitesPaneStatusTitle="Associated test suites";e.PixelsPerInchXaxis="Pixels per inch (X axis)";e.PixelsPerInchYaxis="Pixels per inch (Y axis)";e.CreateBugShortcut="C B";e.NoLicenseHostedEmptyQueryChartList="No charts exist for this query.";e.AddFromSharedParameter="Add a shared parameter set";e.NoTestsMessageWhileBuildInProgress="Build | Release is in progress. Test results are not yet available.";e.RunTypeText="Run type";e.NoPlanWithIdExists="The test plan with id {0} does not exist or it’s area path is not owned by the default project team. Include it in the default project team’s owned areas and try again.";e.NoIterationDatesSet="No iteration dates";e.MoreOptions="More Options";e.DetailsText="Details";e.NullValue="-1";e.AddToWorkItemButton="Add to Workitem";e.StepIndex="{0} ";e.AddAttachmentsSuccessfulAnnounceText="{0} attachments added successfully ";e.QualityDataText="Quality Data";e.UpdateCommentMenuItem="Update comment";e.QueryAnd="And";e.ChartDataSourceLabelText="Chart for";e.SelectPlanHubTitle="You can’t create test cases without a test plan. Click \u003ca class=\u0027create-test-plan-hyperlink\u0027\u003ehere\u003c/a\u003e to create a test plan.";e.CoveredLinesText="Covered Lines";e.TestsNotReportedHeading="Tests not reported";e.SessionGridBanner_NoWorkItemFiled="No work item(s) have been filed, change your filter options to see session data in another view.";e.UpdateVerifyBugConfirmationText="Yes";e.TestRunsShortcutGroupName="Test runs";e.RunTestWithDTRText="Run for desktop application";e.DurationText="Duration";e.ClearSearchMessage="Clear search";e.NewFailureIndicator="New";e.ActionLogInProgressError="Another instance of image action log is running. You need to stop the ongoing recording before you can start another recording";e.BrowserIncompatibleInfoWithEdge="Install {0}Test \u0026 Feedback{1} extension and open the feedback link from the email (Right click on Provide feedback -\u003e Copy Hyperlink) in your Google Chrome or Mozilla Firefox or Microsoft Edge browser to provide feedback.";e.CreateSharedStep="Create shared steps";e.SelectTestSuite="Select a test suite";e.ExportHtmlBrowserIncompatibleError="The type [XSLTProcessor] and the function [XmlDocument.transformNode] are not supported by this browser, can\u0027t transform XML document to HTML string!";e.RelatedRequirementDialogTitle="Associate tests to work item";e.EmptyString="";e.ExportHtmlTestSuiteAutomation="Associated automation";e.TrendChartMetricSelectedAriaLabel="Trend chart selected: {0}";e.ConfigurationGridValuesColumn="Configuration values";e.RequirementBasedSuiteTitle="Requirement-based suite";e.ShowingTopSearchResults="Showing top 25 search results";e.TestCaseSaveErrorReasonFormat="- {0}";e.BuildInputPlaceHolderSelectBuildText="\u003cselect a build\u003e";e.BugBeingVerified="Bug being verified:";e.ExportHtmlTestPlanHeading="Test plan";e.AllTestPlanText="All TestPlan";e.ExportHtmlTestPlanRunSettings="Run settings (Test environment, test settings and build)";e.TestResultsPaneTitle="Recent test results";e.ExistingMTRInstanceError="Some tests are already loaded in Test Runner. Do you want to load another instance?";e.AllText="All";e.ConfirmDeletionText="Do you want to continue?";e.NoFailedResultsSuggestionMessage="Change the test outcome filter to view tests relevant to you.";e.SessionInsightSessionOwnersTitle="Session Owners";e.DeletedSuiteNameText="\u003cdeleted\u003e";e.CloseText="Close";e.HideFilterBarTitle="Hide filter bar";e.TestSuiteVisiblePointCountText="Count of visible tests: {0}";e.PassRatePercentage="Pass rate percentage";e.ConfigurationStateActive="Active";e.EnvironmentDoesNotHaveTestReports="No test results are available. To run automated tests, add a test task to your release pipeline.";e.PassedTestsSeriesLabel="Passed tests";e.Settings="Settings";e.ExploratorySessionGroupByUnExploredWorkItem="Unexplored Work Item";e.TestPointGridColumnSuiteId="Suite ID";e.IdentifyAutomatedTestsText="Identifying tests";e.DateCreated="Created Date";e.XTFFMessageDialogHeadingText="Before you can use the screenshot/action recording feature, you will need to install the \u003ca href=\u0027https://aka.ms/xtlearn\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\"_blank\"\u003eTest \u0026 Feedback\u003c/a\u003e extension for Mozilla Firefox browser as a pre-requisite.";e.DeletedStageIdDisplayText="\u003cDeleted stage ID {0}\u003e";e.DefinitionDelete_ConfirmMessage="Are you sure you wish to delete?";e.TestResultsOutcomeChartLabel="{0} test results";e.RunWithOptionDialogOnDemandTesting="Automated tests using release stage";e.QueryWorkItemsEmptyResponse="The provided query pattern is too generic. Please refine your search";e.DeleteAssociation="Delete Association";e.PlanIdColumnHeader="Plan ID";e.SessionInsightQueryIdDeletedText="Selected query returned no results. Either query doesn’t exist, or has been renamed or you don’t have permission. Try again, after fixing the issue.";e.TestOutcome_Blocked="Blocked";e.FailureCountTrendTooltipForRelease="{0} test(s) failed in release {1}";e.SuiteTypeFormatText="Suite type: {0}";e.AttachmentDoesNotExist="The attachment \"{0}\" does not exist";e.RequirementsQuality="Requirements quality";e.TestPointGridColumnTester="Tester";e.CreateOrAddToExistingWorkItemText="Create or add to existing {0}";e.RunText="Run";e.BulkEditSelectedTestCases="Edit selected test cases...";e.SuiteRenameErrorMessage="The test suite has been updated by another user. Retry this operation.";e.LaunchText="Launch";e.ExploratorySessionGridHeader_StartTime="Start Time";e.ClearAutomationDescriptionText="Clear automation";e.AllParameterSets="All Parameter Sets";e.ParameterPlaceholderName="Parameter";e.LastUpdated="Last updated";e.LearnMoreAboutAutomatedTestsFromTestPlansAriaLabel="Learn more on how to run automated tests from test plans";e.ColumnOptionsTitle="Column Options";e.QueryEqualTo="=";e.AddToExistingBugWatermarkText="Search for existing bug using work item id or keywords in title.";e.TestRunFooterBugId="{0}: {1}";e.NewQueryBasedSuiteTitle="New query-based suite";e.TestResultsFilterByOutcomeNotImpacted="Not Impacted";e.ExportHtmlSuiteTypeQuery="Query-based Suite";e.DataSetAddParameterKeyboardShortcutText="Create parameter set";e.CompletedRunsText="Completed runs";e.AssignTesterTooltip="Assign test to team member";e.OtherPercentageSeriesLabel="Other percentage";e.RunWithOptionDialogOnDemandTestingHelpText="Recommended for running automated tests.";e.ConfirmText="Confirm";e.AnnounceAttachmentsDeleted="{0} Attachments Successfully Deleted";e.WebXTExntesionInstallRequired="The Test \u0026 Feedback extension has either been uninstalled or disabled.\u003ca href=\u0027https://aka.ms/chrome-xtinstall\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eInstall\u003c/a\u003e it or enable it first and then retry the operation.";e.DeleteAttachmentTooltip="Press DELETE key to delete the attachment";e.AssignTestersToSuiteEmailTextContent="You have been assigned tests to run -";e.FailedTests="Failed";e.TestCasesText="Test cases";e.RunsCompleted="{0} Runs Completed";e.TestPlansText="Test Plans";e.SummaryLoadedMessage="Summary loaded";e.DisplayTextKilobyte="kb";e.ReleaseCreatedText="Release created";e.ConfigurationVariableGridColumnTitleName="Name";e.NewQueryBasedSuiteDefaultName="New query-based suite";e.BuildsGridNameLabel="Name";e.TestStepsTitle="Test steps";e.TestRunText="Test run";e.TestSingularText="test";e.LoadingWorkItemsMessage="Loading WorkItems...";e.TestOutcome_None="None";e.AnalyticsBreadcrumb="Test Analytics Breadcrumb";e.CreateWorkItemText="Create {0}";e.ResultSummaryPriorityFormat="Priority";e.BuildDetailsSummaryNoCodeCoverageNoLink="No code coverage data is available. \u003cbr\u003e";e.NoWorkItemExploredText="No work item(s) explored";e.Workflow_Build="Build";e.DayFormat="{0}d";e.PermanentDeleteTestWorkItem="Permanently delete";e.NoneFilterValue="(None)";e.LoadingBugsMessage="Loading bugs...";e.MyFavoritesText="My Favorites";e.XTWindowNotFound="Unable to find the selected window for capturing screenshot.";e.RenameText="Rename";e.ExportHtmlTestPlanLabel="Test plan";e.PrivacyText="Privacy";e.ClickText="Click";e.TestAsPrefixSingularText="test";e.TestStepHistoryGridHeader_ExpectedResult="Expected Result";e.TrendByLabel="Trend by";e.BuildResultFailed="Failed";e.ExploratorySessionGroupBySession="Session";e.RunsChartLabel="Runs view chart session";e.RecentSessions="Recent exploratory sessions";e.AnalyticsInitializingTestResultMessage="Hang in for few seconds more, we are analyzing {0} test results…";e.ReleaseText="Release";e.AnalyticsUnavailableCardMetricsSuggestion="Test failures report couldn\u0027t load, click to know more.";e.ErrorFetchingResults="Error occurred while trying to fetch test results data.";e.ConfirmParameterDeletionWithoutParamDetails="These test steps contain parameters. All data values for these parameters will be deleted too.";e.WeeksText="Weeks";e.TestPointGridColumnOutcome="Outcome";e.RunSummaryStatusDurationDay="{0} day ";e.FilterNoTestRun="No test runs available";e.SharedParameterTitle="{0} {1}: {2}";e.TestStepsControlAction="Action";e.ExistingWorkItemDialogText="Search for Existing Workitem";e.PassStepResultShortcut="Press T + P";e.ConfigurationVariableGridColumnTitleValue="Value";e.XTMessageDialogIncongnitoText="To test your web application in Google Chrome incognito mode, enable “allow in incognito” checkbox in the extensions page (chrome://extensions/) for the Test \u0026 Feedback extension.";e.SelectTesterHeadingText="Select testers";e.OtherStagesText="Other stages";e.ExportHtmlTestSuiteAttachments="Links and attachments";e.ViewMoreTests="View more tests";e.XTMessageDialogHeadingText="Before you can use the screenshot/screen recording/action recording feature, you will need to install the \u003ca href=\u0027https://aka.ms/xtlearn\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\"_blank\"\u003eTest \u0026 Feedback\u003c/a\u003e extension for Google Chrome browser as a pre-requisite.";e.BlockTestShortcut="Alt + Shift + B";e.IterationTitleFormat="Iteration {0} {1}";e.SessionInsightWorkItemsExploredTitle="Work Items Explored";e.LoadingTestSteps="{0}loading...";e.TesterFilter="Tester";e.BulkMarkRunTitle="{0} (Manual)";e.SaveText="Save";e.AttachmentsLabel="Attachments ({0})";e.TestResultHistoryLatestResultText="Latest result: ";e.ExploratorySessionViewNoSessionText="There are no exploratory sessions to show for the filter options selected. Change the filter options to view your sessions.  Click \u003cspan\u003e\u003ca href=\u0027https://aka.ms/xtlearn\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003ehere\u003c/a\u003e\u003c/span\u003e to learn more about performing exploratory testing using Test \u0026 Feedback extension.";e.AssignTesterDialogTitle="ASSIGN TESTER TO SELECTED TEST(S)";e.GotoMachinesHubKeyboardShortcutText="Open machines";e.RunWithOptionDialogTitle="Run with options";e.WorkItemGridTitleColumnHeader="Title";e.ResolutionState="Resolution";e.OpenTestCaseToolTip="Open test case";e.NewConfiguration="New test configuration*";e.DefaultGroupKeyRecentRun="RecentRun";e.Minutes="minutes";e.TrendChartLoaded="{0} trend chart loaded.";e.PlanNameColumnHeader="Plan Name";e.TestPointGridColumnSuiteName="Suite Name";e.BugsText="Bugs";e.NotApplicableShortcut="Alt + Shift + N";e.TestResultCommentContainer="Test result comment.";e.FailedToReadFile="Failed to read File";e.UnableToFetchLog="Unable to fetch console log. \u003ca href={0} target=\"_blank\"\u003eClick here\u003c/a\u003e to download the file.";e.AnalyticsReleaseHeroMetricsFooterText="Pass rate and results are for releases done in the last 14 days. Click here to analyze the tests that have been failing in this release pipeline.";e.DefaultChartName="Run Summary Charts";e.BuildPlatformText="Build platform";e.SelectTestersForSuiteEmailSubjectText="Invitation to run {0} tests from {1}";e.StageToRunTestsText="Stage to run automated tests";e.TestRunFooterCreatedBugs="{0} created: {1}";e.OpenRequirement="Open requirement";e.ResultsDetailToggleText="Test result details";e.XTMessageDialogCancelText="Not now";e.PauseTestShortcut="Alt + Shift + U";e.TestRunnerStartResumeError="You cannot resume the test.";e.ConfigurationGridNameColumn="Configuration name";e.TestSuiteDataProgress="Retrieving test suites...";e.NoTestcaseDataAvailableFormat="Error : {0}";e.ResultNoLinkedRequirements="No linked requirements";e.OlderResults="Older results";e.ResultGridHeader_FailingRelease="Failing release";e.FlakyResultIndicator="Flaky";e.DownloadCodeCoverageResults="Download code coverage results";e.ConfigurationVariableValue="Configuration variable value";e.EditText="Edit";e.AnnounceTestMethodSelected="Test method {0} selected.";e.RunWithOptionDialogWebRunnerHelpText="Recommended for testing web applications. Capture screenshots, screen recordings and action logs with this option.";e.NoPlansAvailable="No test plans available";e.PartiallySucceededText="Partially succeeded";e.OrderTestsLabelWithPagination="Showing {0} of {1} test cases - drag/drop tests to reorder.";e.AnalyticsErrorMessage="Yikes! We hit an error while trying to load this page...";e.TestPointState_Completed="Completed";e.TestResultsFilterByOutcome="Outcome";e.CurrentBuild="Current build";e.FindBuildDialogToLabel="To";e.FailTestShortcut="Alt + Shift + F";e.RetentionDurationValidationText="Enter a value between 1 and 10000 for number of days";e.ConfigurationStateInActive="Inactive";e.ResultGridHeader_Owner="Owner";e.LinkRequirementPromotionText="Link Automated tests to requirements and track quality directly from your team Dashboard with the quality widget.";e.CurrentStage="Current stage";e.ExploredText="Explored";e.AlertNoPointsFound="The test case associated with the bug no longer exists";e.AbortedRunsHeading="Aborted Runs";e.NewTestCaseCommandShortcut="Alt + N";e.ViewHistoryText="View History";e.GoButtonText="Go";e.DataCollectorSystemInformationText="System information";e.QuerySetStatus="Set the query";e.TestResultsPaneDurationColumnHeaderTooltip="Duration in seconds";e.ClipboardDataPasteInChunks="Too much data has been selected for copy/paste. Select a smaller set of data and retry the operation.";e.TestCannotBeAddedToSuite="The test cannot be added to this suite. Test suite {0} not found.";e.InsufficientPermissions="You do not have permission to trigger releases on the associated release pipeline.";e.TestMethodsLinkedToRequirements="Work item with ID {0} linked to selected test methods.";e.TestIndicatorSeparator="|";e.AddCommentText="Add comment";e.ConflictingParametersCheckMessagePreText="The following parameter names exist in both the shared steps that you are inserting and the test case:";e.TestRunTitle="Test run title";e.FilterNoBranch="No branches available";e.DetailedListGroupExpanded="{0} group has been expanded and {1} new items have been loaded in Test Results Grid.";e.RemoveSharedParameterWarning="Remove shared parameter?";e.SecondaryChartMetricLabel="Secondary metric";e.TestRunError="You cannot run the selected tests.";e.ThresholdTestResultSelectionHeader="Threshold test results selection reached";e.ConfigurationTitleWatermark="Configuration title...";e.NoBugFound="No bug found for given search string";e.PromptUpdateAfterBugVerificationComplete="Bug verification completed for ID: {0}. Update the bug as appropriate.";e.QueryingStatusText="Querying...";e.TestSuitePaneProjectColumnHeader="Team project";e.IterationDaysRemainingFormat="{0} work days remaining";e.SucceededTimelineHeader="Tests succeeded";e.DataCollectorImageActionLogText="Action log";e.ExportHtmlTestPlanConfiguartions="Configurations";e.SupportedBrowserWebRunnerDataCollectorSelectionText="Screenshots, screen recordings, image action log, etc.";e.ExportHtml="Export";e.SelectPlan="Select a test plan";e.IterationPathText="Iteration Path";e.ExportHtmlSuiteStateHeading="State";e.NewSuiteDefaultFormat="{0} ({1})";e.PassedTestsText="Passed tests";e.CurrentRelease="Current release";e.NoWorkItemFiledText="No work item(s) filed";e.ActionLogActionsText="Actions";e.LinkRequirementStartTitle="Track requirement quality";e.ExtensionAbsentInfo4="OR";e.ExtensionAbsentInfo3="If not installed already, {0}Install{1} Test \u0026 Feedback extension";e.ExtensionAbsentInfo2="After installing/enabling the extension, please refresh the page to continue.";e.TestChartsTitleFormat="{0} - Charts";e.ExtensionAbsentLabel="Oops! We are not able to detect Test \u0026 Feedback extension.";e.AssignConfigurationToPlanDialogTitle="ASSIGN CONFIGURATIONS TO TEST PLAN - {0}";e.LastDay="Last day";e.VariableValue="Variable value...";e.AverageDurationInHours="{0} hours";e.XTEdgeMessageDialogHeadingText="Before you can use the screenshot/action recording feature, you will need to install the \u003ca href=\u0027https://aka.ms/xtlearn\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\"_blank\"\u003eTest \u0026 Feedback\u003c/a\u003e extension for Microsoft Edge browser as a pre-requisite.";e.SelectBuildInfoDefaultInfoText="Test results and defects filed are associated to the selected build.";e.CreateButtonText="Create";e.FailedCountText="Failed count";e.Refresh="Refresh";e.ResultSummaryConfigurationFormat="Configuration";e.MultipleOptionsSelectedText="{0} (+{1})";e.PreviousTestCaseTooltip="Move to previous test";e.Mtr2017AndAboveDataCollectorHelpText="Check what you want to collect from local machine. \u003cspan\u003e\u003ca href=\u0027https://aka.ms/mtr2016\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e\u003c/span\u003e";e.TestRunSummaryTextViewLabel="Summary";e.TestRunnerLaunchInstructionsText="Click \"Launch\" after installation.";e.ShowingCountOfTopSearchResults="Showing top {0} search results";e.TestPlan_TeamFilterText="Filter by team";e.RunWithOptionDialogXT2017AndAboveRunner="Exploratory Testing using Microsoft Test Manager 2017 client";e.GotoTestplanHubKeyboardShortcutText="Open test plans";e.TestRunnerDialogInstallationInfoText="Test Runner (Azure Test Plans) must be installed to run tests for desktop applications.";e.BugCategoryRefName="bug";e.OtherTestsText="Other tests";e.Loading="Loading.";e.ColumnChartName="Column";e.SessionInsightSessionDurationUnit="Hrs";e.PermanentDeleteTestWorkItemToolTip="Permanently delete selected test work item";e.SelectTestersForSuiteDialogBoxText="Select testers to run all the tests in suite - {0}";e.TestRunnerDialogCheckboxText="I have the Test Runner installed, do not show this message again.";e.CommaSeparator=",";e.TestsCausingFailedResultsFormat="{0} causing {1} failed test {2}";e.ResultGridTitle_Test="Test";e.InvalidStepsErrorString="You must fix the highlighted errors in your test case.";e.TestPointsGridSuiteHeader="Test suite: {0} (Suite ID: {1})";e.NinetyDays="90";e.TestConfigurationTitle="Test configuration {0}: {1}";e.ConfigureTestOutcome_Label="Show same outcome of the tests in multiple suites under the same plan";e.WorkItemGroupValueFormat="{0}(ID {1})";e.TestRunnerTestCaseDropdownTitle="{0}: {1} ({2})";e.WorkItemTitle="Title";e.WorkflowFilterLabel="Test results from";e.TotalTestsText="Total tests";e.TestResultsShortcutGroupName="Result summary";e.CollapseIterationDetailsLabel="Collapse iteration details";e.ConfigureTestOutcome_Title="Configure test outcome settings - {0}";e.LoadingSummaryMessage="Loading summary...";e.NoTestResultsForStakeHolder="You cannot view test results because you don’t have the \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=733475\" rel=\"nofollow noopener noreferrer\" target=\"_blank\"\u003ecorrect license\u003c/a\u003e.";e.NoTestResultForTestCase="This test has no results. Either the test has never been run, or the test results have been deleted.";e.NoTestsForSelectedFiltersMessageText="There are no results for the selected filters.";e.WorkItemsText="Work items";e.TestResultsServerError="We can\u0027t reach the server to fetch test results. Please refresh the page to try again.";e.SaveTestsText="Save test cases";e.SessionOwnerHeading="Sessions";e.EmptyDataCollectorsSettings="None";e.TestPlanSelectorFilteredTabText="Filtered";e.InvalidConfigurationIdError="Invalid configuration id";e.DataCollectorScreenRecorderText="Screen and voice recorder";e.AnalyticsInitializingTestResultGenericMessage="Hang in for few seconds more, we are analyzing test results…";e.ScreenRecordingText="Screen recording";e.NoOfDaysFormatString="{0} Days";e.SecondaryChartText="Secondary chart";e.MoveToTop="Move to top";e.ConfigurationState="State";e.AssociatedReleaseDefinitionDeleted="The associated release pipeline is not available. This error may occur if the release pipeline associated with the test plan has been deleted.";e.ProgressReportRunPassed="{0}% run, {1}% passed.";e.FailingTestsText="Unique failing tests";e.TestOutcome_Error="Error";e.RunWithOptionsDialogSelectRunnerComboLabel="Test type and runner";e.NextResultSummaryIconToolTip="Next test result";e.ConfigureTestOutcome_CancelText="Cancel";e.DeleteTestCaseFromSuiteFormat="{0}. {1}";e.RunTestUsingClientText="Run test using client";e.CreateBugTitleForMultipleResults_WithoutBuild="{0} and {1} other tests have issues";e.NewFailuresLegendText="New";e.NoChartSelectedText="No chart selected";e.ReleaseStageText="Release Stage";e.RunTestWithOptionsTooltip="Run with options";e.AttachedFilesLabel="Attachment(s):";e.ResultSingularText="result";e.ResultsPluralText="results";e.DefaultPivotFailureType="failure type";e.ExploratorySessionFilterByOutcomeTask="Tasks";e.DeleteRequirementConfirmationText="Are you sure you want to delete this association?";e.BranchesText="Branches";e.FavoriteTestPlanMetaDataTitle="Area path: {0}\r\nIteration: {1}";e.NoTestResultsSelected="No test results selected";e.NotAvailableText="not available";e.UserLabel="Tester";e.TestAnalyticsLinkMessage="{0} unique failing {1} in the last 14 days";e.UserAgent="User agent";e.AddExistingTestCases="Add existing test cases";e.SelectConfiguration="Select Configuration";e.TestRunNotFoundError="This test run does not exist. Either it\u0027s not created or may have been deleted.";e.ViewLogsText="View logs";e.BuildResultSucceeded="Succeeded";e.DataSetShowTestPaneKeyboardShortcutText="Toggle test cases pane";e.ExploratorySessionGridCell_ZeroWorkItemCount="-";e.TestOutcome_NotImpacted="Not impacted";e.TestConfigurationTitleBlankError="Configuration title cannot be blank";e.Recording="Recording";e.RecordScreen="Record Screen";e.AssignConfigurationToTestCasesDialogTitle="ASSIGN CONFIGURATIONS TO SELECTED TEST CASES";e.AddAttachmentDialogTitle="Add attachment";e.PanePositionToolTip="Toggle the position of the pane";e.TestPlanNameTitle="Name:";e.VerifyBug="Verify";e.NoBranchesFound="No branches found";e.ConfigurationDescription="Description";e.ModuleCoverageText="Modules";e.NewChartDropdownAuthoring="New test case chart";e.PassRateDescription="Pass rate: {0}%";e.TeamFilterAriaLabel="Team filter: {0}";e.ExploratorySessionGridHeader_OwnerName="Name";e.EnableActionLogDialogTitle="Enable image action log";e.UnableToPreviewErrorMessage="You can only preview files with txt and log extensions. \u003ca href=\"{0}\" target=\"_blank\"\u003eClick here\u003c/a\u003e to download this attachment.";e.NoQuerySelectedMsg="Specify requirements to track (optional)";e.AssignConfigurationsToPlan="Assign configurations to test plan";e.UnitInMinutes="minutes";e.IdColumnName="id";e.SupportedBrowserWebRunnerDataCollectorHelpText="Decide at runtime what you want to collect from local machine. \u003cspan\u003e\u003ca href=\u0027https://aka.ms/webrunner\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e\u003c/span\u003e";e.BuildsGridSourceBranchLabel="Source branch";e.TestConfigurationInUseError="Test configuration \u0027{0}\u0027 cannot be deleted as it is in use.";e.DetailedTestListLoadedWithGroupBy="Test results grid grouped by {0} loaded with {1} items.";e.ResultSummaryResultToolTip="Test result for \u0027{0}\u0027";e.BuildInputPlaceHolderXT2017AndAboveClientText="\u003cNot applicable\u003e";e.ResproStepTitleHeader="Title";e.NavigateToTestPlanDirectory="Navigate to test plan directory";e.LatestBuildText="\u003clatest  build\u003e";e.TestsInProgressTextCount="{0} test(s)";e.QueryColumnNameDuration="Duration";e.VariableTitleWatermark="Variable title...";e.ChromeBrowserSettingsName="Run time settings";e.ExploratorySessionFilterByOutcomeBug="Bugs";e.ExploratorySessionFilterByOutcomeAll="All Items";e.InvalidPathErrorMessage="This path does not exist";e.FilterByBranch="Filter By Branch";e.PassTestShortcut="Alt + Shift + P";e.SessionInsightSessionOwnerHeader="SESSION OWNER";e.RecentRuns="Recent test runs";e.QueryCannotContainMe="Error: The value \u0027@me\u0027 cannot be used in a query-based test suite.";e.BuildInUse="Build in use";e.RunSummaryNoErrorMessageText="No error message";e.ExtensionAbsentInfo5Chrome="If extension is already installed and is disabled, then enable it from extensions page (chrome://extensions).";e.TestRunSummaryDefaultText="Default";e.BuildLabel="Build";e.ResultSummaryLabel="Summary";e.FromBuildText="From Build";e.ResultCountAndPassRateText="Trend of test results and pass rate";e.GridViewShortcutText="View grid";e.AddSharedParameterTitle=".add shared parameter set";e.TestStepListAddNewStepText="Click or type here to add a step";e.ClearInformationMessage="Clear information message";e.StackedColumnChartAdvancedTooltip="Use this chart type to compare parts of a data across categories.";e.ResultStateInProgress="In Progress";e.ThreeSixtyFiveDays="365";e.TotalTestsLongFormat="{0} tests";e.ColumnOptionsMoveColumnUp="Move Up";e.TestCaseSaveError="You cannot save the test case or shared steps for one or more of the following reasons:\r\n\r\n{0}\r\n\r\nTo resume testing, undo the changes.";e.ReferencedTestCase="{0}: {1}";e.TestStepHistoryGridHeader_Action="Action";e.RequirementText="Requirement";e.ResultSummaryOnComputerFormat="on {0}";e.RunSummaryStatusDurationMinutes="{0} minutes ";e.DetailedListShowMoreInsideGroup="{0} more items have been loaded in {1} group in Test Results grid.";e.DirtyText="{0}*";e.PrimaryChartText="Primary chart";e.EnterFullScreenModeText="Enter full screen mode";e.BasicUserLimitedPortfolioAccessNotificationMessage="As a Basic user, you can run tests. To create test plans and test cases, you must have an Advanced license.";e.SessionInsightNoWorkItemSupportedInQueryText="Invalid work item category specified. The query only supports work items belonging to Epics, Scenario, Feature, Requirements and/or Test case categories. Change your query selection to include one of the supported categories.";e.StageDropdownLabel="Stage";e.TestStepDataNotAvailable="No data available";e.OnlyFlatQuerySupported="Only flat work item queries are supported.";e.TestHistoryListShowMore="{0} more items have been loaded in test history grid.";e.RetentionActionName="Retention";e.RunTestWithOptionsText="Run with options";e.ExploratorySessionGroupBySessionOwner="Session Owner";e.MoveToPositionErrorMessage="Your input is invalid. Please enter an integer value between 1 and {0}.";e.EnableAutomatedTests="Enable automated tests in your build pipeline by running your test framework of choice, such as \u003ca href=\u0027https://junit.org\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eJUnit\u003c/a\u003e, \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=860028\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003eVisual Studio Test\u003c/a\u003e, or \u003ca href=\u0027https://xunit.github.io/\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003exUnit\u003c/a\u003e. If you choose to run tests using a custom task or runner, you can publish results using the \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=857107\u0027 rel=\u0027nofollow noopener noreferrer\u0027 target=\u0027_blank\u0027\u003ePublish Test Results\u003c/a\u003e task";e.RecordScreenWithAudio="Record screen with audio";e.ConfigurationName="Name";e.TestSettingsText="Test settings";e.DeletedStep="Deleted step";e.UnableToDeleteAssociationText="Unable to remove link to associated work item(s) : {0}";e.TestedBuildText="Tested build";e.DownloadAttachment="Download Attachment";e.PreviewText="Preview";e.AssignTestersToSuiteEmailTemplate="\u003cdiv\u003e\r\n    \u003cp\u003e${TestManagementResources.AssignTestersToSuiteEmailTextHi}\r\n    \u003cbr/\u003e\u003cbr/\u003e\r\n    ${TestManagementResources.AssignTestersToSuiteEmailTextContent}\r\n    \u003ca href=\"${ViewTests}\" tabindex=\"0\"\u003e${TestManagementResources.AssignTestersToSuiteEmailTextViewTest}\u003c/a\u003e\r\n    \u003cbr/\u003e\u003cbr/\u003e\r\n    ${TestManagementResources.AssignTestersToSuiteEmailTextThanks}\u003cbr/\u003e\r\n        ${Name}\r\n    \u003cbr/\u003e\u003cbr/\u003e\r\n    \u003ci\u003e${TestManagementResources.AssignTestersToSuiteHintMessageForRedirectPart1}\u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=524814\" tabindex=\"0\"\u003e${TestManagementResources.AssignTestersToSuiteHintMessageForRedirectPart2}\u003c/a\u003e${TestManagementResources.AssignTestersToSuiteHintMessageForRedirectPart3}\u003c/i\u003e\r\n    \u003cbr/\u003e\u003c/p\u003e\r\n\u003c/div\u003e\r\n";e.Workflow="Workflow";e.DeleteSuite="Delete suite";e.QueryColumnNameDateCompleted="Date completed";e.OpenInNewTab="Open in new tab";e.FailedFetchingAttachment="Attachment download failed. This may be a transient issue. You can refresh the page and try again.";e.RunWithOptionDialogMtr2017AndAboveRunner="Manual tests using Microsoft Test Manager 2017 client";e.RunDurationInfoMessage="Effective run duration for all tests";e.BackToListText="Back to list";e.BuildDetailsSummaryNoTestRuns="No test runs are available for this build. \u003cbr\u003e";e.UnableToPreviewDueToLargeFileSize="You can preview attachments smaller than {0} MB. \u003ca href={0} target=\"_blank\"\u003eClick here\u003c/a\u003e to download the attachment.";e.ChartsHeaderSectionLabel="Charts section";e.SelectBuildInfoXT2017AndAboveClientInfoText="Not applicable for exploratory testing.";e.OutcomeResultCountText="{0} result count";e.UploadingAttachmentsAnnounceText="Uploading attachments";e.OpenInClientTooltip="Open test plan using Microsoft Test Manager";e.TestsInThePipelineText="Pass rate";e.PermanentlyDeleteSuite="Permanently delete suite";e.SixtyDays="60";e.FilterItemAll="All";e.EditQuery="Edit query";e.AddToBugButton="Add to bug";e.UpdatedStep="Updated step";e.TestPlanSettings="Test plan settings";e.CountText="Count";e.RunQuery="Run Query";e.CreateNewText="Create new";e.CreateTestPlanDialogTitle="Create a test plan";e.PassTestsShortcutText="Pass tests";e.ChartsViewTestCaseChartKeyboardShortcutText="New test case chart";e.FromReleaseText="From Release";e.TestRunPassPercentString="{0}%";e.TestVariableTitleDirtyState="Configuration variable {0}*: {1}";e.AssignedTo="Assigned To";e.WorkItemText="Work item";e.ExploreUsingXTText="Do exploratory testing";e.NoConfigurationSelectedErrorText="At least one test configuration should be selected";e.UnspecifiedText="Unspecified";e.FailingTestsMetricsLoaded="Unique failing tests card loaded.";e.AssignTestersToSuiteEmailTextRunAllTest="Run all tests now";e.TestRunLevelSummaryText="Run summary";e.NoTestsText="No tests";e.UnitInSeconds="seconds";e.BrowserIncompatibleInfoWithFirefox="Install {0}Test \u0026 Feedback{1} extension and open the feedback link from the email (Right click on Provide feedback -\u003e Copy Hyperlink) in your Google Chrome or Mozilla Firefox browser to provide feedback.";e.TestStepsControlParameterValuesTitle="Parameter values";e.OpenInClient="Open using client";e.BrowserIncompatibleLabelWithEdge="Sorry! We support only Google Chrome, Mozilla Firefox, and Microsoft Edge browsers for now...";e.ShowTestPointsCountOnFilter="Showing {0} of {1}";e.TotalTestsSubHeader="tests";e.TestStepAttachmentSizeFormat="({0}K)";e.RunDurationHeading="Run duration";e.InvalidParameterPlanId="The parameter planId is invalid.";e.EditTestCasesUsingGrid="Edit selected test cases in grid...";e.SuiteNameCannotBeEmpty="Suite name cannot be empty.";e.NotAssociatedText="Not associated";e.OneEightyDays="180";e.CreateStaticSuite="Create a static suite";e.FindBuildDialogFromLabel="From";e.ResultGridHeader_DateCompleted="Date completed";e.AddSharedParameterWarning="Changing local parameters to shared parameters deletes any local parameter values. Do you want to continue?";e.SearchWorkItem="Search work item";e.ValuesText="Values";e.TestRunnerAboutDialogClose="Close about dialog";e.RemoveTestCaseText="Remove test case from this suite";e.RemoveLink="Remove link";e.IdentifyAutomatedTestsStatus="Found {0} automated test(s)";e.ResultSummaryTitleSeparator=" / ";e.ConfirmAttachmentDeletion="Are you sure you want to delete the following attachment ? {0}";e.QueryColumnNameState="State";e.TestRunnerAboutDialogTitle="Test Runner (Azure Test Plans)";e.ResultOutcomeInfo="{0} {1}";e.Four="4";e.Done="Done";e.Name="Name";e.Next="next";e.Open="Open";e.Help="Help";e.Runs="Runs";e.Stop="Stop";e.Zero="0";e.AnalysisOwner="Analysis owner";e.AllTestConfigurations="All test configurations";e.ResultGridHeader_StageName="Stage name";e.SuiteEntryMoveFailed="You cannot move this test case to this test suite because it has been deleted.";e.AttachmentsHeaderText="Attachments";e.TestVariableTitleBlankError="Configuration variable title cannot be blank";e.RefreshActionLogMessage="Unable to collect image action log. Please refresh the highlighted window and restart image action log to continue";e.OpenTestCaseCommandText="Open test case";e.InsertStepAuthoringTooltip="Insert step(Alt + P)";e.SelectAReleaseDefinitionText="Select a specific release pipeline to view insights";e.TestsShortcutText="Open tests";e.AbortedRunsCount="{0} run(s) aborted";e.ConfigureTestOutcome_Info="Outcomes will be same for tests with same configuration";e.ResultNoAttachments="No attachments";e.FilterByOutcome="Outcome";e.RemoveTestCaseFromRequirementSuiteMessage="In addition it will also remove the mapping between the requirement and the test";e.BugsCreatedTitle="Bugs created: {0}";e.TestPlanSelectorFavoriteTabText="Favorites";e.ColumnOptionsSelectedColumns="Selected Columns";e.ResultSummaryDurationFormat="Duration {0}";e.ReleaseDefinitionLabel="Release pipeline";e.TraceabilityOnWorkitemEnabled="Launch Test \u0026 Feedback extension (click on \u003cspan class=\u0027{0}\u0027\u003e\u003c/span\u003e in the extension toolbar) to continue exploring selected work item ({1} {2}).";e.ScreenShotText="Capture screenshot";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Common/Contracts/System.Data",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.SqlDbType=void 0;var i;(function(n){n[n.BigInt=0]="BigInt";n[n.Binary=1]="Binary";n[n.Bit=2]="Bit";n[n.Char=3]="Char";n[n.DateTime=4]="DateTime";n[n.Decimal=5]="Decimal";n[n.Float=6]="Float";n[n.Image=7]="Image";n[n.Int=8]="Int";n[n.Money=9]="Money";n[n.NChar=10]="NChar";n[n.NText=11]="NText";n[n.NVarChar=12]="NVarChar";n[n.Real=13]="Real";n[n.UniqueIdentifier=14]="UniqueIdentifier";n[n.SmallDateTime=15]="SmallDateTime";n[n.SmallInt=16]="SmallInt";n[n.SmallMoney=17]="SmallMoney";n[n.Text=18]="Text";n[n.Timestamp=19]="Timestamp";n[n.TinyInt=20]="TinyInt";n[n.VarBinary=21]="VarBinary";n[n.VarChar=22]="VarChar";n[n.Variant=23]="Variant";n[n.Xml=25]="Xml";n[n.Udt=29]="Udt";n[n.Structured=30]="Structured";n[n.Date=31]="Date";n[n.Time=32]="Time";n[n.DateTime2=33]="DateTime2";n[n.DateTimeOffset=34]="DateTimeOffset"})(i=t.SqlDbType||(t.SqlDbType={}));t.TypeInfo={SqlDbType:{enumValues:{BigInt:0,Binary:1,Bit:2,Char:3,DateTime:4,Decimal:5,Float:6,Image:7,Int:8,Money:9,NChar:10,NText:11,NVarChar:12,Real:13,UniqueIdentifier:14,SmallDateTime:15,SmallInt:16,SmallMoney:17,Text:18,Timestamp:19,TinyInt:20,VarBinary:21,VarChar:22,Variant:23,Xml:25,Udt:29,Structured:30,Date:31,Time:32,DateTime2:33,DateTimeOffset:34}}}});

define("TFS/Core/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.SourceControlTypes=t.ProjectVisibility=t.ProjectChangeType=t.ProcessType=t.ProcessCustomizationType=t.ConnectedServiceKind=void 0,function(n){n[n.Custom=0]="Custom";n[n.AzureSubscription=1]="AzureSubscription";n[n.Chef=2]="Chef";n[n.Generic=3]="Generic"}(i=t.ConnectedServiceKind||(t.ConnectedServiceKind={})),function(n){n[n.Unknown=-1]="Unknown";n[n.Xml=0]="Xml";n[n.Inherited=1]="Inherited"}(r=t.ProcessCustomizationType||(t.ProcessCustomizationType={})),function(n){n[n.System=0]="System";n[n.Custom=1]="Custom";n[n.Inherited=2]="Inherited"}(u=t.ProcessType||(t.ProcessType={})),function(n){n[n.Modified=0]="Modified";n[n.Deleted=1]="Deleted";n[n.Added=2]="Added"}(f=t.ProjectChangeType||(t.ProjectChangeType={})),function(n){n[n.Unchanged=-1]="Unchanged";n[n.Private=0]="Private";n[n.Organization=1]="Organization";n[n.Public=2]="Public";n[n.SystemPrivate=3]="SystemPrivate"}(e=t.ProjectVisibility||(t.ProjectVisibility={})),function(n){n[n.Tfvc=1]="Tfvc";n[n.Git=2]="Git"}(o=t.SourceControlTypes||(t.SourceControlTypes={}));t.TypeInfo={ConnectedServiceKind:{enumValues:{custom:0,azureSubscription:1,chef:2,generic:3}},Process:{},ProcessCustomizationType:{enumValues:{unknown:-1,xml:0,inherited:1}},ProcessType:{enumValues:{system:0,custom:1,inherited:2}},ProjectChangeType:{enumValues:{modified:0,deleted:1,added:2}},ProjectInfo:{},ProjectMessage:{},ProjectVisibility:{enumValues:{unchanged:-1,"private":0,organization:1,"public":2,systemPrivate:3}},SourceControlTypes:{enumValues:{tfvc:1,git:2}},TeamProject:{},TeamProjectCollection:{},TeamProjectReference:{},TemporaryDataCreatedDTO:{},WebApiConnectedService:{},WebApiConnectedServiceDetails:{},WebApiProject:{}};t.TypeInfo.Process.fields={type:{enumType:t.TypeInfo.ProcessType}};t.TypeInfo.ProjectInfo.fields={lastUpdateTime:{isDate:!0},visibility:{enumType:t.TypeInfo.ProjectVisibility}};t.TypeInfo.ProjectMessage.fields={project:{typeInfo:t.TypeInfo.ProjectInfo},projectChangeType:{enumType:t.TypeInfo.ProjectChangeType}};t.TypeInfo.TeamProject.fields={lastUpdateTime:{isDate:!0},visibility:{enumType:t.TypeInfo.ProjectVisibility}};t.TypeInfo.TeamProjectCollection.fields={processCustomizationType:{enumType:t.TypeInfo.ProcessCustomizationType}};t.TypeInfo.TeamProjectReference.fields={lastUpdateTime:{isDate:!0},visibility:{enumType:t.TypeInfo.ProjectVisibility}};t.TypeInfo.TemporaryDataCreatedDTO.fields={expirationDate:{isDate:!0}};t.TypeInfo.WebApiConnectedService.fields={project:{typeInfo:t.TypeInfo.TeamProjectReference}};t.TypeInfo.WebApiConnectedServiceDetails.fields={connectedServiceMetaData:{typeInfo:t.TypeInfo.WebApiConnectedService}};t.TypeInfo.WebApiProject.fields={lastUpdateTime:{isDate:!0},visibility:{enumType:t.TypeInfo.ProjectVisibility}}});

define("TFS/TestManagement/Contracts",["require","exports","VSS/Common/Contracts/System.Data","TFS/Core/Contracts"],function(n,t,i,r){"use strict";var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.TestSessionState=t.TestSessionSource=t.TestRunSubstate=t.TestRunState=t.TestRunPublishContext=t.TestRunOutcome=t.TestResultsSettingsType=t.TestResultsContextType=t.TestResultGroupBy=t.TestPointState=t.TestOutcome=t.TestLogType=t.TestLogStoreOperationType=t.TestLogStoreEndpointType=t.TestLogStatusCode=t.TestLogScope=t.TestConfigurationState=t.TCMServiceDataMigrationStatus=t.SuiteExpand=t.Service=t.RunType=t.ResultObjectType=t.ResultMetaDataDetails=t.ResultMetadata=t.ResultGroupType=t.ResultDetails=t.OperationType=t.Metrics=t.FlakyDetectionType=t.CustomTestFieldType=t.CustomTestFieldScope=t.CoverageSummaryStatus=t.CoverageStatus=t.CoverageQueryFlags=t.CloneOperationState=t.AttachmentType=void 0,function(n){n[n.GeneralAttachment=0]="GeneralAttachment";n[n.AfnStrip=1]="AfnStrip";n[n.BugFilingData=2]="BugFilingData";n[n.CodeCoverage=3]="CodeCoverage";n[n.IntermediateCollectorData=4]="IntermediateCollectorData";n[n.RunConfig=5]="RunConfig";n[n.TestImpactDetails=6]="TestImpactDetails";n[n.TmiTestRunDeploymentFiles=7]="TmiTestRunDeploymentFiles";n[n.TmiTestRunReverseDeploymentFiles=8]="TmiTestRunReverseDeploymentFiles";n[n.TmiTestResultDetail=9]="TmiTestResultDetail";n[n.TmiTestRunSummary=10]="TmiTestRunSummary";n[n.ConsoleLog=11]="ConsoleLog"}(u=t.AttachmentType||(t.AttachmentType={})),function(n){n[n.Failed=2]="Failed";n[n.InProgress=1]="InProgress";n[n.Queued=0]="Queued";n[n.Succeeded=3]="Succeeded"}(f=t.CloneOperationState||(t.CloneOperationState={})),function(n){n[n.Modules=1]="Modules";n[n.Functions=2]="Functions";n[n.BlockData=4]="BlockData"}(e=t.CoverageQueryFlags||(t.CoverageQueryFlags={})),function(n){n[n.Covered=0]="Covered";n[n.NotCovered=1]="NotCovered";n[n.PartiallyCovered=2]="PartiallyCovered"}(o=t.CoverageStatus||(t.CoverageStatus={})),function(n){n[n.None=0]="None";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed";n[n.Finalized=3]="Finalized";n[n.Pending=4]="Pending";n[n.UpdateRequestQueued=5]="UpdateRequestQueued"}(s=t.CoverageSummaryStatus||(t.CoverageSummaryStatus={})),function(n){n[n.None=0]="None";n[n.TestRun=1]="TestRun";n[n.TestResult=2]="TestResult";n[n.System=4]="System";n[n.All=7]="All"}(h=t.CustomTestFieldScope||(t.CustomTestFieldScope={})),function(n){n[n.Bit=2]="Bit";n[n.DateTime=4]="DateTime";n[n.Int=8]="Int";n[n.Float=6]="Float";n[n.String=12]="String";n[n.Guid=14]="Guid"}(c=t.CustomTestFieldType||(t.CustomTestFieldType={})),function(n){n[n.Custom=1]="Custom";n[n.System=2]="System"}(l=t.FlakyDetectionType||(t.FlakyDetectionType={})),function(n){n[n.All=1]="All";n[n.ResultSummary=2]="ResultSummary";n[n.ResultsAnalysis=3]="ResultsAnalysis";n[n.RunSummary=4]="RunSummary"}(a=t.Metrics||(t.Metrics={})),function(n){n[n.Add=1]="Add";n[n.Delete=2]="Delete"}(v=t.OperationType||(t.OperationType={})),function(n){n[n.None=0]="None";n[n.Iterations=1]="Iterations";n[n.WorkItems=2]="WorkItems";n[n.SubResults=4]="SubResults";n[n.Point=8]="Point"}(y=t.ResultDetails||(t.ResultDetails={})),function(n){n[n.None=0]="None";n[n.Rerun=1]="Rerun";n[n.DataDriven=2]="DataDriven";n[n.OrderedTest=3]="OrderedTest";n[n.Generic=4]="Generic"}(p=t.ResultGroupType||(t.ResultGroupType={})),function(n){n[n.Rerun=1]="Rerun";n[n.Flaky=2]="Flaky"}(w=t.ResultMetadata||(t.ResultMetadata={})),function(n){n[n.None=0]="None";n[n.FlakyIdentifiers=1]="FlakyIdentifiers"}(b=t.ResultMetaDataDetails||(t.ResultMetaDataDetails={})),function(n){n[n.TestSuite=0]="TestSuite";n[n.TestPlan=1]="TestPlan"}(k=t.ResultObjectType||(t.ResultObjectType={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.Normal=1]="Normal";n[n.Blocking=2]="Blocking";n[n.Web=4]="Web";n[n.MtrRunInitiatedFromWeb=8]="MtrRunInitiatedFromWeb";n[n.RunWithDtlEnv=16]="RunWithDtlEnv";n[n.NoConfigRun=32]="NoConfigRun"}(d=t.RunType||(t.RunType={})),function(n){n[n.Any=0]="Any";n[n.Tcm=1]="Tcm";n[n.Tfs=2]="Tfs"}(g=t.Service||(t.Service={})),function(n){n[n.Children=1]="Children";n[n.DefaultTesters=2]="DefaultTesters"}(nt=t.SuiteExpand||(t.SuiteExpand={})),function(n){n[n.NotStarted=0]="NotStarted";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed";n[n.Failed=3]="Failed"}(tt=t.TCMServiceDataMigrationStatus||(t.TCMServiceDataMigrationStatus={})),function(n){n[n.Active=1]="Active";n[n.Inactive=2]="Inactive"}(it=t.TestConfigurationState||(t.TestConfigurationState={})),function(n){n[n.Run=0]="Run";n[n.Build=1]="Build";n[n.Release=2]="Release"}(rt=t.TestLogScope||(t.TestLogScope={})),function(n){n[n.Success=0]="Success";n[n.Failed=1]="Failed";n[n.FileAlreadyExists=2]="FileAlreadyExists";n[n.InvalidInput=3]="InvalidInput";n[n.InvalidFileName=4]="InvalidFileName";n[n.InvalidContainer=5]="InvalidContainer";n[n.TransferFailed=6]="TransferFailed";n[n.FeatureDisabled=7]="FeatureDisabled";n[n.BuildDoesNotExist=8]="BuildDoesNotExist";n[n.RunDoesNotExist=9]="RunDoesNotExist";n[n.ContainerNotCreated=10]="ContainerNotCreated";n[n.APINotSupported=11]="APINotSupported";n[n.FileSizeExceeds=12]="FileSizeExceeds";n[n.ContainerNotFound=13]="ContainerNotFound";n[n.FileNotFound=14]="FileNotFound";n[n.DirectoryNotFound=15]="DirectoryNotFound";n[n.StorageCapacityExceeded=16]="StorageCapacityExceeded"}(ut=t.TestLogStatusCode||(t.TestLogStatusCode={})),function(n){n[n.Root=1]="Root";n[n.File=2]="File"}(ft=t.TestLogStoreEndpointType||(t.TestLogStoreEndpointType={})),function(n){n[n.Read=1]="Read";n[n.Create=2]="Create";n[n.ReadAndCreate=3]="ReadAndCreate"}(et=t.TestLogStoreOperationType||(t.TestLogStoreOperationType={})),function(n){n[n.GeneralAttachment=1]="GeneralAttachment";n[n.CodeCoverage=2]="CodeCoverage";n[n.TestImpact=3]="TestImpact";n[n.Intermediate=4]="Intermediate";n[n.System=5]="System"}(ot=t.TestLogType||(t.TestLogType={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.None=1]="None";n[n.Passed=2]="Passed";n[n.Failed=3]="Failed";n[n.Inconclusive=4]="Inconclusive";n[n.Timeout=5]="Timeout";n[n.Aborted=6]="Aborted";n[n.Blocked=7]="Blocked";n[n.NotExecuted=8]="NotExecuted";n[n.Warning=9]="Warning";n[n.Error=10]="Error";n[n.NotApplicable=11]="NotApplicable";n[n.Paused=12]="Paused";n[n.InProgress=13]="InProgress";n[n.NotImpacted=14]="NotImpacted";n[n.MaxValue=14]="MaxValue"}(st=t.TestOutcome||(t.TestOutcome={})),function(n){n[n.None=0]="None";n[n.Ready=1]="Ready";n[n.Completed=2]="Completed";n[n.NotReady=3]="NotReady";n[n.InProgress=4]="InProgress";n[n.MaxValue=4]="MaxValue"}(ht=t.TestPointState||(t.TestPointState={})),function(n){n[n.Branch=1]="Branch";n[n.Environment=2]="Environment"}(ct=t.TestResultGroupBy||(t.TestResultGroupBy={})),function(n){n[n.Build=1]="Build";n[n.Release=2]="Release";n[n.Pipeline=3]="Pipeline"}(lt=t.TestResultsContextType||(t.TestResultsContextType={})),function(n){n[n.All=1]="All";n[n.Flaky=2]="Flaky";n[n.NewTestLogging=3]="NewTestLogging"}(at=t.TestResultsSettingsType||(t.TestResultsSettingsType={})),function(n){n[n.Passed=0]="Passed";n[n.Failed=1]="Failed";n[n.NotImpacted=2]="NotImpacted";n[n.Others=3]="Others"}(vt=t.TestRunOutcome||(t.TestRunOutcome={})),function(n){n[n.Build=1]="Build";n[n.Release=2]="Release";n[n.All=3]="All"}(yt=t.TestRunPublishContext||(t.TestRunPublishContext={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.Completed=3]="Completed";n[n.Aborted=4]="Aborted";n[n.Waiting=5]="Waiting";n[n.NeedsInvestigation=6]="NeedsInvestigation"}(pt=t.TestRunState||(t.TestRunState={})),function(n){n[n.None=0]="None";n[n.CreatingEnvironment=1]="CreatingEnvironment";n[n.RunningTests=2]="RunningTests";n[n.CanceledByUser=3]="CanceledByUser";n[n.AbortedBySystem=4]="AbortedBySystem";n[n.TimedOut=5]="TimedOut";n[n.PendingAnalysis=6]="PendingAnalysis";n[n.Analyzed=7]="Analyzed";n[n.CancellationInProgress=8]="CancellationInProgress"}(wt=t.TestRunSubstate||(t.TestRunSubstate={})),function(n){n[n.Unknown=0]="Unknown";n[n.XTDesktop=1]="XTDesktop";n[n.FeedbackDesktop=2]="FeedbackDesktop";n[n.XTWeb=3]="XTWeb";n[n.FeedbackWeb=4]="FeedbackWeb";n[n.XTDesktop2=5]="XTDesktop2";n[n.SessionInsightsForAll=6]="SessionInsightsForAll"}(bt=t.TestSessionSource||(t.TestSessionSource={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.Paused=3]="Paused";n[n.Completed=4]="Completed";n[n.Declined=5]="Declined"}(kt=t.TestSessionState||(t.TestSessionState={}));t.TypeInfo={AfnStrip:{},AggregatedDataForResultTrend:{},AggregatedResultDetailsByOutcome:{},AggregatedResultsAnalysis:{},AggregatedResultsByOutcome:{},AggregatedRunsByOutcome:{},AggregatedRunsByState:{},AttachmentType:{enumValues:{generalAttachment:0,afnStrip:1,bugFilingData:2,codeCoverage:3,intermediateCollectorData:4,runConfig:5,testImpactDetails:6,tmiTestRunDeploymentFiles:7,tmiTestRunReverseDeploymentFiles:8,tmiTestResultDetail:9,tmiTestRunSummary:10,consoleLog:11}},BatchResponse:{},BuildConfiguration:{},BuildCoverage:{},BuildReference2:{},BulkResultUpdateRequest:{},CloneOperationInformation:{},CloneOperationState:{enumValues:{failed:2,inProgress:1,queued:0,succeeded:3}},CodeCoverageSummary:{},Coverage2:{},CoverageQueryFlags:{enumValues:{modules:1,functions:2,blockData:4}},CoverageStatus:{enumValues:{covered:0,notCovered:1,partiallyCovered:2}},CoverageSummaryStatus:{enumValues:{none:0,inProgress:1,completed:2,finalized:3,pending:4,updateRequestQueued:5}},CreateTestMessageLogEntryRequest:{},CreateTestResultsRequest:{},CreateTestRunRequest:{},CustomTestFieldDefinition:{},CustomTestFieldScope:{enumValues:{none:0,testRun:1,testResult:2,system:4,all:7}},CustomTestFieldType:{enumValues:{bit:2,dateTime:4,int:8,float:6,string:12,guid:14}},DatedTestFieldData:{},FailingSince:{},FetchTestResultsResponse:{},FlakyDetection:{},FlakyDetectionType:{enumValues:{custom:1,system:2}},FlakySettings:{},LastResultDetails:{},LegacyBuildConfiguration:{},LegacyReleaseReference:{},LegacyTestCaseResult:{},LegacyTestRun:{},LegacyTestSettings:{},Metrics:{enumValues:{all:1,resultSummary:2,resultsAnalysis:3,runSummary:4}},OperationType:{enumValues:{add:1,"delete":2}},PipelineTestMetrics:{},PointLastResult:{},PointsResults2:{},QueryTestActionResultResponse:{},ReleaseReference:{},ReleaseReference2:{},RequirementsToTestsMapping2:{},Response:{},ResultDetails:{enumValues:{none:0,iterations:1,workItems:2,subResults:4,point:8}},ResultGroupType:{enumValues:{none:0,rerun:1,dataDriven:2,orderedTest:3,generic:4}},ResultMetadata:{enumValues:{rerun:1,flaky:2}},ResultMetaDataDetails:{enumValues:{none:0,flakyIdentifiers:1}},ResultObjectType:{enumValues:{testSuite:0,testPlan:1}},ResultRetentionSettings:{},ResultsByQueryResponse:{},ResultsFilter:{},ResultsSummaryByOutcome:{},ResultSummary:{},ResultUpdateRequest:{},ResultUpdateRequestModel:{},ResultUpdateResponse:{},RunCreateModel:{},RunStatistic:{},RunSummary:{},RunSummaryModel:{},RunType:{enumValues:{unspecified:0,normal:1,blocking:2,web:4,mtrRunInitiatedFromWeb:8,runWithDtlEnv:16,noConfigRun:32}},RunUpdateModel:{},Service:{enumValues:{any:0,tcm:1,tfs:2}},SuiteExpand:{enumValues:{children:1,defaultTesters:2}},TCMServiceDataMigrationStatus:{enumValues:{notStarted:0,inProgress:1,completed:2,failed:3}},TestActionResult:{},TestActionResult2:{},TestActionResultModel:{},TestAttachment:{},TestAuthoringDetails:{},TestCaseReference2:{},TestCaseResult:{},TestConfiguration:{},TestConfigurationState:{enumValues:{active:1,inactive:2}},TestExecutionReportData:{},TestExtensionField:{},TestExtensionFieldDetails:{},TestFailuresAnalysis:{},TestHistoryQuery:{},TestIterationDetailsModel:{},TestLog:{},TestLogReference:{},TestLogScope:{enumValues:{run:0,build:1,release:2}},TestLogStatus:{},TestLogStatusCode:{enumValues:{success:0,failed:1,fileAlreadyExists:2,invalidInput:3,invalidFileName:4,invalidContainer:5,transferFailed:6,featureDisabled:7,buildDoesNotExist:8,runDoesNotExist:9,containerNotCreated:10,apiNotSupported:11,fileSizeExceeds:12,containerNotFound:13,fileNotFound:14,directoryNotFound:15,storageCapacityExceeded:16}},TestLogStoreAttachment:{},TestLogStoreEndpointDetails:{},TestLogStoreEndpointType:{enumValues:{root:1,file:2}},TestLogStoreOperationType:{enumValues:{read:1,create:2,readAndCreate:3}},TestLogType:{enumValues:{generalAttachment:1,codeCoverage:2,testImpact:3,intermediate:4,system:5}},TestMessageLogDetails:{},TestMessageLogEntry:{},TestMessageLogEntry2:{},TestOutcome:{enumValues:{unspecified:0,none:1,passed:2,failed:3,inconclusive:4,timeout:5,aborted:6,blocked:7,notExecuted:8,warning:9,error:10,notApplicable:11,paused:12,inProgress:13,notImpacted:14,maxValue:14}},TestParameter2:{},TestPlan:{},TestPlanCloneRequest:{},TestPlanHubData:{},TestPlansWithSelection:{},TestPoint:{},TestPointReference:{},TestPointsEvent:{},TestPointsQuery:{},TestPointState:{enumValues:{none:0,ready:1,completed:2,notReady:3,inProgress:4,maxValue:4}},TestPointsUpdatedEvent:{},TestResult2:{},TestResultAcrossProjectResponse:{},TestResultAttachment:{},TestResultGroupBy:{enumValues:{branch:1,environment:2}},TestResultHistory:{},TestResultHistoryDetailsForGroup:{},TestResultHistoryForGroup:{},TestResultModelBase:{},TestResultReset2:{},TestResultsContext:{},TestResultsContextType:{enumValues:{build:1,release:2,pipeline:3}},TestResultsDetails:{},TestResultsDetailsForGroup:{},TestResultsEx2:{},TestResultsQuery:{},TestResultsSettings:{},TestResultsSettingsType:{enumValues:{all:1,flaky:2,newTestLogging:3}},TestResultSummary:{},TestResultsUpdateSettings:{},TestResultsWithWatermark:{},TestResultTrendFilter:{},TestRun:{},TestRun2:{},TestRunCanceledEvent:{},TestRunCreatedEvent:{},TestRunEvent:{},TestRunEx2:{},TestRunOutcome:{enumValues:{passed:0,failed:1,notImpacted:2,others:3}},TestRunPublishContext:{enumValues:{build:1,release:2,all:3}},TestRunStartedEvent:{},TestRunState:{enumValues:{unspecified:0,notStarted:1,inProgress:2,completed:3,aborted:4,waiting:5,needsInvestigation:6}},TestRunStatistic:{},TestRunSubstate:{enumValues:{none:0,creatingEnvironment:1,runningTests:2,canceledByUser:3,abortedBySystem:4,timedOut:5,pendingAnalysis:6,analyzed:7,cancellationInProgress:8}},TestRunSummary2:{},TestRunWithDtlEnvEvent:{},TestSession:{},TestSessionExploredWorkItemReference:{},TestSessionSource:{enumValues:{unknown:0,xtDesktop:1,feedbackDesktop:2,xtWeb:3,feedbackWeb:4,xtDesktop2:5,sessionInsightsForAll:6}},TestSessionState:{enumValues:{unspecified:0,notStarted:1,inProgress:2,paused:3,completed:4,declined:5}},TestSettings2:{},TestSubResult:{},TestSuite:{},TestSummaryForWorkItem:{},UpdatedProperties:{},UpdateTestRunRequest:{},UpdateTestRunResponse:{},WorkItemToTestLinks:{}};t.TypeInfo.AfnStrip.fields={creationDate:{isDate:!0}};t.TypeInfo.AggregatedDataForResultTrend.fields={resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},runSummaryByState:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunState,dictionaryValueTypeInfo:t.TypeInfo.AggregatedRunsByState},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.AggregatedResultDetailsByOutcome.fields={outcome:{enumType:t.TypeInfo.TestOutcome}};t.TypeInfo.AggregatedResultsAnalysis.fields={notReportedResultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},previousContext:{typeInfo:t.TypeInfo.TestResultsContext},resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},runSummaryByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedRunsByOutcome},runSummaryByState:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunState,dictionaryValueTypeInfo:t.TypeInfo.AggregatedRunsByState}};t.TypeInfo.AggregatedResultsByOutcome.fields={outcome:{enumType:t.TypeInfo.TestOutcome}};t.TypeInfo.AggregatedRunsByOutcome.fields={outcome:{enumType:t.TypeInfo.TestRunOutcome}};t.TypeInfo.AggregatedRunsByState.fields={resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},state:{enumType:t.TypeInfo.TestRunState}};t.TypeInfo.BatchResponse.fields={responses:{isArray:!0,typeInfo:t.TypeInfo.Response}};t.TypeInfo.BuildConfiguration.fields={creationDate:{isDate:!0}};t.TypeInfo.BuildCoverage.fields={configuration:{typeInfo:t.TypeInfo.BuildConfiguration}};t.TypeInfo.BuildReference2.fields={createdDate:{isDate:!0}};t.TypeInfo.BulkResultUpdateRequest.fields={requests:{isArray:!0,typeInfo:t.TypeInfo.ResultUpdateRequest}};t.TypeInfo.CloneOperationInformation.fields={completionDate:{isDate:!0},creationDate:{isDate:!0},resultObjectType:{enumType:t.TypeInfo.ResultObjectType},state:{enumType:t.TypeInfo.CloneOperationState}};t.TypeInfo.CodeCoverageSummary.fields={status:{enumType:t.TypeInfo.CoverageSummaryStatus}};t.TypeInfo.Coverage2.fields={dateCreated:{isDate:!0},dateModified:{isDate:!0}};t.TypeInfo.CreateTestMessageLogEntryRequest.fields={testMessageLogEntry:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogEntry}};t.TypeInfo.CreateTestResultsRequest.fields={results:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.CreateTestRunRequest.fields={results:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult},testRun:{typeInfo:t.TypeInfo.LegacyTestRun},testSettings:{typeInfo:t.TypeInfo.LegacyTestSettings}};t.TypeInfo.CustomTestFieldDefinition.fields={fieldType:{enumType:t.TypeInfo.CustomTestFieldType},scope:{enumType:t.TypeInfo.CustomTestFieldScope}};t.TypeInfo.DatedTestFieldData.fields={date:{isDate:!0}};t.TypeInfo.FailingSince.fields={date:{isDate:!0},release:{typeInfo:t.TypeInfo.ReleaseReference}};t.TypeInfo.FetchTestResultsResponse.fields={actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},attachments:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment},results:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.FlakyDetection.fields={flakyDetectionType:{enumType:t.TypeInfo.FlakyDetectionType}};t.TypeInfo.FlakySettings.fields={flakyDetection:{typeInfo:t.TypeInfo.FlakyDetection}};t.TypeInfo.LastResultDetails.fields={dateCompleted:{isDate:!0}};t.TypeInfo.LegacyBuildConfiguration.fields={completedDate:{isDate:!0},createdDate:{isDate:!0}};t.TypeInfo.LegacyReleaseReference.fields={environmentCreationDate:{isDate:!0},releaseCreationDate:{isDate:!0}};t.TypeInfo.LegacyTestCaseResult.fields={buildReference:{typeInfo:t.TypeInfo.LegacyBuildConfiguration},creationDate:{isDate:!0},customFields:{isArray:!0,typeInfo:t.TypeInfo.TestExtensionField},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},failingSince:{typeInfo:t.TypeInfo.FailingSince},lastUpdated:{isDate:!0},releaseReference:{typeInfo:t.TypeInfo.LegacyReleaseReference},resultGroupType:{enumType:t.TypeInfo.ResultGroupType},stackTrace:{typeInfo:t.TypeInfo.TestExtensionField}};t.TypeInfo.LegacyTestRun.fields={buildReference:{typeInfo:t.TypeInfo.LegacyBuildConfiguration},completeDate:{isDate:!0},creationDate:{isDate:!0},customFields:{isArray:!0,typeInfo:t.TypeInfo.TestExtensionField},dueDate:{isDate:!0},lastUpdated:{isDate:!0},releaseReference:{typeInfo:t.TypeInfo.LegacyReleaseReference},startDate:{isDate:!0},testMessageLogEntries:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogDetails}};t.TypeInfo.LegacyTestSettings.fields={createdDate:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.PipelineTestMetrics.fields={resultSummary:{typeInfo:t.TypeInfo.ResultSummary},runSummary:{typeInfo:t.TypeInfo.RunSummary},summaryAtChild:{isArray:!0,typeInfo:t.TypeInfo.PipelineTestMetrics}};t.TypeInfo.PointLastResult.fields={lastUpdatedDate:{isDate:!0}};t.TypeInfo.PointsResults2.fields={lastUpdated:{isDate:!0}};t.TypeInfo.QueryTestActionResultResponse.fields={testActionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},testAttachments:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment}};t.TypeInfo.ReleaseReference.fields={creationDate:{isDate:!0},environmentCreationDate:{isDate:!0}};t.TypeInfo.ReleaseReference2.fields={environmentCreationDate:{isDate:!0},releaseCreationDate:{isDate:!0}};t.TypeInfo.RequirementsToTestsMapping2.fields={creationDate:{isDate:!0},deletionDate:{isDate:!0}};t.TypeInfo.Response.fields={};t.TypeInfo.ResultRetentionSettings.fields={lastUpdatedDate:{isDate:!0}};t.TypeInfo.ResultsByQueryResponse.fields={testResults:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.ResultsFilter.fields={executedIn:{enumType:t.TypeInfo.Service},maxCompleteDate:{isDate:!0},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.ResultsSummaryByOutcome.fields={aggregatedResultDetailsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultDetailsByOutcome}};t.TypeInfo.ResultSummary.fields={resultSummaryByRunState:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunState,dictionaryValueTypeInfo:t.TypeInfo.ResultsSummaryByOutcome}};t.TypeInfo.ResultUpdateRequest.fields={actionResultDeletes:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},attachments:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment},testCaseResult:{typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.ResultUpdateRequestModel.fields={actionResultDeletes:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel},actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel}};t.TypeInfo.ResultUpdateResponse.fields={lastUpdated:{isDate:!0}};t.TypeInfo.RunCreateModel.fields={buildReference:{typeInfo:t.TypeInfo.BuildConfiguration},releaseReference:{typeInfo:t.TypeInfo.ReleaseReference},runSummary:{isArray:!0,typeInfo:t.TypeInfo.RunSummaryModel}};t.TypeInfo.RunStatistic.fields={resultMetadata:{enumType:t.TypeInfo.ResultMetadata}};t.TypeInfo.RunSummary.fields={runSummaryByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunOutcome},runSummaryByState:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunState}};t.TypeInfo.RunSummaryModel.fields={testOutcome:{enumType:t.TypeInfo.TestOutcome}};t.TypeInfo.RunUpdateModel.fields={logEntries:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogDetails},runSummary:{isArray:!0,typeInfo:t.TypeInfo.RunSummaryModel},substate:{enumType:t.TypeInfo.TestRunSubstate}};t.TypeInfo.TestActionResult.fields={creationDate:{isDate:!0},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.TestActionResult2.fields={creationDate:{isDate:!0},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.TestActionResultModel.fields={completedDate:{isDate:!0},startedDate:{isDate:!0}};t.TypeInfo.TestAttachment.fields={attachmentType:{enumType:t.TypeInfo.AttachmentType},createdDate:{isDate:!0}};t.TypeInfo.TestAuthoringDetails.fields={lastUpdated:{isDate:!0},state:{enumType:t.TypeInfo.TestPointState}};t.TypeInfo.TestCaseReference2.fields={creationDate:{isDate:!0},lastRefTestRunDate:{isDate:!0}};t.TypeInfo.TestCaseResult.fields={completedDate:{isDate:!0},createdDate:{isDate:!0},failingSince:{typeInfo:t.TypeInfo.FailingSince},iterationDetails:{isArray:!0,typeInfo:t.TypeInfo.TestIterationDetailsModel},lastUpdatedDate:{isDate:!0},releaseReference:{typeInfo:t.TypeInfo.ReleaseReference},resultGroupType:{enumType:t.TypeInfo.ResultGroupType},startedDate:{isDate:!0},subResults:{isArray:!0,typeInfo:t.TypeInfo.TestSubResult}};t.TypeInfo.TestConfiguration.fields={lastUpdatedDate:{isDate:!0},state:{enumType:t.TypeInfo.TestConfigurationState}};t.TypeInfo.TestExecutionReportData.fields={reportData:{isArray:!0,typeInfo:t.TypeInfo.DatedTestFieldData}};t.TypeInfo.TestExtensionField.fields={field:{typeInfo:t.TypeInfo.TestExtensionFieldDetails}};t.TypeInfo.TestExtensionFieldDetails.fields={type:{enumType:i.TypeInfo.SqlDbType}};t.TypeInfo.TestFailuresAnalysis.fields={previousContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.TestHistoryQuery.fields={groupBy:{enumType:t.TypeInfo.TestResultGroupBy},maxCompleteDate:{isDate:!0},resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultHistoryForGroup}};t.TypeInfo.TestIterationDetailsModel.fields={actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel},completedDate:{isDate:!0},startedDate:{isDate:!0}};t.TypeInfo.TestLog.fields={logReference:{typeInfo:t.TypeInfo.TestLogReference},modifiedOn:{isDate:!0}};t.TypeInfo.TestLogReference.fields={scope:{enumType:t.TypeInfo.TestLogScope},type:{enumType:t.TypeInfo.TestLogType}};t.TypeInfo.TestLogStatus.fields={status:{enumType:t.TypeInfo.TestLogStatusCode}};t.TypeInfo.TestLogStoreAttachment.fields={attachmentType:{enumType:t.TypeInfo.AttachmentType},createdDate:{isDate:!0}};t.TypeInfo.TestLogStoreEndpointDetails.fields={endpointType:{enumType:t.TypeInfo.TestLogStoreEndpointType},status:{enumType:t.TypeInfo.TestLogStatusCode}};t.TypeInfo.TestMessageLogDetails.fields={dateCreated:{isDate:!0}};t.TypeInfo.TestMessageLogEntry.fields={dateCreated:{isDate:!0}};t.TypeInfo.TestMessageLogEntry2.fields={dateCreated:{isDate:!0}};t.TypeInfo.TestParameter2.fields={creationDate:{isDate:!0},dateModified:{isDate:!0}};t.TypeInfo.TestPlan.fields={endDate:{isDate:!0},startDate:{isDate:!0},updatedDate:{isDate:!0}};t.TypeInfo.TestPlanCloneRequest.fields={destinationTestPlan:{typeInfo:t.TypeInfo.TestPlan}};t.TypeInfo.TestPlanHubData.fields={testPlan:{typeInfo:t.TypeInfo.TestPlan},testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPoint},testSuites:{isArray:!0,typeInfo:t.TypeInfo.TestSuite}};t.TypeInfo.TestPlansWithSelection.fields={plans:{isArray:!0,typeInfo:t.TypeInfo.TestPlan}};t.TypeInfo.TestPoint.fields={lastResetToActive:{isDate:!0},lastResultDetails:{typeInfo:t.TypeInfo.LastResultDetails},lastUpdatedDate:{isDate:!0}};t.TypeInfo.TestPointReference.fields={state:{enumType:t.TypeInfo.TestPointState}};t.TypeInfo.TestPointsEvent.fields={testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPointReference}};t.TypeInfo.TestPointsQuery.fields={points:{isArray:!0,typeInfo:t.TypeInfo.TestPoint}};t.TypeInfo.TestPointsUpdatedEvent.fields={testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPointReference}};t.TypeInfo.TestResult2.fields={creationDate:{isDate:!0},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.TestResultAcrossProjectResponse.fields={testResult:{typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.TestResultAttachment.fields={attachmentType:{enumType:t.TypeInfo.AttachmentType},creationDate:{isDate:!0}};t.TypeInfo.TestResultHistory.fields={resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultHistoryDetailsForGroup}};t.TypeInfo.TestResultHistoryDetailsForGroup.fields={latestResult:{typeInfo:t.TypeInfo.TestCaseResult}};t.TypeInfo.TestResultHistoryForGroup.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult}};t.TypeInfo.TestResultModelBase.fields={completedDate:{isDate:!0},startedDate:{isDate:!0}};t.TypeInfo.TestResultReset2.fields={dateModified:{isDate:!0}};t.TypeInfo.TestResultsContext.fields={contextType:{enumType:t.TypeInfo.TestResultsContextType},release:{typeInfo:t.TypeInfo.ReleaseReference}};t.TypeInfo.TestResultsDetails.fields={resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultsDetailsForGroup}};t.TypeInfo.TestResultsDetailsForGroup.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult},resultsCountByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome}};t.TypeInfo.TestResultsEx2.fields={creationDate:{isDate:!0},dateTimeValue:{isDate:!0}};t.TypeInfo.TestResultsQuery.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult},resultsFilter:{typeInfo:t.TypeInfo.ResultsFilter}};t.TypeInfo.TestResultsSettings.fields={flakySettings:{typeInfo:t.TypeInfo.FlakySettings}};t.TypeInfo.TestResultSummary.fields={aggregatedResultsAnalysis:{typeInfo:t.TypeInfo.AggregatedResultsAnalysis},teamProject:{typeInfo:r.TypeInfo.TeamProjectReference},testFailures:{typeInfo:t.TypeInfo.TestFailuresAnalysis},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.TestResultsUpdateSettings.fields={flakySettings:{typeInfo:t.TypeInfo.FlakySettings}};t.TypeInfo.TestResultsWithWatermark.fields={changedDate:{isDate:!0},pointsResults:{isArray:!0,typeInfo:t.TypeInfo.PointsResults2}};t.TypeInfo.TestResultTrendFilter.fields={maxCompleteDate:{isDate:!0}};t.TypeInfo.TestRun.fields={buildConfiguration:{typeInfo:t.TypeInfo.BuildConfiguration},completedDate:{isDate:!0},createdDate:{isDate:!0},dueDate:{isDate:!0},lastUpdatedDate:{isDate:!0},release:{typeInfo:t.TypeInfo.ReleaseReference},runStatistics:{isArray:!0,typeInfo:t.TypeInfo.RunStatistic},startedDate:{isDate:!0},substate:{enumType:t.TypeInfo.TestRunSubstate}};t.TypeInfo.TestRun2.fields={completeDate:{isDate:!0},creationDate:{isDate:!0},deletedOn:{isDate:!0},dueDate:{isDate:!0},lastUpdated:{isDate:!0},startDate:{isDate:!0}};t.TypeInfo.TestRunCanceledEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunCreatedEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunEx2.fields={createdDate:{isDate:!0},dateTimeValue:{isDate:!0}};t.TypeInfo.TestRunStartedEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunStatistic.fields={runStatistics:{isArray:!0,typeInfo:t.TypeInfo.RunStatistic}};t.TypeInfo.TestRunSummary2.fields={testRunCompletedDate:{isDate:!0}};t.TypeInfo.TestRunWithDtlEnvEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestSession.fields={endDate:{isDate:!0},lastUpdatedDate:{isDate:!0},source:{enumType:t.TypeInfo.TestSessionSource},startDate:{isDate:!0},state:{enumType:t.TypeInfo.TestSessionState}};t.TypeInfo.TestSessionExploredWorkItemReference.fields={endTime:{isDate:!0},startTime:{isDate:!0}};t.TypeInfo.TestSettings2.fields={createdDate:{isDate:!0},lastUpdatedDate:{isDate:!0}};t.TypeInfo.TestSubResult.fields={completedDate:{isDate:!0},lastUpdatedDate:{isDate:!0},resultGroupType:{enumType:t.TypeInfo.ResultGroupType},startedDate:{isDate:!0},subResults:{isArray:!0,typeInfo:t.TypeInfo.TestSubResult}};t.TypeInfo.TestSuite.fields={children:{isArray:!0,typeInfo:t.TypeInfo.TestSuite},lastPopulatedDate:{isDate:!0},lastUpdatedDate:{isDate:!0}};t.TypeInfo.TestSummaryForWorkItem.fields={summary:{typeInfo:t.TypeInfo.AggregatedDataForResultTrend}};t.TypeInfo.UpdatedProperties.fields={lastUpdated:{isDate:!0}};t.TypeInfo.UpdateTestRunRequest.fields={attachmentsToAdd:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment},testRun:{typeInfo:t.TypeInfo.LegacyTestRun}};t.TypeInfo.UpdateTestRunResponse.fields={updatedProperties:{typeInfo:t.TypeInfo.UpdatedProperties}};t.TypeInfo.WorkItemToTestLinks.fields={executedIn:{enumType:t.TypeInfo.Service}}});

define("TFS/TestManagement/VSS.Tcm.WebApi",["require","exports","TFS/TestManagement/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function k(n){return window.VSS&&window.VSS.VssSDKRestVersion&&w[window.VSS.VssSDKRestVersion]?r.getClient(w[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(h,undefined,undefined,undefined,n)}var e,o,f,s,h,c,l,a,v,y,p,b,w;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.TcmHttpClient=t.TcmHttpClient4_1=t.TcmHttpClient5=t.TcmHttpClient5_1=t.TcmHttpClient5_2=t.TcmHttpClient6=t.TcmHttpClient6_1=t.TcmHttpClient7=t.TcmHttpClient7_1=t.CommonMethods5_1To7_1=t.CommonMethods5To7_1=t.CommonMethods4_1To7_1=void 0;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryTestResultWorkItems=function(n,t,i,r,u,f,e){var o={workItemCategory:t,automatedTestName:i,testCaseId:r,maxCompleteDate:u,days:f,$workItemCount:e};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"c7d72725-0479-4c83-8dbc-2bf27010b78b",resource:"workitems",routeTemplate:"{project}/_apis/tcm/results/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:this.workitemsApiVersion})},t.prototype.queryTestMethodLinkedWorkItems=function(n,t){var i={testName:t};return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"f961577c-5122-4651-adfd-c9d500b15d41",resource:"workitems",routeTemplate:"{project}/_apis/tcm/testmethods/{testName}/{resource}/{workItemId}",routeValues:{project:n},queryParams:i,apiVersion:this.workitemsApiVersion_f961577c})},t.prototype.deleteTestMethodToWorkItemLink=function(n,t,i){var r={testName:t,workItemId:i};return this._beginRequest({httpMethod:"DELETE",area:"tcm",locationId:"f961577c-5122-4651-adfd-c9d500b15d41",resource:"workitems",routeTemplate:"{project}/_apis/tcm/testmethods/{testName}/{resource}/{workItemId}",routeValues:{project:n},queryParams:r,apiVersion:this.workitemsApiVersion_f961577c})},t.prototype.addWorkItemToTestLinks=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"84ccb084-255b-483e-b7ea-9d39a273b5fe",resource:"workitems",routeTemplate:"{project}/_apis/tcm/testmethods/{resource}",requestType:i.TypeInfo.WorkItemToTestLinks,responseType:i.TypeInfo.WorkItemToTestLinks,routeValues:{project:t},apiVersion:this.workitemsApiVersion_84ccb084,data:n})},t.prototype.getTestSettingsById=function(n,t){var i={testSettingsId:t};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"5f0315cc-4d71-4ed8-b445-f7eed13a8399",resource:"testsettings",routeTemplate:"{project}/_apis/tcm/{resource}",routeValues:{project:n},queryParams:i,apiVersion:this.testsettingsApiVersion})},t.prototype.deleteTestSettings=function(n,t){var i={testSettingsId:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"tcm",locationId:"5f0315cc-4d71-4ed8-b445-f7eed13a8399",resource:"testsettings",routeTemplate:"{project}/_apis/tcm/{resource}",routeValues:{project:n},queryParams:i,apiVersion:this.testsettingsApiVersion})},t.prototype.createTestSettings=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"5f0315cc-4d71-4ed8-b445-f7eed13a8399",resource:"testsettings",routeTemplate:"{project}/_apis/tcm/{resource}",routeValues:{project:t},apiVersion:this.testsettingsApiVersion,data:n})},t.prototype.queryTestHistory=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"98a1887b-e629-4744-a62e-99e8f0e17704",resource:"TestHistory",routeTemplate:"{project}/_apis/tcm/results/{resource}",requestType:i.TypeInfo.TestHistoryQuery,responseType:i.TypeInfo.TestHistoryQuery,routeValues:{project:t},apiVersion:this.testHistoryApiVersion,data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"ee95ff93-38aa-4f10-88f6-74323c933711",resource:"runs",routeTemplate:"{project}/_apis/tcm/{resource}/{runId}/statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:this.runsApiVersion})},t.prototype.updateTestRun=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"tcm",locationId:"86337575-7ef2-4612-a60e-03cfb8c455b7",resource:"runs",routeTemplate:"{project}/_apis/tcm/{resource}/{runId}",requestType:i.TypeInfo.RunUpdateModel,responseType:i.TypeInfo.TestRun,routeValues:{project:t,runId:r},apiVersion:this.runsApiVersion_86337575,data:n})},t.prototype.queryTestRuns=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var k={minLastUpdatedDate:t,maxLastUpdatedDate:r,state:u,planIds:f&&f.join(","),isAutomated:e,publishContext:o,buildIds:s&&s.join(","),buildDefIds:h&&h.join(","),branchName:c,releaseIds:l&&l.join(","),releaseDefIds:a&&a.join(","),releaseEnvIds:v&&v.join(","),releaseEnvDefIds:y&&y.join(","),runTitle:p,$top:w,continuationToken:b};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"86337575-7ef2-4612-a60e-03cfb8c455b7",resource:"runs",routeTemplate:"{project}/_apis/tcm/{resource}/{runId}",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:n},queryParams:k,apiVersion:this.runsApiVersion_86337575})},t.prototype.getTestRuns=function(n,t,r,u,f,e,o,s,h){var c={buildUri:t,owner:r,tmiRunId:u,planId:f,includeRunDetails:e,automated:o,$skip:s,$top:h};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"86337575-7ef2-4612-a60e-03cfb8c455b7",resource:"runs",routeTemplate:"{project}/_apis/tcm/{resource}/{runId}",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:n},queryParams:c,apiVersion:this.runsApiVersion_86337575})},t.prototype.deleteTestRun=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"tcm",locationId:"86337575-7ef2-4612-a60e-03cfb8c455b7",resource:"runs",routeTemplate:"{project}/_apis/tcm/{resource}/{runId}",routeValues:{project:n,runId:t},apiVersion:this.runsApiVersion_86337575})},t.prototype.createTestRun=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"86337575-7ef2-4612-a60e-03cfb8c455b7",resource:"runs",routeTemplate:"{project}/_apis/tcm/{resource}/{runId}",requestType:i.TypeInfo.RunCreateModel,responseType:i.TypeInfo.TestRun,routeValues:{project:t},apiVersion:this.runsApiVersion_86337575,data:n})},t.prototype.queryResultTrendForRelease=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"79376647-dd74-4b15-b0d4-243e332e169b",resource:"ResultTrendByRelease",routeTemplate:"{project}/_apis/tcm/{resource}",requestType:i.TypeInfo.TestResultTrendFilter,responseType:i.TypeInfo.AggregatedDataForResultTrend,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultTrendByReleaseApiVersion,data:n})},t.prototype.queryResultTrendForBuild=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"177e214e-1f56-4544-a68c-2b55496bd366",resource:"ResultTrendByBuild",routeTemplate:"{project}/_apis/tcm/{resource}",requestType:i.TypeInfo.TestResultTrendFilter,responseType:i.TypeInfo.AggregatedDataForResultTrend,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultTrendByBuildApiVersion,data:n})},t.prototype.queryTestSummaryByRequirement=function(n,t,r){var u={workItemIds:r&&r.join(",")};return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"3f4bf032-936f-48ff-abc3-5bba67ec151e",resource:"resultsummarybyrequirement",routeTemplate:"{project}/_apis/tcm/{resource}",requestType:i.TypeInfo.TestResultsContext,responseType:i.TypeInfo.TestSummaryForWorkItem,responseIsCollection:!0,routeValues:{project:t},queryParams:u,apiVersion:this.resultsummarybyrequirementApiVersion,data:n})},t.prototype.queryTestResultsSummaryForReleases=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"46051c64-54d6-438f-9440-df9b635eb32d",resource:"resultsummarybyrelease",routeTemplate:"{project}/_apis/tcm/{resource}",requestType:i.TypeInfo.ReleaseReference,responseType:i.TypeInfo.TestResultSummary,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultsummarybyreleaseApiVersion,data:n})},t.prototype.queryTestResultsReportForRelease=function(n,t,r,u,f,e){var o={releaseId:t,releaseEnvId:r,publishContext:u,includeFailureDetails:f,releaseToCompare:e};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"46051c64-54d6-438f-9440-df9b635eb32d",resource:"resultsummarybyrelease",routeTemplate:"{project}/_apis/tcm/{resource}",responseType:i.TypeInfo.TestResultSummary,routeValues:{project:n},queryParams:o,apiVersion:this.resultsummarybyreleaseApiVersion})},t.prototype.queryTestResultsReportForBuild=function(n,t,r,u,f){var e={buildId:t,publishContext:r,includeFailureDetails:u,buildToCompare:f};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"2da0c8df-4ab9-4f4d-9aa8-e7859d63fdf1",resource:"resultsummarybybuild",routeTemplate:"{project}/_apis/tcm/{resource}",responseType:i.TypeInfo.TestResultSummary,routeValues:{project:n},queryParams:e,apiVersion:this.resultsummarybybuildApiVersion})},t.prototype.getTestResultsByRelease=function(n,t,i,r,u,f,e){var o={releaseId:t,releaseEnvid:i,publishContext:r,outcomes:u&&u.join(","),$top:f,continuationToken:e};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"8fc27f1b-12db-4c69-bf06-7ec026688c2d",resource:"resultsbyrelease",routeTemplate:"{project}/_apis/tcm/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:this.resultsbyreleaseApiVersion})},t.prototype.getTestResultsByBuild=function(n,t,i,r,u,f){var e={buildId:t,publishContext:i,outcomes:r&&r.join(","),$top:u,continuationToken:f};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"dc342339-9bf3-480f-8c41-a867caf3cd1e",resource:"resultsbybuild",routeTemplate:"{project}/_apis/tcm/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:this.resultsbybuildApiVersion})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"tcm",locationId:"0655a660-543a-4408-93d7-a28d79cf1560",resource:"results",routeTemplate:"{project}/_apis/tcm/runs/{runId}/{resource}/{testResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:this.resultsApiVersion,data:n})},t.prototype.getTestResults=function(n,t,r,u,f,e){var o={detailsToInclude:r,$skip:u,$top:f,outcomes:e&&e.join(",")};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"0655a660-543a-4408-93d7-a28d79cf1560",resource:"results",routeTemplate:"{project}/_apis/tcm/runs/{runId}/{resource}/{testResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:o,apiVersion:this.resultsApiVersion})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"0655a660-543a-4408-93d7-a28d79cf1560",resource:"results",routeTemplate:"{project}/_apis/tcm/runs/{runId}/{resource}/{testResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testResultId:r},queryParams:f,apiVersion:this.resultsApiVersion})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"0655a660-543a-4408-93d7-a28d79cf1560",resource:"results",routeTemplate:"{project}/_apis/tcm/runs/{runId}/{resource}/{testResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:this.resultsApiVersion,data:n})},t.prototype.getTestResultsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"5645f3b7-c0be-4e21-9cbb-ca91db31a422",resource:"results",routeTemplate:"{project}/_apis/tcm/{resource}",requestType:i.TypeInfo.TestResultsQuery,responseType:i.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:this.resultsApiVersion_5645f3b7,data:n})},t.prototype.getTestResultDetailsForRelease=function(n,t,r,u,f,e,o,s,h){var c={releaseId:t,releaseEnvId:r,publishContext:u,groupBy:f,$filter:e,$orderby:o,shouldIncludeResults:s,queryRunSummaryForInProgress:h};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"5ee72329-c86b-4e7e-be8e-0744c2301a84",resource:"resultdetailsbyrelease",routeTemplate:"{project}/_apis/tcm/{resource}",responseType:i.TypeInfo.TestResultsDetails,routeValues:{project:n},queryParams:c,apiVersion:this.resultdetailsbyreleaseApiVersion})},t.prototype.getTestResultDetailsForBuild=function(n,t,r,u,f,e,o,s){var h={buildId:t,publishContext:r,groupBy:u,$filter:f,$orderby:e,shouldIncludeResults:o,queryRunSummaryForInProgress:s};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"aae1bb55-a1b2-4951-86f5-0e72f1396ef9",resource:"resultdetailsbybuild",routeTemplate:"{project}/_apis/tcm/{resource}",responseType:i.TypeInfo.TestResultsDetails,routeValues:{project:n},queryParams:h,apiVersion:this.resultdetailsbybuildApiVersion})},t.prototype.queryTestResultHistory=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"eb9d9b32-4ccb-4c70-a72a-c7ba31d92fd2",resource:"History",routeTemplate:"{project}/_apis/tcm/results/{resource}",requestType:i.TypeInfo.ResultsFilter,responseType:i.TypeInfo.TestResultHistory,routeValues:{project:t},apiVersion:this.historyApiVersion,data:n})},t.prototype.getTestRunCodeCoverage=function(n,t,i){var r={flags:i};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"b82bc30a-7228-4679-901c-0a59ac4b1252",resource:"codecoverage",routeTemplate:"{project}/_apis/tcm/runs/{runId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:r,apiVersion:this.codecoverageApiVersion})},t.prototype.updateCodeCoverageSummary=function(n,t,i){var r={buildId:i};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"tcm",locationId:"21dfff92-0917-41bb-a4af-e68922678713",resource:"codecoverage",routeTemplate:"{project}/_apis/tcm/{resource}",routeValues:{project:t},queryParams:r,apiVersion:this.codecoverageApiVersion_21dfff92,data:n})},t.prototype.getCodeCoverageSummary=function(n,t,r){var u={buildId:t,deltaBuildId:r};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"21dfff92-0917-41bb-a4af-e68922678713",resource:"codecoverage",routeTemplate:"{project}/_apis/tcm/{resource}",responseType:i.TypeInfo.CodeCoverageSummary,routeValues:{project:n},queryParams:u,apiVersion:this.codecoverageApiVersion_21dfff92})},t.prototype.getBuildCodeCoverage=function(n,t,r){var u={buildId:t,flags:r};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"21dfff92-0917-41bb-a4af-e68922678713",resource:"codecoverage",routeTemplate:"{project}/_apis/tcm/{resource}",responseType:i.TypeInfo.BuildCoverage,responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:this.codecoverageApiVersion_21dfff92})},t.prototype.getBugsLinkedToTestResult=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"f337d599-48f4-41a9-a21d-02892899faaf",resource:"bugs",routeTemplate:"{project}/_apis/tcm/runs/{runId}/results/{testCaseResultId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i},apiVersion:this.bugsApiVersion})},t.prototype.getTestRunAttachmentZip=function(n,t,i){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"tcm",locationId:"e78951d9-d80e-483d-ba86-9fe5e53a750e",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,attachmentId:i},apiVersion:this.attachmentsApiVersion})},t.prototype.getTestRunAttachments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"e78951d9-d80e-483d-ba86-9fe5e53a750e",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/{resource}/{attachmentId}",responseType:i.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t},apiVersion:this.attachmentsApiVersion})},t.prototype.getTestRunAttachmentContent=function(n,t,i){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"tcm",locationId:"e78951d9-d80e-483d-ba86-9fe5e53a750e",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,attachmentId:i},apiVersion:this.attachmentsApiVersion})},t.prototype.createTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"e78951d9-d80e-483d-ba86-9fe5e53a750e",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i},apiVersion:this.attachmentsApiVersion,data:n})},t.prototype.getTestSubResultAttachmentZip=function(n,t,i,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"tcm",locationId:"99a64084-7ef3-4cd6-8ba1-1d71891fcc50",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_99a64084})},t.prototype.getTestSubResultAttachments=function(n,t,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"99a64084-7ef3-4cd6-8ba1-1d71891fcc50",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",responseType:i.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_99a64084})},t.prototype.getTestSubResultAttachmentContent=function(n,t,i,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"tcm",locationId:"99a64084-7ef3-4cd6-8ba1-1d71891fcc50",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_99a64084})},t.prototype.getTestResultAttachmentZip=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"tcm",locationId:"99a64084-7ef3-4cd6-8ba1-1d71891fcc50",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},apiVersion:this.attachmentsApiVersion_99a64084})},t.prototype.getTestResultAttachments=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"99a64084-7ef3-4cd6-8ba1-1d71891fcc50",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",responseType:i.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r},apiVersion:this.attachmentsApiVersion_99a64084})},t.prototype.getTestResultAttachmentContent=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"tcm",locationId:"99a64084-7ef3-4cd6-8ba1-1d71891fcc50",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},apiVersion:this.attachmentsApiVersion_99a64084})},t.prototype.createTestSubResultAttachment=function(n,t,i,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"99a64084-7ef3-4cd6-8ba1-1d71891fcc50",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_99a64084,data:n})},t.prototype.createTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"99a64084-7ef3-4cd6-8ba1-1d71891fcc50",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},apiVersion:this.attachmentsApiVersion_99a64084,data:n})},t.serviceInstanceId="00000054-0000-8888-8000-000000000000",t}(u.VssHttpClient);t.CommonMethods4_1To7_1=e;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryTestSettingsCount=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"6133ddc0-a54a-4eca-b0d7-b86fa87d48ba",resource:"testsettingscompat",routeTemplate:"{project}/_apis/tcm/{resource}/query2",routeValues:{project:t},apiVersion:this.testsettingscompatApiVersion,data:n})},t.prototype.queryTestSettings=function(n,t,r){var u={omitSettings:r};return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"e87c5c1a-1109-4f47-afc7-9205095f3b5a",resource:"testsettingscompat",routeTemplate:"{project}/_apis/tcm/{resource}/query",responseType:i.TypeInfo.LegacyTestSettings,responseIsCollection:!0,routeValues:{project:t},queryParams:u,apiVersion:this.testsettingscompatApiVersion_e87c5c1a,data:n})},t.prototype.createTestSettingsCompat=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"898fbf7e-d847-4145-bcb8-f6e887a4ec67",resource:"testsettingscompat",routeTemplate:"{project}/_apis/tcm/{resource}/create",requestType:i.TypeInfo.LegacyTestSettings,responseType:i.TypeInfo.UpdatedProperties,routeValues:{project:t},apiVersion:this.testsettingscompatApiVersion_898fbf7e,data:n})},t.prototype.updateTestSettings=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"tcm",locationId:"06c36c34-dd95-4ffd-be7f-70135fcdf4ec",resource:"testsettingscompat",routeTemplate:"{project}/_apis/tcm/{resource}",requestType:i.TypeInfo.LegacyTestSettings,responseType:i.TypeInfo.UpdatedProperties,routeValues:{project:t},apiVersion:this.testsettingscompatApiVersion_06c36c34,data:n})},t.prototype.getTestSettingsCompatById=function(n,t){var r={testSettingsId:t};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"06c36c34-dd95-4ffd-be7f-70135fcdf4ec",resource:"testsettingscompat",routeTemplate:"{project}/_apis/tcm/{resource}",responseType:i.TypeInfo.LegacyTestSettings,routeValues:{project:n},queryParams:r,apiVersion:this.testsettingscompatApiVersion_06c36c34})},t.prototype.getTestExecutionSummaryReport=function(n,t,r,u){var f={dimensionList:u&&u.join(",")};return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"c012317d-845c-4e0e-b93e-56c3fcedb95a",resource:"testexecutionsummaryreport",routeTemplate:"{project}/_apis/tcm/{resource}/{planId}",requestType:i.TypeInfo.TestAuthoringDetails,responseType:i.TypeInfo.TestExecutionReportData,routeValues:{project:t,planId:r},queryParams:f,apiVersion:this.testexecutionsummaryreportApiVersion,data:n})},t.prototype.getTestRunSummaryReport=function(n,t,r){var u={dimensionList:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"64ad9c84-aba3-4031-8547-3ccf2dce6804",resource:"runsummaryreport",routeTemplate:"{project}/_apis/tcm/{resource}/{runId}",responseType:i.TypeInfo.TestExecutionReportData,routeValues:{project:n,runId:t},queryParams:u,apiVersion:this.runsummaryreportApiVersion})},t.prototype.getTestRunsByQuery=function(n,t,r,u,f,e){var o={includeIdsOnly:r,includeRunDetails:u,$skip:f,$top:e};return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"86337575-7ef2-4612-a60e-03cfb8c455b7",resource:"runs",routeTemplate:"{project}/_apis/tcm/{resource}/{runId}",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:o,apiVersion:this.runsApiVersion_86337575,data:n})},t.prototype.getTestRunById=function(n,t,r){var u={includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"86337575-7ef2-4612-a60e-03cfb8c455b7",resource:"runs",routeTemplate:"{project}/_apis/tcm/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},queryParams:u,apiVersion:this.runsApiVersion_86337575})},t.prototype.createBatchedBlockedResults=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"ce47a161-b387-4f55-b22e-2d3d5956fc1d",resource:"resultsandruns",routeTemplate:"{project}/_apis/tcm/{resource}",requestType:i.TypeInfo.LegacyTestCaseResult,responseType:i.TypeInfo.LegacyTestCaseResult,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultsandrunsApiVersion,data:n})},t.prototype.getResultGroupsByRelease=function(n,t,i,r,u,f){var e={releaseId:t,publishContext:i,releaseEnvId:r,fields:u&&u.join(","),continuationToken:f};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"5e746c5c-4fb7-46f7-bc6c-913110a98fbf",resource:"resultgroupsbyrelease",routeTemplate:"{project}/_apis/tcm/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:this.resultgroupsbyreleaseApiVersion})},t.prototype.getResultGroupsByBuild=function(n,t,i,r,u){var f={buildId:t,publishContext:i,fields:r&&r.join(","),continuationToken:u};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"af70663f-e385-4d73-9d59-3f44a5d9e066",resource:"resultgroupsbybuild",routeTemplate:"{project}/_apis/tcm/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.resultgroupsbybuildApiVersion})},t.prototype.uploadAttachmentsLegacy=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"tcm",locationId:"d1add0dd-79c5-40b1-b8bf-ca37c79ba764",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/UploadAttachmentsLegacy",apiVersion:this.mtmCompatResultsApiVersion,data:n})},t.prototype.updateTestRunLegacy=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"6afb5d3c-3a6f-4598-b6cc-fcf187dd3e6e",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/UpdateTestRunLegacy",requestType:i.TypeInfo.UpdateTestRunRequest,responseType:i.TypeInfo.UpdateTestRunResponse,apiVersion:this.mtmCompatResultsApiVersion_6afb5d3c,data:n})},t.prototype.updateTestResultsLegacy=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"2d8bef90-cf8f-44b2-8cff-148925458c16",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/UpdateTestResultsLegacy",requestType:i.TypeInfo.BulkResultUpdateRequest,responseType:i.TypeInfo.ResultUpdateResponse,responseIsCollection:!0,apiVersion:this.mtmCompatResultsApiVersion_2d8bef90,data:n})},t.prototype.resetTestResults=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"535f2f8b-67a7-4783-b304-71855008b15e",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/ResetTestResults",responseType:i.TypeInfo.LegacyTestCaseResult,responseIsCollection:!0,apiVersion:this.mtmCompatResultsApiVersion_535f2f8b,data:n})},t.prototype.queryTestRunStats=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"9b343f31-9e27-4d5f-9450-99341aa62954",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/QueryTestRunStats",responseIsCollection:!0,apiVersion:this.mtmCompatResultsApiVersion_9b343f31,data:n})},t.prototype.queryTestRunsLegacy=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"5cc14c9a-6782-4773-98f2-94846aa10c47",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/QueryTestRunsLegacy",responseType:i.TypeInfo.LegacyTestRun,responseIsCollection:!0,apiVersion:this.mtmCompatResultsApiVersion_5cc14c9a,data:n})},t.prototype.queryTestRunsCount=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"2fe7c059-cb0d-4239-a37b-5cf10e57c2b4",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/QueryTestRunsCount",apiVersion:this.mtmCompatResultsApiVersion_2fe7c059,data:n})},t.prototype.queryTestRunsAcrossMultipleProjects=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"466760db-95dd-413e-9030-bc109cc16c86",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/QueryTestRunsAcrossMultipleProjects",responseType:i.TypeInfo.LegacyTestRun,responseIsCollection:!0,apiVersion:this.mtmCompatResultsApiVersion_466760db,data:n})},t.prototype.queryTestRuns2=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"9d897c0c-48a5-430b-a96a-6b033ee823a4",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/QueryTestRuns2",responseType:i.TypeInfo.LegacyTestRun,responseIsCollection:!0,apiVersion:this.mtmCompatResultsApiVersion_9d897c0c,data:n})},t.prototype.queryTestMessageLogEntry=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"1b5d25b4-e83c-4400-b8da-c3c89f14cdde",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/QueryTestMessageLogEntry",responseType:i.TypeInfo.TestMessageLogEntry,responseIsCollection:!0,apiVersion:this.mtmCompatResultsApiVersion_1b5d25b4,data:n})},t.prototype.queryTestActionResults=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"d8eb6ab5-0457-4ec0-8bf9-a2be683188b3",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/QueryTestActionResults",responseType:i.TypeInfo.QueryTestActionResultResponse,apiVersion:this.mtmCompatResultsApiVersion_d8eb6ab5,data:n})},t.prototype.queryByRunAndState=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"6516def2-10dc-49c3-8557-1001af5ba0d0",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/QueryByRunAndState",responseType:i.TypeInfo.FetchTestResultsResponse,apiVersion:this.mtmCompatResultsApiVersion_6516def2,data:n})},t.prototype.queryByRunAndOwner=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"980fe82f-bd10-4d3b-ad46-00b679f1b628",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/QueryByRunAndOwner",responseType:i.TypeInfo.FetchTestResultsResponse,apiVersion:this.mtmCompatResultsApiVersion_980fe82f,data:n})},t.prototype.queryByRunAndOutcome=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"3f690505-1d33-470c-a309-d279c015b7e8",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/QueryByRunAndOutcome",responseType:i.TypeInfo.FetchTestResultsResponse,apiVersion:this.mtmCompatResultsApiVersion_3f690505,data:n})},t.prototype.queryByRun=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"bc2b04d6-441b-46d7-b3cd-3db127fcfc46",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/QueryByRun",responseType:i.TypeInfo.FetchTestResultsResponse,apiVersion:this.mtmCompatResultsApiVersion_bc2b04d6,data:n})},t.prototype.queryByPoint=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"ef28b894-f109-453b-bed9-a5a90c58264c",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/QueryByPoint",responseType:i.TypeInfo.LegacyTestCaseResult,responseIsCollection:!0,apiVersion:this.mtmCompatResultsApiVersion_ef28b894,data:n})},t.prototype.getTestRunByTmiRunId=function(n){var t={tmiRunId:n};return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"414c81b9-e7ca-4814-869b-216f18cbf510",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/GetTestRunByTmiRunId",responseType:i.TypeInfo.LegacyTestRun,queryParams:t,apiVersion:this.mtmCompatResultsApiVersion_414c81b9})},t.prototype.getTestResultsByQueryLegacy=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"c3801e01-633b-42e0-b045-7d6577aa1da8",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/GetTestResultsByQueryLegacy",responseType:i.TypeInfo.ResultsByQueryResponse,apiVersion:this.mtmCompatResultsApiVersion_c3801e01,data:n})},t.prototype.getTestResultsAcrossProjects=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"188287b2-7878-4f28-98bd-d53dd8351d19",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/GetTestResultsAcrossProjects",responseType:i.TypeInfo.TestResultAcrossProjectResponse,apiVersion:this.mtmCompatResultsApiVersion_188287b2,data:n})},t.prototype.fetchTestResults=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"2daf90f7-fc98-4acc-881c-eabaf2244ac5",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/FetchTestResults",responseType:i.TypeInfo.FetchTestResultsResponse,apiVersion:this.mtmCompatResultsApiVersion_2daf90f7,data:n})},t.prototype.downloadAttachmentsLegacyZip=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"application/zip",area:"tcm",locationId:"f16ee7c3-199b-419f-a8ba-d4a76661e5b3",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/DownloadAttachmentsLegacy",apiVersion:this.mtmCompatResultsApiVersion_f16ee7c3,data:n})},t.prototype.downloadAttachmentsLegacyContent=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"application/octet-stream",area:"tcm",locationId:"f16ee7c3-199b-419f-a8ba-d4a76661e5b3",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/DownloadAttachmentsLegacy",apiVersion:this.mtmCompatResultsApiVersion_f16ee7c3,data:n})},t.prototype.deleteTestRunIds=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"tcm",locationId:"8959fe42-ae7f-4f24-aa13-a6fd356d9fca",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/DeleteTestRunIds",apiVersion:this.mtmCompatResultsApiVersion_8959fe42,data:n})},t.prototype.createTestRunLegacy=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"1e0d28b8-ed74-4d97-83af-2e3cd024a8bf",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/CreateTestRunLegacy",requestType:i.TypeInfo.CreateTestRunRequest,responseType:i.TypeInfo.LegacyTestRun,apiVersion:this.mtmCompatResultsApiVersion_1e0d28b8,data:n})},t.prototype.createTestResultsLegacy=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"tcm",locationId:"459dc66b-20fc-4b7d-a7ea-88cf57d07616",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/CreateTestResultsLegacy",requestType:i.TypeInfo.CreateTestResultsRequest,apiVersion:this.mtmCompatResultsApiVersion_459dc66b,data:n})},t.prototype.createTestMessageLogEntries=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"2bcbb8a7-1496-464c-9a64-72cd191c35b1",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/CreateTestMessageLogEntries",requestType:i.TypeInfo.CreateTestMessageLogEntryRequest,responseIsCollection:!0,apiVersion:this.mtmCompatResultsApiVersion_2bcbb8a7,data:n})},t.prototype.abortTestRun=function(n){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"04a5f40b-a3aa-4c3a-82c6-89174ad0e235",resource:"MTMCompatResults",routeTemplate:"_apis/tcm/legacy/AbortTestRun",responseType:i.TypeInfo.UpdatedProperties,apiVersion:this.mtmCompatResultsApiVersion_04a5f40b,data:n})},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f){var e={iterationId:u,actionPath:f};return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"99a64084-7ef3-4cd6-8ba1-1d71891fcc50",resource:"attachments",routeTemplate:"{project}/_apis/tcm/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:e,apiVersion:this.attachmentsApiVersion_99a64084,data:n})},t.prototype.getTestResultAttachmentStream=function(n,t){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"tcm",locationId:"9a941c36-fa09-446c-b15c-6c1dc03efce9",resource:"attachments",routeTemplate:"{project}/_apis/tcm/{resource}/{attachmentId}",routeValues:{project:n,attachmentId:t},apiVersion:this.attachmentsApiVersion_9a941c36})},t.prototype.getAttachmentsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"9a941c36-fa09-446c-b15c-6c1dc03efce9",resource:"attachments",routeTemplate:"{project}/_apis/tcm/{resource}/{attachmentId}",responseType:i.TypeInfo.TestResultAttachment,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.attachmentsApiVersion_9a941c36,data:n})},t.prototype.getAttachments2=function(n,t,r){var u={getSiblingAttachments:r};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"9a941c36-fa09-446c-b15c-6c1dc03efce9",resource:"attachments",routeTemplate:"{project}/_apis/tcm/{resource}/{attachmentId}",responseType:i.TypeInfo.TestResultAttachment,responseIsCollection:!0,routeValues:{project:n,attachmentId:t},queryParams:u,apiVersion:this.attachmentsApiVersion_9a941c36})},t.prototype.getAttachments=function(n,t,r,u,f,e){var o={testRunId:r,testResultId:u,subResultId:f,sessionId:e};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"9a941c36-fa09-446c-b15c-6c1dc03efce9",resource:"attachments",routeTemplate:"{project}/_apis/tcm/{resource}/{attachmentId}",responseType:i.TypeInfo.TestResultAttachment,responseIsCollection:!0,routeValues:{project:n,attachmentId:t},queryParams:o,apiVersion:this.attachmentsApiVersion_9a941c36})},t.prototype.updateDefaultAfnStrips=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"tcm",locationId:"e95b7842-152c-4a62-ad35-6c428cddde07",resource:"AfnStrips",routeTemplate:"{project}/_apis/tcm/AfnStrips",routeValues:{project:t},apiVersion:this.afnStripsApiVersion,data:n})},t.prototype.getAfnStrips=function(n,t){var r={testCaseIds:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"e95b7842-152c-4a62-ad35-6c428cddde07",resource:"AfnStrips",routeTemplate:"{project}/_apis/tcm/AfnStrips",responseType:i.TypeInfo.AfnStrip,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.afnStripsApiVersion})},t.prototype.createAfnStrip=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"e95b7842-152c-4a62-ad35-6c428cddde07",resource:"AfnStrips",routeTemplate:"{project}/_apis/tcm/AfnStrips",requestType:i.TypeInfo.AfnStrip,responseType:i.TypeInfo.AfnStrip,routeValues:{project:t},apiVersion:this.afnStripsApiVersion,data:n})},t}(e);t.CommonMethods5To7_1=o;f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getManualTestResultsByUpdatedDate=function(n,t,r,u){var f={updateDate:t,fromRunId:r,fromResultId:u};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"c1da87e8-68e7-46c4-9c64-bc449ab358dd",resource:"pointresults",routeTemplate:"{project}/_apis/tcm/{resource}",responseType:i.TypeInfo.TestResultsWithWatermark,routeValues:{project:n},queryParams:f,apiVersion:this.pointresultsApiVersion})},t.prototype.filterPoints=function(n,t){return this._beginRequest({httpMethod:"POST",area:"tcm",locationId:"905d7331-24be-4cbf-ac54-70c2c838ab7a",resource:"pointresults",routeTemplate:"{project}/_apis/tcm/{resource}",responseType:i.TypeInfo.PointLastResult,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.pointresultsApiVersion_905d7331,data:n})},t}(o);t.CommonMethods5_1To7_1=f;s=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.afnStripsApiVersion=r.attachmentsApiVersion=r.attachmentsApiVersion_99a64084=r.attachmentsApiVersion_9a941c36=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_21dfff92=r.historyApiVersion=r.mtmCompatResultsApiVersion=r.mtmCompatResultsApiVersion_6afb5d3c=r.mtmCompatResultsApiVersion_2d8bef90=r.mtmCompatResultsApiVersion_535f2f8b=r.mtmCompatResultsApiVersion_9b343f31=r.mtmCompatResultsApiVersion_5cc14c9a=r.mtmCompatResultsApiVersion_2fe7c059=r.mtmCompatResultsApiVersion_466760db=r.mtmCompatResultsApiVersion_9d897c0c=r.mtmCompatResultsApiVersion_1b5d25b4=r.mtmCompatResultsApiVersion_d8eb6ab5=r.mtmCompatResultsApiVersion_6516def2=r.mtmCompatResultsApiVersion_980fe82f=r.mtmCompatResultsApiVersion_3f690505=r.mtmCompatResultsApiVersion_bc2b04d6=r.mtmCompatResultsApiVersion_ef28b894=r.mtmCompatResultsApiVersion_414c81b9=r.mtmCompatResultsApiVersion_c3801e01=r.mtmCompatResultsApiVersion_188287b2=r.mtmCompatResultsApiVersion_2daf90f7=r.mtmCompatResultsApiVersion_f16ee7c3=r.mtmCompatResultsApiVersion_8959fe42=r.mtmCompatResultsApiVersion_1e0d28b8=r.mtmCompatResultsApiVersion_459dc66b=r.mtmCompatResultsApiVersion_2bcbb8a7=r.mtmCompatResultsApiVersion_04a5f40b=r.pointresultsApiVersion=r.pointresultsApiVersion_905d7331=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultsApiVersion=r.resultsApiVersion_5645f3b7=r.resultsandrunsApiVersion=r.resultsbybuildApiVersion=r.resultsbyreleaseApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion=r.runsApiVersion_86337575=r.runsummaryreportApiVersion=r.testexecutionsummaryreportApiVersion=r.testHistoryApiVersion=r.testsettingsApiVersion=r.testsettingscompatApiVersion=r.testsettingscompatApiVersion_e87c5c1a=r.testsettingscompatApiVersion_898fbf7e=r.testsettingscompatApiVersion_06c36c34=r.workitemsApiVersion=r.workitemsApiVersion_f961577c=r.workitemsApiVersion_84ccb084="7.1-preview.1",r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion="7.1-preview.2",r}return __extends(t,n),t}(f);t.TcmHttpClient7_1=s;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.runsApiVersion="7.0",r.afnStripsApiVersion=r.attachmentsApiVersion=r.attachmentsApiVersion_99a64084=r.attachmentsApiVersion_9a941c36=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_21dfff92=r.historyApiVersion=r.mtmCompatResultsApiVersion=r.mtmCompatResultsApiVersion_6afb5d3c=r.mtmCompatResultsApiVersion_2d8bef90=r.mtmCompatResultsApiVersion_535f2f8b=r.mtmCompatResultsApiVersion_9b343f31=r.mtmCompatResultsApiVersion_5cc14c9a=r.mtmCompatResultsApiVersion_2fe7c059=r.mtmCompatResultsApiVersion_466760db=r.mtmCompatResultsApiVersion_9d897c0c=r.mtmCompatResultsApiVersion_1b5d25b4=r.mtmCompatResultsApiVersion_d8eb6ab5=r.mtmCompatResultsApiVersion_6516def2=r.mtmCompatResultsApiVersion_980fe82f=r.mtmCompatResultsApiVersion_3f690505=r.mtmCompatResultsApiVersion_bc2b04d6=r.mtmCompatResultsApiVersion_ef28b894=r.mtmCompatResultsApiVersion_414c81b9=r.mtmCompatResultsApiVersion_c3801e01=r.mtmCompatResultsApiVersion_188287b2=r.mtmCompatResultsApiVersion_2daf90f7=r.mtmCompatResultsApiVersion_f16ee7c3=r.mtmCompatResultsApiVersion_8959fe42=r.mtmCompatResultsApiVersion_1e0d28b8=r.mtmCompatResultsApiVersion_459dc66b=r.mtmCompatResultsApiVersion_2bcbb8a7=r.mtmCompatResultsApiVersion_04a5f40b=r.pointresultsApiVersion=r.pointresultsApiVersion_905d7331=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultsApiVersion=r.resultsApiVersion_5645f3b7=r.resultsandrunsApiVersion=r.resultsbybuildApiVersion=r.resultsbyreleaseApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion_86337575=r.runsummaryreportApiVersion=r.testexecutionsummaryreportApiVersion=r.testHistoryApiVersion=r.testsettingsApiVersion=r.testsettingscompatApiVersion=r.testsettingscompatApiVersion_e87c5c1a=r.testsettingscompatApiVersion_898fbf7e=r.testsettingscompatApiVersion_06c36c34=r.workitemsApiVersion=r.workitemsApiVersion_f961577c=r.workitemsApiVersion_84ccb084="7.0-preview.1",r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion="7.0-preview.2",r}return __extends(t,n),t}(f);t.TcmHttpClient7=h;c=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.runsApiVersion="6.1",r.afnStripsApiVersion=r.attachmentsApiVersion=r.attachmentsApiVersion_99a64084=r.attachmentsApiVersion_9a941c36=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_21dfff92=r.historyApiVersion=r.mtmCompatResultsApiVersion=r.mtmCompatResultsApiVersion_6afb5d3c=r.mtmCompatResultsApiVersion_2d8bef90=r.mtmCompatResultsApiVersion_535f2f8b=r.mtmCompatResultsApiVersion_9b343f31=r.mtmCompatResultsApiVersion_5cc14c9a=r.mtmCompatResultsApiVersion_2fe7c059=r.mtmCompatResultsApiVersion_466760db=r.mtmCompatResultsApiVersion_9d897c0c=r.mtmCompatResultsApiVersion_1b5d25b4=r.mtmCompatResultsApiVersion_d8eb6ab5=r.mtmCompatResultsApiVersion_6516def2=r.mtmCompatResultsApiVersion_980fe82f=r.mtmCompatResultsApiVersion_3f690505=r.mtmCompatResultsApiVersion_bc2b04d6=r.mtmCompatResultsApiVersion_ef28b894=r.mtmCompatResultsApiVersion_414c81b9=r.mtmCompatResultsApiVersion_c3801e01=r.mtmCompatResultsApiVersion_188287b2=r.mtmCompatResultsApiVersion_2daf90f7=r.mtmCompatResultsApiVersion_f16ee7c3=r.mtmCompatResultsApiVersion_8959fe42=r.mtmCompatResultsApiVersion_1e0d28b8=r.mtmCompatResultsApiVersion_459dc66b=r.mtmCompatResultsApiVersion_2bcbb8a7=r.mtmCompatResultsApiVersion_04a5f40b=r.pointresultsApiVersion=r.pointresultsApiVersion_905d7331=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultsApiVersion=r.resultsApiVersion_5645f3b7=r.resultsandrunsApiVersion=r.resultsbybuildApiVersion=r.resultsbyreleaseApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion_86337575=r.runsummaryreportApiVersion=r.testexecutionsummaryreportApiVersion=r.testHistoryApiVersion=r.testsettingsApiVersion=r.testsettingscompatApiVersion=r.testsettingscompatApiVersion_e87c5c1a=r.testsettingscompatApiVersion_898fbf7e=r.testsettingscompatApiVersion_06c36c34=r.workitemsApiVersion=r.workitemsApiVersion_f961577c=r.workitemsApiVersion_84ccb084="6.1-preview.1",r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion="6.1-preview.2",r}return __extends(t,n),t}(f);t.TcmHttpClient6_1=c;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.runsApiVersion="6.0",r.afnStripsApiVersion=r.attachmentsApiVersion=r.attachmentsApiVersion_99a64084=r.attachmentsApiVersion_9a941c36=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_21dfff92=r.historyApiVersion=r.mtmCompatResultsApiVersion=r.mtmCompatResultsApiVersion_6afb5d3c=r.mtmCompatResultsApiVersion_2d8bef90=r.mtmCompatResultsApiVersion_535f2f8b=r.mtmCompatResultsApiVersion_9b343f31=r.mtmCompatResultsApiVersion_5cc14c9a=r.mtmCompatResultsApiVersion_2fe7c059=r.mtmCompatResultsApiVersion_466760db=r.mtmCompatResultsApiVersion_9d897c0c=r.mtmCompatResultsApiVersion_1b5d25b4=r.mtmCompatResultsApiVersion_d8eb6ab5=r.mtmCompatResultsApiVersion_6516def2=r.mtmCompatResultsApiVersion_980fe82f=r.mtmCompatResultsApiVersion_3f690505=r.mtmCompatResultsApiVersion_bc2b04d6=r.mtmCompatResultsApiVersion_ef28b894=r.mtmCompatResultsApiVersion_414c81b9=r.mtmCompatResultsApiVersion_c3801e01=r.mtmCompatResultsApiVersion_188287b2=r.mtmCompatResultsApiVersion_2daf90f7=r.mtmCompatResultsApiVersion_f16ee7c3=r.mtmCompatResultsApiVersion_8959fe42=r.mtmCompatResultsApiVersion_1e0d28b8=r.mtmCompatResultsApiVersion_459dc66b=r.mtmCompatResultsApiVersion_2bcbb8a7=r.mtmCompatResultsApiVersion_04a5f40b=r.pointresultsApiVersion=r.pointresultsApiVersion_905d7331=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultsApiVersion=r.resultsApiVersion_5645f3b7=r.resultsandrunsApiVersion=r.resultsbybuildApiVersion=r.resultsbyreleaseApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion_86337575=r.runsummaryreportApiVersion=r.testexecutionsummaryreportApiVersion=r.testHistoryApiVersion=r.testsettingsApiVersion=r.testsettingscompatApiVersion=r.testsettingscompatApiVersion_e87c5c1a=r.testsettingscompatApiVersion_898fbf7e=r.testsettingscompatApiVersion_06c36c34=r.workitemsApiVersion=r.workitemsApiVersion_f961577c=r.workitemsApiVersion_84ccb084="6.0-preview.1",r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion="6.0-preview.2",r}return __extends(t,n),t}(f);t.TcmHttpClient6=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.runsApiVersion="5.2",r.afnStripsApiVersion=r.attachmentsApiVersion=r.attachmentsApiVersion_99a64084=r.attachmentsApiVersion_9a941c36=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_21dfff92=r.historyApiVersion=r.mtmCompatResultsApiVersion=r.mtmCompatResultsApiVersion_6afb5d3c=r.mtmCompatResultsApiVersion_2d8bef90=r.mtmCompatResultsApiVersion_535f2f8b=r.mtmCompatResultsApiVersion_9b343f31=r.mtmCompatResultsApiVersion_5cc14c9a=r.mtmCompatResultsApiVersion_2fe7c059=r.mtmCompatResultsApiVersion_466760db=r.mtmCompatResultsApiVersion_9d897c0c=r.mtmCompatResultsApiVersion_1b5d25b4=r.mtmCompatResultsApiVersion_d8eb6ab5=r.mtmCompatResultsApiVersion_6516def2=r.mtmCompatResultsApiVersion_980fe82f=r.mtmCompatResultsApiVersion_3f690505=r.mtmCompatResultsApiVersion_bc2b04d6=r.mtmCompatResultsApiVersion_ef28b894=r.mtmCompatResultsApiVersion_414c81b9=r.mtmCompatResultsApiVersion_c3801e01=r.mtmCompatResultsApiVersion_188287b2=r.mtmCompatResultsApiVersion_2daf90f7=r.mtmCompatResultsApiVersion_f16ee7c3=r.mtmCompatResultsApiVersion_8959fe42=r.mtmCompatResultsApiVersion_1e0d28b8=r.mtmCompatResultsApiVersion_459dc66b=r.mtmCompatResultsApiVersion_2bcbb8a7=r.mtmCompatResultsApiVersion_04a5f40b=r.pointresultsApiVersion=r.pointresultsApiVersion_905d7331=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultsApiVersion=r.resultsApiVersion_5645f3b7=r.resultsandrunsApiVersion=r.resultsbybuildApiVersion=r.resultsbyreleaseApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion_86337575=r.runsummaryreportApiVersion=r.testexecutionsummaryreportApiVersion=r.testHistoryApiVersion=r.testsettingsApiVersion=r.testsettingscompatApiVersion=r.testsettingscompatApiVersion_e87c5c1a=r.testsettingscompatApiVersion_898fbf7e=r.testsettingscompatApiVersion_06c36c34=r.workitemsApiVersion=r.workitemsApiVersion_f961577c=r.workitemsApiVersion_84ccb084="5.2-preview.1",r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion="5.2-preview.2",r}return __extends(t,n),t}(f);t.TcmHttpClient5_2=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.runsApiVersion="5.1",r.afnStripsApiVersion=r.attachmentsApiVersion=r.attachmentsApiVersion_99a64084=r.attachmentsApiVersion_9a941c36=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_21dfff92=r.historyApiVersion=r.mtmCompatResultsApiVersion=r.mtmCompatResultsApiVersion_6afb5d3c=r.mtmCompatResultsApiVersion_2d8bef90=r.mtmCompatResultsApiVersion_535f2f8b=r.mtmCompatResultsApiVersion_9b343f31=r.mtmCompatResultsApiVersion_5cc14c9a=r.mtmCompatResultsApiVersion_2fe7c059=r.mtmCompatResultsApiVersion_466760db=r.mtmCompatResultsApiVersion_9d897c0c=r.mtmCompatResultsApiVersion_1b5d25b4=r.mtmCompatResultsApiVersion_d8eb6ab5=r.mtmCompatResultsApiVersion_6516def2=r.mtmCompatResultsApiVersion_980fe82f=r.mtmCompatResultsApiVersion_3f690505=r.mtmCompatResultsApiVersion_bc2b04d6=r.mtmCompatResultsApiVersion_ef28b894=r.mtmCompatResultsApiVersion_414c81b9=r.mtmCompatResultsApiVersion_c3801e01=r.mtmCompatResultsApiVersion_188287b2=r.mtmCompatResultsApiVersion_2daf90f7=r.mtmCompatResultsApiVersion_f16ee7c3=r.mtmCompatResultsApiVersion_8959fe42=r.mtmCompatResultsApiVersion_1e0d28b8=r.mtmCompatResultsApiVersion_459dc66b=r.mtmCompatResultsApiVersion_2bcbb8a7=r.mtmCompatResultsApiVersion_04a5f40b=r.pointresultsApiVersion=r.pointresultsApiVersion_905d7331=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultsApiVersion=r.resultsApiVersion_5645f3b7=r.resultsandrunsApiVersion=r.resultsbybuildApiVersion=r.resultsbyreleaseApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion_86337575=r.runsummaryreportApiVersion=r.testexecutionsummaryreportApiVersion=r.testHistoryApiVersion=r.testsettingsApiVersion=r.testsettingscompatApiVersion=r.testsettingscompatApiVersion_e87c5c1a=r.testsettingscompatApiVersion_898fbf7e=r.testsettingscompatApiVersion_06c36c34=r.workitemsApiVersion=r.workitemsApiVersion_f961577c=r.workitemsApiVersion_84ccb084="5.1-preview.1",r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion="5.1-preview.2",r}return __extends(t,n),t}(f);t.TcmHttpClient5_1=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.runsApiVersion="5.0",r.afnStripsApiVersion=r.attachmentsApiVersion=r.attachmentsApiVersion_99a64084=r.attachmentsApiVersion_9a941c36=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_21dfff92=r.historyApiVersion=r.mtmCompatResultsApiVersion=r.mtmCompatResultsApiVersion_6afb5d3c=r.mtmCompatResultsApiVersion_2d8bef90=r.mtmCompatResultsApiVersion_535f2f8b=r.mtmCompatResultsApiVersion_9b343f31=r.mtmCompatResultsApiVersion_5cc14c9a=r.mtmCompatResultsApiVersion_2fe7c059=r.mtmCompatResultsApiVersion_466760db=r.mtmCompatResultsApiVersion_9d897c0c=r.mtmCompatResultsApiVersion_1b5d25b4=r.mtmCompatResultsApiVersion_d8eb6ab5=r.mtmCompatResultsApiVersion_6516def2=r.mtmCompatResultsApiVersion_980fe82f=r.mtmCompatResultsApiVersion_3f690505=r.mtmCompatResultsApiVersion_bc2b04d6=r.mtmCompatResultsApiVersion_ef28b894=r.mtmCompatResultsApiVersion_414c81b9=r.mtmCompatResultsApiVersion_c3801e01=r.mtmCompatResultsApiVersion_188287b2=r.mtmCompatResultsApiVersion_2daf90f7=r.mtmCompatResultsApiVersion_f16ee7c3=r.mtmCompatResultsApiVersion_8959fe42=r.mtmCompatResultsApiVersion_1e0d28b8=r.mtmCompatResultsApiVersion_459dc66b=r.mtmCompatResultsApiVersion_2bcbb8a7=r.mtmCompatResultsApiVersion_04a5f40b=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultsApiVersion=r.resultsApiVersion_5645f3b7=r.resultsandrunsApiVersion=r.resultsbybuildApiVersion=r.resultsbyreleaseApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion_86337575=r.runsummaryreportApiVersion=r.testexecutionsummaryreportApiVersion=r.testHistoryApiVersion=r.testsettingsApiVersion=r.testsettingscompatApiVersion=r.testsettingscompatApiVersion_e87c5c1a=r.testsettingscompatApiVersion_898fbf7e=r.testsettingscompatApiVersion_06c36c34=r.workitemsApiVersion=r.workitemsApiVersion_f961577c=r.workitemsApiVersion_84ccb084="5.0-preview.1",r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion="5.0-preview.2",r}return __extends(t,n),t}(o);t.TcmHttpClient5=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.runsApiVersion="4.1",r.attachmentsApiVersion=r.attachmentsApiVersion_99a64084=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_21dfff92=r.historyApiVersion=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultsApiVersion=r.resultsApiVersion_5645f3b7=r.resultsbybuildApiVersion=r.resultsbyreleaseApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion_86337575=r.testHistoryApiVersion=r.testsettingsApiVersion=r.workitemsApiVersion=r.workitemsApiVersion_f961577c=r.workitemsApiVersion_84ccb084="4.1-preview.1",r}return __extends(t,n),t.prototype.getResultGroupsByBuild=function(n,t,i,r){var u={buildId:t,publishContext:i,fields:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"af70663f-e385-4d73-9d59-3f44a5d9e066",resource:"resultgroupsbybuild",routeTemplate:"{project}/_apis/tcm/{resource}",routeValues:{project:n},queryParams:u,apiVersion:"4.1-preview.1"})},t.prototype.getResultGroupsByRelease=function(n,t,i,r,u){var f={releaseId:t,publishContext:i,releaseEnvId:r,fields:u&&u.join(",")};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"5e746c5c-4fb7-46f7-bc6c-913110a98fbf",resource:"resultgroupsbyrelease",routeTemplate:"{project}/_apis/tcm/{resource}",routeValues:{project:n},queryParams:f,apiVersion:"4.1-preview.1"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"86337575-7ef2-4612-a60e-03cfb8c455b7",resource:"runs",routeTemplate:"{project}/_apis/tcm/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"4.1-preview.1"})},t}(e);t.TcmHttpClient4_1=p;b=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(s);t.TcmHttpClient=b;w={"7.1":s,"7.0":h,"6.1":c,"6.0":l,"5.2":a,"5.1":v,"5.0":y,"4.1":p};t.getClient=k});

define("TestManagement/Scripts/HttpClientWrappers/TcmHttpClientWrapper",["require","exports","TFS/TestManagement/VSS.Tcm.WebApi"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.TcmHttpClientWrapper=void 0;var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getTestResultsByBuildWithContinuationToken=function(n,t,i,r,u){var f={buildId:t,publishContext:i,$top:r,continuationToken:u};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"tcm",locationId:"DC342339-9BF3-480F-8C41-A867CAF3CD1E",resource:"ResultsByBuild",routeTemplate:"{project}/_apis/tcm/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"4.1-preview.1"}).spread(function(n,t,i){return{results:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getTestResultsByReleaseWithContinuationToken=function(n,t,i,r,u,f){var e={releaseId:t,releaseEnvid:i,publishContext:r,$top:u,continuationToken:f};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"tcm",locationId:"8FC27F1B-12DB-4C69-BF06-7EC026688C2D",resource:"ResultsByRelease",routeTemplate:"{project}/_apis/tcm/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"4.1-preview.1"}).spread(function(n,t,i){return{results:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getResultGroupsByBuildWithContinuationToken=function(n,t,i,r,u){var f={buildId:t,publishContext:i,fields:r&&r.join(","),continuationToken:u};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"tcm",locationId:"af70663f-e385-4d73-9d59-3f44a5d9e066",resource:"ResultGroupsByBuild",routeTemplate:"{project}/_apis/tcm/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"5.0-preview.2"}).spread(function(n,t,i){return{fieldDetails:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getResultGroupsByBuildV1=function(n,t,i,r){var u={buildId:t,publishContext:i,fields:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"af70663f-e385-4d73-9d59-3f44a5d9e066",resource:"ResultGroupsByBuild",routeTemplate:"{project}/_apis/tcm/{resource}",routeValues:{project:n},queryParams:u,apiVersion:"5.0-preview.1"})},t.prototype.getResultGroupsByReleaseV1=function(n,t,i,r,u){var f={releaseId:t,publishContext:i,releaseEnvId:r,fields:u&&u.join(",")};return this._beginRequest({httpMethod:"GET",area:"tcm",locationId:"5e746c5c-4fb7-46f7-bc6c-913110a98fbf",resource:"ResultGroupsByRelease",routeTemplate:"{project}/_apis/tcm/{resource}",routeValues:{project:n},queryParams:f,apiVersion:"5.0-preview.1"})},t.prototype.getResultGroupsByReleaseWithContinuationToken=function(n,t,i,r,u,f){var e={releaseId:t,publishContext:i,releaseEnvId:r,fields:u&&u.join(","),continuationToken:f};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"tcm",locationId:"5e746c5c-4fb7-46f7-bc6c-913110a98fbf",resource:"ResultGroupsByRelease",routeTemplate:"{project}/_apis/tcm/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"5.0-preview.2"}).spread(function(n,t,i){return{fieldDetails:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t}(i.TcmHttpClient);t.TcmHttpClientWrapper=r});

define("TestManagement/Scripts/Generated/TFS.TestManagement.Common",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.TestManagementResourceIds=void 0;var i;(function(n){n.TestPlan="72493ce2-021d-42c4-a9c9-e60d3335d27f";n.TestSuite="82243633-baf3-423d-8cbd-b272a469febe";n.TestPoint="3ecbe2f1-c419-4d6c-be9e-d2919bc7e581";n.TestResult="271c7b73-c3f9-4022-8ad6-aa53b600aff9";n.TestRun="dedd48a7-82f6-48ac-86e8-3e0a1d99d785";n.TestStatistics="3b3adad0-61fb-462a-b906-c13d1b33d1fa";n.TestCoverage="ac160fa4-78a2-4e25-87c2-73a0afe8f5d7";n.TestIterations="5710d5f0-d129-4e85-a830-f8ea22968964";n.AreaName="Test";n.TestPlanResource="Plans";n.TestSuiteResource="Suites";n.TestPointResource="Points";n.TestResultResource="Results";n.TestRunResource="Runs";n.SuiteTestCaseResource="TestCases";n.RunStatisticResource="Statistics";n.RunCoverageResource="Coverage";n.IterationsResource="Iterations"})(i=t.TestManagementResourceIds||(t.TestManagementResourceIds={}))});

define("TFS/TestManagement/RestClient",["require","exports","TFS/TestManagement/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f){"use strict";function st(n){return window.VSS&&window.VSS.VssSDKRestVersion&&et[window.VSS.VssSDKRestVersion]?r.getClient(et[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(a,undefined,undefined,undefined,n)}var o,s,h,c,e,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,ot,et;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.TestHttpClient=t.TestHttpClient2=t.TestHttpClient2_1=t.TestHttpClient2_2=t.TestHttpClient2_3=t.TestHttpClient3=t.TestHttpClient3_1=t.TestHttpClient3_2=t.TestHttpClient4=t.TestHttpClient4_1=t.TestHttpClient5=t.TestHttpClient5_1=t.TestHttpClient5_2=t.TestHttpClient6=t.TestHttpClient6_1=t.TestHttpClient7=t.TestHttpClient7_1=t.CommonMethods5_1To7_1=t.CommonMethods5To7_1=t.CommonMethods4_1To7_1=t.CommonMethods3To7_1=t.CommonMethods2To7_1=void 0;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTestSettingsById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"8133ce14-962f-42af-a5f9-6aa9defcb9c8",resource:"TestSettings",routeTemplate:"{project}/_apis/test/{resource}/{testSettingsId}",routeValues:{project:n,testSettingsId:t},apiVersion:this.testSettingsApiVersion})},t.prototype.deleteTestSettings=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"8133ce14-962f-42af-a5f9-6aa9defcb9c8",resource:"TestSettings",routeTemplate:"{project}/_apis/test/{resource}/{testSettingsId}",routeValues:{project:n,testSettingsId:t},apiVersion:this.testSettingsApiVersion})},t.prototype.createTestSettings=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"8133ce14-962f-42af-a5f9-6aa9defcb9c8",resource:"TestSettings",routeTemplate:"{project}/_apis/test/{resource}/{testSettingsId}",routeValues:{project:t},apiVersion:this.testSettingsApiVersion,data:n})},t.prototype.deleteSharedStep=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"fabb3cc9-e3f8-40b7-8b62-24cc4b73fccf",resource:"SharedStep",routeTemplate:"{project}/_apis/test/{resource}/{sharedStepId}",routeValues:{project:n,sharedStepId:t},apiVersion:this.sharedStepApiVersion})},t.prototype.deleteSharedParameter=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"8300eeca-0f8c-4eff-a089-d2dda409c41f",resource:"SharedParameter",routeTemplate:"{project}/_apis/test/{resource}/{sharedParameterId}",routeValues:{project:n,sharedParameterId:t},apiVersion:this.sharedParameterApiVersion})},t.prototype.updateTestSession=function(n,t){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"1500b4b4-6c69-4ca6-9b18-35e9e97fe2ac",resource:"Session",routeTemplate:"{project}/{team}/_apis/test/{resource}/{testSessionId}",requestType:i.TypeInfo.TestSession,responseType:i.TypeInfo.TestSession,routeValues:{project:r,team:u},apiVersion:this.sessionApiVersion,data:n})},t.prototype.getTestSessions=function(n,t,r,u,f,e){var o={period:t,allSessions:r,includeAllProperties:u,source:f,includeOnlyCompletedSessions:e},s=n.projectId||n.project,h=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"1500b4b4-6c69-4ca6-9b18-35e9e97fe2ac",resource:"Session",routeTemplate:"{project}/{team}/_apis/test/{resource}/{testSessionId}",responseType:i.TypeInfo.TestSession,responseIsCollection:!0,routeValues:{project:s,team:h},queryParams:o,apiVersion:this.sessionApiVersion})},t.prototype.createTestSession=function(n,t){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"1500b4b4-6c69-4ca6-9b18-35e9e97fe2ac",resource:"Session",routeTemplate:"{project}/{team}/_apis/test/{resource}/{testSessionId}",requestType:i.TypeInfo.TestSession,responseType:i.TypeInfo.TestSession,routeValues:{project:r,team:u},apiVersion:this.sessionApiVersion,data:n})},t.prototype.updateTestRun=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",requestType:i.TypeInfo.RunUpdateModel,responseType:i.TypeInfo.TestRun,routeValues:{project:t,runId:r},apiVersion:this.runsApiVersion,data:n})},t.prototype.getTestRuns=function(n,t,r,u,f,e,o,s,h){var c={buildUri:t,owner:r,tmiRunId:u,planId:f,includeRunDetails:e,automated:o,$skip:s,$top:h};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:n},queryParams:c,apiVersion:this.runsApiVersion})},t.prototype.deleteTestRun=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",routeValues:{project:n,runId:t},apiVersion:this.runsApiVersion})},t.prototype.createTestRun=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",requestType:i.TypeInfo.RunCreateModel,responseType:i.TypeInfo.TestRun,routeValues:{project:t},apiVersion:this.runsApiVersion,data:n})},t.prototype.updateResultRetentionSettings=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"a3206d9e-fa8d-42d3-88cb-f75c51e69cde",resource:"ResultRetentionSettings",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.ResultRetentionSettings,responseType:i.TypeInfo.ResultRetentionSettings,routeValues:{project:t},apiVersion:this.resultRetentionSettingsApiVersion,data:n})},t.prototype.getResultRetentionSettings=function(n){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a3206d9e-fa8d-42d3-88cb-f75c51e69cde",resource:"ResultRetentionSettings",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.ResultRetentionSettings,routeValues:{project:n},apiVersion:this.resultRetentionSettingsApiVersion})},t.prototype.getPointsByQuery=function(n,t,r,u){var f={$skip:r,$top:u};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"b4264fd0-a5d1-43e2-82a5-b9c46b7da9ce",resource:"Points",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestPointsQuery,responseType:i.TypeInfo.TestPointsQuery,routeValues:{project:t},queryParams:f,apiVersion:this.pointsApiVersion,data:n})},t.prototype.updateTestPoints=function(n,t,r,u,f){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"3bcfd5c8-be62-488e-b1da-b8289ce9299c",resource:"Points",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{suiteId}/{resource}/{pointIds}",responseType:i.TypeInfo.TestPoint,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u,pointIds:f},apiVersion:this.pointsApiVersion_3bcfd5c8,data:n})},t.prototype.getPoints=function(n,t,r,u,f,e,o,s,h,c){var l={witFields:u,configurationId:f,testCaseId:e,testPointIds:o,includePointDetails:s,$skip:h,$top:c};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"3bcfd5c8-be62-488e-b1da-b8289ce9299c",resource:"Points",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{suiteId}/{resource}/{pointIds}",responseType:i.TypeInfo.TestPoint,responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:r},queryParams:l,apiVersion:this.pointsApiVersion_3bcfd5c8})},t.prototype.getPoint=function(n,t,r,u,f){var e={witFields:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"3bcfd5c8-be62-488e-b1da-b8289ce9299c",resource:"Points",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{suiteId}/{resource}/{pointIds}",responseType:i.TypeInfo.TestPoint,routeValues:{project:n,planId:t,suiteId:r,pointIds:u},queryParams:e,apiVersion:this.pointsApiVersion_3bcfd5c8})},t.prototype.getTestRunLogs=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a1e55200-637e-42e9-a7c0-7e5bfdedb1b3",resource:"MessageLogs",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}",responseType:i.TypeInfo.TestMessageLogDetails,responseIsCollection:!0,routeValues:{project:n,runId:t},apiVersion:this.messageLogsApiVersion})},t.prototype.getTestIterations=function(n,t,r,u){var f={includeActionResults:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"73eb9074-3446-4c44-8296-2f811950ff8d",resource:"Iterations",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{iterationId}",responseType:i.TypeInfo.TestIterationDetailsModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:this.iterationsApiVersion})},t.prototype.getTestIteration=function(n,t,r,u,f){var e={includeActionResults:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"73eb9074-3446-4c44-8296-2f811950ff8d",resource:"Iterations",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{iterationId}",responseType:i.TypeInfo.TestIterationDetailsModel,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u},queryParams:e,apiVersion:this.iterationsApiVersion})},t.prototype.queryCustomFields=function(n,t){var r={scopeFilter:t};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"8ce1923b-f4c7-4e22-b93b-f6284e525ec2",resource:"ExtensionFields",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.CustomTestFieldDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.extensionFieldsApiVersion})},t.prototype.addCustomFields=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"8ce1923b-f4c7-4e22-b93b-f6284e525ec2",resource:"ExtensionFields",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.CustomTestFieldDefinition,responseType:i.TypeInfo.CustomTestFieldDefinition,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.extensionFieldsApiVersion,data:n})},t.prototype.getTestRunCodeCoverage=function(n,t,i){var r={flags:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"9629116f-3b89-4ed8-b358-d4694efda160",resource:"CodeCoverage",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:r,apiVersion:this.codeCoverageApiVersion})},t.prototype.updateCodeCoverageSummary=function(n,t,i){var r={buildId:i};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Test",locationId:"77560e8a-4e8c-4d59-894e-a5f264c24444",resource:"CodeCoverage",routeTemplate:"{project}/_apis/test/{resource}",routeValues:{project:t},queryParams:r,apiVersion:this.codeCoverageApiVersion_77560e8a,data:n})},t.prototype.getCodeCoverageSummary=function(n,t,r){var u={buildId:t,deltaBuildId:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"77560e8a-4e8c-4d59-894e-a5f264c24444",resource:"CodeCoverage",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.CodeCoverageSummary,routeValues:{project:n},queryParams:u,apiVersion:this.codeCoverageApiVersion_77560e8a})},t.prototype.getBuildCodeCoverage=function(n,t,r){var u={buildId:t,flags:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"77560e8a-4e8c-4d59-894e-a5f264c24444",resource:"CodeCoverage",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.BuildCoverage,responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:this.codeCoverageApiVersion_77560e8a})},t.prototype.getBugsLinkedToTestResult=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"6de20ca2-67de-4faf-97fa-38c5d585eb00",resource:"Bugs",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i},apiVersion:this.bugsApiVersion})},t.prototype.getTestRunAttachmentZip=function(n,t,i){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,attachmentId:i},apiVersion:this.attachmentsApiVersion})},t.prototype.getTestRunAttachmentContent=function(n,t,i){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,attachmentId:i},apiVersion:this.attachmentsApiVersion})},t.prototype.getTestResultAttachmentZip=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},apiVersion:this.attachmentsApiVersion_2bffebe9})},t.prototype.getTestResultAttachmentContent=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},apiVersion:this.attachmentsApiVersion_2bffebe9})},t.serviceInstanceId=f.ServiceInstanceTypes.TFS,t}(u.VssHttpClient);t.CommonMethods2To7_1=o;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryTestResultWorkItems=function(n,t,i,r,u,f,e){var o={workItemCategory:t,automatedTestName:i,testCaseId:r,maxCompleteDate:u,days:f,$workItemCount:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"926ff5dc-137f-45f0-bd51-9412fa9810ce",resource:"WorkItems",routeTemplate:"{project}/_apis/test/Results/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:this.workItemsApiVersion})},t.prototype.queryTestMethodLinkedWorkItems=function(n,t){var i={testName:t};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b0bdee3-a354-47f9-a42c-89018d7808d5",resource:"WorkItems",routeTemplate:"{project}/_apis/test/TestMethods/{testName}/{resource}/{workItemId}",routeValues:{project:n},queryParams:i,apiVersion:this.workItemsApiVersion_7b0bdee3})},t.prototype.deleteTestMethodToWorkItemLink=function(n,t,i){var r={testName:t,workItemId:i};return this._beginRequest({httpMethod:"DELETE",area:"Test",locationId:"7b0bdee3-a354-47f9-a42c-89018d7808d5",resource:"WorkItems",routeTemplate:"{project}/_apis/test/TestMethods/{testName}/{resource}/{workItemId}",routeValues:{project:n},queryParams:r,apiVersion:this.workItemsApiVersion_7b0bdee3})},t.prototype.addWorkItemToTestLinks=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"371b1655-ce05-412e-a113-64cc77bb78d2",resource:"WorkItems",routeTemplate:"{project}/_apis/test/TestMethods/{resource}",requestType:i.TypeInfo.WorkItemToTestLinks,responseType:i.TypeInfo.WorkItemToTestLinks,routeValues:{project:t},apiVersion:this.workItemsApiVersion_371b1655,data:n})},t.prototype.deleteTestCase=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"4d472e0f-e32c-4ef8-adf4-a4078772889c",resource:"TestCases",routeTemplate:"{project}/_apis/test/{resource}/{testCaseId}",routeValues:{project:n,testCaseId:t},apiVersion:this.testCasesApiVersion})},t.prototype.queryResultTrendForRelease=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"dd178e93-d8dd-4887-9635-d6b9560b7b6e",resource:"ResultTrendByRelease",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultTrendFilter,responseType:i.TypeInfo.AggregatedDataForResultTrend,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultTrendByReleaseApiVersion,data:n})},t.prototype.queryResultTrendForBuild=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"fbc82a85-0786-4442-88bb-eb0fda6b01b0",resource:"ResultTrendByBuild",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultTrendFilter,responseType:i.TypeInfo.AggregatedDataForResultTrend,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultTrendByBuildApiVersion,data:n})},t.prototype.queryTestSummaryByRequirement=function(n,t,r){var u={workItemIds:r&&r.join(",")};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"cd08294e-308d-4460-a46e-4cfdefba0b4b",resource:"ResultSummaryByRequirement",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultsContext,responseType:i.TypeInfo.TestSummaryForWorkItem,responseIsCollection:!0,routeValues:{project:t},queryParams:u,apiVersion:this.resultSummaryByRequirementApiVersion,data:n})},t.prototype.queryTestResultsSummaryForReleases=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"85765790-ac68-494e-b268-af36c3929744",resource:"ResultSummaryByRelease",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.ReleaseReference,responseType:i.TypeInfo.TestResultSummary,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultSummaryByReleaseApiVersion,data:n})},t.prototype.queryTestResultsReportForRelease=function(n,t,r,u,f,e){var o={releaseId:t,releaseEnvId:r,publishContext:u,includeFailureDetails:f,releaseToCompare:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"85765790-ac68-494e-b268-af36c3929744",resource:"ResultSummaryByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.TestResultSummary,routeValues:{project:n},queryParams:o,apiVersion:this.resultSummaryByReleaseApiVersion})},t.prototype.queryTestResultsReportForBuild=function(n,t,r,u,f){var e={buildId:t,publishContext:r,includeFailureDetails:u,buildToCompare:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"000ef77b-fea2-498d-a10d-ad1a037f559f",resource:"ResultSummaryByBuild",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.TestResultSummary,routeValues:{project:n},queryParams:e,apiVersion:this.resultSummaryByBuildApiVersion})},t.prototype.publishTestResultDocument=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"370ca04b-8eec-4ca8-8ba3-d24dca228791",resource:"ResultDocument",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}",routeValues:{project:t,runId:i},apiVersion:this.resultDocumentApiVersion,data:n})},t.prototype.getTestResultDetailsForRelease=function(n,t,r,u,f,e,o,s,h){var c={releaseId:t,releaseEnvId:r,publishContext:u,groupBy:f,$filter:e,$orderby:o,shouldIncludeResults:s,queryRunSummaryForInProgress:h};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"b834ec7e-35bb-450f-a3c8-802e70ca40dd",resource:"ResultDetailsByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.TestResultsDetails,routeValues:{project:n},queryParams:c,apiVersion:this.resultDetailsByReleaseApiVersion})},t.prototype.getTestResultDetailsForBuild=function(n,t,r,u,f,e,o,s){var h={buildId:t,publishContext:r,groupBy:u,$filter:f,$orderby:e,shouldIncludeResults:o,queryRunSummaryForInProgress:s};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"efb387b0-10d5-42e7-be40-95e06ee9430f",resource:"ResultDetailsByBuild",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.TestResultsDetails,routeValues:{project:n},queryParams:h,apiVersion:this.resultDetailsByBuildApiVersion})},t.prototype.getLinkedWorkItemsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4dcb25b-9878-49ea-abfd-e440bd9b1dcd",resource:"LinkedWorkItemsQuery",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:t},apiVersion:this.linkedWorkItemsQueryApiVersion,data:n})},t.prototype.queryTestResultHistory=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"234616f5-429c-4e7b-9192-affd76731dfd",resource:"History",routeTemplate:"{project}/_apis/test/Results/{resource}",requestType:i.TypeInfo.ResultsFilter,responseType:i.TypeInfo.TestResultHistory,routeValues:{project:t},apiVersion:this.historyApiVersion,data:n})},t.prototype.getTestRunAttachments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",responseType:i.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t},apiVersion:this.attachmentsApiVersion})},t.prototype.createTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i},apiVersion:this.attachmentsApiVersion,data:n})},t.prototype.getTestResultAttachments=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",responseType:i.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r},apiVersion:this.attachmentsApiVersion_2bffebe9})},t.prototype.createTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},apiVersion:this.attachmentsApiVersion_2bffebe9,data:n})},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f){var e={iterationId:u,actionPath:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:e,apiVersion:this.attachmentsApiVersion_2bffebe9,data:n})},t}(o);t.CommonMethods3To7_1=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateSuiteTestCases=function(n,t,i,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:t,planId:i,suiteId:r,testCaseIds:u,action:"TestCases"},apiVersion:this.suitesApiVersion,data:n})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:this.suitesApiVersion})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:this.suitesApiVersion})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:this.suitesApiVersion})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:this.suitesApiVersion})},t.prototype.queryTestRuns=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var k={minLastUpdatedDate:t,maxLastUpdatedDate:r,state:u,planIds:f&&f.join(","),isAutomated:e,publishContext:o,buildIds:s&&s.join(","),buildDefIds:h&&h.join(","),branchName:c,releaseIds:l&&l.join(","),releaseDefIds:a&&a.join(","),releaseEnvIds:v&&v.join(","),releaseEnvDefIds:y&&y.join(","),runTitle:p,$top:w,continuationToken:b};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:n},queryParams:k,apiVersion:this.runsApiVersion})},t.prototype.getTestResultsByRelease=function(n,t,i,r,u,f,e){var o={releaseId:t,releaseEnvid:i,publishContext:r,outcomes:u&&u.join(","),$top:f,continuationToken:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"ce01820b-83f3-4c15-a583-697a43292c4e",resource:"ResultsByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:this.resultsByReleaseApiVersion})},t.prototype.getTestResultsByBuild=function(n,t,i,r,u,f){var e={buildId:t,publishContext:i,outcomes:r&&r.join(","),$top:u,continuationToken:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"3c191b88-615b-4be2-b7d9-5ff9141e91d4",resource:"ResultsByBuild",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:this.resultsByBuildApiVersion})},t.prototype.getTestResultsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"6711da49-8e6f-4d35-9f73-cef7a3c81a5b",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultsQuery,responseType:i.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:this.resultsApiVersion,data:n})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:this.resultsApiVersion_4637d869,data:n})},t.prototype.getTestResults=function(n,t,r,u,f,e){var o={detailsToInclude:r,$skip:u,$top:f,outcomes:e&&e.join(",")};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:o,apiVersion:this.resultsApiVersion_4637d869})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:this.resultsApiVersion_4637d869})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:this.resultsApiVersion_4637d869,data:n})},t}(s);t.CommonMethods4_1To7_1=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryTestHistory=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"929fd86c-3e38-4d8c-b4b6-90df256e5971",resource:"TestHistory",routeTemplate:"{project}/_apis/test/Results/{resource}",requestType:i.TypeInfo.TestHistoryQuery,responseType:i.TypeInfo.TestHistoryQuery,routeValues:{project:t},apiVersion:this.testHistoryApiVersion,data:n})},t.prototype.getTestRunById=function(n,t,r){var u={includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},queryParams:u,apiVersion:this.runsApiVersion})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:this.runsApiVersion_0a42c424})},t.prototype.getResultGroupsByRelease=function(n,t,i,r,u,f){var e={releaseId:t,publishContext:i,releaseEnvId:r,fields:u&&u.join(","),continuationToken:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"ef5ce5d4-a4e5-47ee-804c-354518f8d03f",resource:"ResultGroupsByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:this.resultGroupsByReleaseApiVersion})},t.prototype.getResultGroupsByBuild=function(n,t,i,r,u){var f={buildId:t,publishContext:i,fields:r&&r.join(","),continuationToken:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d279d052-c55a-4204-b913-42f733b52958",resource:"ResultGroupsByBuild",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.resultGroupsByBuildApiVersion})},t.prototype.getTestSubResultAttachmentZip=function(n,t,i,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2bffebe9})},t.prototype.getTestSubResultAttachments=function(n,t,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",responseType:i.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2bffebe9})},t.prototype.getTestSubResultAttachmentContent=function(n,t,i,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2bffebe9})},t.prototype.createTestSubResultAttachment=function(n,t,i,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2bffebe9,data:n})},t}(h);t.CommonMethods5To7_1=c;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryTestResultsMetaData=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"afa7830e-67a7-4336-8090-2b448ca80295",resource:"ResultMetaData",routeTemplate:"{project}/_apis/test/Results/{resource}",responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultMetaDataApiVersion,data:n})},t}(c);t.CommonMethods5_1To7_1=e;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.bugsApiVersion=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultRetentionSettingsApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sessionApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.testCasesApiVersion=r.testSettingsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="7.1-preview.1",r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion=r.testHistoryApiVersion="7.1-preview.2",r.iterationsApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion=r.runsApiVersion=r.runsApiVersion_0a42c424=r.suitesApiVersion="7.1-preview.3",r.resultsApiVersion=r.resultsApiVersion_4637d869="7.1-preview.6",r}return __extends(t,n),t}(e);t.TestHttpClient7_1=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="7.0",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="7.0-preview.1",r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion="7.0-preview.2",r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="7.0-preview.3",r}return __extends(t,n),t}(e);t.TestHttpClient7=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="6.1",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="6.1-preview.1",r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion="6.1-preview.2",r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="6.1-preview.3",r}return __extends(t,n),t}(e);t.TestHttpClient6_1=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="6.0",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="6.0-preview.1",r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion="6.0-preview.2",r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="6.0-preview.3",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"6.0"})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"6.0"})},t}(e);t.TestHttpClient6=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="5.2",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="5.2-preview.1",r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion="5.2-preview.2",r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="5.2-preview.3",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"5.2"})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"5.2"})},t}(e);t.TestHttpClient5_2=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="5.1",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="5.1-preview.1",r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion="5.1-preview.2",r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="5.1-preview.3",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"5.1"})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"5.1"})},t}(e);t.TestHttpClient5_1=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="5.0",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="5.0-preview.1",r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="5.0-preview.2",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"5.0"})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"5.0"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"5.0",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"5.0",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"5.0",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"5.0"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"5.0"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"5.0"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"5.0",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"5.0"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"5.0",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"5.0"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"5.0"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"5.0"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"5.0",data:n})},t.prototype.getTestResultsMetaData=function(n,t){var i={testReferenceIds:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"afa7830e-67a7-4336-8090-2b448ca80295",resource:"ResultMetaData",routeTemplate:"{project}/_apis/test/Results/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:i,apiVersion:"5.0-preview.1"})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"5.0"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"5.0",data:n})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"5.0",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"5.0"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={$expand:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"5.0"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={$expand:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"5.0"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"5.0",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"5.0"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"5.0",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"5.0"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"5.0"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"5.0"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"5.0",data:n})},t}(c);t.TestHttpClient5=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testSettingsApiVersion="4.1",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="4.1-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"4.1"})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"4.1"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"4.1",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"4.1",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"4.1",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"4.1"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"4.1"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"4.1"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"4.1",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"4.1"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"4.1",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"4.1"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"4.1"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"4.1"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"4.1",data:n})},t.prototype.getResultGroupsByBuild=function(n,t,i,r){var u={buildId:t,publishContext:i,fields:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d279d052-c55a-4204-b913-42f733b52958",resource:"ResultGroupsByBuild",routeTemplate:"{project}/_apis/test/{resource}",routeValues:{project:n},queryParams:u,apiVersion:"4.1-preview.1"})},t.prototype.getResultGroupsByRelease=function(n,t,i,r,u){var f={releaseId:t,publishContext:i,releaseEnvId:r,fields:u&&u.join(",")};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"ef5ce5d4-a4e5-47ee-804c-354518f8d03f",resource:"ResultGroupsByRelease",routeTemplate:"{project}/_apis/test/{resource}",routeValues:{project:n},queryParams:f,apiVersion:"4.1-preview.1"})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"4.1"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"4.1"})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"4.1"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"4.1",data:n})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"4.1",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"4.1"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={$expand:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"4.1"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={$expand:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"4.1"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"4.1",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"4.1"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"4.1",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"4.1"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"4.1"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"4.1"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"4.1",data:n})},t}(h);t.TestHttpClient4_1=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testCasesApiVersion=r.testSettingsApiVersion="4.0",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultDocumentApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="4.0-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"4.0"})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"4.0"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"4.0",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"4.0",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"4.0",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"4.0"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"4.0"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"4.0"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"4.0",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"4.0"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"4.0",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"4.0"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"4.0"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"4.0"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"4.0",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"4.0",data:n})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"4.0"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"4.0"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"4.0",data:n})},t.prototype.getTestResultsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"6711da49-8e6f-4d35-9f73-cef7a3c81a5b",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultsQuery,responseType:i.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:"4.0",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"4.0"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"4.0"})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"4.0"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"4.0",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"4.0"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"4.0"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"4.0"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"4.0"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"4.0",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"4.0"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"4.0"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"4.0"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"4.0",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"4.0"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"4.0",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"4.0"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"4.0"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"4.0"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"4.0",data:n})},t}(s);t.TestHttpClient4=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testCasesApiVersion=r.testSettingsApiVersion="3.2",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultDocumentApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="3.2-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"3.2"})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"3.2"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"3.2",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"3.2",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"3.2",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"3.2"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"3.2"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"3.2"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"3.2",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"3.2"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"3.2",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"3.2"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"3.2"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"3.2"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"3.2",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"3.2",data:n})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"3.2"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"3.2"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"3.2",data:n})},t.prototype.getTestResultsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"6711da49-8e6f-4d35-9f73-cef7a3c81a5b",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultsQuery,responseType:i.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:"3.2",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"3.2"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"3.2"})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"3.2"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"3.2",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.2"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.2"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"3.2"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.2"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"3.2",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"3.2"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"3.2"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"3.2"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"3.2",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"3.2"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"3.2",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"3.2"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"3.2"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"3.2"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"3.2",data:n})},t}(s);t.TestHttpClient3_2=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testCasesApiVersion=r.testSettingsApiVersion="3.1",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultDocumentApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="3.1-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"3.1"})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"3.1"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"3.1",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"3.1",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"3.1",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"3.1"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"3.1"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"3.1"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"3.1",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"3.1"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"3.1",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"3.1"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"3.1"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"3.1"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"3.1",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"3.1",data:n})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"3.1"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"3.1"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"3.1",data:n})},t.prototype.getTestResultsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"6711da49-8e6f-4d35-9f73-cef7a3c81a5b",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultsQuery,responseType:i.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:"3.1",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"3.1"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"3.1"})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"3.1"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"3.1",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.1"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.1"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"3.1"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.1"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"3.1",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"3.1"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"3.1"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"3.1"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"3.1",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"3.1"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"3.1",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"3.1"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"3.1"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"3.1"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"3.1",data:n})},t}(s);t.TestHttpClient3_1=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testCasesApiVersion=r.testSettingsApiVersion="3.0",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultDocumentApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="3.0-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"3.0"})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"3.0"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"3.0",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"3.0",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"3.0",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"3.0"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"3.0"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"3.0"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"3.0",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"3.0"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"3.0",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"3.0"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"3.0"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"3.0"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"3.0",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"3.0",data:n})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"3.0"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"3.0"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"3.0",data:n})},t.prototype.getTestResultsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"6711da49-8e6f-4d35-9f73-cef7a3c81a5b",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultsQuery,responseType:i.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:"3.0",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"3.0"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"3.0"})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"3.0"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"3.0",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.0"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.0"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"3.0"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.0"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"3.0",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"3.0"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"3.0"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"3.0"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"3.0",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"3.0"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"3.0",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"3.0"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"3.0"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"3.0"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"3.0",data:n})},t}(s);t.TestHttpClient3=tt;it=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testSettingsApiVersion="2.3",r.bugsApiVersion=r.extensionFieldsApiVersion=r.messageLogsApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion="2.3-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"2.3"})},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f){var e={iterationId:u,actionPath:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:e,apiVersion:"2.3",data:n})},t.prototype.createTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},apiVersion:"2.3",data:n})},t.prototype.createTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i},apiVersion:"2.3",data:n})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"2.3",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"2.3",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"2.3",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"2.3"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"2.3"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"2.3"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"2.3",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"2.3"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"2.3",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"2.3"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"2.3"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"2.3"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"2.3",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.3",data:n})},t.prototype.bulkUpdateTestResults=function(n,t,r,u){var f={resultIds:u&&u.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},queryParams:f,apiVersion:"2.3",data:n})},t.prototype.getTestCaseResultById=function(n,t,r,u,f){var e={includeIterationDetails:u,includeAssociatedBugs:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:e,apiVersion:"2.3"})},t.prototype.getTestCaseResults=function(n,t,r){var u={includeIterationDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"2.3"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"2.3"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.3",data:n})},t.prototype.getTestResultsByQuery=function(n,t,r,u,f,e){var o={includeResultDetails:r,includeIterationDetails:u,$skip:f,$top:e};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d03f4bfd-0863-441a-969f-6bbbd42443ca",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:o,apiVersion:"2.3",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"2.3"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"2.3"})},t.prototype.getTestRunsByQuery=function(n,t,r,u,f){var e={includeRunDetails:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2da6cbff-1bbb-43c9-b465-ea22b6f9707c",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:e,apiVersion:"2.3-preview.2",data:n})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"2.3"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"2.3",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.3"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.3"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"2.3"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.3"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.3",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"2.3"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"2.3"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"2.3"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.3",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"2.3"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"2.3",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.3"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.3"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.3"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"2.3",data:n})},t}(o);t.TestHttpClient2_3=it;rt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testSettingsApiVersion="2.2",r.bugsApiVersion=r.extensionFieldsApiVersion=r.messageLogsApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion="2.2-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"2.2"})},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f){var e={iterationId:u,actionPath:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:e,apiVersion:"2.2",data:n})},t.prototype.createTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},apiVersion:"2.2",data:n})},t.prototype.createTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i},apiVersion:"2.2",data:n})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"2.2",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"2.2",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"2.2",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"2.2"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"2.2"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"2.2"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"2.2",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"2.2"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"2.2",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"2.2"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"2.2"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"2.2"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"2.2",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.2",data:n})},t.prototype.bulkUpdateTestResults=function(n,t,r,u){var f={resultIds:u&&u.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},queryParams:f,apiVersion:"2.2",data:n})},t.prototype.getTestCaseResultById=function(n,t,r,u,f){var e={includeIterationDetails:u,includeAssociatedBugs:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:e,apiVersion:"2.2"})},t.prototype.getTestCaseResults=function(n,t,r){var u={includeIterationDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"2.2"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"2.2"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.2",data:n})},t.prototype.getTestResultsByQuery=function(n,t,r,u,f,e){var o={includeResultDetails:r,includeIterationDetails:u,$skip:f,$top:e};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d03f4bfd-0863-441a-969f-6bbbd42443ca",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:o,apiVersion:"2.2",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"2.2"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"2.2"})},t.prototype.getTestRunsByQuery=function(n,t,r,u,f){var e={includeRunDetails:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2da6cbff-1bbb-43c9-b465-ea22b6f9707c",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:e,apiVersion:"2.2-preview.2",data:n})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"2.2"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"2.2",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.2"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.2"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"2.2"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.2"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.2",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"2.2"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"2.2"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"2.2"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.2",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"2.2"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"2.2",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.2"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.2"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.2"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"2.2",data:n})},t}(o);t.TestHttpClient2_2=rt;ut=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testSettingsApiVersion="2.1",r.bugsApiVersion=r.extensionFieldsApiVersion=r.messageLogsApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion="2.1-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"2.1"})},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f){var e={iterationId:u,actionPath:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:e,apiVersion:"2.1",data:n})},t.prototype.createTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},apiVersion:"2.1",data:n})},t.prototype.createTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i},apiVersion:"2.1",data:n})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"2.1",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"2.1",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"2.1",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"2.1"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"2.1"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"2.1"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"2.1",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"2.1"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"2.1",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"2.1"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"2.1"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"2.1"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"2.1",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.1",data:n})},t.prototype.bulkUpdateTestResults=function(n,t,r,u){var f={resultIds:u&&u.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},queryParams:f,apiVersion:"2.1",data:n})},t.prototype.getTestCaseResultById=function(n,t,r,u,f){var e={includeIterationDetails:u,includeAssociatedBugs:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:e,apiVersion:"2.1"})},t.prototype.getTestCaseResults=function(n,t,r){var u={includeIterationDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"2.1"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"2.1"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.1",data:n})},t.prototype.getTestResultsByQuery=function(n,t,r,u,f,e){var o={includeResultDetails:r,includeIterationDetails:u,$skip:f,$top:e};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d03f4bfd-0863-441a-969f-6bbbd42443ca",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:o,apiVersion:"2.1",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"2.1"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"2.1"})},t.prototype.getTestRunsByQuery=function(n,t,r,u,f){var e={includeRunDetails:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2da6cbff-1bbb-43c9-b465-ea22b6f9707c",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:e,apiVersion:"2.1-preview.2",data:n})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"2.1"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"2.1",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.1"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.1"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"2.1"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.1"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.1",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"2.1"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"2.1"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"2.1"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.1",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"2.1"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"2.1",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.1"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.1"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.1"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"2.1",data:n})},t}(o);t.TestHttpClient2_1=ut;ft=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testSettingsApiVersion="2.0",r.bugsApiVersion=r.extensionFieldsApiVersion=r.messageLogsApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion="2.0-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"2.0"})},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f){var e={iterationId:u,actionPath:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:e,apiVersion:"2.0",data:n})},t.prototype.createTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},apiVersion:"2.0",data:n})},t.prototype.createTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i},apiVersion:"2.0",data:n})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"2.0",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"2.0",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"2.0",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"2.0"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"2.0"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"2.0"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"2.0",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"2.0"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"2.0",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"2.0"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"2.0"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"2.0"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"2.0",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.0",data:n})},t.prototype.bulkUpdateTestResults=function(n,t,r,u){var f={resultIds:u&&u.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},queryParams:f,apiVersion:"2.0",data:n})},t.prototype.getTestCaseResultById=function(n,t,r,u,f){var e={includeIterationDetails:u,includeAssociatedBugs:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:e,apiVersion:"2.0"})},t.prototype.getTestCaseResults=function(n,t,r){var u={includeIterationDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"2.0"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"2.0"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.0",data:n})},t.prototype.getTestResultsByQuery=function(n,t,r,u,f,e){var o={includeResultDetails:r,includeIterationDetails:u,$skip:f,$top:e};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d03f4bfd-0863-441a-969f-6bbbd42443ca",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:o,apiVersion:"2.0",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"2.0"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"2.0"})},t.prototype.getTestRunsByQuery=function(n,t,r,u,f){var e={includeRunDetails:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2da6cbff-1bbb-43c9-b465-ea22b6f9707c",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:e,apiVersion:"2.0-preview.2",data:n})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"2.0"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"2.0",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.0"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.0"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"2.0"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.0"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.0",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"2.0"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"2.0"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"2.0"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.0",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"2.0"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"2.0",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.0"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.0"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.0"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"2.0",data:n})},t}(o);t.TestHttpClient2=ft;ot=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(l);t.TestHttpClient=ot;et={"7.1":l,"7.0":a,"6.1":v,"6.0":y,"5.2":p,"5.1":w,"5.0":b,"4.1":k,"4.0":d,"3.2":g,"3.1":nt,"3.0":tt,"2.3":it,"2.2":rt,"2.1":ut,"2.0":ft};t.getClient=st});

define("TestManagement/Scripts/TFS.TestManagement.WebApi",["require","exports","q","TestManagement/Scripts/Generated/TFS.TestManagement.Common","TFS/TestManagement/Contracts","TFS/TestManagement/RestClient","VSS/Utils/Array"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.TestManagementHttpClient=void 0;var o=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginGetTestPlan=function(n,t){return this._beginRequest({area:r.TestManagementResourceIds.AreaName,locationId:r.TestManagementResourceIds.TestPlan,responseType:u.TypeInfo.TestPlan,responseIsCollection:!1,routeValues:{projectId:n,planId:t}})},t.prototype.getSuitesForPlan=function(n,t){return this._beginRequest({area:r.TestManagementResourceIds.AreaName,locationId:r.TestManagementResourceIds.TestSuite,responseType:u.TypeInfo.TestSuite,responseIsCollection:!1,routeValues:{projectId:n,planId:t}})},t.prototype.getPointsForSuite=function(n,t,i){return this._beginRequest({area:r.TestManagementResourceIds.AreaName,locationId:r.TestManagementResourceIds.TestPoint,responseType:u.TypeInfo.TestPoint,responseIsCollection:!0,routeValues:{projectId:n,planId:t,suiteId:i}})},t.prototype.getSuite=function(n,t,i){return this._beginRequest({area:r.TestManagementResourceIds.AreaName,locationId:r.TestManagementResourceIds.TestSuite,responseType:u.TypeInfo.TestSuite,responseIsCollection:!1,routeValues:{projectId:n,planId:t,suiteId:i}})},t.prototype.getSuitesForTestCase=function(n){return this._beginRequest({area:r.TestManagementResourceIds.AreaName,locationId:"09a6167b-e969-4775-9247-b94cf3819caf",responseType:u.TypeInfo.TestSuite,responseIsCollection:!0,data:{testCaseId:n}})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseIsCollection:!1,routeValues:{project:n,planId:t},apiVersion:"2.2-preview.2"})},t.prototype.getTestConfigurations=function(n,t,r,f,o){var s={$skip:t,$top:r,continuationToken:f,includeAllProperties:o},h=this;return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:u.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"5.0-preview.2"}).spread(function(u,f,s){var c=s.getResponseHeader("x-ms-continuationtoken");return u&&c?h.getTestConfigurations(n,t,r,c,o).then(function(n){return e.addRange(u,n),i(u)}):i(u)})},t.prototype.getTestResultsByBuildWithContinuationToken=function(n,t,i,r,u){var f={buildId:t,publishContext:i,$top:r,continuationToken:u};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"Test",locationId:"3c191b88-615b-4be2-b7d9-5ff9141e91d4",resource:"ResultsByBuild",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"4.1-preview.1"}).spread(function(n,t,i){return{results:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getTestResultsByReleaseWithContinuationToken=function(n,t,i,r,u,f){var e={releaseId:t,releaseEnvid:i,publishContext:r,$top:u,continuationToken:f};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"Test",locationId:"ce01820b-83f3-4c15-a583-697a43292c4e",resource:"ResultsByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"4.1-preview.1"}).spread(function(n,t,i){return{results:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getResultGroupsByBuildWithContinuationToken=function(n,t,i,r,u){var f={buildId:t,publishContext:i,fields:r&&r.join(","),continuationToken:u};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"Test",locationId:"d279d052-c55a-4204-b913-42f733b52958",resource:"ResultGroupsByBuild",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"5.0-preview.2"}).spread(function(n,t,i){return{fieldDetails:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getResultGroupsByReleaseWithContinuationToken=function(n,t,i,r,u,f){var e={releaseId:t,publishContext:i,releaseEnvId:r,fields:u&&u.join(","),continuationToken:f};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"Test",locationId:"ef5ce5d4-a4e5-47ee-804c-354518f8d03f",resource:"ResultGroupsByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"5.0-preview.2"}).spread(function(n,t,i){return{fieldDetails:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getResultGroupsByBuildV1=function(n,t,i,r){var u={buildId:t,publishContext:i,fields:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d279d052-c55a-4204-b913-42f733b52958",resource:"ResultGroupsByBuild",routeTemplate:"{project}/_apis/test/{resource}",routeValues:{project:n},queryParams:u,apiVersion:"5.0-preview.1"})},t.prototype.getResultGroupsByReleaseV1=function(n,t,i,r,u){var f={releaseId:t,publishContext:i,releaseEnvId:r,fields:u&&u.join(",")};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"ef5ce5d4-a4e5-47ee-804c-354518f8d03f",resource:"ResultGroupsByRelease",routeTemplate:"{project}/_apis/test/{resource}",routeValues:{project:n},queryParams:f,apiVersion:"5.0-preview.1"})},t}(f.TestHttpClient5);t.TestManagementHttpClient=o});

define("TestManagement/Scripts/TFS.TestManagement.DesktopTestRunHelper",["require","exports","VSS/Utils/UI","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Diag"],function(n,t,i,r,u){var f,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.DTRCloseEventHandler=t.DesktopTestRunHelper=t.DesktopTestRunConstants=void 0;f=function(){function n(){}return n.getTestRunDataSuccessfulEvent="get-test-run-data-successful-v1",n.errorFromRunnerEvent="error-from-runner-v1",n.pageUnloadConfirmationFromRunnerEvent="page-unload-confirmation-from-runner-v1",n.windowCloseResponseEvent="window-close-response-v1",n.forceWindowCloseFromDtr="force-window-close-from-runner-v1",n.windowCloseFromDtr="window-close-from-runner-v1",n.testRunnerSignout="test-runner-signout-v1",n.testRunnerResize="test-runner-resize-v1",n.message="message",n.stopLoading="stop-loading",n.test_suite_or_testRun_error_code="TEST_SUITE_OR_TEST_RUN_ERROR",n.communicationProtocolVersion="1.0",n}();t.DesktopTestRunConstants=f;e=function(){function n(){}return n.validateAndGetTestRunData=function(){return new Promise(function(t){if(n.isRequestFromDtr()){var i={},r=new Promise(function(t,r){n.createPromise(n.getTestRunDetailsUrl()).then(function(u){var e={testRun:u.testRun,testCaseResults:u.testResults,testActionResults:u.testActionResults,testPointToResume:null};i.testRunDataFromServer=e;n.createPromise(n.getTestSuiteUrl(u.testRun)).then(function(r){i.testSuiteDataFromServer=n.convertSuiteData(r);t()},function(t){n.logAndSendError(t,f.stopLoading,f.test_suite_or_testRun_error_code,"testSuiteDataFromServer");r(t)})},function(t){n.logAndSendError(t,f.stopLoading,f.test_suite_or_testRun_error_code,"testRunDataPromise");r(t)})}),u=new Promise(function(t,r){n.createPromise(n.bugCategoryDataUrl()).then(function(r){i.BugCategory=n.getDefaultBugCategory(r.value);t()},function(t){n.logAndSendError(t,f.stopLoading,f.test_suite_or_testRun_error_code,"BugCategoryPromise");r(t)})});Promise.all([r,u]).then(function(){n.createSessionDataForTestRun(i);t();window.postMessage({communicationProtocolVersion:f.communicationProtocolVersion,type:f.getTestRunDataSuccessfulEvent},"*")},function(t){n.logAndSendError(t,f.stopLoading,f.test_suite_or_testRun_error_code,"intial load promises")}).catch(function(t){n.logAndSendError(t,f.stopLoading,f.test_suite_or_testRun_error_code,"intial load promises")})}else t()})},n.convertSuiteData=function(t){return t?{id:t.id,requirementId:t.requirementId?t.requirementId:0,type:n.getSuiteTypeId(t.suiteType)}:{}},n.isRequestFromDtr=function(){var n;return i.BrowserCheckUtils.isLessThanOrEqualToIE9()?n=window.sessionStorage:window.opener&&(n=window.opener.sessionStorage),n&&n.requestFrom==="dtr"},n.getTestRunnerVersion=function(){var n=window.opener.sessionStorage;return n.testRunnerVersion?n.testRunnerVersion:""},n.logAndSendError=function(n,t,i,r){u.logWarning(n);window.postMessage({communicationProtocolVersion:f.communicationProtocolVersion,type:f.errorFromRunnerEvent,error:n,sender:r,actionExpected:t,error_code:i},"*")},n.getSuiteTypeId=function(n){switch(n){case"DynamicTestSuite":return 1;case"StaticTestSuite":return 2;case"RequirementTestSuite":return 3;default:return 0}},n.createPromise=function(n){return new Promise(function(t,i){r.getMSJSON(n,{},function(n){t(n)},function(n){i(n)})})},n.getTestRunDetailsUrl=function(){return window.sessionStorage.projectUrl+"_api/_testrun/GetTestRun?__v=5&testRunId="+window.sessionStorage.runId},n.getTestSuiteUrl=function(n){return window.sessionStorage.projectUrl+"_apis/test/Plans/"+n.testPlanId+"/suites/"+window.sessionStorage.suiteId},n.bugCategoryDataUrl=function(){return window.sessionStorage.projectUrl+"_apis/wit/workItemTypeCategories"},n.createSessionDataForTestRun=function(n){n.testRunDataFromServer.bugCategoryName=n.BugCategory;i.BrowserCheckUtils.isLessThanOrEqualToIE9()?(window.sessionStorage.testRun=JSON.stringify(n.testRunDataFromServer),window.sessionStorage.testSuite=JSON.stringify(n.testSuiteDataFromServer)):(window.opener.sessionStorage.testRun=JSON.stringify(n.testRunDataFromServer),window.opener.sessionStorage.testSuite=JSON.stringify(n.testSuiteDataFromServer))},n.getDefaultBugCategory=function(n){var t;return n.map(function(n){n.referenceName.includes("Microsoft.BugCategory")&&(t=n.defaultWorkItemType.name)}),t},n.triggerSignoutFromTestRunner=function(){window.postMessage({communicationProtocolVersion:f.communicationProtocolVersion,type:f.testRunnerSignout},"*")},n.testRunnerResize=function(n,t,i){window.postMessage({communicationProtocolVersion:f.communicationProtocolVersion,type:f.testRunnerResize,bugFormPresent:n,width:t,height:i},"*")},n}();t.DesktopTestRunHelper=e;o=function(){function n(){}return n.registerForCloseEvent=function(n){function t(t){t&&t.data&&t.data.type&&t.data.type===f.windowCloseFromDtr&&n()}window.removeEventListener("message",t);window.addEventListener("message",t)},n.registerForceCloseEvent=function(t){function i(i){i&&i.data&&i.data.type&&i.data.type===f.forceWindowCloseFromDtr&&(t(),n.triggerCloseFromTestRunner(function(){},!0))}window.removeEventListener("message",i);window.addEventListener("message",i)},n.triggerCloseFromTestRunner=function(n,t){n();window.postMessage({communicationProtocolVersion:f.communicationProtocolVersion,type:f.windowCloseResponseEvent,"continue":t},"*")},n.triggerBeforePageUnloadConfirmation=function(n){window.postMessage({communicationProtocolVersion:f.communicationProtocolVersion,type:f.pageUnloadConfirmationFromRunnerEvent,message:n},"*")},n}();t.DTRCloseEventHandler=o});

define("Presentation/Scripts/TFS/TFS.FeatureLicenseService",["require","exports","Presentation/Scripts/TFS/TFS.Service","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Diag","VSS/Service","VSS/Utils/Core"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.FeatureLicenseService=void 0;var s=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._licenses=o.parseJsonIsland($(document),".feature-licenses",!1),t}return __extends(t,n),t.getDefaultService=function(){return e.getApplicationService(t)},t.isFeatureActive=function(n){return this.getDefaultService(u.TfsContext.getDefault()).getFeatureState(n)>=r.FeatureMode.Trial},t.prototype.getFeatureState=function(n){return this._licenses&&this._licenses[n.toLowerCase()]},t}(i.TfsService);t.FeatureLicenseService=s});

define("TestManagement/Scripts/Utils/TFS.TestManagement.LicenseAndFeatureFlagUtils",["require","exports","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/TFS.FeatureLicenseService","VSS/Utils/Core","VSS/Service","VSS/Contributions/Services"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.LicenseAndFeatureFlagUtils=void 0;var s=function(){function n(){}return n.AreAdvancedTestManagementFeaturesEnabled=function(){if(this._isAdvancedTestExtensionEnabled())return!0;return u.FeatureLicenseService.isFeatureActive(r.LicenseFeatureIds.TestManagement)},n.isQuickStartTraceabilityEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.TriQuickStartTraceability,!1)},n.isTrendChartFeatureForRMEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.TriTrendChartsForRM,!0)},n.isTriShowTestRunSummaryInContextEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.TriShowTestRunSummaryInContext,!1)},n.isTestTabInNewWebPlatformEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementTestTabInNewWebPlatform,!1)},n.isNewTestTabEnabledInOldBuild=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementTestTabExtensionBuild,!1)},n.isEnableXtForEdgeFeatureEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTCMEnableXtForEdge,!1)},n.isEnableDesktopScreenCaptureFeatureEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementEnableDesktopScreenShot,!1)},n.isVideoWithAudioFeatureEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementEnableAudioWithVideo,!1)},n.isReportCustomizationFeatureEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.TriReportCustomization,!1)},n.isRenderMarkDownCommentEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementRenderMarkDownComment,!1)},n.isUpdateRunCommentEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementUpdateRunComment,!1)},n.isAddAttachmentToRunsOrResultsEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.TriAddRunResultAttachment,!1)},n.isPreviewAttachmentsOfRunsOrResultsEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.PreviewAttachments,!1)},n.isLogStoreAttachmentsEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.LogStoreAttachments,!1)},n.isGridViewOfRunsOrResultsAttachmentsEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementAttachmentsGridView,!1)},n.isGridViewOfAssociatedBugsToTestResultsEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementBugsGridView,!1)},n.isGridViewOfAssociatedWorkItemsToTestResultsEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementLinkedItemsGridView,!1)},n.isDirectQueryFromTcmServiceEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.QueryFromTcmService,!1)},n.isGridViewOfLinkedRequirementsEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementRequirementsGridView,!1)},n.isNewOutcomeFiltersForRerunEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementFiltersForRerun,!1)},n.isPointCountFeatureDisabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementPointCountFeatureDisabled,!1)},n.isSingletonTestPointGridToolbarInstanceEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.IsSingletonTestPointGridToolbarInstanceEnabled,!1)},n.isReactBasedRunWithOptionsEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementReactBasedRunWithOptionsDialog,!1)},n.isAddToExistingBugInTestResultSummaryPageEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.AddToExistingBugResultSummaryPage,!1)},n.isQueryTestCaseRefInfoInWorkItemLinksIndependentlyEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementAddRefLinksToRequirement,!1)},n.isTestResultsFilterInCICDEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.TriTestResultsSearchAndFilter,!1)},n.isAnalyticsTestResultsFiltersEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.AnalyticsTestResultsFilters,!1)},n.isAnalyticsRouteAPIsToTestResultDailyEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.AnalyticsRouteAPIsToTestResultDaily,!1)},n.isAnalyticsSwitchToTestSKContextFilterEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.AnalyticsSwitchToTestSKContextFilter,!1)},n.isAnalyticsGroupByAndFilterOnTestSKEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.AnalyticsGroupByAndFilterOnTestSK,!1)},n.isAbortedRunsFeatureEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.TriReportingAbortedRuns,!1)},n.isInProgressFeatureEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.TriInProgress,!1)},n.isSummaryEnabledForAllNotImpactedTests=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementShowSummaryForNotImpactedTests,!1)},n.isDesktopTestRunnerOptionEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessShowDTROptionForTestRunner,!1)},n.isTriSignalRIntegrationEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.TriSignalRIntegration,!1)},n.isPublishOnTCMServiceEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.PublishOnTcmService,!1)},n.isHierarchicalViewForResultsEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementHierarchicalViewForResults,!1)},n.isTestCaseHistoryForNewUIEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementTestCaseHistory,!1)},n.isLinkedStackTraceEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementLinkedStackTrace,!1)},n.isNewTestPlanHubExperienceEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementNewTestPlanExperienceToggle,!1)},n.isMyTestPlanSkinnyProviderEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTCMMineTestPlanSkinnyProvider,!1)},n.isAllTestPlanSkinnyProviderEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTCMAllTestPlanSkinnyProvider,!1)},n.isAdvTestExtPermissionsProviderEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTCMAdvTestExtPermissionsProvider,!1)},n.isUseOnlyLongPollingEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.UseOnlyLongPolling,!1)},n.isFilterInInProgressEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.ShouldEnableFilterInInProgress,!1)},n.isInProgressRunsInInProgressDefaultViewEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.WebAccessTestManagementInProgressRunsInInProgressDefaultView,!1)},n.isLWPTestTabIsEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.LWPTestTab,!1)},n.isTestStepInLineImageCopyPasteEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(n.TestStepInLineImageCopyPaste,!1)},n.isUseLWPTestTabInReleaseIsEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(n.UseLWPTestTabInRelease,!1)},n.isUseSeparateAppPoolForTcmSignalREnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(n.UseSeparateAppPoolForTcmSignalR,!1)},n.isAnalyticsHubForManualTestEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.AnalyticsHubForManualTest,!1)},n.isDisableAutoRefreshOfEntryPointTextForAnalyticsHubForManualTestEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.DisableAutoRefreshOfEntryPointTextForAnalyticsHubForManualTest,!1)},n.isTestFlakinessEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(n.EnableTestFlakiness,!1)},n.isTestProjectSettingsEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(n.EnableTestProjectSettings,!1)},n.isGetTestFailureTypeFromTcmEnabled=function(){return i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.EnableGetTestFailureTypeFromTcm,!1)},n._isAdvancedTestExtensionEnabled=function(){var t,i;return this._advancedTestExtensionEnabled===null&&(t=f.parseJsonIsland($(document),".__advancedTestExtensionEnabled"),t?this._advancedTestExtensionEnabled=t.advancedTestExtensionEnabled:(i=n.isAdvTestExtPermissionsProviderEnabled()?e.getService(o.WebPageDataService).getPageData("ms.vss-test-web.testPlan-hub-advanced-test-extension-permissions-data-provider"):e.getService(o.WebPageDataService).getPageData("ms.vss-test-web.hub-testPlan-data-provider"),this._advancedTestExtensionEnabled=i?i.isAdvancedTestExtensionEnabled:!1)),this._advancedTestExtensionEnabled},n._featureEnabled=null,n._advancedTestExtensionEnabled=null,n.UseLWPTestTabInRelease="WebAccess.TestManagement.UseLWPTestTabInRelease",n.TestStepInLineImageCopyPaste="WebAccess.TestManagement.TestStepInLineImageCopyPaste",n.EnableTestFlakiness="TestManagement.Server.EnableTestFlakiness",n.EnableTestProjectSettings="TestManagement.Server.ShowTestProjectSettings",n.UseSeparateAppPoolForTcmSignalR="TestManagement.SignalR.SeparateAppPool",n}();t.LicenseAndFeatureFlagUtils=s});

define("TestManagement/Scripts/TFS.TestManagement.Utils.UnicodeGeneralCategoryData",["require","exports","VSS/VSS"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.unicodeCategory=void 0;var r;(function(n){n.Pe=")]}\u0f3b\u0f3d\u169c\u2046\u207e\u208e\u232a\u2769\u276b\u276d\u276f\u2771\u2773\u2775\u27c6\u27e7\u27e9\u27eb\u27ed\u27ef\u2984\u2986\u2988\u298a\u298c\u298e\u2990\u2992\u2994\u2996\u2998\u29d9\u29db\u29fd\u2e23\u2e25\u2e27\u2e29\u3009\u300b\u300d\u300f\u3011\u3015\u3017\u3019\u301b\u301e\u301f\ufd3f\ufe18\ufe36\ufe38\ufe3a\ufe3c\ufe3e\ufe40\ufe42\ufe44\ufe48\ufe5a\ufe5c\ufe5e\uff09\uff3d\uff5d\uff60\uff63]";n.Pc="_\u203f\u2040\u2054\ufe33\ufe34\ufe4d-\ufe4f\uff3f";n.Cc="\x00-\x1f-\u009f";n.Sc="$\u00a2-\u00a5\u058f\u060b\u09f2\u09f3\u09fb\u0af1\u0bf9\u0e3f\u17db\u20a0-\u20b9\ua838\ufdfc\ufe69\uff04\uffe0\uffe1\uffe5\uffe6";n.Pd="-\u058a\u05be\u1400\u1806\u2010-\u2015\u2e17\u2e1a\u2e3a\u2e3b\u301c\u3030\u30a0\ufe31\ufe32\ufe58\ufe63\uff0d";n.Nd="0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19";n.Me="\u0488\u0489\u20dd-\u20e0\u20e2-\u20e4\ua670-\ua672";n.Pf="\u00bb\u2019\u201d\u203a\u2e03\u2e05\u2e0a\u2e0d\u2e1d\u2e21";n.Cf="\u00ad\u0600-\u0604\u06dd\u070f\u200b-\u200f\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb\u202a-\u202d";n.Pi="\u00ab\u2018\u201b\u201c\u201f\u2039\u2e02\u2e04\u2e09\u2e0c\u2e1c\u2e20";n.Nl="\u16ee-\u16f0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303a\ua6e6-\ua6ef";n.Zl="\u2028";n.Ll="a-z\u00b5\u00df-\u00f6\u00f8-\u00ff\u0101\u0103\u0105\u0107\u0109\u010b\u010d\u010f\u0111\u0113\u0115\u0117\u0119\u011b\u011d\u011f\u0121\u0123\u0125\u0127\u0129\u012b\u012d\u012f\u0131\u0133\u0135\u0137\u0138\u013a\u013c\u013e\u0140\u0142\u0144\u0146\u0148\u0149\u014b\u014d\u014f\u0151\u0153\u0155\u0157\u0159\u015b\u015d\u015f\u0161\u0163\u0165\u0167\u0169\u016b\u016d\u016f\u0171\u0173\u0175\u0177\u017a\u017c\u017e-\u0180\u0183\u0185\u0188\u018c\u018d\u0192\u0195\u0199-\u019b\u019e\u01a1\u01a3\u01a5\u01a8\u01aa\u01ab\u01ad\u01b0\u01b4\u01b6\u01b9\u01ba\u01bd-\u01bf\u01c6\u01c9\u01cc\u01ce\u01d0\u01d2\u01d4\u01d6\u01d8\u01da\u01dc\u01dd\u01df\u01e1\u01e3\u01e5\u01e7\u01e9\u01eb\u01ed\u01ef\u01f0\u01f3\u01f5\u01f9\u01fb\u01fd\u01ff\u0201\u0203\u0205\u0207\u0209\u020b\u020d\u020f\u0211\u0213\u0215\u0217\u0219\u021b\u021d\u021f\u0221\u0223\u0225\u0227\u0229\u022b\u022d\u022f\u0231\u0233-\u0239\u023c\u023f\u0240\u0242\u0247\u0249\u024b\u024d\u024f-\u0293\u0295-\u02af\u0371\u0373\u0377\u037b-\u037d\u0390\u03ac-\u03ce\u03d0\u03d1\u03d5-\u03d7\u03d9\u03db\u03dd\u03df\u03e1\u03e3\u03e5\u03e7\u03e9\u03eb\u03ed\u03ef-\u03f3\u03f5\u03f8\u03fb\u03fc\u0430-\u045f\u0461\u0463\u0465\u0467\u0469\u046b\u046d\u046f\u0471\u0473\u0475\u0477\u0479\u047b\u047d\u047f\u0481\u048b\u048d\u048f\u0491\u0493\u0495\u0497\u0499\u049b\u049d\u049f\u04a1\u04a3\u04a5\u04a7\u04a9\u04ab\u04ad\u04af\u04b1\u04b3\u04b5\u04b7\u04b9\u04bb\u04bd\u04bf\u04c2\u04c4\u04c6\u04c8\u04ca\u04cc\u04ce\u04cf\u04d1\u04d3\u04d5\u04d7\u04d9\u04db\u04dd\u04df\u04e1\u04e3\u04e5\u04e7\u04e9\u04eb\u04ed\u04ef\u04f1\u04f3\u04f5\u04f7\u04f9\u04fb\u04fd\u04ff\u0501\u0503\u0505\u0507\u0509\u050b\u050d\u050f\u0511\u0513\u0515\u0517\u0519\u051b\u051d\u051f\u0521\u0523\u0525\u0527\u0561-\u0587\u1d00-\u1d2b\u1d6b-\u1d77\u1d79-\u1d9a\u1e01\u1e03\u1e05\u1e07\u1e09\u1e0b\u1e0d\u1e0f\u1e11\u1e13\u1e15\u1e17\u1e19\u1e1b\u1e1d\u1e1f\u1e21\u1e23\u1e25\u1e27\u1e29\u1e2b\u1e2d\u1e2f\u1e31\u1e33\u1e35\u1e37\u1e39\u1e3b\u1e3d\u1e3f\u1e41\u1e43\u1e45\u1e47\u1e49\u1e4b\u1e4d\u1e4f\u1e51\u1e53\u1e55\u1e57\u1e59\u1e5b\u1e5d\u1e5f\u1e61\u1e63\u1e65\u1e67\u1e69\u1e6b\u1e6d\u1e6f\u1e71\u1e73\u1e75\u1e77\u1e79\u1e7b\u1e7d\u1e7f\u1e81\u1e83\u1e85\u1e87\u1e89\u1e8b\u1e8d\u1e8f\u1e91\u1e93\u1e95-\u1e9d\u1e9f\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ebf\u1ec1\u1ec3\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9\u1efb\u1efd\u1eff-\u1f07\u1f10-\u1f15\u1f20-\u1f27\u1f30-\u1f37\u1f40-\u1f45\u1f50-\u1f57\u1f60-\u1f67\u1f70-\u1f7d\u1f80-\u1f87\u1f90-\u1f97\u1fa0-\u1fa7\u1fb0-\u1fb4\u1fb6\u1fb7\u1fbe\u1fc2-\u1fc4\u1fc6\u1fc7\u1fd0-\u1fd3\u1fd6\u1fd7\u1fe0-\u1fe7\u1ff2-\u1ff4\u1ff6\u1ff7\u210a\u210e\u210f\u2113\u212f\u2134\u2139\u213c\u213d\u2146-\u2149\u214e\u2184\u2c30-\u2c5e\u2c61\u2c65\u2c66\u2c68\u2c6a\u2c6c\u2c71\u2c73\u2c74\u2c76-\u2c7b\u2c81\u2c83\u2c85\u2c87\u2c89\u2c8b\u2c8d\u2c8f\u2c91\u2c93\u2c95\u2c97\u2c99\u2c9b\u2c9d\u2c9f\u2ca1\u2ca3\u2ca5\u2ca7\u2ca9\u2cab\u2cad\u2caf\u2cb1\u2cb3\u2cb5\u2cb7\u2cb9\u2cbb\u2cbd\u2cbf\u2cc1\u2cc3\u2cc5\u2cc7\u2cc9\u2ccb\u2ccd\u2ccf\u2cd1\u2cd3\u2cd5\u2cd7\u2cd9\u2cdb\u2cdd\u2cdf\u2ce1\u2ce3\u2ce4\u2cec\u2cee\u2cf3\u2d00-\u2d25\u2d27\u2d2d\ua641\ua643\ua645\ua647\ua649\ua64b\ua64d\ua64f\ua651\ua653\ua655\ua657\ua659\ua65b\ua65d\ua65f\ua661\ua663\ua665\ua667\ua669\ua66b\ua66d\ua681\ua683\ua685\ua687\ua689\ua68b\ua68d\ua68f\ua691\ua693\ua695\ua697\ua723\ua725\ua727\ua729\ua72b\ua72d\ua72f-\ua731\ua733\ua735\ua737\ua739\ua73b\ua73d\ua73f\ua741\ua743\ua745\ua747\ua749\ua74b\ua74d\ua74f\ua751\ua753\ua755\ua757\ua759\ua75b\ua75d\ua75f\ua761\ua763\ua765\ua767\ua769\ua76b\ua76d\ua76f\ua771-\ua778\ua77a\ua77c\ua77f\ua781\ua783\ua785\ua787\ua78c\ua78e\ua791\ua793\ua7a1\ua7a3\ua7a5\ua7a7\ua7a9\ua7fa\ufb00-\ufb06\ufb13-\ufb17\uff41-\uff5a";n.Sm="+<->|~\u00ac\u00b1\u00d7\u00f7\u03f6\u0606-\u0608\u2044\u2052\u207a-\u207c\u208a-\u208c\u2118\u2140-\u2144\u214b\u2190-\u2194\u219a\u219b\u21a0\u21a3\u21a6\u21ae\u21ce\u21cf\u21d2\u21d4\u21f4-\u22ff\u2308-\u230b\u2320\u2321\u237c\u239b-\u23b3\u23dc-\u23e1\u25b7\u25c1\u25f8-\u25ff\u266f\u27c0-\u27c4\u27c7-\u27e5\u27f0-\u27ff\u2900-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2aff\u2b30-\u2b44\u2b47-\u2b4c\ufb29\ufe62\ufe64-\ufe66\uff0b\uff1c-\uff1e\uff5c\uff5e\uffe2\uffe9-\uffecU0001D6C1U0001D6DBU0001D6FBU0001D715U0001D735U0001D74FU0001D76FU0001D789U0001D7A9U0001D7C3U0001EEF0U0001EEF1";n.Lm="\u02b0-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0374\u037a\u0559\u0640\u06e5\u06e6\u07f4\u07f5\u07fa\u081a\u0824\u0828\u0971\u0e46\u0ec6\u10fc\u17d7\u1843\u1aa7\u1c78-\u1c7d\u1d2c-\u1d6a\u1d78\u1d9b-\u1dbf\u2071\u207f\u2090-\u209c\u2c7c\u2c7d\u2d6f\u2e2f\u3005\u3031-\u3035\u303b\u309d\u309e\u30fc-\u30fe\ua015\ua4f8-\ua4fd\ua60c\ua67f\ua717-\ua71f\ua770\ua788\ua7f8\ua7f9\ua9cf\uaa70\uaadd\uaaf3\uaaf4\uff70\uff9e\uff9f";n.Sk="^`\u00a8\u00af\u00b4\u00b8\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u309b\u309c\ua700-\ua716\ua720\ua721\ua789\ua78a\ufbb2-\ufbc1\uff3e\uff40\uffe3";n.Mn="\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962\u0963\u0981\u09bc\u09c1-\u09c4\u09cd\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b62\u0b63\u0b82\u0bc0\u0bcd\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc6\u0ccc\u0ccd\u0ce2\u0ce3\u0d41-\u0d44\u0d4d\u0d62\u0d63\u0dca\u0dd2-\u0dd4\u0dd6\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1bab\u1be6\u1be8\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u3099\u309a\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaec\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe26";n.Ps="([{\u0f3a\u0f3c\u169b\u201a\u201e\u2045\u207d\u208d\u2329\u2768\u276a\u276c\u276e\u2770\u2772\u2774\u27c5\u27e6\u27e8\u27ea\u27ec\u27ee\u2983\u2985\u2987\u2989\u298b\u298d\u298f\u2991\u2993\u2995\u2997\u29d8\u29da\u29fc\u2e22\u2e24\u2e26\u2e28\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u3018\u301a\u301d\ufd3e\ufe17\ufe35\ufe37\ufe39\ufe3b\ufe3d\ufe3f\ufe41\ufe43\ufe47\ufe59\ufe5b\ufe5d\uff08\uff3b\uff5b\uff5f\uff62";n.Lo="\u00aa\u00ba\u01bb\u01c0-\u01c3\u0294\u05d0-\u05ea\u05f0-\u05f2\u0620-\u063f\u0641-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u0800-\u0815\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0972-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e45\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10d0-\u10fa\u10fd-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17dc\u1820-\u1842\u1844-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c77\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u2135-\u2138\u2d30-\u2d67\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3006\u303c\u3041-\u3096\u309f\u30a1-\u30fa\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua014\ua016-\ua48c\ua4d0-\ua4f7\ua500-\ua60b\ua610-\ua61f\ua62a\ua62b\ua66e\ua6a0-\ua6e5\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa6f\uaa71-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb\uaadc\uaae0-\uaaea\uaaf2\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff66-\uff6f\uff71-\uff9d\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";n.No="\u00b2\u00b3\u00b9\u00bc-\u00be\u09f4-\u09f9\u0b72-\u0b77\u0bf0-\u0bf2\u0c78-\u0c7e\u0d70-\u0d75\u0f2a-\u0f33\u1369-\u137c\u17f0-\u17f9\u19da\u2070\u2074-\u2079\u2080-\u2089\u2150-\u215f\u2189\u2460-\u249b\u24ea-\u24ff\u2776-\u2793\u2cfd\u3192-\u3195\u3220-\u3229\u3248-\u324f\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\ua830-\ua835U00010107-U00010133U00010175-U00010178U0001018AU00010320-U00010323U00010858-U0001085FU00010916-U0001091BU00010A40-U00010A47U00010A7DU00010A7EU00010B58-U00010B5FU00010B78-U00010B7FU00010E60-U00010E7EU00011052-U00011065U0001D360-U0001D371U0001F100-U0001F10A";n.Po="!-#%-'*,./:;?@\\\u00a1\u00a7\u00b6\u00b7\u00bf\u037e\u0387\u055a-\u055f\u0589\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0af0\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f14\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1360-\u1368\u166d\u166e\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u1805\u1807-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cc0-\u1cc7\u1cd3\u2016\u2017\u2020-\u2027\u2030-\u2038\u203b-\u203e\u2041-\u2043\u2047-\u2051\u2053\u2055-\u205e\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00\u2e01\u2e06-\u2e08\u2e0b\u2e0e-\u2e16\u2e18\u2e19\u2e1b\u2e1e\u2e1f\u2e2a-\u2e2e\u2e30-\u2e39\u3001-\u3003\u303d\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uaaf0\uaaf1\uabeb\ufe10-\ufe16\ufe19\ufe30\ufe45\ufe46\ufe49-\ufe4c\ufe50-\ufe52\ufe54-\ufe57\ufe5f-\ufe61\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff07\uff0a\uff0c\uff0e\uff0f\uff1a\uff1b\uff1f\uff20\uff3c\uff61\uff64\uff65U00010100-U00010102U0001039FU000103D0U00010857U0001091FU0001093FU00010A50-U00010A58U00010A7FU00010B39-U00010B3FU00011047-U0001104DU000110BBU000110BCU000110BE-U000110C1U00011140-U00011143U000111C5-U000111C8U00012470-U00012473";n.So="\u00a6\u00a9\u00ae\u00b0\u0482\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u09fa\u0b70\u0bf3-\u0bf8\u0bfa\u0c7f\u0d79\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1390-\u1399\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116\u2117\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u214a\u214c\u214d\u214f\u2195-\u2199\u219c-\u219f\u21a1\u21a2\u21a4\u21a5\u21a7-\u21ad\u21af-\u21cd\u21d0\u21d1\u21d3\u21d5-\u21f3\u2300-\u2307\u230c-\u231f\u2322-\u2328\u232b-\u237b\u237d-\u239a\u23b4-\u23db\u23e2-\u23f3\u2400-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u25b6\u25b8-\u25c0\u25c2-\u25f7\u2600-\u266e\u2670-\u26ff\u2701-\u2767\u2794-\u27bf\u2800-\u28ff\u2b00-\u2b2f\u2b45\u2b46\u2b50-\u2b59\u2ce5-\u2cea\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u32fe\u3300-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua828-\ua82b\ua836\ua837\ua839\uaa77-\uaa79\ufdfd\uffe4\uffe8\uffed\uffee\ufffc\ufffdU00010137-U0001013FU00010179-U00010189U00010190-U0001019BU000101D0-U000101FCU0001D000-U0001D0F5U0001D100-U0001D126U0001D129-U0001D164U0001D16A-U0001D16CU0001D183U0001D184U0001D18C-U0001D1A9U0001D1AE-U0001D1DDU0001D200-U0001D241U0001D245U0001D300-U0001D356U0001F000-U0001F02BU0001F030-U0001F093U0001F0A0-U0001F0AEU0001F0B1-U0001F0BEU0001F0C1-U0001F0CFU0001F0D1-U0001F0DFU0001F110-U0001F12EU0001F130-U0001F16BU0001F170-U0001F19AU0001F1E6-U0001F202U0001F210-U0001F23AU0001F240-U0001F248U0001F250U0001F251U0001F300-U0001F320U0001F330-U0001F335U0001F337-U0001F37CU0001F380-U0001F393U0001F3A0-U0001F3C4U0001F3C6-U0001F3CAU0001F3E0-U0001F3F0U0001F400-U0001F43EU0001F440U0001F442-U0001F4F7U0001F4F9-U0001F4FCU0001F500-U0001F53DU0001F540-U0001F543U0001F550-U0001F567U0001F5FB-U0001F640U0001F645-U0001F64FU0001F680-U0001F6C5U0001F700-U0001F773";n.Zp="\u2029";n.Co="\ue000-\uf8ffU000F0000-U000FFFFDU00100000-U0010FFFD";n.Zs=" \u00a0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000";n.Mc="\u0903\u093b\u093e-\u0940\u0949-\u094c\u094e\u094f\u0982\u0983\u09be-\u09c0\u09c7\u09c8\u09cb\u09cc\u09d7\u0a03\u0a3e-\u0a40\u0a83\u0abe-\u0ac0\u0ac9\u0acb\u0acc\u0b02\u0b03\u0b3e\u0b40\u0b47\u0b48\u0b4b\u0b4c\u0b57\u0bbe\u0bbf\u0bc1\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd7\u0c01-\u0c03\u0c41-\u0c44\u0c82\u0c83\u0cbe\u0cc0-\u0cc4\u0cc7\u0cc8\u0cca\u0ccb\u0cd5\u0cd6\u0d02\u0d03\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d57\u0d82\u0d83\u0dcf-\u0dd1\u0dd8-\u0ddf\u0df2\u0df3\u0f3e\u0f3f\u0f7f\u102b\u102c\u1031\u1038\u103b\u103c\u1056\u1057\u1062-\u1064\u1067-\u106d\u1083\u1084\u1087-\u108c\u108f\u109a-\u109c\u17b6\u17be-\u17c5\u17c7\u17c8\u1923-\u1926\u1929-\u192b\u1930\u1931\u1933-\u1938\u19b0-\u19c0\u19c8\u19c9\u1a19-\u1a1b\u1a55\u1a57\u1a61\u1a63\u1a64\u1a6d-\u1a72\u1b04\u1b35\u1b3b\u1b3d-\u1b41\u1b43\u1b44\u1b82\u1ba1\u1ba6\u1ba7\u1baa\u1bac\u1bad\u1be7\u1bea-\u1bec\u1bee\u1bf2\u1bf3\u1c24-\u1c2b\u1c34\u1c35\u1ce1\u1cf2\u1cf3\u302e\u302f\ua823\ua824\ua827\ua880\ua881\ua8b4-\ua8c3\ua952\ua953\ua983\ua9b4\ua9b5\ua9ba\ua9bb\ua9bd-\ua9c0\uaa2f\uaa30\uaa33\uaa34\uaa4d\uaa7b\uaaeb\uaaee\uaaef\uaaf5\uabe3\uabe4\uabe6\uabe7\uabe9\uabea\uabec";n.Lt="\u01c5\u01c8\u01cb\u01f2\u1f88-\u1f8f\u1f98-\u1f9f\u1fa8-\u1faf\u1fbc\u1fcc\u1ffc";n.Cn="\u0378\u0379\u037f-\u0383\u038b\u038d\u03a2\u0528-\u0530\u0557\u0558\u0560\u0588\u058b-\u058e\u0590\u05c8-\u05cf\u05eb-\u05ef\u05f5-\u05ff\u0605\u061c\u061d\u070e\u074b\u074c\u07b2-\u07bf\u07fb-\u07ff\u082e\u082f\u083f\u085c\u085d\u085f-\u089f\u08a1\u08ad-\u08e3\u08ff\u0978\u0980\u0984\u098d\u098e\u0991\u0992\u09a9\u09b1\u09b3-\u09b5\u09ba\u09bb\u09c5\u09c6\u09c9\u09ca\u09cf-\u09d6\u09d8-\u09db\u09de\u09e4\u09e5\u09fc-\u0a00\u0a04\u0a0b-\u0a0e\u0a11\u0a12\u0a29\u0a31\u0a34\u0a37\u0a3a\u0a3b\u0a3d\u0a43-\u0a46\u0a49\u0a4a\u0a4e-\u0a50\u0a52-\u0a58\u0a5d\u0a5f-\u0a65\u0a76-\u0a80\u0a84\u0a8e\u0a92\u0aa9\u0ab1\u0ab4\u0aba\u0abb\u0ac6\u0aca\u0ace\u0acf\u0ad1-\u0adf\u0ae4\u0ae5\u0af2-\u0b00\u0b04\u0b0d\u0b0e\u0b11\u0b12\u0b29\u0b31\u0b34\u0b3a\u0b3b\u0b45\u0b46\u0b49\u0b4a\u0b4e-\u0b55\u0b58-\u0b5b\u0b5e\u0b64\u0b65\u0b78-\u0b81\u0b84\u0b8b-\u0b8d\u0b91\u0b96-\u0b98\u0b9b\u0b9d\u0ba0-\u0ba2\u0ba5-\u0ba7\u0bab-\u0bad\u0bba-\u0bbd\u0bc3-\u0bc5\u0bc9\u0bce\u0bcf\u0bd1-\u0bd6\u0bd8-\u0be5\u0bfb-\u0c00\u0c04\u0c0d\u0c11\u0c29\u0c34\u0c3a-\u0c3c\u0c45\u0c49\u0c4e-\u0c54\u0c57\u0c5a-\u0c5f\u0c64\u0c65\u0c70-\u0c77\u0c80\u0c81\u0c84\u0c8d\u0c91\u0ca9\u0cb4\u0cba\u0cbb\u0cc5\u0cc9\u0cce-\u0cd4\u0cd7-\u0cdd\u0cdf\u0ce4\u0ce5\u0cf0\u0cf3-\u0d01\u0d04\u0d0d\u0d11\u0d3b\u0d3c\u0d45\u0d49\u0d4f-\u0d56\u0d58-\u0d5f\u0d64\u0d65\u0d76-\u0d78\u0d80\u0d81\u0d84\u0d97-\u0d99\u0db2\u0dbc\u0dbe\u0dbf\u0dc7-\u0dc9\u0dcb-\u0dce\u0dd5\u0dd7\u0de0-\u0df1\u0df5-\u0e00\u0e3b-\u0e3e\u0e5c-\u0e80\u0e83\u0e85\u0e86\u0e89\u0e8b\u0e8c\u0e8e-\u0e93\u0e98\u0ea0\u0ea4\u0ea6\u0ea8\u0ea9\u0eac\u0eba\u0ebe\u0ebf\u0ec5\u0ec7\u0ece\u0ecf\u0eda\u0edb\u0ee0-\u0eff\u0f48\u0f6d-\u0f70\u0f98\u0fbd\u0fcd\u0fdb-\u0fff\u10c6\u10c8-\u10cc\u10ce\u10cf\u1249\u124e\u124f\u1257\u1259\u125e\u125f\u1289\u128e\u128f\u12b1\u12b6\u12b7\u12bf\u12c1\u12c6\u12c7\u12d7\u1311\u1316\u1317\u135b\u135c\u137d-\u137f\u139a-\u139f\u13f5-\u13ff\u169d-\u169f\u16f1-\u16ff\u170d\u1715-\u171f\u1737-\u173f\u1754-\u175f\u176d\u1771\u1774-\u177f\u17de\u17df\u17ea-\u17ef\u17fa-\u17ff\u180f\u181a-\u181f\u1878-\u187f\u18ab-\u18af\u18f6-\u18ff\u191d-\u191f\u192c-\u192f\u193c-\u193f\u1941-\u1943\u196e\u196f\u1975-\u197f\u19ac-\u19af\u19ca-\u19cf\u19db-\u19dd\u1a1c\u1a1d\u1a5f\u1a7d\u1a7e\u1a8a-\u1a8f\u1a9a-\u1a9f\u1aae-\u1aff\u1b4c-\u1b4f\u1b7d-\u1b7f\u1bf4-\u1bfb\u1c38-\u1c3a\u1c4a-\u1c4c\u1c80-\u1cbf\u1cc8-\u1ccf\u1cf7-\u1cff\u1de7-\u1dfb\u1f16\u1f17\u1f1e\u1f1f\u1f46\u1f47\u1f4e\u1f4f\u1f58\u1f5a\u1f5c\u1f5e\u1f7e\u1f7f\u1fb5\u1fc5\u1fd4\u1fd5\u1fdc\u1ff0\u1ff1\u1ff5\u1fff\u2065-\u2069\u2072\u2073\u208f\u209d-\u209f\u20ba-\u20cf\u20f1-\u20ff\u218a-\u218f\u23f4-\u23ff\u2427-\u243f\u244b-\u245f\u2700\u2b4d-\u2b4f\u2b5a-\u2bff\u2c2f\u2c5f\u2cf4-\u2cf8\u2d26\u2d28-\u2d2c\u2d2e\u2d2f\u2d68-\u2d6e\u2d71-\u2d7e\u2d97-\u2d9f\u2da7\u2daf\u2db7\u2dbf\u2dc7\u2dcf\u2dd7\u2ddf\u2e3c-\u2e7f\u2e9a\u2ef4-\u2eff\u2fd6-\u2fef\u2ffc-\u2fff\u3040\u3097\u3098\u3100-\u3104\u312e-\u3130\u318f\u31bb-\u31bf\u31e4-\u31ef\u321f\u32ff\u4db6-\u4dbf\u9fcd-\u9fff\ua48d-\ua48f\ua4c7-\ua4cf\ua62c-\ua63f\ua698-\ua69e\ua6f8-\ua6ff\ua78f\ua794-\ua79f\ua7ab-\ua7f7\ua82c-\ua82f\ua83a-\ua83f\ua878-\ua87f\ua8c5-\ua8cd\ua8da-\ua8df\ua8fc-\ua8ff\ua954-\ua95e\ua97d-\ua97f\ua9ce\ua9da-\ua9dd\ua9e0-\ua9ff\uaa37-\uaa3f\uaa4e\uaa4f\uaa5a\uaa5b\uaa7c-\uaa7f\uaac3-\uaada\uaaf7-\uab00\uab07\uab08\uab0f\uab10\uab17-\uab1f\uab27\uab2f-\uabbf\uabee\uabef\uabfa-\uabff\ud7a4-\ud7af\ud7c7-\ud7ca\ud7fc-\ud7ff\ufa6e\ufa6f\ufada-\ufaff\ufb07-\ufb12\ufb18-\ufb1c\ufb37\ufb3d\ufb3f\ufb42\ufb45\ufbc2-\ufbd2\ufd40-\ufd4f\ufd90\ufd91\ufdc8-\ufdef\ufdfe\ufdff\ufe1a-\ufe1f\ufe27-\ufe2f\ufe53\ufe67\ufe6c-\ufe6f\ufe75\ufefd\ufefe\uff00\uffbf-\uffc1\uffc8\uffc9\uffd0\uffd1\uffd8\uffd9\uffdd-\uffdf\uffe7\uffef-\ufff8\ufffe\uffffU0001000CU00010027U0001003BU0001003EU0001004EU0001004FU0001005E-U0001007FU000100FB-U000100FFU00010103-U00010106U00010134-U00010136U0001018B-U0001018FU0001019C-U000101CFU000101FE-U0001027FU0001029D-U0001029FU000102D1-U000102FFU0001031FU00010324-U0001032FU0001034B-U0001037FU0001039EU000103C4-U000103C7U000103D6-U000103FFU0001049EU0001049FU000104AA-U000107FFU00010806U00010807U00010809U00010836U00010839-U0001083BU0001083DU0001083EU00010856U00010860-U000108FFU0001091C-U0001091EU0001093A-U0001093EU00010940-U0001097FU000109B8-U000109BDU000109C0-U000109FFU00010A04U00010A07-U00010A0BU00010A14U00010A18U00010A34-U00010A37U00010A3B-U00010A3EU00010A48-U00010A4FU00010A59-U00010A5FU00010A80-U00010AFFU00010B36-U00010B38U00010B56U00010B57U00010B73-U00010B77U00010B80-U00010BFFU00010C49-U00010E5FU00010E7F-U00010FFFU0001104E-U00011051U00011070-U0001107FU000110C2-U000110CFU000110E9-U000110EFU000110FA-U000110FFU00011135U00011144-U0001117FU000111C9-U000111CFU000111DA-U0001167FU000116B8-U000116BFU000116CA-U00011FFFU0001236F-U000123FFU00012463-U0001246FU00012474-U00012FFFU0001342F-U000167FFU00016A39-U00016EFFU00016F45-U00016F4FU00016F7F-U00016F8EU00016FA0-U0001AFFFU0001B002-U0001CFFFU0001D0F6-U0001D0FFU0001D127U0001D128U0001D1DE-U0001D1FFU0001D246-U0001D2FFU0001D357-U0001D35FU0001D372-U0001D3FFU0001D455U0001D49DU0001D4A0U0001D4A1U0001D4A3U0001D4A4U0001D4A7U0001D4A8U0001D4ADU0001D4BAU0001D4BCU0001D4C4U0001D506U0001D50BU0001D50CU0001D515U0001D51DU0001D53AU0001D53FU0001D545U0001D547-U0001D549U0001D551U0001D6A6U0001D6A7U0001D7CCU0001D7CDU0001D800-U0001EDFFU0001EE04U0001EE20U0001EE23U0001EE25U0001EE26U0001EE28U0001EE33U0001EE38U0001EE3AU0001EE3C-U0001EE41U0001EE43-U0001EE46U0001EE48U0001EE4AU0001EE4CU0001EE50U0001EE53U0001EE55U0001EE56U0001EE58U0001EE5AU0001EE5CU0001EE5EU0001EE60U0001EE63U0001EE65U0001EE66U0001EE6BU0001EE73U0001EE78U0001EE7DU0001EE7FU0001EE8AU0001EE9C-U0001EEA0U0001EEA4U0001EEAAU0001EEBC-U0001EEEFU0001EEF2-U0001EFFFU0001F02C-U0001F02FU0001F094-U0001F09FU0001F0AFU0001F0B0U0001F0BFU0001F0C0U0001F0D0U0001F0E0-U0001F0FFU0001F10B-U0001F10FU0001F12FU0001F16C-U0001F16FU0001F19B-U0001F1E5U0001F203-U0001F20FU0001F23B-U0001F23FU0001F249-U0001F24FU0001F252-U0001F2FFU0001F321-U0001F32FU0001F336U0001F37D-U0001F37FU0001F394-U0001F39FU0001F3C5U0001F3CB-U0001F3DFU0001F3F1-U0001F3FFU0001F43FU0001F441U0001F4F8U0001F4FD-U0001F4FFU0001F53EU0001F53FU0001F544-U0001F54FU0001F568-U0001F5FAU0001F641-U0001F644U0001F650-U0001F67FU0001F6C6-U0001F6FFU0001F774-U0001FFFFU0002A6D7-U0002A6FFU0002B735-U0002B73FU0002B81E-U0002F7FFU0002FA1E-U000E0000U000E0002-U000E001FU000E0080-U000E00FFU000E01F0-U000EFFFFU000FFFFEU000FFFFFU0010FFFEU0010FFFF";n.Lu="A-Z\u00c0-\u00d6\u00d8-\u00de\u0100\u0102\u0104\u0106\u0108\u010a\u010c\u010e\u0110\u0112\u0114\u0116\u0118\u011a\u011c\u011e\u0120\u0122\u0124\u0126\u0128\u012a\u012c\u012e\u0130\u0132\u0134\u0136\u0139\u013b\u013d\u013f\u0141\u0143\u0145\u0147\u014a\u014c\u014e\u0150\u0152\u0154\u0156\u0158\u015a\u015c\u015e\u0160\u0162\u0164\u0166\u0168\u016a\u016c\u016e\u0170\u0172\u0174\u0176\u0178\u0179\u017b\u017d\u0181\u0182\u0184\u0186\u0187\u0189-\u018b\u018e-\u0191\u0193\u0194\u0196-\u0198\u019c\u019d\u019f\u01a0\u01a2\u01a4\u01a6\u01a7\u01a9\u01ac\u01ae\u01af\u01b1-\u01b3\u01b5\u01b7\u01b8\u01bc\u01c4\u01c7\u01ca\u01cd\u01cf\u01d1\u01d3\u01d5\u01d7\u01d9\u01db\u01de\u01e0\u01e2\u01e4\u01e6\u01e8\u01ea\u01ec\u01ee\u01f1\u01f4\u01f6-\u01f8\u01fa\u01fc\u01fe\u0200\u0202\u0204\u0206\u0208\u020a\u020c\u020e\u0210\u0212\u0214\u0216\u0218\u021a\u021c\u021e\u0220\u0222\u0224\u0226\u0228\u022a\u022c\u022e\u0230\u0232\u023a\u023b\u023d\u023e\u0241\u0243-\u0246\u0248\u024a\u024c\u024e\u0370\u0372\u0376\u0386\u0388-\u038a\u038c\u038e\u038f\u0391-\u03a1\u03a3-\u03ab\u03cf\u03d2-\u03d4\u03d8\u03da\u03dc\u03de\u03e0\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03f9\u03fa\u03fd-\u042f\u0460\u0462\u0464\u0466\u0468\u046a\u046c\u046e\u0470\u0472\u0474\u0476\u0478\u047a\u047c\u047e\u0480\u048a\u048c\u048e\u0490\u0492\u0494\u0496\u0498\u049a\u049c\u049e\u04a0\u04a2\u04a4\u04a6\u04a8\u04aa\u04ac\u04ae\u04b0\u04b2\u04b4\u04b6\u04b8\u04ba\u04bc\u04be\u04c0\u04c1\u04c3\u04c5\u04c7\u04c9\u04cb\u04cd\u04d0\u04d2\u04d4\u04d6\u04d8\u04da\u04dc\u04de\u04e0\u04e2\u04e4\u04e6\u04e8\u04ea\u04ec\u04ee\u04f0\u04f2\u04f4\u04f6\u04f8\u04fa\u04fc\u04fe\u0500\u0502\u0504\u0506\u0508\u050a\u050c\u050e\u0510\u0512\u0514\u0516\u0518\u051a\u051c\u051e\u0520\u0522\u0524\u0526\u0531-\u0556\u10a0-\u10c5\u10c7\u10cd\u1e00\u1e02\u1e04\u1e06\u1e08\u1e0a\u1e0c\u1e0e\u1e10\u1e12\u1e14\u1e16\u1e18\u1e1a\u1e1c\u1e1e\u1e20\u1e22\u1e24\u1e26\u1e28\u1e2a\u1e2c\u1e2e\u1e30\u1e32\u1e34\u1e36\u1e38\u1e3a\u1e3c\u1e3e\u1e40\u1e42\u1e44\u1e46\u1e48\u1e4a\u1e4c\u1e4e\u1e50\u1e52\u1e54\u1e56\u1e58\u1e5a\u1e5c\u1e5e\u1e60\u1e62\u1e64\u1e66\u1e68\u1e6a\u1e6c\u1e6e\u1e70\u1e72\u1e74\u1e76\u1e78\u1e7a\u1e7c\u1e7e\u1e80\u1e82\u1e84\u1e86\u1e88\u1e8a\u1e8c\u1e8e\u1e90\u1e92\u1e94\u1e9e\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ebe\u1ec0\u1ec2\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1eec\u1eee\u1ef0\u1ef2\u1ef4\u1ef6\u1ef8\u1efa\u1efc\u1efe\u1f08-\u1f0f\u1f18-\u1f1d\u1f28-\u1f2f\u1f38-\u1f3f\u1f48-\u1f4d\u1f59\u1f5b\u1f5d\u1f5f\u1f68-\u1f6f\u1fb8-\u1fbb\u1fc8-\u1fcb\u1fd8-\u1fdb\u1fe8-\u1fec\u1ff8-\u1ffb\u2102\u2107\u210b-\u210d\u2110-\u2112\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u2130-\u2133\u213e\u213f\u2145\u2183\u2c00-\u2c2e\u2c60\u2c62-\u2c64\u2c67\u2c69\u2c6b\u2c6d-\u2c70\u2c72\u2c75\u2c7e-\u2c80\u2c82\u2c84\u2c86\u2c88\u2c8a\u2c8c\u2c8e\u2c90\u2c92\u2c94\u2c96\u2c98\u2c9a\u2c9c\u2c9e\u2ca0\u2ca2\u2ca4\u2ca6\u2ca8\u2caa\u2cac\u2cae\u2cb0\u2cb2\u2cb4\u2cb6\u2cb8\u2cba\u2cbc\u2cbe\u2cc0\u2cc2\u2cc4\u2cc6\u2cc8\u2cca\u2ccc\u2cce\u2cd0\u2cd2\u2cd4\u2cd6\u2cd8\u2cda\u2cdc\u2cde\u2ce0\u2ce2\u2ceb\u2ced\u2cf2\ua640\ua642\ua644\ua646\ua648\ua64a\ua64c\ua64e\ua650\ua652\ua654\ua656\ua658\ua65a\ua65c\ua65e\ua660\ua662\ua664\ua666\ua668\ua66a\ua66c\ua680\ua682\ua684\ua686\ua688\ua68a\ua68c\ua68e\ua690\ua692\ua694\ua696\ua722\ua724\ua726\ua728\ua72a\ua72c\ua72e\ua732\ua734\ua736\ua738\ua73a\ua73c\ua73e\ua740\ua742\ua744\ua746\ua748\ua74a\ua74c\ua74e\ua750\ua752\ua754\ua756\ua758\ua75a\ua75c\ua75e\ua760\ua762\ua764\ua766\ua768\ua76a\ua76c\ua76e\ua779\ua77b\ua77d\ua77e\ua780\ua782\ua784\ua786\ua78b\ua78d\ua790\ua792\ua7a0\ua7a2\ua7a4\ua7a6\ua7a8\ua7aa\uff21-\uff3a";n.LetterXml4e="A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u0131\u0134-\u013e\u0141-\u0148\u014a-\u017e\u0180-\u01c3\u01cd-\u01f0\u01f4-\u01f5\u01fa-\u0217\u0250-\u02a8\u02bb-\u02c1\u0386-\u0386\u0388-\u038a\u038c-\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03d6\u03da-\u03da\u03dc-\u03dc\u03de-\u03de\u03e0-\u03e0\u03e2-\u03f3\u0401-\u040c\u040e-\u044f\u0451-\u045c\u045e-\u0481\u0490-\u04c4\u04c7-\u04c8\u04cb-\u04cc\u04d0-\u04eb\u04ee-\u04f5\u04f8-\u04f9\u0531-\u0556\u0559-\u0559\u0561-\u0586\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0641-\u064a\u0671-\u06b7\u06ba-\u06be\u06c0-\u06ce\u06d0-\u06d3\u06d5-\u06d5\u06e5-\u06e6\u0905-\u0939\u093d-\u093d\u0958-\u0961\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2-\u09b2\u09b6-\u09b9\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e-\u0a5e\u0a72-\u0a74\u0a85-\u0a8b\u0a8d-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd-\u0abd\u0ae0-\u0ae0\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b36-\u0b39\u0b3d-\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c-\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb5\u0bb7-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cde-\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0e01-\u0e2e\u0e30-\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e81-\u0e82\u0e84-\u0e84\u0e87-\u0e88\u0e8a-\u0e8a\u0e8d-\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5-\u0ea5\u0ea7-\u0ea7\u0eaa-\u0eab\u0ead-\u0eae\u0eb0-\u0eb0\u0eb2-\u0eb3\u0ebd-\u0ebd\u0ec0-\u0ec4\u0f40-\u0f47\u0f49-\u0f69\u10a0-\u10c5\u10d0-\u10f6\u1100-\u1100\u1102-\u1103\u1105-\u1107\u1109-\u1109\u110b-\u110c\u110e-\u1112\u113c-\u113c\u113e-\u113e\u1140-\u1140\u114c-\u114c\u114e-\u114e\u1150-\u1150\u1154-\u1155\u1159-\u1159\u115f-\u1161\u1163-\u1163\u1165-\u1165\u1167-\u1167\u1169-\u1169\u116d-\u116e\u1172-\u1173\u1175-\u1175\u119e-\u119e\u11a8-\u11a8\u11ab-\u11ab\u11ae-\u11af\u11b7-\u11b8\u11ba-\u11ba\u11bc-\u11c2\u11eb-\u11eb\u11f0-\u11f0\u11f9-\u11f9\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59-\u1f59\u1f5b-\u1f5b\u1f5d-\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe-\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2126-\u2126\u212a-\u212b\u212e-\u212e\u2180-\u2182\u3007-\u3007\u3021-\u3029\u3041-\u3094\u30a1-\u30fa\u3105-\u312c\u4e00-\u9fa5\uac00-\ud7a3";n.NcNameXml4e="--.0-9A-Z_-_a-z\u00b7-\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u0131\u0134-\u013e\u0141-\u0148\u014a-\u017e\u0180-\u01c3\u01cd-\u01f0\u01f4-\u01f5\u01fa-\u0217\u0250-\u02a8\u02bb-\u02c1\u02d0-\u02d1\u0300-\u0345\u0360-\u0361\u0386-\u038a\u038c-\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03d6\u03da-\u03da\u03dc-\u03dc\u03de-\u03de\u03e0-\u03e0\u03e2-\u03f3\u0401-\u040c\u040e-\u044f\u0451-\u045c\u045e-\u0481\u0483-\u0486\u0490-\u04c4\u04c7-\u04c8\u04cb-\u04cc\u04d0-\u04eb\u04ee-\u04f5\u04f8-\u04f9\u0531-\u0556\u0559-\u0559\u0561-\u0586\u0591-\u05a1\u05a3-\u05b9\u05bb-\u05bd\u05bf-\u05bf\u05c1-\u05c2\u05c4-\u05c4\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u0652\u0660-\u0669\u0670-\u06b7\u06ba-\u06be\u06c0-\u06ce\u06d0-\u06d3\u06d5-\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0901-\u0903\u0905-\u0939\u093c-\u094d\u0951-\u0954\u0958-\u0963\u0966-\u096f\u0981-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2-\u09b2\u09b6-\u09b9\u09bc-\u09bc\u09be-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7-\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a02-\u0a02\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c-\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a59-\u0a5c\u0a5e-\u0a5e\u0a66-\u0a74\u0a81-\u0a83\u0a85-\u0a8b\u0a8d-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae0-\u0ae0\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b36-\u0b39\u0b3c-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c-\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb5\u0bb7-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7-\u0bd7\u0be7-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c60-\u0c61\u0c66-\u0c6f\u0c82-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde-\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d02-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57-\u0d57\u0d60-\u0d61\u0d66-\u0d6f\u0e01-\u0e2e\u0e30-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84-\u0e84\u0e87-\u0e88\u0e8a-\u0e8a\u0e8d-\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5-\u0ea5\u0ea7-\u0ea7\u0eaa-\u0eab\u0ead-\u0eae\u0eb0-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6-\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18-\u0f19\u0f20-\u0f29\u0f35-\u0f35\u0f37-\u0f37\u0f39-\u0f39\u0f3e-\u0f47\u0f49-\u0f69\u0f71-\u0f84\u0f86-\u0f8b\u0f90-\u0f95\u0f97-\u0f97\u0f99-\u0fad\u0fb1-\u0fb7\u0fb9-\u0fb9\u10a0-\u10c5\u10d0-\u10f6\u1100-\u1100\u1102-\u1103\u1105-\u1107\u1109-\u1109\u110b-\u110c\u110e-\u1112\u113c-\u113c\u113e-\u113e\u1140-\u1140\u114c-\u114c\u114e-\u114e\u1150-\u1150\u1154-\u1155\u1159-\u1159\u115f-\u1161\u1163-\u1163\u1165-\u1165\u1167-\u1167\u1169-\u1169\u116d-\u116e\u1172-\u1173\u1175-\u1175\u119e-\u119e\u11a8-\u11a8\u11ab-\u11ab\u11ae-\u11af\u11b7-\u11b8\u11ba-\u11ba\u11bc-\u11c2\u11eb-\u11eb\u11f0-\u11f0\u11f9-\u11f9\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59-\u1f59\u1f5b-\u1f5b\u1f5d-\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe-\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u20d0-\u20dc\u20e1-\u20e1\u2126-\u2126\u212a-\u212b\u212e-\u212e\u2180-\u2182\u3005-\u3005\u3007-\u3007\u3021-\u302f\u3031-\u3035\u3041-\u3094\u3099-\u309a\u309d-\u309e\u30a1-\u30fa\u30fc-\u30fe\u3105-\u312c\u4e00-\u9fa5\uac00-\ud7a3"})(r=t.unicodeCategory||(t.unicodeCategory={}));i.tfsModuleLoaded("TFS.TestManagement.Utils.UnicodeCategoryData",t)});

define("TFS/Build/Contracts",["require","exports","TFS/Core/Contracts","TFS/TestManagement/Contracts"],function(n,t,i,r){"use strict";var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.WorkspaceMappingType=t.ValidationResult=t.TimelineRecordState=t.TaskResult=t.SupportLevel=t.SourceProviderAvailability=t.ServiceHostStatus=t.ScheduleDays=t.ResultSet=t.RepositoryCleanOptions=t.QueuePriority=t.QueueOptions=t.QueryDeletedOption=t.ProcessTemplateType=t.IssueType=t.GetOption=t.FolderQueryOrder=t.DeleteOptions=t.DefinitionType=t.DefinitionTriggerType=t.DefinitionQueueStatus=t.DefinitionQueryOrder=t.DefinitionQuality=t.ControllerStatus=t.BuildStatus=t.BuildResult=t.BuildReason=t.BuildQueryOrder=t.BuildPhaseStatus=t.BuildOptionInputType=t.BuildAuthorizationScope=t.AuditAction=t.AgentStatus=void 0,function(n){n[n.Unavailable=0]="Unavailable";n[n.Available=1]="Available";n[n.Offline=2]="Offline"}(u=t.AgentStatus||(t.AgentStatus={})),function(n){n[n.Add=1]="Add";n[n.Update=2]="Update";n[n.Delete=3]="Delete"}(f=t.AuditAction||(t.AuditAction={})),function(n){n[n.ProjectCollection=1]="ProjectCollection";n[n.Project=2]="Project"}(e=t.BuildAuthorizationScope||(t.BuildAuthorizationScope={})),function(n){n[n.String=0]="String";n[n.Boolean=1]="Boolean";n[n.StringList=2]="StringList";n[n.Radio=3]="Radio";n[n.PickList=4]="PickList";n[n.MultiLine=5]="MultiLine";n[n.BranchFilter=6]="BranchFilter"}(o=t.BuildOptionInputType||(t.BuildOptionInputType={})),function(n){n[n.Unknown=0]="Unknown";n[n.Failed=1]="Failed";n[n.Succeeded=2]="Succeeded"}(s=t.BuildPhaseStatus||(t.BuildPhaseStatus={})),function(n){n[n.FinishTimeAscending=2]="FinishTimeAscending";n[n.FinishTimeDescending=3]="FinishTimeDescending";n[n.QueueTimeDescending=4]="QueueTimeDescending";n[n.QueueTimeAscending=5]="QueueTimeAscending";n[n.StartTimeDescending=6]="StartTimeDescending";n[n.StartTimeAscending=7]="StartTimeAscending"}(h=t.BuildQueryOrder||(t.BuildQueryOrder={})),function(n){n[n.None=0]="None";n[n.Manual=1]="Manual";n[n.IndividualCI=2]="IndividualCI";n[n.BatchedCI=4]="BatchedCI";n[n.Schedule=8]="Schedule";n[n.UserCreated=32]="UserCreated";n[n.ValidateShelveset=64]="ValidateShelveset";n[n.CheckInShelveset=128]="CheckInShelveset";n[n.PullRequest=256]="PullRequest";n[n.BuildCompletion=512]="BuildCompletion";n[n.Triggered=943]="Triggered";n[n.All=1007]="All"}(c=t.BuildReason||(t.BuildReason={})),function(n){n[n.None=0]="None";n[n.Succeeded=2]="Succeeded";n[n.PartiallySucceeded=4]="PartiallySucceeded";n[n.Failed=8]="Failed";n[n.Canceled=32]="Canceled"}(l=t.BuildResult||(t.BuildResult={})),function(n){n[n.None=0]="None";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed";n[n.Cancelling=4]="Cancelling";n[n.Postponed=8]="Postponed";n[n.NotStarted=32]="NotStarted";n[n.All=47]="All"}(a=t.BuildStatus||(t.BuildStatus={})),function(n){n[n.Unavailable=0]="Unavailable";n[n.Available=1]="Available";n[n.Offline=2]="Offline"}(v=t.ControllerStatus||(t.ControllerStatus={})),function(n){n[n.Definition=1]="Definition";n[n.Draft=2]="Draft"}(y=t.DefinitionQuality||(t.DefinitionQuality={})),function(n){n[n.None=0]="None";n[n.LastModifiedAscending=1]="LastModifiedAscending";n[n.LastModifiedDescending=2]="LastModifiedDescending";n[n.DefinitionNameAscending=3]="DefinitionNameAscending";n[n.DefinitionNameDescending=4]="DefinitionNameDescending"}(p=t.DefinitionQueryOrder||(t.DefinitionQueryOrder={})),function(n){n[n.Enabled=0]="Enabled";n[n.Paused=1]="Paused";n[n.Disabled=2]="Disabled"}(w=t.DefinitionQueueStatus||(t.DefinitionQueueStatus={})),function(n){n[n.None=1]="None";n[n.ContinuousIntegration=2]="ContinuousIntegration";n[n.BatchedContinuousIntegration=4]="BatchedContinuousIntegration";n[n.Schedule=8]="Schedule";n[n.GatedCheckIn=16]="GatedCheckIn";n[n.BatchedGatedCheckIn=32]="BatchedGatedCheckIn";n[n.PullRequest=64]="PullRequest";n[n.BuildCompletion=128]="BuildCompletion";n[n.All=255]="All"}(b=t.DefinitionTriggerType||(t.DefinitionTriggerType={})),function(n){n[n.Xaml=1]="Xaml";n[n.Build=2]="Build"}(k=t.DefinitionType||(t.DefinitionType={})),function(n){n[n.None=0]="None";n[n.DropLocation=1]="DropLocation";n[n.TestResults=2]="TestResults";n[n.Label=4]="Label";n[n.Details=8]="Details";n[n.Symbols=16]="Symbols";n[n.All=31]="All"}(d=t.DeleteOptions||(t.DeleteOptions={})),function(n){n[n.None=0]="None";n[n.FolderAscending=1]="FolderAscending";n[n.FolderDescending=2]="FolderDescending"}(g=t.FolderQueryOrder||(t.FolderQueryOrder={})),function(n){n[n.LatestOnQueue=0]="LatestOnQueue";n[n.LatestOnBuild=1]="LatestOnBuild";n[n.Custom=2]="Custom"}(nt=t.GetOption||(t.GetOption={})),function(n){n[n.Error=1]="Error";n[n.Warning=2]="Warning"}(tt=t.IssueType||(t.IssueType={})),function(n){n[n.Custom=0]="Custom";n[n.Default=1]="Default";n[n.Upgrade=2]="Upgrade"}(it=t.ProcessTemplateType||(t.ProcessTemplateType={})),function(n){n[n.ExcludeDeleted=0]="ExcludeDeleted";n[n.IncludeDeleted=1]="IncludeDeleted";n[n.OnlyDeleted=2]="OnlyDeleted"}(rt=t.QueryDeletedOption||(t.QueryDeletedOption={})),function(n){n[n.None=0]="None";n[n.DoNotRun=1]="DoNotRun"}(ut=t.QueueOptions||(t.QueueOptions={})),function(n){n[n.Low=5]="Low";n[n.BelowNormal=4]="BelowNormal";n[n.Normal=3]="Normal";n[n.AboveNormal=2]="AboveNormal";n[n.High=1]="High"}(ft=t.QueuePriority||(t.QueuePriority={})),function(n){n[n.Source=0]="Source";n[n.SourceAndOutputDir=1]="SourceAndOutputDir";n[n.SourceDir=2]="SourceDir";n[n.AllBuildDir=3]="AllBuildDir"}(et=t.RepositoryCleanOptions||(t.RepositoryCleanOptions={})),function(n){n[n.All=0]="All";n[n.Top=1]="Top"}(ot=t.ResultSet||(t.ResultSet={})),function(n){n[n.None=0]="None";n[n.Monday=1]="Monday";n[n.Tuesday=2]="Tuesday";n[n.Wednesday=4]="Wednesday";n[n.Thursday=8]="Thursday";n[n.Friday=16]="Friday";n[n.Saturday=32]="Saturday";n[n.Sunday=64]="Sunday";n[n.All=127]="All"}(st=t.ScheduleDays||(t.ScheduleDays={})),function(n){n[n.Online=1]="Online";n[n.Offline=2]="Offline"}(ht=t.ServiceHostStatus||(t.ServiceHostStatus={})),function(n){n[n.Hosted=1]="Hosted";n[n.OnPremises=2]="OnPremises";n[n.All=3]="All"}(ct=t.SourceProviderAvailability||(t.SourceProviderAvailability={})),function(n){n[n.Unsupported=0]="Unsupported";n[n.Supported=1]="Supported";n[n.Required=2]="Required"}(lt=t.SupportLevel||(t.SupportLevel={})),function(n){n[n.Succeeded=0]="Succeeded";n[n.SucceededWithIssues=1]="SucceededWithIssues";n[n.Failed=2]="Failed";n[n.Canceled=3]="Canceled";n[n.Skipped=4]="Skipped";n[n.Abandoned=5]="Abandoned"}(at=t.TaskResult||(t.TaskResult={})),function(n){n[n.Pending=0]="Pending";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed"}(vt=t.TimelineRecordState||(t.TimelineRecordState={})),function(n){n[n.OK=0]="OK";n[n.Warning=1]="Warning";n[n.Error=2]="Error"}(yt=t.ValidationResult||(t.ValidationResult={})),function(n){n[n.Map=0]="Map";n[n.Cloak=1]="Cloak"}(pt=t.WorkspaceMappingType||(t.WorkspaceMappingType={}));t.TypeInfo={AgentStatus:{enumValues:{unavailable:0,available:1,offline:2}},AuditAction:{enumValues:{add:1,update:2,"delete":3}},Build:{},BuildAgent:{},BuildAuthorizationScope:{enumValues:{projectCollection:1,project:2}},BuildCompletedEvent:{},BuildCompletionTrigger:{},BuildController:{},BuildDefinition:{},BuildDefinition3_2:{},BuildDefinitionReference:{},BuildDefinitionReference3_2:{},BuildDefinitionRevision:{},BuildDefinitionSourceProvider:{},BuildDefinitionTemplate:{},BuildDefinitionTemplate3_2:{},BuildDeletedEvent:{},BuildDeployment:{},BuildLog:{},BuildMetric:{},BuildOptionDefinition:{},BuildOptionInputDefinition:{},BuildOptionInputType:{enumValues:{string:0,boolean:1,stringList:2,radio:3,pickList:4,multiLine:5,branchFilter:6}},BuildPhaseStatus:{enumValues:{unknown:0,failed:1,succeeded:2}},BuildProcessTemplate:{},BuildQueryOrder:{enumValues:{finishTimeAscending:2,finishTimeDescending:3,queueTimeDescending:4,queueTimeAscending:5,startTimeDescending:6,startTimeAscending:7}},BuildReason:{enumValues:{none:0,manual:1,individualCI:2,batchedCI:4,schedule:8,userCreated:32,validateShelveset:64,checkInShelveset:128,pullRequest:256,buildCompletion:512,triggered:943,all:1007}},BuildReference:{},BuildRequestValidationResult:{},BuildResult:{enumValues:{none:0,succeeded:2,partiallySucceeded:4,failed:8,canceled:32}},BuildServer:{},BuildStatus:{enumValues:{none:0,inProgress:1,completed:2,cancelling:4,postponed:8,notStarted:32,all:47}},BuildSummary:{},BuildTagsAddedEvent:{},BuildTrigger:{},BuildUpdatedEvent:{},Change:{},ContinuousDeploymentDefinition:{},ContinuousIntegrationTrigger:{},ControllerStatus:{enumValues:{unavailable:0,available:1,offline:2}},DefinitionQuality:{enumValues:{definition:1,draft:2}},DefinitionQueryOrder:{enumValues:{none:0,lastModifiedAscending:1,lastModifiedDescending:2,definitionNameAscending:3,definitionNameDescending:4}},DefinitionQueueStatus:{enumValues:{enabled:0,paused:1,disabled:2}},DefinitionReference:{},DefinitionTriggerType:{enumValues:{none:1,continuousIntegration:2,batchedContinuousIntegration:4,schedule:8,gatedCheckIn:16,batchedGatedCheckIn:32,pullRequest:64,buildCompletion:128,all:255}},DefinitionType:{enumValues:{xaml:1,build:2}},DeleteOptions:{enumValues:{none:0,dropLocation:1,testResults:2,label:4,details:8,symbols:16,all:31}},DesignerProcess:{},Folder:{},FolderQueryOrder:{enumValues:{none:0,folderAscending:1,folderDescending:2}},GatedCheckInTrigger:{},GetOption:{enumValues:{latestOnQueue:0,latestOnBuild:1,custom:2}},InformationNode:{},Issue:{},IssueType:{enumValues:{error:1,warning:2}},Phase:{},ProcessTemplateType:{enumValues:{custom:0,"default":1,upgrade:2}},PullRequestTrigger:{},QueryDeletedOption:{enumValues:{excludeDeleted:0,includeDeleted:1,onlyDeleted:2}},QueueOptions:{enumValues:{none:0,doNotRun:1}},QueuePriority:{enumValues:{low:5,belowNormal:4,normal:3,aboveNormal:2,high:1}},RepositoryCleanOptions:{enumValues:{source:0,sourceAndOutputDir:1,sourceDir:2,allBuildDir:3}},RepositoryWebhook:{},ResultSet:{enumValues:{all:0,top:1}},Schedule:{},ScheduleDays:{enumValues:{none:0,monday:1,tuesday:2,wednesday:4,thursday:8,friday:16,saturday:32,sunday:64,all:127}},ScheduleTrigger:{},ServiceHostStatus:{enumValues:{online:1,offline:2}},SourceProviderAttributes:{},SourceProviderAvailability:{enumValues:{hosted:1,onPremises:2,all:3}},SupportedTrigger:{},SupportLevel:{enumValues:{unsupported:0,supported:1,required:2}},TaskResult:{enumValues:{succeeded:0,succeededWithIssues:1,failed:2,canceled:3,skipped:4,abandoned:5}},Timeline:{},TimelineRecord:{},TimelineRecordState:{enumValues:{pending:0,inProgress:1,completed:2}},TimelineRecordsUpdatedEvent:{},ValidationResult:{enumValues:{oK:0,warning:1,error:2}},WorkspaceMapping:{},WorkspaceMappingType:{enumValues:{map:0,cloak:1}},WorkspaceTemplate:{},XamlBuildDefinition:{}};t.TypeInfo.Build.fields={controller:{typeInfo:t.TypeInfo.BuildController},definition:{typeInfo:t.TypeInfo.DefinitionReference},deletedDate:{isDate:!0},finishTime:{isDate:!0},lastChangedDate:{isDate:!0},priority:{enumType:t.TypeInfo.QueuePriority},project:{typeInfo:i.TypeInfo.TeamProjectReference},queueOptions:{enumType:t.TypeInfo.QueueOptions},queueTime:{isDate:!0},reason:{enumType:t.TypeInfo.BuildReason},result:{enumType:t.TypeInfo.BuildResult},startTime:{isDate:!0},status:{enumType:t.TypeInfo.BuildStatus},triggeredByBuild:{typeInfo:t.TypeInfo.Build},validationResults:{isArray:!0,typeInfo:t.TypeInfo.BuildRequestValidationResult}};t.TypeInfo.BuildAgent.fields={createdDate:{isDate:!0},status:{enumType:t.TypeInfo.AgentStatus},updatedDate:{isDate:!0}};t.TypeInfo.BuildCompletedEvent.fields={build:{typeInfo:t.TypeInfo.Build},changes:{isArray:!0,typeInfo:t.TypeInfo.Change},testResults:{typeInfo:r.TypeInfo.AggregatedResultsAnalysis},timelineRecords:{isArray:!0,typeInfo:t.TypeInfo.TimelineRecord}};t.TypeInfo.BuildCompletionTrigger.fields={definition:{typeInfo:t.TypeInfo.DefinitionReference},triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.BuildController.fields={createdDate:{isDate:!0},status:{enumType:t.TypeInfo.ControllerStatus},updatedDate:{isDate:!0}};t.TypeInfo.BuildDefinition.fields={createdDate:{isDate:!0},draftOf:{typeInfo:t.TypeInfo.DefinitionReference},drafts:{isArray:!0,typeInfo:t.TypeInfo.DefinitionReference},jobAuthorizationScope:{enumType:t.TypeInfo.BuildAuthorizationScope},latestBuild:{typeInfo:t.TypeInfo.Build},latestCompletedBuild:{typeInfo:t.TypeInfo.Build},metrics:{isArray:!0,typeInfo:t.TypeInfo.BuildMetric},project:{typeInfo:i.TypeInfo.TeamProjectReference},quality:{enumType:t.TypeInfo.DefinitionQuality},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},triggers:{isArray:!0,typeInfo:t.TypeInfo.BuildTrigger},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.BuildDefinition3_2.fields={createdDate:{isDate:!0},draftOf:{typeInfo:t.TypeInfo.DefinitionReference},drafts:{isArray:!0,typeInfo:t.TypeInfo.DefinitionReference},jobAuthorizationScope:{enumType:t.TypeInfo.BuildAuthorizationScope},latestBuild:{typeInfo:t.TypeInfo.Build},latestCompletedBuild:{typeInfo:t.TypeInfo.Build},metrics:{isArray:!0,typeInfo:t.TypeInfo.BuildMetric},project:{typeInfo:i.TypeInfo.TeamProjectReference},quality:{enumType:t.TypeInfo.DefinitionQuality},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},triggers:{isArray:!0,typeInfo:t.TypeInfo.BuildTrigger},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.BuildDefinitionReference.fields={createdDate:{isDate:!0},draftOf:{typeInfo:t.TypeInfo.DefinitionReference},drafts:{isArray:!0,typeInfo:t.TypeInfo.DefinitionReference},latestBuild:{typeInfo:t.TypeInfo.Build},latestCompletedBuild:{typeInfo:t.TypeInfo.Build},metrics:{isArray:!0,typeInfo:t.TypeInfo.BuildMetric},project:{typeInfo:i.TypeInfo.TeamProjectReference},quality:{enumType:t.TypeInfo.DefinitionQuality},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.BuildDefinitionReference3_2.fields={createdDate:{isDate:!0},draftOf:{typeInfo:t.TypeInfo.DefinitionReference},drafts:{isArray:!0,typeInfo:t.TypeInfo.DefinitionReference},metrics:{isArray:!0,typeInfo:t.TypeInfo.BuildMetric},project:{typeInfo:i.TypeInfo.TeamProjectReference},quality:{enumType:t.TypeInfo.DefinitionQuality},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.BuildDefinitionRevision.fields={changedDate:{isDate:!0},changeType:{enumType:t.TypeInfo.AuditAction}};t.TypeInfo.BuildDefinitionSourceProvider.fields={lastModified:{isDate:!0},supportedTriggerTypes:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.BuildDefinitionTemplate.fields={template:{typeInfo:t.TypeInfo.BuildDefinition}};t.TypeInfo.BuildDefinitionTemplate3_2.fields={template:{typeInfo:t.TypeInfo.BuildDefinition3_2}};t.TypeInfo.BuildDeletedEvent.fields={build:{typeInfo:t.TypeInfo.Build}};t.TypeInfo.BuildDeployment.fields={deployment:{typeInfo:t.TypeInfo.BuildSummary}};t.TypeInfo.BuildLog.fields={createdOn:{isDate:!0},lastChangedOn:{isDate:!0}};t.TypeInfo.BuildMetric.fields={date:{isDate:!0}};t.TypeInfo.BuildOptionDefinition.fields={inputs:{isArray:!0,typeInfo:t.TypeInfo.BuildOptionInputDefinition}};t.TypeInfo.BuildOptionInputDefinition.fields={type:{enumType:t.TypeInfo.BuildOptionInputType}};t.TypeInfo.BuildProcessTemplate.fields={supportedReasons:{enumType:t.TypeInfo.BuildReason},templateType:{enumType:t.TypeInfo.ProcessTemplateType}};t.TypeInfo.BuildReference.fields={finishTime:{isDate:!0},queueTime:{isDate:!0},result:{enumType:t.TypeInfo.BuildResult},startTime:{isDate:!0},status:{enumType:t.TypeInfo.BuildStatus}};t.TypeInfo.BuildRequestValidationResult.fields={result:{enumType:t.TypeInfo.ValidationResult}};t.TypeInfo.BuildServer.fields={status:{enumType:t.TypeInfo.ServiceHostStatus},statusChangedDate:{isDate:!0}};t.TypeInfo.BuildSummary.fields={finishTime:{isDate:!0},reason:{enumType:t.TypeInfo.BuildReason},startTime:{isDate:!0},status:{enumType:t.TypeInfo.BuildStatus}};t.TypeInfo.BuildTagsAddedEvent.fields={build:{typeInfo:t.TypeInfo.Build}};t.TypeInfo.BuildTrigger.fields={triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.BuildUpdatedEvent.fields={build:{typeInfo:t.TypeInfo.Build}};t.TypeInfo.Change.fields={timestamp:{isDate:!0}};t.TypeInfo.ContinuousDeploymentDefinition.fields={project:{typeInfo:i.TypeInfo.TeamProjectReference}};t.TypeInfo.ContinuousIntegrationTrigger.fields={triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.DefinitionReference.fields={createdDate:{isDate:!0},project:{typeInfo:i.TypeInfo.TeamProjectReference},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.DesignerProcess.fields={phases:{isArray:!0,typeInfo:t.TypeInfo.Phase}};t.TypeInfo.Folder.fields={createdOn:{isDate:!0},lastChangedDate:{isDate:!0},project:{typeInfo:i.TypeInfo.TeamProjectReference}};t.TypeInfo.GatedCheckInTrigger.fields={triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.InformationNode.fields={lastModifiedDate:{isDate:!0}};t.TypeInfo.Issue.fields={type:{enumType:t.TypeInfo.IssueType}};t.TypeInfo.Phase.fields={jobAuthorizationScope:{enumType:t.TypeInfo.BuildAuthorizationScope}};t.TypeInfo.PullRequestTrigger.fields={triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.RepositoryWebhook.fields={types:{isArray:!0,enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.Schedule.fields={daysToBuild:{enumType:t.TypeInfo.ScheduleDays}};t.TypeInfo.ScheduleTrigger.fields={schedules:{isArray:!0,typeInfo:t.TypeInfo.Schedule},triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.SourceProviderAttributes.fields={supportedTriggers:{isArray:!0,typeInfo:t.TypeInfo.SupportedTrigger}};t.TypeInfo.SupportedTrigger.fields={supportedCapabilities:{isDictionary:!0,dictionaryValueEnumType:t.TypeInfo.SupportLevel},type:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.Timeline.fields={lastChangedOn:{isDate:!0},records:{isArray:!0,typeInfo:t.TypeInfo.TimelineRecord}};t.TypeInfo.TimelineRecord.fields={finishTime:{isDate:!0},issues:{isArray:!0,typeInfo:t.TypeInfo.Issue},lastModified:{isDate:!0},result:{enumType:t.TypeInfo.TaskResult},startTime:{isDate:!0},state:{enumType:t.TypeInfo.TimelineRecordState}};t.TypeInfo.TimelineRecordsUpdatedEvent.fields={timelineRecords:{isArray:!0,typeInfo:t.TypeInfo.TimelineRecord}};t.TypeInfo.WorkspaceMapping.fields={mappingType:{enumType:t.TypeInfo.WorkspaceMappingType}};t.TypeInfo.WorkspaceTemplate.fields={lastModifiedDate:{isDate:!0},mappings:{isArray:!0,typeInfo:t.TypeInfo.WorkspaceMapping}};t.TypeInfo.XamlBuildDefinition.fields={controller:{typeInfo:t.TypeInfo.BuildController},createdDate:{isDate:!0},createdOn:{isDate:!0},project:{typeInfo:i.TypeInfo.TeamProjectReference},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},supportedReasons:{enumType:t.TypeInfo.BuildReason},triggerType:{enumType:t.TypeInfo.DefinitionTriggerType},type:{enumType:t.TypeInfo.DefinitionType}}});

define("TFS/Build/RestClient",["require","exports","TFS/Build/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f){"use strict";function rt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&tt[window.VSS.VssSDKRestVersion]?r.getClient(tt[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(o,undefined,undefined,undefined,n)}var e,s,h,c,l,a,o,v,y,p,w,b,k,d,g,nt,it,tt;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.BuildHttpClient=t.BuildHttpClient2=t.BuildHttpClient2_1=t.BuildHttpClient2_2=t.BuildHttpClient2_3=t.BuildHttpClient3=t.BuildHttpClient3_1=t.BuildHttpClient3_2=t.BuildHttpClient4=t.BuildHttpClient4_1=t.BuildHttpClient5=t.CommonMethods4_1To5=t.CommonMethods4To5=t.CommonMethods3_2To5=t.CommonMethods3_1To5=t.CommonMethods3To5=t.CommonMethods2To5=void 0;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTags=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d84ac5c6-edc7-43d5-adc9-1b34be5dea09",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.tagsApiVersion})},t.prototype.getBuildTags=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"6e6114b2-8161-44c8-8f6c-c5505782427f",resource:"tags",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:this.tagsApiVersion_6e6114b2})},t.prototype.deleteBuildTag=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",area:"build",locationId:"6e6114b2-8161-44c8-8f6c-c5505782427f",resource:"tags",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,buildId:t,tag:i},apiVersion:this.tagsApiVersion_6e6114b2})},t.prototype.addBuildTags=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"6e6114b2-8161-44c8-8f6c-c5505782427f",resource:"tags",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:t,buildId:i},apiVersion:this.tagsApiVersion_6e6114b2,data:n})},t.prototype.addBuildTag=function(n,t,i){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"6e6114b2-8161-44c8-8f6c-c5505782427f",resource:"tags",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,buildId:t,tag:i},apiVersion:this.tagsApiVersion_6e6114b2})},t.prototype.updateBuildSettings=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"aa8c1c9c-ef8b-474a-b8c4-785c7b191d0d",resource:"settings",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.settingsApiVersion,data:n})},t.prototype.getBuildSettings=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"aa8c1c9c-ef8b-474a-b8c4-785c7b191d0d",resource:"settings",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:n},apiVersion:this.settingsApiVersion})},t.prototype.getDefinitionRevisions=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"7c116775-52e5-453e-8c5d-914d9762d8c4",resource:"revisions",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseType:i.TypeInfo.BuildDefinitionRevision,responseIsCollection:!0,routeValues:{project:n,definitionId:t},apiVersion:this.revisionsApiVersion})},t.prototype.getResourceUsage=function(){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"3813d06c-9e36-4ea1-aac3-61a485d60e3d",resource:"ResourceUsage",routeTemplate:"_apis/build/{resource}",apiVersion:this.resourceUsageApiVersion})},t.prototype.getBuildOptionDefinitions=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"591cb5a4-2d46-4f3a-a697-5cd42b6bd332",resource:"options",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.BuildOptionDefinition,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.optionsApiVersion})},t.prototype.getBuildControllers=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"fcac1932-2ee1-437f-9b6f-7f696be858f6",resource:"Controllers",routeTemplate:"_apis/build/{resource}/{controllerId}",responseType:i.TypeInfo.BuildController,responseIsCollection:!0,queryParams:t,apiVersion:this.controllersApiVersion})},t.prototype.getBuildController=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"fcac1932-2ee1-437f-9b6f-7f696be858f6",resource:"Controllers",routeTemplate:"_apis/build/{resource}/{controllerId}",responseType:i.TypeInfo.BuildController,routeValues:{controllerId:n},apiVersion:this.controllersApiVersion})},t.prototype.getBuildBadgeData=function(n,t,i,r){var u={repoId:i,branchName:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"21b3b9ce-fad5-4567-9ad0-80679794e003",resource:"buildbadge",routeTemplate:"{project}/_apis/{area}/repos/{repoType}/badge",routeValues:{project:n,repoType:t},queryParams:u,apiVersion:this.buildbadgeApiVersion})},t.prototype.getBuildBadge=function(n,t,i,r){var u={repoId:i,branchName:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"21b3b9ce-fad5-4567-9ad0-80679794e003",resource:"buildbadge",routeTemplate:"{project}/_apis/{area}/repos/{repoType}/badge",routeValues:{project:n,repoType:t},queryParams:u,apiVersion:this.buildbadgeApiVersion})},t.prototype.getBadge=function(n,t,i){var r={branchName:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"de6a4df8-22cd-44ee-af2d-39f6aa7a4261",resource:"badge",routeTemplate:"_apis/public/{area}/definitions/{project}/{definitionId}/{resource}",routeValues:{project:n,definitionId:t},queryParams:r,apiVersion:this.badgeApiVersion})},t.serviceInstanceId=f.ServiceInstanceTypes.TFS,t}(u.VssHttpClient);t.CommonMethods2To5=e;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getWorkItemsBetweenBuilds=function(n,t,i,r){var u={fromBuildId:t,toBuildId:i,$top:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"52ba8915-5518-42e3-a4bb-b0182d159e2d",resource:"workitems",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:this.workitemsApiVersion})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r){var u={$top:r};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:u,apiVersion:this.workitemsApiVersion_5a21f5d2,data:n})},t.prototype.getBuildWorkItemsRefs=function(n,t,i){var r={$top:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:r,apiVersion:this.workitemsApiVersion_5a21f5d2})},t.prototype.getBuildReportHtmlContent=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/html",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:this.reportApiVersion})},t.prototype.getBuildReport=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:this.reportApiVersion})},t.prototype.getBuildLogsZip=function(n,t){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},apiVersion:this.logsApiVersion})},t.prototype.getBuildLogs=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:this.logsApiVersion})},t.prototype.getBuildLogLines=function(n,t,i,r,u){var f={startLine:r,endLine:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseIsCollection:!0,routeValues:{project:n,buildId:t,logId:i},queryParams:f,apiVersion:this.logsApiVersion})},t.prototype.getBuildLog=function(n,t,i,r,u){var f={startLine:r,endLine:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:f,apiVersion:this.logsApiVersion})},t.prototype.updateFolder=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"a906531b-d2da-4f55-bda7-f3e676cc50d9",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:this.foldersApiVersion,data:n})},t.prototype.getFolders=function(n,t,r){var u={queryOrder:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"a906531b-d2da-4f55-bda7-f3e676cc50d9",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",responseType:i.TypeInfo.Folder,responseIsCollection:!0,routeValues:{project:n,path:t},queryParams:u,apiVersion:this.foldersApiVersion})},t.prototype.deleteFolder=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"a906531b-d2da-4f55-bda7-f3e676cc50d9",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",routeValues:{project:n,path:t},apiVersion:this.foldersApiVersion})},t.prototype.createFolder=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"a906531b-d2da-4f55-bda7-f3e676cc50d9",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:this.foldersApiVersion,data:n})},t.prototype.getChangesBetweenBuilds=function(n,t,r,u){var f={fromBuildId:t,toBuildId:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f10f0ea5-18a1-43ec-a8fb-2042c7be9b43",resource:"changes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.changesApiVersion})},t.prototype.updateBuilds=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.buildsApiVersion,data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={retry:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:this.buildsApiVersion,data:n})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,sourceBuildId:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:this.buildsApiVersion,data:n})},t.prototype.deleteBuild=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},apiVersion:this.buildsApiVersion})},t.prototype.getArtifacts=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},apiVersion:this.artifactsApiVersion})},t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:this.artifactsApiVersion,data:n})},t}(e);t.CommonMethods3To5=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getDefinitionTags=function(n,t,i){var r={revision:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"cb894432-134a-4d31-a839-83beceaace4b",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{DefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,definitionId:t},queryParams:r,apiVersion:this.tagsApiVersion_cb894432})},t.prototype.deleteDefinitionTag=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",area:"build",locationId:"cb894432-134a-4d31-a839-83beceaace4b",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{DefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,definitionId:t,tag:i},apiVersion:this.tagsApiVersion_cb894432})},t.prototype.addDefinitionTags=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"cb894432-134a-4d31-a839-83beceaace4b",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{DefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:t,definitionId:i},apiVersion:this.tagsApiVersion_cb894432,data:n})},t.prototype.addDefinitionTag=function(n,t,i){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"cb894432-134a-4d31-a839-83beceaace4b",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{DefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,definitionId:t,tag:i},apiVersion:this.tagsApiVersion_cb894432})},t.prototype.getDefinitionMetrics=function(n,t,r){var u={minMetricsTime:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d973b939-0ce0-4fec-91d8-da3940fa1827",resource:"Metrics",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseType:i.TypeInfo.BuildMetric,responseIsCollection:!0,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:this.metricsApiVersion})},t.prototype.getProjectMetrics=function(n,t,r){var u={minMetricsTime:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"7433fae7-a6bc-41dc-a6e2-eef9005ce41a",resource:"Metrics",routeTemplate:"{project}/_apis/{area}/{resource}/{metricAggregationType}",responseType:i.TypeInfo.BuildMetric,responseIsCollection:!0,routeValues:{project:n,metricAggregationType:t},queryParams:u,apiVersion:this.metricsApiVersion_7433fae7})},t}(s);t.CommonMethods3_1To5=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateDefinitionProperties=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"d9826ad7-2a68-46a9-a6e9-677698777895",resource:"properties",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",routeValues:{project:t,definitionId:i},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.propertiesApiVersion,data:n})},t.prototype.getDefinitionProperties=function(n,t,i){var r={filter:i&&i.join(",")};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d9826ad7-2a68-46a9-a6e9-677698777895",resource:"properties",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",routeValues:{project:n,definitionId:t},queryParams:r,apiVersion:this.propertiesApiVersion})},t.prototype.updateBuildProperties=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0a6312e9-0627-49b7-8083-7d74a64849c9",resource:"properties",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:t,buildId:i},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.propertiesApiVersion_0a6312e9,data:n})},t.prototype.getBuildProperties=function(n,t,i){var r={filter:i&&i.join(",")};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0a6312e9-0627-49b7-8083-7d74a64849c9",resource:"properties",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:this.propertiesApiVersion_0a6312e9})},t}(h);t.CommonMethods3_2To5=c;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate,responseType:i.TypeInfo.BuildDefinitionTemplate,routeValues:{project:t,templateId:r},apiVersion:this.templatesApiVersion,data:n})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.templatesApiVersion})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate,routeValues:{project:n,templateId:t},apiVersion:this.templatesApiVersion})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:this.templatesApiVersion})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition,responseType:i.TypeInfo.BuildDefinition,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:this.definitionsApiVersion,data:n})},t.prototype.getDefinition=function(n,t,r,u,f,e){var o={revision:r,minMetricsTime:u,propertyFilters:f&&f.join(","),includeLatestBuilds:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition,routeValues:{project:t,definitionId:n},queryParams:o,apiVersion:this.definitionsApiVersion})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:this.definitionsApiVersion})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition,responseType:i.TypeInfo.BuildDefinition,routeValues:{project:t},queryParams:f,apiVersion:this.definitionsApiVersion,data:n})},t}(c);t.CommonMethods4To5=l;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.listWebhooks=function(n,t,r,u){var f={serviceEndpointId:r,repository:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8f20ff82-9498-4812-9f6e-9c01bdc50e99",resource:"webhooks",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",responseType:i.TypeInfo.RepositoryWebhook,responseIsCollection:!0,routeValues:{project:n,providerName:t},queryParams:f,apiVersion:this.webhooksApiVersion})},t.prototype.restoreWebhooks=function(n,t,r,u,f){var e={serviceEndpointId:u,repository:f};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"build",locationId:"793bceb8-9736-4030-bd2f-fb3ce6d6b478",resource:"webhooks",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",requestType:i.TypeInfo.DefinitionTriggerType,routeValues:{project:t,providerName:r},queryParams:e,apiVersion:this.webhooksApiVersion_793bceb8,data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:this.timelineApiVersion})},t.prototype.listSourceProviders=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"3ce81729-954f-423d-a581-9fea01d25186",resource:"sourceProviders",routeTemplate:"{project}/_apis/{resource}",responseType:i.TypeInfo.SourceProviderAttributes,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.sourceProvidersApiVersion})},t.prototype.listRepositories=function(n,t,i,r,u,f,e){var o={serviceEndpointId:i,repository:r,resultSet:u,pageResults:f,continuationToken:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d44d1680-f978-4834-9b93-8c6e132329c9",resource:"repositories",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",routeValues:{project:n,providerName:t},queryParams:o,apiVersion:this.repositoriesApiVersion})},t.prototype.getPathContents=function(n,t,i,r,u,f){var e={serviceEndpointId:i,repository:r,commitOrBranch:u,path:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"7944d6fb-df01-4709-920a-7a189aa34037",resource:"pathContents",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",responseIsCollection:!0,routeValues:{project:n,providerName:t},queryParams:e,apiVersion:this.pathContentsApiVersion})},t.prototype.getFileContents=function(n,t,i,r,u,f){var e={serviceEndpointId:i,repository:r,commitOrBranch:u,path:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"build",locationId:"29d12225-b1d9-425f-b668-6c594a981313",resource:"fileContents",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",routeValues:{project:n,providerName:t},queryParams:e,apiVersion:this.fileContentsApiVersion})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:this.changesApiVersion_54572c7b})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:this.buildsApiVersion})},t.prototype.listBranches=function(n,t,i,r){var u={serviceEndpointId:i,repository:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e05d4403-9b81-4244-8763-20fde28d1976",resource:"branches",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",responseIsCollection:!0,routeValues:{project:n,providerName:t},queryParams:u,apiVersion:this.branchesApiVersion})},t.prototype.getAttachment=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"af5122d3-3438-485e-a25a-2dbbfde84ee6",resource:"attachments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{timelineId}/{recordId}/{resource}/{type}/{name}",routeValues:{project:n,buildId:t,timelineId:i,recordId:r,type:u,name:f},apiVersion:this.attachmentsApiVersion})},t.prototype.getAttachments=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f2192269-89fa-4f94-baf6-8fb128c55159",resource:"attachments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{type}",responseIsCollection:!0,routeValues:{project:n,buildId:t,type:i},apiVersion:this.attachmentsApiVersion_f2192269})},t}(l);t.CommonMethods4_1To5=a;o=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_f2192269=r.branchesApiVersion=r.buildbadgeApiVersion=r.fileContentsApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7=r.pathContentsApiVersion=r.propertiesApiVersion=r.propertiesApiVersion_0a6312e9=r.repositoriesApiVersion=r.settingsApiVersion=r.sourceProvidersApiVersion=r.webhooksApiVersion=r.webhooksApiVersion_793bceb8="5.0-preview.1",r.badgeApiVersion=r.changesApiVersion=r.changesApiVersion_54572c7b=r.controllersApiVersion=r.logsApiVersion=r.optionsApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.revisionsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.tagsApiVersion_cb894432=r.timelineApiVersion=r.workitemsApiVersion=r.workitemsApiVersion_5a21f5d2="5.0-preview.2",r.templatesApiVersion="5.0-preview.3",r.artifactsApiVersion=r.buildsApiVersion="5.0-preview.4",r.definitionsApiVersion="5.0-preview.6",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"5.0-preview.4"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"5.0-preview.4"})},t.prototype.getFile=function(n,t,i,r,u){var f={artifactName:t,fileId:i,fileName:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:u,buildId:n},queryParams:f,apiVersion:"5.0-preview.4"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minTime:f,maxTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"5.0-preview.4"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var k={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p,processType:w,yamlFilename:b};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:k,apiVersion:"5.0-preview.6"})},t.prototype.restoreDefinition=function(n,t,r){var u={deleted:t};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition,routeValues:{project:r,definitionId:n},queryParams:u,apiVersion:"5.0-preview.6"})},t.prototype.getLatestBuild=function(n,t,r){var u={branchName:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54481611-01f4-47f3-998f-160da0f0c229",resource:"latest",routeTemplate:"{project}/_apis/{area}/{resource}/{*definition}",responseType:i.TypeInfo.Build,routeValues:{project:n,definition:t},queryParams:u,apiVersion:"5.0-preview.1"})},t.prototype.getBuildLogZip=function(n,t,i,r,u){var f={startLine:r,endLine:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:f,apiVersion:"5.0-preview.2"})},t.prototype.getPullRequest=function(n,t,i,r,u){var f={repositoryId:r,serviceEndpointId:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d8763ec7-9ff0-4fb4-b2b2-9d757906ff14",resource:"pullRequests",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}/{pullRequestId}",routeValues:{project:n,providerName:t,pullRequestId:i},queryParams:f,apiVersion:"5.0-preview.1"})},t.prototype.authorizeDefinitionResources=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"ea623316-1967-45eb-89ab-e9e6110cf2d6",resource:"resources",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseIsCollection:!0,routeValues:{project:t,definitionId:i},apiVersion:"5.0-preview.1",data:n})},t.prototype.getDefinitionResources=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"ea623316-1967-45eb-89ab-e9e6110cf2d6",resource:"resources",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseIsCollection:!0,routeValues:{project:n,definitionId:t},apiVersion:"5.0-preview.1"})},t.prototype.getStatusBadge=function(n,t,i,r,u,f,e){var o={branchName:i,stageName:r,jobName:u,configuration:f,label:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"07acfdce-4757-4439-b422-ddd13a2fcc10",resource:"status",routeTemplate:"{project}/_apis/{area}/{resource}/{*definition}",routeValues:{project:n,definition:t},queryParams:o,apiVersion:"5.0-preview.1"})},t}(a);t.BuildHttpClient5=o;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.changesApiVersion_54572c7b=r.controllersApiVersion=r.definitionsApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.templatesApiVersion=r.timelineApiVersion=r.workitemsApiVersion_5a21f5d2="4.1",r.attachmentsApiVersion=r.attachmentsApiVersion_f2192269=r.branchesApiVersion=r.buildbadgeApiVersion=r.fileContentsApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7=r.pathContentsApiVersion=r.propertiesApiVersion=r.propertiesApiVersion_0a6312e9=r.repositoriesApiVersion=r.sourceProvidersApiVersion=r.webhooksApiVersion=r.webhooksApiVersion_793bceb8="4.1-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.tagsApiVersion_cb894432=r.workitemsApiVersion="4.1-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"4.1"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"4.1"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minTime:f,maxTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"4.1"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"4.1"})},t}(a);t.BuildHttpClient4_1=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.controllersApiVersion=r.definitionsApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.templatesApiVersion=r.workitemsApiVersion_5a21f5d2="4.0",r.buildbadgeApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7=r.propertiesApiVersion=r.propertiesApiVersion_0a6312e9="4.0-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.tagsApiVersion_cb894432=r.workitemsApiVersion="4.0-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"4.0"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"4.0"})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:"4.0"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"4.0"})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:"4.0"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"4.0"})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"4.0"})},t}(l);t.BuildHttpClient4=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.controllersApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.workitemsApiVersion_5a21f5d2="3.2",r.buildbadgeApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7=r.propertiesApiVersion=r.propertiesApiVersion_0a6312e9="3.2-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.tagsApiVersion_cb894432=r.workitemsApiVersion="3.2-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.2"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.2"})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:"3.2"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"3.2"})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:"3.2"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"3.2",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"3.2"})},t.prototype.getDefinition=function(n,t,r,u,f,e){var o={revision:r,minMetricsTime:u,propertyFilters:f&&f.join(","),includeLatestBuilds:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t,definitionId:n},queryParams:o,apiVersion:"3.2"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.2"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"3.2",data:n})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"3.2"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"3.2"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.2"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"3.2",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"3.2"})},t}(c);t.BuildHttpClient3_2=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.controllersApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.workitemsApiVersion_5a21f5d2="3.1",r.buildbadgeApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7="3.1-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.tagsApiVersion_cb894432=r.workitemsApiVersion="3.1-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.1"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.1"})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:"3.1"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"3.1"})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:"3.1"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"3.1",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"3.1"})},t.prototype.getDefinition=function(n,t,r,u,f,e){var o={revision:r,minMetricsTime:u,propertyFilters:f&&f.join(","),includeLatestBuilds:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t,definitionId:n},queryParams:o,apiVersion:"3.1"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.1"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"3.1",data:n})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"3.1"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"3.1"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.1"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"3.1",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"3.1"})},t}(h);t.BuildHttpClient3_1=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.controllersApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.workitemsApiVersion_5a21f5d2="3.0",r.buildbadgeApiVersion=r.foldersApiVersion="3.0-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.workitemsApiVersion="3.0-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.0"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.0"})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:"3.0"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"3.0"})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:"3.0"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"3.0",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"3.0"})},t.prototype.getDefinition=function(n,t,r,u,f,e){var o={revision:r,minMetricsTime:u,propertyFilters:f&&f.join(","),includeLatestBuilds:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t,definitionId:n},queryParams:o,apiVersion:"3.0"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.0"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"3.0",data:n})},t.prototype.getDefinitionMetrics=function(n,t,r){var u={minMetricsTime:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d973b939-0ce0-4fec-91d8-da3940fa1827",resource:"metrics",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseType:i.TypeInfo.BuildMetric,responseIsCollection:!0,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"3.0-preview.1"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"3.0"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"3.0"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.0"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"3.0",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"3.0"})},t}(s);t.BuildHttpClient3=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.badgeApiVersion=r.controllersApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2="2.3",r.buildbadgeApiVersion="2.3-preview.1",r.resourceUsageApiVersion="2.3-preview.2",r}return __extends(t,n),t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:"2.3",data:n})},t.prototype.getArtifact=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getArtifactContentZip=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getArtifacts=function(n,t,i){var r={definitionType:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.3"})},t.prototype.deleteBuild=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.3"})},t.prototype.getBuild=function(n,t,r,u){var f={propertyFilters:r,type:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:f,apiVersion:"2.3"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),type:v,$top:y,continuationToken:p,maxBuildsPerDefinition:w,deletedFilter:b,queryOrder:k,branchName:d};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:g,apiVersion:"2.3"})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,type:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:"2.3",data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={type:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:"2.3",data:n})},t.prototype.getBuildChanges=function(n,t,r,u,f,e){var o={continuationToken:r,$top:u,includeSourceChange:f,type:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:o,apiVersion:"2.3"})},t.prototype.getChangesBetweenBuilds=function(n,t,r,u){var f={fromBuildId:t,toBuildId:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f10f0ea5-18a1-43ec-a8fb-2042c7be9b43",resource:"changes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"2.3-preview.2"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"2.3",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"2.3"})},t.prototype.getDefinition=function(n,t,r,u,f){var e={revision:r,propertyFilters:u&&u.join(","),type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,routeValues:{project:t,definitionId:n},queryParams:e,apiVersion:"2.3"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o){var s={name:t,type:r,repositoryId:u,repositoryType:f,queryOrder:e,$top:o};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"2.3"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"2.3",data:n})},t.prototype.getBuildLogJson=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseIsCollection:!0,routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.3"})},t.prototype.getBuildLogs=function(n,t,r){var u={type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getBuildLogStream=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.3"})},t.prototype.getBuildLogsZip=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"2.3"})},t.prototype.createQueue=function(n){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",apiVersion:"2.3",data:n})},t.prototype.deleteQueue=function(n){var t={id:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",queryParams:t,apiVersion:"2.3"})},t.prototype.getAgentPoolQueue=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",routeValues:{controllerId:n},apiVersion:"2.3"})},t.prototype.getQueues=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",responseIsCollection:!0,queryParams:t,apiVersion:"2.3"})},t.prototype.getBuildReport=function(n,t,i,r){var u={type:i,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.3-preview.2"})},t.prototype.getBuildReportHtmlContent=function(n,t,i,r){var u={type:i,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/html",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.3-preview.2"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"2.3"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"2.3"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.3"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"2.3",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"2.3"})},t.prototype.getBuildWorkItemsRefs=function(n,t,i,r){var u={$top:i,type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r,u){var f={$top:r,type:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:f,apiVersion:"2.3",data:n})},t.prototype.getWorkItemsBetweenBuilds=function(n,t,i,r){var u={fromBuildId:t,toBuildId:i,$top:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"52ba8915-5518-42e3-a4bb-b0182d159e2d",resource:"workitems",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:"2.3-preview.2"})},t}(e);t.BuildHttpClient2_3=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.badgeApiVersion=r.controllersApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2="2.2",r.buildbadgeApiVersion="2.2-preview.1",r.resourceUsageApiVersion="2.2-preview.2",r}return __extends(t,n),t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:"2.2",data:n})},t.prototype.getArtifact=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getArtifactContentZip=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getArtifacts=function(n,t,i){var r={definitionType:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.2"})},t.prototype.deleteBuild=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.2"})},t.prototype.getBuild=function(n,t,r,u){var f={propertyFilters:r,type:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:f,apiVersion:"2.2"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),type:v,$top:y,continuationToken:p,maxBuildsPerDefinition:w,deletedFilter:b,queryOrder:k,branchName:d};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:g,apiVersion:"2.2"})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,type:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:"2.2",data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={type:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:"2.2",data:n})},t.prototype.getBuildChanges=function(n,t,r,u,f,e){var o={continuationToken:r,$top:u,includeSourceChange:f,type:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:o,apiVersion:"2.2"})},t.prototype.getChangesBetweenBuilds=function(n,t,r,u){var f={fromBuildId:t,toBuildId:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f10f0ea5-18a1-43ec-a8fb-2042c7be9b43",resource:"changes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"2.2-preview.2"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"2.2",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"2.2"})},t.prototype.getDefinition=function(n,t,r,u,f){var e={revision:r,propertyFilters:u&&u.join(","),type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,routeValues:{project:t,definitionId:n},queryParams:e,apiVersion:"2.2"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o){var s={name:t,type:r,repositoryId:u,repositoryType:f,queryOrder:e,$top:o};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"2.2"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"2.2",data:n})},t.prototype.getBuildDeployments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f275be9a-556a-4ee9-b72f-f9c8370ccaee",resource:"deployments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:"2.2"})},t.prototype.getBuildLog=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.2"})},t.prototype.getBuildLogs=function(n,t,r){var u={type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getBuildLogsZip=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"2.2"})},t.prototype.createQueue=function(n){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",apiVersion:"2.2",data:n})},t.prototype.deleteQueue=function(n){var t={id:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",queryParams:t,apiVersion:"2.2"})},t.prototype.getAgentPoolQueue=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",routeValues:{controllerId:n},apiVersion:"2.2"})},t.prototype.getQueues=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",responseIsCollection:!0,queryParams:t,apiVersion:"2.2"})},t.prototype.getBuildReport=function(n,t,i,r){var u={type:i,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.2-preview.2"})},t.prototype.getBuildReportHtmlContent=function(n,t,i,r){var u={type:i,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/html",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.2-preview.2"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"2.2"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"2.2"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.2"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"2.2",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"2.2"})},t.prototype.getBuildWorkItemsRefs=function(n,t,i,r){var u={$top:i,type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r,u){var f={$top:r,type:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:f,apiVersion:"2.2",data:n})},t.prototype.getWorkItemsBetweenBuilds=function(n,t,i,r){var u={fromBuildId:t,toBuildId:i,$top:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"52ba8915-5518-42e3-a4bb-b0182d159e2d",resource:"workitems",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:"2.2-preview.2"})},t}(e);t.BuildHttpClient2_2=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.badgeApiVersion=r.controllersApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2="2.1",r.buildbadgeApiVersion="2.1-preview.1",r.resourceUsageApiVersion="2.1-preview.2",r}return __extends(t,n),t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:"2.1",data:n})},t.prototype.getArtifact=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getArtifactContentZip=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getArtifacts=function(n,t,i){var r={definitionType:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.1"})},t.prototype.deleteBuild=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.1"})},t.prototype.getBuild=function(n,t,r,u){var f={propertyFilters:r,type:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:f,apiVersion:"2.1"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),type:v,$top:y,continuationToken:p,maxBuildsPerDefinition:w,deletedFilter:b,queryOrder:k,branchName:d};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:g,apiVersion:"2.1"})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,type:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:"2.1",data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={type:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:"2.1",data:n})},t.prototype.getBuildChanges=function(n,t,r,u,f,e){var o={continuationToken:r,$top:u,includeSourceChange:f,type:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:o,apiVersion:"2.1"})},t.prototype.getChangesBetweenBuilds=function(n,t,r,u){var f={fromBuildId:t,toBuildId:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f10f0ea5-18a1-43ec-a8fb-2042c7be9b43",resource:"changes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"2.1-preview.2"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"2.1",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"2.1"})},t.prototype.getDefinition=function(n,t,r,u,f){var e={revision:r,propertyFilters:u&&u.join(","),type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,routeValues:{project:t,definitionId:n},queryParams:e,apiVersion:"2.1"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o){var s={name:t,type:r,repositoryId:u,repositoryType:f,queryOrder:e,$top:o};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"2.1"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"2.1",data:n})},t.prototype.getBuildDeployments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f275be9a-556a-4ee9-b72f-f9c8370ccaee",resource:"deployments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:"2.1"})},t.prototype.getBuildLog=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.1"})},t.prototype.getBuildLogs=function(n,t,r){var u={type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.getBuildLogsZip=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"2.1"})},t.prototype.createQueue=function(n){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",apiVersion:"2.1",data:n})},t.prototype.deleteQueue=function(n){var t={id:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",queryParams:t,apiVersion:"2.1"})},t.prototype.getAgentPoolQueue=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",routeValues:{controllerId:n},apiVersion:"2.1"})},t.prototype.getQueues=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",responseIsCollection:!0,queryParams:t,apiVersion:"2.1"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"2.1"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"2.1"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.1"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"2.1",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"2.1"})},t.prototype.getBuildWorkItemsRefs=function(n,t,i,r){var u={$top:i,type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r,u){var f={$top:r,type:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:f,apiVersion:"2.1",data:n})},t.prototype.getWorkItemsBetweenBuilds=function(n,t,i,r){var u={fromBuildId:t,toBuildId:i,$top:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"52ba8915-5518-42e3-a4bb-b0182d159e2d",resource:"workitems",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:"2.1-preview.2"})},t}(e);t.BuildHttpClient2_1=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.badgeApiVersion=r.controllersApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2="2.0",r.buildbadgeApiVersion="2.0-preview.1",r.resourceUsageApiVersion="2.0-preview.2",r}return __extends(t,n),t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:"2.0",data:n})},t.prototype.getArtifact=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getArtifactContentZip=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getArtifacts=function(n,t,i){var r={definitionType:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.0"})},t.prototype.deleteBuild=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.0"})},t.prototype.getBuild=function(n,t,r,u){var f={propertyFilters:r,type:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:f,apiVersion:"2.0"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),type:v,$top:y,continuationToken:p,maxBuildsPerDefinition:w,deletedFilter:b,queryOrder:k,branchName:d};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:g,apiVersion:"2.0"})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,type:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:"2.0",data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={type:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:"2.0",data:n})},t.prototype.getBuildChanges=function(n,t,r,u,f,e){var o={continuationToken:r,$top:u,includeSourceChange:f,type:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:o,apiVersion:"2.0"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"2.0",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"2.0"})},t.prototype.getDefinition=function(n,t,r,u,f){var e={revision:r,propertyFilters:u&&u.join(","),type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,routeValues:{project:t,definitionId:n},queryParams:e,apiVersion:"2.0"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o){var s={name:t,type:r,repositoryId:u,repositoryType:f,queryOrder:e,$top:o};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"2.0"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"2.0",data:n})},t.prototype.getBuildDeployments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f275be9a-556a-4ee9-b72f-f9c8370ccaee",resource:"deployments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:"2.0"})},t.prototype.getBuildLog=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.0"})},t.prototype.getBuildLogs=function(n,t,r){var u={type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.getBuildLogsZip=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"2.0"})},t.prototype.createQueue=function(n){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",apiVersion:"2.0",data:n})},t.prototype.deleteQueue=function(n){var t={id:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",queryParams:t,apiVersion:"2.0"})},t.prototype.getAgentPoolQueue=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",routeValues:{controllerId:n},apiVersion:"2.0"})},t.prototype.getQueues=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",responseIsCollection:!0,queryParams:t,apiVersion:"2.0"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"2.0"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"2.0"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.0"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"2.0",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"2.0"})},t.prototype.getBuildWorkItemsRefs=function(n,t,i,r){var u={$top:i,type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r,u){var f={$top:r,type:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:f,apiVersion:"2.0",data:n})},t}(e);t.BuildHttpClient2=nt;it=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(o);t.BuildHttpClient=it;tt={"5.0":o,"4.1":v,"4.0":y,"3.2":p,"3.1":w,"3.0":b,"2.3":k,"2.2":d,"2.1":g,"2.0":nt};t.getClient=rt});

define("TFS/TestImpact/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.TestInclusionOptions=t.SignatureType=t.DefinitionType=t.BuildType=void 0,function(n){n[n.TestImpactOff=0]="TestImpactOff";n[n.BaseLine=1]="BaseLine";n[n.TestImpactOn=2]="TestImpactOn"}(i=t.BuildType||(t.BuildType={})),function(n){n[n.Build=0]="Build";n[n.Release=1]="Release"}(r=t.DefinitionType||(t.DefinitionType={})),function(n){n[n.Method=0]="Method";n[n.File=1]="File";n[n.Assembly=2]="Assembly"}(u=t.SignatureType||(t.SignatureType={})),function(n){n[n.None=0]="None";n[n.Failed=1]="Failed"}(f=t.TestInclusionOptions||(t.TestInclusionOptions={}));t.TypeInfo={BuildType:{enumValues:{testImpactOff:0,baseLine:1,testImpactOn:2}},CodeChange:{},DefinitionRunInfo:{},DefinitionType:{enumValues:{build:0,release:1}},SignatureType:{enumValues:{method:0,file:1,assembly:2}},TestImpactBuildData:{},TestInclusionOptions:{enumValues:{none:0,failed:1}},TestResultSignatures:{},TestResultSignaturesInfo:{}};t.TypeInfo.CodeChange.fields={signatureType:{enumType:t.TypeInfo.SignatureType}};t.TypeInfo.DefinitionRunInfo.fields={definitionType:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.TestImpactBuildData.fields={codeChanges:{isArray:!0,typeInfo:t.TypeInfo.CodeChange}};t.TypeInfo.TestResultSignatures.fields={signatureType:{enumType:t.TypeInfo.SignatureType}};t.TypeInfo.TestResultSignaturesInfo.fields={definitionType:{enumType:t.TypeInfo.DefinitionType},testResultSignatures:{isArray:!0,typeInfo:t.TypeInfo.TestResultSignatures}}});

define("TFS/TestImpact/RestClient",["require","exports","TFS/TestImpact/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f){"use strict";function ut(n){return window.VSS&&window.VSS.VssSDKRestVersion&&it[window.VSS.VssSDKRestVersion]?r.getClient(it[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(s,undefined,undefined,undefined,n)}var e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,rt,it;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.TestHttpClient=t.TestHttpClient2=t.TestHttpClient2_1=t.TestHttpClient2_2=t.TestHttpClient2_3=t.TestHttpClient3=t.TestHttpClient3_1=t.TestHttpClient3_2=t.TestHttpClient4=t.TestHttpClient4_1=t.TestHttpClient5=t.TestHttpClient5_1=t.TestHttpClient5_2=t.TestHttpClient6=t.TestHttpClient6_1=t.TestHttpClient7=t.TestHttpClient7_1=t.CommonMethods2To7_1=void 0;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryImpactedTests=function(n,t,i,r){var u={definitionRunInfo:t,currentTestRunId:i,typesToInclude:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"754d6530-da2e-4aea-a677-75eaa653b5cc",resource:"Impact",routeTemplate:"{project}/_apis/test/{resource}",routeValues:{project:n},queryParams:u,apiVersion:this.impactApiVersion})},t.prototype.queryBuildType=function(n,t){var r={buildId:t};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"754d6530-da2e-4aea-a677-75eaa653b5cc",resource:"Impact",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.BuildType,routeValues:{project:n},queryParams:r,apiVersion:this.impactApiVersion})},t.prototype.publishCodeSignatures=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"754d6530-da2e-4aea-a677-75eaa653b5cc",resource:"Impact",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultSignaturesInfo,responseType:i.TypeInfo.TestResultSignaturesInfo,routeValues:{project:t},apiVersion:this.impactApiVersion,data:n})},t.prototype.queryCodeChanges=function(n,t){var r={definitionRunInfo:t};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"9ff68920-1c90-47e7-95f3-0d58479a4bd7",resource:"Change",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.TestImpactBuildData,routeValues:{project:n},queryParams:r,apiVersion:this.changeApiVersion})},t.prototype.publishTestImpactBuildData=function(n,t,r){var u={definitionRunInfo:r};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"9ff68920-1c90-47e7-95f3-0d58479a4bd7",resource:"Change",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestImpactBuildData,responseType:i.TypeInfo.TestImpactBuildData,routeValues:{project:t},queryParams:u,apiVersion:this.changeApiVersion,data:n})},t.serviceInstanceId=f.ServiceInstanceTypes.TFS,t}(u.VssHttpClient);t.CommonMethods2To7_1=e;o=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="7.1-preview.1",r}return __extends(t,n),t}(e);t.TestHttpClient7_1=o;s=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="7.0",r}return __extends(t,n),t}(e);t.TestHttpClient7=s;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="6.1",r}return __extends(t,n),t}(e);t.TestHttpClient6_1=h;c=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="6.0",r}return __extends(t,n),t}(e);t.TestHttpClient6=c;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="5.2",r}return __extends(t,n),t}(e);t.TestHttpClient5_2=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="5.1",r}return __extends(t,n),t}(e);t.TestHttpClient5_1=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="5.0",r}return __extends(t,n),t}(e);t.TestHttpClient5=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="4.1",r}return __extends(t,n),t}(e);t.TestHttpClient4_1=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="4.0",r}return __extends(t,n),t}(e);t.TestHttpClient4=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="3.2",r}return __extends(t,n),t}(e);t.TestHttpClient3_2=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="3.1",r}return __extends(t,n),t}(e);t.TestHttpClient3_1=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="3.0",r}return __extends(t,n),t}(e);t.TestHttpClient3=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="2.3",r}return __extends(t,n),t}(e);t.TestHttpClient2_3=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="2.2",r}return __extends(t,n),t}(e);t.TestHttpClient2_2=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="2.1",r}return __extends(t,n),t}(e);t.TestHttpClient2_1=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.changeApiVersion=r.impactApiVersion="2.0",r}return __extends(t,n),t}(e);t.TestHttpClient2=tt;rt=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(o);t.TestHttpClient=rt;it={"7.1":o,"7.0":s,"6.1":h,"6.0":c,"5.2":l,"5.1":a,"5.0":v,"4.1":y,"4.0":p,"3.2":w,"3.1":b,"3.0":k,"2.3":d,"2.2":g,"2.1":nt,"2.0":tt};t.getClient=ut});

define("TFS/TestManagement/VSS.TestResults.WebApi",["require","exports","TFS/TestManagement/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function k(n){return window.VSS&&window.VSS.VssSDKRestVersion&&w[window.VSS.VssSDKRestVersion]?r.getClient(w[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(c,undefined,undefined,undefined,n)}var e,o,s,f,h,c,l,a,v,y,p,b,w;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.TestResultsHttpClient=t.TestResultsHttpClient5=t.TestResultsHttpClient5_1=t.TestResultsHttpClient5_2=t.TestResultsHttpClient6=t.TestResultsHttpClient6_1=t.TestResultsHttpClient7=t.TestResultsHttpClient7_1=t.CommonMethods6To7_1=t.CommonMethods5_2To7_1=t.CommonMethods5_1To7_1=t.CommonMethods5To7_1=void 0;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryTestResultWorkItems=function(n,t,i,r,u,f,e){var o={workItemCategory:t,automatedTestName:i,testCaseId:r,maxCompleteDate:u,days:f,$workItemCount:e};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"f7401a26-331b-44fe-a470-f7ed35138e4a",resource:"workitems",routeTemplate:"{project}/_apis/testresults/results/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:this.workitemsApiVersion})},t.prototype.queryTestMethodLinkedWorkItems=function(n,t){var i={testName:t};return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"cbd50bd7-f7ed-4e35-b127-4408ae6bfa2c",resource:"workitems",routeTemplate:"{project}/_apis/testresults/testmethods/{testName}/{resource}/{workItemId}",routeValues:{project:n},queryParams:i,apiVersion:this.workitemsApiVersion_cbd50bd7})},t.prototype.deleteTestMethodToWorkItemLink=function(n,t,i){var r={testName:t,workItemId:i};return this._beginRequest({httpMethod:"DELETE",area:"testresults",locationId:"cbd50bd7-f7ed-4e35-b127-4408ae6bfa2c",resource:"workitems",routeTemplate:"{project}/_apis/testresults/testmethods/{testName}/{resource}/{workItemId}",routeValues:{project:n},queryParams:r,apiVersion:this.workitemsApiVersion_cbd50bd7})},t.prototype.addWorkItemToTestLinks=function(n,t){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"4e3abe63-ca46-4fe0-98b2-363f7ec7aa5f",resource:"workitems",routeTemplate:"{project}/_apis/testresults/testmethods/{resource}",requestType:i.TypeInfo.WorkItemToTestLinks,responseType:i.TypeInfo.WorkItemToTestLinks,routeValues:{project:t},apiVersion:this.workitemsApiVersion_4e3abe63,data:n})},t.prototype.getTestSettingsById=function(n,t){var i={testSettingsId:t};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"930bad47-f826-4099-9597-f44d0a9c735c",resource:"testsettings",routeTemplate:"{project}/_apis/testresults/{resource}",routeValues:{project:n},queryParams:i,apiVersion:this.testsettingsApiVersion})},t.prototype.deleteTestSettings=function(n,t){var i={testSettingsId:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"testresults",locationId:"930bad47-f826-4099-9597-f44d0a9c735c",resource:"testsettings",routeTemplate:"{project}/_apis/testresults/{resource}",routeValues:{project:n},queryParams:i,apiVersion:this.testsettingsApiVersion})},t.prototype.createTestSettings=function(n,t){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"930bad47-f826-4099-9597-f44d0a9c735c",resource:"testsettings",routeTemplate:"{project}/_apis/testresults/{resource}",routeValues:{project:t},apiVersion:this.testsettingsApiVersion,data:n})},t.prototype.testLogStoreEndpointDetailsForRun=function(n,t,r,u,f){var e={testLogStoreOperationType:r,filePath:u,type:f};return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"67eb3f92-6c97-4fd9-8b63-6cbdc7e526ea",resource:"testlogstoreendpoint",routeTemplate:"{project}/_apis/{area}/runs/{runId}/{resource}",responseType:i.TypeInfo.TestLogStoreEndpointDetails,routeValues:{project:n,runId:t},queryParams:e,apiVersion:this.testlogstoreendpointApiVersion})},t.prototype.getTestLogStoreEndpointDetailsForRunLog=function(n,t,r,u){var f={type:r,filePath:u};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"67eb3f92-6c97-4fd9-8b63-6cbdc7e526ea",resource:"testlogstoreendpoint",routeTemplate:"{project}/_apis/{area}/runs/{runId}/{resource}",responseType:i.TypeInfo.TestLogStoreEndpointDetails,routeValues:{project:n,runId:t},queryParams:f,apiVersion:this.testlogstoreendpointApiVersion})},t.prototype.testLogStoreEndpointDetailsForResult=function(n,t,r,u,f,e){var o={subResultId:u,filePath:f,type:e};return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"da630b37-1236-45b5-945e-1d7bdb673850",resource:"testlogstoreendpoint",routeTemplate:"{project}/_apis/{area}/runs/{runId}/results/{resultId}/{resource}",responseType:i.TypeInfo.TestLogStoreEndpointDetails,routeValues:{project:n,runId:t,resultId:r},queryParams:o,apiVersion:this.testlogstoreendpointApiVersion_da630b37})},t.prototype.getTestLogStoreEndpointDetailsForSubResultLog=function(n,t,r,u,f,e){var o={subResultId:u,type:f,filePath:e};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"da630b37-1236-45b5-945e-1d7bdb673850",resource:"testlogstoreendpoint",routeTemplate:"{project}/_apis/{area}/runs/{runId}/results/{resultId}/{resource}",responseType:i.TypeInfo.TestLogStoreEndpointDetails,routeValues:{project:n,runId:t,resultId:r},queryParams:o,apiVersion:this.testlogstoreendpointApiVersion_da630b37})},t.prototype.getTestLogStoreEndpointDetailsForResultLog=function(n,t,r,u,f){var e={type:u,filePath:f};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"da630b37-1236-45b5-945e-1d7bdb673850",resource:"testlogstoreendpoint",routeTemplate:"{project}/_apis/{area}/runs/{runId}/results/{resultId}/{resource}",responseType:i.TypeInfo.TestLogStoreEndpointDetails,routeValues:{project:n,runId:t,resultId:r},queryParams:e,apiVersion:this.testlogstoreendpointApiVersion_da630b37})},t.prototype.testLogStoreEndpointDetailsForBuild=function(n,t,r){var u={buildId:t,testLogStoreOperationType:r};return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"39b09be7-f0c9-4a83-a513-9ae31b45c56f",resource:"testlogstoreendpoint",routeTemplate:"{project}/_apis/testresults/{resource}",responseType:i.TypeInfo.TestLogStoreEndpointDetails,routeValues:{project:n},queryParams:u,apiVersion:this.testlogstoreendpointApiVersion_39b09be7})},t.prototype.getTestLogStoreEndpointDetailsForBuildLog=function(n,t,r,u){var f={build:t,type:r,filePath:u};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"39b09be7-f0c9-4a83-a513-9ae31b45c56f",resource:"testlogstoreendpoint",routeTemplate:"{project}/_apis/testresults/{resource}",responseType:i.TypeInfo.TestLogStoreEndpointDetails,routeValues:{project:n},queryParams:f,apiVersion:this.testlogstoreendpointApiVersion_39b09be7})},t.prototype.getTestRunLogs=function(n,t,r,u,f,e,o,s){var h={type:r,directoryPath:u,fileNamePrefix:f,fetchMetaData:e,top:o};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"5b47b946-e875-4c9a-acdc-2a20996caebe",resource:"testlog",routeTemplate:"{project}/_apis/{area}/runs/{runId}/{resource}",responseType:i.TypeInfo.TestLog,responseIsCollection:!0,routeValues:{project:n,runId:t},customHeaders:{"x-ms-continuationtoken":s},queryParams:h,apiVersion:this.testlogApiVersion})},t.prototype.getTestSubResultLogs=function(n,t,r,u,f,e,o,s,h,c){var l={subResultId:u,type:f,directoryPath:e,fileNamePrefix:o,fetchMetaData:s,top:h};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"714caaac-ae1e-4869-8323-9bc0f5120dbf",resource:"testlog",routeTemplate:"{project}/_apis/{area}/runs/{runId}/results/{resultId}/{resource}",responseType:i.TypeInfo.TestLog,responseIsCollection:!0,routeValues:{project:n,runId:t,resultId:r},customHeaders:{"x-ms-continuationtoken":c},queryParams:l,apiVersion:this.testlogApiVersion_714caaac})},t.prototype.getTestResultLogs=function(n,t,r,u,f,e,o,s,h){var c={type:u,directoryPath:f,fileNamePrefix:e,fetchMetaData:o,top:s};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"714caaac-ae1e-4869-8323-9bc0f5120dbf",resource:"testlog",routeTemplate:"{project}/_apis/{area}/runs/{runId}/results/{resultId}/{resource}",responseType:i.TypeInfo.TestLog,responseIsCollection:!0,routeValues:{project:n,runId:t,resultId:r},customHeaders:{"x-ms-continuationtoken":h},queryParams:c,apiVersion:this.testlogApiVersion_714caaac})},t.prototype.getTestLogsForBuild=function(n,t,r,u,f,e,o,s){var h={buildId:t,type:r,directoryPath:u,fileNamePrefix:f,fetchMetaData:e,top:o};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"dff8ce3a-e539-4817-a405-d968491a88f1",resource:"testlog",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.TestLog,responseIsCollection:!0,routeValues:{project:n},customHeaders:{"x-ms-continuationtoken":s},queryParams:h,apiVersion:this.testlogApiVersion_dff8ce3a})},t.prototype.queryTestHistory=function(n,t){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"2a41bd6a-8118-4403-b74e-5ba7492aed9d",resource:"TestHistory",routeTemplate:"{project}/_apis/testresults/results/{resource}",requestType:i.TypeInfo.TestHistoryQuery,responseType:i.TypeInfo.TestHistoryQuery,routeValues:{project:t},apiVersion:this.testHistoryApiVersion,data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"82b986e8-ca9e-4a89-b39e-f65c69bc104a",resource:"statistics",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:this.statisticsApiVersion})},t.prototype.updateTestRun=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"testresults",locationId:"364538f9-8062-4ce0-b024-75a0fb463f0d",resource:"runs",routeTemplate:"{project}/_apis/testresults/{resource}/{runId}",requestType:i.TypeInfo.RunUpdateModel,responseType:i.TypeInfo.TestRun,routeValues:{project:t,runId:r},apiVersion:this.runsApiVersion,data:n})},t.prototype.queryTestRuns=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var k={minLastUpdatedDate:t,maxLastUpdatedDate:r,state:u,planIds:f&&f.join(","),isAutomated:e,publishContext:o,buildIds:s&&s.join(","),buildDefIds:h&&h.join(","),branchName:c,releaseIds:l&&l.join(","),releaseDefIds:a&&a.join(","),releaseEnvIds:v&&v.join(","),releaseEnvDefIds:y&&y.join(","),runTitle:p,$top:w,continuationToken:b};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"364538f9-8062-4ce0-b024-75a0fb463f0d",resource:"runs",routeTemplate:"{project}/_apis/testresults/{resource}/{runId}",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:n},queryParams:k,apiVersion:this.runsApiVersion})},t.prototype.getTestRuns=function(n,t,r,u,f,e,o,s,h){var c={buildUri:t,owner:r,tmiRunId:u,planId:f,includeRunDetails:e,automated:o,$skip:s,$top:h};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"364538f9-8062-4ce0-b024-75a0fb463f0d",resource:"runs",routeTemplate:"{project}/_apis/testresults/{resource}/{runId}",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:n},queryParams:c,apiVersion:this.runsApiVersion})},t.prototype.getTestRunById=function(n,t,r,u){var f={includeDetails:r,includeTags:u};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"364538f9-8062-4ce0-b024-75a0fb463f0d",resource:"runs",routeTemplate:"{project}/_apis/testresults/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},queryParams:f,apiVersion:this.runsApiVersion})},t.prototype.deleteTestRun=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"testresults",locationId:"364538f9-8062-4ce0-b024-75a0fb463f0d",resource:"runs",routeTemplate:"{project}/_apis/testresults/{resource}/{runId}",routeValues:{project:n,runId:t},apiVersion:this.runsApiVersion})},t.prototype.createTestRun=function(n,t){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"364538f9-8062-4ce0-b024-75a0fb463f0d",resource:"runs",routeTemplate:"{project}/_apis/testresults/{resource}/{runId}",requestType:i.TypeInfo.RunCreateModel,responseType:i.TypeInfo.TestRun,routeValues:{project:t},apiVersion:this.runsApiVersion,data:n})},t.prototype.queryResultTrendForRelease=function(n,t){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"107f23c3-359a-460a-a70c-63ee739f9f9a",resource:"ResultTrendByRelease",routeTemplate:"{project}/_apis/testresults/{resource}",requestType:i.TypeInfo.TestResultTrendFilter,responseType:i.TypeInfo.AggregatedDataForResultTrend,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultTrendByReleaseApiVersion,data:n})},t.prototype.queryResultTrendForBuild=function(n,t){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"0886a7ae-315a-4dba-9122-bcce93301f3a",resource:"ResultTrendByBuild",routeTemplate:"{project}/_apis/testresults/{resource}",requestType:i.TypeInfo.TestResultTrendFilter,responseType:i.TypeInfo.AggregatedDataForResultTrend,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultTrendByBuildApiVersion,data:n})},t.prototype.queryTestSummaryByRequirement=function(n,t,r){var u={workItemIds:r&&r.join(",")};return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"3b7fd26f-c335-4e55-afc1-a588f5e2af3c",resource:"resultsummarybyrequirement",routeTemplate:"{project}/_apis/testresults/{resource}",requestType:i.TypeInfo.TestResultsContext,responseType:i.TypeInfo.TestSummaryForWorkItem,responseIsCollection:!0,routeValues:{project:t},queryParams:u,apiVersion:this.resultsummarybyrequirementApiVersion,data:n})},t.prototype.queryTestResultsSummaryForReleases=function(n,t){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"f10f9577-2c04-45ab-8c99-b26567a7cd55",resource:"resultsummarybyrelease",routeTemplate:"{project}/_apis/testresults/{resource}",requestType:i.TypeInfo.ReleaseReference,responseType:i.TypeInfo.TestResultSummary,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultsummarybyreleaseApiVersion,data:n})},t.prototype.queryTestResultsReportForRelease=function(n,t,r,u,f,e){var o={releaseId:t,releaseEnvId:r,publishContext:u,includeFailureDetails:f,releaseToCompare:e};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"f10f9577-2c04-45ab-8c99-b26567a7cd55",resource:"resultsummarybyrelease",routeTemplate:"{project}/_apis/testresults/{resource}",responseType:i.TypeInfo.TestResultSummary,routeValues:{project:n},queryParams:o,apiVersion:this.resultsummarybyreleaseApiVersion})},t.prototype.queryTestResultsReportForBuild=function(n,t,r,u,f){var e={buildId:t,publishContext:r,includeFailureDetails:u,buildToCompare:f};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"e009fa95-95a5-4ad4-9681-590043ce2423",resource:"resultsummarybybuild",routeTemplate:"{project}/_apis/testresults/{resource}",responseType:i.TypeInfo.TestResultSummary,routeValues:{project:n},queryParams:e,apiVersion:this.resultsummarybybuildApiVersion})},t.prototype.getTestResultsByRelease=function(n,t,i,r,u,f,e){var o={releaseId:t,releaseEnvid:i,publishContext:r,outcomes:u&&u.join(","),$top:f,continuationToken:e};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"3994b949-77e5-495d-8034-edf80d95b84e",resource:"resultsbyrelease",routeTemplate:"{project}/_apis/testresults/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:this.resultsbyreleaseApiVersion})},t.prototype.getTestResultsByBuild=function(n,t,i,r,u,f){var e={buildId:t,publishContext:i,outcomes:r&&r.join(","),$top:u,continuationToken:f};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"f48cc885-dbc4-4efc-ab19-ae8c19d1e02a",resource:"resultsbybuild",routeTemplate:"{project}/_apis/testresults/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:this.resultsbybuildApiVersion})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"testresults",locationId:"02afa165-e79a-4d70-8f0c-2af0f35b4e07",resource:"results",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}/{testResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:this.resultsApiVersion,data:n})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"02afa165-e79a-4d70-8f0c-2af0f35b4e07",resource:"results",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}/{testResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testResultId:r},queryParams:f,apiVersion:this.resultsApiVersion})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"02afa165-e79a-4d70-8f0c-2af0f35b4e07",resource:"results",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}/{testResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:this.resultsApiVersion,data:n})},t.prototype.getTestResultsByQueryWiql=function(n,t,r,u,f,e){var o={includeResultDetails:r,includeIterationDetails:u,$skip:f,$top:e};return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"5ea78be3-2f5a-4110-8034-c27f24c62db1",resource:"results",routeTemplate:"{project}/_apis/testresults/{resource}/query",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:o,apiVersion:this.resultsApiVersion_5ea78be3,data:n})},t.prototype.getTestResultsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"14033a2c-af25-4af1-9e39-8ef6900482e3",resource:"results",routeTemplate:"{project}/_apis/testresults/{resource}",requestType:i.TypeInfo.TestResultsQuery,responseType:i.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:this.resultsApiVersion_14033a2c,data:n})},t.prototype.getResultGroupsByRelease=function(n,t,i,r,u,f){var e={releaseId:t,publishContext:i,releaseEnvId:r,fields:u&&u.join(","),continuationToken:f};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"3c2b6bb0-0620-434a-a5c3-26aa0fcfda15",resource:"resultgroupsbyrelease",routeTemplate:"{project}/_apis/testresults/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:this.resultgroupsbyreleaseApiVersion})},t.prototype.getResultGroupsByBuild=function(n,t,i,r,u){var f={buildId:t,publishContext:i,fields:r&&r.join(","),continuationToken:u};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"e49244d1-c49f-49ad-a717-3bbaefe6a201",resource:"resultgroupsbybuild",routeTemplate:"{project}/_apis/testresults/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.resultgroupsbybuildApiVersion})},t.prototype.publishTestResultDocument=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"74838649-b038-42f1-a0e7-6deb3973bf14",resource:"ResultDocument",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}",routeValues:{project:t,runId:i},apiVersion:this.resultDocumentApiVersion,data:n})},t.prototype.getTestResultDetailsForRelease=function(n,t,r,u,f,e,o,s,h){var c={releaseId:t,releaseEnvId:r,publishContext:u,groupBy:f,$filter:e,$orderby:o,shouldIncludeResults:s,queryRunSummaryForInProgress:h};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"19a8183a-69fb-47d7-bfbf-1b6b0d921294",resource:"resultdetailsbyrelease",routeTemplate:"{project}/_apis/testresults/{resource}",responseType:i.TypeInfo.TestResultsDetails,routeValues:{project:n},queryParams:c,apiVersion:this.resultdetailsbyreleaseApiVersion})},t.prototype.getTestResultDetailsForBuild=function(n,t,r,u,f,e,o,s){var h={buildId:t,publishContext:r,groupBy:u,$filter:f,$orderby:e,shouldIncludeResults:o,queryRunSummaryForInProgress:s};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"a518c749-4524-45b2-a7ef-1ac009b312cd",resource:"resultdetailsbybuild",routeTemplate:"{project}/_apis/testresults/{resource}",responseType:i.TypeInfo.TestResultsDetails,routeValues:{project:n},queryParams:h,apiVersion:this.resultdetailsbybuildApiVersion})},t.prototype.getTestRunMessageLogs=function(n,t){return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"e9ab0c6a-1984-418b-87c0-ee4202318ba3",resource:"MessageLogs",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}",responseType:i.TypeInfo.TestMessageLogDetails,responseIsCollection:!0,routeValues:{project:n,runId:t},apiVersion:this.messageLogsApiVersion})},t.prototype.queryTestResultHistory=function(n,t){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"bdf7a97b-0395-4da8-9d5d-f957619327d1",resource:"History",routeTemplate:"{project}/_apis/testresults/results/{resource}",requestType:i.TypeInfo.ResultsFilter,responseType:i.TypeInfo.TestResultHistory,routeValues:{project:t},apiVersion:this.historyApiVersion,data:n})},t.prototype.getFileLevelCodeCoverage=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"text/plain",area:"testresults",locationId:"4a6d0c46-51ca-45aa-9163-249cee3289b7",resource:"filecoverage",routeTemplate:"{project}/_apis/testresults/codecoverage/{resource}",routeValues:{project:t},apiVersion:this.filecoverageApiVersion,data:n})},t.prototype.getTestRunCodeCoverage=function(n,t,i){var r={flags:i};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"5641efbc-6f9b-401a-baeb-d3da22489e5e",resource:"codecoverage",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:r,apiVersion:this.codecoverageApiVersion})},t.prototype.updateCodeCoverageSummary=function(n,t,i){var r={buildId:t};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"testresults",locationId:"9b3e1ece-c6ab-4fbb-8167-8a32a0c92216",resource:"codecoverage",routeTemplate:"{project}/_apis/testresults/{resource}",routeValues:{project:n},queryParams:r,apiVersion:this.codecoverageApiVersion_9b3e1ece,data:i})},t.prototype.getCodeCoverageSummary=function(n,t,r){var u={buildId:t,deltaBuildId:r};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"9b3e1ece-c6ab-4fbb-8167-8a32a0c92216",resource:"codecoverage",routeTemplate:"{project}/_apis/testresults/{resource}",responseType:i.TypeInfo.CodeCoverageSummary,routeValues:{project:n},queryParams:u,apiVersion:this.codecoverageApiVersion_9b3e1ece})},t.prototype.getBuildCodeCoverage=function(n,t,r){var u={buildId:t,flags:r};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"9b3e1ece-c6ab-4fbb-8167-8a32a0c92216",resource:"codecoverage",routeTemplate:"{project}/_apis/testresults/{resource}",responseType:i.TypeInfo.BuildCoverage,responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:this.codecoverageApiVersion_9b3e1ece})},t.prototype.getBugsLinkedToTestResult=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"d8dbf98f-eb34-4f8d-8365-47972af34f29",resource:"bugs",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i},apiVersion:this.bugsApiVersion})},t.prototype.getTestRunAttachmentZip=function(n,t,i){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"testresults",locationId:"b5731898-8206-477a-a51d-3fdf116fc6bf",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,attachmentId:i},apiVersion:this.attachmentsApiVersion})},t.prototype.getTestRunAttachments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"b5731898-8206-477a-a51d-3fdf116fc6bf",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}/{attachmentId}",responseType:i.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t},apiVersion:this.attachmentsApiVersion})},t.prototype.getTestRunAttachmentContent=function(n,t,i){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"testresults",locationId:"b5731898-8206-477a-a51d-3fdf116fc6bf",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,attachmentId:i},apiVersion:this.attachmentsApiVersion})},t.prototype.deleteTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"testresults",locationId:"b5731898-8206-477a-a51d-3fdf116fc6bf",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,attachmentId:i},apiVersion:this.attachmentsApiVersion})},t.prototype.createTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"b5731898-8206-477a-a51d-3fdf116fc6bf",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i},apiVersion:this.attachmentsApiVersion,data:n})},t.prototype.getTestSubResultAttachmentZip=function(n,t,i,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"testresults",locationId:"2a632e97-e014-4275-978f-8e5c4906d4b3",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2a632e97})},t.prototype.getTestSubResultAttachments=function(n,t,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"2a632e97-e014-4275-978f-8e5c4906d4b3",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",responseType:i.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2a632e97})},t.prototype.getTestSubResultAttachmentContent=function(n,t,i,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"testresults",locationId:"2a632e97-e014-4275-978f-8e5c4906d4b3",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2a632e97})},t.prototype.getTestResultAttachmentZip=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"testresults",locationId:"2a632e97-e014-4275-978f-8e5c4906d4b3",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},apiVersion:this.attachmentsApiVersion_2a632e97})},t.prototype.getTestResultAttachments=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"2a632e97-e014-4275-978f-8e5c4906d4b3",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",responseType:i.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r},apiVersion:this.attachmentsApiVersion_2a632e97})},t.prototype.getTestResultAttachmentContent=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"testresults",locationId:"2a632e97-e014-4275-978f-8e5c4906d4b3",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},apiVersion:this.attachmentsApiVersion_2a632e97})},t.prototype.getTestIterationAttachmentZip=function(n,t,i,r,u){var f={iterationId:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"testresults",locationId:"2a632e97-e014-4275-978f-8e5c4906d4b3",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2a632e97})},t.prototype.getTestIterationAttachmentContent=function(n,t,i,r,u){var f={iterationId:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"testresults",locationId:"2a632e97-e014-4275-978f-8e5c4906d4b3",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2a632e97})},t.prototype.deleteTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"testresults",locationId:"2a632e97-e014-4275-978f-8e5c4906d4b3",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},apiVersion:this.attachmentsApiVersion_2a632e97})},t.prototype.createTestSubResultAttachment=function(n,t,i,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"2a632e97-e014-4275-978f-8e5c4906d4b3",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2a632e97,data:n})},t.prototype.createTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"2a632e97-e014-4275-978f-8e5c4906d4b3",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},apiVersion:this.attachmentsApiVersion_2a632e97,data:n})},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f){var e={iterationId:u,actionPath:f};return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"2a632e97-e014-4275-978f-8e5c4906d4b3",resource:"attachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:e,apiVersion:this.attachmentsApiVersion_2a632e97,data:n})},t.serviceInstanceId="00000054-0000-8888-8000-000000000000",t}(u.VssHttpClient);t.CommonMethods5To7_1=e;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTestTagSummaryForRelease=function(n,t,i){var r={releaseId:t,releaseEnvId:i};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"655a8f6b-fec7-4b46-b672-68b44141b498",resource:"tagsummary",routeTemplate:"{project}/_apis/testresults/{resource}",routeValues:{project:n},queryParams:r,apiVersion:this.tagsummaryApiVersion})},t.prototype.getTestTagSummaryForBuild=function(n,t){var i={buildId:t};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"655a8f6b-fec7-4b46-b672-68b44141b498",resource:"tagsummary",routeTemplate:"{project}/_apis/testresults/{resource}",routeValues:{project:n},queryParams:i,apiVersion:this.tagsummaryApiVersion})},t.prototype.updateTestRunTags=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"testresults",locationId:"a5e2f411-2b43-45f3-989c-05b71339f5b8",resource:"tags",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}",responseIsCollection:!0,routeValues:{project:t,runId:i},apiVersion:this.tagsApiVersion,data:n})},t.prototype.getTestTagsForRelease=function(n,t,i){var r={releaseId:t,releaseEnvId:i};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"52ee2057-4b54-41a6-a18c-ed4375a00f8d",resource:"tags",routeTemplate:"{project}/_apis/testresults/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.tagsApiVersion_52ee2057})},t.prototype.getTestTagsForBuild=function(n,t){var i={buildId:t};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"52ee2057-4b54-41a6-a18c-ed4375a00f8d",resource:"tags",routeTemplate:"{project}/_apis/testresults/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:i,apiVersion:this.tagsApiVersion_52ee2057})},t.prototype.getCoverageStatusBadge=function(n,t,i,r){var u={branchName:i,label:r};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"73b7c9d8-defb-4b60-b3d6-2162d60d6b13",resource:"status",routeTemplate:"{project}/_apis/testresults/codecoverage/{resource}/{*definition}",routeValues:{project:n,definition:t},queryParams:u,apiVersion:this.statusApiVersion})},t.prototype.updatePipelinesTestSettings=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"testresults",locationId:"7319952e-e5a9-4e19-a006-84f3be8b7c68",resource:"settings",routeTemplate:"{project}/_apis/testresults/{resource}",requestType:i.TypeInfo.TestResultsUpdateSettings,responseType:i.TypeInfo.TestResultsSettings,routeValues:{project:t},apiVersion:this.settingsApiVersion,data:n})},t.prototype.getTestResultsSettings=function(n,t){var r={settingsType:t};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"7319952e-e5a9-4e19-a006-84f3be8b7c68",resource:"settings",routeTemplate:"{project}/_apis/testresults/{resource}",responseType:i.TypeInfo.TestResultsSettings,routeValues:{project:n},queryParams:r,apiVersion:this.settingsApiVersion})},t.prototype.queryTestResultsReportForPipeline=function(n,t,r,u,f,e){var o={pipelineId:t,stageName:r,phaseName:u,jobName:f,includeFailureDetails:e};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"71f746a1-7d68-40fe-b705-9d821a73dff2",resource:"resultsummarybypipeline",routeTemplate:"{project}/_apis/testresults/{resource}",responseType:i.TypeInfo.TestResultSummary,routeValues:{project:n},queryParams:o,apiVersion:this.resultsummarybypipelineApiVersion})},t.prototype.testResultsGroupDetails=function(n,t,r,u,f,e,o){var s={pipelineId:t,stageName:r,phaseName:u,jobName:f,shouldIncludeFailedAndAbortedResults:e,queryGroupSummaryForInProgress:o};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"f903b850-06af-4b50-a344-d7bbfb19e93b",resource:"resultsgroupDetails",routeTemplate:"{project}/_apis/testresults/{resource}",responseType:i.TypeInfo.TestResultsDetails,routeValues:{project:n},queryParams:s,apiVersion:this.resultsgroupDetailsApiVersion})},t.prototype.getTestResultsByPipeline=function(n,t,i,r,u,f,e,o){var s={pipelineId:t,stageName:i,phaseName:r,jobName:u,outcomes:f&&f.join(","),$top:e};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"80169dc2-30c3-4c25-84b2-dd67d7ff1f52",resource:"resultsbypipeline",routeTemplate:"{project}/_apis/testresults/{resource}",responseIsCollection:!0,routeValues:{project:n},customHeaders:{"x-ms-continuationtoken":o},queryParams:s,apiVersion:this.resultsbypipelineApiVersion})},t.prototype.updateTestResultsMetaData=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"testresults",locationId:"b72ff4c0-4341-4213-ba27-f517cf341c95",resource:"ResultMetaData",routeTemplate:"{project}/_apis/testresults/results/{resource}/{testCaseReferenceId}",routeValues:{project:t,testCaseReferenceId:i},apiVersion:this.resultMetaDataApiVersion,data:n})},t.prototype.queryTestResultsMetaData=function(n,t,i){var r={detailsToInclude:i};return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"b72ff4c0-4341-4213-ba27-f517cf341c95",resource:"ResultMetaData",routeTemplate:"{project}/_apis/testresults/results/{resource}/{testCaseReferenceId}",responseIsCollection:!0,routeValues:{project:t},queryParams:r,apiVersion:this.resultMetaDataApiVersion,data:n})},t.prototype.getTestPipelineMetrics=function(n,t,r,u,f,e,o){var s={pipelineId:t,stageName:r,phaseName:u,jobName:f,metricNames:e&&e.join(","),groupByNode:o};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"65f35817-86a1-4131-b38b-3ec2d4744e53",resource:"metrics",routeTemplate:"{project}/_apis/testresults/{resource}",responseType:i.TypeInfo.PipelineTestMetrics,routeValues:{project:n},queryParams:s,apiVersion:this.metricsApiVersion})},t}(e);t.CommonMethods5_1To7_1=o;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getSimilarTestResults=function(n,t,r,u,f,e){var o={testSubResultId:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"67d0a074-b255-4902-a639-e3e6de7a3de6",resource:"SimilarTestResults",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testResultId}/{resource}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t,testResultId:r},customHeaders:{"x-ms-continuationtoken":e},queryParams:o,apiVersion:this.similarTestResultsApiVersion})},t}(o);t.CommonMethods5_2To7_1=s;f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTestResultWorkItemsById=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"3d032fd6-e7a0-468b-b105-75d206f99aad",resource:"workitems",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i},apiVersion:this.workitemsApiVersion_3d032fd6})},t.prototype.getTestRunSummaryByOutcome=function(n,t){return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"5c6a250c-53b7-4851-990c-42a7a00c8b39",resource:"runsummary",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:this.runsummaryApiVersion})},t.prototype.getTestResults=function(n,t,r,u,f,e,o){var s={detailsToInclude:r,$skip:u,$top:f,outcomes:e&&e.join(","),$newTestsOnly:o};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"02afa165-e79a-4d70-8f0c-2af0f35b4e07",resource:"results",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}/{testResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:s,apiVersion:this.resultsApiVersion})},t}(s);t.CommonMethods6To7_1=f;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2a632e97=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_9b3e1ece=r.filecoverageApiVersion=r.historyApiVersion=r.messageLogsApiVersion=r.metricsApiVersion=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultDocumentApiVersion=r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion=r.resultsbybuildApiVersion=r.resultsbypipelineApiVersion=r.resultsbyreleaseApiVersion=r.resultsgroupDetailsApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybypipelineApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion=r.runsummaryApiVersion=r.similarTestResultsApiVersion=r.statusApiVersion=r.tagsApiVersion=r.tagsApiVersion_52ee2057=r.tagsummaryApiVersion=r.testlogApiVersion=r.testlogApiVersion_714caaac=r.testlogApiVersion_dff8ce3a=r.testlogstoreendpointApiVersion=r.testlogstoreendpointApiVersion_da630b37=r.testlogstoreendpointApiVersion_39b09be7=r.testsettingsApiVersion="7.1-preview.1",r.resultsApiVersion=r.resultsApiVersion_5ea78be3=r.resultsApiVersion_14033a2c=r.statisticsApiVersion=r.testHistoryApiVersion=r.workitemsApiVersion=r.workitemsApiVersion_cbd50bd7=r.workitemsApiVersion_4e3abe63=r.workitemsApiVersion_3d032fd6="7.1-preview.2",r.settingsApiVersion="7.1-preview.3",r.resultMetaDataApiVersion="7.1-preview.4",r}return __extends(t,n),t.prototype.createBuildAttachmentInLogStore=function(n,t,i){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"testresults",locationId:"6f747e16-18c2-435a-b4fb-fa05d6845fee",resource:"testattachments",routeTemplate:"{project}/_apis/testresults/uploadbuildattachments/{buildId}",routeValues:{project:t,buildId:i},apiVersion:"7.1-preview.1",data:n})},t.prototype.createTestRunLogStoreAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"1026d5de-4b0b-46ae-a31f-7c59b6af51ef",resource:"testattachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}",routeValues:{project:t,runId:i},apiVersion:"7.1-preview.1",data:n})},t.prototype.deleteTestRunLogStoreAttachment=function(n,t,i){var r={filename:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"testresults",locationId:"1026d5de-4b0b-46ae-a31f-7c59b6af51ef",resource:"testattachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}",routeValues:{project:n,runId:t},queryParams:r,apiVersion:"7.1-preview.1"})},t.prototype.getTestRunLogStoreAttachmentContent=function(n,t,i){var r={filename:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"testresults",locationId:"1026d5de-4b0b-46ae-a31f-7c59b6af51ef",resource:"testattachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}",routeValues:{project:n,runId:t},queryParams:r,apiVersion:"7.1-preview.1"})},t.prototype.getTestRunLogStoreAttachments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"1026d5de-4b0b-46ae-a31f-7c59b6af51ef",resource:"testattachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}",responseType:i.TypeInfo.TestLogStoreAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t},apiVersion:"7.1-preview.1"})},t.prototype.getTestRunLogStoreAttachmentZip=function(n,t,i){var r={filename:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"testresults",locationId:"1026d5de-4b0b-46ae-a31f-7c59b6af51ef",resource:"testattachments",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}",routeValues:{project:n,runId:t},queryParams:r,apiVersion:"7.1-preview.1"})},t.prototype.createFailureType=function(n,t){return this._beginRequest({httpMethod:"POST",area:"testresults",locationId:"c4ac0486-830c-4a2a-9ef9-e8a1791a70fd",resource:"testfailuretype",routeTemplate:"{project}/_apis/testresults/{resource}/{failureTypeId}",routeValues:{project:t},apiVersion:"7.1-preview.1",data:n})},t.prototype.deleteFailureType=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"testresults",locationId:"c4ac0486-830c-4a2a-9ef9-e8a1791a70fd",resource:"testfailuretype",routeTemplate:"{project}/_apis/testresults/{resource}/{failureTypeId}",routeValues:{project:n,failureTypeId:t},apiVersion:"7.1-preview.1"})},t.prototype.getFailureTypes=function(n){return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"c4ac0486-830c-4a2a-9ef9-e8a1791a70fd",resource:"testfailuretype",routeTemplate:"{project}/_apis/testresults/{resource}/{failureTypeId}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"7.1-preview.1"})},t}(f);t.TestResultsHttpClient7_1=h;c=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.statisticsApiVersion="7.0",r.attachmentsApiVersion=r.attachmentsApiVersion_2a632e97=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_9b3e1ece=r.filecoverageApiVersion=r.historyApiVersion=r.messageLogsApiVersion=r.metricsApiVersion=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultDocumentApiVersion=r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion=r.resultsbybuildApiVersion=r.resultsbypipelineApiVersion=r.resultsbyreleaseApiVersion=r.resultsgroupDetailsApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybypipelineApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion=r.runsummaryApiVersion=r.similarTestResultsApiVersion=r.statusApiVersion=r.tagsApiVersion=r.tagsApiVersion_52ee2057=r.tagsummaryApiVersion=r.testlogApiVersion=r.testlogApiVersion_714caaac=r.testlogApiVersion_dff8ce3a=r.testlogstoreendpointApiVersion=r.testlogstoreendpointApiVersion_da630b37=r.testlogstoreendpointApiVersion_39b09be7=r.testsettingsApiVersion="7.0-preview.1",r.resultsApiVersion=r.resultsApiVersion_5ea78be3=r.resultsApiVersion_14033a2c=r.testHistoryApiVersion=r.workitemsApiVersion=r.workitemsApiVersion_cbd50bd7=r.workitemsApiVersion_4e3abe63=r.workitemsApiVersion_3d032fd6="7.0-preview.2",r.settingsApiVersion="7.0-preview.3",r.resultMetaDataApiVersion="7.0-preview.4",r}return __extends(t,n),t}(f);t.TestResultsHttpClient7=c;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.statisticsApiVersion="6.1",r.attachmentsApiVersion=r.attachmentsApiVersion_2a632e97=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_9b3e1ece=r.filecoverageApiVersion=r.historyApiVersion=r.messageLogsApiVersion=r.metricsApiVersion=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultDocumentApiVersion=r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion=r.resultsbybuildApiVersion=r.resultsbypipelineApiVersion=r.resultsbyreleaseApiVersion=r.resultsgroupDetailsApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybypipelineApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion=r.runsummaryApiVersion=r.similarTestResultsApiVersion=r.statusApiVersion=r.tagsApiVersion=r.tagsApiVersion_52ee2057=r.tagsummaryApiVersion=r.testlogApiVersion=r.testlogApiVersion_714caaac=r.testlogApiVersion_dff8ce3a=r.testlogstoreendpointApiVersion=r.testlogstoreendpointApiVersion_da630b37=r.testlogstoreendpointApiVersion_39b09be7=r.testsettingsApiVersion="6.1-preview.1",r.resultsApiVersion=r.resultsApiVersion_5ea78be3=r.resultsApiVersion_14033a2c=r.testHistoryApiVersion=r.workitemsApiVersion=r.workitemsApiVersion_cbd50bd7=r.workitemsApiVersion_4e3abe63=r.workitemsApiVersion_3d032fd6="6.1-preview.2",r.settingsApiVersion="6.1-preview.3",r.resultMetaDataApiVersion="6.1-preview.4",r}return __extends(t,n),t}(f);t.TestResultsHttpClient6_1=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.statisticsApiVersion="6.0",r.attachmentsApiVersion=r.attachmentsApiVersion_2a632e97=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_9b3e1ece=r.filecoverageApiVersion=r.historyApiVersion=r.messageLogsApiVersion=r.metricsApiVersion=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultDocumentApiVersion=r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion=r.resultsbybuildApiVersion=r.resultsbypipelineApiVersion=r.resultsbyreleaseApiVersion=r.resultsgroupDetailsApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybypipelineApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion=r.runsummaryApiVersion=r.similarTestResultsApiVersion=r.statusApiVersion=r.tagsApiVersion=r.tagsApiVersion_52ee2057=r.tagsummaryApiVersion=r.testlogApiVersion=r.testlogApiVersion_714caaac=r.testlogApiVersion_dff8ce3a=r.testlogstoreendpointApiVersion=r.testlogstoreendpointApiVersion_da630b37=r.testlogstoreendpointApiVersion_39b09be7=r.testsettingsApiVersion="6.0-preview.1",r.resultsApiVersion=r.resultsApiVersion_5ea78be3=r.resultsApiVersion_14033a2c=r.testHistoryApiVersion=r.workitemsApiVersion=r.workitemsApiVersion_cbd50bd7=r.workitemsApiVersion_4e3abe63=r.workitemsApiVersion_3d032fd6="6.0-preview.2",r.settingsApiVersion="6.0-preview.3",r.resultMetaDataApiVersion="6.0-preview.4",r}return __extends(t,n),t}(f);t.TestResultsHttpClient6=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.statisticsApiVersion="5.2",r.attachmentsApiVersion=r.attachmentsApiVersion_2a632e97=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_9b3e1ece=r.filecoverageApiVersion=r.historyApiVersion=r.messageLogsApiVersion=r.metricsApiVersion=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultDocumentApiVersion=r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion=r.resultsApiVersion=r.resultsApiVersion_5ea78be3=r.resultsApiVersion_14033a2c=r.resultsbybuildApiVersion=r.resultsbypipelineApiVersion=r.resultsbyreleaseApiVersion=r.resultsgroupDetailsApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybypipelineApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion=r.similarTestResultsApiVersion=r.statusApiVersion=r.tagsApiVersion=r.tagsApiVersion_52ee2057=r.tagsummaryApiVersion=r.testlogApiVersion=r.testlogApiVersion_714caaac=r.testlogApiVersion_dff8ce3a=r.testlogstoreendpointApiVersion=r.testlogstoreendpointApiVersion_da630b37=r.testlogstoreendpointApiVersion_39b09be7=r.testsettingsApiVersion=r.workitemsApiVersion=r.workitemsApiVersion_cbd50bd7=r.workitemsApiVersion_4e3abe63="5.2-preview.1",r.testHistoryApiVersion="5.2-preview.2",r.resultMetaDataApiVersion=r.settingsApiVersion="5.2-preview.3",r}return __extends(t,n),t.prototype.getTestResults=function(n,t,r,u,f,e){var o={detailsToInclude:r,$skip:u,$top:f,outcomes:e&&e.join(",")};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"02afa165-e79a-4d70-8f0c-2af0f35b4e07",resource:"results",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}/{testResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:o,apiVersion:"5.2-preview.1"})},t}(s);t.TestResultsHttpClient5_2=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.statisticsApiVersion="5.1",r.attachmentsApiVersion=r.attachmentsApiVersion_2a632e97=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_9b3e1ece=r.filecoverageApiVersion=r.historyApiVersion=r.messageLogsApiVersion=r.metricsApiVersion=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultDocumentApiVersion=r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion=r.resultsApiVersion=r.resultsApiVersion_5ea78be3=r.resultsApiVersion_14033a2c=r.resultsbybuildApiVersion=r.resultsbypipelineApiVersion=r.resultsbyreleaseApiVersion=r.resultsgroupDetailsApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybypipelineApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion=r.statusApiVersion=r.tagsApiVersion=r.tagsApiVersion_52ee2057=r.tagsummaryApiVersion=r.testlogApiVersion=r.testlogApiVersion_714caaac=r.testlogApiVersion_dff8ce3a=r.testlogstoreendpointApiVersion=r.testlogstoreendpointApiVersion_da630b37=r.testlogstoreendpointApiVersion_39b09be7=r.testsettingsApiVersion=r.workitemsApiVersion=r.workitemsApiVersion_cbd50bd7=r.workitemsApiVersion_4e3abe63="5.1-preview.1",r.testHistoryApiVersion="5.1-preview.2",r.resultMetaDataApiVersion=r.settingsApiVersion="5.1-preview.3",r}return __extends(t,n),t.prototype.getTestResults=function(n,t,r,u,f,e){var o={detailsToInclude:r,$skip:u,$top:f,outcomes:e&&e.join(",")};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"02afa165-e79a-4d70-8f0c-2af0f35b4e07",resource:"results",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}/{testResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:o,apiVersion:"5.1-preview.1"})},t}(o);t.TestResultsHttpClient5_1=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.statisticsApiVersion="5.0",r.attachmentsApiVersion=r.attachmentsApiVersion_2a632e97=r.bugsApiVersion=r.codecoverageApiVersion=r.codecoverageApiVersion_9b3e1ece=r.filecoverageApiVersion=r.historyApiVersion=r.messageLogsApiVersion=r.resultdetailsbybuildApiVersion=r.resultdetailsbyreleaseApiVersion=r.resultDocumentApiVersion=r.resultgroupsbybuildApiVersion=r.resultgroupsbyreleaseApiVersion=r.resultsApiVersion=r.resultsApiVersion_5ea78be3=r.resultsApiVersion_14033a2c=r.resultsbybuildApiVersion=r.resultsbyreleaseApiVersion=r.resultsummarybybuildApiVersion=r.resultsummarybyreleaseApiVersion=r.resultsummarybyrequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.runsApiVersion=r.testHistoryApiVersion=r.testlogApiVersion=r.testlogApiVersion_714caaac=r.testlogApiVersion_dff8ce3a=r.testlogstoreendpointApiVersion=r.testlogstoreendpointApiVersion_da630b37=r.testlogstoreendpointApiVersion_39b09be7=r.testsettingsApiVersion=r.workitemsApiVersion=r.workitemsApiVersion_cbd50bd7=r.workitemsApiVersion_4e3abe63="5.0-preview.1",r}return __extends(t,n),t.prototype.getTestResultsMetaData=function(n,t){var i={testReferenceIds:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"b72ff4c0-4341-4213-ba27-f517cf341c95",resource:"ResultMetaData",routeTemplate:"{project}/_apis/testresults/results/{resource}/{testCaseReferenceId}",responseIsCollection:!0,routeValues:{project:n},queryParams:i,apiVersion:"5.0-preview.1"})},t.prototype.getTestResults=function(n,t,r,u,f,e){var o={detailsToInclude:r,$skip:u,$top:f,outcomes:e&&e.join(",")};return this._beginRequest({httpMethod:"GET",area:"testresults",locationId:"02afa165-e79a-4d70-8f0c-2af0f35b4e07",resource:"results",routeTemplate:"{project}/_apis/testresults/runs/{runId}/{resource}/{testResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:o,apiVersion:"5.0-preview.1"})},t}(e);t.TestResultsHttpClient5=p;b=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(h);t.TestResultsHttpClient=b;w={"7.1":h,"7.0":c,"6.1":l,"6.0":a,"5.2":v,"5.1":y,"5.0":p};t.getClient=k});

define("TestManagement/Scripts/TFS.TestManagement.Telemetry",["require","exports","VSS/Diag","VSS/Utils/String","VSS/Telemetry/Services"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.TelemetryHelper=t.TelemetryService=void 0;f=function(){function n(){}return n.publishEvent=function(t,f,e){i.logVerbose("[TelemetryService.logProperty]: method called.");i.logVerbose(r.format("[TelemetryService.logProperty]: feature: {0}",t));try{u.publishEvent(u.TelemetryEventData.fromProperty(n.areaTestManagement,t,f,e))}catch(o){i.logError(r.format("[TelemetryService.logProperties]: Error in logging Customer Intelligence data. Error: {0}",o.message))}},n.publishEvents=function(t,f){i.logVerbose("[TelemetryService.logProperties]: method called.");i.logVerbose(r.format("[TelemetryService.logProperties]: feature: {0}",t));try{u.publishEvent(new u.TelemetryEventData(n.areaTestManagement,t,f))}catch(e){i.logError(r.format("[TelemetryService.logProperties]: Error in logging Customer Intelligence data. Error: {0}",e.message))}},n.areaTestManagement="TestManagement",n.testHubPage="TestHub",n.eventPageLoad="PageLoad",n.eventBugCreated="BugCreated",n.eventBugAddedToExisting="BugAddedToExisting",n.eventWorkItemTypeAddedToExisting="WorkItemTypeAddedToExisting",n.eventClicked="Clicked",n.eventTestTabClicked="TestTabClicked",n.eventBuildLinkClicked="BuildLinkClicked",n.eventBugLinkClicked="LinkedBugViewed",n.eventAllEnvironments="AllEnvironments",n.eventExtensionLoaded="ExtensionLoaded",n.createTestPlan="CreateTestPlan",n.deleteTestPlan="DeleteTestPlan",n.createTestCaseUsingWit="CreateTestCaseUsingWit",n.createTestCaseUsinfeatureExploreUsingClientgGrid="CreateTestCaseUsingGrid",n.renameSuite="RenameSuite",n.deleteSuite="DeleteSuite",n.addQueryBasedSuite="AddQueryBasedSuite",n.addRequirementBasedSuite="AddRequirementBasedSuite",n.addStaticSuite="AddStaticSuite",n.suiteActions="Actions",n.addSharedSteps="AddSharedSteps",n.addExistingTestCase="AddExistingTestCase",n.assignTester="AssignTester",n.assignConfiguration="AssignConfiguration",n.exportLatestOutcomeChecked="ExportLatestOutcomeChecked",n.exportSuiteViaMail="ExportSuiteViaMail",n.exportSuiteViaPrint="ExportSuiteViaPrint",n.exportHtmlExceedSuitesLimit="ExportHtmlExceedSuitesLimit",n.filter="filter",n.countOfTestsLinkedToBug="CountOfTestsLinked",n.totalTests="TotalTests",n.failedTests="FailedTests",n.passedTests="PassedTests",n.testResultSummaryDisplayed="TestResultSummaryDisplayed",n.testResultSummaryChartForOlderBuilds="testResultSummaryChartForOlderBuilds",n.buildDefinitionId="BuildDefinitionID",n.testRunCount="TestRunCount",n.totalTestsExists="TotalTestsExists",n.passPercentageReported="PassPercentageReported",n.failedTestsExists="FailedTestsExists",n.dropDownSelected="DropDownSelected",n.valueCount="CountOfValues",n.sourceWorkFlow="SourceWorkflow",n.errorOccurredDuringSignalRConnection="ErrorOccurredDuringSignalRConnection",n.testHubSignalRConnectionDisconnected="testHub.Disconnected",n.testHubSignalRConnectionError="testHub.Error",n.testHubSignalRConnectionReconnecting="testHub.Reconnecting",n.testHubSignalRConnectionReconnected="testHub.Reconnected",n.signalRReconnectDelay="reconnectDelay",n.signalRErrorMessage="errorMessage",n.signalRReConnectCount="reconnectCount",n.collapse="collapse",n.expand="expand",n.refresh="refresh",n.numberOfPointsSelected="NumberOfPoints",n.numberOfTestCases="NumberOfTestCases",n.eventDoubleClicked="DoubleClicked",n.eventKeyPressed="KeyPressed",n.nextButtonClickedInPreviewAttachmentsDialog="NextButtonClickedInPreviewAttachmentsDialog",n.previousButtonClickedInPreviewAttachmentsDialog="PreviousButtonClickedInPreviewAttachmentsDialog",n.downloadButtonClickedInPreviewAttachmentsDialog="DownloadButtonClickedInPreviewAttachmentsDialog",n.dropdownAttachmentSelectedInPreviewAttachmentsDialog="DropdownAttachmentSelectedInPreviewAttachmentsDialog",n.breadcrumbRootClick="BreadcrumbRootClick",n.favoritedThroughBreadcrumb="FavoritedThroughBreadcrumb",n.unfavoritedThroughBreadcrumb="UnfavoritedThroughBreadcrumb",n.navigateToMyPlansPage="NavigateToMyPlansPage",n.navigateToAllPlansPage="NavigateToAllPlansPage",n.testPlanDirectoryFilterClick="TestPlanDirectoryFilterClick",n.featureNewTestPlanHub="NewTestPlanHub",n.featureNewTestPlan_Payload="NewTestPlan_Payload",n.featureNewTestPlan_FilterClick="NewTestPlan_FilterClick",n.featureTestHubRefresh="TestHubRefresh",n.switchedToNewView="SwitchedToNewView",n.NavigateToProgressReportFromTesthubLite="NavigateToProgressReportFromTesthubLite",n.NavigateToProgressReportFromTesthubLiteError="NavigateToProgressReportFromTesthubLiteError",n.featureOpenRequestFeedbackForm="OpenRequestFeedbackForm",n.featureViewRequestFeedbackPreview="ViewRequestFeedbackPreview",n.featureSentRequestFeedback="SentRequestFeedback",n.featureRequestFeedbackInstructionsTrimmed="RequestFeedbackInstructionsTrimmed",n.featureRequestFeedbackMailNotConfigured="RequestFeedbackMailNotConfigured",n.featureOpenVerifyBugTestRunner="OpenVerifyBugTestRunner",n.featureVerifyBugTestRunnerOpened="VerifyBugTestRunnerOpened",n.featureVerifyBugDialogBox_ClickedYes="VerifyBugDialogBoxClickedYes",n.featureVerifyBugDialogBox_ClickedNo="VerifyBugDialogBoxClickedNo",n.featureOpenTestPlanWIT="OpenTestPlanWIT",n.featureOpenTestSuiteWIT="OpenTestSuiteWIT",n.featureTestRunsQueryList="TestRunsQueryList",n.featureTestRunsQueryEditor="TestRunsQueryEditor",n.featureTestResultsQueryList="TestResultsQueryList",n.featureTestResultsQueryEditor="ResultsQueryEditor",n.featureTestRunSummary="TestRunSummary",n.featureTestResultSummary="TestResultSummary",n.featureTestResultCreateBug="TestResultCreateBug",n.featureTestResultAddToExistingBug="TestResultAddToExistingBug",n.featureTestResultLinkToExistingWorkitem="TestResultLinkToExistingWorkitem",n.featureAddToExisingBug_BugSelected="BugSelectedForAddToExistingBug",n.featureAddToExisingWorkItem_WorkItemSelected="WorkItemSelectedForAddToExistingWorkItem",n.featureCaptureScreenshot="CaptureScreenshot",n.featureRecordScreen="RecordScreen",n.featureCaptureActions="CaptureActionLogs",n.featureCancelRecordScreen="CancelRecordScreen",n.featureStopRecordScreen="StopRecordScreen",n.featureStopActionRecording="StopActionCapture",n.featureRecordScreenCompleted="RecordScreenCompleted",n.featureBugCreatedDuringScreenRecording="BugCreatedDuringScreenRecording",n.featureIterationMoveDuringScreenRecording="IterationMoveDuringScreenRecording",n.featureClosingRunnerDuringScreenRecording="ClosingRunnerDuringScreenRecording",n.featureClosedRunnerDuringScreenRecording="ClosedRunnerDuringScreenRecording",n.featureBugCreatedDuringActionRecording="BugCreatedDuringActionRecording",n.featureActionLogDisabledFromExtension="ActionLogDisabledFromExtension",n.featureActionLogRefreshWindowDialog="ActionLogRefreshWindowDialog",n.featureActionLogAutoStoppedDuringMove="ActionLogAutoStoppedDuringMove",n.featureActionLogAutoStoppedDuringSaveAndClose="ActionLogAutoStoppedDuringSaveAndClose",n.featureClosingRunnerDuringActionRecording="ClosingRunnerDuringActionRecording",n.featureActiveWindowsForScreenshot="ActiveWindowCountForScreenshot",n.featureActiveWindowsForCaptureAction="ActiveWindowCountForCaptureAction",n.featureInstallXTExtension="InstallXTExtension",n.featureRelaunchWebRunner="RelaunchWebRunner",n.featureTestResultUpdateAnalysis="TestResultUpdateAnalysis",n.featureCodeCoverageTabInBuildSummary_CodeCoverageTabClicked="CodeCoverageTabInBuildSummary_CodeCoverageTabClicked",n.featureDownloadCodeCoverageResults="DownloadCodeCoverageResults",n.featureAddTestTaskLinkInBuildSummaryClicked="AddTestTaskLinkInBuildSummaryClicked",n.featureEnableTIALinkClicked="EnableTIALinkClicked",n.featureDismissTIALinkClicked="DismissTIALinkClicked",n.featureTestTabInBuildSummary_AddTestTaskLinkClicked="TestTabInBuildSummary_AddTestTaskLinkClicked",n.featureTestTabInBuildSummary_AddAssociatedWorkItemLinkClicked="TestTabInBuildSummary_AddAssociatedWorkItemLinkClicked",n.featureTestTabInBuildSummary_FullScreenClicked="TestTabInBuildSummary_FullScreenClicked",n.featureTestTabInBuildSummary_ExpandCollapseClicked="TestTabInBuildSummary_ExpandCollapseClicked",n.featureTestTabInBuildSummary_CreateBugClicked="TestTabInBuildSummary_CreateBugClicked",n.featureTestTabInBuildSummary_CreateBugClickedWithFlakyAttributes="TestTabInBuildSummary_CreateBugClickedWithFlakyAttributes",n.featureTestTabInBuildSummary_AddBugToExistingClicked="TestTabInBuildSummary_AddBugToExistingClicked",n.featureTestTabInBuildSummary_BuildLinkClicked="TestTabInBuildSummary_BuildLinkClicked",n.featureTestTabInReleaseSummary_ReleaseLinkClicked="TestTabInReleaseSummary_ReleaseLinkClicked",n.featureTestTabInBuildSummary_DetailsPaneToggleClicked="TestTabInBuildSummary_DetailsPaneToggleClicked",n.featureTestTabInBuildSummary_TestRowDoubleClicked="TestTabInBuildSummary_TestRowDoubleClicked",n.featureTestTabInBuildSummary_TestRowVisited="TestTabInBuildSummary_TestRowSingleVisited",n.featureTestTabInBuildSummary_TestRowEnterKeyPressed="TestTabInBuildSummary_TestRowEnterKeyPressed",n.featureTestTabInBuildSummary="TestTabInBuildSummary",n.featureTestTabInBuildSummary_TestTabDetailedReportClicked="TestTabInBuildSummary_TestTabDetailedReportClicked",n.featureTestTabInBuildSummary_TestResultTitleClick="TestTabInBuildSummary_TestResultTitleClick",n.featureTestTabInBuildSummary_TestRunTitleClick="TestTabInBuildSummary_TestRunTitleClick",n.featureTestTabInBuildSummary_TestSuiteTitleClick="TestTabInBuildSummary_TestSuiteTitleClick",n.featureTestResultsSectionInBuildSummaryTab_TestResultSummary="TestResultsSectionInBuildSummaryTab_TestResultSummary",n.featureTestResultsSectionInBuildSummaryTab_TestRunsFallback="TestResultsSectionInBuildSummaryTab_TestRunsFallback",n.featureTestTabInBuildSummary_OpenFailureTrend="TestTabInBuildSummary_OpenFailureTrend",n.featureTestTabInBuildSummary_OpenDurationTrend="TestTabInBuildSummary_OpenDurationTrend",n.featureTestTabInReleaseSummary_EnvironmentChanged="TestTabInReleaseSummary_EnvironmentChanged",n.featureTestTabInBuildSummary_TestTabClicked="TestTabInBuildSummary_TestTabClicked",n.featureTestTabInReleaseSummary_TestTabClicked="TestTabInReleaseSummary_TestTabClicked",n.featureTestTabInBuildSummary_TestTabPageLoad="TestTabInBuildSummary_TestTabPageLoad",n.featureTestTabInReleaseSummary_TestTabPageLoad="TestTabInReleaseSummary_TestTabPageLoad",n.featureTestTabInBuildSummary_GroupByClicked="TestTabInBuildSummary_GroupByClicked",n.featureTestTabInReleaseSummary_GroupByClicked="TestTabInReleaseSummary_GroupByClicked",n.featureTestTabInBuildSummary_OutcomeFilterClicked="TestTabInBuildSummary_OutcomeFilterClicked",n.featureTestTabInReleaseSummary_OutcomeFilterClicked="TestTabInReleaseSummary_OutcomeFilterClicked",n.featureTestTabInBuildSummary_ColumnSorted="TestTabInBuildSummary_ColumnSorted",n.featureTestTabinBuildSummary_ColumnsChanged="TestTabInBuildSummary_ColumnsChanged",n.featureTestTabinBuildSummary_PreviewTestAttachment="TestTabInBuildSummary_PreviewTestAttachment",n.featureTestTabinBuildSummary_TestResultHistory="TestTabinBuildSummary_TestResultHistory",n.featureTestTab_FilterButtonClicked="TestTab_FilterButtonClicked",n.featureRunsHubHistory_Load="RunsHubHistory_Load",n.featureRunsHubHistory_GroupByEnvironmentSelected="RunsHubHistory_GroupByEnvironmentSelected",n.featureRunsHubHistory_GroupByBranchSelected="RunsHubHistory_GroupByBranchSelected",n.featureTestTabInBuildSummary_RequirementToTestsLinked="TestTabInBuildSummary_RequirementToTestsLinked",n.featureTestTrendChart_NavigateToBuildSummary="TestTrendChart_NavigateToBuildSummary",n.featureTestTab_TrendChartViewed="TestTab_TrendChartViewed",n.featureTestTabInBuildSummary_RequirementTitleClick="TestTabInBuildSummary_RequirementTitleClick",n.featureTestTab_Filter="TestTab_Filter",n.featureTestTab_PopulateCacheForFilter="TestTab_PopulateCacheForFilter",n.featureTestResultViewBug="TestResultViewBug",n.featureExpandCollapseSingleTestIteration="ExpandCollapseSingleTestIteration",n.featureExpandCollapseAllTestIterations="ExpandCollapseAllTestIterations",n.featureDownloadTestIterationAttachment="DownloadTestIterationAttachment",n.featureDownloadTestStepAttachment="DownloadTestStepAttachment",n.featureDownloadTestResultOrRunAttachment="DownloadTestResultOrRunAttachment",n.featureTestPlan="TestPlan",n.featureDeleteTestPlan="DeleteTestPlan",n.featureTestSuite="TestSuite",n.featureTestCase="TestCase",n.featureAddExistingTestCases="AddExistingTestCases",n.featureSharedSteps="SharedSteps",n.featureBulkMarkOutcome="BulkMarkOutcome",n.featureBulkResetPointsToActive="BulkResetPointsToActive",n.featureAssignTester="AssignTester",n.featureAssignConfiguration="AssignConfiguration",n.featureRemoveTestsFromSuites="RemoveTestsFromSuites",n.featureColumnOptionsForTestView="ColumnOptionsForListView",n.featureTestSuiteFilter="TestSuiteViewFilter",n.featureExportToHtml="ExportToHtml",n.featureCreateTestCase="CreateTestCase",n.featureOpenInMTM="OpenInMTM",n.featureTestPlansFilter="TestPlansFilter",n.featureTestPlansResetFilter="ResetTestPlansFilter",n.featureAddRunAttachmentOnWeb="UploadRunAttachmentInWeb",n.featureAddResultAttachmentOnWeb="UploadResultAttachmentInWeb",n.featureFetchFailureTypesFromTcmOnWeb="FetchFailureTypeOnWeb",n.featureOpenTestCaseWIT="OpenTestCaseWIT",n.featureRunTest="RunTest",n.featureRunTestUsingClient="RunTestUsingClient",n.featureRunAutomatedTests="RunAutomatedTests",n.featureReleaseCreationFromAutomatedTestRunner="ReleaseCreationFromAutomatedTestRunner",n.featureAutomatedRunTriggered="AutomatedRunTriggered",n.featureAutomatedRunTriggeredFromRunWithOptions="AutomatedRunTriggeredFromRunWithOptions",n.featureExploreUsingXTClient="ExploreUsingClient",n.featureTesterFilter="TesterFilter",n.featureOutcomeFilter="OutcomeFilter",n.featureTagFilter="TagFilter",n.featureConfigurationFilter="ConfigurationFilter",n.featureOpenRequirementWIT="OpenRequirementWIT",n.featureDetailsPaneTestResults="DetailsPaneTestResults",n.featureDetailsPaneTestSuites="DetailsPaneTestSuites",n.featureDetailsPaneRefresh="DetailsPaneRefresh",n.featureDetailsPaneOpenInNewTab="DetailsPaneOpenInNewTab",n.featureDetailsPaneTestCases="DetailsPaneTestCases",n.featureLoadWebTestRunner="LoadWebTestRunner",n.featureEditTestStep="EditTestStep",n.featureMarkTestStepOutcome="AddMarkTestStepOutcome",n.featureViewDescriptionInWebRunner="ViewDescriptionInWebRunner",n.featureAddTestResultComment="AddTestResultComment",n.featureAddTestResultAttachment="AddTestResultAttachment",n.featureMarkTestResultOutcome="MarkTestResultOutcome",n.featureMoveToNextTestCase="MoveToNextTestCase",n.featureMoveToNextTestIteration="MoveToNextTestIteration",n.featureAddParameterSet="AddParameterSet",n.featureRenameParameterSet="RenameParameterSet",n.featureViewParameterSetGrid="ViewParameterSetGrid",n.featureSaveParameterSetGrid="SaveParameterSetGrid",n.featureViewParameterWITForm="ViewParameterSetWIT",n.featureViewReferenceTestPane="ViewReferenceTestPane",n.featureAddTestCaseFromReferenceTestPane="AddTestCaseFromReferenceTestPane",n.featureRefreshFromReferenceTestPane="RefreshFromReferenceTestPane",n.featureRunTestFromWitCard="RunTestFromWitCard",n.featureResumeRunTestFromWitCard="ResumeRunTestFromWitCard",n.featureOrderTestCasesDone="OrderTestCasesDone",n.featureOrderTestCasesCancel="OrderTestCasesCancel",n.featureTestCaseMove="TestCaseMove",n.featureSuiteReorder="SuiteReorder",n.featureDeleteTestWorkItem="DeleteTestWorkItem",n.featureDeleteMultipleTestWorkItems="DeleteMultipleTestWorkItems",n.featureConfigurationsHub="ConfigurationsHub",n.featureCreateTestConfiguration="CreateTestConfiguration",n.featureDeleteTestConfiguration="DeleteTestConfiguration",n.featureUpdateTestConfiguration="UpdateTestConfiguration",n.featureCreateTestVariable="CreateTestVariable",n.featureDeleteTestVariable="DeleteTestVariable",n.featureUpdateTestVariable="UpdateTestVariable",n.featureTestColumnExtension="TestStatusInReleaseEnvironemntSummary",n.featureXTSessionsGridView_Sort="XTSessionsGridView_Sort",n.featureControlTabInXTSessionsGridView_ExpandAll="ControlTabInXTSessionsGridView_ExpandAll",n.featureControlTabInXTSessionsGridView_CollapseAll="ControlTabInXTSessionsGridView_CollapseAll",n.featureControlTabInXTSessionsGridView_DetailsPane="ControlTabInXTSessionsGridView_DetailsPane",n.featureControlTabInXTSessionsGridView_GroupByClicked="ControlTabInXTSessionsGridView_GroupByClicked",n.featureControlTabInXTSessionsGridView_ShowClicked="ControlTabInXTSessionsGridView_ShowClicked",n.featureControlTabInExploratorySessions_TeamTabClicked="ControlTabInExploratorySessions_TeamTabClicked",n.featureControlTabInExploratorySessions_PeriodTabClicked="ControlTabInExploratorySessions_PeriodTabClicked",n.featureControlTabInExploratorySessions_ViewTabClicked="ControlTabInExploratorySessions_ViewTabClicked",n.featureControlTabInExploratorySessions_QueryTabClicked="ControlTabInExploratorySessions_QueryTabClicked",n.featureRecentExploratorySessionsClicked="RecentExploratorySessionsClicked",n.featureExploratorySessionsCount="ExploratorySessionsCount",n.featureTestTabSignalR="SignalR",n.featureTestTabInBuildSummary_DetailsPanelClosed="TestTabInBuildSummary_DetailsPaneClosed",n.featureRunWithOptionsSettings="RunWithOptionsSettings",n.featureTestPlanSettings="TestPlanSettings",n.featureTestCaseGrid_SaveTestCases="TestCaseGrid_SaveTestCases",n.featureEditTestCaseDialog_SaveTestCases="EditTestCaseDialog_SaveTestCases",n.featureDoExploratoryTesting="DoExploratoryTesting",n.featurePreviewAttachment_DialogOpened="PreviewAttachmentsDialogOpened",n.featurePreviewAttachment_DialogOpenFailed="PreviewAttachmentsDialogOpenFailed",n.featurePreviewAttachment_DownloadClicked="DownloadButtonClickedInPreviewAttachmentDialog",n.featurePreviewAttachment_Next="NextButtonClickedInPreviewAttachmentDialog",n.featurePreviewAttachment_Previous="PreviousButtonClickedInPreviewAttachmentDialog",n.featurePreviewAttachment_DropdownAttachmentSelected="DropdownAttachmentSelectedInPreviewAttachmentDialog",n.featurePreviewAttachment_AttachmentLoadTime="AttachmentLoadTimeInPreviewAttachmentDialog",n.featureAttachmentsGridView_DownloadAttachment="AttachmentsGridView_DownloadAttachment",n.featureAttachmentsGridView_PreviewAttachment="AttachmentsGridView_PreviewAttachment",n.featureAttachmentsGridView_MultipleAttachmentsDownloaded="AttachmentsGridView_MultipleAttachmentsDownloaded",n.featureBugsGridView_TestResultViewBug="BugsGridView_TestResultViewBug",n.featureBugsGridView_sortOnBugs="BugsGridView_SortOnBugs",n.featureBugsGridView_RemoveAssociation_Bugs="BugsGridView_RemoveAssociation_Bugs",n.featureLinkedItemsGridView_TestResultViewWorkItem="LinkedItemsGridView_TestResultViewWorkItem",n.featureLinkedItemsGridView_sortOnWorkItems="LinkedItemsGridView_SortOnWorkItems",n.featureLinkedItemsGridView_RemoveAssociation_WorkItems="LinkedItemsGridView_RemoveAssociation_WorkItems",n.featureRequirementsGridView_TestResultViewRequirements="RequirementsGridView_TestResultViewRequirements",n.featureRequirementsGridView_SortOnRequirements="RequirementsGridView_SortOnRequirements",n.featureRequirementsGridView_RemoveAssociation_Requirements="RequirementsGridView_RemoveAssociation_Requirements",n.featureResultDetails_AttachmentClicked="ResultDetails_AttachmentClicked",n.featureTestHistory_HistoryPaneViewed="TestHistory_HistoryPaneViewed",n.featureTestHistory_BranchFilterUsed="TestHistory_BranchFilterUsed",n.featureTestHistory_LeftOrRightArrowClicked="TestHistory_LeftOrRightArrowClicked",n.featureTestHistory_BranchFilterCleared="TestHistory_BranchFilterCleared",n.buildContext="Build",n.releaseContext="Release",n.featureTestAX_AggregateTrendChart="TestAX_AggregateTrendChart",n.featureTestAX_EnableAX="TestAX_EnableAX",n.featureTestAX_FailedTestsCard="TestAX_FailedTestsCard",n.featureTestAX_FailuresReport="TestAX_FailuresReport",n.featureTestAX_Filter="TestAX_Filter",n.featureTestAX_InstallAX="TestAX_InstallAX",n.featureTestAX_NoTestResults="TestAX_NoTestResults",n.featureTestAX_PassRateCard="TestAX_PassRateCard",n.featureTestAX_ReportClick="TestAX_ReportClick",n.featureTestAX_ResultsGrid="TestAX_ResultsGrid",n.featureTestAX_ResultsGridElement="TestAX_ResultsGridElement",n.featureTestAX_ResultsGridLoadMore="TestAX_ResultsGridLoadMore",n.featureTestAX_TestDetailsView="TestAX_TestDetailsView",n.featureTestAX_TestHistoryGrid="TestAX_TestHistoryGrid",n.featureTestAX_TestHistoryGridLoadMore="TestAX_TestHistoryGridLoadMore",n.featureTestAX_TestInsightsReport="TestAX_TestInsightsReport",n.featureTestAX_TestTrendChart="TestAX_TestTrendChart",n.featureTestAX_ViewTest="TestAX_ViewTest",n.GetTestPointsForSuite_Stats="GetTestPointsForSuite_Stats",n.GetTestSuitesForPlan_Stats="GetTestSuitesForPlan_Stats",n.featureRunWithTestRunnerATP_DownloadClicked="TestRunnerATP_DownloadClicked",n.featureRunWithTestRunnerATP_LaunchClicked="TestRunnerATP_LaunchClicked",n.featureTestTab_TestTabClicked={Build:n.featureTestTabInBuildSummary_TestTabClicked,Release:n.featureTestTabInReleaseSummary_TestTabClicked},n.featureTestTab_TestTabPageLoad={Build:n.featureTestTabInBuildSummary_TestTabPageLoad,Release:n.featureTestTabInReleaseSummary_TestTabPageLoad},n.featureTestTab_GroupByClicked={Build:n.featureTestTabInBuildSummary_GroupByClicked,Release:n.featureTestTabInReleaseSummary_GroupByClicked},n.featureTestTab_OutcomeFilterClicked={Build:n.featureTestTabInBuildSummary_OutcomeFilterClicked,Release:n.featureTestTabInReleaseSummary_OutcomeFilterClicked},n}();t.TelemetryService=f;e=function(){function n(){}return n.logTelemetryForPreviewAttachments=function(n,t,i,r){f.publishEvents(t,{AttachmentSource:n,FilenameExtension:i,SizeInKB:Math.ceil(r/1024)})},n}();t.TelemetryHelper=e});

define("TestManagement/Scripts/TFS.TestManagement",["require","exports","q","Presentation/Scripts/TFS/TFS.Legacy.Ajax","Presentation/Scripts/TFS/Generated/TFS.TestManagement.Constants","Presentation/Scripts/TFS/TFS.Core.Utils","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.Service","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","TestManagement/Scripts/Resources/TFS.Resources.TestManagement","TestManagement/Scripts/HttpClientWrappers/TcmHttpClientWrapper","TestManagement/Scripts/TFS.TestManagement.WebApi","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemManager","./TFS.TestManagement.DesktopTestRunHelper","./Utils/TFS.TestManagement.LicenseAndFeatureFlagUtils","TestManagement/Scripts/TFS.TestManagement.Utils.UnicodeGeneralCategoryData","TFS/Build/RestClient","TFS/TestManagement/RestClient","TFS/TestImpact/RestClient","TFS/TestManagement/Contracts","TFS/WorkItemTracking/RestClient","Presentation/Scripts/TFS/FeatureRef/TFS.AgileCommon","VSS/Artifacts/Constants","VSS/Artifacts/Services","VSS/Diag","VSS/Events/Handlers","VSS/Utils/Array","VSS/Utils/Culture","VSS/Utils/Core","VSS/Utils/Html","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","WorkItemTracking/Scripts/TFS.WorkItemTracking","TFS/TestManagement/VSS.TestResults.WebApi","TestManagement/Scripts/TFS.TestManagement.Telemetry"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt){var yu,pu,wu,bu,ku,du,iu,ii,gu,nf,tf,rf,uf,no,to,ff,ef,of,sf,hf,cf,ru,lf,af,ni,bt,ri,vf,ei,fr,ui,wi,uu,er,gt,or,sr,hr,yf,cr,fu,bi,lr,eu,dt,pf,wf,ki,ci,ti,oi,di,kt,li,ai,ar,gi,vr,vi,ou,yr,bf,si,pr,yi,wr,pi,hi,su,hu,cu,kf,df,gf,ne,te,ie,nr,tr,re,lu,au,io,br,kr,ue,fe,ee,oe,se,he,ce,le,ae,ro,dr,ve,ir,gr,ye,pe,we,be,ke,rr,de;Object.defineProperty(t,"__esModule",{value:!0});t.TestViewActions=t.ArrayUtils=t.TestCaseParameterDataInfo=t.SharedParameterRowsMappingType=t.TestCaseParameterDataRow=t.TestCaseLocalParameterValue=t.TestCaseSharedParameterValue=t.TestCaseParameterValue=t.SharedParameterDefinition=t.LocalParameterDefinition=t.TestCaseParameterDefinitionBase=t.TCParameterType=t.IterationDates=t.TeamSettingsData=t.TestSessionManager=t.TestConfigurationManager=t.TestResultManager=t.TestImpactManager=t.TestRunManager=t.CodeCoverageManager=t.BuildManager=t.SubResults=t.InlineEditCommands=t.SharedParamDataSetCommandArgs=t.SharedStepParameterCommandArgs=t.InlineEditCommandArgs=t.CommandArgs=t.CommandQueue=t.EditSharedStepCommand=t.MoveCommand=t.DeleteCommand=t.InsertCommand=t.DeleteSharedParameterCommand=t.RenameSharedParameterCommand=t.AddParameterCommand=t.DeleteParameterCommand=t.RenameParameterCommand=t.ParameterCommand=t.InlineEditCommand=t.Command=t.TestCaseResult=t.TestIterationCollection=t.TestIterationResult=t.AttachmentResultInfo=t.AttachmentInfo=t.BugInfo=t.SharedStepResult=t.TestActionResultCollection=t.TestStepResult=t.TestParameterCollection=t.TestResultParameter=t.TestActionResult=t.ActionPathHelper=t.TestResult=t.TestResultIdentity=t.ServerObjectConversionHelper=t.Collection=t.ClientObject=t.UriHelper=t.TestCase=t.SharedSteps=t.SharedStepWorkItem=t.SharedStepParametersData=t.ParametersData=t.SharedParameterData=t.BaseParametersData=t.SharedParameterDataSet=t.Parameters=t.TestBase=t.WorkItemWrapper=t.TestStep=t.TestStepAttachmentMetadata=t.ResourceLink=t.TestAction=t.TestStepTypes=t.TestActionTypes=t.WitLinkingHelper=t.WorkItemPageDataUtils=t.HtmlUtils=t.ParameterCommonUtils=t.ParameterConstants=t.TestPlanManager=t.PageConstants=t.TestPlanSelectionHelper=t.WorkItemTrackingManager=t.OrderTestCaseManager=t.TestPointManager=t.TestCaseAndSuiteId=t.WorkItemCategories=t.WIQLConstants=t.BugWITFields=t.Exceptions=t.IntRange=t.LatestTestOutcomeColumnIds=t.ResultsPaneColumnIds=t.SuitesPaneColumnIds=t.TestCaseResultIdentifierWithDuration=t.TestCaseResultIdentifier=t.FieldUtils=t.DAUtils=t.ISharedParameterDataSetModel=t.ITesterModel=t.TeamFieldModel=t.ITeamFieldModel=t.IdAndRevision=t.ReferencedTestCaseModel=void 0;var nu=ut.LinkingUtilities,vu=yt.ExternalLink,fi=ct.HtmlNormalizer,tu=vt.queueRequest,ur=wt.TelemetryService,ge=function(){function n(){}return n}();t.ReferencedTestCaseModel=ge;yu=function(){function n(n,t){this.id=n;this.revision=t}return n}();t.IdAndRevision=yu;pu=function(){function n(){}return n}();t.ITeamFieldModel=pu;wu=function(){function n(n,t,i){this.refName=n;this.value=t;this.isConfigured=i}return n}();t.TeamFieldModel=wu;bu=function(){function n(n,t,i,r){this.id=n;this.displayName=t;this.uniqueName=i;this.filterValue=r||t}return n}();t.ITesterModel=bu;ku=function(){function n(){}return n}();t.ISharedParameterDataSetModel=ku;du=function(){function n(){}return n.trackAction=function(n,t,i){window.__da&&(t="/TestMangement"+t,window.__da.trackAction(n,t,i))},n}();t.DAUtils=du;iu=function(){function n(){}return n.isFieldEditable=function(n){var t=[h.CoreFieldRefNames.AreaId,h.CoreFieldRefNames.ChangedBy,h.CoreFieldRefNames.History,h.CoreFieldRefNames.IterationId,h.CoreFieldRefNames.Reason,u.WorkItemFieldNames.Actions,u.WorkItemFieldNames.DataField,u.WorkItemFieldNames.Parameters,u.WorkItemFieldNames.TestId,u.WorkItemFieldNames.Storage,u.WorkItemFieldNames.TestType,u.WorkItemFieldNames.TestName,u.WorkItemFieldNames.ActivatedBy,u.WorkItemFieldNames.ClosedBy];return n.isEditable()&&!n.checkFlag(v.FieldFlags.Ignored)&&n.type!==h.FieldType.DateTime&&$.inArray(n.referenceName,t)===-1},n}();t.FieldUtils=iu;ii=function(){function n(n,t){this.testRunId=n;this.testResultId=t}return n.prototype.equals=function(n){return!this.testRunId||!this.testResultId||!n?!1:this.testRunId===n.testRunId&&this.testResultId===n.testResultId},n.prototype.toString=function(){var n=new lt.StringBuilder;return n.append(this.testRunId.toString()),n.append(":"),n.append(this.testResultId.toString()),n.toString()},n}();t.TestCaseResultIdentifier=ii;gu=function(){function n(n,t,i){this.testRunId=n;this.testResultId=t;this.durationInMs=i}return n.prototype.toString=function(){var n=new lt.StringBuilder;return n.append(this.testRunId.toString()),n.append(":"),n.append(this.testResultId.toString()),n.toString()},n}();t.TestCaseResultIdentifierWithDuration=gu;vt.initClassPrototype(ii,{testRunId:0,testResultId:0});nf=function(){function n(){}return n.SuiteTitle="suiteTitle",n.TestPlan="testPlan",n.TeamProject="teamProject",n.Link="link",n.SuiteType="suiteType",n.OpenInNewTab="openInNewTab",n.SuiteStatus="suiteStatus",n}();t.SuitesPaneColumnIds=nf;tf=function(){function n(){}return n.Outcome="outcome",n.Configuration="configurationName",n.Link="link",n.RunBy="runBy",n.ResultDate="resultDate",n.Duration="duration",n.OpenInNewTab="openInNewTab",n.PlanId="planId",n.PlanName="planName",n.SuiteId="suiteId",n.SuiteName="suiteName",n}();t.ResultsPaneColumnIds=tf;rf=function(){function n(){}return n.Outcome="outcome",n.Configuration="configurationName",n.RunBy="runBy",n.ResultDate="resultDate",n.Duration="duration",n.BuildNumber="buildNumber",n.Tester="tester",n}();t.LatestTestOutcomeColumnIds=rf,function(n){n.MinValue=-2147483648}(uf=t.IntRange||(t.IntRange={})),function(n){n.TestObjectNotFoundException="Microsoft.TeamFoundation.TestManagement.Server.TestObjectNotFoundException";n.WiqlSyntaxException="Microsoft.TeamFoundation.WorkItemTracking.Client.Wiql.SyntaxException"}(no=t.Exceptions||(t.Exceptions={})),function(n){n.SystemInfo="Microsoft.VSTS.TCM.SystemInfo";n.ReproSteps="Microsoft.VSTS.TCM.ReproSteps";n.BuildFoundIn="Microsoft.VSTS.Build.FoundIn"}(to=t.BugWITFields||(t.BugWITFields={}));ff=function(){function n(){}return n.SelectClause="SELECT {0} FROM WorkItems",n.WhereClause="WHERE {0}",n.CategoryBaseClause="WHERE [System.TeamProject] = @project AND [System.WorkItemType] IN GROUP '{0}' ",n}();t.WIQLConstants=ff;ef=function(){function n(){}return n.TestCase="Microsoft.TestCaseCategory",n.SharedStep="Microsoft.SharedStepCategory",n.Requirement="Microsoft.RequirementCategory",n.ParameterSet="Microsoft.SharedParameterCategory",n.Bug="Microsoft.BugCategory",n.Feature="Microsoft.FeatureCategory",n.Epic="Microsoft.EpicCategory",n.TestPlan="Microsoft.TestPlanCategory",n.AllWorkItemsCategory="all",n}();t.WorkItemCategories=ef;of=function(){function n(){}return n.getTestCases=function(n){var i=[],t,r;if(n)for(t=0,r=n.length;t<r;t++)i.push({testCaseId:n[t].id,suiteId:n[t].suiteId});return i},n}();t.TestCaseAndSuiteId=of;sf=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._httpClient=t.getHttpClient(a.TestManagementHttpClient)},t.prototype.getTestPointsInSuiteWithResults=function(n,t,i,r){var u=this;this._httpClient.getPointsForSuite(e.TfsContext.getDefault().navigation.project,n,t).then(function(n){i.call(u,n,t)},function(n){return r.call(n)})},t}(s.TfsService);t.TestPointManager=sf;hf=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._httpClient=this.getConnection().getHttpClient(d.TestHttpClient5)},t.prototype.getSuiteEntries=function(n){return this._httpClient.getSuiteEntries(this.getTfsContext().contextData.project.name,n)},t.prototype.reorderSuiteEntries=function(n,t){return this._httpClient.reorderSuiteEntries(t,this.getTfsContext().contextData.project.name,n)},t}(s.TfsService);t.OrderTestCaseManager=hf;cf=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._httpClient=this.getConnection().getHttpClient(tt.WorkItemTrackingHttpClient3)},t.prototype.addResultAttachmentToWorkItem=function(n,t){var u=[],r={},i;return r.op="add",r.path="/relations/-",i={},i.rel="ArtifactLink",i.url=n,i.attributes={name:"Result Attachment"},r.value=i,u.push(r),this._httpClient.updateWorkItem(u,t)},t.prototype.getWorkItems=function(n,t,i,r){return this._httpClient.getWorkItems(n,t,i,r)},t.prototype.getWorkItemsByWiqlQuery=function(n,t,i){return this._httpClient.queryByWiql(n,t,undefined,undefined,i)},t.prototype.getWorkItemTypeCategories=function(){return this._httpClient.getWorkItemTypeCategories(this.getTfsContext().contextData.project.name)},t}(s.TfsService);t.WorkItemTrackingManager=cf;ru=function(){function n(){}return n.getTestPlanSelectionSettingKey=function(){var n=e.TfsContext.getDefault().contextData;return"/TestManagement/"+n.project.id+"/"+n.team.id+"/TestPlanSelection"},n.getDefaultQuery=function(){var t=ht.parseJsonIsland($(document),".__defaultPlanQuery",!1);return t||(t=n._defaultTestPlanQuery),t||(t=this._select+lt.format(this._whereClauseQuery,e.TfsContext.getDefault().contextData.project.name)),n.convertPlanQuery(t)},n.convertPlanQuery=function(n){return n.replace(/SELECT \* FROM/i,this._select)},n.setDefaultTestPlanQuery=function(t){n._defaultTestPlanQuery=t},n._select="SELECT [System.Id], [System.WorkItemType], [System.Title], [System.AssignedTo], [System.AreaPath], [System.IterationPath] FROM",n._whereClauseQuery=" WorkItems WHERE ([System.TeamProject] = @project AND [System.WorkItemType] IN GROUP 'Microsoft.TestPlanCategory' AND [System.AreaPath] UNDER '{0}')",n}();t.TestPlanSelectionHelper=ru,function(n){n.maxPageSize=2147483646;n.defaultPageSize=1e3;n.defaultTestResultPageSize=1e4}(lf=t.PageConstants||(t.PageConstants={}));af=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._httpClient=t.getHttpClient(a.TestManagementHttpClient)},t.prototype.getApiLocation=function(n,t){return this.getTfsContext().getActionUrl(n||"","testManagement",$.extend({area:"api"},t))},t.prototype.createStaticTestSuite=function(n,t,i){this._ajaxPost("CreateStaticSuite",{suiteCreationRequestModel:ht.stringifyMSJSON(n)},t,i)},t.prototype.createRequirementSuites=function(n,t,i,r){this._ajaxPost("CreateRequirementSuites",{parentSuiteId:n.id,parentSuiteRevision:n.revision,requirementIds:t},i,r)},t.prototype.createQueryBasedSuite=function(n,t,i){this._ajaxPost("CreateQueryBasedSuite",{suiteCreationRequestModel:ht.stringifyMSJSON(n)},t,i)},t.prototype.updateQueryBasedSuite=function(n,t,i,r){this._ajaxPost("UpdateQueryBasedSuite",{suiteId:n.id,suiteRevision:n.revision,queryText:t},i,r)},t.prototype.renameTestSuite=function(n,t,i,r){this._ajaxPost("RenameTestSuite",{suiteId:n.id,suiteRevision:n.revision,title:t},i,r)},t.prototype.deleteTestSuite=function(n,t,i,r,u){this._ajaxPost("DeleteTestSuite",{parentTestSuiteId:n,parentSuiteRevision:t,suiteIdToDelete:i},r,u)},t.prototype.moveTestSuiteEntry=function(n,t,i,r,u,f,e,o,s,h){this._ajaxPost("MoveTestSuiteEntryAtPosition",{planId:n,fromSuiteId:t,fromSuiteRevision:i,toSuiteId:r,toSuiteRevision:u,suiteEntriesToMoveIds:f,isTestCaseEntry:e,position:o},s,h)},t.prototype.createTestPlan=function(n,t,i){this._ajaxPost("CreateTestPlan",{planCreateRequestModel:ht.stringifyMSJSON(n)},t,i)},t.prototype.beginCreateTestPlanFromWorkItem=function(n,t,i){this._ajaxPost("CreateTestPlanFromWorkItem",{workItemId:n},t,i)},t.prototype.getTestPlansById=function(n,t,i){this._ajaxJson("GetTestPlansById",{planIds:n},t,i)},t.prototype.fetchTestPlansIncludingSpecifiedPlan=function(n,t,i){var u=ht.parseJsonIsland($(document),".__allTestPlans",!0),r=parseInt(n,10);isNaN(r)&&(r=0);u&&t&&(r===0||u.testPlans.filter(function(n){return r===n.id}).length!==0)?t(u):(ht.parseJsonIsland($(document),".__allSuitesOfSelectedPlan",!0),ht.parseJsonIsland($(document),".__allTestPointsOfSelectedSuite",!0),this._ajaxJson("FetchTestPlansIncludingSpecifiedPlan",{planIdToSelect:r},t,i))},t.prototype.saveAndFetchTestPlansByQueryFilter=function(n,t,i){this._ajaxPost("SaveAndFetchTestPlansByQueryFilter",{planQuery:n},t,i)},t.prototype.getConvertedFilteredTestPlanQueryFromRegistry=function(n,t,i){var r=ht.parseJsonIsland($(document),".__testPlanQueryFromRegistry",!0);r&&t?(r=ru.convertPlanQuery(r),t(r)):this._ajaxPost("GetConvertedFilteredTestPlanQueryFromRegistry",{defaultPlanQuery:n},t,i)},t.prototype.getTeamFieldForTestPlans=function(n,t,i){var r=ht.parseJsonIsland($(document),".__allTeamFieldForLastSelectedTestPlan",!0);r&&t?t(r):this._ajaxJson("GetTeamFieldForTestPlans",{testPlanIds:n},t,i)},t.prototype.beginGetPlanBuildDetails=function(n,t,i){var r=this;this._buildHttpClient||(this._buildHttpClient=this.tfsConnection.getHttpClient(k.BuildHttpClient));n.build?this._buildHttpClient.getBuild(n.build.id,e.TfsContext.getDefault().navigation.project).then(function(n){t.call(r,n)},function(){r._buildHttpClient2_2||(r._buildHttpClient2_2=r.tfsConnection.getHttpClient(k.BuildHttpClient2_2));r._buildHttpClient2_2.getBuild(n.build.id,e.TfsContext.getDefault().navigation.project).then(function(n){t.call(r,n)},function(n){i.call(n)})}):t.call(this,null)},t.prototype.getTestSuitesForPlan=function(n,t,i,r){var f=ht.parseJsonIsland($(document),".__allSuitesOfSelectedPlan",!0),u=parseInt(t,10);isNaN(u)&&(u=0);f&&i&&(u===0||f.testSuites.filter(function(n){return n.id===u}).length!==0)?i(f):(ht.parseJsonIsland($(document),".__allTestPointsOfSelectedSuite",!0),this._ajaxJson("GetTestSuitesForPlan",{planId:n},i,r))},t.prototype.deleteTestPlan=function(n,t,i){var r=this;this._httpClient.deleteTestPlan(e.TfsContext.getDefault().navigation.project,n).then(function(){t.call(r)},function(n){return i(n)})},t.prototype.getXsltTemplate=function(n,t){this._ajaxJson("GetXsltTemplate",null,n,t)},t.prototype.getPlan=function(n,t,i){var r=this;this._httpClient.beginGetTestPlan(e.TfsContext.getDefault().navigation.project,n).then(function(n){t.call(r,n)},function(n){return i.call(n)})},t.prototype.getTestConfigurationsDetail=function(n,t,i,r){this._ajaxJson("GetTestConfigurationsDetail",{configIds:n,planId:t},i,r)},t.prototype.getTestSuite=function(n,t,i,r){var u=this;this._httpClient.getSuite(e.TfsContext.getDefault().navigation.project,n,t).then(function(n){i.call(u,n)},function(n){return r.call(n)})},t.prototype.getSuitesForTestCase=function(n,t,i){var r=this;this._httpClient.getSuitesForTestCase(n).then(function(n){t.call(r,n)},function(n){return i.call(n)})},t.prototype.getWorkItemTypeNamesForCategories=function(n,t,i){this._ajaxJson("GetWorkItemTypeNamesForCategories",{categoryNames:n},t,i)},t.prototype.getWorkItemTypeNameForCategoreisForSpecificProject=function(n,t,i,r){t&&this._ajaxJsonForSpecificProject("GetWorkItemTypeNamesForCategories",t,{categoryNames:n},i,r)},t.prototype.validateQueryContainsCategory=function(n,t,i,r){this._ajaxPost("ValidateQueryContainsCategory",{queryText:n,categoryName:t},i,r)},t.prototype._updateFilterRegistryValues=function(n,t,i,r){this._ajaxPost("UpdateRegistrySettings",{outcome:t,tester:i,configuration:n},r)},t.prototype.getTestPointsForSuite=function(n,t,i,r,u,f,e,o,s,h,c){h===void 0&&(h=lf.maxPageSize);c===void 0&&(c=!1);var l=ht.parseJsonIsland($(document),".__allTestPointsOfSelectedSuite",!0);l&&o?o(l):this._ajaxPost("GetTestPointsForSuite",{testPlanId:n,testSuiteId:t,repopulateSuite:i,columns:ht.stringifyMSJSON(r),top:h,recursive:c,outcomeFilter:u,testerFilter:f,configurationFilter:e},o,s)},t.prototype.getTestCaseIdsInTestSuite=function(n,t,i){this._ajaxJson("GetTestCaseIdsInTestSuite",{testSuiteId:n},t,i)},t.prototype.getTestCaseColumnsFromUserSettings=function(n,t){this._ajaxJson("GetTestCaseColumnsFromUserSettings",{},n,t)},t.prototype.getTestSuitesData=function(n,t,i,r){this._ajaxJson("GetTestSuitesData",{testSuitesId:n,includeChildSuite:t},i,r)},t.prototype.fetchTestPoints=function(n,t,i,r,u){this._ajaxPost("FetchTestPoints",{testPlanId:n,testPointIds:t,columns:ht.stringifyMSJSON(i)},r,u)},t.prototype.resetTestPoints=function(n,t,i,r){this._ajaxPost("ResetTestPoints",{planId:n,testPointIds:t},i,r)},t.prototype.assignTester=function(n,t,i,r,u){this._ajaxPost("AssignTester",{planId:n,testPointIds:t,tester:i},r,u)},t.prototype.assignTestersToSuite=function(n,t,i,r){this._ajaxPost("AssignTestersToSuite",{suiteId:n,testers:t},i,r)},t.prototype.assignTestersToSuiteWithAad=function(n,t,i,r,u){this._ajaxPost("AssignTestersToSuiteWithAad",{suiteId:n,testers:t,newUsersJson:i},r,u)},t.prototype.getTestersAssignedToSuite=function(n,t,i){this._ajaxJson("GetTestersAssignedToSuite",{suiteId:n},t,i)},t.prototype.assignConfigurationsToSuite=function(n,t,i,r){this._ajaxPost("AssignConfigurationsToSuite",{suiteId:n,configurations:t},i,r)},t.prototype.assignConfigurationsToTestCases=function(n,t,i,r){this._ajaxPost("AssignConfigurationsToTestCases",{testCases:ht.stringifyMSJSON(n),configurations:t},i,r)},t.prototype.getAvailableConfigurationsForSuite=function(n,t,i){this._ajaxJson("GetAvailableConfigurationsForSuite",{suiteId:n},t,i)},t.prototype.getAvailableConfigurationsForTestCases=function(n,t,i){this._ajaxPost("GetAvailableConfigurationsForTestCases",{testCases:ht.stringifyMSJSON(n)},t,i)},t.prototype.fetchFilteredSuitesTestPointCountInPlan=function(n,t,i,r,u,f){this._ajaxPost("FetchSuitesTestPointCountInPlan",{planId:n,outcome:t,tester:i,configuration:r},u,f)},t.prototype.addTestCaseToSuite=function(n,t,i,r,u,f){this._ajaxPost("AddTestCaseToTestSuite",{testSuiteId:n,testSuiteRevision:t,testCaseId:i,linkedRequirementsIds:r},u,f)},t.prototype.addTestCasesToSuite=function(n,t,i,r,u){this._ajaxPost("AddTestCasesToTestSuite",{testSuiteId:n,testSuiteRevision:t,testCaseIds:i},r,u)},t.prototype.removeTestCasesFromSuite=function(n,t,i,r,u){this._ajaxPost("RemoveTestCasesFromSuite",{testSuiteId:n,testSuiteRevision:t,testCaseIds:i},r,u)},t.prototype.bulkMarkTestPoints=function(n,t,i,r,u,f){this._ajaxPost("BulkMarkTestPoints",{planId:n,suiteId:t,testPointIds:i,outcome:r},u,f)},t.prototype.updateColumnOptions=function(n,t,i,r){this._ajaxPost("UpdateColumnOptions",{columnOptions:ht.stringifyMSJSON(n),removeExisting:t},i,r)},t.prototype.updateColumnSortOrder=function(n,t,i){this._ajaxPost("UpdateColumnSortOrder",{columnSortOrder:ht.stringifyMSJSON(n)},t,i)},t.prototype.updateSqmPoint=function(n,t,i,r){this._ajaxPost("UpdateSqmPoint",{property:n,incrementBy:t},i,r)},t.prototype.fetchTcmPlanIds=function(n,t,i){this._ajaxPost("FetchTcmPlanIds",{witPlanIds:n},t,i)},t.prototype._ajaxJson=function(n,t,i,u,f){r.getMSJSON(this.getApiLocation(n),t,i,u,f)},t.prototype._ajaxJsonForSpecificProject=function(n,t,i,u,f,e){r.getMSJSON(this.getApiLocation(n,{project:t}),i,u,f,e)},t.prototype._ajaxPost=function(n,t,i,u,f){r.postMSJSON(this.getApiLocation(n),t,i,u,f)},t}(s.TfsService);t.TestPlanManager=af,function(n){n.nameCharacters="["+b.unicodeCategory.Nd+b.unicodeCategory.Mn+b.unicodeCategory.Mc+b.unicodeCategory.Ll+b.unicodeCategory.Lo+b.unicodeCategory.Lu+b.unicodeCategory.Lt+"_-]";n.letterCharacters="["+b.unicodeCategory.Ll+b.unicodeCategory.Lo+b.unicodeCategory.Lu+b.unicodeCategory.Lt+"]";n.parameterCharacters="["+b.unicodeCategory.Lu+b.unicodeCategory.Ll+b.unicodeCategory.Lt+b.unicodeCategory.Lm+b.unicodeCategory.Lo+b.unicodeCategory.Nl+b.unicodeCategory.Nd+b.unicodeCategory.Mn+b.unicodeCategory.Pd+b.unicodeCategory.Pc+b.unicodeCategory.Mc+b.unicodeCategory.Cf+"_@]";n.nonParameterCharacters="[^"+b.unicodeCategory.Lu+b.unicodeCategory.Ll+b.unicodeCategory.Lt+b.unicodeCategory.Lm+b.unicodeCategory.Lo+b.unicodeCategory.Nl+b.unicodeCategory.Nd+b.unicodeCategory.Mn+b.unicodeCategory.Pd+b.unicodeCategory.Pc+b.unicodeCategory.Mc+b.unicodeCategory.Cf+"_@]";n.paramRegEx=new RegExp("(^@[?]?"+n.parameterCharacters+"{1,})|("+n.nonParameterCharacters+"{1,}@[?]?"+n.parameterCharacters+"{1,})");n.encodeCharPattern=/_[Xx]([0-9a-fA-F]{4})_/;n.xml4eLetterPattern="["+b.unicodeCategory.LetterXml4e+"]";n.xml4eNameCharacterPattern="["+b.unicodeCategory.NcNameXml4e+"]"}(ni=t.ParameterConstants||(t.ParameterConstants={}));bt=function(){function n(){}return n.getParameters=function(n){var t,i,u=ri.getPlainTextLines(n),r=[];return $.each(u,function(n,u){while((i=ni.paramRegEx.exec(u))!==null)t=i[0].substr(i[0].indexOf("@")+1),t[0]==="?"&&(t=t.substr(1)),$.inArray(t,r)===-1&&r.push(t),u=u.substr(i.index+i[0].length)}),r},n.convertCharToHex=function(n){for(var t=n.charCodeAt(0).toString(16).toUpperCase();t.length<4;)t="0"+t;return"_x"+t+"_"},n.updateEncodedParameters=function(t){for(var i=0,e=t.length,r,u=new f.Dictionary,i=0;i<e;i++)r=t[i],u.containsKey(r)||u.set(r,n.encodeName(r));return u},n.encodeName=function(t){var e="",l=t.length,u,f=0,h=ni.encodeCharPattern,i,o=-1,s,y=0,a=0,v=0,c=[],r;if(!t||t==="")return t;if(u=0,t.indexOf("_")>=0){for(r=t;(s=h.exec(r))!=null;)c[y++]=s.index+v,v=v+s.index+s[0].length-1,r=r.substr(s.index+s[0].length-1);i=h.exec(t)}for(i!=null&&(o=c[a++],r=t.substr(i.index+i[0].length-1)),(n.IsLetterOrUnderscore(t[0])||t[0]===":")&&o!==0||(e+=n.convertCharToHex(t[0]),u=1,f++,o===0&&(i=h.exec(r),i&&(o=c[a++],r=r.substr(i.index+i[0].length-1))));f<l;)n.IsNameCharacterOrColon(t[f])&&o!==f||(o===f&&(i=h.exec(r),i&&(o=c[a++],r=r.substr(i.index+i[0].length-1))),e=e+t.substr(u,f-u),e=e+n.convertCharToHex(t[f]),u=f+1),f++;return u===0?t:(u<l&&(e=e+t.substr(u,l-u)),e)},n.decodeName=function(n){var i="",c=n.length,u,t=0,l=0,r=0,e,f=7,y=ni.encodeCharPattern,a=-1,o=[],s,h=0,v;if(!n||n===""||(v=n.indexOf("_"),v<0))return n;for(s=n;(u=y.exec(s))!=null;)o[t++]=u.index+l,l=l+u.index+u[0].length,s=s.substr(u.index+u[0].length);for(o[h]!==undefined&&(a=o[h++]),t=0;t<c-f+1;t++)t===a&&(o[h]!==undefined&&(a=o[h++]),i=i+n.substr(r,t-r),n[t+f-1]!=="_"?(e=this.getCombinedCharCodeForSurrogatePattern(n,t),e<parseInt("10000",16)&&(r=t+f+4,i=i+String.fromCharCode(e)),t+=f- -3):(r=t+f,e=parseInt(n[t+2],16)*4096+parseInt(n[t+3],16)*256+parseInt(n[t+4],16)*16+parseInt(n[t+5],16),i=i+String.fromCharCode(e),t+=f-1));return r===0?n:(r<c&&(i=i+n.substr(r,c-r)),i)},n.getCombinedCharCodeForSurrogatePattern=function(n,t){return parseInt(n[t+2],16)*268435456+parseInt(n[t+3],16)*16777216+parseInt(n[t+4],16)*1048576+parseInt(n[t+5],16)*65536+parseInt(n[t+6],16)*4096+parseInt(n[t+7],16)*256+parseInt(n[t+8],16)*16+parseInt(n[t+9],16)},n.isLetter=function(n){var t=new RegExp("("+ni.xml4eLetterPattern+"{1})"),i=t.exec(n);return i===null?!1:!0},n.IsLetterOrUnderscore=function(t){return n.isLetter(t)?!0:t==="_"},n.IsNameCharacterOrColon=function(t){return n.isNameCharacter(t)?!0:t===":"},n.isNameCharacter=function(n){var t=new RegExp("("+ni.xml4eNameCharacterPattern+"{1})"),i=t.exec(n);return i===null?!1:!0},n.hasParameters=function(n){var i,t;return n?(i=n.replace(/<a((\s|\S)*?)>/i,""),t=ni.paramRegEx.exec(i),t===null&&(t=ni.paramRegEx.exec($(ri.wrapInDiv(fi.normalize(n))).text()),t===null))?!1:!0:!1},n.isValidParameterString=function(n){var i=new RegExp("("+ni.parameterCharacters+"{1,})"),t=i.exec(n);return t===null||t[0]!==n?!1:!0},n.createParamRegExForString=function(n){return new RegExp("(^@[?]?"+n+")|("+ni.nonParameterCharacters+"{1}@[?]?"+n+")","ig")},n.getParametersDataRow=function(n){var f=this,t,i,r=[],u={};return n.find("parameters").children().each(function(){t=$(this).attr("name");i=$(this).find("value").text();$.inArray(t,r)===-1&&(r.push(t),u[t]=i)}),u},n.parseParameters=function(n){var t,i=[];return n.find("parameters").children().each(function(){t=$(this).attr("name");$.inArray(t,i)===-1&&i.push(t)}),i},n.getParameterCountInString=function(n,t){var i,r,f=ri.getPlainTextLines(n),u=0;return $.each(f,function(n,f){while((r=ni.paramRegEx.exec(f))!==null)i=r[0].substr(r[0].indexOf("@")+1),i[0]==="?"&&(i=i.substr(1)),lt.localeIgnoreCaseComparer(i,t)===0&&u++,f=f.substr(r.index+r[0].length)}),u},n.renameParameterInPlainString=function(n,t,i){var u=this,r="",f=ri.getPlainTextLines(n);return $.each(f,function(n,f){f=u.renameParameterInString(f,t,i);f!==""&&(r=r+"<p>"+f+"<\/p>")}),r},n.renameParameterInString=function(t,i,r){var e,s,h=0,c=this.getParameterCountInString(t,i),o=n.createParamRegExForString(i),l=t,f,u;if(i===r)return t;while((e=o.exec(t))!==null)f=e[0].length,u=e.index,t.substring(e.index,1)==="@"&&(u=u-1,f=f+1),this._isNonParamCharacter(t,u+f)?(r&&r!==""?(t=t.substring(0,u+2)+r+t.substring(u+f),o.lastIndex=u+2+r.length):(s=/^@{1,}/.exec(t.substring(u+1)),t=t.substring(0,u+1)+t.substring(u+1+s[0].length),o.lastIndex=u+1+s[0].length),h++):o.lastIndex=u+f;return h===c&&this.getParameterCountInString(t,i)===0?t:n.renameParameterInPlainString(l,i,r)},n._isNonParamCharacter=function(n,t){if(t>=0&&t<n.length){if(n[t].match(ni.nonParameterCharacters))return!0}else if(t===n.length)return!0;return!1},n}();t.ParameterCommonUtils=bt;ri=function(){function n(){}return n.wrapInDiv=function(n){return"<div>"+n+"<\/div>"},n.encodeLeftAngularBracket=function(n){return n&&(n=n.replace(/\r?</g,"&lt;")),n},n.isEmptyText=function(t){var i=$(n.wrapInDiv(fi.normalize(t))).text();return i.trim()===""},n.replaceNewLineWithBr=function(n){return!n||!n.trim()?n:n.replace(/\r?\n/g,"<br />")},n.getPlainTextLines=function(t){return t!==undefined&&t!==null?(t=fi.normalize(t),t=t.replace(/<\/p><p>|<p>|<\/p>|<br>|<br\/>|<br \/>/ig,"\n"),$(n.wrapInDiv(t)).text().split("\n")):[]},n.replaceEmptyParagraphTagsWithNbsp=function(n){for(var r=n.length,t=0,i,t=0;t<r;t++)i=$(n[t]),i.text().trim()||i.html("&nbsp;");return n},n}();t.HtmlUtils=ri;vf=function(){function n(){}return n.getWitFieldIndex=function(n,t){for(var i=0,r=t.length,i=0;i<r;i++)if(lt.ignoreCaseComparer(n,t[i])===0)return i;return-1},n}();t.WorkItemPageDataUtils=vf;ei=function(){function n(){}return n.linkTestCaseToBug=function(t,i,r,u){if(r){var f=n.getLink(t,i,this.TESTED_BY_LINKTYPE_FORWARD);if(f)return}n._addLinkToWorkItem(t,i,this.TESTED_BY_LINKTYPE_FORWARD,u)},n.linkTestCasesToBug=function(t,i,r){n._tryAddLinksToWorkItem(t,i,this.TESTED_BY_LINKTYPE_FORWARD,r)},n.linkRequirementSuiteToBugWithParentLink=function(t,i,r,u){if(r){var f=n.getLinks(t,this.PARENT_LINK_TYPE);if(f&&f.length>0){this.linkRequirementSuiteToBugWithRelatedLink(t,i,r,u);return}}n._addLinkToWorkItem(t,i,this.PARENT_LINK_TYPE,u)},n.linkRequirementSuiteToBugWithRelatedLink=function(t,i,r,u){if(r){var f=n.getLink(t,i,this.RELATED_LINKTYPE_FORWARD);if(f)return}n._addLinkToWorkItem(t,i,this.RELATED_LINKTYPE_FORWARD,u)},n.linkTestCasesToRequirement=function(t,i,r){n._tryAddLinksToWorkItem(t,i,this.TESTED_BY_LINKTYPE_FORWARD,r)},n.linkTestCaseToSharedSteps=function(t,i,r){n._tryAddLinksToWorkItem(t,i,this.SHAREDSTEPS_LINKTYPE_REVERSE,r)},n.linkTestCaseToSharedParameterDataSet=function(t,i,r){n._addLinkToWorkItem(t,i,this.SHAREDPARAMETER_LINKTYPE_REVERSE,r)},n.unlinkSharedParameterDataSetFromTestCase=function(t,i,r){r===void 0&&(r=!0);var u;u=n.getLink(t,i,this.SHAREDPARAMETER_LINKTYPE_REVERSE,r);u&&t.removeLinks([u])},n.unlinkSharedStepsFromTestCase=function(t,i){for(var r=0,e=i.length,f=[],u,r=0;r<e;r++)u=n.getLink(t,i[r],this.SHAREDSTEPS_LINKTYPE_REVERSE),u&&f.push(u);t.removeLinks(f)},n.getLink=function(n,t,i,r){r===void 0&&(r=!0);for(var u=0,e=n.getLinks().length,f,u=0;u<e;u++)if((!r||n.getLinks()[u]instanceof yt.WorkItemLink)&&(f=n.getLinks()[u],f.getTargetId()===t&&f.getLinkTypeEnd().immutableName===i))return f;return null},n.getLinks=function(n,t,i){i===void 0&&(i=!0);for(var r=0,e=n.getLinks().length,u,f=[],r=0;r<e;r++)(!i||n.getLinks()[r]instanceof yt.WorkItemLink)&&(u=n.getLinks()[r],u.getLinkTypeEnd().immutableName===t&&f.push(u));return f},n._tryAddLinksToWorkItem=function(t,i,r,u){for(var f=0,e=i.length,o=[],f=0;f<e;f++)n.getLink(t,i[f],r)||o.push(i[f]);for(f=0,e=o.length;f<e;f++)n._addLinkToWorkItem(t,o[f],r,u)},n._addLinkToWorkItem=function(n,t,i,r){var u=yt.WorkItemLink.create(n,i,t,r);n.addLink(u)},n.TESTED_BY_LINKTYPE_FORWARD="Microsoft.VSTS.Common.TestedBy-Forward",n.TESTED_BY_LINKTYPE_REVERSE="Microsoft.VSTS.Common.TestedBy-Reverse",n.SHAREDSTEPS_LINKTYPE_REVERSE="Microsoft.VSTS.TestCase.SharedStepReferencedBy-Reverse",n.SHAREDSTEPS_LINKTYPE_FORWARD="Microsoft.VSTS.TestCase.SharedStepReferencedBy-Forward",n.SHAREDPARAMETER_LINKTYPE_FORWARD="Microsoft.VSTS.TestCase.SharedParameterReferencedBy-Forward",n.SHAREDPARAMETER_LINKTYPE_REVERSE="Microsoft.VSTS.TestCase.SharedParameterReferencedBy-Reverse",n.RELATED_LINKTYPE_FORWARD="System.LinkTypes.Related-Forward",n.PARENT_LINK_TYPE="System.LinkTypes.Hierarchy-Reverse",n}();t.WitLinkingHelper=ei;fr=function(){function n(){}return n.Step="Step",n.SharedSteps="SharedSteps",n}();t.TestActionTypes=fr;ui=function(){function n(){}return n.Action="ActionStep",n.Validate="ValidateStep",n}();t.TestStepTypes=ui;wi=function(){function n(n,t){this.id=n;this.actionType=t;this._isDirty=!1;this.owner=null}return n.prototype.setIndex=function(n){this.index=n},n.prototype.getIsDirty=function(){return this._isDirty},n.prototype.setIsDirty=function(n){this._isDirty=n},n.prototype.hasError=function(){return!1},n.prototype.appendTo=function(n){return n},n.prototype.getAttachmentCount=function(){return 0},n.prototype.getAttachments=function(){return null},n.prototype.processTestAttachments=function(){return!1},n}();t.TestAction=wi;vt.initClassPrototype(wi,{id:null,actionType:null,action:null,index:null,_attachments:null,owner:null});uu=function(){function n(){}return n}();t.ResourceLink=uu;er=function(){function n(){this.resource=new uu}return n.prototype.getUri=function(){return this.uri},n.prototype.setUri=function(n){this.uri=n},n.prototype.getComment=function(){return this.resource.Comment},n.prototype.getOriginalName=function(){return this.resource.OriginalName},n.prototype.getFilePath=function(){return this.resource.FilePath},n.prototype.getLength=function(){return this.resource.Length},n.prototype.getWorkItemId=function(){return this.resource.WorkItemId},n.prototype.updateMetadatafromAttachment=function(n){this.resource.AddedDate=n.getAddedDate();this.resource.Comment=n.getComment();this.resource.FilePath=n.getFilePath();this.resource.FldId=n.getFieldId();this.resource.WorkItemId=n.workItem.id;this.resource.Length=n.getLength();this.resource.OriginalName=n.getName();this.uri=n.getUri(!0)},n.prototype.updateMetadatafromResourceLink=function(n){this.resource=n},n}();t.TestStepAttachmentMetadata=er;vt.initClassPrototype(er,{resource:null,uri:null});gt=function(n){function t(t,i,r,u,f){var e=this;return e=n.call(this,t,fr.Step)||this,e._actionParameters=[],e._expectedParameters=[],e.stepType=i,e.action=r,e._updateParameters(bt.getParameters(r),e._actionParameters),e.expectedResult=u,e._updateParameters(bt.getParameters(u),e._expectedParameters),e.isFormatted=f,e._hasActionError=!1,e._hasExpectedResultError=!1,e._attachments=[],e._attachmentsMetadata=[],e._updateOwner=!0,e}return __extends(t,n),t.createStep=function(n,i,r,u,f){return new t(n,i,r,u,f)},t.prototype.setAction=function(n){var t;return this.action!==n&&(t=bt.getParameters(n),this._hasActionError=t.length>0,this._updateParameters(t,this._actionParameters))?(this.action=n,this.setIsDirty(!0),!0):!1},t.prototype.setExpectedResult=function(n){var t;return this.expectedResult!==n&&(t=bt.getParameters(n),this._hasExpectedResultError=t.length>0,this._updateParameters(t,this._expectedParameters))?(this.expectedResult=n,this.setIsDirty(!0),this.stepType=this._isExpectedResultEmpty()?ui.Action:ui.Validate,!0):!1},t.prototype.hasError=function(){return this._hasActionError||this._hasExpectedResultError},t.prototype.hasActionError=function(){return this._hasActionError},t.prototype.hasExpectedResultError=function(){return this._hasExpectedResultError},t.prototype.getActionParameters=function(){return this._actionParameters},t.prototype.getExpectedParameters=function(){return this._expectedParameters},t.prototype.appendTo=function(n){var i=$.parseXML("<step><\/step>"),t=$(i).find("step"),r=$.parseXML("<description><\/description>"),u=$(r).find("description");return t.attr("id",this.id),this._isExpectedResultEmpty()?t.attr("type",ui.Action):t.attr("type",ui.Validate),this._addParameterizedString(t,this.action),this._addParameterizedString(t,this.expectedResult),t.append(u),n.append(t),n},t.prototype.processTestAttachments=function(n,t){t===void 0&&(t=!0);var u=lt.format("[teststep={0}]",this.id),i,r,f,e=!1,o;if(n)for(o=n.length,i=0;i<o;i++)r=n[i].linkData.Comment,r&&r.length>u.length&&(f=r.substr(0,u.length).toLowerCase(),f===u&&(!t&&n[i].linkData.FldID===h.DalFields.AttachedFiles||n[i]instanceof yt.Attachment)&&(this.addAttachment(n[i]),e=!0));return e},t.prototype.getAttachmentCount=function(){return this._attachments?this._attachments.length:0},t.prototype.getAttachments=function(){return this._attachments},t.prototype.getAttachmentsMetadataList=function(){return this._attachmentsMetadata},t.prototype.deleteAttachment=function(n){var t;return n&&(t=ot.remove(this.getAttachments(),n),t&&n.remove()),t},t.prototype.clearAttachments=function(){for(var t=ot.clone(this.getAttachments()),i=t.length,n=0;n<i;n++)this.deleteAttachment(t[n])},t.prototype.addAttachment=function(n){this._attachments.push(n);this._addAttachmentMetadata(n)},t.prototype._addAttachmentMetadata=function(n){var t=new er;t.updateMetadatafromAttachment(n);this._attachmentsMetadata.push(t)},t.prototype.updateAttachmentsMetadataList=function(n){this._attachmentsMetadata.push(n)},t.prototype._addParameterizedString=function(n,t){var i,u,f,r;i=t?fi.normalize(t):fi.normalize("");this.isFormatted||(i=ri.replaceNewLineWithBr(i));f=lt.htmlEncode(i).replace(/&nbsp;/g,"&amp;nbsp;");u=$.parseXML(lt.format("<parameterizedString>{0}<\/parameterizedString>",f));r=$(u).find("parameterizedString");r.attr("isformatted","true");n.append(r)},t.prototype._getContentToWrite=function(n){var i=fi.normalize(n),t=/<div>([\S\s]*?)<\/div>/i.exec(n);return t===null?"<div>"+n+"<\/div>":n},t.prototype._isExpectedResultEmpty=function(){var n;return this.expectedResult?(n=$(ri.wrapInDiv(this.expectedResult)).text(),n.trim()===""):!0},t.prototype._updateParameters=function(n,t){var i=[],r=[];return($.each(t,function(t,r){ot.contains(n,r,lt.localeIgnoreCaseComparer)||i.push(r)}),$.each(n,function(n,i){ot.contains(t,i,lt.localeIgnoreCaseComparer)||r.push(i)}),i.length>0&&this.owner&&!this.owner.fireParamDeleteEvent(i))?!1:(this._deleteParametersFromList(i,t),this._addParametersToList(r,t),!0)},t.prototype._addParametersToList=function(n,t){for(var r=n.length,i=0;i<r;i++)if(!ot.contains(t,n[i],lt.localeIgnoreCaseComparer)&&(t.push(n[i]),this.owner&&this._updateOwner))this.owner.onAddParameterInSteps(n[i])},t.prototype._deleteParametersFromList=function(n,t){for(var i,u=t.length,f=n.length,r=0;r<f;r++)for(i=0;i<u;i++)if(lt.localeIgnoreCaseComparer(n[r],t[i])===0&&(t.splice(i,1),i++,this.owner&&this._updateOwner))this.owner.onDeleteParameterInSteps(n[r])},t.prototype.deleteParameter=function(n){var t=bt.renameParameterInString(this.action,n,""),i=bt.renameParameterInString(this.expectedResult,n,"");this.setAction(t);this.setExpectedResult(i)},t.prototype.renameParameter=function(n,t){var i=bt.renameParameterInString(this.action,n,t),r=bt.renameParameterInString(this.expectedResult,n,t);this._updateOwner=!1;this.setAction(i);this.setExpectedResult(r);this._updateOwner=!0},t}(wi);t.TestStep=gt;vt.initClassPrototype(gt,{stepType:null,expectedResult:null,isFormatted:!1,_updateOwner:!0,_actionParameters:null,_expectedParameters:null});or=function(){function n(n){this._workItem=n}return n.prototype.getWorkItem=function(){return this._workItem},n.prototype.isDirty=function(){return this._workItem.isDirty()},n.prototype.getId=function(){return this._workItem.id},n.prototype.getRevision=function(){return this._workItem.revision},n.prototype.getTitle=function(n){return this._workItem.getField(h.CoreField.Title).getValue(n)},n.prototype.setTitle=function(n){this._workItem.getField(h.CoreField.Title).setValue(n)},n.prototype.getLinks=function(){return this._workItem.getLinks()},n.prototype.getFieldValue=function(n,t){var i=this._workItem.getField(n),r;return i?(r=i.fieldDefinition.id,t?this._workItem.getFieldValueByRevision(r,t):this._workItem.getField(n).getValue()):null},n.prototype.setFieldValue=function(n,t){this._workItem.setFieldValue(n,t)},n.prototype.isInvalid=function(){return!this._workItem.isValid()||this._workItem.hasError()},n.prototype.getError=function(){return this._workItem.getError()},n.prototype.reset=function(){this._workItem.reset()},n}();t.WorkItemWrapper=or;sr=function(){function n(n,t,i,r,u,f,e){this._id=n;this._title=i;this.setTestSteps(r);this._parameters=new hr(u);this._isDirty=!1;this._revision=t;this._isStepsFieldModified=!1;this._attachmentProcessed=!1;this._properties=f||{};this._project=e}return n.prototype.getId=function(){return this._workItemWrapper?this._workItemWrapper.getId():this._id},n.prototype.getProperties=function(){return this._properties},n.prototype.getProperty=function(n){return this._properties&&this._properties.hasOwnProperty(n)?this._properties[n]:""},n.prototype.setProperty=function(n,t){return this._properties&&this._properties[n]!==t?(this._properties[n]=t,this.setIsDirty(!0),!0):!1},n.prototype.setProperties=function(n){var i,t,r=this.getWorkItemWrapper();if(r){for(this._properties={},t=0,i=n.length;t<i;t++)this._properties[n[t]]=r.getFieldValue(n[t]);return!0}return!1},n.prototype.getTitle=function(){return this._title},n.prototype.setTitle=function(n){return this._title!==n?(this._title=n,this._isDirty=!0,this._workItemWrapper&&this._workItemWrapper.setTitle(n),!0):!1},n.prototype.intializeParameters=function(n){this._parameters=new hr(n);this._calculateParameterRefCountsFromSteps()},n.prototype.resetTitle=function(n){this._title=n},n.prototype.updateLocalRevision=function(){this._workItemWrapper&&(this._revision=this._workItemWrapper.getRevision())},n.prototype.isLatestRevision=function(){return this._workItemWrapper&&this._revision?this._workItemWrapper.getRevision()===this._revision:!0},n.prototype.getRevision=function(){return this._workItemWrapper?this._workItemWrapper.getRevision():this._revision},n.prototype.getParameters=function(){return this._parameters.getParameters()},n.prototype.getParameterByName=function(n){for(var i=this.getParameters(),r=i.length,t=0;t<r;t++)if(lt.localeIgnoreCaseComparer(n,i[t])===0)return i[t];return""},n.prototype.setParameters=function(n){this._parameters.setParameters(n);this._calculateParameterRefCountsFromSteps()},n.prototype.hasParameters=function(){return this._parameters&&this._parameters.count()>0},n.prototype.setTestSteps=function(n){var t,i;for(this._testSteps=n,i=this._testSteps.length,t=0;t<i;t++)this._testSteps[t].owner=this},n.prototype.getTestSteps=function(){return this._testSteps},n.prototype.getTestStep=function(n){for(var t=0;t<this._testSteps.length;t++)if(n===this._testSteps[t].id)return this._testSteps[t]},n.prototype.getWorkItemWrapper=function(){return this._workItemWrapper},n.prototype.setWorkItemWrapper=function(n,t){var i;this._workItemWrapper=n;t&&(i=o.ProjectCollection.getDefaultConnection().getService(yt.WorkItemStore),y.WorkItemManager.get(i).setWorkItem(n.getWorkItem()))},n.prototype.getIsDirty=function(){var n=this._testSteps.length;return this._isDirty||this._areStepsDirty()||this._parameters.getIsDirty()},n.prototype.setIsDirty=function(n){var t=0,i=this._testSteps.length;if(this._isDirty=n,!n)for(this._isStepsFieldModified=!1,this._parameters.setIsDirty(!1),t=0;t<i;t++)this._testSteps[t].setIsDirty(n)},n.prototype.isInvalid=function(){return this._workItemWrapper?this._workItemWrapper.isInvalid():!1},n.prototype.getError=function(){return this._workItemWrapper?this._workItemWrapper.getError():null},n.prototype.removeStep=function(n,t,i){var f=this.getTestSteps(),e=f.length,u=this.getIndexForActionId(n),r;return u>=0&&u<e?(r=f[u],r instanceof gt&&!i&&!this.fireParamDeleteEventForStepRemoval(r.getActionParameters(),r.getExpectedParameters()))?!1:(r instanceof gt&&(this._updateParametersRefCountOnRemovingStep(r,i),f[u].clearAttachments()),f.splice(u,1),this._updateTestStepIndices(),this._isStepsFieldModified=!0,!0):!1},n.prototype.fireParamDeleteEventForStepRemoval=function(n,t){var i;return(i=this._parameters.getParamsToBeDeletedOnStepRemoval(n,t),i.length>0&&this.paramDeleteEvent)?this.paramDeleteEvent(i,this):!0},n.prototype.getIndexForActionId=function(n){var t=0,r=this.getTestSteps(),i=r.length;if(i<=0)return 0;if(n===-1)return i;for(t=0;t<i;t++)if(r[t].id===n)return t;return i},n.prototype.insertStep=function(n){var t=this.getIndexForActionId(n);return this.insertStepAt(t)},n.prototype.addNewStep=function(){var n=this.getTestSteps(),t=n.length;return this.insertStepAt(t)},n.prototype.getLastActionId=function(){var t=this.getTestSteps(),r=t.length,i,n=0;if(r===0)return 1;for(i=t[0].id,n=0;n<r;n++)i<t[n].id&&(i=t[n].id);return i},n.prototype.insertStepAt=function(n){var i=this.getLastActionId(),r=this.getTestSteps(),t;return t=gt.createStep(i+1,ui.Action,"","",!0),t.owner=this,t.setIsDirty(!0),r.splice(n,0,t),this._updateTestStepIndices(),i+1},n.prototype.replaceStep=function(n){var t=this.getIndexForActionId(n);return this.removeStep(n,0),this.insertStepAt(t)},n.prototype.willParametersBeDeletedOnDeletingSteps=function(n){for(var o=this.getTestSteps(),s=n.length,i,r=this.getParameters(),h=r.length,u=new f.Dictionary,e,t=0;t<h;t++)u.set(r[t],this._parameters.getRefCount(r[t]));for(t=0;t<s;t++)if(i=this.getIndexForActionId(n[t]),o[i]instanceof gt&&((e=o[i],this._willParametersBeDeleted(e.getActionParameters(),u))||this._willParametersBeDeleted(e.getExpectedParameters(),u)))return!0;return!1},n.prototype._willParametersBeDeleted=function(n,t){for(var u=n.length,r,i=0;i<u;i++)if(r=t.get(n[i]),r>0){if(t.set(n[i],r-1),r-1==0)return!0}else ft.logVerbose("Error occurred. Parameter ref count mapping is incorrect");return!1},n.prototype._updateTestStepIndices=function(){for(var n=0,t=this.getTestSteps(),i=t.length,n=0;n<i;n++)t[n].setIndex(n+1)},n.prototype.addStep=function(n){n.owner=this;this.getTestSteps().push(n);this._updateParametersRefCountOnAddingStep(n);this._isStepsFieldModified=!0;this._isDirty=!0},n.prototype._updateParametersRefCountOnAddingStep=function(n){var t=this;$.each(n.getActionParameters(),function(n,i){t.onAddParameterInSteps(i)});$.each(n.getExpectedParameters(),function(n,i){t.onAddParameterInSteps(i)})},n.prototype._updateParametersRefCountOnRemovingStep=function(n,t){var i=this;$.each(n.getActionParameters(),function(n,r){i.onDeleteParameterInSteps(r,t)});$.each(n.getExpectedParameters(),function(n,r){i.onDeleteParameterInSteps(r,t)})},n.prototype.onAddParameterInSteps=function(n){this._parameters.onAddParameterInSteps(n)},n.prototype.onDeleteParameterInSteps=function(n,t,i){return this._parameters.onDeleteParameterInSteps(n,t,i)},n.prototype.deleteParameter=function(n){var t,i=this.getTestSteps(),r=i.length;for(this._parameters.deleteParameter(n),t=0;t<r;t++)i[t]instanceof gt&&i[t].deleteParameter(n)},n.prototype.renameParameter=function(n,t){var i,r=this.getTestSteps(),u=r.length;for(this._parameters.renameParameter(n,t),i=0;i<u;i++)r[i]instanceof gt&&r[i].renameParameter(n,t)},n.prototype._calculateParameterRefCountsFromSteps=function(){for(var t=this.getTestSteps(),i=t.length,n=0;n<i;n++)t[n]instanceof gt&&this._updateParametersRefCountOnAddingStep(t[n])},n.prototype.fireParamDeleteEvent=function(n){var t;return(t=this._parameters.getParamsToBeDeleted(n),t.length>0&&this.paramDeleteEvent)?this.paramDeleteEvent(t,this):!0},n.prototype.hasError=function(){for(var n=0,t=this.getTestSteps(),i=t.length,n=0;n<i;n++)if(t[n].hasError())return!0;return!1},n.prototype.reset=function(){this._workItemWrapper&&this._workItemWrapper.reset()},n.prototype.processTestStepAttachments=function(){var n=0,t=this.getTestSteps(),r=t.length,i=!1;if(this._attachmentProcessed)return!1;for(n=0;n<r;n++)t[n].processTestAttachments(this._workItemWrapper.getLinks())&&(i=!0);return this._attachmentProcessed=!0,i},n.prototype.preSave=function(){this.getIsDirty()&&(this._setStepsField(),this._setParameterField(),this._setProperties())},n.prototype._setIsStepFieldModified=function(n){this._isStepsFieldModified=n},n.prototype._setProperties=function(){var n,t,i=o.ProjectCollection.getDefaultConnection().getService(yt.WorkItemStore);for(n in this._properties)this._isAdditionalField(n)&&(t=this._workItemWrapper.getWorkItem().getField(n),t&&iu.isFieldEditable(t.fieldDefinition)&&this._workItemWrapper.setFieldValue(n,this._properties[n]))},n.prototype._isAdditionalField=function(t){var i=n.TestCaseCoreFields;return $.inArray(t,i)<0?!0:!1},n.prototype._setStepsField=function(){var e=$.parseXML("<steps><\/steps>"),i=$(e).find("steps"),t=0,n,r=0,o,s=this._testSteps.length,f=i;if(this._areStepsDirty()){for(t=0;t<s;t++)n=this._testSteps[t],n instanceof dt?f=n.appendTo(f):n.appendTo(f),n.id>r&&(r=n.id);i.attr("id","0");i.attr("last",r);o=ht.domToXml(e);this._workItemWrapper.setFieldValue(u.WorkItemFieldNames.Actions,o)}},n.prototype._setParameterField=function(){var n;this._parameters.getIsDirty()&&(n=this._parameters.getParametersXml(),this._workItemWrapper.setFieldValue(u.WorkItemFieldNames.Parameters,n))},n.parseTestSteps=function(n){function t(n){var t=[];return $(n).children().length>0?$(n).children().each(function(){switch(this.nodeName.toLowerCase()){case"parameter":t.push(lt.format("@{0}",$(this).text()));break;case"outputparameter":t.push(lt.format("@?{0}",$(this).text()));break;case"text":t.push($(this).text())}}):t.push($(n).text()),t.join("")}function i(n){var s=$(n).attr("id"),h=$(n).attr("type"),i,r,u=0,f=!1,e=!1,o=!1;return $(n).children("parameterizedString").each(function(){u===0?(i=t(this),e=$(this).attr("isformatted")==="true"):(r=t(this),o=$(this).attr("isformatted")==="true");u++}),e&&o&&(f=!0),i||r||$(n).children().each(function(){switch(this.nodeName.toLowerCase()){case"action":i=$(this).text();break;case"expected":r=$(this).text()}}),gt.createStep(parseInt(s,10),h,i,r,f)}function r(n){var e=$(n).attr("id"),o=$(n).attr("ref"),u=[],f,t=[];return u.push(dt.createSharedStep(parseInt(e,10),parseInt(o,10))),$(n).children().each(function(){switch(this.nodeName.toLowerCase()){case"step":f=i(this);t.push(f);break;case"compref":f=r(this);t=t.concat(f)}}),t&&t.length>0&&(u=u.concat(t)),u}function u(n){var t,u=[];return n.children().each(function(){switch(this.nodeName.toLowerCase()){case"step":t=i(this);u.push(t);break;case"compref":t=r(this);u=u.concat(t)}}),u}return u(n)},n.prototype.getTestStepsInternal=function(){var i=this._workItemWrapper.getFieldValue(u.WorkItemFieldNames.Actions,this._workItemWrapper.getRevision()),t;return t=ht.parseXml(i||""),n.parseTestSteps($(t).find("steps"))},n.prototype.swapTestSteps=function(n,t){var i,r=!1;return i=this.getTestSteps(),n!==-1&&t!==-1&&(rr.swap(i,n,t),this._isStepsFieldModified=!0,r=!0),this._updateTestStepIndices(),r},n.prototype._areStepsDirty=function(){var n=0,t=this._testSteps.length;if(this._isStepsFieldModified)return!0;for(n=0;n<t;n++)if(this._testSteps[n].getIsDirty())return!0;return!1},n.prototype.refreshTestStepsFromWorkItem=function(){this._attachmentProcessed=!1;this.setIsDirty(!1)},n.prototype.getProjectId=function(){var n=this._project?this._project.guid:undefined,t;return n&&n!==""&&n!=="00000000-0000-0000-0000-000000000000"||(t=e.TfsContext.getDefault(),n=t.navigation.projectId),n},n.TestCaseCoreFields=[h.CoreFieldRefNames.Id,h.CoreFieldRefNames.Rev,h.CoreFieldRefNames.Title,h.CoreFieldRefNames.Description,u.WorkItemFieldNames.Actions,u.WorkItemFieldNames.Parameters,u.WorkItemFieldNames.DataField],n.SharedStepCoreFields=[h.CoreFieldRefNames.Id,h.CoreFieldRefNames.Rev,h.CoreFieldRefNames.Title,u.WorkItemFieldNames.Actions,u.WorkItemFieldNames.Parameters],n.TestCaseIdAndTitleFields=[h.CoreFieldRefNames.Id,h.CoreFieldRefNames.Title],n._pseudoText="MakeDirty",n}();t.TestBase=sr;hr=function(){function n(n){this.setParameters(n);this._isDirty=!1}return n.prototype.getParameters=function(){return this._parameters.keys()},n.prototype.getRefCount=function(n){return this._parameters.containsKey(n)?this._parameters.get(n):-1},n.prototype.setParameters=function(n){var t,i=n.length;for(this._parameters=new f.Dictionary,t=0;t<n.length;t++)this._parameters.add(n[t],0)},n.prototype.count=function(){return this._parameters.count()},n.prototype.getIsDirty=function(){return this._isDirty},n.prototype.setIsDirty=function(n){this._isDirty=n},n.prototype.getParametersXml=function(){var t=$.parseXML("<parameters><\/parameters>"),e=$(t).find("parameters"),n=0,i,r,o=this._parameters.count(),u,f;for(u=this._parameters.keys(),f=this._parameters.values(),n=0;n<o;n++)f[n]>0&&(i="<param name='"+u[n]+"' bind='default'><\/param>",r=$($.parseXML(i)).find("param"),e.append(r));return ht.domToXml(t)},n.prototype.onAddParameterInSteps=function(n){for(var r,i=this.getParameters(),f=i.length,u=!1,t=0;t<f;t++)if(lt.localeIgnoreCaseComparer(n,i[t])===0){r=this._parameters.get(i[t]);this._parameters.set(i[t],r+1);u=!0;break}u||(this._parameters.add(n,1),this._isDirty=!0)},n.prototype.getParamsToBeDeleted=function(n){for(var u,t,r=this.getParameters(),e=r.length,o=n.length,f=[],i=0;i<o;i++)for(t=0;t<e;t++)if(lt.localeIgnoreCaseComparer(n[i],r[t])===0){u=this._parameters.get(r[t]);u===1&&f.push(r[t]);break}return f},n.prototype.getParamsToBeDeletedOnStepRemoval=function(n,t){var o,i,r,u=this.getParameters(),h=u.length,s,e=[],f=[];for(e=ot.intersect(n,t,lt.localeIgnoreCaseComparer),s=e.length,r=0;r<s;r++)for(i=0;i<h;i++)if(lt.localeIgnoreCaseComparer(e[r],u[i])===0){o=this._parameters.get(u[i]);o===2&&f.push(u[i]);break}return f=ot.union(this.getParamsToBeDeleted(n),f,lt.localeIgnoreCaseComparer),ot.union(this.getParamsToBeDeleted(t),f,lt.localeIgnoreCaseComparer)},n.prototype.onDeleteParameterInSteps=function(n,t,i){for(var f,u=this.getParameters(),e=u.length,r=0;r<e;r++)if(lt.localeIgnoreCaseComparer(n,u[r])===0){if(f=this._parameters.get(u[r]),f>1)return this._parameters.set(u[r],f-1),!1;if(f===1)return i?(this._parameters.set(u[r],0),this._isDirty=!0,!1):(this._parameters.remove(u[r]),this._isDirty=!0,!0)}},n.prototype.deleteParameter=function(n){this._parameters.remove(n);this._isDirty=!0},n.prototype.renameParameter=function(n,t){var i,u=this._parameters.count(),f=this._parameters.values(),r=this._parameters.keys();if(ot.contains(r,t,lt.localeIgnoreCaseComparer))this._parameters.remove(n);else for(this._parameters.clear(),i=0;i<u;i++)r[i]===n&&(r[i]=t),this._parameters.add(r[i],f[i]);this._isDirty=!0},n}();t.Parameters=hr;yf=function(){function n(n,t){n||(n=[]);t||(t=new fu);this._parameterData=t;this._parameterNames=n;this._commandQueue=new nr}return n.prototype.setSharedParameterDataSetAndData=function(n,t){this._parameterData=t;this._parameterNames=n},n.prototype.executeCommands=function(n){return this._commandQueue.execute(new au(n))},n.prototype.clearCommandQueue=function(){this._commandQueue.clear()},n.prototype.getCommandQueue=function(){return this._commandQueue},n.prototype.getParameters=function(){return this._parameterNames},n.prototype.getParamCount=function(){return this.getParameters().length},n.prototype.getParamData=function(){return this._parameterData},n.prototype.getParamDataRowCount=function(){return this._parameterData.getDataCount()},n.prototype.getParameterValueForRow=function(n,t){return ot.contains(this._parameterNames,t,lt.localeIgnoreCaseComparer)?this._parameterData.getParameterValueForRow(n,t):""},n.prototype.renameParameter=function(n,t){if(n===t)return!0;var i=this._parameterNames.indexOf(n),r=this._parameterNames.indexOf(t)!==-1;return i!==-1&&!r?(this._parameterNames[i]=n,this._parameterData.renameParameter(n,t),!0):!1},n.prototype.deleteParameter=function(n){var t=this._parameterNames.indexOf(n);return t!==-1?(this._parameterNames.splice(t,1),this._parameterData.deleteParameter(n),!0):!1},n.prototype.addParameter=function(n){var t=this._parameterNames.indexOf(n);return t===-1?(this._parameterNames.push(n),this._parameterData.addParameter(n),!0):!1},n.prototype.updateParameterValueForRow=function(n,t,i){return this._parameterNames.indexOf(t)!==-1?this._parameterData.updateParamValueAtIndex(t,i,n):!1},n.prototype.moveParameter=function(n,t){var i=this._parameterNames.indexOf(n);return i!==-1&&i!==t&&t>=0&&t<this.getParamCount()?(this._parameterNames.splice(i,1),this._parameterNames.splice(t,0,n),!0):!1},n.prototype.getXML=function(){for(var r=$.parseXML(lt.format(n._elementNameFormat,n._paramSetElement)),o=$(r).find(n._paramSetElement),s=$.parseXML(this._parameterData.getXml()),h=$(s).contents(),u,c=$.parseXML(lt.format(n._elementNameFormat,n._paramNamesElement)),f=$(c).find(n._paramNamesElement),l=this._parameterNames.length,i,e,t=0;t<l;t++)u=$.parseXML(lt.format(n._elementNameFormat,n._paramElement)),i=$(u).find(n._paramElement),e=bt.encodeName(this._parameterNames[t]),i.text(e),f.append(i);return o.append(f).append(h),ht.domToXml(r)},n._elementNameFormat="<{0}/>",n._paramNamesElement="paramNames",n._paramElement="param",n._paramSetElement="parameterSet",n}();t.SharedParameterDataSet=yf;cr=function(){function n(n){n||(n=[]);this.setData(n)}return n.prototype.getData=function(){return this._data},n.prototype.getDataCount=function(){return this._data.length},n.prototype.setData=function(n){this._data=n},n.prototype.deleteParameter=function(n){for(var i=this.getData(),r=i.length,u,t=0;t<r;t++)n in i[t]&&delete i[t][n];r>0&&(u=Object.keys(i[0]).length,u===0&&this.setData([]))},n.prototype.getParameterValueForRow=function(n,t){return n<0||n>=this._data.length?"":this.getParameterValueFromDataRow(this._data[n],t)||""},n.prototype.getParameterValueFromDataRow=function(n,t){var r,i,u,f;for(r=Object.keys(n),i=0,u=r.length;i<u;i++)if(f=r[i],lt.localeIgnoreCaseComparer(t,f)===0)return n[r[i]];return""},n.prototype.renameParameter=function(n,t,i){for(var u=this.getData(),e=u.length,f,r=0;r<e;r++)n in u[r]&&(i?u[r][t]="":(f=u[r][n],u[r][t]=f,delete u[r][n]))},n.prototype.addParameter=function(n){for(var i=this.getData(),r=i.length,t=0;t<r;t++)i[t][n]=""},n.prototype.updateParamValueAtIndex=function(n,t,i){var r=this.getData();return i>=0&&i<this.getDataCount()?(r[i][n]=t,!0):!1},n.prototype._getEncodedParamName=function(n,t){return t&&t.containsKey(n)?t.get(n):bt.encodeName(n)},n}();t.BaseParametersData=cr;fu=function(n){function t(t,i,r){var u=__construct(this,n,[t]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return i||(i=0),r||(r=[]),u._lastId=i,u._rowIds=r,u}return __extends(t,n),t.prototype.getRowIds=function(){return this._rowIds},t.prototype.getLastId=function(){return this._lastId},t.prototype.addParameterRowWithRowId=function(n,t,i,r){var f={},u,e;if(n.length<t.length){ft.logError("[SharedParameterData/addParameterRow] Length of paramValues is greater then paramNames. There should be a paramName for each paramValue");return}for(u=0,e=n.length;u<e;u++)f[n[u]]=t[u]?t[u]:"";this.getData().splice(i,0,f);this._rowIds.splice(i,0,r)},t.prototype.deleteParameterRow=function(n){n>=0&&n<this.getDataCount()&&(this.getData().splice(n,1),this._rowIds.splice(n,1))},t.prototype.deleteAllParameterRows=function(){ot.clear(this.getData());ot.clear(this._rowIds)},t.prototype.addParameterRow=function(n,t,i){return this.addParameterRowWithRowId(n,t,i,++this._lastId),this._lastId},t.prototype.getXml=function(){var u=this.getData(),o=$.parseXML(lt.format(t._elementNameFormat,t._paramDataElement)),s=$(o).find(t._paramDataElement),h,n,l=u.length,c,f,i,r,e;for(s.attr(t._lastIdAttribute,this.getLastId().toString()),n=0;n<l;n++){c=$.parseXML(lt.format(t._elementNameFormat,t._dataRowElement));f=$(c).find(t._dataRowElement);f.attr(t._idAttribute,this._rowIds[n].toString());for(i in u[n])r=u[n][i],u[n].hasOwnProperty(i)&&r&&(r=lt.htmlEncode(r),i=this._getEncodedParamName(i),h=$.parseXML(lt.format(t._elementNameFormat,t._keyValuePairElement)),e=$(h).find(t._keyValuePairElement),e.attr(t._keyAttribute,i).attr(t._valueAttribute,r),f.append(e));s.append(f)}return ht.domToXml(o)},t._elementNameFormat="<{0}/>",t._dataRowElement="dataRow",t._paramDataElement="paramData",t._lastIdAttribute="lastId",t._idAttribute="id",t._keyValuePairElement="kvp",t._keyAttribute="key",t._valueAttribute="value",t}(cr);t.SharedParameterData=fu;bi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getXML=function(n){var r=0,u=0,f=this.getData(),e=[],s,c,i,l=0,a,h="",o="",v=f.length;if(f.length>0){for(e=Object.keys(f[0]),l=e.length,a=this._generateSchema(e,n),r=0;r<v;r++){for(o="",u=0;u<l;u++)s=e[u],i=f[r][s],i&&(i=lt.htmlEncode(i)),c=this._getEncodedParamName(s,n),o=o+lt.format(t._parameterNodeFormat,c,i);h=h+lt.format(t._tableNodeFormat,o)}return lt.format(t._xmlFormat,a,h)}return""},t.prototype._generateSchema=function(n,i){for(var u="",f,e,o=n.length,r=0;r<o;r++)f=n[r],e=this._getEncodedParamName(f,i),u=u+lt.format(t._parameterNodeFormatString,e);return lt.format(t._schemaFormat,t._schemaElement1,u,t._schemaElement2)},t._xmlFormat="<NewDataSet>{0}{1}<\/NewDataSet>",t._schemaElement1="<xs:schema id='NewDataSet' xmlns:xs='http://www.w3.org/2001/XMLSchema' xmlns:msdata='urn:schemas-microsoft-com:xml-msdata'><xs:element name='NewDataSet' msdata:IsDataSet='true' msdata:Locale=''><xs:complexType> <xs:choice minOccurs='0' maxOccurs = 'unbounded'><xs:element name='Table1'><xs:complexType><xs:sequence>",t._schemaElement2="<\/xs:sequence><\/xs:complexType><\/xs:element><\/xs:choice><\/xs:complexType><\/xs:element><\/xs:schema>",t._schemaFormat="{0}{1}{2}",t._parameterNodeFormatString="<xs:element name='{0}' type='xs:string' minOccurs='0' />",t._tableNodeFormat="<Table1>{0}<\/Table1>",t._parameterNodeFormat="<{0}>{1}<\/{0}>",t}(cr);t.ParametersData=bi;lr=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._commandQueue=new nr,i}return __extends(t,n),t.prototype.deleteParam=function(n){this._commandQueue.insert(new hu(n));this.deleteParameter(n)},t.prototype.renameParam=function(n,t){this._commandQueue.insert(new su(n,t));this.renameParameter(n,t)},t.prototype.addParameter=function(n){this._commandQueue.insert(new cu(n))},t.prototype.executeCommands=function(n,t){return this._commandQueue.execute(new lu(this,n,t))},t.prototype.getParameterXml=function(){return this._sharedStepsParameterXml},t.prototype.setParameterXml=function(n){this._sharedStepsParameterXml=n},t.prototype.clearCommandQueue=function(){this._commandQueue.clear()},t.prototype.getParametersXML=function(n){var f=this.getData(),i,u="",r,e;if(f.length>0)for(e=n.length,i=0;i<e;i++)r=f[0][n[i]],r=r===undefined?"":lt.htmlEncode(r),u=u+lt.format(t._keyValueFormat,n[i],r);return lt.format(t._parametersFormat,u)},t._keyValueFormat="<param name='{0}'><value>{1}<\/value><\/param>",t._parametersFormat="<parameters>{0}<\/parameters>",t}(bi);t.SharedStepParametersData=lr;eu=function(n){function t(t,i,r,u,f,e){return n.call(this,t,i,r,u,f,e)||this}return __extends(t,n),t.prototype.getStep=function(n){for(var t=0,i=this.getTestSteps(),r=i.length,t=0;t<r;t++)if(i[t].id===n)return i[t]},t.prototype.refreshTestStepsFromWorkItem=function(){var t=this.getTestSteps();this.resetTitle(this.getWorkItemWrapper().getTitle(!0));this.setTestSteps(this.getTestStepsInternal());n.prototype.refreshTestStepsFromWorkItem.call(this)},t.prototype.swapTestSteps=function(t,i,r){return n.prototype.swapTestSteps.call(this,t,i,r)},t.prototype.beginSave=function(n,t){var i=this,r;this.preSave();r=this.getWorkItemWrapper().getWorkItem();r.beginSave(function(){i.setIsDirty(!1);n&&n(i)},t)},t.prototype.preSave=function(){n.prototype.preSave.call(this);this.getIsDirty()&&this.getWorkItemWrapper().setFieldValue(h.CoreFieldRefNames.Title,this.getTitle())},t.prototype.copyStep=function(n,t){for(var u=gt.createStep(t,n.stepType,n.action,n.expectedResult,!0),r=n.getAttachments(),f,e=r.length,i=0;i<e;i++)f=yt.Attachment.create(this.getWorkItemWrapper().getWorkItem(),r[i].getName(),r[i].getFilePath(),lt.format("[TestStep={0}]:",u.id),r[i].getLength()),this.getWorkItemWrapper().getWorkItem().addLink(f),u.addAttachment(f);this.addStep(u)},t.prototype.addTestStepAttachmentsMetadata=function(n){for(var i=this.getTestSteps(),u,t=0,r=i.length;t<r;t++)if(u=lt.format("[TestStep={0}]:",i[t].id),lt.caseInsensitiveContains(n.getComment(),u))return i[t].updateAttachmentsMetadataList(n),!0;return!1},t}(sr);t.SharedStepWorkItem=eu;dt=function(n){function t(t,i){var r=n.call(this,t,fr.SharedSteps)||this;return r.ref=i,r._sharedStepWorkItem=null,r}return __extends(t,n),t.createSharedStep=function(n,i){return new t(n,i)},t.prototype.setSharedStepWorkItem=function(n){this._sharedStepWorkItem=n},t.prototype.preSave=function(){this._sharedStepWorkItem.preSave()},t.prototype.appendTo=function(n){var i=$.parseXML("<compref><\/compref>"),t=$(i).find("compref");return t.attr("id",this.id),t.attr("ref",this.ref),n.append(t),t},t.prototype.getStep=function(n){return this._sharedStepWorkItem.getStep(n)},t.prototype.getTestSteps=function(){return this._sharedStepWorkItem.getTestSteps()},t.prototype.removeStep=function(n,t){return this._sharedStepWorkItem.removeStep(n,t)},t.prototype.insertStep=function(n,t){return this._sharedStepWorkItem.insertStep(n,t)},t.prototype.getIsDirty=function(){return this._sharedStepWorkItem?this._sharedStepWorkItem.getIsDirty():!1},t.prototype.setIsDirty=function(n){this._sharedStepWorkItem&&this._sharedStepWorkItem.setIsDirty(n)},t.prototype.getSharedStep=function(){return this._sharedStepWorkItem},t.prototype.getTitle=function(){if(this._sharedStepWorkItem)return this._sharedStepWorkItem.getTitle()},t.prototype.setTitle=function(n){if(this._sharedStepWorkItem)return this._sharedStepWorkItem.setTitle(n)},t.prototype.hasError=function(){return this._sharedStepWorkItem?this._sharedStepWorkItem.hasError():!1},t.prototype.refreshTestStepsFromWorkItem=function(){this._sharedStepWorkItem&&this._sharedStepWorkItem.refreshTestStepsFromWorkItem()},t.prototype.processTestAttachments=function(){if(this._sharedStepWorkItem)return this._sharedStepWorkItem.processTestStepAttachments()},t}(wi);t.SharedSteps=dt;vt.initClassPrototype(dt,{ref:null});pf=function(n){function t(t,i,r,u,f,e,o,s,h,c,l,a){var v=__construct(this,n,[t,i,r,u,f,h,l]);for(var y in v)v.hasOwnProperty(y)&&(this[y]=v[y]);return v._replatWorkItemForm=!1,v.id=0,v.title="",v.areaPath="",v._description="",v.data=[],v.sharedStepParameters=[],v.areaPath=s,v._description=c||"",v._parametersData=new bi(e),v._sharedStepParametersData=new lr(e),v._parametersDataFieldValue=o,v._parametersDataInfo=null,a&&(v._replatWorkItemForm=!0),v}return __extends(t,n),t.prototype.getAreaPath=function(){return this.areaPath},t.prototype.getDescription=function(){return this._description},t.prototype.getData=function(n){return n?this._sharedStepParametersData.getData():this._parametersData.getData()},t.prototype.setData=function(n,t){if(t)this._sharedStepParametersData.setData(n);else return this._parametersData.setData(n)},t.prototype.setParametersDataInfo=function(n,t,i,r){this._sharedParameters=i;this._sharedParametersTitles=r;this._parametersDataInfo=t;this.setData(n)},t.prototype.removeSharedParameterDataSet=function(){ei.unlinkSharedParameterDataSetFromTestCase(this.getWorkItemWrapper().getWorkItem(),this._parametersDataInfo.getSharedParameterIdUsedByTestCase(),!this._replatWorkItemForm);this._sharedParameters=null;this._parametersDataInfo=null;this.setIsDirty(!0)},t.prototype.changeSharedParameterDataSetLinks=function(n){var t=this.getSharedParameterDataSetIdBeingUsed();n!==t&&(t&&ei.unlinkSharedParameterDataSetFromTestCase(this.getWorkItemWrapper().getWorkItem(),t,!this._replatWorkItemForm),ei.linkTestCaseToSharedParameterDataSet(this.getWorkItemWrapper().getWorkItem(),n))},t.prototype.initializeParameterInfo=function(t,i,r,u){n.prototype.intializeParameters.call(this,t);this._parametersData=new bi(i);this._parametersDataInfo=r;this._sharedStepParametersData=new lr(i);this._parametersDataFieldValue=u},t.prototype.getParametersData=function(){return this._parametersData},t.prototype.getParametersDataInfo=function(){return this._parametersDataInfo},t.prototype.getSharedParameterDataSetIdBeingUsed=function(){if(this._parametersDataInfo)return this._parametersDataInfo.getSharedParameterIdUsedByTestCase()},t.prototype.isUsingSharedParameters=function(){return this._parametersDataInfo!==null},t.prototype.updateParameterValue=function(n,t,i){var r=this.getData(),u,f;r[i][n]=t;this.setData(r,!1);this.setIsDirty(!0);u=this.getParameters().slice(0);f=bt.updateEncodedParameters(u);this.preSave(!1,f)},t.prototype.getSharedStepParametersData=function(){return this._sharedStepParametersData},t.prototype.mergeParameters=function(n){var t=0,i=this.getParameters();if(n){if(i)for(t=0;t<n.length;t++)ot.contains(i,n[t],lt.localeIgnoreCaseComparer)||i.push(n[t]);else i=n;this.setParameters(i)}},t.prototype.mergeSharedStepParameters=function(n){this.sharedStepParameters=ot.union(this.sharedStepParameters,n,lt.localeIgnoreCaseComparer);this.mergeParameters(n)},t.prototype.isSharedStepParameter=function(n){return ot.contains(this.sharedStepParameters,n,lt.localeIgnoreCaseComparer)},t.prototype.setSharedStepParameters=function(n){this.sharedStepParameters=n},t.prototype.getParametersDataFieldValue=function(){return this._parametersDataFieldValue},t.prototype.getTestAction=function(n,t){var i=0,r=this.getTestSteps(),f=r.length,u;if(t)return u=this.getSharedSteps(t),u.getStep(n);for(i=0;i<f;i++)if(r[i].id===n)return r[i]},t.prototype.setAction=function(n,t,i){var r=this.getTestAction(n,t);return r?r instanceof gt?r.setAction(i):r.setTitle($(ri.wrapInDiv(fi.normalize(i))).text()):!1},t.prototype.onAddParameterInSteps=function(t){n.prototype.onAddParameterInSteps.call(this,t);this._sharedStepParametersData.addParameter(t);this.isUsingSharedParameters()&&this._parametersDataInfo.autoMapIfParamNotExistsAlready(t)},t.prototype.preSave=function(t,i){this.getIsDirty()&&(n.prototype.preSave.call(this),this._setParameterField(t),this._parametersDataInfo?this._setParameterDataJsonField():this._setParameterDataXmlField(i))},t.prototype._setParameterField=function(t){var i;t&&this.getData(t).length!==0?(i=this._sharedStepParametersData.getParametersXML(this.getParameters()),this.getWorkItemWrapper().setFieldValue(u.WorkItemFieldNames.Parameters,i)):n.prototype._setParameterField.call(this)},t.prototype.setExpectedResult=function(n,t,i){var r=this.getTestAction(n,t);return r?r.setExpectedResult(i):!1},t.prototype.insertStep=function(t,i){var r;return i?(r=this.getSharedSteps(i),r.insertStep(t,i)):n.prototype.insertStep.call(this,t,i)},t.prototype.insertSharedStepsAtIndex=function(n,t,i){var r=i?i.length:0;return ei.linkTestCaseToSharedSteps(this.getWorkItemWrapper().getWorkItem(),t),r>0&&this._removeTestSteps(i),this._insertSharedStepsAtIndex(n,t)},t.prototype._removeTestSteps=function(n){for(var i=n.length,r=this.getIndexForActionId(n[0].id),t=0;t<i;t++)this.removeStep(n[t].id,0,!0)},t.prototype._insertSharedStepsAtIndex=function(n,t){for(var i=0,f=t.length,r,u=this.getLastActionId(),e=this.getTestSteps(),i=0;i<f;i++)r=dt.createSharedStep(u+1,t[i]),e.splice(n,0,r),u++,n++;return this._setIsStepFieldModified(!0),this._updateTestStepIndices(),n},t.prototype.insertSharedSteps=function(n,t){var i=this.getIndexForActionId(n);return this.insertSharedStepsAtIndex(i,t)},t.prototype.removeStep=function(t,i,r){var u,f;return i?(u=this.getSharedSteps(i),u.removeStep(t,i)):(f=this.getTestStep(t),f instanceof dt&&(u=f,this.getNumberOfSharedStepsWithId(u.ref)===1&&ei.unlinkSharedStepsFromTestCase(this.getWorkItemWrapper().getWorkItem(),[u.ref])),n.prototype.removeStep.call(this,t,i,r))},t.prototype.onDeleteParameterInSteps=function(t,i){return n.prototype.onDeleteParameterInSteps.call(this,t,i,this.isSharedStepParameter(t))},t.prototype.deleteParameter=function(t){this._parametersDataInfo&&this._parametersDataInfo.deleteParameter(t);n.prototype.deleteParameter.call(this,t);this.isSharedStepParameter(t)||this._parametersData.deleteParameter(t)},t.prototype.renameParameter=function(t,i){this._parametersDataInfo&&this._parametersDataInfo.renameParameter(t,i);n.prototype.renameParameter.call(this,t,i);this._parametersData.renameParameter(t,i)},t.prototype.save=function(n,t){var i=this;this.getWorkItemWrapper()===null?this.beginSetupWorkItemForTestCase(null,function(){i._saveImpl(n,t)},t):this._saveImpl(n,t)},t.prototype.swapTestSteps=function(t,i,r){var u;return r?(u=this.getSharedSteps(r),u.getSharedStep().swapTestSteps(t,i,r)):n.prototype.swapTestSteps.call(this,t,i,r)},t.prototype.getSharedSteps=function(n){for(var t=0,i=this.getTestSteps(),r=i.length,t=0;t<r;t++)if(i[t]instanceof dt&&i[t].id===n)return i[t]},t.prototype.getNumberOfSharedStepsWithId=function(n){for(var t=0,r=0,i=this.getTestSteps(),u=i.length,t=0;t<u;t++)i[t]instanceof dt&&i[t].ref===n&&r++;return r},t.prototype._saveImpl=function(n,t){var s=this,i=0,f=this.getTestSteps(),h=f.length,r,u=[],e=this.getWorkItemWrapper().getWorkItem(),o;if(this.hasError()){alert(c.InvalidStepsErrorString);return}if(this.getIsDirty())this.preSave(),u.push(e);else{n&&n();return}for(i=0;i<h;i++)f[i]instanceof dt&&(r=f[i],this._doesSharedStepExist(u,r)||r.getIsDirty()&&(r.preSave(),o=r.getSharedStep().getWorkItemWrapper().getWorkItem(),u.push(o)));u.length>0&&e.store.beginSaveWorkItemsBatch(u,function(){s.setIsDirty(!1);n&&n()},t)},t.prototype._refreshAdditionPropertiesFromWorkItem=function(){var n,t=[],i=this.getProperties();for(n in i)i.hasOwnProperty(n)&&t.push(n);this.setProperties(t)},t.prototype.beginRefresh=function(n,t){var i=this;this.resetTitle(this.getWorkItemWrapper().getTitle(!0));this.refreshTestStepsFromWorkItem();this.setSharedStepWorkItemInTestCase();this._refreshAdditionPropertiesFromWorkItem();this.beginSetupWorkItemForTestCase(null,function(){i.setIsDirty(!1);i.preSave();i.refreshTestStepsFromWorkItem();i.updateLocalRevision();n&&n()},t)},t.prototype.refreshTestStepsFromWorkItem=function(){var i,t,r,u,f;for(i=this.getTestStepsInternal(),r=i.length,t=0;t<r;t++)i[t]instanceof dt&&(f=this.getSharedSteps(i[t].id),f&&(i[t]=f));for(this.setTestSteps(i),u=this.getTestSteps(),t=0;t<r;t++)u[t]instanceof dt&&u[t].refreshTestStepsFromWorkItem();n.prototype.refreshTestStepsFromWorkItem.call(this)},t.prototype.setSharedStepWorkItemInTestCase=function(n){for(var t=0,r=this.getTestSteps(),f=r.length,i,u,t=0;t<f;t++)r[t]instanceof dt&&(i=r[t],u=n&&n[i.ref]?n[i.ref]:new eu(i.ref,0,"",[],[]),i.setSharedStepWorkItem(u))},t.prototype.beginSetupWorkItemForTestCase=function(n,t,i){var r=this,u=this._getSharedStepWorkItemsToFetch(n),f=$.merge([this.getId()],u),e=o.ProjectCollection.getDefaultConnection().getService(yt.WorkItemStore);e.beginGetWorkItems(f,function(n){var f=r.getTestSteps(),h=f.length,i=0,c=r._getWorkItem(r.getId(),n),o,s,e,u;for(r.setWorkItemWrapper(new or(c),!0),i=0;i<h;i++)f[i]instanceof dt&&(e=f[i],s=e.ref,o=r._getWorkItem(s,n),u=e.getSharedStep(),u&&!u.getWorkItemWrapper()&&u.setWorkItemWrapper(new or(o)));t&&t()},i)},t.prototype._doesSharedStepExist=function(n,t){for(var r=n.length,i=0,i=0;i<r;i++)if(n[i].id===t.ref)return!0;return!1},t.prototype._getWorkItem=function(n,t){for(var r=t.length,i=0,i=0;i<r;i++)if(t[i].id===n)return t[i]},t.prototype._getSharedStepWorkItemsToFetch=function(n){for(var u=this.getTestSteps(),o=u.length,t=0,r=[],f,e,i,t=0;t<o;t++)u[t]instanceof dt&&(e=u[t],i=parseInt(e.ref,10),n?(f=n[i],f?f.getWorkItemWrapper()||r.push(i):r.push(i)):r.push(i));return r},t.prototype._setParameterDataXmlField=function(n){var t;t=this._parametersData.getXML(n);this.getWorkItemWrapper().setFieldValue(u.WorkItemFieldNames.DataField,t)},t.prototype._setParameterDataJsonField=function(){var n;n=this._parametersDataInfo.getJSON();this.getWorkItemWrapper().setFieldValue(u.WorkItemFieldNames.DataField,n)},t.prototype.getSharedParameters=function(){return this._sharedParameters},t.prototype.getSharedParameterBeingUsed=function(){if(this._sharedParameters&&this._sharedParameters.length>0)return this._sharedParameters[0]},t.prototype.getSharedParameterDataSetTitle=function(){if(this._sharedParametersTitles&&this._sharedParametersTitles.length>0)return this._sharedParametersTitles[0]},t}(sr);t.TestCase=pf;wf=function(){function n(){}return n.getClientMTRUri=function(n,t){var i=e.TfsContext.getDefault(),r=lt.format("run?planid={0}&testpointids={1}",t,n.join(",")),u=lt.format("{0}/p:{1}/{2}/{3}/{4}",i.navigation.collection.uri,i.navigation.project,"testing","testpoint",r);return u.replace("http","mtr")},n.getNewClientMTRUri=function(n){var t=e.TfsContext.getDefault(),i=lt.format("run?runid={0}",n),r=lt.format("{0}/p:{1}/{2}/{3}/{4}",t.navigation.collection.uri,t.navigation.project,"testing","testpoint",i);return r.replace("http","mtr")},n.getTestRunnerUri=function(n,t){var i=e.TfsContext.getDefault(),r=st.getCurrentCulture(),u=lt.format("run?runid={0},suiteid={1},protocolversion={2},isHosted={3},locale={4}",n,t,p.DesktopTestRunConstants.communicationProtocolVersion,i.isHosted,r.name);return lt.format("{0}://{1}/{2}/{3}","test-runner",i.navigation.collection.uri,i.navigation.project,u)},n.getNewXTClientUri=function(n){var t=e.TfsContext.getDefault(),i=lt.format("run?id={0}",n),r=lt.format("{0}/p:{1}/{2}/{3}/{4}",t.navigation.collection.uri,t.navigation.project,"testing","session",i);return r.replace("http","mtm")},n.getTestResultUri=function(n,t,i,r,u){r===void 0&&(r=!1);var f=e.TfsContext.getDefault();return i>0?this._openSessionLinkInMTM(i,u):this._openResultLinkInWeb(n,t,u)},n._openResultsLinkInMTM=function(n,t){var i=e.TfsContext.getDefault(),r,u,f;return r=lt.format("open?id={0}&runid={1}",t,n),u="testResult",f=lt.format("{0}/p:{1}/{2}/{3}/{4}",i.navigation.collection.uri,i.navigation.project,"testing",u,r),f.replace("http","mtm")},n._openResultLinkInWeb=function(n,t,i){var u,r=e.TfsContext.getDefault();return i=i?i:r.navigation.project,u=r.navigation.team?lt.format("{0}/{1}/{2}",r.navigation.collection.uri,i,r.navigation.team):lt.format("{0}/{1}",r.navigation.collection.uri,i),lt.format("{0}/_testManagement/runs/?_a=resultSummary&runId={1}&resultId={2}",u,n,t)},n._openSessionLinkInMTM=function(n,t){var i=e.TfsContext.getDefault(),r,u,f;return r=lt.format("open?id={0}",n),u="session",t=t?t:i.navigation.project,f=lt.format("{0}/p:{1}/{2}/{3}/{4}",i.navigation.collection.uri,t,"testing",u,r),f.replace("http","mtm")},n}();t.UriHelper=wf;ki=function(){function n(){this.isDirty=!1;this.existsOnServer=!1}return n.prototype.postLoad=function(){this.isDirty=!1;this.existsOnServer=!0},n.prototype.postSave=function(){this.isDirty=!1;this.existsOnServer=!0},n.prototype.getIsDirty=function(){return this.isDirty},n.prototype.setIsDirty=function(n){this.isDirty=n},n.prototype.doesExistOnServer=function(){return this.existsOnServer},n.prototype.setDoesExistOnServer=function(n){this.existsOnServer=n},n}();t.ClientObject=ki;vt.initClassPrototype(ki,{isDirty:!1,existsOnServer:!1});ci=function(){function n(n){this._key=n;this._items=[];this._deletedItems={}}return n.prototype.getKey=function(){return this._key},n.prototype.getItems=function(){return this._items},n.prototype.getDeletedItems=function(){return this._deletedItems},n.prototype.add=function(n){return this.insert.call(this,this.getItems().length,n)},n.prototype.insert=function(n,t){return n>=0&&n<=this.getItems().length?(this.getItems().splice(n,0,t),t.owner)?!1:(t.owner=this,!0):!1},n.prototype.remove=function(n){var t;return n>=0&&n<this.getItems().length?(t=this.getItems()[n],t.owner=null,this.getDeletedItems()[t[this.getKey()]]=!0,this.getItems().splice(n,1),!0):!1},n.prototype.set=function(n,t){if(n>=0&&n<this.getItems().length){var i=this.getItems()[n];return t!==i&&(t.owner,t.owner=this,i.owner=null,this.getDeletedItems()[i[this.getKey()]]=!0,this.getItems()[n]=t),!0}return!1},n.prototype.clear=function(){for(var n=0,t,n=0;n<this.getItems().length;n++)t=this.getItems()[n],t.owner=null,this.getDeletedItems()[t[this.getKey()]]=!0;this._items=[]},n.prototype.indexOf=function(n){for(var t=0,i,t=0;t<this.getItems().length;t++)if(i=this.getItems()[t],i.equals){if(i.equals(n))return t}else if(i[this.getKey()]===n)return t},n.prototype.swap=function(n,t){if(n>=0&&n<this.getItems().length&&t>=0&&t<this.getItems().length&&n!==t){var i=this.getItems()[n],r=this.getItems()[t];this.getItems()[n]=r;this.getItems()[t]=i}},n.prototype.postSave=function(){var n=0;for(this._deletedItems={},n=0;n<this.getItems().length;n++)this.getItems()[n].postSave()},n}();t.Collection=ci;vt.initClassPrototype(ci,{_key:"",_items:null,_deletedItems:null});ti=function(){function n(){}return n.fromServerObject=function(n,t){var i,r;for(i in n)n.hasOwnProperty(i)&&(t[i]&&t[i]instanceof Date?(r=new Date(n[i].toString()),r&&r instanceof Date&&(t[i]=r)):t[i]=n[i]);return t},n.toServerObject=function(n,t){var u={},i,r;for(i in n)if(n.hasOwnProperty(i)){if(ot.contains(t,i)||ot.contains(this.commonPropertiesToExclude,i))continue;r=n[i];u[i]=r&&typeof r=="string"&&isNaN(Number(r))?r:r}return u},n.commonPropertiesToExclude=["base","_base","baseConstructor"],n}();t.ServerObjectConversionHelper=ti;oi=function(){function n(n,t,i,r,u){this.testRunId=n;this.testResultId=t;this.iterationId=i;this.actionPath=r;this.sessionId=u}return n.getIdentity=function(t){return new n(t.id.testRunId,t.id.testResultId,t.iterationId,t.actionPath,n.defaultSessionId)},n.defaultRunId=0,n.defaultResultId=0,n.defaultIterationid=0,n.defaultActionPath="",n.defaultSessionId=0,n}();t.TestResultIdentity=oi;vt.initClassPrototype(oi,{testRunId:0,testResultId:0,iterationId:0,actionPath:null,sessionId:0});di=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.outcome=u.TestOutcome.Unspecified,t.errorMessage="",t.comment="",t.dateStarted=new Date,t.dateCompleted=new Date,t.duration=0,t}return __extends(t,n),t}(ki);t.TestResult=di;vt.initClassPrototype(di,{id:null,outcome:u.TestOutcome.Unspecified,errorMessage:"",comment:"",dateStarted:null,dateCompleted:null,duration:0});kt=function(){function n(){}return n.getHexString=function(n){var t=parseInt(n,10).toString(16),i=[],r=this.charsPerElement-t.length+1;if(n>=0&&r>=0)return i=new Array(r),i.join("0")+t},n.prepend=function(n,t){var i=this.getHexString(t);return n?i+n:i},n.combine=function(n,t){var i=this.getHexString(t);return n?n+i:i},n.lastElementOf=function(n){if(n){var t=n.length-this.charsPerElement,i=n.substr(t);return parseInt(i,16)}return 0},n.lengthOf=function(n){return n?Math.round(n.length/this.charsPerElement):0},n.isDescendant=function(n,t){return t?t.indexOf(n)===0:!1},n.elementsOf=function(n){var i=[],t;if(n)for(t=0;t<n.length;t+=this.charsPerElement)i.push(parseInt(n.substr(t,this.charsPerElement),16));return i},n.charsPerElement=8,n}();t.ActionPathHelper=kt;li=function(n){function t(t,i){var r=__construct(this,n,[]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.actionId=t,r.parentId=i,r.actionPath="",r.parent=null,r.owner=null,r.isSubStep=i?!0:!1,r.indexString="",r}return __extends(t,n),t.prototype.postLoad=function(){kt.lengthOf(this.actionPath)>0&&(this.actionId=kt.lastElementOf(this.actionPath));n.prototype.postLoad.call(this)},t.prototype.getAction=function(){return""},t.prototype.getExpectedResult=function(){return""},t.prototype.canEditAction=function(){return!1},t.prototype.canEditExpectedResult=function(){return!1},t.prototype.hasError=function(){return!1},t.prototype.hasActionError=function(){return!1},t.prototype.hasExpectedResultError=function(){return!1},t.prototype.getError=function(){return""},t.prototype.hasParameters=function(){return!1},t.prototype.canDelete=function(){return!0},t.prototype.isFormatted=function(){return!1},t}(di);t.TestActionResult=li;vt.initClassPrototype(li,{actionId:0,actionPath:null,parent:null,owner:null,isSubStep:!1,indexString:""});ai=function(n){function t(t,i){var r=n.call(this)||this;return r.parameterName=t,r.updateIdentity(i),r.dataType=null,r.actual=null,r.expected=null,r}return __extends(t,n),t.fromServerObject=function(n){var i=new t;return ti.fromServerObject(n,i)},t.toServerObject=function(n){return ti.toServerObject(n,this.propertiesToExclude)},t.prototype.updateIdentity=function(n){n&&(this.testRunId=n.testRunId,this.testResultId=n.testResultId,this.actionPath=n.actionPath,this.iterationId=n.iterationId)},t.prototype.preSave=function(n,i){this.updateIdentity(i);(this.getIsDirty()||!this.doesExistOnServer())&&n.parameters.push(t.toServerObject(this))},t.propertiesToExclude=["isDirty","existsOnServer","owner"],t}(ki);t.TestResultParameter=ai;vt.initClassPrototype(ai,{name:"",dataType:null,actual:"",expected:"",testRunId:0,testResultId:0,actionPath:"",iterationId:0,owner:null});ar=function(n){function t(){return n.call(this,"parameterName")||this}return __extends(t,n),t.prototype.removeParam=function(n){var t=this.getIndexFromCollection(n);t>=0&&t<this.getItems().length&&this.remove(t)},t.prototype.getIndexFromCollection=function(n){for(var t=0,i,t=0;t<this.getItems().length;t++)if(i=this.getItems()[t],lt.ignoreCaseComparer(n,i[this.getKey()])===0)return t;return-1},t.prototype.preSave=function(n,t){for(var i=0,r,u,i=0;i<this.getItems().length;i++)this.getItems()[i].preSave(n,t);for(r in this.getDeletedItems())this.getDeletedItems().hasOwnProperty(r)&&(u=new ai(r,t),n.parameterDeletes.push(ai.toServerObject(u)))},t}(ci);t.TestParameterCollection=ar;gi=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.parameters=new ar,r.iterationId=0,r.attachments=[],r}return __extends(t,n),t.fromServerObject=function(n){var i=new t;return ti.fromServerObject(n,i)},t.toServerObject=function(n){return ti.toServerObject(n,this.propertiesToExclude)},t.prototype.preSave=function(n,i){this.id=new ii(i.testRunId,i.testResultId);this.iterationId=i.iterationId;this.actionPath=kt.combine(i.actionPath,this.actionId);(this.getIsDirty()||!this.doesExistOnServer())&&n.actionResults.push(t.toServerObject(this));this.parameters&&this.parameters.preSave(n,oi.getIdentity(this))},t.prototype.postSave=function(){n.prototype.postSave.call(this);this.parameters&&this.parameters.postSave()},t.prototype.getAction=function(){return this._testStep&&this._testStep.action?this._testStep.action:lt.empty},t.prototype.getExpectedResult=function(){return this._testStep&&this._testStep.expectedResult?this._testStep.expectedResult:lt.empty},t.prototype.getStepType=function(){return this._testStep?this._testStep.stepType:ui.Action},t.prototype.getAttachments=function(){return this._testStep?this._testStep.getAttachments():[]},t.prototype.setTestStep=function(n){this._testStep=n},t.prototype.canEditAction=function(){return this._testStep?this._canEditString(this._testStep.action):!1},t.prototype.canEditExpectedResult=function(){return this._testStep?this._canEditString(this._testStep.expectedResult):!1},t.prototype.hasError=function(){return this._testStep?this._testStep.hasError():!1},t.prototype.hasActionError=function(){return this._testStep?this._testStep.hasActionError():!1},t.prototype.hasExpectedResultError=function(){return this._testStep?this._testStep.hasExpectedResultError():!1},t.prototype.getError=function(){return c.ParameterEditingError},t.prototype.hasParameters=function(){return!this.canEditAction()||!this.canEditExpectedResult()},t.prototype.canDelete=function(){return this.hasActionError()&&!bt.hasParameters(this.getExpectedResult())||this.hasExpectedResultError()&&!bt.hasParameters(this.getAction())||this.hasActionError()&&this.hasExpectedResultError()?!0:!this.hasParameters()},t.prototype._canEditString=function(n){return!bt.hasParameters(n)},t.prototype.isFormatted=function(){return this._testStep?this._testStep.isFormatted:!1},t.prototype.isTestStepPresent=function(){return this._testStep?!0:!1},t.propertiesToExclude=["isFromServer","parameters","isDirty","owner","action","expectedResult","stepType","existsOnServer","actionParameters","expectedResultParameters","attachments","parentId","_testStep"],t}(li);t.TestStepResult=gi;vt.initClassPrototype(gi,{parameters:null,iterationId:0,expectedResult:"",stepType:"",action:"",attachments:null});vr=function(n){function t(){return n.call(this,"actionId")||this}return __extends(t,n),t.prototype.preSave=function(n,t){for(var i=0,r,i=0;i<this.getItems().length;i++)this.getItems()[i].preSave(n,t);for(r in this.getDeletedItems())this.getDeletedItems().hasOwnProperty(r)&&n.actionDeletes.push({id:new ii(t.testRunId,t.testResultId),iterationId:t.iterationId,actionPath:kt.combine(t.actionPath,r),actionId:r})},t.prototype.getIsDirty=function(){for(var i,t=!1,n=0;n<this.getItems().length;n++)if(i=this.getItems()[n],t=t||i.getIsDirty(),t)break;return t},t.prototype.setIsDirty=function(n){for(var i,t=0;t<this.getItems().length;t++)i=this.getItems()[t],i.setIsDirty(n)},t.prototype.getStepResultIndex=function(n){var t,i;return n.parentId?(i=this.indexOf(n.parentId),t=this.getItems()[i],t.getStepResultIndex(n.actionId)):this.indexOf(n.actionId)},t}(ci);t.TestActionResultCollection=vr;vi=function(n){function t(t,i){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.actionResults=new vr,r.sharedStepId=i,r.revision=0,r.iterationId=0,r.title=null,r.sharedStepRevision=0,r.isLatestRevision=!0,r}return __extends(t,n),t.fromServerObject=function(n){var i=new t(kt.lastElementOf(n.actionPath),n.sharedStepId);return ti.fromServerObject(n,i)},t.toServerObject=function(n){return ti.toServerObject(n,this.propertiesToExclude)},t.prototype.getSharedStep=function(){return this._sharedStepWorkItem},t.prototype.getAction=function(){return this._sharedStepWorkItem.getTitle()},t.prototype.getIsLatestRevision=function(){return this.isLatestRevision},t.prototype.canEditAction=function(){return!0},t.prototype.setSharedStep=function(n){this._sharedStepWorkItem=n;this.sharedStepRevision===0?this.sharedStepRevision=n.getRevision():this.sharedStepRevision!==n.getRevision()&&(this.isLatestRevision=!1)},t.prototype.preSave=function(n,i){this.id=new ii(i.testRunId,i.testResultId);this.iterationId=i.iterationId;this.actionPath=kt.combine(i.actionPath,this.actionId);this.isLatestRevision&&(this.sharedStepRevision=this._sharedStepWorkItem?this._sharedStepWorkItem.getRevision():this.sharedStepRevision);(this.getIsDirty()||!this.doesExistOnServer())&&n.actionResults.push(t.toServerObject(this));this.actionResults&&this.actionResults.preSave(n,oi.getIdentity(this))},t.prototype.postSave=function(){n.prototype.postSave.call(this);this.actionResults&&this.actionResults.postSave()},t.prototype.getIsDirty=function(){var t=n.prototype.getIsDirty.call(this);return this.actionResults&&(t=t||this.actionResults.getIsDirty()),t},t.prototype.setIsDirty=function(t){n.prototype.setIsDirty.call(this,t);!t&&this.actionResults&&this.actionResults.setIsDirty(t)},t.prototype.getStepResultIndex=function(n){return this.actionResults.indexOf(n)},t.prototype.getTestActionResult=function(n){var t=this.getStepResultIndex(n),i=null;return t>=0&&(i=this.actionResults.getItems()[t]),i},t.prototype.swapTestSteps=function(n,t){var i=this.actionResults;rr.swap(i.getItems(),n,t);this.doesExistOnServer()&&this.setIsDirty(!0)},t.prototype.hasParameters=function(){for(var t,i=this.actionResults,r=i.getItems().length,n=0;n<r;n++)if(t=i.getItems()[n],t.hasParameters())return!0;return!1},t.prototype.canDelete=function(){for(var t,i=this.actionResults,r=i.getItems().length,n=0;n<r;n++)if(t=i.getItems()[n],!t.canDelete())return!1;return!0},t.prototype.getError=function(){return c.SharedStepParameterEditingError},t.prototype.removeStepResult=function(n){var t=this.actionResults,i=t.indexOf(n);i>=0&&(t.remove(i),this.doesExistOnServer()&&this.setIsDirty(!0))},t.prototype.insertStepResult=function(n,t,i){var r=this.actionResults,u=r.indexOf(t),f=this.getSharedStep().getStep(i);u>=0&&(n.setTestStep(f),r.insert(u,n),this.doesExistOnServer()&&this.setIsDirty(!0))},t.prototype.handleStepChanged=function(){this.doesExistOnServer()&&this.setIsDirty(!0)},t.propertiesToExclude=["actionResults","isDirty","owner","title","existsOnServer","parentId","_sharedStepWorkItem","isLatestRevision"],t}(li);t.SharedStepResult=vi;vt.initClassPrototype(vi,{actionResults:null,sharedStepId:0,iterationId:0,title:"",revision:0});ou=function(){function n(n,t){this._id=n;this._title=t}return n.prototype.getId=function(){return this._id},n.prototype.getTitle=function(){return this._title},n.prototype.setTitle=function(n){this._title=n},n}();t.BugInfo=ou;yr=function(){function n(n,t,i,r,u){this._id=n;this._name=t;this._size=i;this._comment=r;this._type=u?u:lt.empty}return n.prototype.getType=function(){return this._type},n.prototype.getId=function(){return this._id},n.prototype.getName=function(){return this._name},n.prototype.getSize=function(){return this._size},n.prototype.getComment=function(){return lt.htmlEncode(this._comment)},n}();t.AttachmentInfo=yr;bf=function(n){function t(t,i,r,u,f,e,o,s){var h=__construct(this,n,[t,i,r,u,s]);for(var c in h)h.hasOwnProperty(c)&&(this[c]=h[c]);return h._testRunId=f,h._testResultId=e,h._iterationId=o,h}return __extends(t,n),t.prototype.getTestRunId=function(){return this._testRunId},t.prototype.getTestResultId=function(){return this._testResultId},t.prototype.getIterationId=function(){return this._iterationId},t}(yr);t.AttachmentResultInfo=bf;si=function(n){function t(t,i,r){var u=n.call(this,0)||this;return u.id=new ii(t,i),u.iterationId=r,u.actionResults=new vr,u.parameters=new ar,u.revision=0,u.isOutComeAutoComputed=!1,u._bugs=[],u._attachments=[],u}return __extends(t,n),t.fromServerObject=function(n){var i=new t(n.id.testRunId,n.id.testResultId,n.iterationId);return ti.fromServerObject(n,i)},t.toServerObject=function(n){return ti.toServerObject(n,this.propertiesToExclude)},t.prototype.getIsDirty=function(){var t=n.prototype.getIsDirty.call(this);return this.actionResults&&(t=t||this.actionResults.getIsDirty()),t},t.prototype.setIsDirty=function(t){n.prototype.setIsDirty.call(this,t);!t&&this.actionResults&&this.actionResults.setIsDirty(t)},t.prototype.areBugsFiled=function(){return this._bugs.length>0},t.prototype.getBugs=function(){return this._bugs},t.prototype.setBugs=function(n){this._bugs=n},t.prototype.addBug=function(n,t){this._bugs.some(function(t){return t.getId()===n.getId()})||(this._bugs.push(n),t||this.setIsDirty(!0))},t.prototype.getAttachments=function(){return this._attachments},t.prototype.setAttachments=function(n){this._attachments=n},t.prototype.addAttachment=function(n,t){this._attachments.push(n);t&&this.setIsDirty(!0)},t.prototype.createStepResult=function(n,t){return new gi(n,t)},t.prototype.createSharedStepResult=function(n,t){return new vi(n,t)},t.prototype.getStepResultIndex=function(n){return this.actionResults.indexOf(n)},t.prototype.getTestActionResult=function(n){var t=this.getStepResultIndex(n),i=null;return t>=0&&(i=this.actionResults.getItems()[t]),i},t.prototype.findActionResult=function(n){for(var t="";n!==null;)t=kt.prepend(t,n.actionId),n=n.parent;return this.findActionResultFromPath(t)},t.prototype.findActionResultFromPath=function(n){for(var i=0,u=kt.elementsOf(n),e=u.length,t=null,f,r,i=0;i<e;i++)if(r=u[i],t===null){if(t=this.getTestActionResult(r),t===null)break}else if(t instanceof vi){if(f=t,t=f.getTestActionResult(r),t===null)break}else break;return t},t.prototype.preSave=function(n,i){var r=oi.getIdentity(this);this.id=new ii(i.testRunId,i.testResultId);(this.getIsDirty()||!this.doesExistOnServer())&&n.actionResults.push(t.toServerObject(this));this.actionResults&&this.actionResults.preSave(n,r);this.parameters&&this.parameters.preSave(n,r)},t.prototype.postSave=function(){n.prototype.postSave.call(this);this.actionResults&&this.actionResults.postSave();this.parameters&&this.parameters.postSave()},t.prototype.addResultAttachmentLinkToWorkItem=function(n,t){var i,r;i=nu.encodeUri({tool:rt.ToolNames.TestManagement,type:rt.ArtifactTypeNames.TcmResultAttachment,id:lt.format("{0}.{1}.{2}",this.id.testRunId,this.id.testResultId,n.getId())});r=vu.create(t,u.WitLinkTypes.TestResultAttachment,i,n.getName());t.addLink(r)},t.propertiesToExclude=["isFromServer","actionResults","parameters","isDirty","owner","existsOnServer","isOutComeAutoComputed","_bugs","_attachments","parentId"],t}(li);t.TestIterationResult=si;vt.initClassPrototype(si,{iterationId:null,actionResults:null,parameters:null,revision:0,owner:null,isOutComeAutoComputed:!1});pr=function(n){function t(){return n.call(this,"iterationId")||this}return __extends(t,n),t.prototype.removeIteration=function(n){var t=this.indexOf(n);return t>=0&&t<this.getItems().length?this.remove(t):!1},t.prototype.getIteration=function(n){var t=this.indexOf(n);if(t>=0&&t<this.getItems().length)return this.getItems()[t]},t.prototype.preSave=function(n,t){for(var i=0,r,u,i=0;i<this.getItems().length;i++)this.getItems()[i].preSave(n,t);for(r in this.getDeletedItems())this.getDeletedItems().hasOwnProperty(r)&&(u=new si(t.testRunId,t.testResultId,r),n.actionDeletes.push(si.toServerObject(u)))},t}(ci);t.TestIterationCollection=pr;yi=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return t?(i.id=new ii(t.testRunId,t.testResultId),i.testCaseId=t.testCaseId,i.configurationId=t.configurationId,i.configurationName=t.configurationName,i.testPointId=t.testPointId):(i.id=null,i.testCaseId=0,i.configurationId=0,i.configurationName="",i.testPointId=uf.MinValue),i.revision=0,i.state=u.TestResultState.InProgress,i.owner=null,i.runBy=null,i.testCaseTitle="",i.buildNumber=0,i.iterations=null,i.isFromServer=!1,i.isReady=!1,i.testCaseArea="",i.linkedBugs=[],i.dataRowCount=0,i.testCaseRevision=0,i.isLatestRevision=!0,i.priority=255,i._testCase=null,i}return __extends(t,n),t.fromServerObject=function(n){var i=new t;return ti.fromServerObject(n,i)},t.toServerObject=function(n){return ti.toServerObject(n,this.propertiesToExclude)},t.prototype.setTestCase=function(n){this._testCase=n;this.testCaseRevision!==n.getRevision()&&(this.isLatestRevision=!1)},t.prototype.getTestCase=function(){return this._testCase},t.prototype.getIsLatestRevision=function(){return this.isLatestRevision},t.prototype.getIsDirty=function(){var t,r,i=n.prototype.getIsDirty.call(this);if(this.iterations)for(t=0;t<this.iterations.getItems().length;t++)if(r=this.iterations.getItems()[t],i=i||r.getIsDirty(),i)break;return i},t.prototype.setIsDirty=function(i){var r,u;if(n.prototype.setIsDirty.call(this,i),!i&&this.iterations)for(r=0;r<this.iterations.getItems().length;r++)u=this.iterations.getItems()[r],u.setIsDirty(i);this._fireEvent(t.EVENT_DIRTY_CHANGED)},t.prototype.isDataDriven=function(){return this.dataRowCount>0},t.prototype.createIteration=function(n){return new si(this.id.testRunId,this.id.testResultId,n)},t.prototype.getIterationCount=function(){return this.dataRowCount===0?1:this.dataRowCount},t.prototype.setDuration=function(){var n;n=0;this.iterations&&this.iterations.getItems().length>0?$.each(this.iterations.getItems(),function(t,i){n+=i.duration}):this.dateStarted&&this.dateCompleted&&(n=(this.dateCompleted.getTime()-this.dateStarted.getTime())*1e4);this.duration=n},t.prototype.populateIterations=function(n,t,i,r){var u=0,e=new pr,h=null,o,c,f,l,s,a=r?r.length:0;if(!n)return null;for(u=0;u<n.length;u++)h=this.readIteration(n,u),e.add(h.iteration),u=h.index;if(e.getItems().length>0&&a>0)for(f=e.getItems()[0],s=0;s<a;s++)f.addBug(new ou(r[s].bugId,r[s].bugTitle),!0);if(t)for(u=0;u<t.length;u++)o=ai.fromServerObject(t[u]),f=e.getIteration(o.iterationId),kt.lengthOf(o.actionPath)===0?f.parameters.add(o):(l=f.findActionResultFromPath(o.actionPath),l&&l.parameters.add(o));if(i)for(u=0;u<i.length;u++)c=new yr(i[u].id,i[u].fileName,i[u].size,i[u].comment),f=e.getIteration(i[u].iterationId),kt.lengthOf(c.actionPath)===0&&f.addAttachment(c);return e},t.prototype.areBugsFiled=function(){return this.linkedBugs&&this.linkedBugs.length>0},t.createTestCaseResultObject=function(n,i){var r=0,f,u={actionResults:[],parameters:[],attachments:[],associatedBugs:[]};if(i){for(r=0;r<i.actionResults.length;r++)i.actionResults[r].id.testResultId===n.id.testResultId&&u.actionResults.push(i.actionResults[r]);for(r=0;r<i.parameters.length;r++)i.parameters[r].testResultId===n.id.testResultId&&u.parameters.push(i.parameters[r]);for(r=0;r<i.attachments.length;r++)i.attachments[r].testResultId===n.id.testResultId&&u.attachments.push(i.attachments[r]);if(i.associatedBugs)for(r=0;r<i.associatedBugs.length;r++)i.associatedBugs[r].testResultId===n.id.testResultId&&u.associatedBugs.push(i.associatedBugs[r])}return f=t.fromServerObject(n),u&&u.actionResults&&u.actionResults.length>0?(f.iterations=f.populateIterations(u.actionResults,u.parameters,u.attachments,u.associatedBugs),f.setDoesExistOnServer(!0)):f.iterations=new pr,f},t.prototype.readIteration=function(n,t){var f=n[t].iterationId,r=si.fromServerObject(n[t]),i=t+1,u;for(r.postLoad();i<n.length&&n[i].iterationId===f;)kt.lengthOf(n[i].actionPath)===1&&(u=this.readActionResult(n,i),r.actionResults.add(u.actionResult),i=u.index),i++;return t=i-1,{iteration:r,index:t}},t.prototype.readActionResult=function(n,t){var f=n[t].actionPath,o=kt.lengthOf(f),s=n[t].iterationId,h=n[t],e=h.sharedStepId>0,i=t+1,u,r;for(r=e?vi.fromServerObject(n[t]):gi.fromServerObject(n[t]),r.postLoad();i<n.length&&n[i].iterationId===s&&kt.isDescendant(f,n[i].actionPath);)kt.lengthOf(n[i].actionPath)===o+1&&e&&(u=this.readActionResult(n,i),r.actionResults.add(u.actionResult),i=u.index),i++;return t=i-1,{actionResult:r,index:t}},t.prototype.preSave=function(n){this.iterations&&this.iterations.preSave(n,oi.getIdentity(this));(this.getIsDirty()||!this.doesExistOnServer()||n.actionResults.length!==0||n.actionDeletes.length!==0||n.parameters.length!==0||n.parameterDeletes.length!==0)&&(this.isLatestRevision&&(this.testCaseRevision=this._testCase?this._testCase.getRevision():this.testCaseRevision),n.testCaseResult=this)},t.prototype.postSaveResult=function(t){n.prototype.postSave.call(this);this.revision=t.revision;this.iterations&&this.iterations.postSave()},t.prototype.associateWorkItem=function(n,t,i,r){var u=this;this.linkedBugs.push(t.id);n.associateWorkItems([this.id],[t.id],function(){u.setIsDirty(!0);i&&i()},function(){var n=$.inArray(t.id,u.linkedBugs);n>-1&&u.linkedBugs.splice(n,1);r&&r()})},t.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},t.prototype._fireEvent=function(n,t,i){if(this._events){var r;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},t.prototype.attachEvent=function(n,t){this._events||(this._events=new et.NamedEventCollection);this._events.subscribe(n,t)},t.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},t.prototype.addResultLinkToWorkItem=function(n){var t,i,r,f;t=nu.encodeUri({tool:rt.ToolNames.TestManagement,type:rt.ArtifactTypeNames.TcmResult,id:lt.format("{0}.{1}",this.id.testRunId,this.id.testResultId)});i=vu.create(n,u.WitLinkTypes.TestResult,t);r=n.getLinks();f=r.some(function(n){return n.getArtifactLinkType()===u.WitLinkTypes.TestResult&&n.linkData.FilePath===t});f||n.addLink(i)},t.prototype._getActionResultCollection=function(n,t){var r,u,i,f=this.iterations.getIteration(n);if(f)return i=f.actionResults,t?(r=i.indexOf(t),u=i.getItems()[r],u.actionResults):i},t.prototype.removeStepResult=function(n,t,i){var o=this.iterations.getIteration(n),u,f,r=o.actionResults,e;r&&(i?(f=r.indexOf(i),f>=0&&(u=r.getItems()[f],u&&u.removeStepResult(t))):(e=r.indexOf(t),e>=0&&(r.remove(e),this.doesExistOnServer()&&(this.setIsDirty(!0),o.setIsDirty(!0)))))},t.prototype.insertStepResult=function(n,t,i,r){var f=this.iterations.getIteration(n),u=f.actionResults,o,s,h,e,c;f&&u&&(e=f.createStepResult(r,i),i?(s=u.indexOf(i),s>=0&&(o=u.getItems()[s],o&&o.insertStepResult(e,t,r))):(c=this._testCase.getTestStep(r),e.setTestStep(c),h=u.indexOf(t),h>=0&&(u.insert(h,e),this.doesExistOnServer()&&(this.setIsDirty(!0),f.setIsDirty(!0)))))},t.prototype.swapTestSteps=function(n,t,i,r){var o=this.iterations.getIteration(r),u=o.actionResults,f,e;i?(f=u.indexOf(i),f>=0&&(e=u.getItems()[f],e&&e.swapTestSteps(n,t))):(rr.swap(u.getItems(),n,t),this.doesExistOnServer()&&(this.setIsDirty(!0),o.setIsDirty(!0)))},t.prototype.handleStepChanged=function(n,t,i){var e=this.iterations.getIteration(i),f=e.actionResults,r,u;if(t)r=f.indexOf(t),r>=0&&(u=f.getItems()[r],u&&u.handleStepChanged());else return},t.EVENT_DIRTY_CHANGED="dirty-changed",t.propertiesToExclude=["isDirty","buildNumber","iterations","isFromServer","existsOnServer","linkedBugs","_testCase","isReady","isLatestRevision"],t}(di);t.TestCaseResult=yi;vt.initClassPrototype(yi,{testCaseId:0,configurationId:0,configurationName:"",testPointId:0,revision:0,state:u.TestResultState.InProgress,owner:null,runBy:null,testCaseTitle:"",buildNumber:0,iterations:null,isFromServer:!1,testCaseArea:"",linkedBugs:null,_events:null});wr=function(){function n(){}return n.prototype.equals=function(){return-1},n.prototype.execute=function(){},n}();t.Command=wr;pi=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._parentId=t,i}return __extends(t,n),t.prototype.getParentId=function(){return this._parentId},t}(wr);t.InlineEditCommand=pi;hi=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._paramName=t,i}return __extends(t,n),t.prototype.getParamName=function(){return this._paramName},t.prototype._isConflictingParameter=function(n){return ot.contains(n.getConflictingParameters(),this.getParamName(),lt.localeIgnoreCaseComparer)},t}(wr);t.ParameterCommand=hi;su=function(n){function t(t,i){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._newParamName=i,r}return __extends(t,n),t.prototype.execute=function(n){var t=n.getTestCaseParameterDataInfo();t?t.renameParameter(this.getParamName(),this._newParamName,this._isConflictingParameter(n)):n.getParametersData().renameParameter(this.getParamName(),this._newParamName,this._isConflictingParameter(n))},t.prototype.getNewParamName=function(){return this._newParamName},t}(hi);t.RenameParameterCommand=su;hu=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.execute=function(n){if(!this._isConflictingParameter(n)){var t=n.getTestCaseParameterDataInfo();t?t.deleteParameter(this.getParamName()):n.getParametersData().deleteParameter(this.getParamName())}},t}(hi);t.DeleteParameterCommand=hu;cu=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.execute=function(n){if(!this._isConflictingParameter(n)){var t=n.getTestCaseParameterDataInfo();t&&t.autoMapIfParamNotExistsAlready(this.getParamName())}},t}(hi);t.AddParameterCommand=cu;kf=function(n){function t(t,i){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._newParamName=i,r}return __extends(t,n),t.prototype.execute=function(n){var t=n.getTestCaseParamDataInfo();t&&(this.getParamName()&&t.changeParameterMappings(this.getParamName(),this.getNewParamName()),t.autoMapForParamWithoutMapping(this.getNewParamName()))},t.prototype.getNewParamName=function(){return this._newParamName},t}(hi);t.RenameSharedParameterCommand=kf;df=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.execute=function(n){var t=n.getTestCaseParamDataInfo();t&&t.removeParameterMappings(this.getParamName())},t}(hi);t.DeleteSharedParameterCommand=df;gf=function(n){function t(t,i,r){var u=__construct(this,n,[i]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._newStepId=r,u._actionId=t,u}return __extends(t,n),t.prototype.execute=function(n){n.getTestCaseResult().insertStepResult(n.getIterationId(),this._actionId,this._parentId,this._newStepId)},t}(pi);t.InsertCommand=gf;ne=function(n){function t(t,i){var r=__construct(this,n,[i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._actionId=t,r}return __extends(t,n),t.prototype.execute=function(n){n.getTestCaseResult().removeStepResult(n.getIterationId(),this._actionId,this._parentId)},t}(pi);t.DeleteCommand=ne;te=function(n){function t(t,i,r){var u=__construct(this,n,[r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._index1=t,u._index2=i,u}return __extends(t,n),t.prototype.execute=function(n){n.getTestCaseResult().swapTestSteps(this._index1,this._index2,this._parentId,n.getIterationId())},t}(pi);t.MoveCommand=te;ie=function(n){function t(t,i){var r=__construct(this,n,[i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._actionId=t,r}return __extends(t,n),t.prototype.getActionId=function(){return this._actionId},t.prototype.equals=function(n){return n instanceof t&&this._actionId===n.getActionId()&&this._parentId===n.getParentId()?0:-1},t.prototype.execute=function(n){n.getTestCaseResult().handleStepChanged(this._actionId,this._parentId,n.getIterationId())},t}(pi);t.EditSharedStepCommand=ie;nr=function(){function n(n){this._commands=n?n:[]}return n.prototype.insert=function(n){this._commands.splice(this._commands.length,0,n)},n.prototype.execute=function(n){var t,i=this._commands.length;if(i===0)return!1;for(t=0;t<i;t++)this._commands[t].execute(n);return!0},n.prototype.clear=function(){ot.clear(this._commands)},n.prototype.getLength=function(){return this._commands.length},n.prototype.contains=function(n){return ot.contains(this._commands,n,function(n,t){return n.equals(t)})},n}();t.CommandQueue=nr;vt.initClassPrototype(nr,{commands:null});tr=function(){function n(){}return n}();t.CommandArgs=tr;re=function(n){function t(t,i){var r=__construct(this,n,[]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._testCaseResult=t,r._iterationId=i,r}return __extends(t,n),t.prototype.getTestCaseResult=function(){return this._testCaseResult},t.prototype.getIterationId=function(){return this._iterationId},t}(tr);t.InlineEditCommandArgs=re;lu=function(n){function t(t,i,r){var u=__construct(this,n,[]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._parametersData=t,u._conflictingParameters=r,u._testCaseParamDataInfo=i,u}return __extends(t,n),t.prototype.getParametersData=function(){return this._parametersData},t.prototype.getConflictingParameters=function(){return this._conflictingParameters},t.prototype.getTestCaseParameterDataInfo=function(){return this._testCaseParamDataInfo},t}(tr);t.SharedStepParameterCommandArgs=lu;au=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._testCaseParamDataInfo=t,i}return __extends(t,n),t.prototype.getTestCaseParamDataInfo=function(){return this._testCaseParamDataInfo},t}(tr);t.SharedParamDataSetCommandArgs=au,function(n){n.insertStep="insert-step";n.moveStepUp="move-step-up";n.moveStepDown="move-step-down";n.deleteStep="delete-step"}(io=t.InlineEditCommands||(t.InlineEditCommands={}));br=function(){function n(){this.actionResults=[];this.actionDeletes=[];this.parameters=[];this.parameterDeletes=[]}return n}();t.SubResults=br;vt.initClassPrototype(br,{actionResults:null,actionDeletes:null,parameters:null,parameterDeletes:null,testCaseResult:null});kr=function(){function n(n,t,i){this.testRunId=n;this.testResultId=t;this.localTestCaseResult=i;this.testCaseResult=i;this.actionResults=[];this.actionResultDeletes=[];this.parameters=[];this.parameterDeletes=[]}return n.toServerObject=function(n){return{testResultId:n.testResultId,testRunId:n.testRunId,testCaseResult:yi.toServerObject(n.testCaseResult),actionResults:n.actionResults,actionResultDeletes:n.actionResultDeletes,parameters:n.parameters,parameterDeletes:n.parameterDeletes}},n}();vt.initClassPrototype(kr,{testRunId:0,testResultId:0,localTestCaseResult:null,testCaseResult:null,actionResults:null,actionResultDeletes:null,parameters:null,parameterDeletes:null});ue=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._buildHttpClient=this.getConnection().getHttpClient(k.BuildHttpClient)},t.prototype.beginGetBuildArtifacts=function(n){return this._buildHttpClient||(this._buildHttpClient=this.tfsConnection.getHttpClient(k.BuildHttpClient)),this._buildHttpClient.getArtifacts(n,e.TfsContext.getDefault().navigation.project)},t}(s.TfsService);t.BuildManager=ue;fe=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._collectionHttpTcmClient=this.getConnection().getHttpClient(d.TestHttpClient);this._projectId=this.getTfsContext().contextData.project.id},t.prototype.beginGetCodeCoverageSummary=function(n){return this._collectionHttpTcmClient.getCodeCoverageSummary(this._projectId,n)},t.prototype.beginGetBuildCodeCoverage=function(n){return this._collectionHttpTcmClient.getBuildCodeCoverage(this._projectId,n,nt.CoverageQueryFlags.Modules)},t}(s.TfsService);t.CodeCoverageManager=fe;ee=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._collectionHttpTcmClient=this.getConnection().getHttpClient(d.TestHttpClient);this._projectId=this.getTfsContext().contextData.project.id},t.createLocalObject=function(n){for(var t=0,r=n.testCaseResults,u=[],i,f=n.testActionResults,t=0;t<r.length;t++)i=yi.createTestCaseResultObject(r[t],f),i.planId=n.testRun.testPlanId,u.push(i);return n.testCaseResults=u,n},t.prototype.getApiLocation=function(n){return this.getTfsContext().getActionUrl(n||"","testrun",{area:"api"})},t.prototype.create=function(n,i,r,u){var f=this._getTestCaseResultCreationRequestModels(i);n.testRunId=0;this._ajaxPost("Create",{runModel:ht.stringifyMSJSON(n),testResultCreationRequestModels:ht.stringifyMSJSON(f)},function(n){var u=t.createLocalObjectFromResponses(n,i);typeof r=="function"&&r(u)},u)},t.prototype.createRun2=function(n){return this._collectionHttpTcmClient.createTestRun(n,e.TfsContext.getDefault().navigation.project)},t.prototype.CreateTestRunForTestPoints=function(n,t,i,r,u){this._ajaxPost("CreateTestRunForTestPoints",{testPlanId:t,testPointIds:i},function(t){var i={testRun:t.testRun,testCaseResults:t.testResults,bugCategoryName:t.bugCategoryTypeName,testActionResults:null,testPointToResume:null};$.each(i.testCaseResults,function(i,r){r.planId=t.testRun.testPlanId;r.useTeamSettings=!!n});typeof r=="function"&&r(i)},u)},t.prototype.getTestRunForTestPoint=function(n,t,i,r){this._ajaxJson("GetTestRunForTestPoint",{testPlanId:n,testPointId:t},function(n){var t={testRun:n.testRun,testCaseResults:n.testResults,testActionResults:n.testActionResults,bugCategoryName:n.bugCategoryTypeName};typeof i=="function"&&i(t)},r)},t.prototype.getTestRun=function(n,t,i,r,u){this._ajaxJson("GetTestRun",{testRunId:n},function(n){var u,f,e;if(n&&n.testResults&&n.testResults.length>0&&i&&i.length>0)for(u=0;u<n.testResults.length;u++)for(f=0;f<i.length;f++)if(n.testResults[u]&&i[f]&&n.testResults[u].configurationId===i[f].configurationId){n.testResults[u].configurationName=i[f].configurationName;break}e={testRun:n.testRun,testCaseResults:n.testResults,testActionResults:n.testActionResults,testPointToResume:t};typeof r=="function"&&r(e)},u)},t.prototype.beginGetTestRunById=function(n){return this._collectionHttpTcmClient.getTestRunById(this._projectId,n)},t.prototype.getTestRunAttachments=function(n,t,i){this._ajaxJson("GetTestRunAttachments",{testRunId:n},function(n){typeof t=="function"&&t(n)},i)},t.prototype.getTestRunAttachments2=function(n){return this._collectionHttpTcmClient.getTestRunAttachments(this._projectId,n)},t.prototype.getTestRunAttachmentContent=function(n,t){return this._collectionHttpTcmClient.getTestRunAttachmentContent(this._projectId,n,t)},t.prototype.update=function(n,t,i){this._ajaxPost("Update",{runModel:ht.stringifyMSJSON(n)},t,i)},t.prototype.update2=function(n,t){return this._collectionHttpTcmClient.updateTestRun(n,e.TfsContext.getDefault().navigation.project,t)},t.prototype.abort=function(n,t,i,r){this._ajaxPost("Abort",{runModel:ht.stringifyMSJSON(n)},t,i,r)},t.prototype.end=function(n,t,i,r){if(!p.DesktopTestRunHelper.isRequestFromDtr()&&at.BrowserCheckUtils.isChrome()){var u=ht.stringifyMSJSON({runModel:ht.stringifyMSJSON(n)});fetch(this.getApiLocation("End"),{method:"POST",body:u,keepalive:!0,mode:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json, text/javascript, */*"}})}else this._ajaxPost("End",{runModel:ht.stringifyMSJSON(n)},t,i,r)},t.prototype._ajaxJson=function(n,t,i,u,f){r.getMSJSON(this.getApiLocation(n),t,i,u,f)},t.prototype._ajaxPost=function(n,t,i,u,f){r.postMSJSON(this.getApiLocation(n),t,i,u,f)},t.prototype._getTestCaseResultCreationRequestModels=function(n){for(var r=[],i=0,t,i=0;i<n.length;i++)t=n[i],r.push({testCaseId:t.testCaseId,configurationId:t.configurationId,configurationName:t.configurationName,testPointId:t.testPointId,owner:t.assignedTo});return r},t.createLocalObjectFromResponses=function(n,i){for(var r=0,f=n.testResultCreationResponseModels,e=[],o={},s,h,u,r=0;r<i.length;r++)s=i[r].testPointId,o[s]=i[r];for(r=0;r<f.length;r++)u=f[r],h=o[u.testPointId],e.push(t.createTestCaseResult(h,u,n.testRun.owner));return{testRun:n.testRun,testCaseResults:e,testActionResults:null,testPointToResume:null}},t.createTestCaseResult=function(n,t,i){var r=new yi;return r.id=t.id,r.testCaseId=n.testCaseId,r.configurationId=n.configurationId,r.configurationName=n.configurationName,r.testPointId=n.testPointId,r.owner=n.assignedTo,r.runBy=i,r.testCaseTitle=t.testCaseTitle,r.dataRowCount=t.dataRowCount,r.testCaseRevision=t.testCaseRevision,r.priority=t.priority,r},t}(s.TfsService);t.TestRunManager=ee;oe=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._collectionHttpTiaClient=this.getConnection().getHttpClient(g.TestHttpClient);this._projectId=this.getTfsContext().contextData.project.id},t.prototype.beginGetTIAEnabledInfo=function(n){return this._collectionHttpTiaClient.queryBuildType(this._projectId,n)},t}(s.TfsService);t.TestImpactManager=oe;se=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._testManagementHttpClient=this.getConnection().getHttpClient(a.TestManagementHttpClient);this._tcmHttpClient=w.LicenseAndFeatureFlagUtils.isDirectQueryFromTcmServiceEnabled()?this.getConnection().getHttpClient(l.TcmHttpClientWrapper):null;this._testResultsHttpClient=this.getConnection().getHttpClient(pt.TestResultsHttpClient);this._projectId=this.getTfsContext().contextData.project.id},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f,e){var o=this;this._testManagementHttpClient.createTestIterationResultAttachment(n,this._projectId,t,i,r,u).then(function(n){f.call(o,n)},function(n){return e(n)})},t.prototype.createTestRunAttachments=function(n,t){var r=this,u=[];return n.forEach(function(n){u.push(r._testManagementHttpClient.createTestRunAttachment(n,r._projectId,t))}),i.all(u)},t.prototype.createTestResultAttachment=function(n,t,r){var u=this,f=[];return n.forEach(function(n){f.push(u._testManagementHttpClient.createTestResultAttachment(n,u._projectId,t,r))}),i.all(f)},t.prototype.getTestResultAttachments=function(n,t,i,r){this._ajaxJson("GetTestResultAttachments",{testRunId:n,testResultId:t},function(n){typeof i=="function"&&i(n)},r)},t.prototype.getTestResultAttachments2=function(n,t){return this._tcmHttpClient?this._tcmHttpClient.getTestResultAttachments(this._projectId,n,t):this._testManagementHttpClient.getTestResultAttachments(this._projectId,n,t)},t.prototype.getTestResultAttachmentContent=function(n,t,i){return this._tcmHttpClient?this._tcmHttpClient.getTestResultAttachmentContent(this._projectId,n,t,i):this._testManagementHttpClient.getTestResultAttachmentContent(this._projectId,n,t,i)},t.prototype.getTestSubResultsAttachments=function(n,t,i){return this._tcmHttpClient?this._tcmHttpClient.getTestSubResultAttachments(this._projectId,n,t,i):this._testManagementHttpClient.getTestSubResultAttachments(this._projectId,n,t,i)},t.prototype.getTestSubResultsAttachmentContent=function(n,t,i,r){return this._tcmHttpClient?this._tcmHttpClient.getTestSubResultAttachmentContent(this._projectId,n,t,i,r):this._testManagementHttpClient.getTestSubResultAttachmentContent(this._projectId,n,t,i,r)},t.prototype.isAttachmentPreviewable=function(n){var t=lt.empty,i;return n.indexOf(".")!==-1&&(t=n.substring(n.lastIndexOf("."))),i=[".txt",".log"],i.indexOf(t.toLowerCase())>-1},t.prototype.getApiLocation=function(n,t){return this.getTfsContext().getActionUrl(n||"","testresult",$.extend({area:"api"},t))},t.prototype.getPublicApiLocation=function(n,t){return this.getTfsContext().getPublicActionUrl(n||"","testresult",$.extend({area:"api"},t))},t.prototype.update=function(n,t,i,r){for(var o=0,e,s=[],f,u,o=0;o<n.length;o++)e=n[o],u=new kr(e.id.testRunId,e.id.testResultId,e),f=new br,e.preSave(f),f.testCaseResult&&(u.testCaseResult=u.localTestCaseResult,u.actionResults=f.actionResults,u.actionResultDeletes=f.actionDeletes,u.parameters=f.parameters,u.parameterDeletes=f.parameterDeletes),s.push(kr.toServerObject(u));this._ajaxPost("Update",{updateRequests:ht.stringifyMSJSON(s)},function(r){for(var u=0,e=!1,f,u=0;u<n.length;u++)f=r[u],f.revision!==-1?n[u].postSaveResult(f):e=!0;e?typeof i=="function"&&i(c.TestResultUpdateConflict):typeof t=="function"&&t()},i,r)},t.prototype.associateWorkItems=function(n,t,i,r){var u=this._getWorkItemUris(t);this._ajaxPost("AssociateWorkItems",{testResultIdentifiers:ht.stringifyMSJSON(n),workItemUris:ht.stringifyMSJSON(u)},i,r)},t.prototype.deleteAttachment=function(n,t,i,r,u){this._ajaxPost("DeleteAttachment",{attachmentId:n,testRunId:t,testResultId:i},r,u)},t.prototype.getTestCaseResults=function(n,t,i,r){this._ajaxPost("GetTestCaseResults",{testRunId:n,testCaseResultIds:t},i,r)},t.prototype.getTestResultsByBuildWithContinuationToken=function(n,t,i,r){return this._testManagementHttpClient.getTestResultsByBuildWithContinuationToken(e.TfsContext.getDefault().navigation.project,n,t,i,r)},t.prototype.getTestResultsByReleaseWithContinuationToken=function(n,t,i,r,u){return this._testManagementHttpClient.getTestResultsByReleaseWithContinuationToken(e.TfsContext.getDefault().navigation.project,n,t,i,r,u)},t.prototype.getResultGroupsByReleaseWithContinuationToken=function(n,t,i,r,u){return this._testManagementHttpClient.getResultGroupsByReleaseWithContinuationToken(e.TfsContext.getDefault().navigation.project,n,t,i,r,u)},t.prototype.getResultGroupsByBuildWithContinuationToken=function(n,t,i,r){return this._testManagementHttpClient.getResultGroupsByBuildWithContinuationToken(e.TfsContext.getDefault().navigation.project,n,t,i,r)},t.prototype.beginGetTestCaseResultById=function(n,t,i){return i===void 0&&(i=nt.ResultDetails.None),this._testManagementHttpClient.getTestResultById(this._projectId,n,t,i)},t.prototype.getTestCaseResultForTestCaseId=function(n,t,i){this._ajaxJson("GetTestCaseResultForTestCaseId",{testCaseId:n},t,i)},t.prototype.beginGetTestReportForBuild=function(n,t,i,r,u){return this._testManagementHttpClient.queryTestResultsReportForBuild(t,n.id,i,r,u)},t.prototype.getTestResolutionStates=function(n,t){tu(this,this,"_resolutionStates",n,t,function(n,t){this._ajaxJson("GetTestResolutionStates",{},function(t){n(t)},t)})},t.prototype.getTestFailureStates=function(n,t){tu(this,this,"_failureTypes",n,t,function(n,t){this._ajaxJson("GetTestFailureTypes",{},function(t){n(t)},t)})},t.prototype._publishFailureTypeTelemetry=function(n,t,i){ur.publishEvents(n,{Outcome:t,error:i})},t.prototype.getTestResultFailureTypeStates=function(n,t){try{tu(this,this,"_failureTypes",n,t,function(n){var t=this;this._testResultsHttpClient.getFailureTypes(this.getTfsContext().contextData.project.name).then(function(i){t._publishFailureTypeTelemetry(ur.featureFetchFailureTypesFromTcmOnWeb,"Successful");n(i)}).catch(function(n){t._publishFailureTypeTelemetry(ur.featureFetchFailureTypesFromTcmOnWeb,"Failed",vt.getErrorMessage(n));throw n;})})}catch(i){t&&(this._publishFailureTypeTelemetry(ur.featureFetchFailureTypesFromTcmOnWeb,"Failed",vt.getErrorMessage(Error)),t(i));throw i;}},t.prototype._ajaxJson=function(n,t,i,u){r.getMSJSON(this.getApiLocation(n),t,i,u)},t.prototype._ajaxPost=function(n,t,i,u,f){r.postMSJSON(this.getApiLocation(n,f),t,i,u,f)},t.prototype._getWorkItemUris=function(n){for(var i=[],r,t=0;t<n.length;t++)r=nu.encodeUri({tool:rt.ToolNames.WorkItemTracking,type:rt.ArtifactTypeNames.WorkItem,id:n[t].toString()}),i.push(r);return i},t}(s.TfsService);t.TestResultManager=se;he=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._collectionHttpTcmClient=this.getConnection().getHttpClient(d.TestHttpClient5);this._testManagementHttpClient=this.getConnection().getHttpClient(a.TestManagementHttpClient);this._projectId=this.getTfsContext().contextData.project.id},t.prototype.beginGetTestConfigurations=function(){return this._testManagementHttpClient.getTestConfigurations(this.getTfsContext().contextData.project.name)},t.prototype.beginGetTestConfigurationById=function(n){return this._collectionHttpTcmClient.getTestConfigurationById(this.getTfsContext().contextData.project.name,n)},t.prototype.beginCreateTestConfiguration=function(n){return this._collectionHttpTcmClient.createTestConfiguration(n,this.getTfsContext().contextData.project.name)},t.prototype.beginDeleteTestConfiguration=function(n){return this._collectionHttpTcmClient.deleteTestConfiguration(this.getTfsContext().contextData.project.name,n)},t.prototype.beginUpdateTestConfiguration=function(n,t){return this._collectionHttpTcmClient.updateTestConfiguration(n,this.getTfsContext().contextData.project.name,t)},t.prototype.beginDeleteTestVariable=function(n){return this._collectionHttpTcmClient.deleteTestVariable(this.getTfsContext().contextData.project.name,n)},t.prototype.beginUpdateTestVariable=function(n,t){return this._collectionHttpTcmClient.updateTestVariable(n,this.getTfsContext().contextData.project.name,t)},t.prototype.beginGetTestVariables=function(){return this._collectionHttpTcmClient.getTestVariables(this.getTfsContext().contextData.project.name)},t.prototype.beginGetTestVariableById=function(n){return this._collectionHttpTcmClient.getTestVariableById(this.getTfsContext().contextData.project.name,n)},t.prototype.beginCreateTestVariable=function(n){return this._collectionHttpTcmClient.createTestVariable(n,this.getTfsContext().contextData.project.name)},t}(s.TfsService);t.TestConfigurationManager=he;ce=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._collectionHttpTcmClient=this.getConnection().getHttpClient(d.TestHttpClient);this._teamContext={project:this.getTfsContext().contextData.project.name,team:this.getTfsContext().contextData.team?this.getTfsContext().contextData.team.name:lt.empty,projectId:null,teamId:null}},t.prototype.getTestSessions=function(n,t,i,r){return this._collectionHttpTcmClient.getTestSessions(this.getTeamContext(n),t,i,r)},t.prototype.createTestSession=function(n){return this._collectionHttpTcmClient.createTestSession(n,this._teamContext)},t.prototype.getTeamContext=function(n){return{project:this.getTfsContext().contextData.project.name,team:n,projectId:null,teamId:null}},t}(s.TfsService);t.TestSessionManager=ce;le=function(){function n(n,t,i,r){r===void 0&&(r=it.BugsBehavior.Off);var u;for(this._defaultIteration=n,this._defaultArea=t,this._teamAreas=[],this._bugsBehavior=r,u=0;u<i.length;u++)this._teamAreas[u]=i[u]}return n.prototype.getDefaultIteration=function(){return this._defaultIteration},n.prototype.getDefaultArea=function(){return this._defaultArea},n.prototype.getAreas=function(){return this._teamAreas},n.prototype.getBugsBehavior=function(){return this._bugsBehavior},n}();t.TeamSettingsData=le;ae=function(){function n(n,t){this._startDate=n;this._endDate=t}return n.prototype.getStartDate=function(){return this._startDate},n.prototype.getEndDate=function(){return this._endDate},n}();t.IterationDates=ae,function(n){n[n.None=0]="None";n[n.String=1]="String";n[n.Int=2]="Int";n[n.Double=3]="Double"}(ro=t.TCParameterType||(t.TCParameterType={}));dr=function(){function n(n,t){this.localParamName=n;this.paramType=t}return n.prototype.renameParameter=function(n){this.localParamName=n},n}();t.TestCaseParameterDefinitionBase=dr;ve=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(dr);t.LocalParameterDefinition=ve;ir=function(n){function t(t,i,r,u){var f=__construct(this,n,[t,u]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.sharedParameterName=i,f.sharedParameterDataSetId=r,f}return __extends(t,n),t.prototype.setParamMapping=function(n){this.sharedParameterName=n},t}(dr);t.SharedParameterDefinition=ir;gr=function(){function n(){}return n}();t.TestCaseParameterValue=gr;ye=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.rowId=t,i}return __extends(t,n),t}(gr);t.TestCaseSharedParameterValue=ye;pe=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.value=t,i}return __extends(t,n),t}(gr);t.TestCaseLocalParameterValue=pe;we=function(){function n(n){this.parameterValues=n}return n}();t.TestCaseParameterDataRow=we,function(n){n[n.MapAllRows=0]="MapAllRows";n[n.MapSelectiveRows=1]="MapSelectiveRows"}(be=t.SharedParameterRowsMappingType||(t.SharedParameterRowsMappingType={}));ke=function(){function n(n,t,i,r){this.parameterMap=n;this.sharedParameterDataSetIds=t;this.parameterDataRows=r;this.rowMappingType=i}return n.parseTestCaseParametersData=function(t){var i,f=null,u,r,e,o=[];try{for(i=null,t&&(i=JSON.parse(t)),u=i.parameterMap,e=u.length,r=0;r<e;r++)o.push(new ir(u[r].localParamName,u[r].sharedParameterName,u[r].sharedParameterDataSetId));f=new n(o,i.sharedParameterDataSetIds,i.rowMappingType,i.parameterDataRows)}catch(s){return null}return f},n.prototype.getJSON=function(){return JSON.stringify(this)},n.prototype.isMappingAllRows=function(){return this.rowMappingType===be.MapAllRows?!0:!1},n.prototype.setParameterMapping=function(n,t){var i=this.getParamDefinition(n);i?i.setParamMapping(t):this.parameterMap.push(new ir(n,t,this.getSharedParameterIdUsedByTestCase()))},n.prototype.autoMapIfParamNotExistsAlready=function(n){var t=this.getParamDefinition(n);t||this.parameterMap.push(new ir(n,n,this.getSharedParameterIdUsedByTestCase()))},n.prototype.autoMapForParamWithoutMapping=function(n){var t=this.getParamDefinition(n);t&&t.sharedParameterName===""&&(t.sharedParameterName=n)},n.prototype.changeParameterMappings=function(n,t){var i,r,u=this.parameterMap.length;if(n)for(i=0;i<u;i++)r=this.parameterMap[i],lt.localeIgnoreCaseComparer(n,r.sharedParameterName)===0&&(r.sharedParameterName=t)},n.prototype.removeParameterMappings=function(n){for(var i,r=this.parameterMap.length,t=0;t<r;t++)i=this.parameterMap[t],lt.localeIgnoreCaseComparer(n,i.sharedParameterName)===0&&(this.parameterMap.splice(t,1),t--,r--)},n.prototype.renameParameter=function(n,t,i){var r=this.getParamDefinition(n);r&&!i?(r.renameParameter(t),r.sharedParameterName===""&&this.setParameterMapping(t,t)):this.autoMapIfParamNotExistsAlready(t)},n.prototype.deleteParameter=function(n){for(var i=this.parameterMap.length,t=0;t<i;t++)if(lt.localeIgnoreCaseComparer(n,this.parameterMap[t].localParamName)===0){this.parameterMap.splice(t,1);return}},n.prototype.getParamDefinition=function(n){for(var i=this.parameterMap.length,t=0;t<i;t++)if(lt.localeIgnoreCaseComparer(n,this.parameterMap[t].localParamName)===0)return this.parameterMap[t]},n.prototype.getSharedParameterIdUsedByTestCase=function(){if(this.sharedParameterDataSetIds&&this.sharedParameterDataSetIds.length>0)return this.sharedParameterDataSetIds[0]},n.prototype.getParameterNameMappings=function(){for(var t={},i=this.parameterMap.length,n=0;n<i;n++)t[this.parameterMap[n].localParamName]=this.parameterMap[n].sharedParameterName;return t},n}();t.TestCaseParameterDataInfo=ke;rr=function(){function n(){}return n.swap=function(n,t,i){if(t>=0&&t<n.length&&i>=0&&i<n.length&&t!==i){var r=n[t],u=n[i];n[t]=u;n[i]=r}},n}();t.ArrayUtils=rr;de=function(){function n(){}return n.FilterByTester="filterByTester",n}();t.TestViewActions=de;vt.tfsModuleLoaded("TFS.TestManagement",t)});

define("Presentation/Scripts/TFS/TFS.UI.Controls.Grid.DataAdapters",["require","exports","VSS/Diag","VSS/Events/Handlers","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/UI","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e,o,s){var h,l;Object.defineProperty(t,"__esModule",{value:!0});t.ChecklistDataAdapter=t.HierarchicalGridDataAdapter=t.FieldDataProvider=void 0;var v=e.domElem,c=f.delegate,a=function(){function n(n,t){this._nodes=n;this._options=$.extend({allowEmpty:!1,sort:null},t);this._isTree=n.length>0&&typeof n[0]=="object";this._events=new r.NamedEventCollection;this._isTree&&this._sortChildren({children:this._nodes},!0);this._populateNodeMappings()}return n.prototype.reparentNode=function(n,t){this.removeNode(n.id);this.addNode(n,t)},n.prototype.isValidValue=function(n){return n===""&&this._options.allowEmpty?!0:this._nodes.length===0?n!=="":(n=this._cleanupPath(n),this._pathToNodeMap.hasOwnProperty(n))},n.prototype.isTree=function(){return this._isTree},n.prototype.getNodes=function(){return this._nodes},n.prototype.getNode=function(n){return n=this._cleanupPath(n),this._pathToNodeMap[n]||null},n.prototype.getNodeFromId=function(n){return this._idToNodeMap[n]||null},n.prototype.updateNode=function(n){var t=this.getNodeFromId(n.id);return typeof t=="undefined"?null:t.parentId!==n.parentId?null:(t.text!==n.text&&(this._clearCache(t),t.text=n.text,this._addNode(t.parent,t)),t.values=n.values.slice(0),t.parent&&this._sortChildren(t.parent),this._raiseUpdateItem({node:t}),t)},n.prototype.getRootNode=function(){var n=this.getNodes(),t=null;return n&&n.length>0&&(t=n[0]),t},n.prototype.getPreviousSiblingNode=function(n){var t,f,e=null,r=this.getNodeFromId(n),u;if(r)for(u=r.parent?r.parent.children:this._nodes,t=0,f=u.length;t<f;t+=1){if(u[t]===r)break;e=u[t]}return e},n.prototype.removeNode=function(n){var t=this.getNodeFromId(n),r;return t&&(r=this._getChildrenCount(t)+1,t.parent&&t.parent.children&&(t.parent.children=u.subtract(t.parent.children,[t])),this._clearCache(t),this._raiseRemovedItem({node:t,parent:t.parent,treeSize:r})),t},n.prototype.addNode=function(n,t){var r=t.children;return this.getNodeFromId(n.id)?null:this.getNodeFromId(t.id)?(r.push(n),n.parentId=t.id,this._sortChildren(t,!1),this._sortChildren(n,!0),this._addNode(t,n),this._raiseNewItem({node:n,parent:t}),n):null},n.prototype.cloneSource=function(){return[h.cloneNode(this.getRootNode())]},n.prototype.attachNewItem=function(t){this._events.subscribe(n.EVENT_NEW_ITEM,t)},n.prototype.detachNewItem=function(t){this._events.unsubscribe(n.EVENT_NEW_ITEM,t)},n.prototype.attachRemovedItem=function(t){this._events.subscribe(n.EVENT_REMOVED_ITEM,t)},n.prototype.detachRemovedItem=function(t){this._events.unsubscribe(n.EVENT_REMOVED_ITEM,t)},n.prototype.attachUpdateItem=function(t){this._events.subscribe(n.EVENT_UPDATE_ITEM,t)},n.prototype.detachUpdateItem=function(t){this._events.unsubscribe(n.EVENT_UPDATE_ITEM,t)},n.prototype._populateNodeMappings=function(){var n,i,t=this._nodes;if(this._pathToNodeMap={},this._idToNodeMap={},this._isTree)for(n=0,i=t.length;n<i;n+=1)this._addNode(null,t[n]);else for(n=0,i=t.length;n<i;n+=1)this._pathToNodeMap[t[n]]=t[n]},n.prototype._sortChildren=function(n,t,r){var u=n.children||[],f=u.length;if(r=r||this._options.sort,typeof r=="function"&&(u.sort(r),t))while(f>0)f-=1,this._sortChildren(u[f],!0,r)},n.prototype._addNode=function(t,r){var u,f,e=(t===null?"":t.path+n.TREE_PATH_SEPERATER_CHAR)+r.text;if(r.path=e,t,r.parent=t,this._pathToNodeMap[e]=r,this._idToNodeMap[r.id]=r,r.children)for(u=0,f=r.children.length;u<f;u+=1)this._addNode(r,r.children[u])},n.prototype._clearCache=function(n){var t,i;if(n&&(delete this._pathToNodeMap[n.path],delete this._idToNodeMap[n.id],n.children))for(t=0,i=n.children.length;t<i;t+=1)this._clearCache(n.children[t])},n.prototype._cleanupPath=function(t){var r=t;return r.length>0&&this.isTree()&&r.charAt(r.length-1)===n.TREE_PATH_SEPERATER_CHAR&&(r=r.substr(0,r.length-1)),r},n.prototype._getChildrenCount=function(n){var t,u,r=0;if(Array.isArray(n.children))for(r=n.children.length,t=0,u=r;t<u;t+=1)r+=this._getChildrenCount(n.children[t]);return r},n.prototype._raiseNewItem=function(t){this._events.invokeHandlers(n.EVENT_NEW_ITEM,this,t)},n.prototype._raiseRemovedItem=function(t){this._events.invokeHandlers(n.EVENT_REMOVED_ITEM,this,t)},n.prototype._raiseUpdateItem=function(t){this._events.invokeHandlers(n.EVENT_UPDATE_ITEM,this,t)},n.TREE_PATH_SEPERATER_CHAR="\\",n.EVENT_NEW_ITEM="new-item-event",n.EVENT_REMOVED_ITEM="removed-item-event",n.EVENT_UPDATE_ITEM="updated-item-event",n}();t.FieldDataProvider=a;s.initClassPrototype(a,{_events:null,_nodes:null,_idToNodeMap:null,_pathToNodeMap:null,_isTree:!1,_options:null});h=function(){function n(n,t,r){this._grid=t;this._options=$.extend({},r);this.dataProvider=n;this.dataProvider.attachNewItem(c(this,function(n,t){this._addNewItem(t.node,t.parent)}));this.dataProvider.attachRemovedItem(c(this,function(n,t){this._removeItem(t.node,t.parent,t.treeSize)}));this.dataProvider.attachUpdateItem(c(this,function(n,t){this._updateItem(t.node)}))}return n.bindAdapter=function(n,t,r,u){var f,o,e,s=new n(t,r,u);for(e=r._options.columns,f=0,o=e.length;f<o;f++)delete e[f].index;return s.refresh(),s},n.cloneNode=function(t){var r=$.extend({},t),i,u;for(r.children=[],delete r.parent,i=0,u=t.children.length;i<u;i+=1)r.children[i]=n.cloneNode(t.children[i]);return r},n.prototype.getGrid=function(){return this._grid},n.prototype.refresh=function(n){var u=this.dataProvider.getNodes(),t=[],i=this._grid.getExpandStates(),r=[];i&&(t=i.slice(0));this._flattenedItems=[];this._createDataSource(u,this._flattenedItems,r,1);n||(this._expandStates=r,this._expandStates&&this._expandStates.length===t.length&&(this._expandStates=t),this._grid.setDataSource(this._flattenedItems,this._expandStates,this._grid._options.columns))},n.prototype.getNodeForDataIndex=function(t){var r=this._flattenedItems[t];return r?this.dataProvider.getNodeFromId(r[n._ITEM_ID_DATA_SOURCE_INDEX]):null},n.prototype.getParentNodeIndexForDataIndex=function(n){if(!n)return-1;var t=this.getNodeForDataIndex(n),r=-1;return t&&(r=this.getDataIndexFromNode(t.parent)),r},n.prototype.getDataIndexFromNode=function(n){return n.dataIndex},n.prototype.getMaxExpandLevel=function(){return this._grid._indentLevels.reduce(function(n,t){return Math.max(n,t)},1)-1},n.prototype.cloneSource=function(){return[n.cloneNode(this.fieldDataHelper.getNodes()[0])]},n.prototype._createDataSource=function(n,t,i,r){this._populateDataSource(n,t,i,r)},n.prototype._constructRow=function(t){var i=[].concat(t.values);return i[n._ITEM_ID_DATA_SOURCE_INDEX]=t.id,i},n.prototype._populateDataSource=function(n,t,i,r){for(var f,e=n.length,u=0,o=n.length;u<o;u+=1)f=t.length,n[u].dataIndex=f,t[f]=this._constructRow(n[u]),i[f]=0,typeof n[u].children!="undefined"&&(i[f]=this._populateDataSource(n[u].children,t,i,r+1),e+=i[f]);return e},n.prototype._addNewItem=function(n,t){this.refresh(!0);var i=this.getDataIndexFromNode(n),r=this.getDataIndexFromNode(t);i===0?this._expandStates.splice(this._expandStates.length,0,0):this._expandStates.splice(i,0,0);this._updateExpandStates(r,1)},n.prototype._removeItem=function(n,t,r){var u=this.getDataIndexFromNode(n),f=this.getDataIndexFromNode(t);this._expandStates.splice(u,r);this._updateExpandStates(f,-r);this.refresh(!0)},n.prototype._updateItem=function(n){var r=this.getDataIndexFromNode(n),t;this.refresh(!0);t=this.getDataIndexFromNode(n);this._moveExpandStatesForNode(r,t)},n.prototype._updateExpandStates=function(n,t){var r=n,u=this._expandStates;if(r>=0)do u[r]<0?u[r]-=t:u[r]+=t,r=this.getParentNodeIndexForDataIndex(r);while(r>=0)},n.prototype._moveExpandStatesForNode=function(n,t){var f=Math.abs(this._expandStates[n])+1,r,i,u;for(r=this._expandStates.splice(n,f),u=r.length,i=u-1;i>=0;i-=1)this._expandStates.splice(t,0,r[i])},n._ITEM_ID_DATA_SOURCE_INDEX=-1,n}();t.HierarchicalGridDataAdapter=h;s.initClassPrototype(h,{_flattenedItems:null,_grid:null,_expandStates:[],_options:{},_expandStatesManager:null,dataProvider:null,fieldDataHelper:null});l=function(n){function t(u,f,o){var s=__construct(this,n,[u,f]);for(var c in s)s.hasOwnProperty(c)&&(this[c]=s[c]);s._events=new r.NamedEventCollection;s._checkboxRangeRootId=o.rootNodeId||null;s._noCheckboxes=o.noCheckboxes;s._allEnabled=o.allEnabled===undefined?!0:o.allEnabled;var h=s,l=f._options.columns,a={canSortBy:!1,text:"",width:30,fixed:!0,name:t.CHECK_COLUMN_NAME,getCellContents:function(n,t,i,r,u){return h._createCheckboxCell(t,u)}};return o.noColumn||(l.splice(t._CHECKBOX_COLUMN_INDEX,0,a),f.getElement().keyup(function(n){var i,r,t;n.keyCode===e.KeyCode.SPACE&&(i=h._grid.getSelectedDataIndex(),t=h._findCheckbox(i),t.length!==1||t.attr("disabled")||(r=!t.prop("checked"),t.prop("checked",r),h._setCheckedState(t,i,r)))})),s._disabledTooltip=o.disabledTooltip||"",s._disableChildren=o.disableChildren&&typeof o.disableChildren=="function"?o.disableChildren:function(){return!0},s._onBeforeCheckChanged=o.onBeforeCheckChanged,s.initialize(o.checkedItemIds||[]),s}return __extends(t,n),t.prototype.initialize=function(n){var i,t,r;for(i={},t=0,r=n.length;t<r;t+=1)i[n[t]]=n[t];this._checkedItems=i;this._blockedCheckIds={}},t.prototype.hasCheckBox=function(n){return n>=this._checkboxRangeBegin&&n<=this._checkboxRangeEnd},t.prototype.updateCheckboxesRange=function(n){var t,r,u;this._checkboxRangeRootId?(t=this.dataProvider.getNodeFromId(this._checkboxRangeRootId),t&&(u=this.getDataIndexFromNode(t),r=Math.abs(n[u]),r>0?(this._checkboxRangeBegin=t.dataIndex+1,this._checkboxRangeEnd=t.dataIndex+r):(this._checkboxRangeBegin=-1,this._checkboxRangeEnd=-1))):this._noCheckboxes?(this._checkboxRangeBegin=-1,this._checkboxRangeEnd=-1):(this._checkboxRangeBegin=0,this._checkboxRangeEnd=this._flattenedItems.length-1)},t.prototype.getCheckboxRangeBegin=function(){return this._checkboxRangeBegin},t.prototype.getCheckboxRangeEnd=function(){return this._checkboxRangeEnd},t.prototype.isLeafNode=function(n){return this._expandStates[n.dataIndex]===0},t.prototype.blockCheck=function(n){this._blockedCheckIds[n]=!0;this._grid.updateRow(undefined,this._getDataIndexFromId(n))},t.prototype.unblockCheck=function(n){this._blockedCheckIds.hasOwnProperty(n)&&(delete this._blockedCheckIds[n],this._grid.updateRow(undefined,this._getDataIndexFromId(n)))},t.prototype.setCheckboxRangeRoot=function(n){this._checkboxRangeRootId=n;this.refresh()},t.prototype.getCheckboxRangeRoot=function(){return this._checkboxRangeRootId},t.prototype.attachCheckedItemsChanged=function(n){this._events.subscribe(t._CHECK_CHANGED,n)},t.prototype.detachCheckedItemsChanged=function(n){this._events.unsubscribe(t._CHECK_CHANGED,n)},t.prototype._createDataSource=function(i,r,u,f){var e,a,s=[],o,v,c=t._CHECKBOX_COLUMN_INDEX,l=h._ITEM_ID_DATA_SOURCE_INDEX,y;for(n.prototype._createDataSource.call(this,i,r,u,f),o=this._flattenedItems,this.updateCheckboxesRange(u),e=0,a=u.length;e<a;e++)if(this.hasCheckBox(e)){if(v=Math.abs(u[e]),s[e]=!0,this._disableChildren(o[e][l])&&o[e][c])for(y=e;e<y+v;)s[++e]=!1,o[e][c]=!1,delete this._checkedItems[o[e][l]]}else delete this._checkedItems[o[e][l]],o[e][c]=!1;this._itemStates=s},t.prototype.setItemState=function(n,t){t?this._checkedItems[n]=n:delete this._checkedItems[n]},t.prototype.getItemChecked=function(n){return this._grid.getColumnValue(n,t._CHECKBOX_COLUMN_INDEX)},t.prototype.setItemTitle=function(n,t){var r=this._getDataIndexFromId(n),u=this._findCheckbox(r);u.attr("title",t)},t.prototype.resetItemTitle=function(n){var t=this._getDataIndexFromId(n),r=this._findCheckbox(t);this._setCheckboxDefaultTitle(r)},t.prototype.getCheckedItemIds=function(){var n,f,e=[],c=t._CHECKBOX_COLUMN_INDEX,o=h._ITEM_ID_DATA_SOURCE_INDEX,i,r=this._flattenedItems,s=this._itemStates,u;for(i={},n=0,f=s.length;n<f;n++)s[n]&&r[n][c]&&(i[r[n][o]]=r[n][o]);this._checkedItems=i;for(u in i)i.hasOwnProperty(u)&&e.push(i[u]);return e},t.prototype.setCheckboxStateData=function(n,r){var u,o=Math.abs(this._expandStates[n]),f=this._grid._dataSource,e=f[n][h._ITEM_ID_DATA_SOURCE_INDEX];if(f[n][t._CHECKBOX_COLUMN_INDEX]=r,this._disableChildren(e))for(u=n+1;u<=n+o;u++)f[u][t._CHECKBOX_COLUMN_INDEX]=!1,this.setItemState(f[u][h._ITEM_ID_DATA_SOURCE_INDEX],!1),this._itemStates[u]=!r,this._grid.updateRow(undefined,u);this.setItemState(e,r);this._grid.updateRow(undefined,n)},t.prototype.setCheckboxRangeStateData=function(n,t,i){for(var r=n;r<=t;r++)this.setCheckboxStateData(r,i)},t.prototype.getCheckboxState=function(n){var r=this._grid._dataSource;return n>=0?r[n][t._CHECKBOX_COLUMN_INDEX]:!1},t.prototype.getItemEnabled=function(n){return this._allEnabled&&this._itemStates[n]&&!this._blockedCheckIds[this._getIdFromDataIndex(n)]},t.prototype.getBranchCheckedState=function(){var i=!0,e=this._grid._dataSource,u=this.dataProvider.getRootNode(),n=[],r,f;if(u&&(n=u.children),n&&n.length!==0)for(r=0,f=n.length;r<f&&i;r+=1)i=e[n[r].dataIndex][t._CHECKBOX_COLUMN_INDEX];else i=!1;return i},t.prototype._constructRow=function(r){var u=n.prototype._constructRow.call(this,r),f=this._checkedItems.hasOwnProperty(r.id);return u.splice(t._CHECKBOX_COLUMN_INDEX,0,f),u},t.prototype._getCheckboxCellId=function(n){var t=this._grid.getId()||"";return o.format("checkbox-{0}-{1}",t,n)},t.prototype._findCheckbox=function(n){var r=this._getCheckboxCellId(n),t=$("#"+r);return t},t.prototype._createCheckboxCell=function(n,r){var u,e=this._getCheckboxCellId(n),f,s,h,l;return u=$(v("div","grid-cell")),u.width(r.width||20),this.hasCheckBox(n)&&(h=this.getItemEnabled(n),l=this.getItemChecked(n),s=$("<label class='hidden' for='"+e+"'/>").text(this._grid.getColumnValue(n,t._LABEL_COLUMN_INDEX)),u.append(s),f=$("<input type='checkbox' tabindex='-1' id='"+e+"'>").data("checkboxDataIndex",n).prop("checked",l).prop("disabled",!h),this._setCheckboxDefaultTitle(f),f.click(c(this,this._onCheckboxClicked)),u.append(f)),u},t.prototype._onCheckboxClicked=function(n){i.logTracePoint("TFS.UI.Controls.Data.ChecklistDataAdapter._onCheckboxClicked.start");var t=$(n.currentTarget),r,u;r=t.data("checkboxDataIndex");u=t.is(":checked");this._setCheckedState(t,r,u)},t.prototype._setCheckedState=function(n,t,i){var r=!0;typeof this._onBeforeCheckChanged=="function"&&(r=this._onBeforeCheckChanged(t,i));r?(this.setCheckboxStateData(t,i),this._raiseCheckedItemsChanged({id:this._getIdFromDataIndex(t)})):n.prop("checked",!i)},t.prototype._raiseCheckedItemsChanged=function(n){this._events.invokeHandlers(t._CHECK_CHANGED,this,n)},t.prototype._setCheckboxDefaultTitle=function(n){n.attr("title",n.attr("disabled")?this._disabledTooltip:"")},t.prototype._getIdFromDataIndex=function(n){return this._flattenedItems[n][h._ITEM_ID_DATA_SOURCE_INDEX]},t.prototype._getDataIndexFromId=function(n){var t=this.dataProvider.getNodeFromId(n);return t?t.dataIndex:undefined},t._CHECKBOX_COLUMN_INDEX=0,t._LABEL_COLUMN_INDEX=1,t._CHECK_CHANGED="checked-items-changed",t.CHECK_COLUMN_NAME="checks-column",t}(h);t.ChecklistDataAdapter=l;s.initClassPrototype(l,{_checkedItems:null,_itemStates:null,_events:null,_disabledTooltip:null,_checkboxRangeRootId:null,_checkboxRangeBegin:null,_checkboxRangeEnd:null,_allEnabled:!0,_blockedCheckIds:null,_disableChildren:null,_noCheckboxes:null});s.tfsModuleLoaded("VSS.UI.Controls.Data",t)});

define("Agile/Scripts/Admin/AreaIterations.DataModels",["require","exports","VSS/VSS","VSS/Utils/Core","VSS/Utils/String","VSS/Diag","Presentation/Scripts/TFS/TFS.Legacy.Ajax","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.UI.Controls.Grid.DataAdapters"],function(n,t,i,r,u,f,e,o,s){var h,l,c;Object.defineProperty(t,"__esModule",{value:!0});t.CssNode=t.ClassificationMode=t.StructureType=void 0,function(n){n.Iterations="ProjectLifecycle";n.Areas="ProjectModelHierarchy"}(h=t.StructureType||(t.StructureType={}));l=function(){function n(){}return n.MODE_ITERATIONS=1,n.MODE_AREAS=2,n}();t.ClassificationMode=l;c=function(){function n(t,i){this.node=t;this.dataAdapter=i;t!=null&&(t.id===n.EmptyGuidString&&(t.id=null),t.parentId===n.EmptyGuidString&&(t.parentId=null))}return n.create=function(t,i){return new n(t,i)},n.compare=function(t,i){var r=0;return t.values&&t.values.length>1&&(r=(t.values[n.START_DATE_DATA_INDEX]||Number.MAX_VALUE)-(i.values[n.START_DATE_DATA_INDEX]||Number.MAX_VALUE),r===0&&(r=(t.values[n.END_DATE_DATA_INDEX]||Number.MAX_VALUE)-(i.values[n.END_DATE_DATA_INDEX]||Number.MAX_VALUE))),r===0&&(r=u.localeIgnoreCaseComparer(t.text||"",i.text||"")),r},n.prototype.getId=function(){return this.node.id||n.EmptyGuidString},n.prototype.getParentId=function(){return this.node.parentId||n.EmptyGuidString},n.prototype.getText=function(){return this.node.text},n.prototype.getStartDate=function(){return this.node.values[n.START_DATE_DATA_INDEX]||null},n.prototype.getEndDate=function(){return this.node.values[n.END_DATE_DATA_INDEX]||null},n.prototype.getStructureType=function(){return this.node.values.length>1?h.Iterations:h.Areas},n.prototype.getParent=function(){var t=this.getParentId(),i;return t!==n.EmptyGuidString?(i=this.dataAdapter.getNodeFromId(t),n.create(i,this.dataAdapter)):undefined},n.prototype.getValues=function(){return this.node.values},n.prototype.getChildren=function(){var t=[],i=this;return $.each(this.node.children,function(r,u){t.push(n.create(u,i.dataAdapter))}),t},n.prototype.getPath=function(){return this.node.path},n.prototype.createChild=function(t){var i=this.node,r={id:n.EmptyGuidString,parentId:i.id,text:t,values:new Array(i.values.length),children:[],parentPath:i.path,structureType:this.getStructureType()};return r.values[0]=t,new n(r,this.dataAdapter)},n.prototype.beginUpdate=function(t,i){var u=this._getUrl(n.UPDATE_ACTION),o=this._getOperationData();e.postMSJSON(u,{operationData:r.stringifyMSJSON(o)},function(n){n.success?t(n):i(n)},function(n){i(n)})},n.prototype.clone=function(){return new n(s.HierarchicalGridDataAdapter.cloneNode(this.node),this.dataAdapter)},n.prototype._getUrl=function(n){return o.TfsContext.getDefault().getActionUrl(n,"Areas",{area:"admin",team:"",includeVersion:!0})},n.prototype._getOperationData=function(){return{NodeId:this.node.id,NodeName:this.node.values[n.NAME_DATA_INDEX],ParentId:this.node.parent.id,ParentPath:this.node.parent.path,StructureType:this.node.structureType,IterationStartDate:this.node.values[n.START_DATE_DATA_INDEX],IterationEndDate:this.node.values[n.END_DATE_DATA_INDEX]}},n.CREATE_ACTION="CreateClassificationNode",n.UPDATE_ACTION="UpdateClassificationNode",n.NAME_DATA_INDEX=0,n.START_DATE_DATA_INDEX=1,n.END_DATE_DATA_INDEX=2,n.EmptyGuidString="00000000-0000-0000-0000-000000000000",n}();t.CssNode=c;i.initClassPrototype(c,{node:null,dataAdapter:null})});

define("Agile/Scripts/Sources/AgileDataSource",["require","exports","VSS/Service","VSS/Context","VSS/Contributions/Services"],function(n,t,i,r,u){function f(n,t){return t===void 0&&(t=null),__awaiter(this,void 0,void 0,function(){var e,f;return __generator(this,function(o){switch(o.label){case 0:return e=i.getService(u.WebPageDataService,r.getDefaultWebContext()),[4,e.getDataAsync(n,null,t)];case 1:if(f=o.sent(),f.errorMessage&&f.errorMessage.length>0)throw new Error(f.errorMessage);else return[2,f.data];return[2]}})})}Object.defineProperty(t,"__esModule",{value:!0});t.getDataAsync=void 0;t.getDataAsync=f});

define("TestManagement/Scripts/Scenarios/Analytics/InContextReports/Common/Constants",["require","exports"],function(n,t){var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.ODataQueryResponseAttributes=t.NavigationConstants=t.TestAnalyticsRouteParameters=t.TestAnalyticsConstants=void 0;i=function(){function n(){}return n.Report="Report",n.TestFailures="TestFailures",n.BuildDefinitionId="BuildDefinitionId",n.ReleaseDefinitionId="ReleaseDefinitionId",n.WorkFlow="WorkFlow",n.WorkFlowFilter="WorkFlowFilter",n.Build="Build",n.Release="Release",n.TotalTestResults="TotalTestResults",n.Passed="Passed",n.Failed="Failed",n.NotExecuted="NotExecuted",n.FailedTests="FailedTests",n.ChartType="ChartType",n.GroupBy="GroupBy",n.Duration="Duration",n.LoadType="LoadType",n.LoadTimeInMS="LoadTimeInMS",n.Outcome="Outcome",n.SortBy="SortBy",n.Rows="Rows",n.Type="Type",n.Test="Test",n.Group="Group",n.IsCached="IsCached",n.Filters="Filters",n.FiltersCount="FiltersCount",n.IsUserAction="IsUserAction",n}();t.TestAnalyticsConstants=i;r=function(){function n(){}return n.BuildDefinitionId="buildDefinitionId",n.ReleaseDefinitionId="releaseDefinitionId",n}();t.TestAnalyticsRouteParameters=r;u=function(){function n(){}return n.BuildHub="ms.vss-build-web.pipelines-hub",n.BuildHubActionAnalytics="ms.vss-test-web.build-definition-test-analytics-view-cardmetrics",n.BuildHubActionHistory="history",n.BuildAnalyticsHub="ms.vss-test-web.test-analytics-hub",n.ReleaseHub="ms.vss-releaseManagement-web.hub-explorer",n.ReleasesHubActionAnalytics="analytics",n.ReleasesHubActionOverview="definitionoverview",n.ReleaseAnalyticsHub="ms.vss-test-web.test-analytics-hub-release",n}();t.NavigationConstants=u;f=function(){function n(){}return n.ODataNextLink="@odata.nextLink",n.Value="value",n}();t.ODataQueryResponseAttributes=f});

define("TestManagement/Scripts/TestReporting/Common/Common",["require","exports"],function(n,t){var f,i,r,u;Object.defineProperty(t,"__esModule",{value:!0});t.TestResultSummaryTitleView=t.UrlKeyWords=t.Constants=t.ExtensionNames=t.ViewContext=void 0,function(n){n[n.Build=0]="Build";n[n.Release=1]="Release";n[n.ExploratorySession=2]="ExploratorySession";n[n.WorkItem=3]="WorkItem";n[n.Unsupported=4]="Unsupported"}(f=t.ViewContext||(t.ViewContext={}));i=function(){function n(){}return n.TestTabInReleaseSummary="ms.vss-test-web.test-result-in-release-environment-editor-tab",n.TestTabInBuildSummary="ms.vss-test-web.build-test-results-tab",n.TestResultHistoryId="ms.vss-test-web.test-result-history",n}();t.ExtensionNames=i;r=function(){function n(){}return n.BuildTrendCount=10,n.ReleaseTrendCount=10,n.SelectedEnvironmentIdUrlOption="selectedEnvironmentId",n.HyperLinkTextForegroundColor="#007ACC",n.SuppressedTextForegroundColor="grey",n}();t.Constants=r;u=function(){function n(){}return n.TestTab_DropDownPivot_GroupByOption="testtab-groupby-command",n.TestTab_DropDownPivot_GroupByValue="testtab-groupby-value",n.TestTab_DropDownPivot_FilterOption="testtab-filter-command",n}();t.UrlKeyWords=u;t.TestResultSummaryTitleView=$('\n                        <table cellpadding="0" >\n                            <tr class="title-row">\n                                <td class="query-title"><\/td>\n                                <td class="query-status"><\/td>\n                            <\/tr>\n                        <\/table>\n                    ')});

define("VSS/Operations/Contracts",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.OperationStatus=void 0;var i;(function(n){n[n.NotSet=0]="NotSet";n[n.Queued=1]="Queued";n[n.InProgress=2]="InProgress";n[n.Cancelled=3]="Cancelled";n[n.Succeeded=4]="Succeeded";n[n.Failed=5]="Failed"})(i=t.OperationStatus||(t.OperationStatus={}));t.TypeInfo={Operation:{},OperationReference:{},OperationStatus:{enumValues:{notSet:0,queued:1,inProgress:2,cancelled:3,succeeded:4,failed:5}}};t.TypeInfo.Operation.fields={status:{enumType:t.TypeInfo.OperationStatus}};t.TypeInfo.OperationReference.fields={status:{enumType:t.TypeInfo.OperationStatus}}});

define("TFS/Core/RestClient",["require","exports","TFS/Core/Contracts","VSS/Operations/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e){"use strict";function ct(n){return window.VSS&&window.VSS.VssSDKRestVersion&&st[window.VSS.VssSDKRestVersion]?u.getClient(st[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):u.getClient(y,undefined,undefined,undefined,n)}var o,c,l,a,h,s,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,ht,st;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.CoreHttpClient=t.CoreHttpClient2=t.CoreHttpClient2_1=t.CoreHttpClient2_2=t.CoreHttpClient2_3=t.CoreHttpClient3=t.CoreHttpClient3_1=t.CoreHttpClient3_2=t.CoreHttpClient4=t.CoreHttpClient4_1=t.CoreHttpClient5=t.CoreHttpClient5_1=t.CoreHttpClient5_2=t.CoreHttpClient6=t.CoreHttpClient6_1=t.CoreHttpClient7=t.CoreHttpClient7_1=t.CommonMethods5_1To7_1=t.CommonMethods4_1To7_1=t.CommonMethods4To7_1=t.CommonMethods3_2To7_1=t.CommonMethods3_1To7_1=t.CommonMethods2To7_1=void 0;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateTeam=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:t,teamId:i},apiVersion:this.teamsApiVersion,data:n})},t.prototype.deleteTeam=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:this.teamsApiVersion})},t.prototype.createTeam=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:t},apiVersion:this.teamsApiVersion,data:n})},t.prototype.getProxies=function(n){var t={proxyUrl:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",responseIsCollection:!0,queryParams:t,apiVersion:this.proxiesApiVersion})},t.prototype.updateProject=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:r.TypeInfo.OperationReference,routeValues:{projectId:t},apiVersion:this.projectsApiVersion,data:n})},t.prototype.queueDeleteProject=function(n){return this._beginRequest({httpMethod:"DELETE",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:r.TypeInfo.OperationReference,routeValues:{projectId:n},apiVersion:this.projectsApiVersion})},t.prototype.queueCreateProject=function(n){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:r.TypeInfo.OperationReference,apiVersion:this.projectsApiVersion,data:n})},t.prototype.getProjects=function(n,t,r,u,f){var e={stateFilter:n,$top:t,$skip:r,continuationToken:u,getDefaultTeamImageUrl:f};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:e,apiVersion:this.projectsApiVersion})},t.prototype.getProject=function(n,t,r){var u={includeCapabilities:t,includeHistory:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProject,routeValues:{projectId:n},queryParams:u,apiVersion:this.projectsApiVersion})},t.prototype.getProjectCollections=function(n,t){var i={$top:n,$skip:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseIsCollection:!0,queryParams:i,apiVersion:this.projectCollectionsApiVersion})},t.prototype.getProjectCollection=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollection,routeValues:{collectionId:n},apiVersion:this.projectCollectionsApiVersion})},t.prototype.getProcesses=function(){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!0,apiVersion:this.processesApiVersion})},t.prototype.getProcessById=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,routeValues:{processId:n},apiVersion:this.processesApiVersion})},t.prototype.updateIdentityMru=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",routeValues:{mruName:t},apiVersion:this.identityMruApiVersion,data:n})},t.prototype.getIdentityMru=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",responseIsCollection:!0,routeValues:{mruName:n},apiVersion:this.identityMruApiVersion})},t.prototype.deleteIdentityMru=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",routeValues:{mruName:t},apiVersion:this.identityMruApiVersion})},t.prototype.createIdentityMru=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",routeValues:{mruName:t},apiVersion:this.identityMruApiVersion,data:n})},t.prototype.getConnectedServices=function(n,t){var r={kind:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:this.connectedServicesApiVersion})},t.prototype.getConnectedServiceDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedServiceDetails,routeValues:{projectId:n,name:t},apiVersion:this.connectedServicesApiVersion})},t.prototype.createConnectedService=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",requestType:i.TypeInfo.WebApiConnectedServiceDetails,responseType:i.TypeInfo.WebApiConnectedService,routeValues:{projectId:t},apiVersion:this.connectedServicesApiVersion,data:n})},t.serviceInstanceId=e.ServiceInstanceTypes.TFS,t}(f.VssHttpClient);t.CommonMethods2To7_1=o;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.deleteProxy=function(n,t){var i={proxyUrl:n,site:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",queryParams:i,apiVersion:this.proxiesApiVersion})},t.prototype.createOrUpdateProxy=function(n){return this._beginRequest({httpMethod:"PUT",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",apiVersion:this.proxiesApiVersion,data:n})},t}(o);t.CommonMethods3_1To7_1=c;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.setProjectProperties=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"4976a71a-4487-49aa-8aab-a1eda469037a",resource:"properties",routeTemplate:"_apis/projects/{projectId}/{resource}",routeValues:{projectId:n},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.propertiesApiVersion,data:t})},t.prototype.getProjectProperties=function(n,t){var i={keys:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"4976a71a-4487-49aa-8aab-a1eda469037a",resource:"properties",routeTemplate:"_apis/projects/{projectId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:i,apiVersion:this.propertiesApiVersion})},t}(c);t.CommonMethods3_2To7_1=l;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getProjectHistoryEntries=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.ProjectInfo,responseIsCollection:!0,queryParams:t,apiVersion:this.projectHistoryApiVersion})},t}(l);t.CommonMethods4To7_1=a;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTeamMembersWithExtendedProperties=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:this.membersApiVersion})},t}(a);t.CommonMethods4_1To7_1=h;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getAllTeams=function(n,t,i,r){var u={$mine:n,$top:t,$skip:i,$expandIdentity:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"7a4d9ee9-3433-4347-b47a-7a80f1cf307e",resource:"teams",routeTemplate:"_apis/{resource}",responseIsCollection:!0,queryParams:u,apiVersion:this.teamsApiVersion_7a4d9ee9})},t.prototype.getTeams=function(n,t,i,r,u){var f={$mine:t,$top:i,$skip:r,$expandIdentity:u};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:f,apiVersion:this.teamsApiVersion})},t.prototype.getTeam=function(n,t,i){var r={$expandIdentity:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},queryParams:r,apiVersion:this.teamsApiVersion})},t.prototype.getProjectsProperties=function(n,t){var i={projectIds:n&&n.join(","),properties:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"0a3ffdfc-fe94-47a6-bb27-79bf3f762eac",resource:"projectsproperties",routeTemplate:"_apis/{resource}",responseIsCollection:!0,queryParams:i,apiVersion:this.projectspropertiesApiVersion})},t.prototype.setProjectAvatar=function(n,t){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"core",locationId:"54b2a2a0-859b-4d05-827c-ec4c862f641a",resource:"avatar",routeTemplate:"_apis/projects/{projectId}/{resource}",routeValues:{projectId:t},apiVersion:this.avatarApiVersion,data:n})},t.prototype.removeProjectAvatar=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"54b2a2a0-859b-4d05-827c-ec4c862f641a",resource:"avatar",routeTemplate:"_apis/projects/{projectId}/{resource}",routeValues:{projectId:n},apiVersion:this.avatarApiVersion})},t}(h);t.CommonMethods5_1To7_1=s;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarApiVersion=r.connectedServicesApiVersion=r.identityMruApiVersion=r.processesApiVersion=r.projectspropertiesApiVersion=r.propertiesApiVersion="7.1-preview.1",r.membersApiVersion=r.projectCollectionsApiVersion=r.projectHistoryApiVersion=r.proxiesApiVersion="7.1-preview.2",r.teamsApiVersion=r.teamsApiVersion_7a4d9ee9="7.1-preview.3",r.projectsApiVersion="7.1-preview.4",r}return __extends(t,n),t}(s);t.CoreHttpClient7_1=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.membersApiVersion=r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="7.0",r.avatarApiVersion=r.connectedServicesApiVersion=r.identityMruApiVersion=r.projectspropertiesApiVersion=r.propertiesApiVersion="7.0-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="7.0-preview.2",r.teamsApiVersion_7a4d9ee9="7.0-preview.3",r}return __extends(t,n),t}(s);t.CoreHttpClient7=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.membersApiVersion=r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="6.1",r.avatarApiVersion=r.connectedServicesApiVersion=r.identityMruApiVersion=r.projectspropertiesApiVersion=r.propertiesApiVersion="6.1-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="6.1-preview.2",r.teamsApiVersion_7a4d9ee9="6.1-preview.3",r}return __extends(t,n),t}(s);t.CoreHttpClient6_1=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.membersApiVersion=r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="6.0",r.avatarApiVersion=r.connectedServicesApiVersion=r.identityMruApiVersion=r.projectspropertiesApiVersion=r.propertiesApiVersion="6.0-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="6.0-preview.2",r.teamsApiVersion_7a4d9ee9="6.0-preview.3",r}return __extends(t,n),t}(s);t.CoreHttpClient6=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.membersApiVersion=r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="5.2",r.avatarApiVersion=r.connectedServicesApiVersion=r.identityMruApiVersion=r.projectspropertiesApiVersion=r.propertiesApiVersion="5.2-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="5.2-preview.2",r.teamsApiVersion_7a4d9ee9="5.2-preview.3",r}return __extends(t,n),t}(s);t.CoreHttpClient5_2=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.membersApiVersion=r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="5.1",r.avatarApiVersion=r.connectedServicesApiVersion=r.identityMruApiVersion=r.projectspropertiesApiVersion=r.propertiesApiVersion="5.1-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="5.1-preview.2",r.teamsApiVersion_7a4d9ee9="5.1-preview.3",r}return __extends(t,n),t}(s);t.CoreHttpClient5_1=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.membersApiVersion=r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="5.0",r.connectedServicesApiVersion=r.identityMruApiVersion=r.propertiesApiVersion="5.0-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="5.0-preview.2",r}return __extends(t,n),t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"5.0"})},t.prototype.getTeams=function(n,t,i,r){var u={$mine:t,$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:u,apiVersion:"5.0"})},t.prototype.getAllTeams=function(n,t,i){var r={$mine:n,$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"7a4d9ee9-3433-4347-b47a-7a80f1cf307e",resource:"teams",routeTemplate:"_apis/{resource}",responseIsCollection:!0,queryParams:r,apiVersion:"5.0-preview.2"})},t}(h);t.CoreHttpClient5=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.membersApiVersion=r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="4.1",r.connectedServicesApiVersion=r.identityMruApiVersion=r.propertiesApiVersion="4.1-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="4.1-preview.2",r}return __extends(t,n),t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"4.1"})},t.prototype.getTeams=function(n,t,i,r){var u={$mine:t,$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:u,apiVersion:"4.1"})},t.prototype.getAllTeams=function(n,t,i){var r={$mine:n,$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"7a4d9ee9-3433-4347-b47a-7a80f1cf307e",resource:"teams",routeTemplate:"_apis/{resource}",responseIsCollection:!0,queryParams:r,apiVersion:"4.1-preview.2"})},t}(h);t.CoreHttpClient4_1=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="4.0",r.connectedServicesApiVersion=r.identityMruApiVersion=r.propertiesApiVersion="4.0-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="4.0-preview.2",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"4.0"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"4.0"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"4.0"})},t}(a);t.CoreHttpClient4=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="3.2",r.connectedServicesApiVersion=r.identityMruApiVersion=r.propertiesApiVersion="3.2-preview.1",r.proxiesApiVersion="3.2-preview.2",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"3.2"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"3.2-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"3.2"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"3.2"})},t}(l);t.CoreHttpClient3_2=tt;it=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="3.1",r.connectedServicesApiVersion=r.identityMruApiVersion="3.1-preview.1",r.proxiesApiVersion="3.1-preview.2",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"3.1"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"3.1-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"3.1"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"3.1"})},t}(c);t.CoreHttpClient3_1=it;rt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="3.0",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="3.0-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"3.0"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"3.0-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"3.0"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"3.0"})},t}(o);t.CoreHttpClient3=rt;ut=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="2.3",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="2.3-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.3-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"2.3"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.3"})},t}(o);t.CoreHttpClient2_3=ut;ft=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="2.2",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="2.2-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.2-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"2.2"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.2"})},t}(o);t.CoreHttpClient2_2=ft;et=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="2.1",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="2.1-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.1-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"2.1"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.1"})},t}(o);t.CoreHttpClient2_1=et;ot=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="2.0",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="2.0-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.0-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"2.0"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.0"})},t}(o);t.CoreHttpClient2=ot;ht=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(v);t.CoreHttpClient=ht;st={"7.1":v,"7.0":y,"6.1":p,"6.0":w,"5.2":b,"5.1":k,"5.0":d,"4.1":g,"4.0":nt,"3.2":tt,"3.1":it,"3.0":rt,"2.3":ut,"2.2":ft,"2.1":et,"2.0":ot};t.getClient=ct});

define("TestManagement/Scripts/TFS.TestManagement.Utils",["require","exports","q","Agile/Scripts/Admin/AreaIterations.DataModels","Agile/Scripts/Sources/AgileDataSource","TestManagement/Scripts/Scenarios/Analytics/InContextReports/Common/Constants","TestManagement/Scripts/TestReporting/Common/Common","VSS/Controls/Dialogs","VSS/Navigation/HubsService","VSS/Service","VSS/Utils/Url","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemManager","Presentation/Scripts/TFS/TFS.Legacy.Ajax","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/Generated/TFS.TestManagement.Constants","Presentation/Scripts/TFS/FeatureRef/TFS.TeamAwarenessService","Presentation/Scripts/TFS/TFS.Core.Utils","Presentation/Scripts/TFS/TFS.UI.Controls.Grid.DataAdapters","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","TestManagement/Scripts/Utils/TFS.TestManagement.LicenseAndFeatureFlagUtils","TestManagement/Scripts/Resources/TFS.Resources.TestManagement","TestManagement/Scripts/TFS.TestManagement","TestManagement/Scripts/TFS.TestManagement.Telemetry","TFS/Core/RestClient","TFS/WorkItemTracking/RestClient","VSS/Diag","VSS/FeatureAvailability/Services","VSS/Navigation/Services","VSS/Utils/Array","VSS/Context","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt){function lu(n){return n===ki.RequirementTestSuite?"bowtie-icon bowtie-tfvc-change-list":n===ki.DynamicTestSuite?"bowtie-icon bowtie-folder-query":"bowtie-icon bowtie-folder"}function ri(){return si||(si=g.ProjectCollection.getConnection(d.TfsContext.getDefault()).getService(rt.TestPlanManager)),si}function au(){return hi||(hi=g.ProjectCollection.getConnection(d.TfsContext.getDefault()).getService(rt.TestRunManager)),hi}function vu(){return ci||(ci=g.ProjectCollection.getConnection(d.TfsContext.getDefault()).getService(rt.TestImpactManager)),ci}function tr(){return li||(li=g.ProjectCollection.getConnection(d.TfsContext.getDefault()).getService(rt.TestResultManager)),li}function yu(n){var t=[],u=0,f=0,e=0,r,i;if(n){for(n.forEach(function(n){if(n.parentSuiteId===0)t[0]=[n.id];else for(var i=0;i<t.length;i++)if(t[i].indexOf(n.parentSuiteId)>-1){t[i+1]?t[i+1].push(n.id):t[i+1]=[n.id];break}switch(n.type.toString()){case p.TestSuiteType.RequirementTestSuite.toString():f+=1;break;case p.TestSuiteType.DynamicTestSuite.toString():e+=1;break;default:u+=1}}),r=[],i=0;i<t.length;i++)r[i]=t[i].length;ut.TelemetryService.publishEvents(ut.TelemetryService.GetTestSuitesForPlan_Stats,{suiteHierarchyData:r,StaticSuites:u,RBS:f,QBS:e})}}function pu(n){var t=[],u=0,f=0,e=0,r,i;if(n){for(n.forEach(function(n){if(n.parentSuiteId===0)t[0]=[n.id];else for(var i=0;i<t.length;i++)if(t[i].indexOf(n.parentSuiteId)>-1){t[i+1]?t[i+1].push(n.id):t[i+1]=[n.id];break}switch(n.type){case p.TestSuiteType.RequirementTestSuite:f+=1;break;case p.TestSuiteType.RequirementTestSuite:e+=1;break;default:u+=1}}),r=[],i=0;i<t.length;i++)r[i]=t[i].length;ut.TelemetryService.publishEvents(ut.TelemetryService.GetTestSuitesForPlan_Stats,{suiteHierarchyData:r,StaticSuites:u,RBS:f,QBS:e})}}function wu(){return ai||(ai=g.ProjectCollection.getConnection(d.TfsContext.getDefault()).getService(rt.WorkItemTrackingManager)),ai}function bu(){return vi||(vi=g.ProjectCollection.getConnection(d.TfsContext.getDefault()).getService(rt.TestConfigurationManager)),vi}function ku(){return yi||(yi=g.ProjectCollection.getConnection(d.TfsContext.getDefault()).getService(rt.CodeCoverageManager)),yi}function du(){return pi||(pi=g.ProjectCollection.getConnection(d.TfsContext.getDefault()).getService(rt.BuildManager)),pi}function gu(){return bi||(bi=g.ProjectCollection.getConnection(d.TfsContext.getDefault()).getService(rt.TestSessionManager)),bi}function nf(n,t,i){var r;n.setSelectionRange?n.setSelectionRange(t,i):n.createTextRange&&(r=n.createTextRange(),r.moveStart("character",t),r.moveEnd("character",i),r.select())}function tf(){var n=window.getSelection();n&&n.removeAllRanges()}function rf(n,t){try{var i=void 0,u=void 0;n&&(document.createRange?(i=document.createRange(),u=window.getSelection(),i.setStart(n,t),i.collapse(!0),u.removeAllRanges(),u.addRange(i)):at.documentSelection&&at.documentSelection.createRange&&(at.documentSelection.empty(),i=at.documentSelection.createRange(),i.moveToElementText(n),i.moveStart("character",t),i.collapse(!0),i.select()))}catch(r){if(!(r instanceof DOMException)&&!(r.message&&r.message.indexOf("800a025e")>=0))throw r;}}function uf(n){return lt.getPageContext().webAccessConfiguration.paths.resourcesPath+encodeURIComponent(n)}function ef(n){try{var i=void 0,u=void 0,r=void 0,t=void 0,f=document.createDocumentFragment(),e=document.createElement("div");window.getSelection?(i=window.getSelection(),t=i.getRangeAt(0),t&&(e.innerHTML=n,u=e.firstChild,r=f.appendChild(u),t.collapse(!1),t.insertNode(f),r&&(t=t.cloneRange(),t.setStart(r,2),t.setEnd(r,n.length-1),i.removeAllRanges(),i.addRange(t)))):at.documentSelection&&at.documentSelection.type!=="Control"&&at.documentSelection.createRange().pasteHTML(n)}catch(o){if(!(o instanceof DOMException))throw o;}}function of(n,t,i,r,u){for(var e,f=0;f<n.length;f++)e=n[f],e.outcome=t,t===p.TestOutcome.Paused&&(e.state=p.TestResultState.Paused);tr().update(n,i,r,u)}function fi(n,t,i){var r={};return $.each(n,function(n,u){u&&t[i]&&!r[u]&&(r[u]=rr(t[i],u))}),r}function rr(n,t){var r,i,u,f;for(r=Object.keys(n),i=0,u=r.length;i<u;i++)if(f=r[i],yt.localeIgnoreCaseComparer(t,f)===0)return n[r[i]];return""}function sf(n){var t=[];return n.length>0&&(t=$.map(n,function(n){return n.id})),t}function hf(n){var t=[];return n.length>0&&(t=$.map(n,function(n){return n.revision})),t}function fr(n,t){var i=0,u,r,f;if(n)for(i=0;i<n.length;i++)for(u=n[i],r=t(u);r!==i;)f=n[i],n[i]=n[r],n[r]=f,r=t(n[i])}function cf(n,t,i,r){er(n,t);or(i,r)}function er(n,t){n.outcome=t;n.dateCompleted=new Date;n.duration=(n.dateCompleted.getTime()-n.dateStarted.getTime())*1e4;n.setIsDirty(!0)}function or(n,t){t===p.TestOutcome.Paused?n.state=p.TestResultState.Paused:t===p.TestOutcome.Unspecified&&(n.state=p.TestResultState.InProgress);n.outcome=t;n.dateCompleted=new Date;n.setDuration();n.setIsDirty(!0)}function lf(){return{width:window.screen.availWidth/5,height:window.screen.availHeight}}function af(n,t){n.keyCode!==pt.KeyCode.ENTER||n.shiftKey||n.ctrlKey||n.altKey||t()}function vf(n,t){n.keyCode!==pt.KeyCode.SPACE||n.shiftKey||n.ctrlKey||n.altKey||t()}function yf(n){return n===p.TestOutcome.Passed?"bowtie-icon bowtie-status-success":n===p.TestOutcome.Failed?"bowtie-icon bowtie-status-failure":n===p.TestOutcome.Blocked?"bowtie-icon bowtie-math-minus-circle":n===p.TestOutcome.NotApplicable?"bowtie-icon bowtie-status-no-fill bowtie-no-fill-not-applicable":n===p.TestOutcome.Paused?"bowtie-icon bowtie-status-pause":""}function pf(n){return n===p.TestOutcome.Passed?it.TestOutcome_Passed:n===p.TestOutcome.Failed?it.TestOutcome_Failed:n===p.TestOutcome.Blocked?it.TestOutcome_Blocked:n===p.TestOutcome.NotApplicable?it.TestOutcome_NotApplicable:n===p.TestOutcome.Paused?it.TestPointState_Paused:n===p.TestOutcome.Aborted?it.TestOutcome_Aborted:n===p.TestOutcome.Error?it.TestOutcome_Error:n===p.TestOutcome.NotExecuted?it.TestOutcome_NotExecuted:n===p.TestOutcome.Timeout?it.TestOutcome_Timeout:n===p.TestOutcome.Warning?it.TestOutcome_Warning:n===p.TestOutcome.Inconclusive?it.TestOutcome_Inconclusive:n===p.TestOutcome.None?it.TestOutcome_None:""}function wf(n,t){for(var i,u,e,f=[],r=0;r<n.length;r++)if(i=n[r],i.indexString=(r+1).toString()+".",i instanceof rt.SharedStepResult)for(t&&t(i),f.push(i),u=0;u<i.actionResults.getItems().length;u++)e=i.actionResults.getItems()[u],e.indexString=i.indexString+(u+1).toString(),f.push(e);else f.push(i);return f}function bf(n,t,i){var r="";return r=rt.ActionPathHelper.prepend(r,t),i&&(r=rt.ActionPathHelper.prepend(r,i)),n.findActionResultFromPath(r)}function kf(n){return n.find('li[command="refresh-test-points"]')}function sr(n){return n===p.TestSuiteType.RequirementTestSuite?yt.format(it.DeleteTestCaseFromSuiteFormat,yt.format(it.DeleteTestCaseFromSuiteFormat,it.RemoveTestCaseWarningMessage,it.RemoveTestCaseFromRequirementSuiteMessage),it.ConfirmDeletionText):yt.format(it.DeleteTestCaseFromSuiteFormat,it.RemoveTestCaseWarningMessage,it.ConfirmDeletionText)}function df(n,t,i,r,u){var e,f;if(n&&n.length!==0)return(e=sr(i.type),confirm(e))?(f=void 0,t.removeTestCasesFromSuite(i.id,i.revision,n,r,u),i.type===p.TestSuiteType.RequirementTestSuite&&(f=i.requirementId,a.WorkItemManager.get(dt.getWorkItemStore()).invalidateCache([f])),!0):!1}function gi(n,t){var r,i,u;return n&&n.name===l.Exceptions.WorkItemBulkSaveException&&(r=void 0,i=$("<div/>"),$.each(n.results,function(n,t){t.error&&i.append($("<div/>").append($("<div/>").text(yt.format(kt.TriageViewWorkItemSaveError,t.workItem.id))).append($("<div/>").text(wt.getErrorMessage(t.error))))}),i.children().length>0)?(t===i.children().length?r=$("<div/>").append($("<div/>").text(yt.format(kt.FailedToSaveNWorkItems,i.children().length))).append($("<br>")):(u=t-i.children().length,r=$("<div/>").append($("<div/>").text(yt.format(kt.SucessfullySavedNWisButFailedToSave,u,i.children().length))).append($("<br>")).append($("<div/>").text(kt.FollowingWisCouldNotBeSaved)).append($("<br>"))),i.append($("<br>")).append($("<div/>").text(kt.CorrectWisAndTryAgain)),$("<div/>").append(r).append(i)):null}function gf(n){return n?n.type==="keydown"&&n.which===pt.KeyCode.ENTER||n.type==="click"?!0:!1:!1}function ne(){return pt.BrowserCheckUtils.isChrome()||wr()||br()}function wr(){return pt.BrowserCheckUtils.isFirefox()}function br(){return pt.BrowserCheckUtils.isEdge()&&ei.isEnableXtForEdgeFeatureEnabled()}var nr,cu,ki,ff,di,ir,ui,ur,hr,oi,dt,cr,ii,lr,ar,vr,yr,pr,kr,dr,gr,nu,tu,iu,ru,uu,ni,gt,fu,eu,ou,ti,su;Object.defineProperty(t,"__esModule",{value:!0});t.BrowserResourceStringHelper=t.BrowserType=t.ArrayUtils=t.DateUtils=t.TestHubColumnOption=t.TestPointReferenceNames=t.TestPointFieldIds=t.WebRunner=t.CommonIdentityPickerHelper=t.DelayedExecutionHelper=t.AccessibilityHelper=t.TRAPerfScenarios=t.TcmPerfScenarios=t.ATDTValidationUtil=t.ImageZoomUtil=t.enableXtOnEdge=t.enableXtOnFirefox=t.isDataCollectionEnabled=t.isClickOrEnterKeyDownEvent=t.TestSuiteUtils=t.PlanCreationHelper=t.TestCaseCategoryUtils=t.SharedParameterCreationHelper=t.SharedParameterHelper=t.ProjectUtil=t.SharedStepCreationHelper=t.WorkItemUtils=t.TestCaseUtils=t.SharedStepUtils=t.getBulkSaveErrorMessageHtml=t.removeSelectedTestCases=t.getWarningMessageForTestCaseDeletion=t.getRefreshMenuItem=t.getTestActionResult=t.getFlatSteps=t.setResultOutcomeText=t.getCssClassNameForOutcomeIcon=t.handleSpaceKey=t.handleEnterKey=t.getDefaultSizeForTestRunWindow=t.setTestResultOutcomeLocally=t.setIterationResultOutcomeLocally=t.setIterationAndTestResultOutcomeLocally=t.reOrderArray=t.getRevisionsFromIdAndRevs=t.getIdsFromIdAndRevs=t.TestCaseResultUtils=t.getParameterValueFromDataRow=t.getParameterNameValueMap=t.setResultOutcome=t.insertAndSelectTextAtCurrentCaretPosition=t.ParametersHelper=t.ImageHelper=t.HtmlHelper=t.AttachmentSource=t.getResourcesFile=t.setCaretPosition=t.removeAllSelections=t.setTextSelection=t.getTestSessionManager=t.getBuildManager=t.getCodeCoverageManager=t.getTestConfigurationManager=t.getWorkItemTrackingManager=t.logSuiteTelemetry=t.logSuiteTelemetryLite=t.getTestResultManager=t.getTestImpactManager=t.getTestRunManager=t.getTestPlanManager=t.getSuiteIcon=t.TestSuiteTypes=t.workItemAction=t.maxPageSize=t.conflictRevisionNumber=t.UrlHelper=t.TestOutcomes=void 0;var si=null,hi=null,ci=null,li=null,ai=null,vi=null,yi=null,pi=null,wi=null,bi=null,hu=w.TeamAwarenessService,te=pt.domElem,ei=tt.LicenseAndFeatureFlagUtils;t.TestOutcomes=[it.TestOutcome_Blocked,it.TestOutcome_Failed,it.TestOutcome_Passed,it.TestPointState_Ready,it.TestOutcome_NotApplicable,it.TestPointState_Paused,it.TestPointState_InProgress];nr=function(){function n(){}return n.getTestManagementRouteUrl=function(n,t){n===void 0&&(n=!1);var i=t?{project:t,team:""}:{};return n?d.TfsContext.getDefault().getPublicActionUrl("","testManagement",i):d.TfsContext.getDefault().getActionUrl("","testManagement",i)},n.getMinePageUrl=function(n,t){n===void 0&&(n=!1);var i=this.getTestManagementRouteUrl(n,t);return i+"/mine"},n.getAllPageUrl=function(n,t){n===void 0&&(n=!1);var i=this.getTestManagementRouteUrl(n,t);return i+"/all"},n.getNewPlanCreatorUrl=function(n,t){n===void 0&&(n=!1);var i=this.getTestManagementRouteUrl(n,t);return i+"/new"},n.getSuiteUrl=function(n,t,i,r){i===void 0&&(i=!1);var u=this.getTestManagementRouteUrl(i,r);return u+"?"+$.param({planId:n,suiteId:t})},n.getWorkItemUrlInTestPlanView=function(n,t,i,r,u){r===void 0&&(r=!1);var f=this.getTestManagementRouteUrl(r,u);return f+"?"+$.param({planId:n,suiteId:t,testCaseId:i})},n.getPlanUrl=function(n){var t=this.getTestManagementUrl();return t+"?planId="+n.toString()},n.getTestManagementUrl=function(){return d.TfsContext.getDefault().getPublicActionUrl("","testManagement")},n.getWorkItemUrl=function(n){return d.TfsContext.getDefault().getPublicActionUrl("edit","workitems",{parameters:n})},n.getTestPlanHubUrl=function(n,t,i){var r=d.TfsContext.getDefault().getActionUrl("","testManagement");return r+"?"+$.param({_a:n,planId:t,suiteId:i})},n.getTestPlanLiteHubUrl=function(n,t,i){return this.getTestPlanHubUrl(n,t.toString(),i.toString())},n.getSharedParametersUrl=function(n,t,i,r){t===void 0&&(t=!1);r===void 0&&(r="values");var u,f=i===undefined?{}:{project:i};return u=t?d.TfsContext.getDefault().getPublicActionUrl("sharedParameters","testManagement",f):d.TfsContext.getDefault().getActionUrl("sharedParameters","testManagement",f),u+"?"+$.param({sharedParameterId:n,_a:r})},n.getTestConfigurationsHubUrl=function(n,t,i,r){t===void 0&&(t=!1);r===void 0&&(r="values");var u,f=i===undefined?{}:{project:i};return u=t?d.TfsContext.getDefault().getPublicActionUrl("configurations","testManagement",f):d.TfsContext.getDefault().getActionUrl("configurations","testManagement",f),u+"?"+$.param({testConfigurationId:n,_a:r})},n.getPivotUrl=function(n,t,i){var r;return(r=d.TfsContext.getDefault().getActionUrl("","testManagement"),isNaN(t)&&isNaN(i))?r+n:r+n+"&"+$.param({planId:t,suiteId:i})},n.getActionUrlForSuite=function(n,t,i,r,u){r===void 0&&(r=!1);var f,e=u?{project:u,team:""}:{},o=ht.getHistoryService().getFragmentActionLink(n,{planId:t,suiteId:i});return f=r?d.TfsContext.getDefault().getPublicActionUrl("","testManagement",e):d.TfsContext.getDefault().getActionUrl("","testManagement",e),f+o},n.getRunsUrl=function(t,i,r){return r===void 0&&(r=!1),n._getActionUrl("Runs","TestManagement",t,i,r)},n.getBuildSummaryUrl=function(t){return n._getActionUrl("","Build","summary",[{parameter:"buildId",value:t.toString()}])},n.getBuildSummaryTestTabUrl=function(t){return n._getActionUrl("","Build","summary",[{parameter:"buildId",value:t.toString()},{parameter:"tab",value:"ms.vss-test-web.test-result-details"}])},n.getReleaseSummaryUrl=function(t){return n._getActionUrl("","apps/hub/ms.vss-releaseManagement-web.hub-explorer","release-summary",[{parameter:"releaseId",value:t.toString()}])},n.getReleaseLogsUrl=function(t){return n._getActionUrl("","apps/hub/ms.vss-releaseManagement-web.hub-explorer","release-logs",[{parameter:"releaseId",value:t.toString()}])},n.getReleaseSummaryTestTabUrl=function(t){return n._getActionUrl("","apps/hub/ms.vss-releaseManagement-web.hub-explorer","release-contribution-tab-ms.vss-test-web.test-result-in-release-management",[{parameter:"releaseId",value:t.toString()}])},n.getNewBuildSummaryTestResultUrl=function(t,i,r,u){return u?n.getNewBuildSummaryTestTabUrl(t,{runId:i.toString(),resultId:r.toString(),paneView:u}):n.getNewBuildSummaryTestTabUrl(t,{runId:i.toString(),resultId:r.toString()})},n.getBuildAnalyticsUrl=function(t){return n._getActionUrl("","build/analytics","",[{parameter:f.TestAnalyticsRouteParameters.BuildDefinitionId,value:t.toString()}],!0)},n.getReleaseAnalyticsUrl=function(t){return n._getActionUrl("","release/analytics","",[{parameter:f.TestAnalyticsRouteParameters.ReleaseDefinitionId,value:t.toString()}],!0)},n.getBuildDefinitionUrl=function(n,t){var u=f.NavigationConstants.BuildHub,e=new s.HubsService,r=e.getHubById(u),o=r?r.uri:yt.empty,i=new c.Uri(o);return i.addQueryParam("definitionId",n.toString()),i.addQueryParam("view",t),i.absoluteUri},n.getReleaseDefinitionUrl=function(t,i){return n._getActionUrl("","release",i,[{parameter:"definitionId",value:t.toString()}],!0)},n.getReleaseSummaryTestResultUrl=function(t,i,r,u,f){return f?n.getNewReleaseSummaryTestTabUrl(t,{environmentId:i.toString(),runId:r.toString(),resultId:u.toString(),paneView:f}):n.getNewReleaseSummaryTestTabUrl(t,{environmentId:i.toString(),runId:r.toString(),resultId:u.toString()})},n.getNewBuildSummaryTestTabUrl=function(n,t){var u=this.newBuildTestResultsHubId,f=new s.HubsService,r=f.getHubById(u),e=r?r.uri:yt.empty,i=new c.Uri(e);return i.addQueryParam("buildId",n.toString()),tt.LicenseAndFeatureFlagUtils.isTestTabInNewWebPlatformEnabled()?i.addQueryParam("view","ms.vss-test-web.build-test-results-tab"):i.addQueryParam("view","ms.vss-test-web.test-result-details"),t&&Object.keys(t).forEach(function(n){var r=t[n];r&&i.addQueryParam(n,r)}),i.absoluteUri},n.getNewReleaseSummaryTestTabUrl=function(n,t){var u=new s.HubsService,r=u.getHubById("ms.vss-releaseManagement-web.cd-release-progress"),f=r?r.uri:yt.empty,i=new c.Uri(f);return i.addQueryParam("releaseId",n.toString()),i.addQueryParam("extensionId","ms.vss-test-web.test-result-in-release-environment-editor-tab"),i.addQueryParam("_a","release-environment-extension"),t&&Object.keys(t).forEach(function(n){var r=t[n];r&&i.addQueryParam(n,r)}),i.absoluteUri},n.getReleaseSummaryTestTabWithEnvironmentUrl=function(t,i,r){return n._getActionUrl("","apps/hub/ms.vss-releaseManagement-web.hub-explorer","release-contribution-tab-ms.vss-test-web.test-result-in-release-management",[{parameter:"releaseId",value:t.toString()},{parameter:"definitionId",value:i.toString()},{parameter:"selectedEnvironmentId",value:r.toString()}])},n.getReleaseDefinitionEnvironmentEditorUrl=function(t){return n._getActionUrl("","release","environments-editor",[{parameter:"definitionId",value:t.toString()}],!0)},n.getNewReleaseDefinitionEnvironmentEditorUrl=function(t,i,r){return i?n._getActionUrl("","releaseDefinition","action-create-definition",[{parameter:"definitionId",value:"0"},{parameter:"templateId",value:t},{parameter:"buildDefinitionId",value:i.toString()},{parameter:"buildDefinitionName",value:r},{parameter:"source",value:"Test"}],!0):n._getActionUrl("","releaseDefinition","action-create-definition",[{parameter:"definitionId",value:"0"},{parameter:"templateId",value:t}],!0)},n.getTestResultHistoryUrl=function(t){return t.push({parameter:"contributionId",value:e.ExtensionNames.TestResultHistoryId}),n._getActionUrl("Runs","TestManagement","contribution",t)},n.getManageExtensionsPath=function(){return"".concat(d.TfsContext.getDefault().navigation.serviceHost.uri,"/").concat("_admin/_extensions")},n._getActionUrl=function(n,t,i,r,u){var f,o,e;if(u===void 0&&(u=!1),f=new yt.StringBuilder,o=u?d.TfsContext.getDefault().getPublicActionUrl(n,t):d.TfsContext.getDefault().getActionUrl(n,t),f.append(o),f.append(yt.format("?_a={0}",i)),r)for(e=0;e<r.length;e++)f.append(yt.format("&{0}={1}",r[e].parameter,r[e].value));return f.toString()},n.newBuildTestResultsHubId="ms.vss-build-web.pipelines-hub",n}();t.UrlHelper=nr;t.conflictRevisionNumber=-1;t.maxPageSize=rt.PageConstants.maxPageSize,function(n){n.New="new";n.Edit="edit"}(cu=t.workItemAction||(t.workItemAction={})),function(n){n.StaticTestSuite="StaticTestSuite";n.RequirementTestSuite="RequirementTestSuite";n.DynamicTestSuite="DynamicTestSuite"}(ki=t.TestSuiteTypes||(t.TestSuiteTypes={}));t.getSuiteIcon=lu;t.getTestPlanManager=ri;t.getTestRunManager=au;t.getTestImpactManager=vu;t.getTestResultManager=tr;t.logSuiteTelemetryLite=yu;t.logSuiteTelemetry=pu;t.getWorkItemTrackingManager=wu;t.getTestConfigurationManager=bu;t.getCodeCoverageManager=ku;t.getBuildManager=du;t.getTestSessionManager=gu;t.setTextSelection=nf;t.removeAllSelections=tf;t.setCaretPosition=rf;t.getResourcesFile=uf,function(n){n.testRun="Test Run";n.testResult="Test Result"}(ff=t.AttachmentSource||(t.AttachmentSource={}));di=function(){function n(){}return n.htmlDecode=function(n){return $("<div/>").html(n).text()},n}();t.HtmlHelper=di;ir=function(){function n(){}return n.getImageExtensionRegex=function(){return pt.BrowserCheckUtils.isIE()?/(\.jpg|\.jpeg|\.gif|\.png|\.bmp|\.tiff|\.tif)$/i:/(\.jpg|\.jpeg|\.gif|\.png|\.bmp)$/i},n}();t.ImageHelper=ir;ui=function(){function n(){}return n.beginUpdateSharedParamMappingsInLinkedTestCases=function(n,t,i){var r,e=0,u=0,s,f,h=dt.getWorkItemStore();this.beginGetLinkedTestCasesForSharedParamDataSet(t,function(t){var c=[];for(e=t.length,u=0;u<e;u++)r=t[u],s=r.getField(p.WorkItemFieldNames.DataField).getValue(),f=rt.TestCaseParameterDataInfo.parseTestCaseParametersData(s),n.executeCommands(f)&&(r.setFieldValue(p.WorkItemFieldNames.DataField,f.getJSON()),c.push(r));c.length>0?h.beginSaveWorkItemsBatch(c,function(){typeof i=="function"&&i()},function(n){var t=gi(n,c.length);t?o.MessageDialog.showMessageDialog(t,{title:kt.TriageViewSaveErrorTitle,buttons:[o.MessageDialog.buttons.ok]}):alert(wt.getErrorMessage(n))}):i&&i()})},n.beginGetLinkedTestCasesForSharedParamDataSet=function(n,t){var o=dt.getWorkItemStore(),i,u,e,f=[],r=a.WorkItemManager.get(o);r.invalidateCache([n]);r.beginGetWorkItem(n,function(n){for(u=rt.WitLinkingHelper.getLinks(n,rt.WitLinkingHelper.SHAREDPARAMETER_LINKTYPE_FORWARD),e=u.length,i=0;i<e;i++)f.push(u[i].linkData.ID);r.invalidateCache(f);r.beginGetWorkItems(f,function(n){typeof t=="function"&&t(n)},function(n){alert(wt.getErrorMessage(n))})})},n.beginUpdateParameterDataInLinkedTestCases=function(n,t,i,r){var e=this,s,h,u,c=0,f=0,l=dt.getWorkItemStore();this.beginGetLinkedTestCasesForSharedStep(i,function(i){var a=[];for(c=i.length,f=0;f<c;f++)u=i[f],h=e.getParameters(u),s=ct.intersect(h,t,yt.localeIgnoreCaseComparer),e._updateParameterDataInTestCaseWorkItem(u,n,s)&&a.push(u);a.length>0?l.beginSaveWorkItemsBatch(a,function(){typeof r=="function"&&r()},function(n){var t=gi(n,a.length);t?o.MessageDialog.showMessageDialog(t,{title:kt.TriageViewSaveErrorTitle,buttons:[o.MessageDialog.buttons.ok]}):alert(wt.getErrorMessage(n))}):r&&r()})},n._updateParameterDataInTestCaseWorkItem=function(n,t,i){var r=rt.TestCaseParameterDataInfo.parseTestCaseParametersData(n.getField(p.WorkItemFieldNames.DataField).getValue()),u,f;return(r||(u=this.getParameterData(n),t.setData(u)),t.executeCommands(r,i))?(f=r?r.getJSON():t.getXML(),n.setFieldValue(p.WorkItemFieldNames.DataField,f),!0):!1},n._isParamConflicting=function(n,t){return ct.contains(t,n,yt.localeIgnoreCaseComparer)},n.beginGetLinkedTestCasesForSharedStep=function(n,t){var o=dt.getWorkItemStore(),i,u,e,f=[],r=a.WorkItemManager.get(o);r.invalidateCache([n]);r.beginGetWorkItem(n,function(n){for(u=rt.WitLinkingHelper.getLinks(n,rt.WitLinkingHelper.SHAREDSTEPS_LINKTYPE_FORWARD),e=u.length,i=0;i<e;i++)f.push(u[i].linkData.ID);r.invalidateCache(f);r.beginGetWorkItems(f,function(n){typeof t=="function"&&t(n)},function(n){alert(wt.getErrorMessage(n))})})},n.getParameterData=function(n){var t=n.getField(p.WorkItemFieldNames.DataField).getValue(),i=this.parseParameterNamesFromParameterData(t);return this.parseParametersData($(at.parseXml(t||"")),i)},n.parseParameterNamesFromParameterData=function(n){var t=[],i,r;return $(n).find("xs\\:sequence").find("xs\\:element").each(function(n,u){i=$(u).attr("name");r=rt.ParameterCommonUtils.decodeName(i);t.push(r)}),t},n.getParameters=function(n){var t=n.getField(p.WorkItemFieldNames.Parameters).getValue();return rt.ParameterCommonUtils.parseParameters($(at.parseXml(t||"")))},n.updateParamValuesInStepResult=function(n,t,i,r,u,f){ot.logVerbose("[updateParamValuesInStepResult]Updating parameter values in shared step result.");var o=rt.ParameterCommonUtils.getParameters(n.getAction()),e,s=n.parameters.getItems();n.actionParameters=fi(o,r,u);o=rt.ParameterCommonUtils.getParameters(n.getExpectedResult());n.expectedResultParameters=fi(o,r,u);e=n.parameters.getIndexFromCollection(t);e>=0&&e<s.length&&(ot.logVerbose("[updateParamValuesInStepResult] @"+t+" = "+i),s[e].expected=i,s[e].setIsDirty(!0));!f&&n.doesExistOnServer()&&(ot.logVerbose("[updateParamValuesInStepResult] Step result is dirtied"),n.setIsDirty(!0))},n.parseSharedParameterPayload=function(t){var e=[],o,s,r,i,h,u,f,c;if(t)for(o=$.inArray(nt.CoreFieldRefNames.Id,t.columns),s=$.inArray(nt.CoreFieldRefNames.Title,t.columns),f=$.inArray(nt.CoreFieldRefNames.AssignedTo,t.columns),u=$.inArray(p.WorkItemFieldNames.Parameters,t.columns),i=0,h=t.rows.length;i<h;i++)r=new rt.ISharedParameterDataSetModel,r.id=t.rows[i][o],r.title=t.rows[i][s],f>0&&(r.assignedTo=t.rows[i][f]),u>0&&(c=t.rows[i][u],r.sharedParameterDataSet=n.parseSharedParameterDataSet($($.parseXML(c)))),e.push(r);return e},n._getSharedParamSearchQueryForId=function(n){return yt.format("Select [{0}], [{1}], [{2}], [{3}] FROM WorkItems where {4} = '{5}'",nt.CoreFieldRefNames.Id,nt.CoreFieldRefNames.Title,nt.CoreFieldRefNames.AssignedTo,p.WorkItemFieldNames.Parameters,nt.CoreFieldRefNames.Id,n)},n._beginGetSharedParameter=function(t,i,r,u,f){var o=this._getSharedParamSearchQueryForId(t),e;ot.logTracePoint("Getting Shared Parameter started");i&&a.WorkItemManager.get(dt.getWorkItemStore()).invalidateCache([t]);dt.beginQuery(o,function(t){ot.logTracePoint("Getting Shared Parameter compeleted");e=n.parseSharedParameterPayload(t.payload);e&&e.length>0&&r&&r(e[0])},function(n){alert(wt.getErrorMessage(n));u&&u(n)},f)},n._getParameterNamesFomData=function(t){var i=n.parseSharedParameterDataSet($($.parseXML(t)));return i.getParameters()},n.setTestCaseParametersDataFromXml=function(t,i,r){var f=[],u={},o,s,e,h,c={};i?r?(u=rt.ParameterCommonUtils.getParametersDataRow(i),f.push(u)):i.find("Table1").each(function(i,r){for(u={},e=t.getParameters(),h=e.length,c=n.normalizeParameterDataTable(r),i=0;i<h;i++)s=n.toHexValues(e[i]),o=c[s],u[e[i]]=o;f.push(u)}):f.push(u);t.setData(f,r)},n.beginPopulateTestCaseDataFromJson=function(n,t,i,r){var u=rt.TestCaseParameterDataInfo.parseTestCaseParametersData(t);return u?(ot.logVerbose("ParametersHelper.beginPopulateTestCaseDataFromJSON: Reading the parameter data field which is of the type JSON. The testcase uses Shared parameters"),this.beginPopulateTestCaseDataFromParamDataInfo(u,n,i,r),!0):!1},n.beginPopulateTestCaseDataFromParamDataInfo=function(n,t,i,r){for(var o=this,e=n.parameterMap,f,s=[],h=[],c=e.length,l=t?t.getProjectId():undefined,u=0;u<c;u++)f=e[u],h.push(f.localParamName),s.push(f.sharedParameterName);this._beginGetSharedParameter(n.getSharedParameterIdUsedByTestCase(),!0,function(r){o.populateTestCaseDataFromParamDataInfo(n,t,r.sharedParameterDataSet,r.title);i&&i()},r,l)},n.populateTestCaseDataFromParamDataInfo=function(t,i,r,u){for(var l=t.parameterMap,o,a=[],s=[],v=l.length,y,e,h,c=[],f=0;f<v;f++)o=l[f],s.push(o.localParamName),a.push(o.sharedParameterName);if(t.isMappingAllRows()){for(ot.logVerbose("The row mapping in the tescase is of the type MapAllRows, so all the rows from the shared parameter for mapped columns will be used in testcase"),y=r.getParamDataRowCount(),f=0;f<y;f++){for(h={},e=0;e<v;e++)h[s[e]]=r.getParameterValueForRow(f,a[e]);c.push(h)}n._removeTrailingEmptyRows(c,s)}else ot.logVerbose("The row mapping in the tescase is not of the type MapAllRows. As there is no support for MappingSelective rows, so no data rows will be used in testcase");i.setParametersDataInfo(c,t,[r],[u])},n._removeTrailingEmptyRows=function(t,i){for(var u=t.length,r=u-1;r>=0;r--)if(n.isEmptyRow(t[r],i))t.splice(r,1);else break},n.isEmptyRow=function(n,t){var i,r=0;for(t&&(r=t.length),i=0;i<r;i++)if(n[t[i]])return!1;return!0},n.toHexValues=function(n){for(var i="",r,t=0;t<n.length;t++)r=rt.ParameterCommonUtils.convertCharToHex(n[t]),i=i+r;return i},n.getHexStringAtPosition=function(n,t){var i,r,u=null,f=rt.ParameterConstants.encodeCharPattern,e=7;return r=n.substr(t,e),i=f.exec(r),i&&(u=i[0]),u},n.convertParamNameToHex=function(n){for(var i="",r,u=!1,t=0;t<n.length;t++)n.substr(t,6).toLowerCase()==="_x005f"&&(this.getHexStringAtPosition(n,t+6)&&(t=t+6),u=!0),r=this.getHexStringAtPosition(n,t),r&&!u?(i=i+r,t=t+r.length-1):i=i+rt.ParameterCommonUtils.convertCharToHex(n[t]),u=!1;return i},n.normalizeParameterDataTable=function(n){for(var t=0,i,r,u={},t=0;t<$(n).children().length;t++)i=$(n).children()[t].tagName,r=$($(n).children()[t]).text(),i=this.convertParamNameToHex(i),u[i]=r;return u},n.parseSharedParameterDataSet=function(n){var i=[],t={},r=[],u,f,e=[],o,s;return n.find(rt.SharedParameterDataSet._paramElement).each(function(n,t){i.push(rt.ParameterCommonUtils.decodeName($(t).text()))}),f=parseInt(n.find(rt.SharedParameterData._paramDataElement).eq(0).attr(rt.SharedParameterData._lastIdAttribute)),n.find(rt.SharedParameterData._dataRowElement).each(function(n,i){e.push(parseInt($(i).attr(rt.SharedParameterData._idAttribute)));t={};$(i).find(rt.SharedParameterData._keyValuePairElement).each(function(n,i){o=rt.ParameterCommonUtils.decodeName($(i).attr(rt.SharedParameterData._keyAttribute));s=$(i).attr(rt.SharedParameterData._valueAttribute);t[o]=di.htmlDecode(s)});r.push(t)}),u=new rt.SharedParameterData(r,f,e),new rt.SharedParameterDataSet(i,u)},n.parseParametersData=function(n,t){var f=this,u={},e=[],i,r,o;return n&&n.find("Table1").each(function(n,s){for(u={},o=f.normalizeParameterDataTable(s),n=0;n<t.length;n++)r=t[n],r=f.toHexValues(r),i=o[r],i===undefined&&(i=""),u[t[n]]=i;e.push(u)}),e},n.confirmParamsDelete=function(n,t,i,r){for(var f=[],o=n.length,e=i,u=0;u<o;u++)t.isSharedStepParameter(n[u])||f.push(n[u]);return f.length>0?(r&&(e=yt.format(i,f.join("\n"))),confirm(e)):!0},n.deleteParametersData=function(n,t,i){for(var r,f=n.length,u=0;u<f;u++)r=n[u],i?t.getSharedStepParametersData().deleteParam(r):t.isSharedStepParameter(r)||t.deleteParameter(r)},n}();t.ParametersHelper=ui;t.insertAndSelectTextAtCurrentCaretPosition=ef;t.setResultOutcome=of;t.getParameterNameValueMap=fi;t.getParameterValueFromDataRow=rr;ur=function(){function n(){}return n.prepareStepResults=function(t,i,r,u,f){var h,c,s,a=i.getTestSteps(),l,v,o,e,y=t.iterations.getItems(),p=i.getData();if(y[r]&&y[r].actionResults&&(l=y[r],v=l.actionResults,o=l.actionResults.getItems(),a))for(s=0,c=0;c<a.length;c++)(h=a[c],e=v.indexOf(h.id),o[e])&&(s!==e&&(v.swap(s,e),e=s),h instanceof rt.TestStep?(o[e].indexString=(e+1).toString()+".",o[e].setTestStep(h),t.isDataDriven()&&n.addParametersToStepResult(o[e],p,r)):(o[e].indexString=(e+1).toString()+".",n.populateSharedStepResult(o[e],l,p,r,u,f)),s++)},n.populateSharedStepResult=function(t,i,r,u,f,e){var s,c,o,a,v=f[t.sharedStepId],l,y,h;for(a=t.indexString,t.setSharedStep(v),t.getIsLatestRevision()||e&&e(!1),l=v.getTestSteps(),y=t.actionResults,s=0;s<l.length;s++)c=l[s],h=y.indexOf(c.id),(h===null||h===undefined)&&(h=s),t.actionResults.getItems()[h]||(o=i.createStepResult(c.id),t.actionResults.add(o)),o=t.actionResults.getItems()[h],o.indexString=a+(s+1).toString(),o.parentId=t.actionId,o.isSubStep=!0,o.setTestStep(c),n.addParametersToStepResult(o,r,u);fr(t.actionResults.getItems(),function(n){var t=n.indexString.indexOf("."),i=parseInt(n.indexString.slice(t+1));return i-1})},n.addParametersToStepResult=function(n,t,i){var r,e={},u,f;r=rt.ParameterCommonUtils.getParameters(n.getAction());n.actionParameters=fi(r,t,i);r=rt.ParameterCommonUtils.getParameters(n.getExpectedResult());n.expectedResultParameters=fi(r,t,i);e=$.extend({},n.actionParameters,n.expectedResultParameters);for(u in e)n.parameters.getIndexFromCollection(u)===-1&&(f=new rt.TestResultParameter(u),f.expected=e[u],f.dataType=0,n.parameters.add(f))},n.getSharedStepIdAndRevs=function(n,t){var i,r,o=[],u,s=[],f,h,c,e,a=t.iterations.getItems().length>0,l=t.iterations.getItems(),v=n.getId();if(n.getTestSteps())for(i=0;i<n.getTestSteps().length;i++)r=n.getTestSteps()[i],r instanceof rt.SharedSteps&&(u=parseInt(String(r.ref),10),a?(h=l[0].actionResults.indexOf(r.id),f=l[0].actionResults.getItems()[h],f&&(e=f.sharedStepRevision)):e=-1,c=new rt.IdAndRevision(u,e),$.inArray(u,s)===-1&&(s.push(u),o.push(c)));return o},n.getIterationAndStepResultAttachments=function(n){var r=[],t,u,i;if(n.testActionResults.attachments&&n.testActionResults.actionResults&&(t=n.testActionResults.attachments,t)){for(u=function(i){var u,f;t[i].actionPath?(u=$.map(n.testActionResults.actionResults,function(n,r){if(n.actionPath===t[i].actionPath&&n.id&&n.id.testResultId===t[i].testResultId&&n.iterationId==t[i].iterationId)return r}),u&&u.length>0&&(f=u[0],n.testActionResults.actionResults[f].attachments||(n.testActionResults.actionResults[f].attachments=[]),n.testActionResults.actionResults[f].attachments.push({Id:t[i].id,Name:t[i].fileName,Size:t[i].size}))):r.push(t[i])},i=0;i<t.length;i++)u(i);n.testActionResults.attachments=r}return n},n}();t.TestCaseResultUtils=ur;t.getIdsFromIdAndRevs=sf;t.getRevisionsFromIdAndRevs=hf;t.reOrderArray=fr;t.setIterationAndTestResultOutcomeLocally=cf;t.setIterationResultOutcomeLocally=er;t.setTestResultOutcomeLocally=or;t.getDefaultSizeForTestRunWindow=lf;t.handleEnterKey=af;t.handleSpaceKey=vf;t.getCssClassNameForOutcomeIcon=yf;t.setResultOutcomeText=pf;t.getFlatSteps=wf;t.getTestActionResult=bf;t.getRefreshMenuItem=kf;t.getWarningMessageForTestCaseDeletion=sr;t.removeSelectedTestCases=df;t.getBulkSaveErrorMessageHtml=gi;hr=function(){function n(){}return n.getSharedStep=function(n,t){var i=n.id,r=n.getFieldValueByRevision(nt.CoreField.Title,t),u=n.getField(p.WorkItemFieldNames.Actions).fieldDefinition.id,f=n.getField(p.WorkItemFieldNames.Parameters).fieldDefinition.id,e=n.getFieldValueByRevision(u,t),o=n.getFieldValueByRevision(f,t);return t=t===-1?n.revision-1:t-1,oi._createSharedStep(i,t,r,e,o,n)},n.mergeSharedStepParametersAndData=function(t,i){var r=0;if(i)for(r=0;r<i.length;r++)n.mergeSharedStepParamDataWithTestCase(t,i[r])},n.beginGetSharedStepsIdToTitleMap=function(t,i,r){var e=[nt.CoreFieldRefNames.Id,nt.CoreFieldRefNames.Title],u=new b.Dictionary,f;t&&t.length>0?(f=t.filter(function(n,i){return t.indexOf(n)===i}),dt.getWorkItemStore().beginPageWorkItems(f,e,function(t){u=n._parseSharedStepIdToTitleMapFromPayload(t.rows);i&&i(u)},r)):i(u)},n.mergeSharedStepParamDataWithTestCase=function(n,t){var i;t.hasParameters()&&(n.mergeSharedStepParameters(t.getParameters()),n.isUsingSharedParameters()||(i=ui.parseParametersData($(at.parseXml(n.getParametersDataFieldValue())),n.getParameters()),n.setData(i)))},n.parseSharedStepDataFromPayload=function(n,t){var e=[],o,u,r;if(n&&n.length>0)for(o=n.length,u=0;u<o;u++){var f=void 0,s=void 0,h=void 0,i={};for(f=n[u],s=f.length,r=0;r<s;r++)i[t[r]]=f[r];var c=i[nt.CoreFieldRefNames.Id],l=i[nt.CoreFieldRefNames.Rev],a=i[nt.CoreFieldRefNames.Title],v=i[p.WorkItemFieldNames.Actions]||"",y=i[p.WorkItemFieldNames.Parameters]||"";h=oi._createSharedStep(c,l,a,v,y);e.push(h)}return e},n._parseSharedStepIdToTitleMapFromPayload=function(n){var t,r,i,u=new b.Dictionary;if(n&&n.length>0)for(r=n.length,t=0;t<r;t++)i=n[t],u.set(i[0],i[1]);return u},n}();t.SharedStepUtils=hr;oi=function(){function n(){}return n.beginCreateTestCase=function(n,t,i,r,u,f,e,o,s,h,c,l){var p,w,y,b=[],a,v;p=at.parseXml(f||"");w=rt.TestBase.parseTestSteps($(p).find("steps"));y=rt.ParameterCommonUtils.parseParameters($(at.parseXml(e||"")));v=rt.TestCaseParameterDataInfo.parseTestCaseParametersData(o);v||(b=ui.parseParametersData($(at.parseXml(o||"")),y));a=new rt.TestCase(n,t,i,w,y,b,o,r,h,u);s&&a.setWorkItemWrapper(new rt.WorkItemWrapper(s));v?ui.beginPopulateTestCaseDataFromParamDataInfo(v,a,function(){c&&c(a)},l):c&&c(a)},n.beginPageWorkItems=function(t,i,r,u,f){var e,o=f?f.pageOperationCallback:null,s=f?f.cancelable:null;t=ct.unique(t);t.length>0&&!(s&&s.canceled)&&n._beginPageWorkItems(t,i,function(n){e?n&&(e.rows=e.rows.concat(n.rows)):e=n;o&&n&&o(n);n||r(e)},u,f)},n._beginPageWorkItems=function(t,i,r,u,f){var e=f?f.cancelable:null,o;o=t.splice(0,l.PageSizes.QUERY);o.length>0&&!(e&&e.canceled)?dt.getWorkItemStore().beginPageWorkItems(o,i,function(o){r(o);t.length>0&&!e.canceled?n._beginPageWorkItems(t,i,r,u,f):r(null)},u):r(null)},n.beginGetSharedSteps=function(t,i,r,u){var f,o,s,e=[],h=rt.TestBase.SharedStepCoreFields;t&&t.length>0?n.beginPageWorkItems(t,h,function(t){for(f=0,s=t.rows.length;f<s;f++)o=t.rows[f],e.push(n._getSharedStepFromPayload(o));n._insertAttachmentsMetadataToSharedStepWits(e,function(){i(e)},r)},r,u):i(e)},n._insertAttachmentsMetadataToSharedStepWits=function(t,i,r){for(var f,o,s=[],u=0,e=t.length;u<e;u++)s.push(t[u].getId());n._beginGetTestStepResources(s,function(n){var r,s;for(u=0,o=n.length;u<o;u++)for(r=new rt.TestStepAttachmentMetadata,r.updateMetadatafromResourceLink(n[u]),s=dt.getWorkItemStore().getApiLocation("DownloadAttachment",{filename:r.getOriginalName(),fileGuid:r.getFilePath(),contentOnly:!0}),r.setUri(s),f=0,e=t.length;f<e;f++)if(t[f].getId()===r.getWorkItemId()){t[f].addTestStepAttachmentsMetadata(r);break}i()},r)},n._beginGetTestStepResources=function(n,t,i){var f;if(n.length>0){var r=100,e=Math.ceil(n.length/r),u=0,o=0,s=[];for(f=1;f<=e;f++)dt.getWorkItemStore().beginGetWorkItemResources(n.slice(u,u+r),function(n){ct.addRange(s,n);o++;o===e&&t(s)},i),u+=r}},n._getSharedStepFromPayload=function(t){var i=t[0],r=t[1],u=t[2],f=t[3]||"",e=t[4]||"";return n._createSharedStep(i,r,u,f,e)},n._createSharedStep=function(n,t,i,r,u,f){var o,s,h,e;return s=at.parseXml(r||""),h=rt.TestBase.parseTestSteps($(s).find("steps")),o=rt.ParameterCommonUtils.parseParameters($(at.parseXml(u||""))),e=new rt.SharedStepWorkItem(n,t,i,h,o),f&&e.setWorkItemWrapper(new rt.WorkItemWrapper(f)),e},n.beginGetTestCases=function(t,i,r,u){i&&i.length!==0||(i=rt.TestBase.TestCaseCoreFields,i.push(nt.CoreFieldRefNames.AreaPath));t&&t.length>0?dt.getWorkItemStore().beginPageWorkItems(t,i,function(f){n.beginParseTestCaseDataFromPayload(f.rows,i,function(n){for(var u={},i=0;i<t.length;i++)u[t[i]]=i;r&&r(n.sort(function(n,t){return u[n.getId()]-u[t.getId()]}))},u)}):r([])},n.beginParseTestCaseData=function(t,i,r,u){var s=t.id,h=i?t.getFieldValueByRevision(nt.CoreField.Title,i-1):t.getField(nt.CoreField.Title).getValue(),c=i?t.getFieldValueByRevision(nt.CoreField.AreaPath,i-1):t.getField(nt.CoreField.AreaPath),f=t.getField(p.WorkItemFieldNames.Actions).fieldDefinition.id,l=i?t.getFieldValueByRevision(nt.CoreField.Description,i-1):t.getField(nt.CoreField.Description).getValue(),e=t.getField(p.WorkItemFieldNames.Parameters).fieldDefinition.id,o=t.getField(p.WorkItemFieldNames.DataField).fieldDefinition.id,a=(i?t.getFieldValueByRevision(f,i-1):t.getField(f).getValue())||"",v=(i?t.getFieldValueByRevision(e,i-1):t.getField(e).getValue())||"",y=(i?t.getFieldValueByRevision(o,i-1):t.getField(o).getValue())||"";n.beginCreateTestCase(s,i,h,c,l,a,v,y,t,{},r,u)},n.beginParseTestCaseDataFromPayload=function(t,i,r){var h=[],o,c,s,e,f,l,a,v,y,w,b,k,d,u={},g=0;if(t&&t.length>0)for(o=t.length,e=0;e<o;e++){for(s=t[e],c=s.length,f=0;f<c;f++)u[i[f]]=s[f];l=u[nt.CoreFieldRefNames.Id];y=u[nt.CoreFieldRefNames.Rev];w=u[nt.CoreFieldRefNames.Description]||"";a=u[nt.CoreFieldRefNames.Title];v=u[nt.CoreFieldRefNames.AreaPath]||"";b=u[p.WorkItemFieldNames.Actions]||"";k=u[p.WorkItemFieldNames.Parameters]||"";d=u[p.WorkItemFieldNames.DataField]||"";n.beginCreateTestCase(l,y,a,v,w,b,k,d,null,$.extend({},u),function(n){h.push(n);g++;g===o&&r&&r(h)})}},n}();t.TestCaseUtils=oi;dt=function(){function n(){}return n.beginQuery=function(t,i,r,u){var f=n.getWorkItemStore();u=ii.validateAndGetProjectId(u);f.beginGetProject(u,function(n){f.beginQuery(n.guid,t,i,r)})},n.getWorkItemStore=function(){return wi||(wi=g.ProjectCollection.getDefaultConnection().getService(bt.WorkItemStore)),wi},n.beginValidateQueryContainsCategory=function(n,t,i,r){ri().validateQueryContainsCategory(n,t,i,r)},n.beginGetWorkItemCategory=function(n,t,i){var r=i?ii.validateAndGetProjectId(i):d.TfsContext.getDefault().contextData.project.name,u=et.getClient();u.getWorkItemTypeCategory(r,n).then(function(n){t(n)})},n.getDefaultWorkItemTypeNameForCategory=function(t,i,r){n.beginGetWorkItemCategory(t,function(n){i(n.defaultWorkItemType.name)},r)},n.setAreaAndIterationPaths=function(n,t,i){n.setFieldValue(nt.CoreField.AreaPath,t);n.setFieldValue(nt.CoreField.IterationPath,i)},n.setReproSteps=function(n,t){n.fieldMap[rt.BugWITFields.ReproSteps.toUpperCase()]?n.setFieldValue(rt.BugWITFields.ReproSteps,t):n.setFieldValue(nt.CoreFieldRefNames.Description,t)},n.setTitle=function(n,t){n.setFieldValue(nt.CoreField.Title,t)},n.setTags=function(n,t){n.setFieldValue(nt.CoreField.Tags,t)},n.getAllWorkItemTypeNamesForCategory=function(t,i,r,u){n.beginGetWorkItemCategory(t,function(n){var t=n.workItemTypes,r=t.map(function(n){return n.name});i(r)},u)},n.getAllWorkItemTypeNamesForCategoryForAllProjects=function(n,t,i){ii.isProjectIdValid(i)?ri().getWorkItemTypeNameForCategoreisForSpecificProject(n,i,function(n){t(n)}):ri().getWorkItemTypeNamesForCategories(n,function(n){t(n)})},n.getDefaultWorkItemTypeInfoForWorkItemCategory=function(t,i,r){var u=d.TfsContext.getDefault();r=ii.validateAndGetProjectId(r);n.getDefaultWorkItemTypeNameForCategory(t,function(t){var u=n.getWorkItemStore();u.beginGetProject(r,function(n){var r,u,f=function(){r&&u&&i(r)};n.beginGetWorkItemType(t,function(n){r=n;f()});n.nodesCacheManager.beginGetNodes().then(function(n){u=n;f()})})},r)},n.getProposedStateName=function(n,t,i){var r=i?ii.validateAndGetProjectId(i):d.TfsContext.getDefault().contextData.project.name,u=et.getClient();u.getWorkItemTypeStates(r,n).then(function(n){t(n)})},n.beginGetTeamSettingsData=function(t,i){var r=d.TfsContext.getDefault(),u;hu.contextSupports(r)?(u=r.currentTeam.identity.id,n.beginGetTeamSettingsDataWithTeamId(u,t,i)):this.getDefaultTeam(r.contextData.project.id).then(function(r){n.beginGetTeamSettingsDataWithTeamId(r,t,i)},function(n){i(n)})},n.getDefaultTeam=function(n){return new Promise(function(t,i){h.getClient(ft.CoreHttpClient).getProject(n).then(function(n){return t(n.defaultTeam.id)},function(n){i(n)})})},n.beginGetTeamSettingsDataWithTeamId=function(t,i,r){if(t){var u=d.TfsContext.getDefault(),f=n.getWorkItemStore();f.beginGetTeamSettings(t).then(function(n){var t,r=[],e,f,o;f=n.defaultIteration||n.currentIteration||n.backlogIteration;e=f?f.friendlyPath:yt.empty;n.teamFieldName&&n.teamFieldName===nt.CoreFieldRefNames.AreaPath?(t=n.teamFieldDefaultValue,r=$.map(n.teamFieldValues,function(n){return n})):u.navigation.project&&(t=u.navigation.project,r.push({value:t}));o=new rt.TeamSettingsData(e,t,r,n.bugsBehavior);i&&i(o)},r)}},n.GetTeamSettingsData=function(){var n=i.defer();return this.beginGetTeamSettingsData(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise},n.EscapeWiqlFieldValue=function(n){return n.replace(/'/g,"''")},n}();t.WorkItemUtils=dt;cr=function(){function n(t){var i=this;this._project=t;n.getDefaultWorkItemTypeInfoForSharedStepCategory(function(n){i._sharedStepWorkItemType=n},this._getProjectId())}return n.getDefaultWorkItemTypeInfoForSharedStepCategory=function(n,t){dt.getDefaultWorkItemTypeInfoForWorkItemCategory(rt.WorkItemCategories.SharedStep,n,t)},n.prototype.createSharedStep=function(t,i,r,u,f){var e=this;this._sharedStepWorkItemType?this._processCreateSharedStepOkCallback(t,i,r,u,f):n.getDefaultWorkItemTypeInfoForSharedStepCategory(function(n){e._sharedStepWorkItemType=n;e._processCreateSharedStepOkCallback(t,i,r,u,f)},this._getProjectId())},n.prototype._processCreateSharedStepOkCallback=function(n,t,i,r,u){var f,o=dt.getWorkItemStore(),e=a.WorkItemManager.get(o).createWorkItem(this._sharedStepWorkItemType);dt.setAreaAndIterationPaths(e,i.getWorkItemWrapper().getFieldValue(nt.CoreFieldRefNames.AreaPath),i.getWorkItemWrapper().getFieldValue(nt.CoreFieldRefNames.IterationPath));f=new rt.SharedStepWorkItem(0,0,n,[],[]);f.setWorkItemWrapper(new rt.WorkItemWrapper(e));f.setIsDirty(!0);this._addSteps(f,t);f.beginSave(r,u)},n.prototype._addSteps=function(n,t){for(var r=1,u=t.length,i=0;i<u;i++)n.copyStep(t[i],r),r++},n.prototype._getProjectId=function(){return ii.validateAndGetProjectIdFromProject(this._project)},n}();t.SharedStepCreationHelper=cr;ii=function(){function n(){}return n.validateAndGetProjectId=function(n){var t=n;return this.isProjectIdValid(t)||(t=this.getProjectIdFromContext()),t},n.validateAndGetProjectIdFromProject=function(t){var i=t?t.guid:undefined;return n.validateAndGetProjectId(i)},n.isProjectIdValid=function(n){var t=!0;return n&&n!==""&&n!=="00000000-0000-0000-0000-000000000000"||(t=!1),t},n.getProjectIdFromContext=function(){var n=d.TfsContext.getDefault();return n.navigation.projectId},n}();t.ProjectUtil=ii;lr=function(){function n(){}return n.beginGetReferencedTestCases=function(t,i,r,u){var o=[],l=dt.getWorkItemStore(),e,s,c,f=[],h=a.WorkItemManager.get(l);i&&i.length!==0||(i=rt.TestBase.TestCaseIdAndTitleFields);h.invalidateCache([t]);h.beginGetWorkItem(t,function(t){for(s=rt.WitLinkingHelper.getLinks(t,rt.WitLinkingHelper.SHAREDPARAMETER_LINKTYPE_FORWARD),c=s.length,e=0;e<c;e++)f.push(s[e].linkData.ID);h.invalidateCache(f);f&&f.length>0?dt.getWorkItemStore().beginPageWorkItems(f,i,function(t){o=n._parseReferencedTestCaseDataFromPayload(t.rows,i);r&&r(o)},u):r(o)},u)},n._parseReferencedTestCaseDataFromPayload=function(n,t){var o=[],r,s,h,f,u,i,c,l,e={};if(n&&n.length>0)for(s=n.length,u=0;u<s;u++){for(f=n[u],h=f.length,i=0;i<h;i++)e[t[i]]=f[i];c=e[nt.CoreFieldRefNames.Id];l=e[nt.CoreFieldRefNames.Title];r=new rt.ReferencedTestCaseModel;r.id=c;r.title=l;o.push(r)}return o},n}();t.SharedParameterHelper=lr;ar=function(){function n(t){var i=this;this._projectId=t;n.beginGetDefaultWorkItemTypeInfoForSharedParameterCategory(function(n){i._sharedParameterWorkItemType=n},t)}return n.beginGetDefaultWorkItemTypeInfoForSharedParameterCategory=function(n,t){ot.logVerbose("[beginGetDefaultWorkItemTypeInfoForSharedParameterCategory] Getting default work item type for Shared Parameter");dt.getDefaultWorkItemTypeInfoForWorkItemCategory(rt.WorkItemCategories.ParameterSet,n,t)},n.prototype.createSharedParameter=function(t,i,r,u,f,e,o){var s=this;ot.logVerbose("[createSharedParameter] Creating Shared Parameter");this._sharedParameterWorkItemType?this._createSharedParameter(t,i,r,u,f,e,o):n.beginGetDefaultWorkItemTypeInfoForSharedParameterCategory(function(n){s._sharedParameterWorkItemType=n;s._createSharedParameter(t,i,r,u,f,e,o)},this._projectId);ut.TelemetryService.publishEvents(ut.TelemetryService.featureAddParameterSet,{})},n.prototype._createSharedParameter=function(n,t,i,r,u,f,e){var s=this,h=dt.getWorkItemStore(),o=a.WorkItemManager.get(h).createWorkItem(this._sharedParameterWorkItemType);o.setFieldValue(nt.CoreFieldRefNames.Title,n);this._addParametersData(o,t,i);r?(dt.setAreaAndIterationPaths(o,r.getWorkItemWrapper().getFieldValue(nt.CoreFieldRefNames.AreaPath),r.getWorkItemWrapper().getFieldValue(nt.CoreFieldRefNames.IterationPath)),this._saveSharedStep(o,f,e)):dt.beginGetTeamSettingsDataWithTeamId(u,function(n){dt.setAreaAndIterationPaths(o,n.getDefaultArea(),n.getDefaultIteration());s._saveSharedStep(o,f,e)},e)},n.prototype._saveSharedStep=function(n,t,i){n.beginSave(function(n){t(n.workItems[0])},i)},n.prototype._addParametersData=function(n,t,i){var r=new rt.SharedParameterData,f=1,u;ot.logVerbose("[_addParametersData] Adding parameter values to shared parameter work item");i.forEach(function(n){var i=[];t.forEach(function(t){i.push(n[t])});r.addParameterRow(t,i,++f)});u=new rt.SharedParameterDataSet(t,r);n.setFieldValue(p.WorkItemFieldNames.Parameters,u.getXML())},n}();t.SharedParameterCreationHelper=ar;vr=function(){function n(){}return n.getAllWorkItemTypeForTestCaseCategory=function(n,t,i){dt.getAllWorkItemTypeNamesForCategory(rt.WorkItemCategories.TestCase,n,t,i)},n.getAllTestCaseCategoryWorkItemFields=function(t,i){var r={},u=[],e=d.TfsContext.getDefault(),o=function(n){$.each(n,function(n,t){$.each(t.fields,function(n,t){r[t.name]||(r[t.name]=!0,u.push(t))})});t(u)},f=function(n){typeof i=="function"&&i(n)};dt.getWorkItemStore().beginGetProject(e.navigation.project,function(t){n.getAllWorkItemTypeForTestCaseCategory(function(n){t.beginGetWorkItemTypes(n,o,f)},f,t.guid)})},n.getDefaultWorkItemTypeInfoForTestCaseCategory=function(n){dt.getDefaultWorkItemTypeInfoForWorkItemCategory(rt.WorkItemCategories.TestCase,n)},n.getDefaultProposedStateForTestCaseCategory=function(n,t){dt.getProposedStateName(n,t)},n}();t.TestCaseCategoryUtils=vr;yr=function(){function n(){}return n.prototype.invalidate=function(){this._areaPathsData=null;this._iterationsData=null;this._teamSettingsData=null},n.prototype.beginGetAreaPathsData=function(n,t){var i=this,r;if(this._areaPathsData){n&&n(this._areaPathsData);return}r=dt.getWorkItemStore();r.beginGetProject(d.TfsContext.getDefault().navigation.projectId,function(r){r.nodesCacheManager.beginGetNodes().then(function(){i._areaPathsData=r.nodesCacheManager.getAreaNode(!0);n&&n(i._areaPathsData)},t)})},n.prototype.beginGetTeamSettingsData=function(n,t){var i=this;this._teamSettingsData?n&&n(this._teamSettingsData):dt.beginGetTeamSettingsData(function(t){i._teamSettingsData=t;n&&n(t)},t)},n.prototype.areaPathIncludedInTeam=function(n){var r=!1,t,i,u;if(this._teamSettingsData&&(t=this._teamSettingsData.getAreas(),Array.isArray(t)))for(u=t.length,i=0;i<u;i++)t[i].includeChildren?yt.startsWith(n,t[i].value)&&(r=!0):yt.localeIgnoreCaseComparer(t[i].value,n)===0&&(r=!0);return r},n.prototype.beginGetIterationsData=function(n,t){var i=this;if(this._iterationsData){n&&n(this._iterationsData);return}this._beginGetIterations(function(t){i._iterationsData=t;n&&n(i._iterationsData)},t)},n.prototype.getIterationDates=function(n){if(!n||!this._iterationsData)return new rt.IterationDates(null,null);var e=r.CssNode,f=new k.FieldDataProvider(this._iterationsData),o=f.getNode(n),t,i,u;return(t=e.create(o,f),i=t.getStartDate(),u=t.getEndDate(),i&&u)?new rt.IterationDates(vt.shiftToUTC(i),vt.shiftToUTC(u)):new rt.IterationDates(null,null)},n.prototype.getIterationId=function(n){if(n&&this._iterationsData){var u=r.CssNode,t=new k.FieldDataProvider(this._iterationsData),f=t.getNode(n),i;return i=u.create(f,t),i.getId()}},n.prototype._beginGetIterations=function(n,t){u.getDataAsync("ms.vss-work-web.api-classification-iterations-data-provider").then(function(i){i?n(i):t(null)},t)},n}();t.PlanCreationHelper=yr;pr=function(){function n(){}return n.getSuiteTypeString=function(n){var t=p.TestSuiteType;return n===t.StaticTestSuite?it.StaticSuiteTitle:n===t.RequirementTestSuite?it.RequirementBasedSuiteTitle:n===t.DynamicTestSuite?it.QueryBasedSuiteTitle:void 0},n.beginAddTestCasesToSuite=function(n,t,i,r,u){var f,e=dt.getWorkItemStore(),o=n.length;ri().addTestCasesToSuite(i.id,i.revision,n,function(t){i.type===p.TestSuiteType.RequirementTestSuite?(f=i.requirementId,e.beginGetWorkItems([f],function(i){rt.WitLinkingHelper.linkTestCasesToRequirement(i[0],n);i[0].beginSave(function(){r&&r(t);var i=a.WorkItemManager.get(e);i.invalidateCache(n);i.invalidateCache([f])},u)},u)):r&&r(t)},u)},n}();t.TestSuiteUtils=pr;t.isClickOrEnterKeyDownEvent=gf;t.isDataCollectionEnabled=ne;t.enableXtOnFirefox=wr;t.enableXtOnEdge=br;kr=function(){function n(n,t){this._maxZoomDimensionAllowed=350;this._minZoomDimensionAllowed=200;this._zoomedImageMargin=20;this._referenceObject=n;this._zoomDimension=this._minZoomDimensionAllowed;this._thumbnailImageContainerSelector=t}return n.prototype.initializeImageForZoom=function(n){var t=this,i=$(n).closest(this._thumbnailImageContainerSelector);i.on("mouseenter",function(i){return t._getSourceImage(i,$(n))}).on("mouseleave",function(n){return t._handlerOut(n)})},n.prototype._getSourceImage=function(n,t){var s=this,r=$(n.currentTarget),h=t.height(),a=t.width(),i=t.offset(),c=i.top,v=i.left,u=new Image,l=t.attr("src"),f,e,o;this._zoomDimension=Math.min(Math.max(this._referenceObject.width()-2*this._zoomedImageMargin,this._minZoomDimensionAllowed),this._maxZoomDimensionAllowed);f=$('<div class="test-step-attachment-zoomedImageDiv"><div class="test-step-attachment-zoom-placeholder">'+it.LoadingImageText+"<\/div><\/div>");r.append(f).append('<div class="test-step-attachment-image-zoomedArea"><\/div>');e=c>=this._zoomDimension+2*this._zoomedImageMargin?i.top-(this._zoomDimension+2*this._zoomedImageMargin):i.top+h;r.find(".test-step-attachment-zoomedImageDiv").css({left:0,top:e,width:this._zoomDimension,height:this._zoomDimension});o=function(){s._handlerIn($(u),t,r)};u.onload=o;$(u).attr("src",l)},n.prototype._handlerIn=function(n,t,i){var o=this;i.find(".test-step-attachment-zoom-placeholder").replaceWith(n);this._setZoomImageSize(n.width(),n.height());var u=n.width()<=this._zoomDimension?t.width():t.width()*this._zoomDimension/n.width(),f=n.height()<=this._zoomDimension?t.height():t.height()*this._zoomDimension/n.height(),s=Math.max(n.width(),0)/t.width(),h=Math.max(n.height(),0)/t.height(),r=t.parent(),e=t.offset();i.find(".test-step-attachment-image-zoomedArea").css({left:e.left-r.offset().left,top:e.top-r.offset().top,width:Math.round(u),height:Math.round(f)});return i.on("mousemove",function(n){return o._onMouseMove(n,t,s,h,Math.round(f),Math.round(u),$(r))})},n.prototype._handlerOut=function(n){return $(".test-step-attachment-zoomedImageDiv").remove(),$(".test-step-attachment-image-zoomedArea").remove(),$(n.currentTarget).off("mousemove")},n.prototype._onMouseMove=function(n,t,i,r,u,f,e){var v=$(".test-step-attachment-image-zoomedArea"),o=t.offset(),s=e.offset(),h=this._calculateHighlightPosition(n.pageY-o.top,o.top-s.top,t.height(),u),c=this._calculateHighlightPosition(n.pageX-o.left,o.left-s.left,t.width(),f),l=(c-o.left+s.left)*-i,a=(h-o.top+s.top)*-r;return $(".test-step-attachment-image-zoomedArea").css({left:c,top:h}),$(".test-step-attachment-zoomedImageDiv img").css({left:l,top:a})},n.prototype._setZoomImageSize=function(n,t){var i=t,r=n;n<t?n<this._zoomDimension&&(r=this._zoomDimension,i=this._zoomDimension*t/n):t<this._zoomDimension&&(i=this._zoomDimension,r=this._zoomDimension*n/t);$(".test-step-attachment-zoomedImageDiv img").css({width:r,height:i})},n.prototype._calculateHighlightPosition=function(n,t,i,r){var u=Math.min(Math.max(n-r/2,0),i-r);return u+t},n}();t.ImageZoomUtil=kr;dr=function(){function n(){}return n.IsDataTierUpdated=function(n,t){var i;i=d.TfsContext.getDefault().getActionUrl("IsDataTierUpdated","testManagement",{area:"api"});v.getMSJSON(i,{},n,t)},n.TestManagementExportLatestOutcomeFeatureEnabled=function(){return ei.AreAdvancedTestManagementFeaturesEnabled()},n}();t.ATDTValidationUtil=dr;gr=function(){function n(){}return n.Area="TestManagement",n.GotoTestHub="VSO.TFS.TCM.GotoTestHub",n.LoadManualTests="VSO.TFS.TCM.LoadManualTests",n.ParametersPageTTI="VSO.TFS.TCM.ParametersPageTTI",n.runsPageTTI="VSO.TFS.TCM.RunsPageTTI",n.configurationsPageTTI="VSO.TFS.TCM.ConfigurationsPageTTI",n.LoadTestPlans=n.GotoTestHub+".LoadTestPlans",n.AllPlansLoaded=n.GotoTestHub+".AllPlansLoaded",n.AllSuitesLoadedForPlan=n.GotoTestHub+".AllSuitesLoadedForPlan",n.LoadManualTestsPerfMarkerClass="load-manual-tests-perf-marker",n.GotoRecentExploratorySessions="VSO.TFS.TCM.GotoRecentExploratorySessions",n.QueryRecentExploratorySessions="VSO.TFS.TCM.QueryRecentExploratorySessions",n.LoadExploratorySessionHeaderCharts=n.GotoRecentExploratorySessions+".LoadHeaderCharts",n.LoadExploratorySessionGridData=n.GotoRecentExploratorySessions+".LoadGridData",n.LoadTestPlansMine="VSO.TFS.TRA.LoadTestPlans.Mine",n.LoadTestPlansAll="VSO.TFS.TRA.LoadTestPlans.All",n.FetchTestPlansMetadata="VSO.TFS.TRA.LoadTestPlans.FetchTestPlansMetadata",n.FetchTestPlansAllPageData="VSO.TFS.TRA.LoadTestPlans.FetchTestPlansAllPageData",n.FetchTestPlansAllInitialPageData="VSO.TFS.TRA.LoadTestPlans.FetchTestPlansAllInitialPageData",n.FetchTestPlansMinePageData="VSO.TFS.TRA.LoadTestPlans.FetchTestPlansMinePageData",n.TestAX_FailuresReport="VSO.TFS.TCM.TestAX_FailuresReport",n.TestAX_PassRateCard="VSO.TFS.TCM.TestAX_PassRateCard",n.TestAX_FailedTestsCard="VSO.TFS.TCM.TestAX_FailedTestsCard",n.TestAX_AggregateTrendChart="VSO.TFS.TCM.TestAX_AggregateTrendChart",n.TestAX_ResultsGrid="VSO.TFS.TCM.TestAX_ResultsGrid",n.TestAX_ResultsGridElement="VSO.TFS.TCM.TestAX_ResultsGridElement",n.TestAX_ResultsGridLoadMore="VSO.TFS.TCM.TestAX_ResultsGridLoadMore",n.TestAX_TestInsightsReport="VSO.TFS.TCM.TestAX_TestInsightsReport",n.TestAX_TestTrendChart="VSO.TFS.TCM.TestAX_TestTrendChart",n.TestAX_TestHistoryGrid="VSO.TFS.TCM.TestAX_TestHistoryGrid",n.TestAX_TestHistoryGridLoadMore="VSO.TFS.TCM.TestHistoryGridLoadMore",n.TestAX_TestDetailsView="VSO.TFS.TCM.TestAX_TestDetailsView",n.TextAX_FiltersMetaData_Branch="VSO.TFS.TCM.TextAX_FiltersMetaData_Branch",n.TextAX_FiltersMetaData_Environment="VSO.TFS.TCM.TestAX_FiltersMetaData_Environment",n.TextAX_FiltersMetaData_TestRun="VSO.TFS.TCM.TestAX_FiltersMetaData_TestRun",n.TextAX_FiltersMetaData_Container="VSO.TFS.TCM.TestAX_FiltersMetaData_Container",n.TextAX_FiltersMetaData_Owner="VSO.TFS.TCM.TestAX_FiltersMetaData_Owner",n.TestAX_FiltersMetaData_ReleaseDefinition="VSO.TFS.TCM.TestAX_FiltersMetaData_ReleaseDefinition",n.TestAX_FiltersMetaData_ReleaseDefinitionFromBuildArtifact="VSO.TFS.TCM.TestAX_ReleaseDefinitionFromBuildArtifact",n}();t.TcmPerfScenarios=gr;nu=function(){function n(){}return n.Area="TestResults",n.BuildTestResultDetailsExtension="ms.vss-test-web.test-result-details",n.TestResultsInTestTab_WithResultDetails="VSO.TFS.TRA.TestResultsInTestTab.WithResultDetails",n.TestResultsInBuildTimeLine_SummaryDetails="VSO.TFS.TRA.TestResultInBuildTimeLine_SummaryDetails",n.TestResultsInTestTab_NavigateResultDetails="VSO.TFS.TRA.TestResultsInTestTab.NavigateResultDetails",n.TestResultsInBuild_NoResultDetails="VSO.TFS.TRA.TestResultsInBuild.NoResultDetails",n.TestResultsInBuild_WithResultDetails="VSO.TFS.TRA.TestResultsInBuild.WithResultDetails",n.TestResultsInBuild_NavigateResultDetails="VSO.TFS.TRA.TestResultsInBuild.NavigateResultDetails",n.TestResultsInBuild_FullyLoadedView="VSO.TFS.TRA.TestResultsInBuild.FullyLoadedView",n.TestResultsInBuild_PopulateResultsInGrid="VSO.TFS.TRA.TestResultsInBuild.PopulateResultsInGrid",n.TestResultsInBuild_PagedResultsFetchInGrid="VSO.TFS.TRA.TestResultsInBuild.PagedResultsFetchInGrid",n.TestResultsInBuild_GetGroupByDetails=n.TestResultsInBuild_WithResultDetails+".GetGroupByDetails",n.TestResultsInBuild_BeginFetchSummaryData=n.TestResultsInBuild_NoResultDetails+".BeginFetchSummaryData",n.TestResultsInBuild_EndFetchSummaryData=n.TestResultsInBuild_NoResultDetails+".EndFetchSummaryData",n.TestResultsInBuild_GetResultGroupsByBuild="VSO.TFS.TRA.TestResultsInBuild.getResultGroupsByBuild",n.TestResultsInRelease_GetResultGroupsByRelease="VSO.TFS.TRA.TestResultsInRelease.getResultGroupsByRelease",n.TestResultsInBuild_PopulateResultsCacheForFilter="VSO.TFS.TRA.TestResultsInBuild.populateResultsCacheForFilter",n.TestResultsInBuild_FilteringUsingClientSideCache="VSO.TFS.TRA.TestResultsInBuild.filteringUsingClientSideCache",n.TRA_CreateBug="VSO.TFS.TRA.CreateBug",n.TRA_CreateBug_BeginGetProject="VSO.TFS.TRA.CreateBug.BeginGetProject",n.TRA_CreateBug_EndGetProject="VSO.TFS.TRA.CreateBug.EndGetProject",n.TRA_CreateBug_BeginGetDefaultWorkItemTypeNameForCategory="VSO.TFS.TRA.BeginGetDefaultWorkItemTypeNameForCategory",n.TRA_CreateBug_EndGetDefaultWorkItemTypeNameForCategory="VSO.TFS.TRA.EndGetDefaultWorkItemTypeNameForCategory",n.TRA_CreateBug_BeginGetCreateWorkItem="VSO.TFS.TRA.CreateBug.BeginGetCreateWorkItem",n.TRA_CreateBug_EndCreateWorkItem="VSO.TFS.TRA.CreateBug.EndCreateWorkItem",n.TRA_CreateBug_BeginPopulateWorkItem="VSO.TFS.TRA.CreateBug.BeginPopulateWorkItem",n.TRA_CreateBug_ResultLinksPopulated="VSO.TFS.TRA.CreateBug.ResultLinksPopulated",n.TRA_CreateBug_EndPopulateWorkItem="VSO.TFS.TRA.CreateBug.EndPopulateWorkItem",n.TRA_CreateBug_BeginGetTestResults="VSO.TFS.TRA.CreateBug.BeginGetTestResults",n.TRA_CreateBug_EndGetTestResults="VSO.TFS.TRA.CreateBug.EndGetTestResults",n.LoadRunsHub="VSO.TFS.TRA.LoadRunsHub",n.OpenTestRunSummary="VSO.TFS.TRA.OpenTestRunSummary",n.OpenTestRunSummary_BeginGetTestRunDetails="VSO.TFS.TRA.OpenTestRunSummary.BeginGetTestRunDetails",n.OpenTestRunSummary_EndGetTestRunDetails="VSO.TFS.TRA.OpenTestRunSummary.EndGetTestRunDetails",n.OpenTestRunSummary_RunSummaryViewRendered="VSO.TFS.TRA.OpenTestRunSummary.RunSummaryViewRendered",n.LoadTestResultsForARun="VSO.TFS.TRA.LoadTestResultsForARun",n.OpenTestResultDetails="VSO.TFS.TRA.OpenTestResultDetails",n.GetTestResultDetails="VSO.TFS.TRA.GetTestResultDetails",n.Begin_GetTestResultDetailsFromServer="VSO.TFS.TRA.Begin_GetTestResultDetailsFromServer",n.End_GetTestResultDetailsFromServer="VSO.TFS.TRA.End_GetTestResultDetailsFromServer",n.GetTestFailureAndResolutionStates="VSO.TFS.TRA.GetTestFailureAndResolutionStates",n.BeginGetTestFailureStates="VSO.TFS.TRA.BeginGetTestFailureStates",n.EndGetTestFailureStates="VSO.TFS.TRA.EndGetTestFailureStates",n.BeginGetTestResolutionStates="VSO.TFS.TRA.BeginGetTestResolutionStates",n.EndGetTestResolutionStates="VSO.TFS.TRA.EndGetTestResolutionStates",n.PopulateBugsSectionWithRecentBugsForResult="VSO.TFS.TRA.PopulateBugsSectionWithRecentBugsForResult",n.GetAssociatedBugsForResult="VSO.TFS.TRA.GetAssociatedBugsForResult",n.PopulateAttachmentsSectionForResult="VSO.TFS.TRA.PopulateAttachmentsSectionForResult",n.PopulateLinkedRequirementsSectionForResult="VSO.TFS.TRA.PopulateLinkedRequirementsSectionForResult",n.TestResultHistory="VSO.TFS.TRA.TestResultHistory",n.TestResultHistory_BeginGetTestResult=n.TestResultHistory+".BeginGetTestResult",n.TestResultHistory_EndGetTestResult=n.TestResultHistory+".EndGetTestResult",n.TestResultHistory_BeginGetTestCaseHistory=n.TestResultHistory+".BeginGetTestCaseHistory",n.TestResultHistory_EndGetTestCaseHistory=n.TestResultHistory+".EndGetTestCaseHistory",n.TestResultHistory_FetchHistogramTrendReportForResult=n.TestResultHistory+".FetchHistogramTrendReportForResult",n.TestResultHistory_GotResultTrendData=n.TestResultHistory+".GotResultTrendData",n.TestResultSummary_SummaryUpdateStarted="SummaryUpdateStarted",n.TestResultSummary_SummaryUpdateEnded="SummaryUpdateEnded",n.TestResultGrid_GridUpdateStarted="GridUpdateStarted",n.TestResultGrid_GridUpdateEnded="GridUpdateEnded",n}();t.TRAPerfScenarios=nu;tu=function(){function n(){}return n.onEnterPress=function(n,t,i){t===void 0&&(t=!0);n.keydown(function(n){var r=n.keyCode?n.keyCode:n.which;return r===pt.KeyCode.ENTER&&!(t&&n.shiftKey)?(i?i():$(n.target).click(),n.preventDefault(),!1):!0})},n.onWindowCtrlShortcut=function(n,t){$(window).on("keydown",function(i){pt.KeyUtils.isExclusivelyCtrl(i)&&i.keyCode===n&&(i.preventDefault(),t())})},n}();t.AccessibilityHelper=tu;iu=function(){function n(n){this._maxRetries=10;this._retries=0;this._retryInterval=500;n>0&&(this._maxRetries=n)}return n.prototype.executeAfterLoadComplete=function(n,t){if(this._retries>0)throw new Error("Create a new instance of this class before every invocation");this._executeAfterLoadComplete(n,t)},n.prototype._executeAfterLoadComplete=function(n,t){var r=this,i=!1;window.performance&&window.performance.timing?window.performance.timing.loadEventEnd&&window.performance.timing.loadEventEnd>0&&(i=!0):at.delay(n,this._retryInterval,t);this._retries++;this._retries>this._maxRetries||i?t&&at.delay(n,this._retryInterval,t):at.delay(this,this._retryInterval,function(){r._executeAfterLoadComplete(n,t)})},n}();t.DelayedExecutionHelper=iu;ru=function(){function n(){}return n.getFeatureFlagState=function(){var t=st.FeatureAvailabilityService.isFeatureEnabled(y.FeatureAvailabilityFlags.TCMUseNewIdentityPicker);n.featureFlagEnabled=t},n}();t.CommonIdentityPickerHelper=ru;uu=function(){function n(){}return n.prototype._checkForExistingMtrWindow=function(){var n=pt.BrowserCheckUtils.isLessThanOrEqualToIE9();return window.sessionStorage.testRun&&!n?confirm(it.ExistingMTRInstanceError):!0},n.prototype._checkForExistingTestRunnerForVerify=function(){return window.sessionStorage.testRun?(alert(it.AlertAlreadyInVerifyMode),!1):!0},n.prototype._openRunInNewWindow=function(n,t,i){var f=d.TfsContext.getDefault(),e=this._getDefaultSettingsForTestRunWindow(),u=n.testPointToResume?!0:!1,o=f.getActionUrl("Index","testExecution"),r;window.sessionStorage.testRun=JSON.stringify(n);window.sessionStorage.testSuite=JSON.stringify(t);i&&(i.verifyBugInfo&&(window.sessionStorage.verifyBugInfo=JSON.stringify(i.verifyBugInfo)),i.teamId&&(window.sessionStorage.teamId=i.teamId));r=window.open(o,"",e);ut.TelemetryService.publishEvents(ut.TelemetryService.featureLoadWebTestRunner,{});r?(r.focus(),this._resizeTestRunnerWindowToDefaultSize(r,n.testRun,u)):(u||this._deleteTestRun(n.testRun),window.sessionStorage.removeItem("testRun"),window.sessionStorage.removeItem("verifyBugInfo"),window.sessionStorage.removeItem("teamId"))},n.prototype._getDefaultSettingsForTestRunWindow=function(){return"location=0,status=0,scrollbars=1,top=0,left=0,width="+(window.screen.availWidth/5-20)+",height="+(window.screen.availHeight/1.1-60)+",resizable=yes"},n.prototype._deleteTestRun=function(n){var t=this._getTestRunManager();t&&this._testRunManager.abort(n,$.noop)},n.prototype._resizeTestRunnerWindowToDefaultSize=function(n,t,i){var r=window.navigator.userAgent.toLowerCase();if(r.indexOf("chrome")===-1){if(n)try{n.moveTo(window.screen.width-window.screen.availWidth,0);n.focus()}catch(u){}}else at.delay(this,3e3,function(){n&&n.outerHeight===0&&n.outerWidth===0&&(i||this._deleteTestRun(t),window.sessionStorage.removeItem("testRun"),window.sessionStorage.removeItem("verifyBugInfo"),window.sessionStorage.removeItem("teamId"))})},n.prototype._getTestRunManager=function(){var n=d.TfsContext.getDefault();return this._testRunManager||(this._testRunManager=g.ProjectCollection.getConnection(n).getService(rt.TestRunManager)),this._testRunManager},n}();t.WebRunner=uu,function(n){n[n.TestPointId=300]="TestPointId";n[n.TestCaseId=301]="TestCaseId";n[n.Tester=302]="Tester";n[n.AssignedTo=303]="AssignedTo";n[n.ConfigurationId=304]="ConfigurationId";n[n.ConfigurationName=305]="ConfigurationName";n[n.Outcome=306]="Outcome";n[n.SuiteName=307]="SuiteName";n[n.LastRunDuration=308]="LastRunDuration";n[n.LastRunBy=309]="LastRunBy";n[n.Build=310]="Build";n[n.SuiteId=311]="SuiteId";n[n.Order=312]="Order"}(ni=t.TestPointFieldIds||(t.TestPointFieldIds={}));gt=function(){function n(){}return n.TestPointId="TCM.TestPointId",n.TestCaseId="TCM.TestPointTestCaseId",n.Tester="TCM.TestPointTester",n.AssignedTo="TCM.TestPointAssignedTo",n.ConfigurationId="TCM.TestPointConfigurationId",n.ConfigurationName="TCM.TestPointConfigurationName",n.SuiteName="TCM.TestPointSuiteName",n.SuiteId="TCM.TestPointSuiteId",n.Outcome="TCM.TestPointOutcome",n.LastRunDuration="TCM.LastRunDuration",n.LastRunBy="TCM.LastRunBy",n.Build="TCM.Build",n.Order="TCM.TestPointOrder",n}();t.TestPointReferenceNames=gt;fu=function(){function n(){}return n._testPointConfigurationField={id:ni.ConfigurationName,text:it.TestPointGridColumnConfiguration,name:it.TestPointGridColumnConfiguration,refName:gt.ConfigurationName,isQueryable:function(){return!0}},n._testPointSuiteNameField={id:ni.SuiteName,text:it.TestPointGridColumnSuiteName,name:it.TestPointGridColumnSuiteName,refName:gt.SuiteName,isQueryable:function(){return!0}},n._testPointSuiteIdField={id:ni.SuiteId,text:it.TestPointGridColumnSuiteId,name:it.TestPointGridColumnSuiteId,refName:gt.SuiteId,isQueryable:function(){return!0}},n._testPointLastRunByField={id:ni.LastRunBy,text:it.TestPointGridColumnLastRunBy,name:it.TestPointGridColumnLastRunBy,refName:gt.LastRunBy,isQueryable:function(){return!0}},n._testPointLastRunDurationField={id:ni.LastRunDuration,text:it.TestPointGridColumnLastRunDuration,name:it.TestPointGridColumnLastRunDuration,refName:gt.LastRunDuration,isQueryable:function(){return!0}},n._testPointBuildField={id:ni.Build,text:it.TestPointGridColumnBuild,name:it.TestPointGridColumnBuild,refName:gt.Build,isQueryable:function(){return!0}},n._testPointTesterField={id:ni.Tester,text:it.TestPointGridColumnTester,name:it.TestPointGridColumnTester,refName:gt.Tester,isQueryable:function(){return!0}},n._testPointOutcomeField={id:ni.Outcome,text:it.TestPointGridColumnOutcome,name:it.TestPointGridColumnOutcome,refName:gt.Outcome,isQueryable:function(){return!0}},n._testPointOrderField={id:ni.Order,text:it.TestPointGridColumnOrder,name:it.TestPointGridColumnOrder,refName:gt.Order,isQueryable:function(){return!0}},n}();t.TestHubColumnOption=fu;eu=function(){function n(){}return n.isMinDate=function(t){var i=t.getTime()-t.getTimezoneOffset()*6e4;return i<=n.DATETIME_MINDATE_UTC_MS},n.dateCompare=function(n,t){return n&&t?n.getTime()-t.getTime():0},n.convertMiliSecondsToDurationFormat=function(n){var i=1e3,r=60*i,u=60*r,f=24*u,t="",c=0,e,o,s,h;return n>=f&&(c=parseInt((n/f).toString()),t=t+c+".",n=n%f),e=0,n>=u&&(e=parseInt((n/u).toString())),t=t+e+":",n=n%u,o=0,n>=r&&(o=parseInt((n/r).toString())),t=t+o+":",n=n%r,s=0,n>=i&&(s=parseInt((n/i).toString())),t=t+s+".",n=n%i,h="0",h=n.toString(),t+h},n.DATETIME_MINDATE_UTC_MS=-621351846e5,n}();t.DateUtils=eu;ou=function(){function n(){}return n.addRange=function(n,t){for(var r=32768,i=0,u=t.length;i<u;i+=r)ct.addRange(n,t.slice(i,Math.min(i+r,u)))},n}();t.ArrayUtils=ou,function(n){n[n.Chrome=0]="Chrome";n[n.Firefox=1]="Firefox";n[n.Edge=2]="Edge";n[n.IE=3]="IE";n[n.None=4]="None"}(ti=t.BrowserType||(t.BrowserType={}));su=function(){function n(){}return n.GetResourceXTMessageDialogHeadingText=function(){return this.GetBrowserSpecificString(it.XTMessageDialogHeadingText,it.XTFFMessageDialogHeadingText,it.XTEdgeMessageDialogHeadingText)},n.GetResourceXTMessageDialogExtensionDisabledText=function(){return this.GetBrowserSpecificString(it.XTMessageDialogExtensionDisabledText,it.XTFFMessageDialogExtensionDisabledText,it.XTEdgeMessageDialogExtensionDisabledText)},n.GetResourceExtensionAbsentInfo5=function(){return this.GetBrowserSpecificString(it.ExtensionAbsentInfo5Chrome,it.ExtensionAbsentInfo5Firefox,it.ExtensionAbsentInfo5Edge)},n.GetFeedbackSucceess1Image=function(){return this.GetBrowserSpecificString("chrome-start-feedback-success-1.png","ff-start-feedback-success-1.png","edge-start-feedback-success-1.png")},n.GetFeedbackSucceess2Image=function(){return this.GetBrowserSpecificString("chrome-start-feedback-success-2.png","ff-start-feedback-success-2.png","edge-start-feedback-success-2.png")},n.GetSessionInProgressImage=function(){return this.GetBrowserSpecificString("chrome-stop-session.png","ff-stop-session.png","edge-stop-session.png")},n.GetResourceBrowserIncompatibleLabel=function(){var n=ei.isEnableXtForEdgeFeatureEnabled(),t=yt.empty;return n?it.BrowserIncompatibleLabelWithEdge:it.BrowserIncompatibleLabelWithFirefox},n.GetResourceBrowserIncompatibleInfo=function(){var n=ei.isEnableXtForEdgeFeatureEnabled(),t=yt.empty;return n?it.BrowserIncompatibleInfoWithEdge:it.BrowserIncompatibleInfoWithFirefox},n.GetXtInstallPath=function(){var t=n._chromeXtInstallUrl;return pt.BrowserCheckUtils.isFirefox()?t=n._firefoxInstallUrl:pt.BrowserCheckUtils.isEdge()&&(t=n._edgeInstallUrl),t},n.GetBrowserType=function(){var n=pt.BrowserCheckUtils.isChrome(),t=pt.BrowserCheckUtils.isFirefox(),i=pt.BrowserCheckUtils.isEdge(),r=pt.BrowserCheckUtils.isIE();return n?ti.Chrome:t?ti.Firefox:i?ti.Edge:r?ti.IE:ti.None},n.GetBrowserSpecificString=function(t,i,r){var u="",f=n.GetBrowserType();switch(f){case ti.Chrome:u=t;break;case ti.Firefox:u=i;break;case ti.Edge:u=r}return u},n._chromeXtInstallUrl="https://aka.ms/chrome-xtinstall",n._firefoxInstallUrl="https://aka.ms/ffxtinstall",n._edgeInstallUrl="https://aka.ms/edgextinstall",n}();t.BrowserResourceStringHelper=su;wt.tfsModuleLoaded("TFS.TestManagement.Utils",t)});

define("WorkItemTracking/Scripts/OM/QueryConstants",["require","exports","TFS/WorkItemTracking/Contracts"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.LinkQueryMode=void 0;var r;(function(n){function t(t){return(t||n.Unknown)>n.WorkItems}function r(t){return(t||n.Unknown)>=n.LinksRecursive}function u(n){return r(n)?i.QueryType.Tree:t(n)?i.QueryType.OneHop:i.QueryType.Flat}n.Unknown=0;n.WorkItems=1;n.LinksMustContain=2;n.LinksMayContain=3;n.LinksDoesNotContain=4;n.LinksRecursive=5;n.LinksRecursiveReturnMatchingChildren=6;n.isLinkQuery=t;n.isTreeQuery=r;n.getQueryType=u})(r=t.LinkQueryMode||(t.LinkQueryMode={}))});

define("WorkItemTracking/Scripts/OM/QueryItem",["require","exports","TFS/WorkItemTracking/Contracts","VSS/Utils/UI","VSS/Utils/File"],function(n,t,i,r,u){var o,f,e;Object.defineProperty(t,"__esModule",{value:!0});t.QueryDefinition=t.QueryItem=t.QueryItemFactory=void 0,function(n){function t(n){var t=n.queryText||undefined;return{id:n.id,name:n.name,isPublic:!n.personal,wiql:t,path:n.storedPath}}n.queryItemToQueryHierarchyItem=t}(o=t.QueryItemFactory||(t.QueryItemFactory={}));f=function(){function n(n,t){this.project=n;t&&this.updateFromData(t)}return n.prototype.updateFromData=function(n){this.id=n.id;this.name=n.name;this.storedPath=n.path;this.parentPath=u.getDirectoryName(n.path);this.personal=!n.isPublic;this.queryType=isNaN(n.queryType)?n.queryType:i.QueryType[n.queryType]},n.prototype.path=function(t,i){return t===void 0&&(t=!1),r.calculateTreePath.call(this,t,i||n.DEFAULT_PATH_SEPARATOR,"name","root")},n.EVENT_CREATED="query-item-created",n.EVENT_MOVED="query-item-moved",n.EVENT_RENAMED="query-item-renamed",n.EVENT_REMOVED="query-item-removed",n.EVENT_SAVED="query-item-saved",n.DEFAULT_PATH_SEPARATOR="/",n}();t.QueryItem=f;e=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return i&&(r.queryText=i.wiql||i.query),r}return __extends(t,n),t.defaultNewQueryWiql=function(){return t.DEFAULT_NEW_QUERY_WIQL},t.isMyWorkItems=function(n){return n.id?n.id.toUpperCase()===t.ASSIGNED_TO_ME_ID:!1},t.isSearchResults=function(n){return n.id?n.id.toUpperCase()===t.SEARCH_RESULTS_ID:!1},t.isImportQueryDefinition=function(n){return n.id?n.id.toUpperCase()===t.IMPORT_DATA_ID:!1},t.isCustomWiqlQuery=function(n){return n.id?n.id.toUpperCase()===t.CUSTOM_WIQL_QUERY_ID:!1},t.isRecycleBinQuery=function(n){return n.id?n.id&&n.id.toUpperCase()===t.RECYCLE_BIN_QUERY_ID:!1},t.isCustomizableSpecialQuery=function(n){return n.specialQuery&&(t.isMyWorkItems(n)||t.isRecycleBinQuery(n))},t.isSpecialQueryId=function(n){var i=n.toUpperCase();return i===t.ASSIGNED_TO_ME_ID||i===t.SEARCH_RESULTS_ID||i===t.CUSTOM_WIQL_QUERY_ID||i===t.FOLLOWED_WORKITEMS_ID||i===t.RECYCLE_BIN_QUERY_ID||i===t.IMPORT_DATA_ID},t.prototype.setQuery=function(n){this.queryText!==n&&(this._originalQueryText=this.queryText,this.queryText=n,this.isDirty=!0)},t.prototype.path=function(t,i){return t===void 0&&(t=!1),this.parent?n.prototype.path.call(this,t,i):this.storedPath},t.DEFAULT_NEW_QUERY_WIQL="SELECT [System.Id], [System.WorkItemType], [System.Title], [System.AssignedTo], [System.State], [System.Tags] FROM Workitems WHERE [System.TeamProject] = @project AND [System.WorkItemType]<>'' AND [System.State]<>''",t.ASSIGNED_TO_ME_ID="A2108D31-086C-4FB0-AFDA-097E4CC46DF4",t.FOLLOWED_WORKITEMS_ID="202230E0-821E-401D-96D1-24A7202330D0",t.SEARCH_RESULTS_ID="2CBF5136-1AE5-4948-B59A-36F526D9AC73",t.CUSTOM_WIQL_QUERY_ID="08E20883-D56C-4461-88EB-CE77C0C7936D",t.RECYCLE_BIN_QUERY_ID="2650C586-0DE4-4156-BA0E-14BCFB664CCA",t.IMPORT_DATA_ID="BD4FFCBB-4E60-4C94-BF73-7ADB80EF2498",t}(f);t.QueryDefinition=e});

define("WorkItemTracking/SharedScripts/QueryResultMenuBar",["require","exports","VSS/Controls/Menus"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.QueryResultMenuBar=void 0;var r="toggle-filter",u=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype._updateItemsWithContributions=function(n,t){if(n||(n=[]),n instanceof Array&&t&&t.length>0){var f=n.filter(function(n){return n.id===r}),u=n.filter(function(n){return n.id!==r});u&&(n=u.concat(t).concat(f))}this._contributedItems=t;this._updateCombinedSource(n);this._fire(i.Menu.CONTRIBUTION_ITEMS_UPDATED_EVENT,{source:this,existingItems:n,contributedItems:t})},t}(i.MenuBar);t.QueryResultMenuBar=u});

define("VSS/Controls/Validation",["require","exports","VSS/Controls","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/Number","VSS/Utils/String","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s){function d(n,t,i){function u(t,i,u,f){u&&u!=="*"&&u!==n||f||r.push(i)}var r=[];return $(i||window.document.body).bind(h.EVENT_VALIDATE_STATUS,u),$(i||window.document.body).trigger(h.EVENT_VALIDATE,[n]),$(i||window.document.body).off(h.EVENT_VALIDATE_STATUS,u),r.length&&t&&$.each(r,function(n,i){t.push(i)}),r.length===0}var c,h,a,v,y,p,w,b,k,l;Object.defineProperty(t,"__esModule",{value:!0});t.validateGroup=t.ValidationSummary=t.MaxLengthValidator=t.IntegerRangeValidator=t.DateValidator=t.CustomValidator=t.RegexValidator=t.RangeValidator=t.RequiredValidator=t.BaseValidator=void 0;c=u.delegate;h=function(n){function t(r){var u=__construct(this,n,[r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);if(u.getType()===t)throw new Error("You cannot instantiate an abstract type.");return u.instanceId="val_"+i.getId(),u}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({invalidCssClass:"invalid",message:"Invalid input value!",group:"*",allowEmptyString:!1},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._bind("change",c(this,this.onChanged));this._onValidationRequiredDelegate=c(this,this.onValidationRequired);this._bind(window.document.body,t.EVENT_VALIDATE,this._onValidationRequiredDelegate,!0);this._options.bindtokeystrokes&&this._bind("keyup",c(this,this.onKeyUp))},t.prototype.dispose=function(){this._onValidationRequiredDelegate&&this._unbind(window.document.body,t.EVENT_VALIDATE,this._onValidationRequiredDelegate,!0);n.prototype.dispose.call(this)},t.prototype.getValue=function(){return this._element.val()},t.prototype.isValid=function(){return!0},t.prototype.getValidationGroup=function(){return this._options.group},t.prototype.getMessage=function(){var n=this._options.message;return n&&typeof n=="function"&&(n=n.call(this)),n},t.prototype.onKeyUp=function(){this.validate()},t.prototype.onChanged=function(){this.validate()},t.prototype.onValidationRequired=function(n,t){t&&t!=="*"&&t!==this._options.group||this.validate()},t.prototype.validate=function(){var n,i;this._disposed||(n=this._testEmptyString()||this.isValid(),i=this.getValidationGroup(),this._element.toggleClass(this._options.invalidCssClass,!n),this._fire(t.EVENT_VALIDATE_STATUS,[this,i,n]))},t.prototype._testEmptyString=function(){return this._options.allowEmptyString&&this.getValue()===""},t.optionsPrefix="validator",t.EVENT_VALIDATE="validate",t.EVENT_VALIDATE_STATUS="validate-status",t}(i.Enhancement);t.BaseValidator=h;s.initClassPrototype(h,{instanceId:null});a=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value cannot be empty!"},t))},t.prototype.isValid=function(){return this.getValue().trim()?!0:!1},t.optionsPrefix="requiredValidator",t}(h);t.RequiredValidator=a;i.Enhancement.registerEnhancement(a,".validate.required");v=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Out of range"},t))},t.prototype.isValid=function(){var n=this.getValue(),t=this._element.data("rangeValidatorMin"),i=this._element.data("rangeValidatorMax");return n>=t&&n<=i},t.prototype.getMessage=function(){var n=this.getValue(),t=this._element.data("rangeValidatorMin"),i=this._element.data("rangeValidatorMax");return n<t?"Input cannot be smaller than "+t:n>i?"Input cannot be greater than "+i:void 0},t.optionsPrefix="rangeValidator",t}(h);t.RangeValidator=v;i.Enhancement.registerEnhancement(v,".validate.range");y=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value doesn't match regex",testEmptyString:!0},t))},t.prototype.isValid=function(){var n,t;return(t=this._options.regex||this._element.data("regexValidatorRegex"),t&&(n=this.getValue(),this._options.testEmptyString||n.trim()))?new RegExp(t).test(n):!0},t.prototype.getMessage=function(){return this._element.data("regexValidatorMessage")||this._options.message},t.optionsPrefix="regexValidator",t}(h);t.RegexValidator=y;i.Enhancement.registerEnhancement(y,".validate.regex");p=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value doesn't satisfy function",testEmptyString:!0,validate:function(){return!0}},t))},t.prototype.isValid=function(){var n,t;return(t=this._options.validate,typeof t=="function"&&(n=this.getValue(),this._options.testEmptyString||n.trim()))?t(n):!0},t.prototype.setValidate=function(n){this._options.validate=n},t.prototype.getMessage=function(){return this._element.data("customValidatorMessage")||this._options.message},t.optionsPrefix="customValidator",t}(h);t.CustomValidator=p;i.Enhancement.registerEnhancement(p,".validate.custom");w=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value must be a valid date",parseFormat:""},t))},t.prototype.isValid=function(){var t=this.getValue().trim(),n;if(t)n=f.parseDateString(t,this._options.parseFormat);else return!0;return n instanceof Date&&!isNaN(n.getTime())},t.prototype.getMessage=function(){return this._element.data("dateValidatorMessage")||this._options.message},t.optionsPrefix="dateValidator",t}(h);t.DateValidator=w;i.Enhancement.registerEnhancement(w,".validate.date");b=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.isValid=function(){var t=this.getValue(),n=this._getBounds();return this.isWithinBounds(t,n.max,n.min)},t.prototype.isWithinBounds=function(n,t,i){var u=e.parseLocale(n),f=!1,r=parseInt(""+u,10),o=parseFloat(""+u);return!isNaN(u)&&r===o&&isFinite(r)&&i<=r&&t>=r&&(f=!0),f},t.prototype.getMessage=function(){var n=this._getBounds();return o.format(r.Validation_IntegerRange,n.min,n.max)},t.prototype._getBounds=function(){var n,t;return n=this._options.minValue!==undefined?this._options.minValue:Number(this._element.data("integerRangeValidatorMin")),t=this._options.maxValue!==undefined?this._options.maxValue:Number(this._element.data("integerRangeValidatorMax")),{min:n,max:t}},t.optionsPrefix="integerRangeValidator",t}(h);t.IntegerRangeValidator=b;i.Enhancement.registerEnhancement(b,".validate.integerRange");k=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:o.format("Input cannot exceed {0} characters.",t.maxLength)},t))},t.prototype.isValid=function(){return this.getValue().length>this._options.maxLength?!1:!0},t.optionsPrefix="maxLengthValidator",t}(h);t.MaxLengthValidator=k;i.Enhancement.registerEnhancement(k,".validate.maxlength");l=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._messages={},t.fixedHeight&&(i._fixedHeight=!0),t.singleMessage&&(i._singleMessage=!0),t.showAsWarning&&(i._showAsWarning=!0),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"validation-summary",group:"*"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._bind(this._options.context||window.document.body,h.EVENT_VALIDATE_STATUS,c(this,this.onValidationStatus),!0)},t.prototype.onValidationStatus=function(n,t,i,r){delete this._messages[t.instanceId];i&&i!=="*"&&i!==this._options.group||(r||(this._messages[t.instanceId]=t.getMessage()),this._updateUI())},t.prototype.validate=function(){try{this._messages={};this._ignoreUIUpdate=!0;this._fire(this._options.context||window.document.body,h.EVENT_VALIDATE,[this._options.group])}finally{this._ignoreUIUpdate=!1}this._updateUI()},t.prototype._updateUI=function(){var n=this,t=!1,i;this._ignoreUIUpdate||(this._element.empty(),$.each(this._messages,function(i,r){return(t=!0,n._element.append($("<div />").text(r||"")),n._singleMessage)?!1:!0}),i=n._showAsWarning?"invalid-warning":"invalid",this._element.toggleClass(i,t),this._element.toggleClass("fixed-height",n._fixedHeight))},t}(i.Control);t.ValidationSummary=l;s.initClassPrototype(l,{_messages:null,_ignoreUIUpdate:!1,_fixedHeight:!1,_singleMessage:!1,_showAsWarning:!1});i.Enhancement.registerEnhancement(l,".validation-summary");t.validateGroup=d;s.tfsModuleLoaded("VSS.UI.Controls.Validation",t)});

define("VSS/Controls/Virtualization",["require","exports","VSS/Controls","VSS/Utils/Core","VSS/Utils/UI","VSS/Controls/PopupContent","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.VirtualizingListView=void 0;var e=r.delegate,o=u.domElem,s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._firstVisible=0,t._selectedIndex=-1,t._rowHeight=20,t._ignoreScrollEvent=!1,t._enableMouseOver=!0,t._prevMousePos="",t.visibleRowCount=1,t._pointerDownY=null,t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"virtualizing-list-view",maxRowCount:8,selectedIndex:-1},t))},t.prototype.initialize=function(){this._bind("click",e(this,this._onClick));this._itemsContainer=$(o("ul","items"));this._itemsContainer.attr("role",this._options.virtualizingListViewRole||"listbox");this._itemsContainer.attr("id",i.getId());this._bind(this._itemsContainer,"mouseover",e(this,this._onMouseOver));this._bind(this._itemsContainer,"mousemove",e(this,this._onMouseMove));this._options.preventMouseDown&&this._bind(this._itemsContainer,"mousedown",function(n){return n.preventDefault()});this._bind(this._itemsContainer,u.BrowserCheckUtils.isFirefox()?"DOMMouseScroll":"mousewheel",e(this,this._onMouseWheel));this._bind(this._itemsContainer,"pointerdown",this._onPointerDown.bind(this));this._bind(this._itemsContainer,"pointerleave",this._onPointerLeave.bind(this));this._bind(this._itemsContainer,"pointermove",this._onPointerMove.bind(this));this._element.append(this._itemsContainer);this._scrollContainer=$(o("div","scroller"));this._bind(this._scrollContainer,"scroll",e(this,this._onScroll));this._scrollSpacer=$(o("div","content-spacer"));this._scrollContainer.append(this._scrollSpacer);this._element.append(this._scrollContainer);this._dataSource=this._options.dataSource;this._selectedIndex=this._options.selectedIndex;this.update();this._enableMouseOver=!0;n.prototype.initialize.call(this)},t.prototype.update=function(){var t=this._dataSource.getCount(),n;this.visibleRowCount=Math.min(t,this._options.maxRowCount);this._selectedIndex>=0&&(this._selectedIndex=Math.min(this._selectedIndex,t-1));this._setVisibleBounds(this._selectedIndex);this._drawItems();n=this._itemsContainer.outerHeight();this._element.height(n);this._setupScrollbar(n)},t.prototype.scrollItemIntoView=function(n){var t=this._firstVisible;this._setVisibleBounds(n);this._firstVisible!==t?(this._drawItems(),this._updateScrollbar()):this._updateItemStyles()},t.prototype.selectNext=function(n){var t=this._dataSource.nextIndex(this._selectedIndex,n?this.visibleRowCount:1,null);return t>=0?(this.setSelectedIndex(t),this._fireSelectionChanged(),!0):!1},t.prototype.selectPrev=function(n){var t=this._dataSource.nextIndex(this._selectedIndex,-(n?this.visibleRowCount:1),null);return t>=0?(this.setSelectedIndex(t),this._fireSelectionChanged(),!0):!1},t.prototype.getSelectedIndex=function(){return this._selectedIndex},t.prototype.getSelectedItem=function(){return this._itemsContainer.children("li.selected")},t.prototype.setSelectedIndex=function(n,t){this._selectedIndex!==n&&(this._selectedIndex=n,t||this.scrollItemIntoView(n))},t.prototype._setVisibleBounds=function(n){n=n||0;n<=this._firstVisible?this._firstVisible=Math.max(0,n):n>=this._firstVisible+this.visibleRowCount&&(this._firstVisible=Math.max(0,Math.min(n,this._dataSource.getCount()-this.visibleRowCount)));this._firstVisible=Math.max(0,Math.min(this._firstVisible,this._dataSource.getCount()-this.visibleRowCount))},t.prototype._createItem=function(n,t,r){t===void 0&&(t=0);r===void 0&&(r=0);var s=this._dataSource.getItemText(n)||"",e=$(o("li",this._options.itemCss)),h=n+1-r,c=this._dataSource.getCount()-t;return e.attr({id:i.getId(),role:"option","aria-posinset":h,"aria-setsize":c}),s&&typeof this._options.getItemContents=="function"?e.append(this._options.getItemContents(s)):e.text(s),(this._options.setTitleOnlyOnOverflow===!1||u.contentsOverflow(e[0]))&&f.RichContentTooltip.add(s,e,{useStrictTarget:!0}),e},t.prototype._drawItems=function(){var n,t,r;this._itemsContainer.empty();var e=this._options.createItem||this._createItem,i=this._firstVisible,o=Math.min(i+this.visibleRowCount,this._dataSource.getCount());for(n=i;n<o;n++)t=e.call(this,n),t.data("index",n),t.attr("data-id",n),this._itemsContainer.append(t),r=this._dataSource.getItemText(n)||"",(this._options.setTitleOnlyOnOverflow===!1||u.contentsOverflow(t))&&f.RichContentTooltip.add(r,t,{useStrictTarget:!0});this._updateItemStyles();this._updateAriaAttributes();this._enableMouseOver=!1;this._fireItemsUpdated()},t.prototype._updateItemStyles=function(){var n=this._firstVisible,t=this._selectedIndex;this._itemsContainer.children("li").each(function(i){$(this).toggleClass("selected",i+n===t)})},t.prototype._updateAriaAttributes=function(){var n=this._selectedIndex;this._itemsContainer.children("li").each(function(t){$(this).attr("aria-selected","".concat(t===n))})},t.prototype._setupScrollbar=function(n){var t=this._dataSource.getCount(),i=this.visibleRowCount<t;this._element.toggleClass("scroll",i);i&&(this._rowHeight=(n||this._itemsContainer.outerHeight())/this.visibleRowCount,this._scrollSpacer.height(this._rowHeight*t),this._updateScrollbar())},t.prototype._updateScrollbar=function(){try{this._ignoreScrollEvent=!0;this._scrollContainer.scrollTop(Math.ceil(this._rowHeight*this._firstVisible))}finally{this._ignoreScrollEvent=!1}},t.prototype._onScroll=function(){var n=this._dataSource.getCount();return this._ignoreScrollEvent||(this._firstVisible=Math.max(0,Math.min(Math.round(this._scrollContainer.scrollTop()/this._rowHeight),n-this.visibleRowCount)),this._drawItems()),!1},t.prototype._onMouseMove=function(n){var t="".concat(n.screenX,"-").concat(n.screenY);this._prevMousePos&&this._prevMousePos===t||(this._prevMousePos=t,this._enableMouseOver=!0)},t.prototype._onMouseOver=function(n){var t=this,i=$(n.target);r.delay(this,10,function(){if(t._enableMouseOver&&t._pointerDownY===null){t._enableMouseOver=!1;var n=i.closest("li");n.length&&(t._selectedIndex=n.data("index"),t._updateItemStyles())}})},t.prototype._onPointerDown=function(n){var t=n.originalEvent;t.pointerType==="touch"&&t.isPrimary&&(this._pointerDownY=t.pageY,this._pointerDownFirstVisible=this._firstVisible)},t.prototype._onPointerLeave=function(n){var t=n.originalEvent;t.pointerType==="touch"&&t.isPrimary&&(this._pointerDownY=null)},t.prototype._onPointerMove=function(n){var r=n.originalEvent,u,i,t;r.pointerType==="touch"&&r.isPrimary&&this._pointerDownY!==null&&(u=this._dataSource.getCount(),i=(this._pointerDownY-r.pageY)/this._rowHeight,i-=i%1,t=this._pointerDownFirstVisible+i,t=Math.max(t,0),t=Math.min(t,u-this.visibleRowCount),this._firstVisible!==t&&(this._firstVisible=t,this._drawItems(),this._updateScrollbar()))},t.prototype._onMouseWheel=function(n){var t=u.getWheelDelta(n);if(t!==0)return this._firstVisible=Math.max(0,Math.min(this._firstVisible+(t>0?-1:1),this._dataSource.getCount()-this.visibleRowCount)),this._drawItems(),this._updateScrollbar(),!1},t.prototype._onClick=function(n){var r=$(n.target),t=r.closest("li"),i;if(t.length){if(i=t.data("index"),this._options.itemClick&&this._options.itemClick.call(this,n,i,r,t)===!1)return!1;this.setSelectedIndex(i);this._updateItemStyles();this._fireSelectionChanged(!0)}},t.prototype._fireSelectionChanged=function(n){this._options.selectionChange&&this._options.selectionChange.call(this,this._selectedIndex,n)},t.prototype._fireItemsUpdated=function(){this._options.itemsUpdated&&this._options.itemsUpdated.call(this)},t}(i.BaseControl);t.VirtualizingListView=s});

define("VSS/Controls/Combos",["require","exports","VSS/Controls","VSS/Controls/PopupContent","VSS/Utils/Culture","VSS/Diag","VSS/Events/Services","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/String","VSS/Utils/UI","VSS/Controls/Validation","VSS/Controls/Virtualization","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function ut(n,t){var i=$.extend({},n);return t&&$.each(t,function(n,t){delete i[t]}),i}var ft,d,g,nt,yt,et,w,tt,it,vt,b,ot,st,ht,ct,lt,at;Object.defineProperty(t,"__esModule",{value:!0});t.ComboMultiValueBehavior=t.ComboMultiValueDropPopup=t.DatePicker=t.ComboDateBehavior=t.ComboDateDropPopup=t.DatePanel=t.ComboControlValidator=t.ComboListBehavior=t.ComboListDropPopup=t.Combo=t.ComboO=t.ComboTypeOptionsConstants=t.BaseComboDropPopup=t.BaseComboBehavior=t.ListDataSource=t.extendWithout=void 0;var p=s.delegate,k=l.domElem,y=l.KeyCode,rt;(function(n){function t(t){var i=$("<div/>").attr("id",n._PROBE_ID).css("position","absolute").css("left","-50000px").css("top","-50000px").css("width","9em").css("height","18ex").css("overflow","auto").appendTo(t);return $("<div><\/div>").css("width","3in").css("height","36ex").appendTo(i),i}function i(t){t=t||$(document.body);var i=t.children("#"+n._PROBE_ID);return i.length===0&&(i=n._createProbe(t)),i}function r(){return n._getProbe().width()/9}function u(){return n._getProbe().height()/18}function f(){return $("div",n._getProbe()).width()/3}function e(t){var i=n._getProbe(t);return i.width()-i[0].clientWidth}function o(t){var i=n._getProbe(t);return i.height()-i[0].clientHeight}function s(t){t=t.toLowerCase();var i=parseInt(t,10);return t.indexOf("px")>0?i=Math.round(parseFloat(t)):t.indexOf("em")>0?i=Math.round(parseFloat(t)*n.getUnitEm()):t.indexOf("ex")>0?i=Math.round(parseFloat(t)*n.getUnitEx()):t.indexOf("in")>0?i=Math.round(parseFloat(t)*n.getUnitIn()):t.indexOf("mm")>0?i=Math.round(parseFloat(t)*n.getUnitIn()/25.4):t.indexOf("cm")>0&&(i=Math.round(parseFloat(t)*n.getUnitIn()/2.54)),i}n._PROBE_ID="tfs-measurement-probe";n._createProbe=t;n._getProbe=i;n.getUnitEm=r;n.getUnitEx=u;n.getUnitIn=f;n.getScrollbarWidth=e;n.getScrollbarHeight=o;n.getUnitAsPixel=s})(rt||(rt={}));t.extendWithout=ut;ft=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.BaseDataSource);t.ListDataSource=ft;d=function(){function n(n,t){this.combo=n;this._options=t||{};this._onForceHideDropPopupDelegate=p(this,this.onForceHideDropPopup);this._onParentsScrollDelegate=p(this,this.onParentsScroll);this._onWheelDelegate=function(){}}return n.prototype.initialize=function(){this._options.source&&this.setSource(this._options.source)},n.prototype.dispose=function(){this.hideDropPopup()},n.prototype.setMode=function(n){this._options.mode=n},n.prototype.canType=function(){return!0},n.prototype.getAriaAutocomplete=function(){return this._options.autoComplete===!1?"none":"both"},n.prototype.getAriaDescription=function(){return null},n.prototype.getValue=function(){return null},n.prototype.getDropPopup=function(){return this._dropPopup},n.prototype.getDataSource=function(){return this._dataSource},n.prototype.getDropOptions=function(){return $.extend({combo:this.combo,anchor:this.combo.getElement(),host:this.combo.getElement(),width:this.getDropWidth(),dropElementAlign:"left-top",dropBaseAlign:"left-bottom",dataSource:this._dataSource,setTitleOnlyOnOverflow:this._options.setTitleOnlyOnOverflow},this._options.dropOptions)},n.prototype.getDropWidth=function(){return this.combo.getElement().innerWidth()},n.prototype.showDropPopup=function(){var t=this._options.dropControlType,n;return(this._dropPopup&&this.hideDropPopup(),t)?(n=this.getDropOptions(),n.width=this.getDropWidth(),this._attachGlobalEvents(),this._dropPopup=i.BaseControl.createIn(t,n.host||$(document.body),n),this._options.dropShow&&this._options.dropShow(this._dropPopup),!0):!1},n.prototype.hideDropPopup=function(){if(this._dropPopup){if(this._detachGlobalEvents(),!this._options.dropHide||this._options.dropHide(this._dropPopup))return this._dropPopup.dispose(),this._dropPopup=null,!0;this._dropPopup=null}return!1},n.prototype.toggleDropDown=function(){this._dropPopup?this.hideDropPopup():this.showDropPopup()},n.prototype.isDropVisible=function(){return Boolean(this._dropPopup)},n.prototype.setSource=function(n){this._dataSource&&this._dataSource.setSource(n)},n.prototype.getSelectedIndex=function(){return-1},n.prototype.setSelectedIndex=function(){},n.prototype.getText=function(){return this.combo.getInputText()},n.prototype.setText=function(n,t){typeof n!="undefined"&&this.combo.setInputText(n,t)},n.prototype.upKey=function(n){if(n.altKey)return this.isDropVisible()&&this.hideDropPopup(),!1},n.prototype.downKey=function(n){if(n.altKey)return this.isDropVisible()||this.showDropPopup(),!1},n.prototype.pageUpKey=function(){},n.prototype.pageDownKey=function(){},n.prototype.leftKey=function(){},n.prototype.rightKey=function(){},n.prototype.keyDown=function(){},n.prototype.keyPress=function(){},n.prototype.keyUp=function(){},n.prototype.onForceHideDropPopup=function(){this.hideDropPopup()},n.prototype.onParentsScroll=function(n){if(n&&n.target){var t=$(n.target);if(t.css("overflow-x")==="hidden"&&t.css("overflow-y")==="hidden"&&t.css("overflow")==="hidden"){n.stopPropagation();return}}this.onForceHideDropPopup(n)},n.prototype.getItemText=function(n,t){return typeof this._options.getItemText=="function"?this._options.getItemText(this._dataSource.getItem(n,!0)):this._dataSource.getItemText(n,t)},n.prototype._attachGlobalEvents=function(){this.combo._bind(this.combo.getElement().parents(),"scroll resize",this._onParentsScrollDelegate);this.combo._bind(this.combo.getElement().parents(),"wheel",this._onWheelDelegate);e.getService().attachEvent("dialog-move",this._onForceHideDropPopupDelegate)},n.prototype._detachGlobalEvents=function(){this.combo._unbind(this.combo.getElement().parents(),"scroll resize",this._onForceHideDropPopupDelegate);this.combo._unbind(this.combo.getElement().parents(),"wheel",this._onWheelDelegate);e.getService().detachEvent("dialog-move",this._onForceHideDropPopupDelegate)},n}();t.BaseComboBehavior=d;g=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.combo=i._options.combo,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"combo-drop-popup"},t))},t.prototype.initialize=function(){this._bind("mousedown",p(this,this._onMouseDown));this.setPosition();this.getElement().attr("title","");n.prototype.initialize.call(this)},t.prototype.setPosition=function(){l.Positioning.position(this.getElement(),this._options.anchor,{elementAlign:this._options.dropElementAlign,baseAlign:this._options.dropBaseAlign});this.getElement().css("opacity","1")},t.prototype.getSelectedIndex=function(){return-1},t.prototype.getSelectedValue=function(){return""},t.prototype.getSelectedItem=function(){return undefined},t.prototype.setSelectedValue=function(){},t.prototype.selectNext=function(){return!1},t.prototype.selectPrev=function(){return!1},t.prototype.update=function(){},t.prototype.dispose=function(){var i=this,t;if(!this.isDisposed())if(t=this.getElement(),t[0]&&!t[0].style.transition)n.prototype.dispose.call(this);else this.getElement().css("opacity","0").on("transitionend",function(){n.prototype.dispose.call(i)})},t.prototype._onMouseDown=function(){this.combo.blockBlur()},t}(i.BaseControl);t.BaseComboDropPopup=g;nt={},function(n){n.ListType="list";n.DateTimeType="date-time";n.MultiValueType="multi-value";n.TreeType="tree";n.TreeSearchType="treesearch"}(yt=t.ComboTypeOptionsConstants||(t.ComboTypeOptionsConstants={}));et=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._currentText="",t}return __extends(t,n),t.registerBehavior=function(n,t){nt[n]=t},t.attachBehavior=function(n,t){var i=nt[n._options.type];return i=n._options.type?nt[n._options.type]:d,i?new i(n,t):null},t.prototype.focus=function(){this._input.focus()},t.prototype.initializeOptions=function(t){var i=this,r,u;t=$.extend({allowEdit:!0,type:"list",treeLevel:1,mode:"drop",dropWidth:"dynamic",dropCount:8,invalidCss:"invalid",disabledCss:"disabled",dropButtonHoverCss:"hover",inputCss:undefined,coreCssClass:"combo input-text-box",enabled:!0},t);r=t.dropHide;t.dropHide=function(n){var t=!0;return r&&(t=r(n)),t&&(i.updateAriaAttributes(!1),s.delay(i,1,i._updateTooltip)),t};u=t.dropShow;t.dropShow=function(n){u&&u(n);s.delay(i,1,i._updateTooltip);i.updateAriaAttributes(!0)};n.prototype.initializeOptions.call(this,t)},t.prototype._dispose=function(){this._disposeBehavior();n.prototype._dispose.call(this)},t.prototype._disposeBehavior=function(){this._behavior&&(typeof this._behavior.dispose=="function"&&this._behavior.dispose(),this._behavior=null)},t.prototype._createIn=function(t){n.prototype._createIn.call(this,t);this._input=$(k("input")).attr("type","text");this._options.id&&this._input.attr("id",this._options.id+"_txt");typeof this._options.value!="undefined"&&(this._input.val(this._options.value),this._currentText=this.getInputText());this._decorate()},t.prototype._enhance=function(n){this._createElement();this._input=n;n.after(this.getElement());this._decorate();this._currentText=this.getInputText()},t.prototype.initialize=function(){this._ensureBehavior();n.prototype.initialize.call(this)},t.prototype.getBehavior=function(){return this._behavior},t.prototype.getText=function(){return this._behavior.getText()},t.prototype.setText=function(n,t){this._behavior&&this._behavior.setText(n,t)},t.prototype.getDropButton=function(){return this._dropButton},t.prototype.getInput=function(){return this._input},t.prototype.getInputText=function(){return this._input.val()},t.prototype._updateTooltip=function(){!this._input||!this._input[0]||this._behavior&&this._behavior.isDropVisible()?this._tooltip&&this._tooltip.disable():(this._tooltip||(this._tooltip=r.RichContentTooltip.addIfOverflow("",this._input[0])),this._tooltip.enable(),this._tooltip.setTextContent(this._input[0].value))},t.prototype.setInputText=function(n,t){this._input.val()!==n&&this._input.val(n);this._updateTooltip();t?this.fireChangeIfNecessary(n):this._currentText=n;this.updateAriaActiveDescendant();this._updateStyles()},t.prototype.getSelectedIndex=function(){return this._behavior.getSelectedIndex()},t.prototype.setSelectedIndex=function(n,t){this._behavior.setSelectedIndex(n,t)},t.prototype.getValue=function(){return this._behavior.getValue()},t.prototype.fireChangeIfNecessary=function(n){return typeof n=="undefined"&&(n=this.getText()),this._currentText!==n?(this._currentText=n,this._updateTooltip(),this._fireChange()):void 0},t.prototype.toggleDropDown=function(){this._behavior.toggleDropDown();this._input.focus();var n=this.getElement();n&&this._fire("dropDownToggled",{isDropVisible:this.isDropVisible(),target:n})},t.prototype.showDropPopup=function(){this._behavior.showDropPopup();this._input.focus()},t.prototype.hideDropPopup=function(){return this._behavior.hideDropPopup()},t.prototype.isDropVisible=function(){return this._behavior?this._behavior.isDropVisible():!1},t.prototype.isBlockingBlur=function(){return this._blockBlur},t.prototype.blockBlur=function(){this._blockBlur=!0;this.delayExecute("blockBlur",200,!0,function(){this.cancelBlockBlur()})},t.prototype.cancelBlockBlur=function(){this._blockBlur=!1;this.cancelDelayedFunction("blockBlur")},t.prototype._onInputKeyDown=function(n){if(this._options.onKeyDown&&this._options.onKeyDown.call(this,n),this._behavior.keyDown(n)===!1)return!1;switch(n.keyCode){case y.BACKSPACE:if(!this._options.allowEdit)return n.stopPropagation(),n.preventDefault(),!1;break;case y.PAGE_UP:return this._options.enabled?this._behavior.pageUpKey(n):!1;case y.UP:return this._options.enabled?this._behavior.upKey(n):!1;case y.PAGE_DOWN:return this._options.enabled?this._behavior.pageDownKey(n):!1;case y.DOWN:return this._options.enabled?this._behavior.downKey(n):!1;case y.LEFT:return this._options.enabled?this._behavior.leftKey(n):!1;case y.RIGHT:return this._options.enabled?this._behavior.rightKey(n):!1;case y.TAB:this.cancelBlockBlur();break;case y.ENTER:case y.ESCAPE:if(this.fireChangeIfNecessary(),this.hideDropPopup())return!1;break;default:if(!this._behavior.canType())return!1}},t.prototype.setTextSelection=function(n){var t=this._input[0],i;t.setSelectionRange?t.setSelectionRange(n,t.value.length):t.createTextRange&&(i=t.createTextRange(),i.moveStart("character",n),i.select())},t.prototype.setSource=function(n){this._behavior&&this._behavior.setSource(n)},t.prototype.getEnabled=function(){return this._options.enabled===!0},t.prototype.setEnabled=function(n){this._options.enabled=n===!0;this._updateStyles()},t.prototype.getMode=function(){return this._options.mode},t.prototype.setMode=function(n){this._options.mode=n;this._behavior.setMode(n);this._updateStyles()},t.prototype.setType=function(n){this._options.type!==n&&(this.hideDropPopup(),this.getElement().removeClass(this._options.type),this._options.type=n,this._ensureBehavior(),this._updateStyles())},t.prototype.getComboType=function(){return this._options?this._options.type:null},t.prototype.setInvalid=function(n){if(this.getElement().toggleClass(this._options.invalidCss,n),this._input.attr(t.invalidAttribute,n?"true":"false"),this._options.errorMessage&&(this._errorAriaDescription&&this._errorAriaDescription.remove(),n)){var r=String(i.getId());this._errorAriaDescription=$("<div />").attr("id",r).attr("role","alert").hide().text(this._options.errorMessage).appendTo(this._element);this._input.attr("aria-describedby",r)}},t.prototype.isValid=function(){return c.ignoreCaseComparer(this._input.attr(t.invalidAttribute),"true")!==0},t.prototype._ensureBehavior=function(){var n,t;if(this._disposeBehavior(),this._behavior=w.attachBehavior(this,this._options),!this._behavior)throw new Error(c.format("Unsupported combo behavior '{0}'.",this._options.type));this._behavior.initialize();n=this._behavior.getAriaDescription();n?(this._ariaDescription&&this._ariaDescription.remove(),t=String(i.getId()),this._ariaDescription=$("<div />").attr("id",t).hide().text(n).appendTo(this._element),this._input.attr("aria-describedby",t)):this._input.attr("aria-describedby",null);this._input.attr("aria-autocomplete",this._options.mode!="text"?this._behavior.getAriaAutocomplete():null)},t.prototype._decorate=function(){var f=this,u=this,t=this._options,i=this.getElement(),n=this._input,r;i.val=function(){return arguments.length?u.setText(arguments[0],!1):u.getText()};n.attr("autocomplete","off");this._setAriaAttributes();this._bind("mousedown",p(this,this._onMouseDown));this._bind(n,"keydown",p(this,this._onInputKeyDown));this._bind(n,"keypress",p(this,this._onInputKeyPress));this._bind(n,"keyup",p(this,this._onInputKeyUp));this._bind(n,"focus",p(this,this._onInputFocus));this._bind(n,"blur",p(this,this._onInputBlur));this._bind(n,"click",p(this,this._onInputClick));this._bind(n,"focus",function(){f.getEnabled()&&i.addClass("focus")});this._bind(n,"blur",function(){i.removeClass("focus")});t.allowEdit||(n.attr("readonly","readonly"),i.addClass("no-edit"));t.inputCss&&n.addClass(t.inputCss);t.placeholderText&&n.attr("placeholder",t.placeholderText);n.on("change input",function(){return u.fireChangeIfNecessary()});this._input.attr("title","");this._updateTooltip();t.noDropButton&&i.addClass("no-background");r=$(k("div","wrap"));r.append(n);this._options.label&&n.attr("aria-label",this._options.label);this._options.required&&n.prop("required",!0);t.iconCss&&($(k("div","preWrapIcon")).addClass(t.iconCss).appendTo(i),r.addClass("withIcon"));i.append(r);this._dropButton=$(k("div","drop"));this._dropButton.attr({role:"button"});this._bind(this._dropButton,"mouseenter",function(){$(this).addClass(t.dropButtonHoverCss)});this._bind(this._dropButton,"mouseleave",function(){$(this).removeClass(t.dropButtonHoverCss)});this._bind(this._dropButton,"click",p(this,this._onDropButtonClick));i.append(this._dropButton);this._updateStyles()},t.prototype._setAriaAttributes=function(){this._input&&n.prototype._setAriaAttributes.call(this,this._input)},t.prototype._updateStyles=function(){var t=this.getElement(),n=this._input,i,r;t.addClass(this._options.type);this._dropButton.removeClass(c.localeIgnoreCaseComparer(this._options.type,"date-time")===0?"bowtie-icon bowtie-chevron-down-light":"bowtie-icon bowtie-calendar");this._dropButton.addClass(c.localeIgnoreCaseComparer(this._options.type,"date-time")===0?"bowtie-icon bowtie-calendar":"bowtie-icon bowtie-chevron-down-light");this._dropButton.attr("aria-label",c.localeIgnoreCaseComparer(this._options.type,"date-time")===0?o.CalendarComboExpandButtonLabel:o.ComboExpandButtonLabel);i=this._options.enabled;i&&this._options.allowEdit?n.prop("readonly",!1):n.attr("readonly","readonly");n.toggleClass(this._options.disabledCss,!i);t.children("div").toggleClass(this._options.disabledCss,!i);i?(t.prop("readonly",!1),n.prop("disabled",!1),this._options.isFocusableWhenDisabled||(n.removeAttr("tabindex"),n.removeAttr("aria-disabled"))):(this._currentText===""?(n.prop("readonly",!1),n.attr("disabled","disabled")):(n.prop("disabled",!1),n.attr("readonly","readonly")),t.attr("readonly","readonly"),this._options.isFocusableWhenDisabled||n.attr({tabindex:-1,"aria-disabled":!0}));r=i&&this._options.mode==="drop";t.toggleClass("drop",r&&!this._options.noDropButton);t.toggleClass("text",!r);this._options.mode==="text"?this._input.attr({"aria-autocomplete":null,"aria-expanded":null,role:null}):(this._input.attr({"aria-expanded":"false"}),this._input.attr("role")!=="combobox"&&this._input.attr({role:"combobox"}),this._behavior&&this._input.attr("aria-autocomplete",this._behavior.getAriaAutocomplete()))},t.prototype._onDropButtonClick=function(){return this.toggleDropDown(),!1},t.prototype._onInputClick=function(){return!this._options.allowEdit&&this._options.enabled&&this.toggleDropDown(),!1},t.prototype._onInputFocus=function(){if(!this._onInputFocusInProgress)try{this._onInputFocusInProgress=!0;this._blockBlur||this._options.disableTextSelectOnFocus||this._input.select();typeof this._options.focus=="function"&&this._options.focus.apply(this,arguments)}finally{this._onInputFocusInProgress=!1}},t.prototype._onInputBlur=function(){var n=this;this._disposed||(this.fireChangeIfNecessary(),this._blockBlur?setTimeout(function(){n._input.focus()},10):this.hideDropPopup(),typeof this._options.blur=="function"&&this._options.blur.apply(this,arguments))},t.prototype._onMouseDown=function(){this.blockBlur()},t.prototype._onInputKeyPress=function(n){return this._behavior.keyPress(n)},t.prototype._onInputKeyUp=function(n){var i=this._behavior.keyUp(n),t;return this.fireChangeIfNecessary(),t=this._behavior&&this._behavior.getDropPopup(),t&&t.setPosition(),i},t.prototype.updateAriaAttributes=function(n){if(n===void 0&&(n=this.isDropVisible()),n){var t=this._behavior.getDropPopup();this._input.attr({"aria-expanded":"true","aria-owns":t?t.getId():null});this.updateAriaActiveDescendant()}else this._input.attr({"aria-expanded":"false","aria-owns":null,"aria-activedescendant":null})},t.prototype.updateAriaActiveDescendant=function(){var n=this._behavior.getDropPopup(),t=n&&n.getSelectedItem();this._input.attr("aria-activedescendant",t?t.attr("id"):null)},t.invalidAttribute="aria-invalid",t.enhancementTypeName="tfs.combo",t}(i.Control);t.ComboO=et;w=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(et);t.Combo=w;i.Enhancement.registerJQueryWidget(w,"comboList",{type:"list"});i.Enhancement.registerJQueryWidget(w,"comboTree",{type:"tree"});tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({itemCss:""},t))},t.prototype.initialize=function(){this._dataSource=this._options.dataSource;this._initializeVirtualization();n.prototype.initialize.call(this)},t.prototype._initializeVirtualization=function(){var r=this,n=$.extend(ut(this._options,["coreCssClass"]),{maxRowCount:this._options.dropCount,itemsUpdated:function(){r.combo.updateAriaAttributes()}}),t=this._options.combo._enhancementOptions.ariaAttributes;t&&t.label&&(n.ariaAttributes||(n.ariaAttributes={}),n.ariaAttributes.label=t.label);this.virtualizingListView=i.Enhancement.enhance(v.VirtualizingListView,this.getElement(),n)},t.prototype.selectPrev=function(n){return this.virtualizingListView.selectPrev(n)},t.prototype.selectNext=function(n){return this.virtualizingListView.selectNext(n)},t.prototype.getSelectedIndex=function(){return this.virtualizingListView.getSelectedIndex()},t.prototype.getSelectedValue=function(){return this._dataSource.getItemText(this.virtualizingListView.getSelectedIndex())},t.prototype.setSelectedValue=function(n){var t=n?this._dataSource.getItemIndex(n):-1;this.virtualizingListView.setSelectedIndex(t)},t.prototype.getSelectedItem=function(){return this.virtualizingListView.getSelectedItem()},t.prototype.getDataSource=function(){return this._dataSource},t.prototype.update=function(){this.virtualizingListView.update()},t}(g);t.ComboListDropPopup=tt;it=function(n){function t(t,i){return n.call(this,t,$.extend({dropControlType:tt},i))||this}return __extends(t,n),t.prototype.initialize=function(){this._dataSource=this._createDataSource();n.prototype.initialize.call(this)},t.prototype.setSource=function(t){n.prototype.setSource.call(this,t);this._maxItemLength=null},t.prototype.getDropOptions=function(){return $.extend(n.prototype.getDropOptions.call(this),{selectedIndex:this._dataSource.getItemIndex(this.combo.getText()),selectionChange:p(this,this._dropSelectionChanged)})},t.prototype.getValue=function(){return this.getText()},t.prototype.getMaxItemLength=function(){var n;if(this._maxItemLength===null){var r=this._dataSource.getCount(!0),i=void 0,t=0;for(n=0;n<r;n++)i=this.getItemText(n,!0),t=Math.max(i.length,t);this._maxItemLength=t}return this._maxItemLength},t.prototype.getDropWidth=function(){var i=n.prototype.getDropWidth.call(this),t;return this._options.fixDropWidth?i:(t=this.getMaxItemLength()*rt.getUnitEx(),t*=1.2,this._options.maxAutoExpandDropWidth!=null&&t>i?Math.min(Math.max(this._options.maxAutoExpandDropWidth,i),t):Math.max(i,t))},t.prototype.getSelectedIndex=function(n,t){return this._dataSource.getItemIndex(n||this.getText(),!1,t)},t.prototype.setSelectedIndex=function(n,t){this._setSelectedIndex(n,t)},t.prototype.setText=function(t,i){var r=t!==this.getText(),u=this.getDropPopup();n.prototype.setText.call(this,t,i);i&&r&&this._options.indexChanged&&this._options.indexChanged.call(this,this.getSelectedIndex(t,!0));u&&r&&u.update()},t.prototype.upKey=function(t){if(this._options.mode!=="text")return n.prototype.upKey.call(this,t)===!1?!1:this.selectPrev()},t.prototype.downKey=function(t){if(this._options.mode!=="text")return n.prototype.downKey.call(this,t)===!1?!1:this.selectNext()},t.prototype.pageUpKey=function(t){if(this._options.mode!=="text")return n.prototype.pageUpKey.call(this,t)===!1?!1:this.selectPrev(!0)},t.prototype.pageDownKey=function(t){if(this._options.mode!=="text")return n.prototype.pageDownKey.call(this,t)===!1?!1:this.selectNext(!0)},t.prototype.keyDown=function(n){if(this._options.mode!=="text")if(n.keyCode===229)this._enableAutoFill=!1;else if(n.ctrlKey&&(n.keyCode===89||n.keyCode===90))return!1},t.prototype.keyPress=function(n){if(this._options.mode!=="text")return n.metaKey||(this._enableAutoFill=typeof this._options.autoComplete=="undefined"?!0:this._options.autoComplete),!0},t.prototype.keyUp=function(n){var t;if(this._options.mode!=="text")return t=n.keyCode||n.charCode,this._options.enableFilter===!0&&(t>=47||t===y.SPACE||t===y.BACKSPACE||t===y.DELETE)&&this._applyFilter(),this._enableAutoFill&&((t>=47||t===y.SPACE)&&this._tryAutoFill(),this._enableAutoFill=!1),this._options.keyUp&&this._options.keyUp.call(this),!0},t.prototype.selectPrev=function(n){var i=this.getDropPopup(),t;if(i){if(i.selectPrev(n))return!1}else if(!n&&(t=this._dataSource.nextIndex(this.getSelectedIndex(null,!0),-1,!0),t>=0))return this._setSelectedIndex(t,!0),!1},t.prototype.selectNext=function(n){var i=this.getDropPopup(),t;if(i){if(i.selectNext(n))return!1}else if(!n&&(t=this._dataSource.nextIndex(this.getSelectedIndex(null,!0),1,!0),t>=0))return this._setSelectedIndex(t,!0),!1},t.prototype._createDataSource=function(){return new ft(this._options)},t.prototype._dropSelectionChanged=function(n,t){this.setText(this.getItemText(n,!1),!0);t&&this.hideDropPopup()},t.prototype._setSelectedIndex=function(n,t){this.setText(this.getItemText(n,!0),t)},t.prototype._tryAutoFill=function(){var n,t,i,r;f.logTracePoint("Combo._tryAutoFill.start");t=this.combo.getText();i=this._dataSource.getItemIndex(t,!0,!0);i>=0&&(n=this.getItemText(i,!0));n&&(this.combo.setText(n,!0),this.combo.setTextSelection(t.length));r=this.getDropPopup();r&&r.setSelectedValue(n);f.logTracePoint("Combo._tryAutoFill.complete")},t.prototype._applyFilter=function(){f.logTracePoint("Combo._applyFilter.start");this._filterData(this.combo.getText());var n=this.getDropPopup();n&&n.update();f.logTracePoint("Combo._applyFilter.complete")},t.prototype._filterData=function(n){var r=this,t,i;n?(t=this._dataSource.getItemIndexes(n,!0,!0),i=t.map(function(n){return r._dataSource.getItem(n,!0)}),this._dataSource.setItems(i,this._dataSource.getItems(!0))):this._dataSource.setItems(this._dataSource.getItems(!0))},t}(d);t.ComboListBehavior=it;w.registerBehavior("list",it);vt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value is not allowed!"},t))},t.prototype.isValid=function(){var t=this.getValue().trim(),n;return t&&(n=i.Enhancement.getInstance(w,this.getElement()),n)?n.getSelectedIndex()>=0:!0},t}(a.BaseValidator);t.ComboControlValidator=vt;b=function(){function n(n){this._setDate(n||new Date)}return n.toGregorian=function(n,t,i){var r=u.getDateTimeFormat().Calendar.convert;return r?r.toGregorian(n,t,i):new Date(n,t,i)},n.fromGregorian=function(n){var t=u.getDateTimeFormat().Calendar.convert;if(t)return t.fromGregorian(n)},n.prototype.getBaseDate=function(){return this._baseDate},n.prototype.setTime=function(n){n=n instanceof Date?n:new Date(n);this._setDate(n)},n.prototype.getTime=function(){return this.getBaseDate().getTime()},n.prototype.getDay=function(){return this.getBaseDate().getDay()},n.prototype.getFullYear=function(n){return n===!0&&this._convertedDate?this._convertedDate[0]:this.getBaseDate().getFullYear()},n.prototype.getMonth=function(n){return n===!0&&this._convertedDate?this._convertedDate[1]:this.getBaseDate().getMonth()},n.prototype.getDate=function(n){return n===!0&&this._convertedDate?this._convertedDate[2]:this.getBaseDate().getDate()},n.prototype.jumpToMonthStart=function(){var i=this.getFullYear(),r=this.getMonth(),u=this.getDate(),t=new n(new Date(i,r,u,12));return this.setTime(t.getTime()-n.DAY_IN_MILLISECONDS*(t.getDate(!0)-1)),this},n.prototype.jumpToWeekStart=function(){var t=u.getDateTimeFormat().FirstDayOfWeek,i=(n.DAYS_IN_A_WEEK-t+this.getDay())%n.DAYS_IN_A_WEEK;return this.setTime(this.getTime()-i*n.DAY_IN_MILLISECONDS),this},n.prototype.nextDay=function(){return this.setTime(this.getTime()+n.DAY_IN_MILLISECONDS),this},n.prototype.prevMonth=function(){return this._increment(0,-1),this},n.prototype.nextMonth=function(){return this._increment(0,1),this},n.prototype.prevYear=function(){return this._increment(-1,0),this},n.prototype.nextYear=function(){return this._increment(1,0),this},n.prototype.equals=function(n){return this.getFullYear()===n.getFullYear()&&this.getMonth()===n.getMonth()&&this.getDate()===n.getDate()},n.prototype._setDate=function(t){this._baseDate=t;this._convertedDate=n.fromGregorian(t)},n.prototype._increment=function(t,i){var r=this.getMonth(!0),u=this.getFullYear(!0);i>0?++r>11&&(r=0,u++):i<0&&--r<0&&(r=11,u--);u+=t;this.setTime(n.toGregorian(u,r,1))},n.DAY_IN_MILLISECONDS=864e5,n.DAYS_IN_A_WEEK=7,n}();ot=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"date-panel",canTakeFocus:!1},t))},t.prototype.initialize=function(){this._selectedDate=this._options.selectedDate;this._date=this._selectedDate||h.getNowInUserTimeZone();this._bind("click",p(this,this._onClick));this._bind("keydown",p(this,this._onKeyDown));this._draw(this._date,"prev-month");n.prototype.initialize.call(this)},t.prototype.prevMonth=function(){var n=new b(this._date);this._date=n.prevMonth().getBaseDate();this._draw(this._date,"prev-month")},t.prototype.nextMonth=function(){var n=new b(this._date);this._date=n.nextMonth().getBaseDate();this._draw(this._date,"next-month")},t.prototype.prevYear=function(){var n=new b(this._date);this._date=n.prevYear().getBaseDate();this._draw(this._date,"prev-year")},t.prototype.nextYear=function(){var n=new b(this._date);this._date=n.nextYear().getBaseDate();this._draw(this._date,"next-year")},t.prototype.selectDate=function(n){this.setSelectedDate(n);this._options.onSelectDate&&this._options.onSelectDate()},t.prototype.setSelectedDate=function(n){this._selectedDate=this._date=n;this._draw(this._selectedDate);this._fireChange()},t.prototype.getSelectedDate=function(){return this._selectedDate},t.prototype.getSelectedItem=function(){return this._$selectedItem},t.prototype._draw=function(n,t){var f=this.getElement(),e=this._options.todayFormat||"d",u=$("<div />"),i=$("<div />").addClass("quick-nav flex-row"),r;$("<a />").addClass("prev-month").attr("href","#").attr("tabindex",-1).append($("<span/>").addClass("icon icon-drop-left")).appendTo($("<div/>").addClass("prev-month").appendTo(i));r=$("<div/>").addClass("month-year").appendTo(i);r.text(h.localeFormat(n,"y",!0));$("<a />").addClass("next-month").attr("href","#").attr("tabindex",-1).append($("<span/>").addClass("icon icon-drop-right")).appendTo($("<div/>").addClass("next-month").appendTo(i));u.append(i);i=$("<div/>");r=$("<div />").addClass("days");r.append(this._drawCalendarTable(n));i.append(r);u.append(i);i=$("<div />");r=$("<div />").addClass("legend");$("<span/>").addClass("today").appendTo(r);$("<a />").addClass("today").attr("href","#").attr("tabindex",-1).append(c.format(o.TodayTitle,h.localeFormat(new Date,e))).appendTo(r);i.append(r);u.append(i);i=$("<div />");r=$("<div />").addClass("note").text(c.format(o.DatePanel_ControlsHelpLabel,"pageup","pagedown","t")).appendTo(i);u.append(i);f.empty().append(u);t&&this._options.canTakeFocus&&$("."+t).focus()},t.prototype._drawCalendarTable=function(n){var a=h.getTodayInUserTimeZone(),o=u.getDateTimeFormat(),r=new b(n),v=r.getMonth(!0),s,e,c,f,l,t;for(r.jumpToMonthStart(),r.jumpToWeekStart(),s=$("<table />").attr("cellSpacing",0).attr("border",0),e=$("<tr />").addClass("day-names"),f=0;f<7;f++)t=$("<th />"),c=(o.FirstDayOfWeek+f)%b.DAYS_IN_A_WEEK,t.text(o.ShortestDayNames[c]),t.attr("aria-label",o.DayNames[c]),e.append(t);for(s.append(e),f=0;f<6;f++){for(e=$("<tr />").addClass("days"),l=0;l<b.DAYS_IN_A_WEEK;l++)t=$("<td />").addClass("date-cell").attr({id:i.getId(),"aria-label":h.localeFormat(r.getBaseDate(),o.LongDatePattern,!0)}),$("<span />").addClass("date").attr("href","#").attr("tabindex",-1).data("date",r.getTime()).text(r.getDate(!0)).appendTo(t),r.getMonth(!0)!==v&&t.addClass("other-month"),r.equals(a)&&t.addClass("today"),this._selectedDate instanceof Date?r.equals(this._selectedDate)&&(t.addClass("selected"),this._options.canTakeFocus&&t.focus(),this._$selectedItem=t):r.equals(n)&&(this._options.canTakeFocus&&t.focus(),t.addClass("selected")),e.append(t),r.nextDay();s.append(e)}return s},t.prototype._onKeyDown=function(n){return n.keyCode===y.ENTER||n.keyCode===y.SPACE?this._onClick(n):n.keyCode===y.LEFT||n.keyCode===y.RIGHT||n.keyCode===y.UP||n.keyCode===y.DOWN?!1:void 0},t.prototype._onClick=function(n){var r=$(n.target),t=r.closest("a"),i,u;return t.length?(t.hasClass("prev-month")?this.prevMonth():t.hasClass("next-month")?this.nextMonth():t.hasClass("prev-year")?this.prevYear():t.hasClass("next-year")?this.nextYear():t.hasClass("today")&&this.selectDate(h.getNowInUserTimeZone()),!1):(i=r.closest("span"),i.length)?(i.hasClass("date")&&this.selectDate(new Date(i.data("date"))),!1):(u=r.closest(".date-cell"),u.length)?(this.selectDate(new Date(u.find("span").data("date"))),!1):void 0},t}(i.BaseControl);t.DatePanel=ot;st=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._selectedDate=this._options.selectedDate;this._datePanel=i.BaseControl.createIn(ot,this.getElement(),$.extend(ut(this._options,["coreCssClass"]),{change:p(this,this._onChange)}));n.prototype.initialize.call(this)},t.prototype.getSelectedDate=function(){return this._selectedDate},t.prototype.getSelectedItem=function(){return this._datePanel.getSelectedItem()},t.prototype.setSelectedDate=function(n){this._selectedDate=n;this._datePanel&&this._datePanel.setSelectedDate(n)},t.prototype._onChange=function(){return this._selectedDate=this._datePanel.getSelectedDate(),this._fireChange(),!1},t}(g);t.ComboDateDropPopup=st;ht=function(n){function t(t,i){return n.call(this,t,$.extend({dropControlType:st,dateTimeFormat:u.getDateTimeFormat().ShortDatePattern},i))||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._timeValue=this._options.defaultTimeOfDay||0},t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.getAriaAutocomplete=function(){return"none"},t.prototype.getAriaDescription=function(){return c.format(o.ComboDateScreenReaderHelp,"page up","Page down","t")},t.prototype.getValue=function(){return this.getSelectedDate()},t.prototype.getDropOptions=function(){var i=this,t=this.getSelectedDate();return!t&&this._options.getInitialDate&&(t=this._options.getInitialDate(this.combo)),$.extend(n.prototype.getDropOptions.call(this),{dropElementAlign:"right-top",dropBaseAlign:"right-bottom",selectedDate:t,onSelectDate:function(){i.hideDropPopup()},change:p(this,this._onChange)})},t.prototype.getDropWidth=function(){return undefined},t.prototype.getSelectedDate=function(){var i=this.combo.getText().trim(),n=null,t;return i&&(n=h.parseDateString(i,this._options.parseFormat,!0),n&&(t=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this._options.defaultTimeOfDay&&n.getTime()===t.getTime()?(n=new Date(n.getTime()+this._options.defaultTimeOfDay),this.setText(h.localeFormat(n,this._options.dateTimeFormat,!0),!1)):this._timeValue=n-t)),n},t.prototype.setSelectedDate=function(n,t){t===void 0&&(t=!0);n=new Date(n.getFullYear(),n.getMonth(),n.getDate());n=new Date(n.getTime()+(this._timeValue||0));this.setText(h.localeFormat(n,this._options.dateTimeFormat,!0),t)},t.prototype.upKey=function(){var n=this.getDropPopup();if(n)return n.setSelectedDate(this._addDays(this._getSelectedDate(),-7)),!1},t.prototype.keyDown=function(n){var t;if(n&&n.keyCode===y.ENTER)if(t=this.getDropPopup(),t)t.setSelectedDate(this._getSelectedDate());else return this.combo.toggleDropDown(),!1;else n&&n.keyCode===y.T&&(t=this.getDropPopup(),t&&t.setSelectedDate(h.getTodayInUserTimeZone()))},t.prototype.downKey=function(t){if(n.prototype.downKey.call(this,t)===!1)return!1;var i=this.getDropPopup();if(i)return i.setSelectedDate(this._addDays(this._getSelectedDate(),7)),!1;this.combo.toggleDropDown()},t.prototype.pageUpKey=function(){var t=this.getDropPopup(),n;if(t)return n=this._getSelectedDate(),t.setSelectedDate(this._addDays(n,-1*this._getMonthLength(n.getMonth()-1,n.getFullYear()))),!1},t.prototype.pageDownKey=function(){var t=this.getDropPopup(),n;if(t)return n=this._getSelectedDate(),t.setSelectedDate(this._addDays(n,this._getMonthLength(n.getMonth(),n.getFullYear()))),!1},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.setSelectedDate(this._addDays(this._getSelectedDate(),-1)),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.setSelectedDate(this._addDays(this._getSelectedDate(),1)),!1},t.prototype._onChange=function(){var t=this.getDropPopup(),n=t.getSelectedDate();return n&&this.setSelectedDate(n),!1},t.prototype._getSelectedDate=function(){var n=this.getDropPopup();return n.getSelectedDate()||new Date},t.prototype._addDays=function(n,t){var i=new Date;return i.setTime(n.getTime()+t*864e5),i},t.prototype._getMonthLength=function(n,t){n=(n+12)%12+1;switch(n){case 4:case 6:case 9:case 11:return 30;case 2:if(t%4==0){var i=new Date(t,1,29);if(i.getMonth()===1)return 29}return 28;default:return 31}},t}(d);t.ComboDateBehavior=ht;w.registerBehavior("date-time",ht);i.Enhancement.registerJQueryWidget(w,"comboDateTime",{type:"date-time"});ct=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({type:"date-time"},t))},t}(w);t.DatePicker=ct;i.Enhancement.registerJQueryWidget(ct,"datePicker");lt=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._checkStates={},r._options.id||(r._options.id="cmvdp_"+i.getId()),r}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"multi-value",createItem:p(this,this._createItem),itemClick:p(this,this._onItemClick)},t))},t.prototype.initialize=function(){var t=this.combo.getText().split(this._options.sepChar),i=this;$.each(t,function(n,t){t=t.trim();t&&(i._checkStates[t]=!0)});n.prototype.initialize.call(this)},t.prototype.getCheckedItems=function(){var n=this;return $.map(this._dataSource.getItems(),function(t){if(n._checkStates[t])return t})},t.prototype.getValue=function(){return this.getCheckedItems().join(this._options.joinChar||this._options.sepChar+" ")},t.prototype.toggleCheckbox=function(n){var r=this._options.id+"_cb"+n,t,i;i=this._dataSource.getItemText(n);t=$("#"+r);t.prop("checked")?(t.prop("checked",!1),this._checkStates[i]=!1):(t.prop("checked",!0),this._checkStates[i]=!0)},t.prototype._createItem=function(n){var t=this._dataSource.getItemText(n),r=this._options.id+"_cb"+n,i=$(k("li",this._options.nodeCss)).attr("id",this._options.id+"_li"+n),u=$("<input />").data("value",t).attr("type","checkbox").attr("id",r).data("index",n).appendTo(i);return this._checkStates[t]&&u.prop("checked",!0),i.append($(k("label")).attr("for",r).text(t||"")),i},t.prototype._onItemClick=function(n,t,i,r){var f,u,e=this._dataSource.getItemText(t);f=Boolean(this._checkStates[e]);u=Boolean(r.find("input").prop("checked"));this._checkStates[e]=u;f!==u&&this._fireChange()},t}(tt);t.ComboMultiValueDropPopup=lt;at=function(n){function t(i,r){return n.call(this,i,$.extend({dropControlType:lt,sepChar:t.Default_Seperate_Char,joinChar:t.Default_Join_Char},r))||this}return __extends(t,n),t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.getValue=function(){var n=this.getDropPopup();return n.getCheckedItems()},t.prototype.getDropOptions=function(){var t=this;return $.extend(n.prototype.getDropOptions.call(this),{sepChar:this._options.sepChar,joinChar:this._options.joinChar,selectedIndex:-1,selectionChange:function(){t.combo.updateAriaActiveDescendant()},change:p(this,this._onChange)})},t.prototype.keyDown=function(n){var t=this.getDropPopup(),i;t&&n.keyCode===y.SPACE&&(i=t.getSelectedIndex(),i>=0&&(t.toggleCheckbox(i),this.setText(t.getValue(),!0)))},t.prototype._onChange=function(){var n=this.getDropPopup();return this.setText(n.getValue(),!0),!1},t.Default_Seperate_Char=",",t.Default_Join_Char=", ",t}(it);t.ComboMultiValueBehavior=at;w.registerBehavior("multi-value",at)});

define("VSS/Controls/CheckboxList",["require","exports","VSS/Controls","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/UI","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f){var s,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.CheckboxList=t.CheckboxListO=void 0;s=u.delegate;e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"checkbox-list",tagName:"ul"},t))},t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this);this.setItems(this._options.items);this._bind("click",s(this,this._onCheckClick));this._options.useArrowKeysForNavigation&&this._bind("keydown",function(n){var i,r;switch(n.keyCode){case f.KeyCode.UP:if(i=$(n.target).closest("li").prev("li").find("input[type=checkbox]"),i.length>0)return t._inputHasTabIndex&&t._inputHasTabIndex.attr("tabIndex",-1),t._inputHasTabIndex=i.attr("tabIndex",0).focus(),!1;break;case f.KeyCode.DOWN:if(r=$(n.target).closest("li").next("li").find("input[type=checkbox]"),r.length>0)return t._inputHasTabIndex&&t._inputHasTabIndex.attr("tabIndex",-1),t._inputHasTabIndex=r.attr("tabIndex",0).focus(),!1}})},t.prototype.enableElement=function(t){n.prototype.enableElement.call(this,t);f.enableElement(this.getElement().find("input"),t)},t.prototype.setItems=function(n){this._items=n||[];this._draw()},t.prototype.getCheckedItems=function(){var n=this;return this._items.filter(function(t){return n._checkItemState(t,!0)})},t.prototype.getUncheckedItems=function(){var n=this;return this._items.filter(function(t){return n._checkItemState(t,!1)})},t.prototype.getCheckedValues=function(){var n=this;return this.getCheckedItems().map(function(t){return n._getItemValue(t)})},t.prototype.getUncheckedValues=function(){var n=this;return this.getUncheckedItems().map(function(t){return n._getItemValue(t)})},t.prototype.setCheckedValues=function(n){for(var t,i=r.toDictionary(n,function(n){return n},function(){return!0}),u=0,f=this.getCheckedValues();u<f.length;u++)t=f[u],t in i?delete i[t]:(this.getElement().find("#"+this._idMap[t]).prop("checked",!1),delete this._checkedItems[t]);for(t in i)i.hasOwnProperty(t)&&(this.getElement().find("#"+this._idMap[t]).prop("checked",!0),this._checkedItems[t]=!0)},t.prototype._initializeElement=function(){this._options.id||(this._options.id="cbl_"+i.getId());n.prototype._initializeElement.call(this)},t.prototype._getItemValue=function(n){var t=null;return typeof n=="string"?t=n:n&&(typeof n.value!="undefined"?t=n.value:typeof n.text!="undefined"&&(t=n.text)),t},t.prototype._checkItemState=function(n,t){var i=this._getItemValue(n);return i!==null&&i!==undefined&&i in this._checkedItems===t?!0:!1},t.prototype._draw=function(){var n=this;this.getElement().empty();this._checkedItems={};this._idMap={};$.each(this._items||[],function(t,i){var u,r,c,e,h=n._options.id+"_cb"+t,f,o,s;typeof i=="string"?u=i:i&&(u=i.text,r=i.value,c=i.checked,e=i.content);u=u||r;(r===null||r===undefined)&&(r=u);(u!=null||e!=null)&&(f=$("<li />"),n._options.itemCssClass&&f.addClass(n._options.itemCssClass),i.cssClass&&f.addClass(i.cssClass),o=$("<input />").data("value",r).attr("type","checkbox").attr("id",h).data("index",t).appendTo(f),c&&(o.prop("checked",!0),n._checkedItems[r]=!0),s=$("<label />").attr("for",h),e?s.append(e):s.text(u),s.appendTo(f),n._options.useArrowKeysForNavigation&&(t===0?n._inputHasTabIndex=o:o.attr("tabIndex",-1)),n.getElement().append(f),n._idMap[r]=h)})},t.prototype._onCheckClick=function(n){var t=$(n.target),i,r=!1;t.is("input[type=checkbox]")&&(i=t.data("value"),t.prop("checked")?(this._checkedItems[i]=!0,r=!0):delete this._checkedItems[i],this._options.useArrowKeysForNavigation&&(this._inputHasTabIndex&&this._inputHasTabIndex.attr("tabIndex",-1),this._inputHasTabIndex=t.attr("tabIndex",0)),this._fireChange([i,r]))},t.enhancementTypeName="tfs.checkboxList",t}(i.Control);t.CheckboxListO=e;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(e);t.CheckboxList=o;i.Enhancement.registerJQueryWidget(o,"checkboxList")});

define("VSS/Controls/Filters",["require","exports","VSS/Controls","VSS/Controls/Combos","VSS/Controls/PopupContent","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s){var c,h;Object.defineProperty(t,"__esModule",{value:!0});t.FilterControl=t.FilterControlO=void 0;c=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype._getDefaultClause=function(){throw new Error("_getDefaultClause is abstract and must be overriden by derived classes.");},t.prototype._updateAndOrControl=function(){throw new Error("_updateAndOrControl is abstract and must be overriden by derived classes.");},t.prototype._updateFieldControl=function(){throw new Error("_updateFieldControl is abstract and must be overriden by derived classes.");},t.prototype._updateOperatorControl=function(){throw new Error("_updateOperatorControl is abstract and must be overriden by derived classes.");},t.prototype._updateValueControl=function(){throw new Error("_updateValueControl is abstract and must be overriden by derived classes.");},t.prototype._validateClause=function(){throw new Error("_validateClause is abstract and must be overriden by derived classes.");},t.prototype._handleFieldNameChanged=function(){throw new Error("_handleFieldNameChanged is abstract and must be overriden by derived classes.");},t.prototype._handleOperatorChanged=function(){throw new Error("_handleOperatorChanged is abstract and must be overriden by derived classes.");},t.prototype._setDirty=function(){throw new Error("_setDirty is abstract and must be overriden by derived classes.");},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({enableRowAddRemove:!0,enableGrouping:!0,enabled:!0,coreCssClass:"filter-control",appendAddRemoveColumn:!1},t))},t.prototype.setFilter=function(n){var t=this._filter;return this._filter=n,this.equalFilters(t,n)?(this._filter.clauses=t.clauses,!1):(this._createClauseTable(),!0)},t.prototype.equalFilters=function(n,t){return!n||!t?n===t:(n=__assign(__assign({},n),{clauses:(n.clauses||[]).map(function(n){return __assign(__assign({},n),{index:null})})}),t=__assign(__assign({},t),{clauses:(t.clauses||[]).map(function(n){return __assign(__assign({},n),{index:null})})}),e.equals(n,t))},t.prototype._createClauseTable=function(){var n=this;this._clauseTable&&(this._clauseTable.remove(),this._clauseTable=null,this._groupHeaderCell=null);this._filter&&(this._clauseTable=$("<table />").addClass("clauses"),this._options.allowZeroRows||this._filter.clauses&&this._filter.clauses.length!==0||(this._filter.clauses=[this._getDefaultClause()]),this._filter.clauses&&this._filter.clauses.length>0?this._clauseTable.append(this._createHeaderRow()):this._filter.clauses=[],$.each(this._filter.clauses,function(t,i){i.index=t;n._clauseTable.append(n._createClauseRow(i))}),this._options.enableRowAddRemove&&(this._options.prependAddRow?this._clauseTable.prepend(this._createAddClauseRow()):this._clauseTable.append(this._createAddClauseRow())),this.getElement().append(this._clauseTable))},t.prototype._createHeaderRow=function(){var r=this,e=this,n=$("<tr/>").addClass("header"),t,i;return this._options.enableRowAddRemove&&!this._options.appendAddRemoveColumn&&n.append($("<th/>").addClass(h.ADD_REMOVE_CLASS)),this._options.enableGrouping&&(t=$("<span/>").prop("disabled",!0).attr({role:"button","aria-disabled":"true",tabIndex:0,"aria-label":f.FilterGroupClauses}).addClass("bowtie-icon bowtie-group-rows").click(function(n){return $(n.currentTarget).prop("disabled")||r._options.readOnly||r._groupSelectedClauses(),!1}).keydown(s.buttonKeydownHandler),u.RichContentTooltip.add(f.FilterGroupClauses,t),$("<th/>").addClass("grouping disabled").append(t).appendTo(n),this._options.readOnly||(this._groupHeaderCell=$("<th/>").addClass("groups"),this._filter&&this._filter.maxGroupLevel&&this._groupHeaderCell.attr("colspan",this._filter.maxGroupLevel+1)),n.append(this._groupHeaderCell)),this._options.hideLogicalOperator||n.append($("<th/>").addClass("logical").text(f.FilterControlAndOr)),n.append($("<th/>").addClass("field").text(f.FilterControlField)),i=$("<th/>").addClass("operator"),n.append(i),this._options.hideOperatorHeader||i.text(f.FilterControlOperator),n.append($("<th/>").addClass("value").text(f.FilterControlValue)),this._options.enableRowAddRemove&&this._options.appendAddRemoveColumn&&n.append($("<th/>").addClass(h.ADD_REMOVE_CLASS)),n},t.prototype._getInsertClauseTooltipText=function(){return f.FilterControlInsertClause},t.prototype._getRemoveClauseTooltipText=function(){return f.FilterControlRemoveClause},t.prototype.getFilters=function(){return this._filter},t.prototype._createClauseRow=function(n){function v(){return{clause:n,$row:e,logicalOperatorControl:w,fieldNameControl:b,operatorControl:k,valueControl:d}}function p(n){h._onClauseChange(n,v())}function g(){h._onControlBlurred()}function nt(){if(l){if(t.addClass("group g-cat-"+(l.level||0)%5),l.start===a){t.addClass("group-start");t.addClass(h._options.readOnly?"disabled":"");var n=$("<span/>").attr({role:"button",tabIndex:0,"aria-label":f.FilterControlUngroupClauses}).addClass("icon icon-tfs-clause-ungroup");u.RichContentTooltip.add(f.FilterControlUngroupClauses,n);h._options.readOnly?(n.prop("disabled",!0),n.attr({"aria-disabled":"true"})):n.click(function(n){return function(t){return h._ungroupClick(t,$.extend(v(),{group:n}))}}(l)).keydown(s.buttonKeydownHandler);n.appendTo(t)}else $("<div/>").addClass("group-placeholder").appendTo(t);l.end===a&&t.addClass("group-end")}c>1&&t.attr("colspan",c);e.append(t)}var h=this,o,l,y,t,c,w,b,k,d,a=n.index+1,e=$("<tr/>").addClass("clause clause-row").data("clause",n);if(this._options.enableRowAddRemove&&!this._options.appendAddRemoveColumn&&e.append(this._createAddRemoveColumn(v)),this._options.enableGrouping)if(h._options.readOnly||e.append($("<td/>").addClass("grouping").append($("<input/>").attr("type","checkbox").attr("aria-label",f.FilterGroupingLabel).data("clauseRow",a).click(function(){h._updateGroupingSpan()}))),this._filter.groups&&this._filter.groups.length&&(o=[],$.each(this._filter.groups,function(n,t){t.start<=a&&t.end>=a&&(t.level=t.level||0,o.push(t))}),o.sort(function(n,t){return t.level-n.level})),o&&o.length){for(t=$("<td/>"),c=0,y=this._filter.maxGroupLevel||0;y>=0;y--)o.length>0&&(o[0].level||0)===y&&(c>0&&(nt(),t=$("<td/>"),c=0),l=o.shift()),c++;c>0&&nt()}else e.append($("<td />").addClass("no-group").attr("colspan",(this._filter.maxGroupLevel||0)+1));this._options.hideLogicalOperator||(t=$("<td/>").addClass("logical"),a>1&&(w=i.BaseControl.createIn(r.Combo,t,{mode:"drop",allowEdit:!1,enabled:!this._options.readOnly,ariaAttributes:{label:f.FilterLogicalOperator},change:function(){p("logicalOperator")}}),this._updateAndOrControl(w,n)),e.append(t));t=$("<td/>").addClass("field");var tt={mode:"drop",allowEdit:!this._options.hasFixedFields,enabled:!this._options.readOnly,change:function(){p("fieldName")},label:f.FilterControlField,required:!0,errorMessage:f.FilterClauseErrorMessage},it={mode:"drop",allowEdit:!this._options.hasFixedFields,sorted:!1,source:[],enabled:!this._options.readOnly,change:function(){p("operator")},label:f.FilterControlOperator,errorMessage:f.FilterClauseErrorMessage},rt={mode:"text",enabled:!this._options.readOnly,change:function(){p("value")},label:f.FilterControlValue,errorMessage:f.FilterClauseErrorMessage};return this._options.propogateControlBlur&&(tt.blur=function(){g()},it.blur=function(){g()},rt.blur=function(){g()}),b=i.Control.create(r.Combo,t,tt),this._updateFieldControl(b,n),e.append(t),t=$("<td/>").addClass("operator"),k=i.Control.create(r.Combo,t,it),this._updateOperatorControl(k,n),e.append(t),t=$("<td/>").addClass("value"),d=this.createClauseValueControl(t,rt),this._updateValueControl(d,n),e.append(t),this._options.enableRowAddRemove&&this._options.appendAddRemoveColumn&&e.append(this._createAddRemoveColumn(v)),this._validateClause(this._preprocessClauseForValidation(v())),e},t.prototype.createClauseValueControl=function(n,t){return i.Control.create(r.Combo,n,t)},t.prototype._getAddNewClauseText=function(){return f.FilterControlAddNewClause},t.prototype._createAddRemoveColumn=function(n){var t=this,r=$("<span/>").attr({role:"button",tabIndex:0,"aria-label":this._getInsertClauseTooltipText()}).addClass("bowtie-icon bowtie-math-plus filter-row-add").click(function(i){return t._addClauseClick(i,n())}).keydown(s.buttonKeydownHandler),i;return u.RichContentTooltip.add(t._getInsertClauseTooltipText()||"",r),i=$("<span/>").attr({role:"button",tabIndex:0,"aria-label":this._getRemoveClauseTooltipText()}).addClass("bowtie-icon bowtie-edit-delete filter-row-delete").click(function(i){return t._removeClauseClick(i,n())}).keydown(s.buttonKeydownHandler),u.RichContentTooltip.add(t._getRemoveClauseTooltipText()||"",i),$("<td/>").addClass(h.ADD_REMOVE_CLASS).append(r).append(i)},t.prototype._createAddClauseRow=function(){function e(t){return u._addClauseClick(t,{$row:n})}var n=$("<tr/>").addClass(h.ADD_CLAUSE_ROW_CLASS+" clause-row"),u=this,f=this._getAddNewClauseText(),r=String(i.getId()),o=$("<span/>").addClass("add-row-link").text(f).attr("id",r),c=$("<div/>").addClass("add-new-clause-container").attr({"aria-labelledby":r,role:"button",tabIndex:"0"}).append($("<span/>").addClass("bowtie-icon bowtie-math-plus")).append(o).click(e).keydown(s.buttonKeydownHandler),t=$("<td/>").addClass(h.ADD_REMOVE_CLASS).append(c);return this._options.enableGrouping?t.attr("colspan",5+(this._filter.maxGroupLevel||0)):t.attr("colspan",4),n.append(t),n},t.prototype._onClauseChange=function(n,t){var f=this,r,u,i=t.clause;switch(n){case"logicalOperator":r=i.logicalOperator;i.logicalOperator=t.logicalOperatorControl.getText();o.localeIgnoreCaseComparer(r,i.logicalOperator)!==0&&(u=!0);break;case"fieldName":r=i.fieldName;i.fieldName=t.fieldNameControl.getText().trim();o.localeIgnoreCaseComparer(r,i.fieldName)!==0&&(u=!0,this._handleFieldNameChanged(t,r));break;case"operator":r=i.operator;i.operator=t.operatorControl.getText().trim();o.localeIgnoreCaseComparer(r,i.operator)!==0&&(u=!0,this._handleOperatorChanged(t,r));break;case"value":r=i.value;i.value=this.getClauseValue(t.valueControl,i);o.localeIgnoreCaseComparer(r,i.value)!==0&&(u=!0)}u&&this.delayExecute("validate",150,!0,function(){f._validateClause(t);f._updateClauseValue(t);f._handleFilterModified()})},t.prototype.getClauseValue=function(n){return n.getText()},t.prototype._addClauseClick=function(n,t){var i,r,u;if(this._filter.clauses=this._filter.clauses||[],i=this._getDefaultClause(),t.clause){for(i.index=t.clause.index,this._filter.clauses.splice(t.clause.index,0,i),r=i.index+1,u=this._filter.clauses.length;r<u;r++)this._filter.clauses[r].index=r;this._filter.groups=s.updateFilterGroups(this._filter.groups,i.index+1,!0)}else this._options.prependAddRow?(i.index=0,this._filter.clauses.forEach(function(n){n.index++}),this._filter.clauses.unshift(i)):(i.index=this._filter.clauses.length,this._filter.clauses.push(i));return this._createTableAndFocus(i.index,"field"),!1},t.prototype._removeClauseClick=function(n,t){var r=t.clause.index,u,i;for(this._filter.clauses.splice(r,1),u=this._filter.clauses.length,i=r;i<u;i++)this._filter.clauses[i].index=i;return this._filter.groups=s.updateFilterGroups(this._filter.groups,r+1,!1),this._filter.maxGroupLevel=s.updateFilterGroupLevels(this._filter.groups),this._createTableAndFocusDelete(r),!1},t.prototype._preprocessClauseForValidation=function(n){return n},t.prototype._updateClauseValue=function(){},t.prototype._updateGroupingSpan=function(){var t=0,i=0,r=!1,n;return $("td.grouping input",this.getElement()).each(function(n,u){$(u).prop("checked")?(t++,(r||i===0)&&i++,r=!0):r=!1}),n=$(".header th.grouping",this.getElement()),t>1&&t===i?(n.removeClass("disabled"),n.find("span").prop("disabled",!1),n.find("span").attr({"aria-disabled":"false"})):(n.addClass("disabled"),n.find("span").prop("disabled",!0),n.find("span").attr({"aria-disabled":"true"})),!1},t.prototype._groupSelectedClauses=function(){var n=Number.MAX_VALUE,t=0,i,r=this._filter.groups||[];if($("td.grouping input:checked",this.getElement()).each(function(i,r){var u=$(r).data("clauseRow");n=Math.min(n,u);t=Math.max(t,u)}),n>=t){alert(f.FilterGroupingCannotGroup);return}$.each(r,function(r,u){return u.start===n&&u.end===t?(alert(f.FilterGroupingGroupAlreadyExist),i=!0,!1):u.start<n&&u.end>n&&u.end<t||u.start<t&&u.end>t&&u.start>n?(alert(f.FilterGroupingCannotIntersect),i=!0,!1):u.end===n||u.start===t?(alert(f.FilterGroupingCannotIntersect),i=!0,!1):void 0});i||(r.push({start:n,end:t,level:null}),this._filter.groups=r,this._filter.maxGroupLevel=s.updateFilterGroupLevels(r),this._createTableAndFocus(1,"field"))},t.prototype._ungroupClick=function(n,t){var i=[];return $.each(this._filter.groups,function(n,r){(t.group.start!==r.start||t.group.end!==r.end)&&i.push(r)}),this._filter.groups=i,this._filter.maxGroupLevel=s.updateFilterGroupLevels(i),this._createTableAndFocus(t.clause.index+1,"field"),!1},t.prototype._createTableAndFocus=function(n,t){this._createClauseTable();var i=$("td."+t,this.getElement()).eq(n);$("input",i).focus();this._handleFilterModified()},t.prototype._createTableAndFocusDelete=function(n){this._createClauseTable();n===this._filter.clauses.length&&(n-=1);n<0?$(".add-new-clause-container",this.getElement()).focus():$(".filter-row-delete",this.getElement()).eq(n).focus();this._handleFilterModified()},t.prototype._handleFilterModified=function(){this._setDirty();this._fire("filterModified",this._filter)},t.prototype._onControlBlurred=function(){this._fire("controlBlur",this._filter)},t.enhancementTypeName="tfs.filterControl",t.ADD_REMOVE_CLASS="add-remove",t.ADD_CLAUSE_ROW_CLASS="add-clause",t}(i.Control);t.FilterControlO=c;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(c);t.FilterControl=h});

/*!
 * jQuery UI Droppable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/droppable",["jquery","./draggable","./mouse","./version","./widget"],e):e(jQuery)}(function(e){"use strict";return e.widget("ui.droppable",{version:"1.13.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof i?i:function(e){return e.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept="function"==typeof i?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,o=!1;return!(!s||(s.currentItem||s.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return o=!0,!1}),!o&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(s)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,s,o){if(!i.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,a=n+t.helperProportions.width,l=r+t.helperProportions.height,p=i.offset.left,c=i.offset.top,d=p+i.proportions().width,u=c+i.proportions().height;switch(s){case"fit":return p<=n&&a<=d&&c<=r&&l<=u;case"intersect":return p<n+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&c<r+t.helperProportions.height/2&&l-t.helperProportions.height/2<u;case"pointer":return e(o.pageY,c,i.proportions().height)&&e(o.pageX,p,i.proportions().width);case"touch":return(r>=c&&r<=u||l>=c&&l<=u||r<c&&l>u)&&(n>=p&&n<=d||a>=p&&a<=d||n<p&&a>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var s,o,n=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;s<n.length;s++)if(!(n[s].options.disabled||t&&!n[s].accept.call(n[s].element[0],t.currentItem||t.element))){for(o=0;o<a.length;o++)if(a[o]===n[s].element[0]){n[s].proportions().height=0;continue e}n[s].visible="none"!==n[s].element.css("display"),n[s].visible&&("mousedown"===r&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions({width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,o,n,r=e.ui.intersect(t,this,this.options.tolerance,i),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o})).length&&((s=e(n[0]).droppable("instance")).greedyChild="isover"===a)),s&&"isover"===a&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),s&&"isout"===a&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable});

/*!
 * jQuery UI Draggable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/draggable",["jquery","./mouse","./data","./plugin","./safe-active-element","./safe-blur","./scroll-parent","./version","./widget"],t):t(jQuery)}(function(t){"use strict";return t.widget("ui.draggable",t.ui.mouse,{version:"1.13.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var s=this.options;return!(this.helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===s.iframeFix?"iframe":s.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var s=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(s).length||t.ui.safeBlur(s)},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==s._trigger("stop",e)&&s._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var s=this.options,i="function"==typeof s.helper,o=i?t(s.helper.apply(this.element[0],[e])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),Array.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,i,o=this.options,n=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(s=t(o.containment))[0])&&(e=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s)):this.containment=o.containment:this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,n,r=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,h=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(a=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(a=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[s,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,i){var o=t.extend({},s,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var s=t(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push(s),s.refreshPositions(),s._trigger("activate",e,o))})},stop:function(e,s,i){var o=t.extend({},s,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){this.isOver?(this.isOver=0,i.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,o))})},drag:function(e,s,i){t.each(i.sortables,function(){var o=!1,n=this;n.positionAbs=i.positionAbs,n.helperProportions=i.helperProportions,n.offset.click=i.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o})),o?(n.isOver||(n.isOver=1,i._parent=s.helper.parent(),n.currentItem=s.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return s.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=i.offset.click.top,n.offset.click.left=i.offset.click.left,n.offset.parent.left-=i.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=i.offset.parent.top-n.offset.parent.top,i._trigger("toSortable",e),i.dropped=n.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,n.fromOutside=i),n.currentItem&&(n._mouseDrag(e),s.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),s.helper.appendTo(i._parent),i._refreshOffsets(e),s.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,s,i){var o=t("body"),n=i.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,s,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,s,i){var o=i.options;o._opacity&&t(s.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,s,i){var o=i.options,n=!1,r=i.scrollParentNotHidden[0],l=i.document[0];r!==l&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(l).scrollTop()<o.scrollSensitivity?n=t(l).scrollTop(t(l).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(l).scrollTop())<o.scrollSensitivity&&(n=t(l).scrollTop(t(l).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(l).scrollLeft()<o.scrollSensitivity?n=t(l).scrollLeft(t(l).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(l).scrollLeft())<o.scrollSensitivity&&(n=t(l).scrollLeft(t(l).scrollLeft()+o.scrollSpeed)))),!1!==n&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,s,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),s=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:s.top,left:s.left})})},drag:function(e,s,i){var o,n,r,l,a,h,p,c,f,d,g=i.options,u=g.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)h=(a=i.snapElements[f].left-i.margins.left)+i.snapElements[f].width,c=(p=i.snapElements[f].top-i.margins.top)+i.snapElements[f].height,v<a-u||m>h+u||P<p-u||_>c+u||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(p-P)<=u,n=Math.abs(c-_)<=u,r=Math.abs(a-v)<=u,l=Math.abs(h-m)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=o||n||r||l,"outer"!==g.snapMode&&(o=Math.abs(p-_)<=u,n=Math.abs(c-P)<=u,r=Math.abs(a-m)<=u,l=Math.abs(h-v)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(o||n||r||l||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||n||r||l||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,s,i){var o,n=i.options,r=t.makeArray(t(n.stack)).sort(function(e,s){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(s).css("zIndex"),10)||0)});r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,s,i){var o=i.options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}}),t.ui.draggable});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Utils/Draggable",["require","exports","VSS/Diag","jQueryUI/draggable"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});$(function(){$.ui.plugin.add("draggable","scrollables",{start:function(){function s(n){return n.closest("body").length?!0:!1}for(var f=[],i=null,n=null,o=$(this).data("ui-draggable"),r=o.options,e=0,t=0,u=r.scrollables.length;t<u;t++,e++)(i=$(r.scrollables[t]),s(i))&&i.each(function(t,i){var r=$(i);n=r.offset();n.bottom=n.top+r.height();n.right=n.left+r.width();f[e++]={element:i,rect:n}});r.scrollableElements=f},drag:function(n){var s=$(this).data("ui-draggable"),t=s.options,u=t.cursorAt||{left:0,top:0},l=!1,f=null,h=!1,c=t.scrollableElements,r=null,p,o,y;var a=u.top!=null?u.top:s.helperProportions.height-u.bottom,v=u.left!=null?u.left:s.helperProportions.width-u.right,e={left:n.pageX-v,top:n.pageY-a,right:n.pageX-v+s.helperProportions.width,bottom:n.pageY-a+s.helperProportions.height};for(o=0,y=c.length;o<y;o+=1)typeof c[o]!="undefined"&&(f=c[o].element,r=c[o].rect,l=(e.left>=r.left&&e.left<=r.right||e.right>=r.left&&e.right<=r.right)&&(e.top>=r.top&&e.top<=r.bottom||e.bottom>=r.top&&e.bottom<=r.bottom),l&&(t.axis&&t.axis!=="y"||t.scrollablesAxis&&t.scrollablesAxis!=="y"||(r.bottom-n.pageY<t.scrollSensitivity?(f.scrollTop=f.scrollTop+t.scrollSpeed,h=!0):n.pageY-r.top<t.scrollSensitivity&&(f.scrollTop=f.scrollTop-t.scrollSpeed,h=!0)),t.axis&&t.axis!=="x"||t.scrollablesAxis&&t.scrollablesAxis!=="x"||(r.right-n.pageX<t.scrollSensitivity?(f.scrollLeft=f.scrollLeft+t.scrollSpeed,h=!0):n.pageX-r.left<t.scrollSensitivity&&(f.scrollLeft=f.scrollLeft-t.scrollSpeed,h=!0))));h!==!1&&(p=f.offsetHeight)},stop:function(){var n=$(this).data("ui-draggable"),t=n.options;delete t.scrollableElements}})})});

define("VSS/Controls/TreeView",["require","exports","VSS/Controls/Combos","VSS/Contributions/Services","VSS/Controls","VSS/Controls/PopupContent","VSS/Diag","VSS/Controls/Menus","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Telemetry/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","jQueryUI/droppable","VSS/Utils/Draggable","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function lt(n){return n=n||a.localeIgnoreCaseComparer,function(t,i){return n(t.text,i.text)}}function g(n,t,i){var r,e,u,f=n.children;if(f&&(e=f.length))for(r=0;r<e;r++)u=f[r],t[t.length]=u,(i||u.expanded)&&g(u,t,i)}function st(n){return $.map(n,function(n){if(n.id)t=new d(n.text,n.config,[],n.id);else var t=new d(n.text,n.config);return n.children&&n.children.length&&t.addRange(st(n.children)),t})}function at(n){return n?n.length&&!(n[0]instanceof d)?st(n):n:[]}function ht(n,t){n.expanded=!0;t&&n.hasChildren()&&$.each(n.children,function(n,i){ht(i,t-1)})}var nt,d,it,b,tt,rt,ut,ft,et;Object.defineProperty(t,"__esModule",{value:!0});t.flatten=t.SearchComboTreeBehaviorName=t.SearchComboTreeBehavior=t.ComboTreeMultivalueBehaviorName=t.MultiSelectTreeComboBehavior=t.MultiSelectTreeComboDropPopup=t.ComboTreeBehaviorName=t.ComboTreeBehavior=t.ComboTreeDropPopup=t.TreeView=t.TreeViewO=t.TreeNode=t.TreeDataSource=void 0;var vt=e.log,yt=e.LogVerbosity.Verbose,k=l.delegate,pt=y.getErrorMessage,p=v.KeyCode,w=v.domElem,ot="TFSUICommonControls",ct=0;nt=function(n){function t(t){var i=n.call(this,$.extend({sepChar:"\\"},t))||this;return i._initRoot(),i}return __extends(t,n),t.prototype.setSource=function(t){this._initRoot();this.root.clear();n.prototype.setSource.call(this,t)},t.prototype.prepareSource=function(n){var t=at(n);this.root.addRange(t);this._options.sorted&&this.root.sort(!0,lt(this._options.comparer));this._options.treeLevel&&ht(this.root,this._options.treeLevel);this.updateItemsFromSource()},t.prototype.updateItemsFromSource=function(){var t=[],n;g(this.root,t,!0);n=[];g(this.root,n,!1);this.setItems(n,t)},t.prototype.getItemText=function(n,t,i){return i===!0?this.getItem(n,t).text:this.getItem(n,t).path(!1,this._options.sepChar)},t.prototype.getItemIndex=function(t,i,r){var f=n.prototype.getItemIndex.call(this,t,i,!0),u,e;if(f>=0){for(u=this.getItem(f,!0);u.parent;)u=u.parent,u.expanded||(e=!0),u.expanded=!0;return e&&this._prepareCurrentItems(),n.prototype.getItemIndex.call(this,t,i,r)}return f},t.prototype.expandNode=function(n){n.expanded||(n.expanded=!0,this._prepareCurrentItems())},t.prototype.collapseNode=function(n){n.expanded&&(n.expanded=!1,this._prepareCurrentItems())},t.prototype._initRoot=function(){this.root||(this.root=new d(""),this.root.expanded=!0,this.root.root=!0)},t.prototype._prepareCurrentItems=function(){var n=[];g(this.root,n,!1);this.setItems(n,this.getItems(!0))},t}(u.BaseDataSource);t.TreeDataSource=nt;y.initClassPrototype(nt,{root:null});d=function(){function n(n,t,i,r){r?this.id=r:this._ensureNodeId();this.text=n;this.config=t||{};this.children=[];this.addRange(i)}return n.create=function(t,i,r){return new n(t,i,r)},n.prototype.hasChildren=function(){return this.children.length>0},n.prototype.clear=function(){this.children=[]},n.prototype.remove=function(){var n=this;this.parent&&(this.parent.children=$.map(this.parent.children,function(t){if(t!==n)return t}))},n.prototype.add=function(n){this.children.push(n);n.parent=this},n.prototype.moveTo=function(n){this.remove();n.add(this)},n.prototype.addRange=function(n){var t,i;if(n)for(t=0,i=n.length;t<i;t++)this.add(n[t])},n.prototype.findNode=function(n,t,i){return v.findTreeNode.call(this,n,t||"/",i||a.localeIgnoreCaseComparer,"text")},n.prototype.sort=function(n,t){this._sort(n,t)},n.prototype.path=function(n,t){return v.calculateTreePath.call(this,n,t||"/","text","root")},n.prototype.level=function(n){for(var i=0,t=this.parent;t;){if(n&&t.root)break;i++;t=t.parent}return i},n.prototype.getContributionContext=function(){return this},n.prototype.getHtmlId=function(){return"treeNode"+this.id},n.prototype._ensureNodeId=function(){(this.id<0||this.id===undefined||this.id===null)&&(this.id=""+ct++)},n.prototype._sort=function(n,t){var r,u,i=this.children;if(i&&i.length&&(i.sort(t),n))for(r=0,u=i.length;r<u;r++)i[r]._sort(n,t)},n}();t.TreeNode=d;y.initClassPrototype(d,{id:-1,root:!1,text:null,parent:null,children:null,config:null,expanded:!1,selected:!1,icon:null,tag:null,noFocus:!1,noContextMenu:!1,noTreeIcon:!1,folder:null,type:null,link:"",title:"",droppable:null,iterationPath:null,definition:null,linkDelegate:null,hasExpanded:!1,owner:null,application:null,isSearchHit:null});it=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.rootNode=new d("root"),i.rootNode.root=!0,i._droppable=i._options.droppable,i._draggable=i._options.draggable,i._focusDelegate=k(i,i._onFocus),i._blurDelegate=k(i,i._onBlur),i._dragStartDelegate=k(i,i._onDragStart),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({clickSelects:!0,clickToggles:!1,contextMenu:!1,coreCssClass:"tree-view",showIcons:!0,sortMenuItems:!0,styleFocusElement:!0,useArrowKeysForNavigation:!0,useEmptyFolderNodes:!0},t))},t.prototype.initialize=function(){var t=this,i;n.prototype.initialize.call(this);this._bind("mouseover",function(n){var u=$(n.target),i,r;i=u.closest("div.node-content, div.node-context-menu-container");i.length>0&&(r=i.closest("li.node"),t._setFocusElement(r))});this._bind("mouseout",function(){t._setFocusElement(null)});this._bind("click",k(this,this._click));this._bind("contextmenu",k(this,this._onContextMenu));this._bind("keydown",k(this,this._onInputKeyDown));Array.isArray(this._options.nodes)&&this.rootNode.addRange(this._options.nodes);this._options.contextMenu&&this._options.contextMenu.contributionIds&&h.getService(r.ExtensionService).getContributionsForTargets(this._options.contextMenu.contributionIds);i=this._options.useBowtieStyle?"bowtie-tree":"basic-tree";this.getElement().addClass(i);this.getElement().attr("role","tree");this._draw();e.logTracePoint("TreeView.initialize.complete")},t.prototype._draw=function(){var n,i,r;this._focusedNode&&(n=this._getNode(this._focusedNode),i=$("<button/>").appendTo("body").focus());this.getElement().empty();this._options.contextMenu&&(this._ariaDescribedById=String(u.getId()),$(w("div")).attr("id",this._ariaDescribedById).addClass("visually-hidden").text(s.TreeViewOptionsText).appendTo(this.getElement()));this._drawNode(this.rootNode,this.getElement(),-1);n?(r=this._getNodeElement(n),r.length>0&&this._getFirstTabbableChild(r).focus()):this._options.useArrowKeysForNavigation&&this._setNodeHasTabindex(this._getNode(this.getElement().find(t.NODE_VISIBLE_AND_FOCUSABLE).first()));i&&i.remove()},t.prototype._getNodeElement=function(n){return this.getElement().find("#tfs_tnli"+n.id).eq(0)},t.prototype._getNode=function(n){return n.data(b.NODE_DATA_NAME)},t.prototype.getSelectedNode=function(){return this._selectedNode},t.prototype.setSelectedNode=function(n,t){n&&n.config&&n.config.unselectable||(this._selectedNode&&(this._selectedNode.selected=!1),this._selectedNode=n,n&&(n.selected=!0,t||this._fire("selectionchanged",{selectedNode:n}),this._expandNodeParents(n,t),this._options.useArrowKeysForNavigation&&this._setNodeHasTabindex(n)),this._updateSelections())},t.prototype.focus=function(){this._selectedNode&&(this._getNodeElement(this._selectedNode).children(".node-link").focus(),this._options.useArrowKeysForNavigation&&this._setNodeHasTabindex(this._selectedNode))},t.prototype._expandNodeParents=function(n,t){for(var i=n,f=this.rootNode,r,u;i.parent;)i=i.parent,i===f||i.expanded||(i.expanded=!0,r=i);r&&(r.expanded=!1,u=this._getNodeElement(r),this._toggle(r,u,t))},t.prototype._updateSelections=function(){var n=this;this.getElement().find("li.node").each(function(){var i=$(this),t;t=n._getNode(i);t&&(i.toggleClass("selected",t.selected),i.find(".node-link").each(function(){var n=$(this);n.attr("aria-selected",t.selected)}))})},t.prototype._updateNode=function(n,t,i){var r,u,e,s,o;if(n.addClass("node"),!t.root){if(n.attr("id","tfs_tnli"+t.id),n.attr("role","presentation"),t.draggable&&this._draggable&&n.draggable(this._draggable),t.droppable&&this._droppable&&n.droppable(this._droppable),this._draggable&&this._bind(n,"selectstart",function(n){n.preventDefault()}),t.selected&&n.addClass("selected"),t.noFocus&&n.addClass("nofocus"),t.folder&&n.addClass("folder"),t.config&&t.config.css&&n.addClass(t.config.css),r=$("<a />").addClass("node-link").attr("role","treeitem"),this._options.contextMenu&&!t.noContextMenu){var h=$(w("div","node-context-menu-container node-context-menu")).attr("title",""),c=$(w("span","node-context-menu-icon")),l=this._options.useBowtieStyle?"bowtie-icon bowtie-ellipsis":"icon icon-drop";c.addClass(l);h.append(c);n.append(h);r.attr("aria-describedby",this._ariaDescribedById)}else t.noContextMenu&&n.append($(w("div","node-context-menu-container node-no-context-menu")));this._draggable&&this._bind(r,"dragstart",this._dragStartDelegate);t.link&&r.attr("href",t.link);t.linkDelegate&&typeof t.linkDelegate=="function"&&this._bind(r,"click",t.linkDelegate);r.attr("aria-level",i+1);t.noFocus||(this._options.useArrowKeysForNavigation?r.attr("tabindex",-1):r.attr("tabindex",0),this._bind(r,"focus",this._focusDelegate),this._bind(r,"blur",this._blurDelegate));u=$("<div />").addClass("node-content").text(t.text||"");this._draggable&&this._bind(u,"dragstart",this._dragStartDelegate);e=4;this._options.showIcons&&(e=0,s=this._options.onRenderIcon&&this._options.onRenderIcon(t),s?u.prepend($(s)):t.icon&&$("<span />").addClass("icon tree-node-img").addClass(t.icon).prependTo(u));t.noTreeIcon||(o="icon",this._options.useBowtieStyle&&(o="bowtie-icon",(t.hasChildren()||t.folder&&this._options.useEmptyFolderNodes)&&(o+=" bowtie-chevron-right")),$(w("span","node-img "+o)).prependTo(u));e=this._options.useBowtieStyle?e+4:e;u.css("padding-left",e+i*12);r.append(u);n.append(r);this._options.setTitleOnlyOnOverflow!==!1?f.RichContentTooltip.addIfOverflow(t.text||"",u):n.attr("title",t.text||"")}return n.data(b.NODE_DATA_NAME,t),n.data(b.LEVEL_DATA_NAME,i),(t.hasChildren()||t.folder&&this._options.useEmptyFolderNodes)&&this._drawChildren(t,n,i),u},t.prototype._drawChildren=function(n,t,i){var r,u,f;if(n.root||n.expanded){if(f=n.children.length,this._setNodeElementExpandState(t,!0,f>0),r=$(w("ul","tree-children")).attr("id","tfs_tnul"+n.id).attr("role",n.root?"tree":"group"),typeof i=="undefined"&&(i=t.data(b.LEVEL_DATA_NAME)),i=i+1,f===0)this._drawEmptyFolderNode(r,i,n.emptyFolderNodeText||this._options.defaultEmptyFolderNodeText||s.NoItemsInThisFolder);else for(u=0;u<f;u++)this._drawNode(n.children[u],r,i);t.append(r)}else this._setNodeElementExpandState(t,!1)},t.prototype._toggle=function(n,t){return n&&(n.folder||n.hasChildren())?(n.expanded?(n.expanded=!1,t.find("ul.tree-children").first().remove()):(n.expanded=!0,this._drawChildren(n,t)),this._setNodeElementExpandState(t,n.expanded),!0):!1},t.prototype._setNodeExpansion=function(n,t,i){return n.expanded!==i?this._toggle(n,t):!1},t.prototype.removeNode=function(n){var u,i,r,t,f;if(this._options.useArrowKeysForNavigation){if(u=this._getNodeElement(n),i=void 0,n.parent){for(r=n.parent.children.indexOf(n),t=r-1;t>=0;t--)if(!n.parent.children[t].noFocus){i=n.parent.children[t];break}if(!i){for(t=r+1;t<n.parent.children.length;t++)if(!n.parent.children[t].noFocus){i=n.parent.children[t];break}i||(i=n.parent)}}f=this._getNodeElement(n).is(this._focusedNode);u.remove();n.remove();this._restoreTabindexAndFocus(i,f)}else this._getNodeElement(n).remove(),n.remove()},t.prototype.updateNode=function(n,t){var i,r,u;n.root?(i=this.getElement(),r=-1):(i=this._getNodeElement(n),r=i.data(b.LEVEL_DATA_NAME),i.removeClass());u=i.is(this._focusedNode);i.data("ui-draggable")&&i.draggable("destroy");i.data("ui-droppable")&&i.droppable("destroy");i.empty();this._updateNode(i,n,r);this._options.useArrowKeysForNavigation&&!t&&this._restoreTabindexAndFocus(n,u)},t.prototype.onItemClick=function(n,t){if(this._options.clickToggles&&this._toggle(n,t))return!1;this._options.clickSelects&&this.setSelectedNode(n)},t.prototype.onShowPopupMenu=function(n,t){var r,i,f,e,s;if(t&&t.items&&t.items.length){if(i=this._getNodeElement(n),f=this._getFirstTabbableChild(i)[0],e=i.find("div.node-context-menu"),this._popupMenu){if(i.hasClass("context-menu-active")){t.suppressInitContributions&&this._popupMenu.refreshContributedItems();this._popupMenu.popup(f,e);return}this._popupMenu.dispose();this._popupMenu=null}r=t.items.slice(0);t.sortMenuItems&&r.sort(function(n,t){return(n.rank||9999)-(t.rank||9999)});s=$.extend({},n);this._popupMenu=u.BaseControl.createIn(o.PopupMenu,i,{align:t.align||(this._options.useBowtieStyle?"right-bottom":"left-bottom"),useBowtieStyle:this._options.useBowtieStyle,executeAction:t.executeAction||t.clickHandler,items:[{childItems:r}],onActivate:function(){i.addClass("context-menu-active")},onDeactivate:function(){i.removeClass("context-menu-active")},onPopupEscaped:function(){i.removeClass("context-menu-active")},getCommandState:t.getCommandState,updateCommandStates:t.updateCommandStates,arguments:t.arguments,contributionIds:t.contributionIds,contextInfo:{item:s,menu:this._popupMenu},suppressInitContributions:t.suppressInitContributions});this._popupMenu.getElement().prependTo(i);l.delay(this,10,function(){t.suppressInitContributions&&this._popupMenu.refreshContributedItems();this._popupMenu.popup(f,e)})}},t.prototype.enableFocusStyling=function(n){this._options.styleFocusElement!==n&&(this._options.styleFocusElement=n,this._setFocusElement(this._focusedNode))},t.prototype._setFocusElement=function(n){var t=this._options.styleFocusElement;this._focusedNode&&this._focusedNode.length&&this._focusedNode.removeClass("focus");this._focusedNode=n;t&&this._focusedNode&&this._focusedNode.length&&(this._focusedNode.hasClass("nofocus")||this._focusedNode.addClass("focus"))},t.prototype.getNodeFromElement=function(n){var t=$(n);return this._getNode(t)},t.prototype._drawNode=function(n,t,i){var r;r=n.root?t:$("<li />").appendTo(t);this._updateNode(r,n,i)},t.prototype._drawEmptyFolderNode=function(n,t,i){var r,u;u=$("<li />").appendTo(n);r=new d(i);r.isEmptyFolderChildNode=!0;r.config.css="info";r.config.unselectable=!0;r.noFocus=!0;r.noContextMenu=!0;this._updateNode(u,r,t)},t.prototype._click=function(n){var t=$(n.target),i=t.closest("li.node");if(i.length>0){if(this._options.useArrowKeysForNavigation&&i.children("a.node-link").focus(),this._setFocusElement(i),t.closest("span.node-img").length>0)return this._onToggle(n);if(t.closest("div.node-content").length>0)return this._itemClick(n);if(t.closest("div.node-context-menu").length>0)return this._onContextMenu(n)}},t.prototype.focusOnNode=function(n){if(n&&!n.noFocus){var t=this._getNodeElement(n);t.length>0&&t.children("a.node-link").focus()}},t.prototype._onInputKeyDown=function(n){var f=this,e=$(n.target),i=e.closest("li.node"),r=this._getNode(i),u=function(n,t){var i=t(n);if(i.length>0)return i.children("a.node-link").focus(),!1};switch(n.keyCode){case p.RIGHT:return r&&r.expanded===!0&&this._options.useArrowKeysForNavigation?u(i,function(n){return n.children("ul.tree-children").find(t.NODE_VISIBLE_AND_FOCUSABLE).first()}):(this._setNodeExpansion(this._getNode(i),i,!0),!1);case p.LEFT:return r&&r.expanded===!1&&this._options.useArrowKeysForNavigation?u(i,function(n){return n.parents(t.NODE_VISIBLE_AND_FOCUSABLE).first()}):(this._setNodeExpansion(this._getNode(i),i,!1),!1);case p.DOWN:if(this._options.useArrowKeysForNavigation)return u(i,function(n){var o=f.getNodeFromElement(n),r,u,i,e;if(o&&o.expanded===!0&&(r=n.children("ul.tree-children").find(t.NODE_VISIBLE_AND_FOCUSABLE).first(),r.length===1))return r;if(u=n.nextAll(t.NODE_VISIBLE_AND_FOCUSABLE).first(),u.length===1)return u;for(i=n.parents(t.NODE_VISIBLE_AND_FOCUSABLE).first();i.length===1;){if(e=i.nextAll(t.NODE_VISIBLE_AND_FOCUSABLE).first(),e.length===1)return e;i=i.parents(t.NODE_VISIBLE_AND_FOCUSABLE).first()}return $([])});case p.UP:if(this._options.useArrowKeysForNavigation)return u(i,function(n){var i=n.prevAll(t.NODE_VISIBLE_AND_FOCUSABLE).first(),r,u,e;return i.length===1?(r=f.getNodeFromElement(i),r&&r.expanded===!0&&(u=i.children("ul.tree-children").find(t.NODE_VISIBLE_AND_FOCUSABLE).last(),u.length===1))?u:i:(e=n.parents(t.NODE_VISIBLE_AND_FOCUSABLE).first(),e.length===1)?e:$([])});case p.ENTER:if(!$(".node-link",i).attr("href")){this.onItemClick(r,i,n);return!1}break;case p.F10:return n.shiftKey?this._onContextMenu():void 0}},t.prototype._onToggle=function(n){var t=$(n.target).parents("li.node").first(),i=this._getNode(t);return typeof this._options.onItemToggle=="function"&&this._options.onItemToggle.call(this,i),this._toggle(i,t),!1},t.prototype._itemClick=function(n){var t=$(n.target).closest("li.node"),i=this._getNode(t);return this.onItemClick(i,t,n)},t.prototype._onContextMenu=function(){if(this._options.contextMenu&&this._focusedNode&&this._focusedNode.length>0)return this._showPopupMenu(this._getNode(this._focusedNode)),!1},t.prototype._showPopupMenu=function(n){var t,i;if(n){t=n.contextMenu;i=typeof t!="undefined"?typeof t=="function"?t.call(this,n):t:this._options.contextMenu;this.onShowPopupMenu(n,i)}},t.prototype._onFocus=function(n){var t=$(n.target).closest("li.node");t.length>0&&(this._setFocusElement(t),this._options.useArrowKeysForNavigation&&this._setNodeHasTabindex(this._getNode(this._focusedNode)));this.getElement().toggleClass("focus",!0);this._hasFocus=!0},t.prototype._onBlur=function(){this._setFocusElement(null);this._clearFocusOnElement()},t.prototype._clearFocusOnElement=function(){this.getElement().toggleClass("focus",!1);this._hasFocus=!1},t.prototype._onDragStart=function(){return!1},t.prototype.setDroppable=function(n){this._droppable=n},t.prototype._getFirstTabbableChild=function(n){return n.children("a.node-link, div.node-content[tabIndex]").first()},t.prototype._setNodeElementExpandState=function(n,t,i){i===void 0&&(i=!0);n.removeClass(b.EXPANDED_CLASS+" "+b.COLLAPSED_CLASS);n.addClass(t?b.EXPANDED_CLASS:b.COLLAPSED_CLASS);var r=this._getFirstTabbableChild(n);r.length>0&&i&&r.attr("aria-expanded",""+t)},t.prototype._restoreTabindexAndFocus=function(n,t){if(this._nodeHasTabindex){var i=this._getNodeElement(this._nodeHasTabindex);if(i.is(":visible")){this._setNodeHasTabindex(this._nodeHasTabindex);t&&i.children("a.node-link").focus();return}}this._setNodeHasTabindex(n);t&&this._getNodeElement(n).children("a.node-link").focus()},t.prototype._setNodeHasTabindex=function(n){var t,i;n&&(this._nodeHasTabindex&&(t=this._getNodeElement(this._nodeHasTabindex),t.removeClass("has-tab-index"),t.children("a.node-link").attr("tabindex",-1)),this._nodeHasTabindex=n,i=this._getNodeElement(this._nodeHasTabindex),i.addClass("has-tab-index"),i.children("a.node-link").attr("tabindex",0))},t._typeName="tfs.treeView",t.NODE_DATA_NAME="nodeData",t.LEVEL_DATA_NAME="nodeLevel",t.EXPANDED_CLASS="expanded",t.COLLAPSED_CLASS="collapsed",t.NODE_VISIBLE_AND_FOCUSABLE="li.node:visible:not(.nofocus)",t}(u.Control);t.TreeViewO=it;b=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(it);t.TreeView=b;y.initClassPrototype(b,{rootNode:null,_focusDelegate:null,_blurDelegate:null,_dragStartDelegate:null,_hasFocus:!1,_selectedNode:null,_draggable:null,_droppable:null,_focusedNode:null,_popupMenu:null});u.Enhancement.registerJQueryWidget(b,"treeView");tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"tree",createItem:k(this,this._createItem),itemClick:k(this,this._onItemClick),dropPopupRole:"treeview",virtualizingListViewRole:"tree"},t))},t.prototype.expandNode=function(){var n=this._getSelectedNode();return n&&n.hasChildren()&&!n.expanded?(this.getDataSource().expandNode(n),this.virtualizingListView.update(),!0):!1},t.prototype.collapseNode=function(){var n=this._getSelectedNode();return n&&n.hasChildren()&&n.expanded?(this.getDataSource().collapseNode(n),this.virtualizingListView.update(),!0):!1},t.prototype._createItem=function(n){var t=this.getDataSource().getItem(n),i=$(w("li",this._options.nodeCss)),s=t.level(!0),o,r,u,e;return i.attr({id:t.getHtmlId(),role:"treeitem","aria-posinset":t.parent.children.indexOf(t)+1,"aria-setsize":t.parent.children.length,"aria-level":s+1}),t.hasChildren()&&(i.addClass(t.expanded?"expanded":"collapsed"),i.attr("aria-expanded",String(t.expanded)),o=$("<ul><\/ul>"),i.append(o),o.attr({id:"".concat(t.getHtmlId(),"_group"),role:"group","aria-owns":t.children.map(function(n){return n.getHtmlId()}).join(" ")})),r=$(w("div","node-content")).css("padding-left",s*10),$(w("span","node-img icon")).appendTo(r),this._options.showIcons&&t.icon&&$(w("span",t.icon)).appendTo(r),u=t.text||"",e=$(w("span","text")).text(u),this._options.setTitleOnlyOnOverflow!==!1?f.RichContentTooltip.addIfOverflow(u,r):e.attr("title",u),t.isSearchHit&&e.addClass("searchHit"),r.append(e),i.append(r),i},t.prototype._onItemClick=function(n,t,i){var r,u;return i.hasClass("node-img")&&(u=this.getDataSource(),r=u.getItem(t),r.hasChildren())?(r.expanded?(u.collapseNode(r),this.combo._fire("treeNodeCollapsed")):(u.expandNode(r),this.combo._fire("treeNodeExpanded")),this.virtualizingListView.update(),!1):!0},t.prototype._getSelectedNode=function(){return this.getDataSource().getItem(this.virtualizingListView.getSelectedIndex())},t}(i.ComboListDropPopup);t.ComboTreeDropPopup=tt;rt=function(n){function t(t,i){return n.call(this,t,$.extend({dropControlType:tt,sepChar:"\\",treeLevel:2},i))||this}return __extends(t,n),t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.collapseNode(),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.expandNode(),!1},t.prototype.keyUp=function(t){return this.isDropVisible()?!1:n.prototype.keyUp.call(this,t)},t.prototype._createDataSource=function(){return new nt(this._options)},t}(i.ComboListBehavior);t.ComboTreeBehavior=rt;t.ComboTreeBehaviorName="tree";i.Combo.registerBehavior(t.ComboTreeBehaviorName,rt);ut=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._checkStates={},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"tree",createItem:k(this,this._createItem),itemClick:k(this,this._onItemClick)},t))},t.prototype.initialize=function(){this._options.id||(this._options.id="ctmvdp_"+u.getId());this._updateCheckList();n.prototype.initialize.call(this)},t.prototype.expandNode=function(){var n=this._getSelectedNode();return n&&n.hasChildren()&&!n.expanded?(this.getDataSource().expandNode(n),this.virtualizingListView.update(),!0):!1},t.prototype.collapseNode=function(){var n=this._getSelectedNode();return n&&n.hasChildren()&&n.expanded?(this.getDataSource().collapseNode(n),this.virtualizingListView.update(),!0):!1},t.prototype.getCheckedItems=function(){var t=this,n=this.getDataSource();return $.map(n.getItems(!0),function(i,r){return i=n.getItemText(r,!0),t._checkStates[i]?i:void 0})},t.prototype.getValue=function(){return this.getCheckedItems().join(this._options.multiJoinChar)},t.prototype._createItem=function(n){var f=this.getDataSource(),t=f.getItem(n),r,i,e=this._options.id+"_cb"+n,o=this._checkStates[f.getItemText(n)],s=t.level(!0),h=this._options.id+"_label"+n,u,c;return r=$(w("li",this._options.nodeCss)).attr({id:this._options.id+"_li"+n,"aria-checked":o?"true":"false","aria-level":s+1,"aria-posinset":t.parent.children.indexOf(t)+1,"aria-setsize":t.parent.children.length,"aria-labelledby":h}),t.hasChildren()&&r.addClass(t.expanded?"expanded":"collapsed"),i=$(w("div","node-content")).css("padding-left",s*10),$(w("span","node-img icon")).appendTo(i),this._options.showIcons&&t.icon&&$(w("span",t.icon)).appendTo(i),u=$(w("input","cb")).data("value",t.text||"").attr("title",t.text||"").attr("type","checkbox").attr("id",e).data("index",n),c=$(w("label","text")).attr({"for":e,id:h,title:t.text||""}).text(t.text||""),o&&u.prop("checked",!0),t.isSearchHit&&u.addClass("searchHit"),i.append(u),i.append(c),r.append(i),r},t.prototype._onItemClick=function(n,t,i,r){var u=this.getDataSource(),f=u.getItem(t);if(i.hasClass("node-img")&&(this._fireDropPopupChange(u,t,r),f.hasChildren()))return f.expanded?u.collapseNode(f):u.expandNode(f),this.virtualizingListView.update(),!1;(i.hasClass("text")||i.hasClass("cb"))&&this._fireDropPopupChange(u,t,r)},t.prototype._getSelectedNode=function(){return this.getDataSource().getItem(this.virtualizingListView.getSelectedIndex())},t.prototype.toggleCheckbox=function(n){var r=this._options.id+"_cb"+n,t,i;i=this.getDataSource().getItemText(n);t=$("#"+r);t.prop("checked")?(t.prop("checked",!1),this._checkStates[i]=!1):(t.prop("checked",!0),this._checkStates[i]=!0)},t.prototype.update=function(){this._updateCheckList();n.prototype.update.call(this)},t.prototype._updateCheckList=function(){var n=this.combo.getText().split(this._options.multiJoinChar),t=this;this._clearCheckList();$.each(n,function(n,i){i=i.trim();i&&(t._checkStates[i]=!0)})},t.prototype._clearCheckList=function(){this._checkStates={}},t.prototype._fireDropPopupChange=function(n,t,i){var u,r,f=n.getItemText(t);u=Boolean(this._checkStates[f]);r=Boolean(i.find("input").prop("checked"));this._checkStates[f]=r;u!==r&&this._fireChange()},t}(i.ComboListDropPopup);t.MultiSelectTreeComboDropPopup=ut;ft=function(n){function t(t,i){return n.call(this,t,$.extend({dropControlType:ut,sepChar:"\\",joinChar:"\\",multiJoinChar:"; ",treeLevel:2},i))||this}return __extends(t,n),t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.getDropOptions=function(){var t=this;return $.extend(n.prototype.getDropOptions.call(this),{sepChar:this._options.sepChar,joinChar:this._options.joinChar,multiJoinChar:this._options.multiJoinChar,selectedIndex:-1,selectionChange:function(){t.combo.updateAriaActiveDescendant()},change:k(this,this._onChange)})},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.collapseNode(),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.expandNode(),!1},t.prototype.keyUp=function(t){return this.isDropVisible()?!1:n.prototype.keyUp.call(this,t)},t.prototype.upKey=function(t){this.isDropVisible()&&n.prototype.upKey.call(this,t)},t.prototype.downKey=function(t){this.isDropVisible()?n.prototype.downKey.call(this,t):this.showDropPopup()},t.prototype.keyDown=function(n){var t=this.getDropPopup(),i;t&&n.keyCode===p.SPACE&&(i=t.getSelectedIndex(),i>=0&&(t.toggleCheckbox(i),this.setText(t.getValue(),!0)))},t.prototype._createDataSource=function(){return new nt(this._options)},t.prototype._onChange=function(){var n=this.getDropPopup();return this.setText(n.getValue(),!0),!1},t.prototype.setSource=function(t){if(JSON.stringify(t)===JSON.stringify(this.getDataSource().getSource())){this._maxItemLength=null;return}n.prototype.setSource.call(this,t)},t}(i.ComboListBehavior);t.MultiSelectTreeComboBehavior=ft;t.ComboTreeMultivalueBehaviorName="treeMultiValue";i.Combo.registerBehavior(t.ComboTreeMultivalueBehaviorName,ft);et=function(n){function t(t,i){var r=n.call(this,t,$.extend({dropControlType:tt,sepChar:"\\",treeLevel:2},i))||this;return r.hitText=[],r.selectedHitIndex=-1,r.originalNodes=null,r.lastSearchText="",r.debounceWaitTime=300,r.textHasChanged=!1,r}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this.combo._bind(this.combo.getInput(),"mouseup",k(this,this.mouseUp))},t.prototype.canType=function(){return!0},t.prototype.getAriaAutocomplete=function(){return"list"},t.prototype.getAriaDescription=function(){return s.ComboSearchTreeScreenReaderHelp},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.collapseNode(),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.expandNode(),!1},t.prototype.keyDown=function(t){var i=t.keyCode||t.charCode,r;return this.isDropVisible()&&(i===p.ENTER||i===p.TAB)&&!this.searchDebounceTimeout&&(r=this.combo.getText(),r===this.lastSearchText)?(this.acceptSelectedIndex(),!0):i===p.TAB&&this.searchDebounceTimeout?(this.clearSearchDebounce(),!0):n.prototype.keyDown.call(this,t)},t.prototype.keyUp=function(t){var i=t.keyCode||t.charCode,r=n.prototype.keyUp.call(this,t);if(this._options.mode!=="text"&&!this.isComboTextPath()){if(i===p.ENTER)return this.debounceSearch(0),!0;if(i===p.UP||i===p.DOWN||i===p.PAGE_UP||i===p.PAGE_DOWN||i===p.ESCAPE||this.isDropVisible()&&(i===p.LEFT||i===p.RIGHT))return this.clearSearchDebounce(),!0;this.debounceSearch(this.debounceWaitTime)}return r},t.prototype._createDataSource=function(){return new nt(this._options)},t.prototype.mouseUp=function(){if(typeof this._options.onMouseUp=="function"){this._options.onMouseUp.call(this);return}if(!this.textHasChanged){this.lastSearchText=this.combo.getText();this.textHasChanged=!0;return}this.debounceSearch(this.debounceWaitTime)},t.prototype.clearSearchDebounce=function(){clearTimeout(this.searchDebounceTimeout);this.searchDebounceTimeout=null},t.prototype.debounceSearch=function(n){var t=this,i=function(){t.searchDebounceTimeout=null;t.searchNodes()};clearTimeout(this.searchDebounceTimeout);this.searchDebounceTimeout=setTimeout(i,n)},t.prototype.isComboTextPath=function(){var n=this.combo.getText();return n.indexOf("\\")>=0},t.prototype.searchNodes=function(){var n=this.combo.getText(),i,t,r;if(this._ensureOriginalNodesStored(),this.lastSearchText!==n){i=Date.now();this.hitText=[];this.selectedHitIndex=-1;t=!1;n===""||this.isComboTextPath()||(r=this.getNodesToSearch(n),t=this.createCopyOfSubtreeWhichMatchesSearch(n,r));this.modifyDatasourceAndDropdownWithResults(t);var u=Date.now(),f={SearchText:n,SearchTimeTaken:u-i};c.publishEvent(new c.TelemetryEventData(ot,"TreeSearch",f));this.lastSearchText=n}},t.prototype._ensureOriginalNodesStored=function(){if(!this.originalNodes){var n=this._dataSource;this.originalNodes=n.getItems(!0)}},t.prototype.getNodesToSearch=function(n){var t=this._dataSource;return this.lastSearchText!==""&&a.startsWith(n,this.lastSearchText)?t.getItems(!1):this.originalNodes},t.prototype.createCopyOfSubtreeWhichMatchesSearch=function(n,t){var r=this._dataSource,o=[],s=!1,u,f,e,i,h,l,a;for(r.root=this.copyNodeToArray(o,r.root),r.root.root=!0,u=t.length,e=0,i=0;i<u;i++)f=t[i],h=f.text,this.stringContains(h,n)&&(s=!0,this.performSearchHitProcessing(o,f),e++);return l={SearchText:n,SearchResultCount:e.toString(),CountOfItemsSearched:u.toString()},a="TreeSearch",c.publishEvent(new c.TelemetryEventData(ot,a,l)),s},t.prototype.stringContains=function(n,t){return a.caseInsensitiveContains(n,t)},t.prototype.modifyDatasourceAndDropdownWithResults=function(n){var t=this._dataSource,i,r,u;n||(this.hideDropPopup(),this.selectedHitIndex=-1,t.root=this.originalNodes[0].parent);i=[];r=[];g(t.root,i,!1);g(t.root,r,!0);t.setItems(i,r);n&&(this.showDropPopup(),u=this.getDropPopup(),u.virtualizingListView.update(),this.selectedHitIndex=0,this.setHit(this.selectedHitIndex))},t.prototype.expandAncestors=function(n){for(n=n.parent;n&&!n.expanded;)n.expanded=!0,n=n.parent},t.prototype.performSearchHitProcessing=function(n,t){this.copyNodeAndAncestorsToArray(n,t);this.copyDecendantsToArray(n,t);this.hitText[this.hitText.length]=t.path(!1,"\\");t=n[t.id];t.expanded=!1;this.expandAncestors(t);t.isSearchHit=!0},t.prototype.copyNodeToArray=function(n,t){var i=new d(t.text,t.config);return i.id=t.id,n[i.id]=i,i},t.prototype.copyNodeAndAncestorsToArray=function(n,t){if(!n[t.id]){var i=this.copyNodeToArray(n,t);t.parent&&(this.copyNodeAndAncestorsToArray(n,t.parent),n[t.parent.id].add(i))}n[t.id].expanded=!0},t.prototype.copyDecendantsToArray=function(n,t){var u,i,r;if(t.hasChildren)for(u in t.children)i=t.children[u],n[i.id]||(r=this.copyNodeToArray(n,i),r.expanded=!1,n[i.parent.id].add(r),this.copyDecendantsToArray(n,i))},t.prototype.setHit=function(n){if(n<0||n>=this.hitText.length)return!1;var i=this.hitText[n],t=this.getDropPopup();return t&&t.setSelectedValue(i),!0},t.prototype.acceptSelectedIndex=function(){this.selectedHitIndex>=0&&this.selectedHitIndex<this.hitText.length&&this.setText(this.hitText[this.selectedHitIndex],!0)},t}(i.ComboListBehavior);t.SearchComboTreeBehavior=et;t.SearchComboTreeBehaviorName="treeSearch";i.Combo.registerBehavior(t.SearchComboTreeBehaviorName,et);t.flatten=g;y.tfsModuleLoaded("VSS.UI.Controls.TreeView",t)});

define("WorkItemTracking/Scripts/Controls/Fields/FieldsFilterControl",["require","exports","VSS/Controls/Combos","VSS/Controls","VSS/Diag","VSS/Controls/Filters","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Controls/TreeView","VSS/VSS","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f,e,o,s,h){var l,c,a;Object.defineProperty(t,"__esModule",{value:!0});t.FieldsFilterControl=t.FieldsFilterControlO=t.FieldsFilterValueControl=void 0;l=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._selectedControl=null;this._element.addClass("field-filter-value-control")},t.prototype.fireChange=function(){typeof this._options.change=="function"&&this._options.change()},t.prototype.setControl=function(n,t){this._selectedControl&&(this._element.empty(),this._selectedControl.dispose());this._containerClass&&this._element.removeClass(this._containerClass);t&&t.containerCssClass?(this._element.addClass(t.containerCssClass),this._containerClass=t.containerCssClass):this._containerClass="";this._selectedControl=r.BaseControl.createIn(n,this._element,$.extend(null,this._options,t))},t.prototype.getControl=function(){return this._selectedControl},t.prototype.setType=function(n){this._selectedControl&&typeof this._selectedControl.setType=="function"&&this._selectedControl.setType(n)},t.prototype.setMode=function(n){this._selectedControl&&typeof this._selectedControl.setMode=="function"&&this._selectedControl.setMode(n)},t.prototype.setValue=function(n){this._selectedControl&&typeof this._selectedControl.setValue=="function"&&this._selectedControl.setValue(n)},t.prototype.getValue=function(){return this._selectedControl&&typeof this._selectedControl.getValue=="function"?this._selectedControl.getValue():""},t.prototype.setText=function(n){this._selectedControl&&typeof this._selectedControl.setText=="function"&&this._selectedControl.setText(n)},t.prototype.getText=function(){return this._selectedControl&&typeof this._selectedControl.getText=="function"?this._selectedControl.getText():""},t.prototype.setEnabled=function(n){this._selectedControl&&typeof this._selectedControl.setEnabled=="function"&&this._selectedControl.setEnabled(n)},t.prototype.setInvalid=function(n){this._selectedControl&&typeof this._selectedControl.setInvalid=="function"&&this._selectedControl.setInvalid(n)},t.prototype.setSource=function(n){this._selectedControl&&typeof this._selectedControl.setSource=="function"&&this._selectedControl.setSource(n)},t.enhancementTypeName="tfs.fieldsFilterValueControl",t}(r.BaseControl);t.FieldsFilterValueControl=l;c=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t._generateTreeNodes=function(n){function t(n,i){var r,e,u=n.children,f;if(i?(f=o.TreeNode.create(n.name),i.add(f),i=f):i=o.TreeNode.create(n.name),u)for(r=0,e=u.length;r<e;r++)n=u[r],t(n,i);return i}return $.map(n,function(n){return t(n,null)})},t.prototype.createClauseValueControl=function(n,u){var f=r.BaseControl.createIn(l,n,$.extend({maxAutoExpandDropWidth:t.POPUP_MAX_WIDTH},u));return f.setControl(i.Combo),f},t.prototype._updateFieldValues=function(n,i,r,f){i===h.FieldType.TreePath?f?n.setSource(r):(n.setType("treeSearch"),n.setMode("drop"),n.setSource(t._generateTreeNodes(r))):r&&r.length>0?(n.setType("list"),n.setMode("drop"),n.setSource(r)):(n.setType("list"),n.setMode("text"),n.setSource([]))},t.enhancementTypeName="tfs.wit.fieldsFilterBase",t.POPUP_MAX_WIDTH=300,t}(f.FilterControlO);t.FieldsFilterControlO=c;s.classExtend(c,e.TfsContext.ControlExtensions);a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(c);t.FieldsFilterControl=a});

define("VSS/Utils/Tree",["require","exports"],function(n,t){function i(n,t,i){for(var f=[{node:n,parent:null,level:0}],u;f.length>0;){var e=f.pop(),o=e.node,h=e.parent,s=e.level,r=t(o);if(i(o,h,s,r.length)!==!1&&r)for(u=r.length-1;u>=0;--u)f.push({node:r[u],parent:o,level:s+1})}}function r(n,t,r,u,f){for(var e={},v={},y=[n],o,s,b,h,c,l,k,a,p,w;y.length>0;)if(o=y.pop(),s=r(o),!f||f[s]){if(t(o))for(b=!!e[s],e[s]={isPredicateMatch:!0,hasMatchingDescendant:!1},b||i(o,u,function(n){e[r(n)]||(e[r(n)]={isPredicateMatch:!1,hasMatchingDescendant:!1})}),h=v[s];!!h;){if(c=r(h),l=e[c],l){if(l.hasMatchingDescendant)break;l.hasMatchingDescendant=!0}else e[c]={isPredicateMatch:!1,hasMatchingDescendant:!0};h=v[c]}for(k=u(o)||[],a=0,p=k;a<p.length;a++)w=p[a],v[r(w)]=o,y.push(w)}return e}Object.defineProperty(t,"__esModule",{value:!0});t.filterTree=t.traversePreOrder=void 0;t.traversePreOrder=i;t.filterTree=r});

define("VSSPreview/Controls/PartialHighlightComponent",["require","exports","react"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.PartialHighlightComponent=void 0;var r=function(n){var t=n.text,u=n.highlight,r;return u&&(r=t.toLocaleUpperCase().indexOf(u.toLocaleUpperCase()),r>=0)?i.createElement("span",null,t.substr(0,r),i.createElement("b",null,t.substr(r,u.length)),t.substr(r+u.length)):i.createElement("span",null,t)};t.PartialHighlightComponent=r});

define("VSSPreview/Resources/VSS.Resources.Preview",["require","exports"],function(require,exports){var e=exports;e.NoResultsAreAvailableText="No results are available.";e.MoreTabsMenu="More tabs menu";e.MoreIdentities="{0} more users or groups";e.Adding="Adding...";e.EmailNotValidMessage="Not a valid email: emails must follow the pattern \u0027someone@example.com\u0027";e.InheritanceMenuText="Inheritance";e.SearchDefaultWaterMark="Search...";e.RemoveUserText="Remove user";e.AddUserTextboxLabel="User email address:";e.DatePicker_GoToPreviousYear="Go to previous year";e.CannotModifySelfRole="Cannot modify the role for self identity. Please try with a different identity.";e.ResetButtonTitle="Reset changes";e.AccessInherited="Inherited";e.DatePicker_GoToPreviousMonth="Go to previous month";e.SaveButtonText="Save changes";e.MobileTreeList_Expand="Expand {0}";e.DatePicker_PopupAriaLabel="Calendar";e.AccessColumn="Access";e.DatePicker_Placeholder="Select a date...";e.AssignedAccessString="Assigned";e.RemoveUserButtonText="Remove user from {0}";e.DatePicker_GoToNextMonth="Go to next month";e.MultiRowControl_RemoveButton="Delete Row";e.DatePicker_OutOfBoundsMessage="Selected date is not within the valid range";e.CopyButton_CopiedAnnouncement="Copied";e.InheritanceOnText="On";e.CannotEditRolesMessage="You do not have permission to edit roles for this resource.";e.AddUsersDialogTitle="Add user";e.ClassificationPickerMRUHeader="Suggestions";e.MultiRowControl_AddButtonText="Add";e.ResetButtonText="Reset";e.AddUserInputField="User or group";e.AddRoleInputField="Role";e.UserNotFoundMessage="Sorry, we couldn\u0027t find that user. Please try a different email address.";e.AddButtonTitle="Add user";e.CloseButtonLabelText="Close";e.AddUserWatermarkText="Search by email...";e.RoleColumn="Role";e.MobileTreeList_Collapse="Collapse {0}";e.UserColumn="User";e.ListRolePermissionsLabel="{0} role defines the following access:";e.RoleAssignmentGridLabel="Role Assignment Table";e.MultiRowControl_RemoveAllText="Remove All";e.SearchResultsAvailableMessage="{0} results are available. Use up/down arrow to move through results.";e.MultiRowControl_Tooltip="Remove Row";e.DatePicker_RequiredMessage="A valid date is required.";e.AddUserInstructions="To add a user, search for their email address";e.HistogramBarEmptyText="Histogram bar data is empty.";e.TreePickerItemAriaLabel="{0}, from {1} to {2}";e.RolesGridLabel="Roles";e.DatePicker_GoToNextYear="Go to next year";e.DatePicker_InvalidDateMessage="Invalid date value specified.";e.AccessAssigned="Assigned";e.CannotAddIdentity="Sorry, we couldn\u0027t add the Identity. Please try a different Identity.";e.InheritanceOffText="Off";e.DatePicker_GoToToday="Go to today";e.AddUserSuccessfulMessage="User {0} was successfully added to {1} as a {2}!";e.DefaultFileDropText="Drop files here";e.AddButtonText="Add";});

// Copyright (C) Microsoft Corporation. All rights reserved.
var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("VSSPreview/Controls/TreeList",["require","exports","react","OfficeFabric/Button","OfficeFabric/List","OfficeFabric/Utilities","VSSUI/Util","VSS/Utils/String","VSSPreview/Resources/VSS.Resources.Preview","VSS/LoaderPlugins/Css!VSSPreview/Controls/TreeList"],function(n,t,i,r,u,f,e,o,s){var c,h;Object.defineProperty(t,"__esModule",{value:!0});t.TreeListItem=t.TreeList=t.DEFAULT_INDENT_WIDTH=void 0;t.DEFAULT_INDENT_WIDTH=10;c=function(n){function r(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.state=r._getState(t),r}return __extends(r,n),r.prototype.scrollToIndex=function(n,t){this._list&&this._list.scrollToIndex(n,this.props.itemHeight?this._getItemHeight:undefined,t)},r.prototype.scrollToKey=function(n,t){if(this._list){var i=this._visibleKeyToIndexMapping&&this._visibleKeyToIndexMapping[n];i!=null&&this.scrollToIndex(i,t)}},r.prototype.componentWillReceiveProps=function(n){this.props&&this.props.items!==n.items&&(this.setState(this._getState(n)),this._visibleKeyToIndexMapping=null)},r.prototype._getState=function(n){var u={},f,o,t,r,l,e,h,a;if(n.items){var c={},v={item:{key:"ROOT_LEVEL_PARENT"},numberOfChildrenEncountered:0},i={};for(f=0,o=n.items;f<o.length;f++)t=o[f],c[t.key]={item:t,numberOfChildrenEncountered:0},r=c[t.parentKey]||v,i[r.item.key]||(i[r.item.key]=[]),i[r.item.key].push(t),u[t.key]={expanded:t.expanded,numberOfSiblings:0,positionAmongSiblings:t.disabled?undefined:++r.numberOfChildrenEncountered};for(l in i){var s=i[l],y=s[s.length-1],p=u[y.key];for(e=0,h=s;e<h.length;e++)a=h[e],u[a.key].numberOfSiblings=p.positionAmongSiblings}}return{itemInformation:u}},r.prototype.render=function(){var n=this.props,r=n.id,f=n.ariaLabel,t=undefined;return this.props.itemHeight&&(t=this._computePageHeight),i.createElement(u.List,{role:"tree","aria-label":f,id:r,className:this.props.className,items:this._getItems(),getItemCountForPage:this._getItemsPerPage,getPageHeight:t,onRenderCell:this._renderItem,ref:this._resolveList})},r.prototype.componentDidUpdate=function(n){n.selectedKey!==this.props.selectedKey&&this.scrollToKey(this.props.selectedKey)},r.prototype._resolveList=function(n){this._list=n},r.prototype._getItems=function(){var r=this,n={},t=this.props.items&&this.props.items.filter(function(t){if(!t.parentKey)return!0;var u=r._isExpanded(t.parentKey),f=n[t.parentKey]===!0,i=f||!u;return i&&(n[t.key]=!0),!i})||[],i;return this._visibleKeyToIndexMapping||(i=t.reduce(function(n,t,i){return n[t.key]=i,n},{}),this._visibleKeyToIndexMapping=i),this._visibleItems=t,this._visibleItems},r.prototype._getItemsPerPage=function(){return this.props.visibleItemCount||10},r.prototype._getItemHeight=function(n){var t=this.props.itemHeight,i;if(t!=null)return typeof t=="function"?(i=this._visibleItems[n],t(i)):t},r.prototype._computePageHeight=function(n){for(var r=this._getItemsPerPage(),u=Math.min(n+r,this._visibleItems.length),i=0,t=n;t<u;t++)i+=this._getItemHeight(t);return i},r.prototype._isExpanded=function(n){return this.state.itemInformation[n]&&this.state.itemInformation[n].expanded},r.prototype._renderItem=function(n){var r=this.props,s=r.id,c=r.selectedKey,l=r.selectedValue,p=r.focusSelected,a=r.getItemAriaLabel,v=r.itemIndentWidth,w=v===void 0?t.DEFAULT_INDENT_WIDTH:v,e=n.key,b=n.value,u=this.state.itemInformation[e],f=!1,k,y;return c?f=c===e:l&&(f=o.equals(l,b,!0)),k=n.childrenCount>0,y=this._getItemClassName(n),i.createElement(h,{ariaLabel:a?a(n):n.label,autofocus:f&&p,className:y,expanded:u.expanded,key:n.key,id:s&&"".concat(s,"-").concat(e),item:n,itemIndentWidth:w,numberOfSiblings:u.positionAmongSiblings?u.numberOfSiblings:undefined,positionAmongSiblings:u.positionAmongSiblings?u.positionAmongSiblings:undefined,onClick:this._selectItem,onExpandCollapse:this._expandCollapseItem,onRenderItemContent:this.props.onRenderItemContent,selected:f})},r.prototype._selectItem=function(n){var t=this.props.onItemSelect;t&&t(n)},r.prototype._expandCollapseItem=function(n){var t,i=this.props,e=i.controlExpansionState,u=i.onItemCollapsed,f=i.onItemExpanded,r=n.key,o=this.state.itemInformation[r];e?this._isExpanded(r)?u&&u(n):f&&f(n):(this.setState({itemInformation:__assign(__assign({},this.state.itemInformation),(t={},t[n.key]=__assign(__assign({},o),{expanded:!this._isExpanded(r)}),t))}),this._visibleKeyToIndexMapping=null)},r.prototype._getItemClassName=function(n){var t=this.props.itemWrapperClassName;return typeof t=="function"?t(n):t},__decorate([f.autobind],r.prototype,"_resolveList",null),__decorate([f.autobind],r.prototype,"_getItemsPerPage",null),__decorate([f.autobind],r.prototype,"_getItemHeight",null),__decorate([f.autobind],r.prototype,"_computePageHeight",null),__decorate([f.autobind],r.prototype,"_renderItem",null),__decorate([f.autobind],r.prototype,"_selectItem",null),__decorate([f.autobind],r.prototype,"_expandCollapseItem",null),r}(i.Component);t.TreeList=c;h=function(n){function u(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onItemClicked=function(n){var i=t.props,r=i.item,u=i.onClick;n.stopPropagation();!r.disabled&&u&&u(r)},t._onChevronClicked=function(n){var i=t.props,r=i.item,u=i.onExpandCollapse;r.childrenCount!==0&&(n.stopPropagation(),u&&u(r))},t}return __extends(u,n),u.prototype.render=function(){var n=this.props,l=n.ariaLabel,w=n.autofocus,b=n.className,h=n.expanded,k=n.id,u=n.item,y=n.itemIndentWidth,p=y===void 0?t.DEFAULT_INDENT_WIDTH:y,d=n.numberOfSiblings,g=n.positionAmongSiblings,a=n.selected,rt=n.onClick,ut=n.onExpandCollapse,nt=u.childrenCount,f=u.disabled,tt=u.label,v=u.level,c=nt>0,it="".concat(16+v*p,"px"),ft={minWidth:it};return i.createElement("div",{id:k,className:e.css("tree-list-item",b,{selected:a,disabled:f}),role:f?undefined:"treeitem","aria-setsize":d,"aria-posinset":g,"aria-disabled":f,"aria-selected":a,"aria-level":v+1,"aria-expanded":c?h:undefined,"aria-label":l,onClick:this._onItemClicked},i.createElement(r.IconButton,{className:e.css("tree-list-expand",{"tree-list-expand--collapsed":!h,"tree-list-expand--hidden":!c}),iconProps:{iconName:"ChevronDown"},onClick:this._onChevronClicked,disabled:!c||f,"aria-label":o.format(h?s.MobileTreeList_Collapse:s.MobileTreeList_Expand,l),style:{marginLeft:"".concat(v*p,"px")}}),i.createElement(r.BaseButton,{autoFocus:w,className:"tree-list-item-select","aria-label":l,"aria-expanded":c?h:undefined,"aria-selected":a,disabled:f,onClick:this._onItemClicked},this.props.onRenderItemContent&&this.props.onRenderItemContent(u)||tt))},u}(i.PureComponent);t.TreeListItem=h});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))};define("VSSPreview/Controls/TreeViewPicker",["require","exports","OfficeFabric/Button","OfficeFabric/Callout","OfficeFabric/Label","OfficeFabric/Pickers","OfficeFabric/Utilities","VSSUI/Util","react","VSS/Utils/Core","VSS/Utils/UI","VSSPreview/Controls/PartialHighlightComponent","VSSPreview/Controls/TreeList","VSS/LoaderPlugins/Css!VSSPreview/Controls/TreeViewPicker"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v,y;Object.defineProperty(t,"__esModule",{value:!0});t.TreeViewPicker=t.INDENT_WIDTH=t.ITEM_HEIGHT=t.VISIBLE_ITEM_COUNT=t.TreeViewPickerNodeType=t.DIVIDER_ITEM_HEIGHT=t.ON_UPDATE_DEBOUNCE=void 0;t.ON_UPDATE_DEBOUNCE=250;t.DIVIDER_ITEM_HEIGHT=6,function(n){n[n.Node=0]="Node";n[n.Header=1]="Header";n[n.Divider=2]="Divider"}(v=t.TreeViewPickerNodeType||(t.TreeViewPickerNodeType={}));t.VISIBLE_ITEM_COUNT=6;t.ITEM_HEIGHT=34;t.INDENT_WIDTH=16;y=function(n){function y(i){var r=__construct(this,n,[i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);r._onContainerMouseDown=function(n){var t=r.props.openCalloutOnFocus,u=t===void 0?!0:t,i=r.state,f=i.isEditing,o=i.isFocused;o&&f||!u||e.elementContains(r._buttonContainer,n.target)&&(r._suppressButtonClick=!0)};r._onConfirmEdit=function(n){var i=r.state.pendingValue,t=n||r._getSelectedItem();r._stopEditing(function(){r._onValueUpdated(t,t?t.value:i)})};r._onCancelEdit=function(){var n=r.props.onCancel;r._stopEditing();n&&n()};r._onItemCollapsed=function(n){n&&n.expanded&&r._setItemExpandedState(n,!1)};r._onInputChanged=function(n){r.setState({pendingValue:n,isEditing:!0});r.props.dataSource.shouldDelayFiltering(n)?r._debouncedUpdateSuggestionState(r.props,n):(r._debouncedUpdateSuggestionState.cancel(),r._updateSuggestionState(r.props,n,!0))};r._onInputClicked=function(n){var t=r.props.openCalloutOnFocus,i=t===void 0?!0:t;if(i&&r._openCallout(),r.props.onClick)r.props.onClick(n)};r._onInputKeyDown=function(n){switch(n.keyCode){case c.KeyCode.ESCAPE:r._handleEscapeKey(n);break;case c.KeyCode.ENTER:r._handleEnterKey(n);break;case c.KeyCode.UP:r._handleUpArrowKey(n);break;case c.KeyCode.DOWN:r._handleDownArrowKey(n);break;case c.KeyCode.LEFT:r._handleLeftArrowKey(n);break;case c.KeyCode.RIGHT:r._handleRightArrowKey(n);break;case c.KeyCode.PAGE_UP:r._handlePageUp(n);break;case c.KeyCode.PAGE_DOWN:r._handlePageDown(n)}if(r.props.onKeyDown)r.props.onKeyDown(n)};r._resolveButtonContainerRef=function(n){r._buttonContainer=n};r._resolveCalloutContainerRef=function(n){r._calloutContainer=n};r._resolvePickerContainerRef=function(n){r._pickerContainer=n};r._resolveTextFieldRef=function(n){r._textField=n};r._resolveScrollTreeRef=function(n){r._scrollTree=n};r._treeListId=e.getId("tree-list");r.state={fixedSuggestions:[],scrollSuggestions:[],pendingValue:null,isCalloutOpen:!1,isEditing:!1,isFocused:!1,selectedKey:null};r._debouncedOnValueUpdated=r._async.debounce(r._onValueUpdated,t.ON_UPDATE_DEBOUNCE);r._debouncedUpdateSuggestionState=r._async.debounce(r._updateSuggestionState,t.ON_UPDATE_DEBOUNCE);r._events.on(window,"blur",function(){r._shouldRefocus&&(r._shouldRefocus=!1,r.focus())});return r}return __extends(y,n),y.prototype.confirmEdit=function(){return this.state.isEditing?(this._onConfirmEdit(),!0):!1},y.prototype.focus=function(){this._pickerContainer&&this._pickerContainer.focus()},y.prototype.hideDropdown=function(){return this.state.isCalloutOpen?(this._onCancelEdit(),!0):!1},y.prototype.componentWillReceiveProps=function(n){this.props.dataSource!==n.dataSource&&this.state.isEditing&&this._updateSuggestionState(n,this.state.pendingValue);this.props.selectedValue!==n.selectedValue&&(this.state.isEditing||(n.selectedValue&&typeof n.selectedValue!="string"?this.setState({selectedKey:n.selectedValue.key}):this.setState({selectedKey:null})))},y.prototype.componentDidUpdate=function(n,t){var r=this,u=this.props,f=u.dataSource,i=u.selectedValue;!t.isFocused&&this.state.isFocused&&this._textField.inputElement.setSelectionRange(0,this._textField.inputElement.value.length);i&&typeof i!="string"&&i.key&&this.state.isCalloutOpen!==t.isCalloutOpen&&this.state.isCalloutOpen&&setTimeout(function(){r._scrollTree&&r._scrollTree.scrollToKey(i.key,1)},0)},y.prototype.render=function(){var n=this.props,t=n.containerClassName,i=n.errorMessage;return s.createElement("div",{className:o.css("tree-picker-container",t)},this._renderLabelContainer(),this._renderComboBox(),s.createElement("div",{role:"status","aria-live":"assertive",className:"tree-picker-error"},i),this._renderCallout())},y.prototype._renderLabelContainer=function(){var n=this.props,t=n.label,i=n.labelProps,r=n.onRenderLabel,f=r===void 0?this._renderLabel:r,u=n.showLabel;if(u||u===undefined)return s.createElement("div",{className:"tree-picker-label"},f(i?__assign({children:t},i):{children:t},this._renderLabel))},y.prototype._renderLabel=function(n){return s.createElement(u.Label,__assign({},n))},y.prototype._renderComboBox=function(){var n=this.props,r=n.disabled,e=n.errorMessage,u=n.onRenderSelectedValue,h=u===void 0?this._renderSelectedValue:u,f=n.openCalloutOnFocus,a=f===void 0?!0:f,c=n.selectedValue,l=n.readOnly,t=this.state.isFocused;return s.createElement("div",{ref:this._resolvePickerContainerRef,className:o.css("tree-picker-combo",this.props.comboClassName,{"tree-picker-combo--editing":t,"tree-picker-combo--disabled":r,"tree-picker-combo--error":!!e}),onFocus:this._onContainerFocused,onMouseDown:this._onContainerMouseDown,tabIndex:t||r||l?-1:0},s.createElement("div",{className:"tree-picker-content"},t?this._renderAutofill():h(c,this._renderSelectedValue)),s.createElement("div",{className:"tree-picker-dropdown-button-container",ref:this._resolveButtonContainerRef},s.createElement(i.IconButton,{tabIndex:-1,iconProps:{iconName:"ChevronDown"},className:"tree-picker-dropdown-button",onClick:this._onButtonClicked,role:"presentation","aria-hidden":!0})))},y.prototype._renderAutofill=function(){var t=this.state,i=t.pendingValue,r=t.isEditing,n=this._getSelectedItem();return s.createElement(f.BaseAutoFill,__assign({},e.getNativeProps(this.props,e.inputProperties),{"aria-activedescendant":n&&"".concat(this._treeListId,"-").concat(n.key),"aria-haspopup":"tree","aria-owns":this._treeListId,"aria-expanded":this.state.isCalloutOpen,autoFocus:!0,role:"combobox",componentRef:this._resolveTextFieldRef,className:"tree-picker-input",defaultVisibleValue:i,onClick:this._onInputClicked,onInputValueChange:this._onInputChanged,onKeyDown:this._onInputKeyDown,onBlur:this._onBlurInput,suggestedDisplayValue:r&&n&&n.value,autoCapitalize:"off",autoComplete:"on",spellCheck:!1,updateValueInWillReceiveProps:this._updateAutofillValue,"aria-label":this.props["aria-label"]}))},y.prototype._getScrollbarWidth=function(){return this._scrollbarWidth||(this._scrollbarWidth=e.getScrollbarWidth()),this._scrollbarWidth},y.prototype._renderCallout=function(){var n=this.state,i=n.fixedSuggestions,w=n.scrollSuggestions,b=n.isCalloutOpen,e=n.selectedKey,u=this.props,h=u.label,c=u.itemHeight,l=c===void 0?t.ITEM_HEIGHT:c,v=u.itemIndentWidth,k=v===void 0?t.INDENT_WIDTH:v,y=u.visibleItemCount,d=y===void 0?t.VISIBLE_ITEM_COUNT:y;if(b&&this._getSuggestionsCount()>0){var f=d-i.length,g=this._getTotalScrollCount(),p=g>f,nt=this._getScrollbarWidth();return s.createElement(r.Callout,{className:o.css("tree-picker-dropdown",this.props.calloutClassName),gapSpace:0,target:this._pickerContainer,calloutWidth:this._pickerContainer.offsetWidth,setInitialFocus:!1,isBeakVisible:!1,directionalHint:4,directionalHintFixed:!0,onDismiss:this._closeCallout},s.createElement("div",{ref:this._resolveCalloutContainerRef},i.length>0&&s.createElement(s.Fragment,null,s.createElement("div",{style:{paddingRight:this._scrollbarWidth}},s.createElement(a.TreeList,{id:this._treeListId,ariaLabel:h,itemWrapperClassName:this._getTreeItemClassName,getItemAriaLabel:this._getItemAriaLabel,onItemSelect:this._onConfirmEdit,onRenderItemContent:this._onRenderItem,itemHeight:l,selectedKey:e,items:i,visibleItemCount:i.length})),s.createElement("div",{className:"dropdown-section-divider"})),s.createElement("div",{style:{paddingRight:p?undefined:this._scrollbarWidth,maxHeight:f*l,overflowY:p?"scroll":"hidden"},"data-is-scrollable":!0,className:"scroll-tree-overflow-box"},s.createElement(a.TreeList,{id:this._treeListId,ariaLabel:h,ref:this._resolveScrollTreeRef,controlExpansionState:!0,itemWrapperClassName:this._getTreeItemClassName,getItemAriaLabel:this._getItemAriaLabel,onItemCollapsed:this._onItemCollapsed,onItemExpanded:this._onItemExpanded,onItemSelect:this._onConfirmEdit,onRenderItemContent:this._onRenderItem,itemIndentWidth:k,itemHeight:this._getTreeItemHeight,selectedKey:e,items:w,visibleItemCount:f}))))}},y.prototype._getTotalScrollCount=function(){var i=this,r=this.state.scrollSuggestions,t={},n=0;return r.forEach(function(r){if(r.parentKey){var u=i._getSuggestionFromKey(r.parentKey),f=u.expanded,e=t[r.parentKey]===!0,o=e||!f;o?t[r.key]=!0:n++}else n++}),n},y.prototype._renderSelectedValue=function(n){return s.createElement("div",{className:"tree-picker-selected-value"},this._getSelectedValueString(n))},y.prototype._getItemAriaLabel=function(n){return this.props.onGetItemAriaLabel&&this.props.onGetItemAriaLabel(n)||n.value},y.prototype._onRenderItem=function(n){var t=this.props.onRenderItem;switch(n.itemType){case v.Header:return this._defaultOnRenderGroupHeader(n)}return t?t(n,this._defaultOnRenderItem):this._defaultOnRenderItem(n)},y.prototype._defaultOnRenderItem=function(n){var t=this.props.dataSource,i=this.state.pendingValue;return t.shouldHighlightSuggestions?s.createElement(l.PartialHighlightComponent,{text:n.label,highlight:t.filter}):s.createElement("span",null,n.label)},y.prototype._defaultOnRenderGroupHeader=function(n){return s.createElement("div",{className:"tree-list-group-header"},n.label)},y.prototype._defaultOnRenderDivider=function(){return s.createElement("div",{className:"tree-list-group-divider-item"})},y.prototype._getTreeItemHeight=function(n){var i=this.props.itemHeight,r=i===void 0?t.ITEM_HEIGHT:i;return n.itemType===v.Divider?t.DIVIDER_ITEM_HEIGHT:r},y.prototype._getTreeItemClassName=function(n){switch(n.itemType){case v.Header:return"tree-list-group-header";case v.Divider:return"tree-list-group-divider"}},y.prototype._updateAutofillValue=function(){var t=this.props.selectedValue,n=this.state.pendingValue;return n!=null?n:this._getSelectedValueString(t)},y.prototype._onContainerFocused=function(){var t=this,n=this.props,o=n.dataSource,i=n.openCalloutOnFocus,u=i===void 0?!0:i,s=n.selectedValue,r=this.state,f=r.isEditing,e=r.isFocused;f&&e||!document.hasFocus()||this._startEditing(function(){t._async.setTimeout(function(){u&&t._openCallout(!1)},0)})},y.prototype._onBlurInput=function(n){var r=this,u=this.state.isEditing,t,i;if(this.props.onBlur)this.props.onBlur(n);t=n.relatedTarget||document.activeElement;t===this._textField.inputElement&&(this._shouldRefocus=!0);i=document.body.getElementsByClassName("tree-picker-dropdown")[0];i&&(i===t||e.elementContains(i,t))||e.elementContains(this._buttonContainer,t)?h.delay(this,0,function(){r._textField&&r._textField.focus()}):(u&&this._onConfirmEdit(),this.setState({isEditing:!1,isFocused:!1}))},y.prototype._onItemExpanded=function(n){n&&!n.expanded&&this._setItemExpandedState(n,!0)},y.prototype._openCallout=function(n){n===void 0&&(n=!0);var r=this.props.selectedValue,t=this.state,u=t.isEditing,i=t.isCalloutOpen;n&&this._startEditing();i||this.setState({isCalloutOpen:!0})},y.prototype._closeCallout=function(){this.state.isCalloutOpen&&this.setState({isCalloutOpen:!1})},y.prototype._onButtonClicked=function(){this._suppressButtonClick?this._suppressButtonClick=!1:this.state.isCalloutOpen?this._closeCallout():this._openCallout()},y.prototype._startEditing=function(n){var f=this.props,s=f.dataSource,i=f.selectedValue,h=this.state.isEditing,e,o,t,r,u;h||(e=this._getSelectedValueString(i),this.setState({isFocused:!0,isEditing:!0,pendingValue:e}),o=typeof i!="string"?i:undefined,t=s.getInitialSuggestions(o),t&&(r=this._getSuggestionsFromGroups(t.filter(function(n){return n.fixed})),u=this._getSuggestionsFromGroups(t.filter(function(n){return!n.fixed})),this._generateKeyIndexMapping(__spreadArray(__spreadArray([],r,!0),u,!0)),this.setState({fixedSuggestions:r,scrollSuggestions:u,selectedKey:null},n)))},y.prototype._stopEditing=function(n){var t=this.state.isEditing;t?(this._closeCallout(),this._clearSuggestionState(),this.setState({isEditing:!1,pendingValue:null},n)):n&&n()},y.prototype._onValueUpdated=function(n,t){var i=this.props.onValueSelected;i&&i(t,n)},y.prototype._handleEscapeKey=function(){this._onCancelEdit()},y.prototype._handleEnterKey=function(n){this.state.isCalloutOpen&&(this._onConfirmEdit(),n.preventDefault())},y.prototype._handleUpArrowKey=function(n){var u=this.state.isCalloutOpen,f=this._getSuggestionsCount(),t,i,r;n.altKey?this._closeCallout():(t=this._getSelectedIndex(),t==null&&(t=f),t>0&&(i=this._getPreviousVisibleIndex(t),u?this._selectItemAtIndex(i):(r=this._getSuggestionAtIndex(i),r&&this._onConfirmEdit(r))),n.preventDefault(),n.stopPropagation())},y.prototype._handleDownArrowKey=function(n){var u=this.state.isCalloutOpen,f=this._getSuggestionsCount(),t=this._getSelectedIndex(),i,r;n.altKey?this._openCallout():(t==null&&(t=-1),t<f-1&&(i=this._getNextVisibleIndex(t),u?this._selectItemAtIndex(i):(r=this._getSuggestionAtIndex(i),r&&this._onConfirmEdit(r))),n.preventDefault(),n.stopPropagation())},y.prototype._handleLeftArrowKey=function(n){var t=this.state,i=t.isCalloutOpen,r=t.selectedKey;n.altKey||n.ctrlKey||n.shiftKey||i&&r&&(this._onItemCollapsed(this._getSelectedItem()),n.preventDefault(),n.stopPropagation())},y.prototype._handleRightArrowKey=function(n){var t=this.state,i=t.isCalloutOpen,r=t.selectedKey;n.altKey||n.ctrlKey||n.shiftKey||i&&r&&(this._onItemExpanded(this._getSelectedItem()),n.preventDefault(),n.stopPropagation())},y.prototype._handlePageUp=function(n){var f=this.state.isCalloutOpen,e=this._getSuggestionsCount(),r=this.props.visibleItemCount,o=r===void 0?t.VISIBLE_ITEM_COUNT:r,i,u;f&&(i=this._getSelectedIndex(),i==null&&(i=e),i>0&&(u=this._getPreviousVisibleIndex(i,o),this._selectItemAtIndex(u)),n.preventDefault(),n.stopPropagation())},y.prototype._handlePageDown=function(n){var f=this.state.isCalloutOpen,e=this._getSuggestionsCount(),r=this.props.visibleItemCount,o=r===void 0?t.VISIBLE_ITEM_COUNT:r,i,u;f&&(i=this._getSelectedIndex(),i==null&&(i=-1),i<e-1&&(u=this._getNextVisibleIndex(i,o),this._selectItemAtIndex(u)),n.preventDefault(),n.stopPropagation())},y.prototype._getSelectedValueString=function(n){return n?typeof n=="string"?n:n.value:""},y.prototype._generateKeyIndexMapping=function(n){var t=this;this._keyToIndexLookup={};n&&n.forEach(function(n,i){t._keyToIndexLookup[n.key]=i})},y.prototype._getSuggestionsFromGroups=function(n){var t=[];return n&&n.forEach(function(n){n.groupHeader&&t.push({childrenCount:0,data:null,disabled:!0,expanded:!1,itemType:v.Header,key:n.key+"-header",label:n.groupHeader,level:0,parentKey:null,value:null});t.push.apply(t,n.suggestions);n.showDivider&&t.push({childrenCount:0,data:null,disabled:!0,expanded:!1,itemType:v.Divider,key:n.key+"-divider",label:null,level:0,parentKey:null,value:null})}),t},y.prototype._getIndexFromKey=function(n){if(this._keyToIndexLookup)return this._keyToIndexLookup[n]},y.prototype._getSelectedIndex=function(){var n=this.state.selectedKey;return this._getIndexFromKey(n)},y.prototype._getSelectedItem=function(){var t=this.state.selectedKey,n=this._getIndexFromKey(t);if(n!=null)return this._getSuggestionAtIndex(n)},y.prototype._getPreviousVisibleIndex=function(n,t){var r,i;if(t===void 0&&(t=1),r=this.state.isCalloutOpen,n>0){for(i=null,n=n-1;n>=0;){if(this._isIndexSelectable(n)&&(t--,i=n,t===0))return n;n--}if(i!=null)return i}},y.prototype._getNextVisibleIndex=function(n,t){var u,r,i;if(t===void 0&&(t=1),u=this.state.isCalloutOpen,r=this._getSuggestionsCount(),n<r-1){for(i=null,n=n+1;n<r;){if(this._isIndexSelectable(n)&&(t--,i=n,t===0))return n;n++}if(i!=null)return i}},y.prototype._isIndexSelectable=function(n){var r=this.state.isCalloutOpen,i=this._getSuggestionAtIndex(n),t;if(i.disabled)return!1;if(!r)return!0;for(t=this._getSuggestionFromKey(i.parentKey);t;){if(!t.expanded)return!1;i=t;t=this._getSuggestionFromKey(i.parentKey)}return!0},y.prototype._getSuggestionsCount=function(){var n=this.state,t=n.fixedSuggestions,i=n.scrollSuggestions;return t.length+i.length},y.prototype._getSuggestionAtIndex=function(n){var i=this.state,t=i.fixedSuggestions,r=i.scrollSuggestions;return n<t.length?t[n]:r[n-t.length]},y.prototype._getSuggestionFromKey=function(n){return this._getSuggestionAtIndex(this._getIndexFromKey(n))},y.prototype._selectItemAtIndex=function(n){var r=this.state,u=r.pendingValue,f=r.isCalloutOpen,t=this._getSuggestionAtIndex(n),i;t&&(this.setState({pendingValue:t.value,selectedKey:t.key}),this._debouncedOnValueUpdated(t,t.value),i=this._getSuggestionFromKey(t.parentKey),i&&!i.expanded&&this._setItemExpandedState(i,!0))},y.prototype._setItemExpandedState=function(n,t){var i=this.state,u=i.fixedSuggestions,f=i.isCalloutOpen,r=this._keyToIndexLookup[n.key];r!=null&&this._setIndexExpandedState(r,t)},y.prototype._setIndexExpandedState=function(n,t){var r=this.state,u=r.scrollSuggestions,o=r.fixedSuggestions,s=r.isCalloutOpen,e,i,f;if(n-=o.length,n>=0&&n<u.length){if(!t&&s)for(e=u[n],i=this._getSelectedItem();i&&i.parentKey;){if(i.parentKey===e.key){this._selectItemAtIndex(n);break}i=this._getSuggestionFromKey(i.parentKey)}f=__spreadArray([],u,!0);f[n].expanded=t;this.setState({scrollSuggestions:f})}},y.prototype._updateSuggestionState=function(n,t,i){var f,u,h,r;if(i===void 0&&(i=!1),f=this.state.isCalloutOpen,n.dataSource.filter=t,u=n.dataSource.getSuggestions(),u){var e=this._getSuggestionsFromGroups(u.suggestionGroups.filter(function(n){return n.fixed})),o=this._getSuggestionsFromGroups(u.suggestionGroups.filter(function(n){return!n.fixed})),s=__spreadArray(__spreadArray([],e,!0),o,!0);this._generateKeyIndexMapping(s);this.setState({fixedSuggestions:e,scrollSuggestions:o,selectedKey:u.topSuggestionKey});h=n.dataSource.getSuggestedCalloutState(f);h?this._openCallout(!1):this._closeCallout();r=s[this._getIndexFromKey(u.topSuggestionKey)];i?this._debouncedOnValueUpdated(r,r?r.value:t):this._onValueUpdated(r,r?r.value:t)}},y.prototype._clearSuggestionState=function(){var t=this.props,r=t.dataSource,n=t.selectedValue,i=r.getFlattenedTree();this._generateKeyIndexMapping(i);this.setState({scrollSuggestions:i,selectedKey:n&&typeof n!="string"?n.key:null})},__decorate([e.autobind],y.prototype,"_renderLabelContainer",null),__decorate([e.autobind],y.prototype,"_renderLabel",null),__decorate([e.autobind],y.prototype,"_renderSelectedValue",null),__decorate([e.autobind],y.prototype,"_getItemAriaLabel",null),__decorate([e.autobind],y.prototype,"_onRenderItem",null),__decorate([e.autobind],y.prototype,"_defaultOnRenderItem",null),__decorate([e.autobind],y.prototype,"_defaultOnRenderGroupHeader",null),__decorate([e.autobind],y.prototype,"_defaultOnRenderDivider",null),__decorate([e.autobind],y.prototype,"_getTreeItemHeight",null),__decorate([e.autobind],y.prototype,"_getTreeItemClassName",null),__decorate([e.autobind],y.prototype,"_updateAutofillValue",null),__decorate([e.autobind],y.prototype,"_onContainerFocused",null),__decorate([e.autobind],y.prototype,"_onBlurInput",null),__decorate([e.autobind],y.prototype,"_onItemExpanded",null),__decorate([e.autobind],y.prototype,"_openCallout",null),__decorate([e.autobind],y.prototype,"_closeCallout",null),__decorate([e.autobind],y.prototype,"_onButtonClicked",null),__decorate([e.autobind],y.prototype,"_onValueUpdated",null),y}(e.BaseComponent);t.TreeViewPicker=y});

define("VSSPreview/Controls/TruncatedPathContainer",["require","exports","react","OfficeFabric/Tooltip","OfficeFabric/Utilities","VSS/Utils/UI"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.TruncatedPathContainer=void 0;var e=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._resolveSelectedItemRef=function(n){r._container=n},r._measured=!1,r.state={isOverflow:!1},r}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){n.path!==this.props.path&&(this._measured=!1,this.setState({isOverflow:!1}))},t.prototype.render=function(){var t=this.props,n=t.path,f=t.tooltipHostClassName,e=this.state.isOverflow,s=u.getNativeProps(this.props,u.inputProperties),h=e&&!this.props.skipPathTruncation?this._getTruncatedPath(n):n,o=i.createElement("input",__assign({ref:this._resolveSelectedItemRef},s,{value:h,readOnly:!0}));return e?i.createElement(r.TooltipHost,{hostClassName:f,content:n},o):i.createElement("div",{className:f},o)},t.prototype.componentDidMount=function(){this._measureSelectedItemOverflow()},t.prototype.componentDidUpdate=function(){this._measureSelectedItemOverflow()},t.prototype._getTruncatedPath=function(n){var r=this.props,i=r.separatorCharacter,u=r.truncatePath,t;return u?u(n,i):(t=n.split(i),t.length>2)?"".concat(t[0]).concat(i,"...").concat(i).concat(t[t.length-1]):n},t.prototype._measureSelectedItemOverflow=function(){if(!this._measured&&this._container){var n=f.contentsOverflow(this._container);this.state.isOverflow!==n&&(this._measured=!0,this.setState({isOverflow:n}))}},t}(i.Component);t.TruncatedPathContainer=e});

define("VSSPreview/Controls/TreePicker",["require","exports","OfficeFabric/Tooltip","OfficeFabric/Utilities","react","VSS/Utils/Culture","VSS/Utils/Date","VSS/Utils/String","VSS/Utils/Tree","VSSPreview/Controls/TreeViewPicker","VSSPreview/Controls/TruncatedPathContainer","VSSPreview/Resources/VSS.Resources.Preview","VSS/LoaderPlugins/Css!VSSPreview/Controls/TreePicker"],function(n,t,i,r,u,f,e,o,s,h,c,l){var a,v;Object.defineProperty(t,"__esModule",{value:!0});t.TreePicker=t.TreePickerDataSource=t.DEFAULT_SEPARATOR=void 0;t.DEFAULT_SEPARATOR="\\";a=function(){function n(n,t,i){this._tree=n instanceof Array?__spreadArray([],n,!0):[n];this._separatorCharacter=t;this._mruItemIds=i;this._flattenTree()}return n.prototype.updateMruItems=function(n){this._mruItemIds=n;this._isEmptyFilter()&&(this._cachedSuggestionInformation=null)},n.prototype.getFlattenedTree=function(){return this._flattenedTree},n.prototype.getInitialSuggestions=function(n){if(n)while(n.parentKey)n=this._idNodeMap[n.parentKey],n.expanded=!0;return this.filter="",this._cachedSuggestionInformation.suggestionGroups},n.prototype.getSuggestions=function(){return this._cachedSuggestionInformation||this._updateCachedSuggestions(),this._cachedSuggestionInformation},Object.defineProperty(n.prototype,"filter",{get:function(){return this._filter},set:function(n){this._previousFilter=this._filter;this._filter=n;this._updateCachedSuggestions()},enumerable:!1,configurable:!0}),n.prototype.shouldDelayFiltering=function(n){return n===void 0&&(n=this._filter),!this._isPathFilter(n)},Object.defineProperty(n.prototype,"shouldHighlightSuggestions",{get:function(){return!!this._filter&&!this._isPathFilter()},enumerable:!1,configurable:!0}),n.prototype.getSuggestedCalloutState=function(n){if(n){if(!this._isEmptyFilter()&&!this._isPathFilter()&&!this._hasFilterResults)return!1}else if(!this._isEmptyFilter()&&!this._isPathFilter()&&this._hasFilterResults)return!0;return n},n.prototype.getNodeByPath=function(n){return this._pathNodeMap[n]},n.prototype.getPathById=function(n){return this._idPathMap[n.toString()]},n.prototype.getTreeViewNodeById=function(n){return this._idNodeMap[n.toString()]},n.prototype._isPathFilter=function(n){return n===void 0&&(n=this._filter),!!n&&!!this._separatorCharacter&&o.caseInsensitiveContains(n,this._separatorCharacter)},n.prototype._isEmptyFilter=function(n){return n===void 0&&(n=this._filter),!n||!n.trim()},n.prototype._filterTree=function(n){var a=this,h,u,f,l,e,i,r;if(this._tree&&n){h=!!this._previousFilter&&o.startsWith(n,this._previousFilter,o.localeIgnoreCaseComparer);h||(this._previousFilterResult=null);var c=this._isPathFilter(n),v=this._filter.split(this._separatorCharacter),y=c?function(n){return a._comparePaths(v,n)}:function(t){return o.caseInsensitiveContains(t.name,n)},t={};for(u=0,f=this._tree;u<f.length;u++)l=f[u],t=__assign(__assign({},t),s.filterTree(l,y,function(n){return n.id.toString()},function(n){return n.children},this._previousFilterResult));if(this._previousFilterResult=t,e=Object.keys(t).length>0,e)return i=null,r=void 0,c?(this._flattenedTree=__spreadArray([],this._flattenedTree,!0),this._flattenedTree.forEach(function(n){var r=t[n.key];!i&&r&&r.isPredicateMatch&&(i=n.key);r&&r.hasMatchingDescendant&&(n.expanded=!0)}),r=this._flattenedTree):(r=this._flattenedTree.filter(function(n){return!!t[n.key]}),r=r.map(function(n){var r=t[n.key];return!i&&r&&r.isPredicateMatch&&(i=n.key),__assign(__assign({},n),{expanded:r&&r.hasMatchingDescendant})})),{hasFilterResults:e,suggestions:r,topSuggestionKey:i}}return{hasFilterResults:!1,suggestions:__spreadArray([],this._flattenedTree,!0),topSuggestionKey:null}},n.prototype._flattenTree=function(){var r=this,n,i,h;if(!this._flattenedTree){var u=[],t={},f={},e={},o={};if(this._tree)for(n=0,i=this._tree;n<i.length;n++)h=i[n],s.traversePreOrder(h,function(n){return n&&n.children?n.children:[]},function(n,i,s,h){var l,c,v,a;n&&(l=i&&i.id.toString(),c=n.name,l&&(v=t[l],v&&(c=v+r._separatorCharacter+c)),a={parentKey:l,key:n.id.toString(),value:c,label:n.name,level:s,data:n,childrenCount:h,expanded:s<1},t[n.id.toString()]=c,f[n.id.toString()]=c.split(r._separatorCharacter),e[c]=a,o[n.id.toString()]=a,u.push(a))});this._idPathMap=t;this._idPathSegmentMap=f;this._pathNodeMap=e;this._idNodeMap=o;this._flattenedTree=u}},n.prototype._updateCachedSuggestions=function(){var i=this,n,t;this._filter===this._previousFilter&&this._cachedSuggestionInformation||(n=this._filterTree(this._filter),this._previousFilter=this._filter,t=[{key:"filtered-suggestions",suggestions:n.suggestions}],this._isEmptyFilter()&&this._mruItemIds&&this._mruItemIds.length&&t.unshift({key:"mru",suggestions:this._mruItemIds.reduce(function(n,t,r){var u=i._idNodeMap[t.toString()];return u&&n.push(__assign(__assign({},u),{parentKey:null,level:0,childrenCount:0,key:"mru-".concat(r)})),n},[]),groupHeader:l.ClassificationPickerMRUHeader,fixed:!0}),this._hasFilterResults=n.hasFilterResults,this._cachedSuggestionInformation={suggestionGroups:t,topSuggestionKey:n.topSuggestionKey})},n.prototype._comparePaths=function(n,t){var f=this._idPathSegmentMap[t.id.toString()],i,u,r;if(n.length!==f.length)return!1;for(i=0;i<n.length;i++)if(u=n[i],r=f[i],i===n.length-1){if(!r||!o.startsWith(r,u,o.localeIgnoreCaseComparer))return!1}else if(!o.equals(u,r,!0))return!1;return!0},n}();t.TreePickerDataSource=a;v=function(n){function s(i){var r=__construct(this,n,[i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._onValueSelected=function(n,t){var i=r.props.onValueSelected;i&&(t||(t=r._dataSource.getNodeByPath(n)),i(n,t?t.data:null,t?t.key.indexOf("mru")>-1:null))},r._resolveTreeViewPicker=function(n){r._treeViewPicker=n},r._dataSource=new a(i.tree,i.separatorCharacter||t.DEFAULT_SEPARATOR,i.mruItemIds),r.state={selectedValue:r._getSelectedNodeOrValue(i.selectedValue)},r}return __extends(s,n),s.prototype.confirmEdit=function(){return this._treeViewPicker?this._treeViewPicker.confirmEdit():!1},s.prototype.focus=function(){this._treeViewPicker&&!this.props.readOnly&&this._treeViewPicker.focus()},s.prototype.hideDropdown=function(){return this._treeViewPicker?this._treeViewPicker.hideDropdown():!1},s.prototype.componentWillReceiveProps=function(i,r){n.prototype.componentWillReceiveProps.call(this,i,r);this.props.tree!==i.tree||this.props.separatorCharacter!==i.separatorCharacter?(this._dataSource=new a(i.tree,i.separatorCharacter||t.DEFAULT_SEPARATOR,i.mruItemIds),this.setState({selectedValue:this._getSelectedNodeOrValue(i.selectedValue)})):this.props.selectedValue!==i.selectedValue&&this.setState({selectedValue:this._getSelectedNodeOrValue(i.selectedValue)});this.props.mruItemIds!==i.mruItemIds&&this._dataSource.updateMruItems(i.mruItemIds)},s.prototype.render=function(){var n=this.props,t=n.errorMessage,i=n.label,f=n.labelProps,e=n.showLabel,o=n.onRenderLabel,s=n.dropdownItemHeight,c=n.dropdownItemIndentWidth,l=n.containerClassName,a=n.comboClassName,v=n.calloutClassName,y=n.visibleItemCount,p=n.openCalloutOnFocus,w=this.state.selectedValue;return u.createElement(h.TreeViewPicker,__assign({componentRef:this._resolveTreeViewPicker},r.getNativeProps(this.props,r.inputProperties),{containerClassName:l,comboClassName:a,calloutClassName:v,dataSource:this._dataSource,errorMessage:t,label:i,labelProps:f,showLabel:e,selectedValue:w,onValueSelected:this._onValueSelected,onGetItemAriaLabel:this._onGetItemAriaLabel,onRenderItem:this._onRenderItem,onRenderLabel:o,onRenderSelectedValue:this._onRenderSelectedItem,openCalloutOnFocus:p,itemHeight:s,itemIndentWidth:c,visibleItemCount:y}))},s.prototype._onRenderItem=function(n,t){return u.createElement("div",{className:"treepicker-item"},u.createElement(i.TooltipHost,{hostClassName:"treepicker-item-title",content:n.value,overflowMode:i.TooltipOverflowMode.Self},n.key.indexOf("mru-")>-1?n.value:t(n)),this._renderDateSection(n.data))},s.prototype._onRenderSelectedItem=function(n){var i=this.props,f=i.showSelectedDate,s=f===void 0?!0:f,h=i.selectedInputId,e=i.separatorCharacter,l=e===void 0?t.DEFAULT_SEPARATOR:e,r,o;if(n)return r=typeof n=="string",o=r?n:n.value,u.createElement("div",{className:"treepicker-item"},u.createElement("div",{className:"treepicker-item-title"},u.createElement(c.TruncatedPathContainer,{path:o,role:"combobox",separatorCharacter:l,className:"treepicker-item-title-input",tooltipHostClassName:"treepicker-item-title-tooltip",tabIndex:this.props.readOnly?null:-1,onFocus:this._onInputFocus,id:h,skipPathTruncation:this.props.skipPathTruncation,"aria-label":this.props["aria-label"],"aria-required":this.props["aria-required"],"aria-expanded":!1})),!r&&s&&this._renderDateSection(n.data))},s.prototype._onInputFocus=function(n){n.preventDefault();n.stopPropagation();this.focus()},s.prototype._renderDateSection=function(n){var t=f.getDateTimeFormat(),i,r;if(n&&n.startDate&&n.finishDate)return i=e.shiftToUTC(n.startDate),r=e.shiftToUTC(n.finishDate),u.createElement("div",{className:"treepicker-item-date"},"".concat(e.localeFormat(i,t.ShortDatePattern,!0)," - ").concat(e.localeFormat(r,t.ShortDatePattern,!0)))},s.prototype._getSelectedNodeOrValue=function(n){if(n)return typeof n=="string"?this._dataSource.getNodeByPath(n)||n:this._dataSource.getTreeViewNodeById(n.id)},s.prototype._onGetItemAriaLabel=function(n){var t;if(n&&n.data&&(t=n.data,t.startDate&&t.finishDate)){var i=f.getDateTimeFormat(),r=e.localeFormat(e.shiftToUTC(t.startDate),i.ShortDatePattern,!0),u=e.localeFormat(e.shiftToUTC(t.finishDate),i.ShortDatePattern,!0);return o.format(l.TreePickerItemAriaLabel,n.value,r,u)}return n.value},__decorate([r.autobind],s.prototype,"_onRenderItem",null),__decorate([r.autobind],s.prototype,"_onRenderSelectedItem",null),__decorate([r.autobind],s.prototype,"_onInputFocus",null),__decorate([r.autobind],s.prototype,"_onGetItemAriaLabel",null),s}(r.BaseComponent);t.TreePicker=v});

define("WorkItemTracking/Scripts/MruClassificationPicker/Components/MruClassificationPicker",["require","exports","WorkItemTracking/Scripts/MruClassificationPicker/Stores/ClassificationFieldsMruStore","react","VSSPreview/Controls/TreePicker","OfficeFabric/Utilities","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Utils/String"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.MruClassificationPicker=void 0;var s=function(n){function t(t){var r=__construct(this,n,[t]),u,f;for(u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._resolveClassificationPicker=function(n){r._treePicker=n},r._onStoreChanged=function(){var n=r.props,t=n.fieldRefName,i=n.projectId;r.setState({mruItemIds:r._getMruItemIds(t,i)})},r._onValueSelected=function(n,t,i){var u=r.props,f=u.fieldRefName,s=u.projectId,h=u.onValueSelected,c=u.updateMruOnSelection;t&&t.id&&c&&(o.equals(f,e.CoreFieldRefNames.AreaPath,!0)?r._mruActionCreator.addToAreaPathMru(s,[t.id]):o.equals(f,e.CoreFieldRefNames.IterationPath,!0)&&r._mruActionCreator.addToIterationPathMru(s,[t.id]));h&&h(n,t,i)},f=i.ClassificationFieldsMruStore.getDefaultFluxContext(),r._mruStore=f.store,r._mruActionCreator=f.actionsCreator,r.state={mruItemIds:r._getMruItemIds(t.fieldRefName,t.projectId)},r}return __extends(t,n),t.prototype.confirmEdit=function(){return this._treePicker?this._treePicker.confirmEdit():!1},t.prototype.focus=function(){this._treePicker&&this._treePicker.focus()},t.prototype.hideDropdown=function(){return this._treePicker?this._treePicker.hideDropdown():!1},t.prototype.componentDidMount=function(){var n=this.props.projectId;this._mruStore.addChangedListener(this._onStoreChanged);this.state.mruItemIds||this.props.disabled||this.props.readOnly||this._mruActionCreator.initializeClassificationFieldsMru(n)},t.prototype.componentWillReceiveProps=function(n){if(!o.equals(this.props.projectId,n.projectId,!0)||!o.equals(this.props.fieldRefName,n.fieldRefName,!0)){var t=this._getMruItemIds(n.fieldRefName,n.projectId);this.setState({mruItemIds:t});t||n.disabled||n.readOnly||this._mruActionCreator.initializeClassificationFieldsMru(n.projectId)}},t.prototype.componentWillUnmount=function(){this._mruStore.removeChangedListener(this._onStoreChanged)},t.prototype.render=function(){var n=this.state.mruItemIds;return r.createElement(u.TreePicker,__assign({},this._getClassificationPickerProps(this.props),{componentRef:this._resolveClassificationPicker,mruItemIds:n,onValueSelected:this._onValueSelected,skipPathTruncation:this.props.skipPathTruncation}))},t.prototype._getMruItemIds=function(n,t){return o.equals(n,e.CoreFieldRefNames.AreaPath,!0)?this._mruStore.getAreaPathMru(t):o.equals(n,e.CoreFieldRefNames.IterationPath,!0)?this._mruStore.getIterationPathMru(t):[]},t.prototype._getClassificationPickerProps=function(){var n=__assign({},this.props);return delete n.fieldRefName,delete n.projectId,n},t}(f.BaseComponent);t.MruClassificationPicker=s});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("WorkItemTracking/Scripts/MruClassificationPicker/Components/FieldsFilterClassificationPickerWrapper",["require","exports","react","WorkItemTracking/Scripts/MruClassificationPicker/Components/MruClassificationPicker","OfficeFabric/Utilities","VSSUI/Util","VSS/LoaderPlugins/Css!MruClassificationPicker/Components/FieldsFilterClassificationPickerWrapper"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.FieldsFilterClassificationPickerWrapper=void 0;var e=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._resolveClassificationPicker=function(n){i._classificationPicker=n},i.state={selectedValue:"",tree:null,isInputFocused:!1},i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){this._updateComponentRef(this.props,n)},t.prototype.componentDidMount=function(){this._updateComponentRef(undefined,this.props)},t.prototype.render=function(){if(!this.state.tree)return null;var u=f.css("fields-filter-classification-picker",this.state.invalid?"invalid":""),n=this.props,e=n.projectId,o=n.field,s=n.inputAriaLabel;return i.createElement("div",{className:"fields-filter-classification-picker-container"},i.createElement(r.MruClassificationPicker,{componentRef:this._resolveClassificationPicker,containerClassName:u,calloutClassName:"fields-filter-classification-picker-dropdown",dropdownItemHeight:t._itemHeight,dropdownItemIndentWidth:t._itemIndentWidth,fieldRefName:o.referenceName,projectId:e,selectedValue:this.state.selectedValue,disabled:this.state.disabled,showSelectedDate:!1,onValueSelected:this._onValueSelected,visibleItemCount:12,updateMruOnSelection:!1,"aria-label":s,tree:this.state.tree,skipPathTruncation:this.props.skipPathTruncation}))},t.prototype.getValue=function(){return this.state.selectedValue},t.prototype.setInvalid=function(n){this.setState({invalid:n})},t.prototype.setEnabled=function(n){this.setState({disabled:!n})},t.prototype.setValue=function(n){this.setState({selectedValue:n||""})},t.prototype.hideDropdown=function(){return this._classificationPicker?this._classificationPicker.hideDropdown():!1},t.prototype.confirmEdit=function(){return this._classificationPicker?this._classificationPicker.confirmEdit():!1},t.prototype.onResize=function(){this.hideDropdown()},t.prototype.setTree=function(n){this.setState({tree:n})},t.prototype._onValueSelected=function(n){var t=this;this.setState({selectedValue:n},function(){t.props.onChange()})},t.prototype._updateComponentRef=function(n,t){(!n&&t.componentRef||n&&n.componentRef!==t.componentRef)&&(n&&n.componentRef&&n.componentRef(null),t.componentRef&&t.componentRef(this))},t._itemHeight=24,t._itemIndentWidth=10,__decorate([u.autobind],t.prototype,"_onValueSelected",null),t}(i.Component);t.FieldsFilterClassificationPickerWrapper=e});

define("WorkItemTracking/Scripts/Controls/Fields/FieldsFilterClassificationControl",["require","exports","react","react-dom","WorkItemTracking/Scripts/MruClassificationPicker/Components/FieldsFilterClassificationPickerWrapper","VSS/Controls","VSS/Utils/UI","OfficeFabric/Utilities"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.FieldsFilterClassificationControl=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype._dispose=function(){n.prototype._dispose.call(this);r.unmountComponentAtNode(this._element[0]);$(window).off("resize",this._onResize)},t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this);r.render(i.createElement(u.FieldsFilterClassificationPickerWrapper,{componentRef:function(n){t._control=n},projectId:this._options.projectId,field:this._options.field,inputAriaLabel:this._options.inputAriaLabel,onChange:function(){t._options.change()},skipPathTruncation:this._options.skipPathTruncation}),this._element[0]);this._element.keydown(function(n){if(t._control&&(n.keyCode===e.KeyCode.ESCAPE&&t._control.hideDropdown()||n.keyCode===e.KeyCode.ENTER&&t._control.confirmEdit()))return n.stopPropagation(),!1});$(window).resize(this._onResize)},t.prototype._onResize=function(){this._control&&this._control.onResize()},t.prototype.setText=function(n){this._control&&this._control.setValue(n)},t.prototype.getText=function(){return this._control?this._control.getValue():""},t.prototype.setEnabled=function(n){this._control&&this._control.setEnabled(n)},t.prototype.setInvalid=function(n){this._control&&this._control.setInvalid(n)},t.prototype.setSource=function(n){this._control&&this._control.setTree(n)},__decorate([o.autobind],t.prototype,"_onResize",null),t}(f.Control);t.FieldsFilterClassificationControl=s});

define("WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.Common",["require","exports"],function(require,exports){var e=exports;e.WiqlOperators_NotEver="Was Never";e.WiqlOperators_And="And";e.WiqlOperators_Any="[Any]";e.WiqlOperators_NotEqualTo="\u003c\u003e";e.WiqlOperators_MacroMyRecentActivity="MyRecentActivity";e.WiqlOperators_NotUnder="Not Under";e.WiqlOperators_Contains="Contains";e.WiqlOperators_LessThan="\u003c";e.WiqlOperators_MacroProject="Project";e.WiqlOperators_Or="Or";e.WiqlOperators_In="In";e.WiqlOperators_InGroup="In Group";e.WiqlOperators_LessThanOrEqualTo="\u003c=";e.WiqlOperators_IsEmpty="Is Empty";e.WiqlOperators_MacroToday="Today";e.WiqlOperators_Ever="Was Ever";e.WiqlOperators_MacroTeamAreas="TeamAreas";e.WiqlOperators_FieldComparisonReferenceName="Field";e.WiqlOperators_GreaterThanOrEqualTo="\u003e=";e.WiqlOperators_MacroMe="Me";e.WiqlOperators_ContainsWords="Contains Words";e.WiqlOperators_FieldComparisonQualifier=" [Field]";e.WiqlOperators_MacroRecentMentions="RecentMentions";e.WiqlOperators_MacroCurrentIteration="CurrentIteration";e.WiqlOperators_NotContainsWords="Does Not Contain Words";e.WiqlOperators_MacroRecentProjectActivity="RecentProjectActivity";e.WiqlOperators_NotIn="Not In";e.WiqlOperators_Under="Under";e.WiqlOperators_NotContains="Does Not Contain";e.WiqlOperators_MacroFollows="Follows";e.WiqlOperators_MacroStartOfMonth="StartOfMonth";e.WiqlOperators_MacroStartOfDay="StartOfDay";e.WiqlOperators_MacroStartOfWeek="StartOfWeek";e.WiqlOperators_MacroStartOfYear="StartOfYear";e.WiqlOperators_IsNotEmpty="Is Not Empty";e.WiqlOperators_MacroTodayMinusDaysFormat="{0} - {1}";e.WiqlOperators_GreaterThan="\u003e";e.WiqlOperators_EqualTo="=";e.WiqlOperators_NotInGroup="Not In Group";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("WorkItemTracking/Scripts/OM/WiqlOperators",["require","exports","VSS/Utils/Date","VSS/Utils/String","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.Common","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f){function o(n,t){k[n.toUpperCase()]=t;l[t.toLocaleUpperCase()]=n}function s(n){return k[(n||"").trim().toUpperCase()]||n}function tt(n){return $.map(n,function(n){return s(n)})}function it(n){return d.hasOwnProperty((n||"").trim().toLocaleUpperCase())}function g(n){return s(n)+u.WiqlOperators_FieldComparisonQualifier}function nt(n,t){return t?r.startsWith(n,s(e.MacroToday),r.localeIgnoreCaseComparer):r.startsWith(n,e.MacroToday,r.ignoreCaseComparer)}function rt(n,t){return t?r.localeIgnoreCaseComparer(n,s(e.MacroMe))===0:r.localeIgnoreCaseComparer(n,e.MacroMe)===0}function ut(n,t){return t?r.localeIgnoreCaseComparer(n,s(e.MacroCurrentIteration))===0:r.localeIgnoreCaseComparer(n,e.MacroCurrentIteration)===0}function ft(n,t){return t?r.localeIgnoreCaseComparer(n,s(e.MacroProject))===0:r.localeIgnoreCaseComparer(n,e.MacroProject)===0}function et(n,t){return t?r.localeIgnoreCaseComparer(n,s(e.OperatorOr))===0:r.localeIgnoreCaseComparer(n,e.OperatorOr)===0}function w(n){return e.MacroToday+n.substring(s(e.MacroToday).length)}function ot(n){var t=s(e.MacroToday),i=w(e.MacroToday);return t+n.substring(i.length)}function st(n){return r.format("{0} - {1}",s(e.MacroToday),n)}function ht(n){return r.format("{0}('{1}d')",s(e.MacroStartOfDay),n)}function ct(n){return(n=(n||"").trim(),!r.startsWith(n,e.MacroStart,r.ignoreCaseComparer))?!1:!0}function h(n){var t=l[(n||"").trim().toLocaleUpperCase()];return t?t:nt(n,!0)?w(n):n}function lt(n){return v.hasOwnProperty(h(n).toUpperCase())}function at(n){return h(n)===e.OperatorIn}function vt(n){return y.hasOwnProperty(h(n).toUpperCase())}function yt(n){return p.hasOwnProperty(h(n).toUpperCase())}function pt(n){return n===f.CoreField.State||n===f.CoreField.WorkItemType||n===f.CoreField.LinkType}function wt(n){return"'"+(n||"").replace(/\'/g,"''")+"'"}function bt(n){return i.format(n,"yyyy-MM-ddT00:00:00.0000000")}var e,a,v,y,p,c,b;Object.defineProperty(t,"__esModule",{value:!0});t.toInvariantDateString=t.quoteString=t.isNonNullableField=t.isIdentityFieldStringOperator=t.isMultipleValueOperator=t.isInOperator=t.isGroupOperator=t.getInvariantOperator=t.isValidMacro=t.getLocalizedStartOfDayMacro=t.getLocalizedTodayMinusMacro=t.getLocalizedTodayMacro=t.getInvariantTodayMacro=t.isOrOperator=t.isProjectMacro=t.isCurrentIterationMacro=t.isMeMacro=t.isTodayMacro=t.getFieldComparisonOperator=t.isFieldComparisonOperator=t.getLocalizedOperatorList=t.getLocalizedOperator=t.FieldTypesSupportingFieldComparison=t.FieldTypesSupportingEver=t.OperatorsSupportingFieldComparison=t.EqualityOperators=t.ComparisonOperators=t.TreePathOperators=t.StringWithInGroupOperators=t.StringWithTextSupportOperators=t.HistoryWithTextSupportOperators=t.TextWithTextSupportOperators=t.HistoryOperators=t.TextOperators=t.InGroupOperators=t.StringOperators=t.ProjectOperators=t.WiqlOperators=void 0,function(n){n.NotSpace="NOT";n.OperatorAnd="AND";n.OperatorOr="OR";n.OperatorContains="CONTAINS";n.OperatorNotContains="NOT CONTAINS";n.OperatorContainsWords="CONTAINS WORDS";n.OperatorNotContainsWords="NOT CONTAINS WORDS";n.OperatorIn="IN";n.OperatorNotIn="NOT IN";n.OperatorEver="EVER";n.OperatorNotEver="NOT EVER";n.OperatorUnder="UNDER";n.OperatorNotUnder="NOT UNDER";n.OperatorInGroup="IN GROUP";n.OperatorNotInGroup="NOT IN GROUP";n.OperatorEqualTo="=";n.OperatorNotEqualTo="<>";n.OperatorIsEmpty="IS EMPTY";n.OperatorIsNotEmpty="IS NOT EMPTY";n.OperatorGreaterThan=">";n.OperatorLessThan="<";n.OperatorGreaterThanOrEqualTo=">=";n.OperatorLessThanOrEqualTo="<=";n.MacroStart="@";n.MacroToday="@today";n.MacroMe="@me";n.MacroProject="@project";n.MacroCurrentIteration="@currentIteration";n.MacroTeamAreas="@teamAreas";n.MacroFollows="@follows";n.MacroRecentMentions="@recentMentions";n.MacroMyRecentActivity="@myRecentActivity";n.MacroRecentProjectActivity="@recentProjectActivity";n.MacroStartOfYear="@startOfYear";n.MacroStartOfMonth="@startOfMonth";n.MacroStartOfWeek="@startOfWeek";n.MacroStartOfDay="@startOfDay"}(e=t.WiqlOperators||(t.WiqlOperators={}));var k={},l={},d={};t.ProjectOperators=[e.OperatorEqualTo,e.OperatorNotEqualTo,e.OperatorIn,e.OperatorNotIn];t.StringOperators=[e.OperatorEqualTo,e.OperatorNotEqualTo,e.OperatorGreaterThan,e.OperatorLessThan,e.OperatorGreaterThanOrEqualTo,e.OperatorLessThanOrEqualTo,e.OperatorContains,e.OperatorNotContains,e.OperatorIn,e.OperatorNotIn,e.OperatorInGroup,e.OperatorNotInGroup];t.InGroupOperators=[e.OperatorInGroup,e.OperatorNotInGroup];t.TextOperators=[e.OperatorContains,e.OperatorNotContains];t.HistoryOperators=[e.OperatorContains,e.OperatorNotContains];t.TextWithTextSupportOperators=[e.OperatorContainsWords,e.OperatorNotContainsWords];t.HistoryWithTextSupportOperators=[e.OperatorContainsWords,e.OperatorNotContainsWords];a=[e.OperatorIsEmpty,e.OperatorIsNotEmpty];t.TextOperators.push.apply(t.TextOperators,a);t.TextWithTextSupportOperators.push.apply(t.TextWithTextSupportOperators,a);t.StringWithTextSupportOperators=t.StringOperators.concat(t.TextWithTextSupportOperators);t.StringWithInGroupOperators=t.StringOperators;t.TreePathOperators=[e.OperatorUnder,e.OperatorNotUnder,e.OperatorEqualTo,e.OperatorNotEqualTo,e.OperatorIn,e.OperatorNotIn];t.ComparisonOperators=[e.OperatorEqualTo,e.OperatorNotEqualTo,e.OperatorGreaterThan,e.OperatorLessThan,e.OperatorGreaterThanOrEqualTo,e.OperatorLessThanOrEqualTo,e.OperatorIn,e.OperatorNotIn];t.EqualityOperators=[e.OperatorEqualTo,e.OperatorNotEqualTo];v={};t.InGroupOperators.forEach(function(n){v[n.toUpperCase()]=!0});y={};[e.OperatorIn,e.OperatorNotIn].forEach(function(n){y[n.toUpperCase()]=!0});t.OperatorsSupportingFieldComparison={};[e.OperatorEqualTo,e.OperatorNotEqualTo,e.OperatorGreaterThan,e.OperatorLessThan,e.OperatorGreaterThanOrEqualTo,e.OperatorLessThanOrEqualTo].forEach(function(n){t.OperatorsSupportingFieldComparison[n.toUpperCase()]=!0});t.FieldTypesSupportingEver={};[f.FieldType.String,f.FieldType.DateTime,f.FieldType.Integer,f.FieldType.Double,f.FieldType.Boolean,f.FieldType.Guid].forEach(function(n){t.FieldTypesSupportingEver[n]=!0});t.FieldTypesSupportingFieldComparison={};[f.FieldType.String,f.FieldType.DateTime,f.FieldType.Integer,f.FieldType.Double,f.FieldType.Boolean,f.FieldType.Guid].forEach(function(n){t.FieldTypesSupportingFieldComparison[n]=!0});p={};[e.OperatorContains,e.OperatorContainsWords,e.OperatorGreaterThan,e.OperatorGreaterThanOrEqualTo,e.OperatorLessThan,e.OperatorLessThanOrEqualTo,e.OperatorNotContains,e.OperatorNotContainsWords,e.OperatorNotUnder,e.OperatorUnder].forEach(function(n){p[n.toUpperCase()]=!0});t.getLocalizedOperator=s;t.getLocalizedOperatorList=tt;t.isFieldComparisonOperator=it;t.getFieldComparisonOperator=g;t.isTodayMacro=nt;t.isMeMacro=rt;t.isCurrentIterationMacro=ut;t.isProjectMacro=ft;t.isOrOperator=et;t.getInvariantTodayMacro=w;t.getLocalizedTodayMacro=ot;t.getLocalizedTodayMinusMacro=st;t.getLocalizedStartOfDayMacro=ht;t.isValidMacro=ct;t.getInvariantOperator=h;t.isGroupOperator=lt;t.isInOperator=at;t.isMultipleValueOperator=vt;t.isIdentityFieldStringOperator=yt;o(e.OperatorAnd,u.WiqlOperators_And);o(e.OperatorOr,u.WiqlOperators_Or);o(e.OperatorContains,u.WiqlOperators_Contains);o(e.OperatorNotContains,u.WiqlOperators_NotContains);o(e.OperatorContainsWords,u.WiqlOperators_ContainsWords);o(e.OperatorNotContainsWords,u.WiqlOperators_NotContainsWords);o(e.OperatorIn,u.WiqlOperators_In);o(e.OperatorNotIn,u.WiqlOperators_NotIn);o(e.OperatorEver,u.WiqlOperators_Ever);o(e.OperatorNotEver,u.WiqlOperators_NotEver);o(e.OperatorUnder,u.WiqlOperators_Under);o(e.OperatorNotUnder,u.WiqlOperators_NotUnder);o(e.OperatorEqualTo,u.WiqlOperators_EqualTo);o(e.OperatorNotEqualTo,u.WiqlOperators_NotEqualTo);o(e.OperatorIsEmpty,u.WiqlOperators_IsEmpty);o(e.OperatorIsNotEmpty,u.WiqlOperators_IsNotEmpty);o(e.OperatorGreaterThan,u.WiqlOperators_GreaterThan);o(e.OperatorLessThan,u.WiqlOperators_LessThan);o(e.OperatorGreaterThanOrEqualTo,u.WiqlOperators_GreaterThanOrEqualTo);o(e.OperatorLessThanOrEqualTo,u.WiqlOperators_LessThanOrEqualTo);o(e.OperatorInGroup,u.WiqlOperators_InGroup);o(e.OperatorNotInGroup,u.WiqlOperators_NotInGroup);o(e.MacroToday,e.MacroStart+u.WiqlOperators_MacroToday);o(e.MacroMe,e.MacroStart+u.WiqlOperators_MacroMe);o(e.MacroProject,e.MacroStart+u.WiqlOperators_MacroProject);o(e.MacroCurrentIteration,e.MacroStart+u.WiqlOperators_MacroCurrentIteration);o(e.MacroTeamAreas,e.MacroStart+u.WiqlOperators_MacroTeamAreas);o(e.MacroFollows,e.MacroStart+u.WiqlOperators_MacroFollows);o(e.MacroRecentMentions,e.MacroStart+u.WiqlOperators_MacroRecentMentions);o(e.MacroMyRecentActivity,e.MacroStart+u.WiqlOperators_MacroMyRecentActivity);o(e.MacroRecentProjectActivity,e.MacroStart+u.WiqlOperators_MacroRecentProjectActivity);o(e.MacroStartOfYear,e.MacroStart+u.WiqlOperators_MacroStartOfYear);o(e.MacroStartOfMonth,e.MacroStart+u.WiqlOperators_MacroStartOfMonth);o(e.MacroStartOfWeek,e.MacroStart+u.WiqlOperators_MacroStartOfWeek);o(e.MacroStartOfDay,e.MacroStart+u.WiqlOperators_MacroStartOfDay);for(c in t.OperatorsSupportingFieldComparison)b=g(c),l[b.toLocaleUpperCase()]=c,d[b.toLocaleUpperCase()]=c;t.isNonNullableField=pt;t.quoteString=wt;t.toInvariantDateString=bt});

define("WorkItemTracking/Scripts/OM/WiqlValues",["require","exports","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.Common","VSS/Utils/String","WorkItemTracking/Scripts/OM/WiqlOperators"],function(n,t,i,r,u){function a(n,t){var i;if(t===void 0&&(t=!1),i=n&&n.trim().match(t?l:c),!i)return null;var f=i[1],e=i[2],r=i[3],u=r&&(e==="+"?+r:-r);return isNaN(u)&&(u=0),{team:f,offset:u}}function v(n){var t=n&&n.trim().match(h),i;return t?(i=t[1],{team:i}):null}function y(n){var i,t,r,u;for(i in o)if(t=n&&n.trim().match(o[i]),t)return r=t[1],u=t[2],{invariantMacro:i,modifier:r,offset:u};return null}var f,h,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.parseDateMacro=t.parseTeamAreas=t.parseCurrentIteration=void 0;var s="\\s*(?:\\(\\s*'(.*?)'\\s*\\))?\\s*(?:(\\+|-)\\s*((?:\\+|-)?\\d*)?)?",c=new RegExp("^@".concat(i.WiqlOperators_MacroCurrentIteration).concat(s,"$"),"i"),l=new RegExp("^".concat(u.WiqlOperators.MacroCurrentIteration).concat(s,"$"),"i");t.parseCurrentIteration=a;h=new RegExp("^@".concat(i.WiqlOperators_MacroTeamAreas,"\\s*(?:\\(\\s*'([^']*?)'\\s*\\))?$"),"i");t.parseTeamAreas=v;e="^@{0}\\s*(?:\\(\\s*'([+-]{{0,1}}\\d{{1,7}}[yMwdhm]?)'\\s*\\))?\\s*((?:[+-]\\s*\\d{{1,7}}))?$";o=(f={},f[u.WiqlOperators.MacroStartOfYear]=new RegExp(r.format(e,i.WiqlOperators_MacroStartOfYear),"i"),f[u.WiqlOperators.MacroStartOfMonth]=new RegExp(r.format(e,i.WiqlOperators_MacroStartOfMonth),"i"),f[u.WiqlOperators.MacroStartOfWeek]=new RegExp(r.format(e,i.WiqlOperators_MacroStartOfWeek),"i"),f[u.WiqlOperators.MacroStartOfDay]=new RegExp(r.format(e,i.WiqlOperators_MacroStartOfDay),"i"),f);t.parseDateMacro=y});

define("Presentation/Scripts/TFS/Components/IdentityPickerSearch",["require","exports","react","OfficeFabric/Utilities","VSSUI/Util","VSS/Controls","VSS/Identities/Picker/Controls","VSS/LoaderPlugins/Css!Presentation/Components/IdentityPickerSearch","VSS/LoaderPlugins/Css!VersionControl/IdentityPickerSearch"],function(n,t,i,r,u,f,e){function o(n,t,i){return t in n?n[t]:i}Object.defineProperty(t,"__esModule",{value:!0});t.IdentityPickerSearch=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onUpdated=function(){if(t.props.identitiesUpdated){var n=t._identityPickerControl.getIdentitySearchResult().resolvedEntities;t.props.identitiesUpdated(n)}t._updateUnresolvedIdentities()},t}return __extends(t,n),t.prototype.render=function(){var n=this;return i.createElement("div",{className:"identityPickerSearch-root"},i.createElement("div",{className:u.css("identityPickerSearch",this.props.className),ref:function(t){return n._containerElement=t}}),i.createElement("div",{className:"identityPickerSearch-fixed-overlay"}))},t.prototype.componentDidMount=function(){this._createIdentityPicker()},t.prototype.componentWillUnmount=function(){this._identityPickerControl&&(this._identityPickerControl.dispose(),this._identityPickerControl=null)},t.prototype.componentDidUpdate=function(n){this._identityPickerControl&&this.props.readOnly!==n.readOnly&&(this.props.readOnly?this._identityPickerControl.enableReadOnlyMode():this._identityPickerControl.disableReadOnlyMode())},t.prototype.clear=function(){this._identityPickerControl&&this._identityPickerControl.clear()},t.prototype.focus=function(){this._focusIdentityPickerControl()},t.prototype._createIdentityPicker=function(){var n=this,t=$(this._containerElement),i=o(this.props,"operationScope",{IMS:!0,Source:!0}),r={User:o(this.props,"includeUsers",!0),Group:this.props.includeGroups};this._identityPickerControl=f.create(e.IdentityPickerSearchControl,t,{callbacks:{onItemSelect:function(t){n.props.inlineSelectedEntities||n.clear();n._focusIdentityPickerControl();n._selectIdentity(t);n._onCharacterChange()},onInputBlur:function(){n._onUpdated()},preDropdownRender:function(t,i){return n.props.preDropdownRender?n.props.preDropdownRender(t,i):t}},identityType:r,operationScope:i,multiIdentitySearch:this.props.multiIdentitySearch,showMru:o(this.props,"showMru",!0),showContactCard:o(this.props,"showContactCard",!0),size:o(this.props,"controlSize",e.IdentityPickerControlSize.Medium),dropdownWidth:this.props.dropdownWidth,consumerId:this.props.consumerId,elementId:this.props.id,placeholderText:this.props.placeholderText,dialogAppendTo:".identityPickerSearch-fixed-overlay",dropdownContainer:function(){return t},showTemporaryDisplayName:this.props.showTemporaryDisplayName,showMruOnClick:this.props.showMruOnClick,showMruTriangle:this.props.showMruTriangle,highlightResolved:this.props.highlightResolved,extensionData:this.props.extensionData});this._identityPickerControl._bind(e.IdentityPickerSearchControl.RESOLVED_INPUT_REMOVED_EVENT,this._onUpdated);this._identityPickerControl._element.find("input").keyup(this._onCharacterChange);this.props.focusOnLoad&&this._focusIdentityPickerControl();this.props.defaultEntities&&this._identityPickerControl.setEntities([],this.props.defaultEntities);this.props.readOnly&&this._identityPickerControl.enableReadOnlyMode()},t.prototype.setEntities=function(n,t){this._identityPickerControl.setEntities(n,t)},t.prototype.getInputText=function(){return this._identityPickerControl.getInputText()},t.prototype._onCharacterChange=function(){if(this.props.onCharacterChange){var n=this._identityPickerControl.getIdentitySearchResult().resolvedEntities,t=this._identityPickerControl.getInputText();this.props.onCharacterChange(n,t)}},t.prototype._selectIdentity=function(n){this.props.identitySelected?this.props.identitySelected(n):this._onUpdated();this._identityPickerControl&&n&&n.localId&&this._identityPickerControl.addIdentitiesToMru([n]);this._updateUnresolvedIdentities()},t.prototype._updateUnresolvedIdentities=function(){if(this.props.unresolvedIdentitiesUpdated){var n=this._identityPickerControl.getElement()[0].querySelector("input").value.trim(),t=this._identityPickerControl.getIdentitySearchResult().unresolvedQueryTokens.concat(n||[]);this.props.unresolvedIdentitiesUpdated(t)}},t.prototype._focusIdentityPickerControl=function(){this._identityPickerControl&&this._identityPickerControl._element.find(".identity-picker-input").focus()},t.defaultProps={includeGroups:!0},__decorate([r.autobind],t.prototype,"_onCharacterChange",null),__decorate([r.autobind],t.prototype,"_selectIdentity",null),__decorate([r.autobind],t.prototype,"_updateUnresolvedIdentities",null),t}(i.Component);t.IdentityPickerSearch=s});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))};define("Presentation/Scripts/TFS/Components/TeamPicker",["require","exports","TFS/Core/RestClient","VSS/Service","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Identities/Picker/Controls","Presentation/Scripts/TFS/TFS.OM.Identities","VSS/Identities/Picker/Services","VSS/Service","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","Presentation/Scripts/TFS/Components/IdentityPickerSearch","react","VSS/Utils/Core","OfficeFabric/Utilities","VSS/Identities/Picker/RestClient"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p,w,b;Object.defineProperty(t,"__esModule",{value:!0});t.TeamPicker=void 0,function(n){function c(n){return n in e||(e[n]=n?i.getClient().getTeams(n,!0,100,0):i.getClient().getAllTeams(!0,100,0)),e[n]}function l(n){return{displayName:"[".concat(n.projectName,"]\\").concat(n.name),entityType:o.ServiceHelpers.GroupEntity,originDirectory:o.ServiceHelpers.VisualStudioDirectory,localId:n.id}}function p(n){return __awaiter(this,void 0,void 0,function(){var r,t,p,f,e,s,tt,it,w,a,b,k,v,d,rt,y,g,nt,ut=this;return __generator(this,function(ft){switch(ft.label){case 0:return[4,c(n)];case 1:return(r=ft.sent(),t=[],p=u.TfsContext.getDefault().contextData,f=p.team,e=p.project,!(!f||!e||r.some(function(n){var t=n.projectName,i=n.name;return t===e.name&&i===f.name})))?[3,2]:(t=r.map(l),[3,4]);case 2:return[4,i.getClient().getTeam(e.id,f.id)];case 3:s=ft.sent();tt={displayName:"[".concat(s.projectName,"]\\").concat(s.name),entityType:o.ServiceHelpers.GroupEntity,originDirectory:o.ServiceHelpers.VisualStudioDirectory,localId:s.id};t=__spreadArray(__spreadArray([],r.map(l),!0),[tt],!1);ft.label=4;case 4:return t.sort(function(n,t){return n.displayName.localeCompare(t.displayName)}),[4,h.beginGetIdentities({query:t.map(function(n){return n.localId}).join(";"),identityTypes:[o.ServiceHelpers.GroupEntity],operationScopes:["ims"],queryTypeHint:"uid"})];case 5:for(it=ft.sent(),w={},a=0,b=t;a<b.length;a++)k=b[a],w[k.localId]=k;for(v=0,d=it.results;v<d.length;v++)for(rt=d[v],y=0,g=rt.identities;y<g.length;y++)nt=g[y],w[nt.localId].entityId=nt.entityId;return[4,Promise.all(t.map(function(n){return __awaiter(ut,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return[4,h.beginGetIdentityImageLocation(n.entityId)];case 1:return t=i.sent(),[2,__assign(__assign({},n),{image:t})]}})})}))];case 6:return[2,ft.sent()]}})})}function w(n){return n in t||(t[n]=p(n)),t[n]}var a=r.VssConnection.getConnection(),h=a.getHttpClient(y.CommonIdentityPickerHttpClient),e={},v,t;n.getMyTeams=c;v=s.getService(f.EntityOperationsFacade);t={};n.getChoices=w}(p||(p={}));w="0C6230A3-7855-463E-9C96-E704A01AB431";b=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.change=new a.DelayedFunction(null,200,"valueChanged",function(){i.props.onChanged(i._currentText)}),i.state={hidden:!1},i}return __extends(t,n),t.prototype.render=function(){var r=this,o=u.TfsContext.getDefault(),n=[],e={},i;return p.getChoices(this.props.crossProject?null:this.props.projectId).then(function(t){var i,r,u;for(n=t,i=0,r=t;i<r.length;i++)u=r[i].displayName,e[u.toLocaleLowerCase()]=undefined}),i=function(i,u){var h=function(n){return n.toLocaleLowerCase()},e=h(r._picker.getInputText()),c=!!t.TEAM_REGEX.exec(e),f,o,s;if(!e||c)i.length=0,i.push.apply(i,n);else if(!u)for(f=0,o=n;f<o.length;f++)s=o[f],h(s.displayName).indexOf(e)>=0&&i.push(s);return i},l.createElement("div",{className:"team-picker",hidden:this.state.hidden},l.createElement(c.IdentityPickerSearch,{ref:this.setRef,focusOnLoad:!1,multiIdentitySearch:!1,showMruTriangle:!1,showTemporaryDisplayName:!0,highlightResolved:!0,controlSize:f.IdentityPickerControlSize.Small,operationScope:{IMS:!0},includeUsers:!1,includeGroups:!0,placeholderText:h.SearchTeams,onCharacterChange:this.onCharacterChange,preDropdownRender:i,consumerId:"6de676b2-b365-43fa-b198-d05fa1762175",extensionData:{extensionId:w,projectScopeName:this.props.crossProject?null:this.props.projectName,constraints:null},inlineSelectedEntities:!0,showContactCard:!1,showMruOnClick:!0}))},t.prototype.setRef=function(n){this._picker=n},t.prototype.onCharacterChange=function(n,t){var i=n&&n[0],r=i&&(i.localId?"".concat(i.displayName," <id:").concat(i.localId,">"):i.displayName)||t;r!==this._currentText&&(this._currentText=r,this.change.reset())},t.prototype.getText=function(){return this._currentText||""},t.prototype.setEnabled=function(){},t.prototype.setHidden=function(n){this.setState({hidden:n})},t.prototype.setText=function(n){var u,f;if(n){var t=e.IdentityHelper.parseUniquefiedIdentityName(n),i=t.displayName,r=t.id;r?(u="".concat(i," <").concat(r,">"),this._picker.setEntities([],[u])):(f={entityId:"",displayName:i,originDirectory:o.ServiceHelpers.VisualStudioDirectory,entityType:o.ServiceHelpers.GroupEntity},this._picker.setEntities([f],[]))}else this._picker.setEntities([],[]);this._currentText=n},t.TEAM_REGEX=/\[.+\]\\.+/,__decorate([v.autobind],t.prototype,"setRef",null),__decorate([v.autobind],t.prototype,"onCharacterChange",null),t}(l.Component);t.TeamPicker=b});

define("WorkItemTracking/Scripts/Controls/Fields/FieldsFilterAreaControl",["require","exports","OfficeFabric/Utilities","VSS/Controls","WorkItemTracking/Scripts/Controls/Fields/FieldsFilterClassificationControl","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.Common","WorkItemTracking/Scripts/OM/WiqlValues","Presentation/Scripts/TFS/Components/TeamPicker","react-dom","react"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.FieldsFilterAreaControl=void 0;var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){var t=this,i,f;n.prototype.initialize.call(this);this._element.addClass("field-filter-area-control");i={field:this._options.field,projectId:this._options.projectId,inputAriaLabel:this._options.label,change:function(){t._options.change();t._checkParameterVisiblity()}};this._macro=r.BaseControl.createIn(u.FieldsFilterClassificationControl,this._element,i);this._teamContainer=$("<div class='team-container'/>").appendTo(this._element);f={crossProject:this._options.crossProject,projectId:this._options.projectId,projectName:this._options.projectName,onChanged:this._options.change};s.render(h.createElement(o.TeamPicker,__assign({},f,{ref:this._setTeamPicker})),this._teamContainer[0]);this._checkParameterVisiblity()},t.prototype._setTeamPicker=function(n){this._teamParameter=n},t.prototype._checkParameterVisiblity=function(n){n===void 0&&(n=this._macro.getText());this._teamParameter&&this._teamParameter.setHidden(!e.parseTeamAreas(n))},t.prototype.setText=function(n){var t=e.parseTeamAreas(n);t?(this._macro.setText("@".concat(f.WiqlOperators_MacroTeamAreas)),this._teamParameter.setText(t.team||"")):this._macro.setText(n);this._checkParameterVisiblity(n)},t.prototype.getText=function(){var n=this._macro.getText(),i=e.parseTeamAreas(n),t;return i&&(n="@".concat(f.WiqlOperators_MacroTeamAreas),t=this._teamParameter.getText(),t&&(n+="('".concat(t,"')"))),n},t.prototype.setEnabled=function(n){this._macro.setEnabled(n);this._teamParameter.setEnabled(n)},t.prototype.setInvalid=function(n){this._macro.setInvalid(n)},t.prototype.setType=function(){},t.prototype.setMode=function(){},t.prototype.setSource=function(n){this._macro.setSource(n)},__decorate([i.autobind],t.prototype,"_setTeamPicker",null),t}(r.Control);t.FieldsFilterAreaControl=c});

define("WorkItemTracking/Scripts/Controls/Fields/FieldsFilterEmptyControl",["require","exports","VSS/Controls","VSS/Controls/Combos"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.FieldsFilterEmptyControl=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._element.addClass("field-filter-empty-control");i.BaseControl.createIn(r.Combo,this._element,{enabled:!1,mode:"text",cssClass:"empty"})},t.prototype.setText=function(){},t.prototype.getText=function(){return""},t.prototype.setEnabled=function(){},t.prototype.setInvalid=function(n){this._macro.setInvalid(n)},t.prototype.setType=function(){},t.prototype.setMode=function(){},t}(i.Control);t.FieldsFilterEmptyControl=u});

define("WorkItemTracking/Scripts/Controls/Fields/FieldsFilterIterationControl",["require","exports","OfficeFabric/Utilities","VSS/Controls","WorkItemTracking/Scripts/Controls/Fields/FieldsFilterClassificationControl","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.Common","WorkItemTracking/Scripts/OM/WiqlValues","Presentation/Scripts/TFS/Components/TeamPicker","react-dom","react"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.FieldsFilterIterationControl=void 0;var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.isCurrentIterationValue=function(n){return!!n&&n.toLocaleLowerCase().startsWith("@".concat(f.WiqlOperators_MacroCurrentIteration).toLocaleLowerCase())},t.isCurrentIterationClause=function(n){return!!n&&this.isCurrentIterationValue(n.value)},t.prototype.initialize=function(){var t=this,i,f;n.prototype.initialize.call(this);this._element.addClass("field-filter-iteration-control");i={field:this._options.field,projectId:this._options.projectId,inputAriaLabel:this._options.label,change:function(){t._options.change();t._checkParameterVisiblity()}};this._macro=r.BaseControl.createIn(u.FieldsFilterClassificationControl,this._element,i);this._teamContainer=$("<div class='team-container'/>").appendTo(this._element);f={crossProject:this._options.crossProject,projectId:this._options.projectId,projectName:this._options.projectName,onChanged:this._options.change};s.render(h.createElement(o.TeamPicker,__assign({},f,{ref:this._setTeamPicker})),this._teamContainer[0]);this._checkParameterVisiblity()},t.prototype._setTeamPicker=function(n){this._teamParameter=n},t.prototype._checkParameterVisiblity=function(n){n===void 0&&(n=this._macro.getText());this._teamParameter.setHidden(!e.parseCurrentIteration(n))},t.prototype.offsetToString=function(n){return n?n>0?" + ".concat(n):" - ".concat(-n):""},t.prototype.setText=function(n){var t=e.parseCurrentIteration(n);t?(this._macro.setText("@".concat(f.WiqlOperators_MacroCurrentIteration).concat(this.offsetToString(t.offset))),this._teamParameter.setText(t.team||"")):this._macro.setText(n);this._checkParameterVisiblity(n)},t.prototype.getText=function(){var n=this._macro.getText(),i=e.parseCurrentIteration(n),t;return i&&(n="@".concat(f.WiqlOperators_MacroCurrentIteration),t=this._teamParameter.getText(),t&&(n+="('".concat(t,"')")),n+=this.offsetToString(i.offset)),n},t.prototype.setEnabled=function(n){this._macro.setEnabled(n);this._teamParameter.setEnabled(n)},t.prototype.setInvalid=function(n){this._macro.setInvalid(n)},t.prototype.setType=function(){},t.prototype.setMode=function(){},t.prototype.setSource=function(n){this._macro.setSource(n)},__decorate([i.autobind],t.prototype,"_setTeamPicker",null),t}(r.Control);t.FieldsFilterIterationControl=c});

define("Presentation/Scripts/TFS/FeatureRef/WorkItemStateColorsProvider",["require","exports","q","VSS/Diag","VSS/Error","VSS/Service","VSS/Utils/String","VSS/Contributions/Services","Presentation/Scripts/TFS/TFS.Host.TfsContext","TFS/WorkItemTracking/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemStateColorsProvider=void 0;var l=function(){function n(){var n,i,t;this._restClient=f.getClient(h.WorkItemTrackingHttpClient);this._projectNameToColorSettingsMap={};this._settingsBeingFetched={};n=s.TfsContext.getDefault().contextData.project;n&&n.name&&(i=f.getService(o.WebPageDataService),t=i.getPageData("ms.vss-work-web.work-item-states-color-data-provider"),!t||this._setData({projectName:n.name,workItemTypeStateColors:this._mapWorkItemStatesColors(t)}))}return n.prototype._mapWorkItemStatesColors=function(n){var i=[],t,r;for(t in n)n.hasOwnProperty(t)&&(r=n[t],i.push({workItemTypeName:t,stateColors:r}));return i},n.getInstance=function(){return n._workItemStatesColorProvider||(n._workItemStatesColorProvider=new n),n._workItemStatesColorProvider},n.prototype.isPopulated=function(n){return n?(n=this._getNormalizedString(n),this._projectNameToColorSettingsMap.hasOwnProperty(n))?!0:!1:!1},n.prototype.getColor=function(t,i,r){var f,u;return r&&t&&i&&(t=this._getNormalizedString(t),i=this._getNormalizedString(i),r=this._getNormalizedString(r),f=this._projectNameToColorSettingsMap[t],!!f&&(u=f[i],!!u&&!!u[r]))?u[r]:n.DEFAULT_STATE_COLOR},n.prototype.ensureColorsArePopulated=function(n){var h=this,e,o,s,t,f;for(!n,e={},o=0,s=n;o<s.length;o++)t=s[o],t=this._getNormalizedString(t),e.hasOwnProperty(t)||this.isPopulated(t)||(e[t]=null);if(f=Object.keys(e),f.length===0)return i(null);if(f.some(function(n){return!n}))try{throw new Error("Invalid Project Name(s) provided to ensureColorsArePopulated");}catch(c){c.name="WorkItemStateColorsInvalidProjects";u.publishErrorToTelemetry(c)}return this._restClient.getWorkItemStateColors(f).then(function(n){for(var r,t=0,i=n;t<i.length;t++)r=i[t],h._setData(r);return null},function(){var n=f.map(function(n){return h._fallbackToDataProvider(n)});return Promise.all(n)})},n.prototype.getColorAsync=function(n,t,r){var f=this,e;return(n=this._getNormalizedString(n),this.isPopulated(n))?i(this.getColor(n,t,r)):this._settingsBeingFetched.hasOwnProperty(n)?this._settingsBeingFetched[n].then(function(){return f.getColor(n,t,r)},function(){}):(e=this.ensureColorsArePopulated([n]).then(function(){return delete f._settingsBeingFetched[n],null},function(t){delete f._settingsBeingFetched[n];u.publishErrorToTelemetry(t)}),this._settingsBeingFetched[n]=e,e.then(function(){return f.getColor(n,t,r)},function(){}))},n.prototype._setData=function(n){var u,o,t,f,i,e;if(!this.isPopulated(n.projectName)){for(u={},o=this._getNormalizedString(n.projectName),t=0,f=n.workItemTypeStateColors;t<f.length;t++){var s=f[t],h={},a=this._getNormalizedString(s.workItemTypeName);for(i=0,e=s.stateColors;i<e.length;i++){var c=e[i],v=this._getNormalizedString(c.name),l=this._getNormalizedString(c.color);h[v]="#".concat(l.substr(l.length-6))}u[a]=h}this._projectNameToColorSettingsMap[o]=u}},n.prototype._getNormalizedString=function(n){return n=n||"",n.trim().toLowerCase()},n.prototype._fallbackToDataProvider=function(n){var t=this,i=f.getService(o.WebPageDataService),r="ms.vss-work-web.work-item-states-color-data-provider",s={id:r,properties:{serviceInstanceType:c.ServiceInstanceTypes.TFS}},h={projectName:n};return i.ensureDataProvidersResolved([s],!0,h).then(function(){var u=i.getPageData(r);return!u||t._setData({projectName:n,workItemTypeStateColors:t._mapWorkItemStatesColors(u)}),null},function(i){u.publishErrorToTelemetry({name:"GetWorkItemStateColorsForProjectsException",message:e.format("Failed to fetch state color data for project {0}: {1}",n,JSON.stringify(i))});t._setData({workItemTypeStateColors:[],projectName:n})})},n.DEFAULT_STATE_COLOR="transparent",n}();t.WorkItemStateColorsProvider=l});

define("Presentation/Scripts/TFS/FeatureRef/WorkItemStateCellRenderer",["require","exports","VSS/Utils/String","Presentation/Scripts/TFS/FeatureRef/WorkItemStateColorsProvider","VSS/LoaderPlugins/Css!Presentation/FeatureRef/WorkItemStateCellRenderer"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemStateCellRenderer=void 0;var u=function(){function n(){}return n.getColorCell=function(t,i){var r=n.getProcessedStateColor(t),u=$("<span/>").addClass(n.CSS_WORKITEM_STATE_CIRCLE).css({"background-color":r.backgroundColor,"border-color":r.borderColor}),f=$("<span/>").addClass("workitem-state-value").text(i);return $("<div/>").addClass("workitem-state-color-cell").append(u.add(f))},n.getAutoUpdatingColorCell=function(t,i,u){var f,o,e;return!t||!i||!u?null:(f=r.WorkItemStateColorsProvider.getInstance(),f.isPopulated(t)?(o=f.getColor(t,i,u),n.getColorCell(o,u)):(e=n.getColorCell(r.WorkItemStateColorsProvider.DEFAULT_STATE_COLOR,u),f.getColorAsync(t,i,u).then(function(t){var i=n.getProcessedStateColor(t);e.find("."+n.CSS_WORKITEM_STATE_CIRCLE).css({"background-color":i.backgroundColor,"border-color":i.borderColor})},function(){}),e))},n.getProcessedStateColor=function(t){var r="#ffffff";return(t=t||r,i.ignoreCaseComparer(t,r)===0||i.ignoreCaseComparer(t,"transparent")===0)?{backgroundColor:t,borderColor:n.STATES_DEFAULT_COLOR}:{backgroundColor:t,borderColor:t}},n.CSS_WORKITEM_STATE_CIRCLE="workitem-state-circle",n.STATES_DEFAULT_COLOR="#5688E0",n}();t.WorkItemStateCellRenderer=u});

/*!
 * jQuery UI Tabs 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/tabs",["jquery","./keycode","./safe-active-element","./unique-id","./version","./widget"],t):t(jQuery)}(function(t){"use strict";var e;return t.widget("ui.tabs",{version:"1.13.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(e=/#.*$/,function(t){var i,a;i=t.href.replace(e,""),a=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(t){}try{a=decodeURIComponent(a)}catch(t){}return t.hash.length>1&&i===a}),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),Array.isArray(i.disabled)&&(i.disabled=t.uniqueSort(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,a=location.hash.substring(1);return null===e&&(a&&this.tabs.each(function(i,s){if(t(s).attr("aria-controls")===a)return e=i,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),a=this.tabs.index(i),s=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:a++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=!1,a--;break;case t.ui.keyCode.END:a=this.anchors.length-1;break;case t.ui.keyCode.HOME:a=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(a);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(a!==this.options.active&&a);default:return}e.preventDefault(),clearTimeout(this.activating),a=this._focusNextTab(a,s),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(a).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",a)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){var a=this.tabs.length-1;for(;-1!==t.inArray((e>a&&(e=0),e<0&&(e=a),e),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,a=this.anchors,s=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,a){var s,n,h,r=t(a).uniqueId().attr("id"),o=t(a).closest("li"),l=o.attr("aria-controls");e._isLocal(a)?(h=(s=a.hash).substring(1),n=e.element.find(e._sanitizeSelector(s))):(s="#"+(h=o.attr("aria-controls")||t({}).uniqueId()[0].id),(n=e.element.find(s)).length||(n=e._createPanel(h)).insertAfter(e.panels[i-1]||e.tablist),n.attr("aria-live","polite")),n.length&&(e.panels=e.panels.add(n)),l&&o.data("ui-tabs-aria-controls",l),o.attr({"aria-controls":h,"aria-labelledby":r}),n.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(a.not(this.anchors)),this._off(s.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,a,s;for(Array.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),s=0;a=this.tabs[s];s++)i=t(a),!0===e||-1!==t.inArray(s,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,a=this.element.parent();"fill"===e?(i=a.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),a=e.css("position");"absolute"!==a&&"fixed"!==a&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,a=this.active,s=t(e.currentTarget).closest("li"),n=s[0]===a[0],h=n&&i.collapsible,r=h?t():this._getPanelForTab(s),o=a.length?this._getPanelForTab(a):t(),l={oldTab:a,oldPanel:o,newTab:h?t():s,newPanel:r};e.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||n&&!i.collapsible||!1===this._trigger("beforeActivate",e,l)||(i.active=!h&&this.tabs.index(s),this.active=n?t():s,this.xhr&&this.xhr.abort(),o.length||r.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),r.length&&this.load(this.tabs.index(s),e),this._toggle(e,l))},_toggle:function(e,i){var a=this,s=i.newPanel,n=i.oldPanel;function h(){a.running=!1,a._trigger("activate",e,i)}function r(){a._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&a.options.show?a._show(s,a.options.show,h):(s.show(),h())}this.running=!0,n.length&&this.options.hide?this._hide(n,this.options.hide,function(){a._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n.hide(),r()),n.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&n.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,a=this._findActive(e);a[0]!==this.active[0]&&(a.length||(a=this.active),i=a.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(void 0===e?i=!1:(e=this._getIndex(e),i=Array.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=Array.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var a=this,s=this.tabs.eq(e),n=s.find(".ui-tabs-anchor"),h=this._getPanelForTab(s),r={tab:s,panel:h},o=function(t,e){"abort"===e&&a.panels.stop(!1,!0),a._removeClass(s,"ui-tabs-loading"),h.removeAttr("aria-busy"),t===a.xhr&&delete a.xhr};this._isLocal(n[0])||(this.xhr=t.ajax(this._ajaxSettings(n,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(s,"ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.done(function(t,e,s){setTimeout(function(){h.html(t),a._trigger("load",i,r),o(s,e)},1)}).fail(function(t,e){setTimeout(function(){o(t,e)},1)})))},_ajaxSettings:function(e,i,a){var s=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,n){return s._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:n},a))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("WorkItemTracking/Scripts/Dialogs/CommonErrorDialog",["require","exports","VSS/Controls/Dialogs","VSS/Resources/VSS.Resources.Platform","jQueryUI/button","jQueryUI/dialog","jQueryUI/tabs","VSS/LoaderPlugins/Css!Dialogs/CommonErrorDialog"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.CommonErrorDialog=void 0;var u=function(n){function t(t){return n.call(this,$.extend({cssClass:"wit-common-error-dialog",height:"auto",width:600},t))||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._message=this._options.message;var t=$("<table/>").addClass("dialog-content"),i=$("<tr/>").appendTo(t),r=$("<td/>").addClass("bowtie-icon bowtie-status-error").appendTo(i);i.append(this._getErrorMessage());this.getElement().append(t)},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype._getErrorMessage=function(){var n=$("<td/>").addClass("dialog-message").text(this._message);return n.append("<br>"),n},t.showDialog=function(n,u,f,e){var o={title:n,message:u,buttons:[]};return f&&o.buttons.push({text:r.ModalDialogOkButton,id:r.ModalDialogOkButton,click:function(){f.apply(this);$(this).dialog("close")}}),e&&o.buttons.push({text:r.ModalDialogCancelButton,id:r.ModalDialogCancelButton,click:function(){e.apply(this);$(this).dialog("close")}}),i.show(t,o)},t}(i.ConfirmationDialogO);t.CommonErrorDialog=u});

define("WorkItemTracking/Scripts/Utils/WitIdentityImages",["require","exports","VSS/Locations"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.WitIdentityImages=void 0;var r=function(){function n(){}return n.UnassignedImageUrl=i.urlHelper.getVersionedContentUrl("notassigned-user.svg"),n.AllUsersImageUrl=i.urlHelper.getVersionedContentUrl("Team.svg"),n}();t.WitIdentityImages=r});

define("WorkItemTracking/Scripts/Utils/WorkItemTrackingCIEventHelper",["require","exports","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence"],function(n,t,i,r){function u(n,t,u){i.publishEvent(new i.TelemetryEventData(r.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,n,t),u)}function a(n,t,i){t===void 0&&(t={});u(c,__assign({action:n},t),i)}var f,e,o,s,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});t.publishGitHubTelemetry=t.GitHubIntegrationCIActions=t.QueryCIEvents=t.QueryHierarchyCIEvents=t.AttachmentsControlUIViewMode=t.AttachmentsControlUIActionSource=t.AttachmentsControlCIEvents=void 0;f=function(){function n(){}return n.publishEvent=function(t,i,r){i===void 0&&(i={});u(n._featureName,$.extend({action:t},i),r)},n.ACTIONS_ADD="AddAttachment",n.ACTIONS_DELETE="DeleteAttachment",n.ACTIONS_EDIT="EditAttachment",n.ACTIONS_OPEN="OpenAttachment",n.ACTIONS_SAVE="SaveAttachment",n.UI_CHANGE_VIEW_MODE="UIChangeViewMode",n.UI_PREVIEW_MODE="UIPreviewMode",n.UI_PREVIEW_TRAVERSE="UIPreviewModeNext",n.UI_DOWNLOAD="UIDownload",n.UI_DELETE="UIDelete",n.UI_EDIT_COMMENT="UIEditComment",n.UI_PREVIEW="UIShowPreview",n.UI_SHOW_ATTACHMENT="UIShowAttachment",n._featureName="AttachmentsControl",n}();t.AttachmentsControlCIEvents=f;e=function(){function n(){}return n.UI_THUMBNAIL_CONTEXT_MENU="ThumbnailContextMenu",n.UI_THUMBNAIL_CARD="ThumbnailCard",n.UI_GRID_TITLE="GridTitle",n.UI_GRID_ROW="GridRow",n.UI_GRID_CONTEXT_MENU="GridContextMenu",n.UI_GRID_MIDDLE_CLICK="GridMiddleClick",n.UI_PREVIEW_CONTEXT_MENU="PreviewContextMenu",n}();t.AttachmentsControlUIActionSource=e;o=function(){function n(){}return n.GRID="ViewModeGrid",n.THUMBNAIL="ViewModeThumbnail",n}();t.AttachmentsControlUIViewMode=o;s=function(){function n(){}return n.publishEvent=function(t,i,r){u(n._featureName,$.extend({action:t},i?i:{}),r)},n.EVENTS_TREE_NODE_SELECTED="TreeNodeSelected",n.EVENTS_FAVORITES_POPULATED="FavoritesPopulated",n.ACTIONS_DRAG_AND_DROP_TREE_NODE="DragAndDropTreeNode",n.ACTIONS_CLICK_ADD_TO_MY_FAVORITES_MENU_ITEM="ClickAddToMyFavoritesMenuItem",n.ACTIONS_CLICK_ADD_TO_TEAM_FAVORITES_MENU_ITEM="ClickAddToTeamFavoritesMenuItem",n._featureName="QueryHierarchy",n}();t.QueryHierarchyCIEvents=s;h=function(){function n(){}return n.publishEvent=function(t,i,r){u(n._featureName,$.extend({action:t},i?i:{}),r)},n.EVENTS_QUERY_EXECUTED="QueryExecuted",n._featureName="Query",n}();t.QueryCIEvents=h;c="GitHubIntegration";l=function(){function n(){}return n.LINKS_FETCH="LINKS_FETCH",n}();t.GitHubIntegrationCIActions=l;t.publishGitHubTelemetry=a});

define("WorkItemTracking/Scripts/TFS.WorkItemTracking.Helpers",["require","exports","VSS/Controls","VSS/VSS","VSS/Identities/Picker/Services","VSS/Utils/String","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Identities/Picker/Controls","WorkItemTracking/Scripts/TFS.WorkItemTracking","Presentation/Scripts/TFS/FeatureRef/WorkItemStateCellRenderer","Presentation/Scripts/TFS/FeatureRef/WorkItemStateColorsProvider","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","TfsCommon/Scripts/WITIdentityHelpers","VSS/Utils/Accessibility","VSS/Utils/UI","WorkItemTracking/Scripts/Dialogs/CommonErrorDialog","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/TFS.WorkItemTracking.WebApi","WorkItemTracking/Scripts/Utils/WitControlMode","WorkItemTracking/Scripts/Utils/WitIdentityImages","WorkItemTracking/Scripts/Utils/WorkItemTrackingCIEventHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var ut,ft;Object.defineProperty(t,"__esModule",{value:!0});t.WITFileHelper=t.WITStateCircleColors=t.WITIdentityControlHelpers=void 0;var tt=e.TfsContext,it=5e6,rt=20,et=function(){function n(){}return n.setupCommonIdentityPickerOptions=function(t,i,r,e,s,h){var c={operationScope:{IMS:!0,Source:tt.getDefault().isHosted},identityType:{User:i,Group:!0},multiIdentitySearch:t,showMruTriangle:!t,showTemporaryDisplayName:!0,showMru:!0,loadOnCreate:!0,highlightResolved:!0,size:o.IdentityPickerControlSize.Small,callbacks:{onItemSelect:function(n){e(n)},getCustomTooltip:function(){return n.getCustomTooltip(h())}},getFilterByScope:h,consumerId:n.IdentityPickerConsumerId};return c.callbacks.preDropdownRender=function(n){var l=[],t,a=n,e,c;return h&&(e=h()),e?(e.nonIdentities&&(t=e.nonIdentities),e.excludeGroups&&(a=n.filter(function(n){return!f.equals(n.entityType,u.ServiceHelpers.GroupEntity,!0)}))):typeof r=="function"&&(t=r()),i&&t&&t.length>0&&(c=s(),$.each(t,function(n,t){var i=o.EntityFactory.createStringEntity(t,tt.getDefault().configuration.getResourcesFile("notassigned-user.svg"));c!==undefined&&i.displayName&&i.displayName.trim().toLowerCase().indexOf(c)==0&&l.push(i)})),a.concat(l)},c},n.getCustomTooltip=function(n){return n&&f.format(n.displayNames.length<=10?b.ScopedIdentityTooltip:b.ScopedIdentityTooltipWithSuffix,n.displayNames.join(", "))},n.parseIdentityListString=function(n){if(n==="")return[];var t=n.match(/\"([^\"]*)\"/i);return t===null?n.split(","):this.parseIdentityListString(n.substr(0,t.index-1)).concat([t[1]]).concat(this.parseIdentityListString(n.substr(t.index+t[0].length+1)))},n.toIdentityListString=function(n){return n.map(function(n){return'"'.concat(n,'"')}).join(",")},n.getIdentityDisplayControl=function(t,r){var u=a.WITIdentityHelpers.parseUniquefiedIdentityName(t),f=!1;if(u?o.EntityFactory.isStringEntityId(u.entityId)&&(f=!0):(u=o.EntityFactory.createStringEntity(b.AssignedToEmptyText,g.WitIdentityImages.UnassignedImageUrl),f=!0),u){var e=a.WITIdentityHelpers.getEntityIdentifier(u,!0),s={identityType:{User:!0},operationScope:{IMS:!0,Source:tt.getDefault().isHosted},item:f?u:e,friendlyDisplayName:u.displayName,size:o.IdentityPickerControlSize.Large,turnOffHover:!0,consumerId:n.IdentityDisplayControlConsumerId},h=i.BaseControl.create(o.IdentityDisplayControl,r,s);return h.getElement()}return null},n.IdentityPickerConsumerId="1D08AC59-C802-43AD-B040-DF2E624C194D",n.IdentityDisplayControlConsumerId="944005B7-E27F-465B-B112-619B98DD4A16",n}();t.WITIdentityControlHelpers=et;ut=function(){function n(){}return n.getStateColors=function(n,t){var r,i;return t&&t.stateColors&&n&&(i=t.stateColors[n],i&&i!==f.empty&&f.ignoreCaseComparer(i,"#ffffff")!==0&&(r={borderColor:i,backgroundColor:i})),r||(r={borderColor:h.WorkItemStateCellRenderer.STATES_DEFAULT_COLOR,backgroundColor:c.WorkItemStateColorsProvider.DEFAULT_STATE_COLOR}),r},n.getSpanForState=function(t,i){var r=n.getStateColors(t,i);return f.format("<span class='state-circle' style='border-color: {0}; background-color: {1};'><\/span>",r.borderColor,r.backgroundColor)},n.setStateColorsOnElement=function(t,i,r){var u=n.getStateColors(i,r);t.css("border-color",u.borderColor);t.css("background-color",u.backgroundColor)},n}();t.WITStateCircleColors=ut;ft=function(){function n(){}return n.getExtensionName=function(n){if(!n)return f.empty;var t=n.lastIndexOf(".");return t>=0?n.substring(t+1).toLowerCase():f.empty},n.getExtensionNames=function(t){var r=[],i,u,e,f;if(t&&t.length>0)for(i=0,u=t;i<u.length;i++)e=u[i],f=n.getExtensionName(e),r.indexOf(f)<0&&r.push(f);return r},n.getExtensionNamesFromFileList=function(t){var u=[],i,r;if(t&&t.length>0){for(i=[],r=0;r<t.length;r++)i.push(t[0].name);u=n.getExtensionNames(i)}return u},n.getMatchingIcon=function(t){var r=n.getExtensionName(t),i="bowtie-icon ";switch(r){case"jpg":case"jpeg":case"jif":case"jfif":case"jpx":case"fpx":case"pcd":case"bmp":case"img":case"eps":case"psd":case"wmf":case"png":i+="bowtie-image";break;case"gif":case"mp4":case"flv":case"mng":case"avi":case"qt":case"wmv":case"yuv":case"asf":case"rm":case"amv":case"m4p":case"m4v":case"mpg":case"mpeg":case"mpv":case"m4v":case"svi":case"f4v":case"mov":i+="bowtie-video";break;case"msg":i+="bowtie-mail-message";break;default:i+="bowtie-file-content"}return i},n.uploadFiles=function(t,i){return new Promise(function(r,u){var ut=t.length,o=[],h=[],c=[],a=!1,ft=function(){nt.AttachmentsControlCIEvents.publishEvent(nt.AttachmentsControlCIEvents.ACTIONS_ADD,{isDragDrop:!0,numOfFilesDropped:t.length,numOfFilesAttached:c.length,numOfOversizedFiles:h.length,numOfRejectedFiles:o.length,oversizedFileExtNames:n.getExtensionNames(h),rejectedFileExtNames:n.getExtensionNames(o),inputFileExtNames:n.getExtensionNamesFromFileList(t),workItemSessionId:i.sessionId})},e;if(y.BrowserCheckUtils.isIE()&&t.length===0){p.CommonErrorDialog.showDialog(b.AttachmentUploadFailDialogTitle,f.format(b.AttachmentUploadFailMessage,o.join(", ")));u();return}if(t&&t.length>rt){for(e=0;e<t.length;e++)o.push(t[e].name);p.CommonErrorDialog.showDialog(b.FileThrottleDialogTitle,f.format(b.FileThrottleMessage,rt));ft();u();return}var et=new v.ProgressAnnouncer({announceStartMessage:b.AttachmentUploadingStart,announceEndMessage:b.AttachmentUploadingEnd,announceErrorMessage:b.AttachmentUploadingError,announceStartDelay:0}),ot=function(n,t,i){t.lastModified?i.resolvePlaceholder(n.id,null,new Date(t.lastModified)):i.resolvePlaceholder(n.id,null,t.lastModifiedDate);c.push(i);g()},st=function(n,t,i){o.push(t.name);i.remove();g(n&&n.status)},g=function(n){if(ut--,ut===0){if(o.length>0){et.announceError();u();var t="";t=Number(n)===403?b.AttachmentUploadFailPermissionsMessage:n===undefined&&a?b.AttachmentUploadCancelledMessage:f.format(b.AttachmentUploadFailMessage,o.join(", "));p.CommonErrorDialog.showDialog(b.AttachmentUploadFailDialogTitle,t)}else et.announceCompleted(),c.length>0?r():u();ft()}},tt=function(n,t){(t.change===w.WorkItemChangeType.Refresh||t.change===w.WorkItemChangeType.Reset)&&(a=!0)},ht=function(n){var r=t[n],c,u;if(r.size>d.WitFormModeUtility.maxAttachmentSize)h.push(r.name),c=(d.WitFormModeUtility.maxAttachmentSize/1048576).toFixed(2),p.CommonErrorDialog.showDialog(b.AttachmentsOversizedDialogTitle,f.format(b.FilesUploadedExceedMaxMb,c,h.join(", "))),g();else{u=s.Attachment.create(i,r.name,"","",r.size,null,null,!0);i.addLink(u);var v=i.store.tfsConnection.getHttpClient(k.WorkItemTrackingHttpClient),e=i.getComputedFieldValue(l.CoreField.AreaPath),o="";e&&e.value&&(o=e.value);r.size>it&&r.slice instanceof Function?(i.attachWorkItemChanged(tt),v.beginAttachmentUpload(i.project.guid,r,o,it,function(){return!a},r.name).then(function(n){i.detachWorkItemChanged(tt);ot(n,r,u)},function(n){i.detachWorkItemChanged(tt);st(n,r,u)})):v.beginAttachmentUploadSimple(i.project.guid,r,o,r.name).then(function(n){ot(n,r,u)},function(n){st(n,r,u)})}};for(e=0;e<t.length;e++)ht(e)})},n}();t.WITFileHelper=ft;r.tfsModuleLoaded("TFS.WorkItemTracking.Helpers",t)});

define("WorkItemTracking/Scripts/OM/QueryAdapter",["require","exports","Presentation/Scripts/TFS/FeatureRef/TFS.AgileCommon","Presentation/Scripts/TFS/FeatureRef/TFS.TagService","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/Contributions/Services","VSS/FeatureAvailability/Services","WorkItemTracking/Scripts/OM/QueryConstants","WorkItemTracking/Scripts/OM/WiqlValues","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/TFS.WorkItemTracking.Helpers","VSS/Diag","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Service","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.Service","VSS/Utils/Array","VSS/Utils/Culture","VSS/Utils/Date","VSS/Utils/Number","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.Common","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/OM/WiqlOperators"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft){function et(n,t){return ut.createError(g.format(a.InvalidQuerySyntax,n,t),{name:h.Exceptions.InvalidQuerySyntaxException,details:n,node:t})}function ot(n,t){return ut.createError(g.format(n,t),{name:h.Exceptions.InvalidQueryFilterRowException,rowIndex:t})}Object.defineProperty(t,"__esModule",{value:!0});t.QueryAdapter=void 0;var st=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.availableOperators={},t.availableFieldValues={},t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this.store=t.getService(ut.WorkItemStore)},t.prototype.getInvariantFieldName=function(n,t){var i;if(n=(n||"").trim(),i=this.getField(n),i)return i.referenceName;if(t)throw et(a.QueryReferencesFieldThatDoesNotExist,n);else return n},t.prototype.getInvariantFieldValue=function(n,t,i){var vt=this,it,e,o,ut,ot,st,ht,ct,lt,p,r="",h,w,l,y,v,nt,f;if(i!==null&&i!==undefined)if(i=i.trim(),it=i?!1:!0,t===ft.WiqlOperators.OperatorIn||t===ft.WiqlOperators.OperatorNotIn)e=[],e=this.getField(n).isIdentity?c.WITIdentityControlHelpers.parseIdentityListString(i):i.split(",").filter(function(n){return!!n}),e=e.map(function(t){return vt.getInvariantFieldValue(n,"",t)}),r="("+e.join(",")+")";else if(g.ignoreCaseComparer(n,"System.LinkType")===0){try{lt=this.store.findLinkTypeEnd(i)}catch(yt){throw et(yt.message,i);}r=ft.quoteString(lt.immutableName)}else if(it)r="''";else if(o=this.getFieldType(null,n),ut=g.startsWith(i,ft.WiqlOperators.MacroStart),ut){if(l=s.parseCurrentIteration(i),l){if(l.team){var u=l.offset,v=l.team,pt=u>0?" + ".concat(u):u<0?" - ".concat(-u):"",nt=v?"('".concat(v,"')"):"";return"".concat(ft.WiqlOperators.MacroCurrentIteration).concat(nt).concat(pt)}throw et(a.ErrorExpectingTeam,i);}if(y=s.parseTeamAreas(i),y){if(y.team)return v=y.team,nt=v?"('".concat(v,"')"):"","".concat(ft.WiqlOperators.MacroTeamAreas).concat(nt);throw et(a.ErrorExpectingTeam,i);}if(f=s.parseDateMacro(i),f){if(f.invariantMacro){var wt=f.invariantMacro,at=f.modifier,u=f.offset,tt="".concat(wt);return at&&(tt+="('".concat(at,"')")),u&&(tt+="".concat(u)),tt}throw et(a.ErrorExpectingTeam,i);}if(ft.isValidMacro(i,!0))r=ft.getInvariantOperator(i);else throw et(g.format(a.QueryFilterInvalidMacro,i),i);}else if(ot=o===rt.FieldType.DateTime,st=o===rt.FieldType.Integer,ht=o===rt.FieldType.Double,ct=o===rt.FieldType.Boolean,ot){if(h=k.parseDateString(i,undefined,!0),h===null||isNaN(h))throw et(a.ErrorExpectingDateTime,i);if(w=h.getFullYear(),w<1753||w>9999)throw et(a.ErrorDateTimeValueOutOfRange,i);r=ft.quoteString(ft.toInvariantDateString(h))}else if(st){if(!/^-?[0-9]+?$/.test(i))throw et(a.ErrorExpectingIntegerValue,i);r=i}else if(ht)if(p=Number(i),isNaN(p))throw et(a.ErrorExpectingNumericValue,i);else r=d.toDecimalLocaleString(p,!1,b.getInvariantCulture());else if(ct)if(/^true$/i.test(i))r="true";else if(/^false$/i.test(i))r="false";else if(/^[0-9]+?$/.test(i))r=parseInt(i,10)?"true":"false";else throw et(a.ErrorExpectingBooleanValue,i);else r=ft.quoteString(i);return r},t.prototype.processClause=function(n){return this._fieldSupportsAnySyntax(null,n.fieldName)?this._convertFromSpecialAnySyntax(n):n},t.prototype.beginEnsureFields=function(n,t,i){i===void 0&&(i=!1);this.store.beginGetFields(i).then(n).catch(t)},t.prototype.beginGetOneHopLinkTypes=function(n,t){var i=this;tt.queueRequest(this,this,"oneHopLinkTypes",n,t,function(n,t){i.store.beginGetLinkTypes(function(){var t=i.store.getLinkTypeEnds().filter(function(n){return!n.linkType.isRemote});n(t)},t)})},t.prototype.beginGetRecursiveLinkTypes=function(n,t){var i=this;tt.queueRequest(this,this,"recursiveLinkTypes",n,t,function(n,t){i.store.beginGetLinkTypes(function(){n($.map(i.store.getLinkTypeEnds(),function(n){if(n.isForwardLink&&g.ignoreCaseComparer(n.linkType.topology,"tree")===0)return n}))},t)})},t.prototype.beginGetQueryableFields=function(n,t,i){var r=this,u="queryableFields"+(n!=null?n.guid:"");tt.queueRequest(this,this,u,t,i,function(t,i){if(n){var u=[];$.each(n.fieldIds,function(t,i){i!=rt.CoreField.TeamProject&&(u[u.length]=n.store.getFieldDefinition(i))});t(r._prepareQueryableFields(u))}else r.store.beginGetFields().then(function(n){t(r._prepareQueryableFields(n))}).catch(i)})},t.prototype.beginGetAvailableOperators=function(n,t,i){var r=this,u;n=(n||"").trim();u=n.toLocaleUpperCase();u?tt.queueRequest(this,this.availableOperators,u,t,i,function(t,i){r.store.fields?t(r._prepareAvailableOperators(n)):r.store.beginGetFields().then(function(){t(r._prepareAvailableOperators(n))}).catch(i)}):typeof t=="function"&&t.call(this,[])},t.prototype.getField=function(n){return this.store.getFieldDefinition(n)},t.prototype.areFieldsLoaded=function(){return Boolean(this.store.fieldMap)},t.prototype.getFieldType=function(n,t){return(n=n||(t?this.getField(t):null),n)?n.id===rt.CoreField.TeamProject?rt.FieldType.Internal:n.type:rt.FieldType.String},t.prototype.beginGetAvailableFieldValues=function(n,t,u,f,e,o,s){var h=this,c,l;t=(t||"").trim();t?(u=(u||"").trim(),c=ft.getInvariantOperator(u).toUpperCase(),l=(n?n.id:0)+"|"+t.toLocaleUpperCase()+"|"+u.toLocaleUpperCase()+"|"+(e?"scoped":"unscoped")+(f?"|includesPredefined":""),tt.queueRequest(this,this.availableFieldValues,l,o,s,function(o,s){h.store.beginGetFields().then(function(){var l=h.getField(t),a,p,w,v;l?(a=h.getFieldType(l),a===rt.FieldType.TreePath?n.nodesCacheManager.beginGetNodes().then(function(){var t=[],s=0,r=function(n){return{id:--s,name:n,guid:n,children:[],structure:i.INodeStructureType.Project}},u,e;l.id===rt.CoreField.IterationPath&&f&&(c===ft.WiqlOperators.OperatorEqualTo||c===ft.WiqlOperators.OperatorNotEqualTo||c===ft.WiqlOperators.OperatorUnder||c===ft.WiqlOperators.OperatorNotUnder)?(u=ft.getLocalizedOperator(ft.WiqlOperators.MacroCurrentIteration),t.push(r(u)),t.push(r(u+" + 1")),t.push(r(u+" - 1"))):l.id===rt.CoreField.AreaPath&&f&&(c===ft.WiqlOperators.OperatorEqualTo||c===ft.WiqlOperators.OperatorNotEqualTo)&&(e=ft.getLocalizedOperator(ft.WiqlOperators.MacroTeamAreas),t.push(r(e)));l.id===rt.CoreField.AreaPath?t.push(n.nodesCacheManager.getAreaNode(!0)):t.push(n.nodesCacheManager.getIterationNode(!0));o(t)},s):a===rt.FieldType.Boolean?o(["True","False"]):ft.isFieldComparisonOperator(u)?h.beginGetQueryableFields(e?n:null,function(n){var i=[];$.each(n,function(n,r){g.localeIgnoreCaseComparer(r,t)!==0&&a===h.getFieldType(null,r)&&i.push(r)});o(i)},s):l.id===rt.CoreField.Tags?(p=y.ProjectCollection.getConnection(h.getTfsContext()).getService(r.TagService),p.beginQueryTagNames(r.TagsKind.WorkItem,n.guid,function(n){return o(n)},function(n){n.type==="Microsoft.TeamFoundation.Framework.Server.AccessCheckException"?o([]):s(n)})):l.id===rt.CoreField.BoardColumn?tt.using(["Presentation/Scripts/TFS/FeatureRef/TFS.BoardService"],function(t){var i=y.ProjectCollection.getConnection(h.getTfsContext()).getService(t.BoardService);i.beginGetColumnSuggestedValues(e?n.guid:null,o,s)}):l.id===rt.CoreField.BoardLane?tt.using(["Presentation/Scripts/TFS/FeatureRef/TFS.BoardService"],function(t){var i=y.ProjectCollection.getConnection(h.getTfsContext()).getService(t.BoardService);i.beginGetRowSuggestedValues(e?n.guid:null,o,s)}):ut.isIdentityPickerSupportedForField(l)?(w=h._getPredefinedFieldValues(l,a),h.store.beginGetAllowedValues(l.id,null,null,function(n){var t=n.concat(w);o(t)},s)):l.id===rt.CoreField.TeamProject?h.store.beginGetProjects(function(n){var t=$.map(n,function(n){return n.name});o(t)},s):l.id===rt.CoreField.Id?(v=[ft.getLocalizedOperator(ft.WiqlOperators.MacroFollows)],h._isRecentMentionsMacroEnabled()&&v.push(ft.getLocalizedOperator(ft.WiqlOperators.MacroRecentMentions)),h._isMyRecentActivityMacroEnabled()&&v.push(ft.getLocalizedOperator(ft.WiqlOperators.MacroMyRecentActivity)),h._isRecentProjectActivityMacroEnabled()&&v.push(ft.getLocalizedOperator(ft.WiqlOperators.MacroRecentProjectActivity)),o(v)):ft.isGroupOperator(c)&&l.id===rt.CoreField.WorkItemType?h.store.beginGetWorkItemCategories(n,function(n){var t=[];$.each(n,function(n,i){t.push(i.referenceName)});t.sort(g.localeIgnoreCaseComparer);o(t)},s):h.store.beginGetAllowedValues(l.id,e?n.guid:null,null,function(n){f&&(n=(h._getPredefinedFieldValues(l,a)||[]).concat(n));o(n)},s)):o([])}).catch(s)})):typeof o=="function"&&o.call(this,[])},t.prototype.beginGenerateWiql=function(n,t,i,r,u){var f=this;this.store.beginGetLinkTypes(function(){f.beginEnsureFields(function(){var e=[],s,h,c;try{e.push(f._generateSelectClause(t));n.mode<=o.LinkQueryMode.WorkItems?e.push("FROM WorkItems"):e.push("FROM WorkItemLinks");s=f._generateFilter(n).trim();s&&e.push("WHERE "+s);h=f._generateOrderByClause(i,o.LinkQueryMode.isLinkQuery(n.mode));h&&e.push(h);c=f._getModeClause(n.mode);c&&e.push(c);typeof r=="function"&&r.call(f,e.join(" "))}catch(l){tt.handleError(l,u,f)}},u)},u)},t.prototype._fieldSupportsAnySyntax=function(n,t){return n=n||(t?this.getField(t):null),n&&ft.isNonNullableField(n.id)},t.prototype._convertFromSpecialAnySyntax=function(n){var t;return n.value&&(t=n.value.replace(/[\s'"()]+$/,"").replace(/^[\s'"()]+/,""),g.localeIgnoreCaseComparer(t,it.WiqlOperators_Any)===0&&ft.getInvariantOperator(n.operator)===ft.WiqlOperators.OperatorEqualTo)?$.extend({},n,{operator:ft.getLocalizedOperator(ft.WiqlOperators.OperatorNotEqualTo),value:""}):n},t.prototype._prepareQueryableFields=function(n){for(var t,i=[],u=h.FieldUsages.WorkItem,r=0,f=n.length;r<f;r++)t=n[r],t.checkFlag(h.FieldFlags.Queryable)&&!t.isIgnored()&&t.usages&u&&(i[i.length]=t.name);return i.sort(g.localeIgnoreCaseComparer),i},t.prototype._prepareAvailableOperators=function(n){var t=this.getField(n),r=this.getFieldType(t),i=[],s,f;if(t&&t.referenceName===rt.CoreFieldRefNames.Tags){var o=ft.WiqlOperators,c=o.OperatorContains,l=o.OperatorNotContains;i.push.apply(i,[c,l])}else switch(r){case 0:w.addRange(i,ft.ProjectOperators);break;case rt.FieldType.String:w.addRange(i,t&&t.supportsTextQuery()?ft.StringWithTextSupportOperators:t&&t.id===rt.CoreField.WorkItemType?ft.StringWithInGroupOperators:ft.StringOperators);break;case rt.FieldType.Integer:case rt.FieldType.DateTime:case rt.FieldType.Double:w.addRange(i,ft.ComparisonOperators);break;case rt.FieldType.PlainText:case rt.FieldType.Html:w.addRange(i,t&&t.supportsTextQuery()?ft.TextWithTextSupportOperators:ft.TextOperators);break;case rt.FieldType.History:w.addRange(i,t&&t.supportsTextQuery()?ft.HistoryWithTextSupportOperators:ft.HistoryOperators);break;case rt.FieldType.TreePath:w.addRange(i,ft.TreePathOperators);break;case rt.FieldType.Boolean:case rt.FieldType.Guid:w.addRange(i,ft.EqualityOperators)}return s=t?t.checkFlag(h.FieldFlags.Computed):!1,(!s||e.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.AllowWasEverForComputed))&&ft.FieldTypesSupportingEver.hasOwnProperty(r)&&i.push(ft.WiqlOperators.OperatorEver),f=ft.getLocalizedOperatorList(i),ft.FieldTypesSupportingFieldComparison.hasOwnProperty(r)&&$.each(i,function(n,t){ft.OperatorsSupportingFieldComparison.hasOwnProperty(t.toUpperCase())&&f.push(ft.getFieldComparisonOperator(t))}),f},t.prototype._getPredefinedFieldValues=function(n,t){switch(t){case 0:return[ft.getLocalizedOperator(ft.WiqlOperators.MacroProject)];case rt.FieldType.DateTime:return[ft.getLocalizedOperator(ft.WiqlOperators.MacroStartOfDay),ft.getLocalizedStartOfDayMacro(-1),ft.getLocalizedStartOfDayMacro(-7),ft.getLocalizedStartOfDayMacro(-30),ft.getLocalizedOperator(ft.WiqlOperators.MacroStartOfWeek),ft.getLocalizedOperator(ft.WiqlOperators.MacroStartOfMonth),ft.getLocalizedOperator(ft.WiqlOperators.MacroStartOfYear)];case rt.FieldType.String:return n.isIdentity?[ft.getLocalizedOperator(ft.WiqlOperators.MacroMe)]:this._fieldSupportsAnySyntax(n)?[it.WiqlOperators_Any]:[];default:return[]}},t.prototype._checkOperator=function(n,t,i){var u=!0,r;if(this.beginGetAvailableOperators(n,function(n){u=!1;n&&n.length&&(w.contains(n,(t||"").trim(),g.localeIgnoreCaseComparer)||(r=ot(a.QueryFilterErrorUnrecognizedOperator,i+1)))},function(n){u=!1;r=n}),r)throw r;},t.prototype._generateSelectClause=function(n){return n&&n.length?"SELECT "+$.map(n,function(n){return"["+n+"]"}).join(","):"SELECT [System.Id]"},t.prototype._generateFilterExpression=function(n,t,i){var u=this,s=[],h=[],r=n.groups,e,l=!1,f,c,o;return n.clauses&&(r=r&&$.map(r,function(n){return $.extend({},n)}),e=0,$.each(n.clauses,function(n,t){var f=(t.fieldName||"").trim(),i;if(f){if(i=(t.operator||"").trim(),!i)throw ot(a.QueryFilterErrorMissingOperator,t.index+1);if(!(t.value||"").trim()&&(u.isFieldComparisonOperator(i)||g.ignoreCaseComparer(ft.WiqlOperators.OperatorIn,ft.getInvariantOperator(i))===0||g.ignoreCaseComparer(ft.WiqlOperators.OperatorNotIn,ft.getInvariantOperator(i))===0||u.getFieldType(null,f)===rt.FieldType.Boolean))throw ot(a.QueryFilterErrorEmptyValue,t.index+1);s.push($.extend({},t,{index:e,originalIndex:t.index}));e++}else r&&r.length&&(r=nt.updateFilterGroups(r,e+1,!1))})),i&&(this._isProjectInTopLevelAndAllAnds(n,i)||(f="",c=void 0,c=this.isProjectMacro(i,!1)?i:ft.quoteString(i),t&&(f="["+t+"]."),f+="["+rt.CoreFieldRefNames.TeamProject+"] = "+c,s.length>0&&(f+=" AND",this._isTopLevelAndsOnly(n)||(l=!0,f+=" (")),h.push(f))),$.each(s,function(n,i){var f=[],e="",l,s,a,c,o,v,y;n>0&&f.push(u.getInvariantOperator(i.logicalOperator));r&&r.length&&($.each(r,function(n,t){t.start===i.index+1&&(e+="(")}),e&&f.push(e));i=u.processClause(i);l=i.fieldName;s=i.operator;a=i.value;c=u.getInvariantFieldName(l,!0);u._checkOperator(l,s,i.originalIndex);o=u.getInvariantOperator(s);u.isFieldComparisonOperator(s)?(y=u.getInvariantFieldName(a,!0),v=t?"["+t+"].["+y+"]":"["+y+"]"):v=o===ft.WiqlOperators.OperatorIsEmpty||o===ft.WiqlOperators.OperatorIsNotEmpty?"":u.getInvariantFieldValue(c,o,a);t?f.push("["+t+"].["+c+"]"):f.push("["+c+"]");f.push(o);f.push(v);r&&r.length&&(e="",$.each(r,function(n,t){t.end===i.index+1&&(e+=")")}),e&&f.push(e));h.push(f.join(" "))}),o=h.join(" "),l&&(o=o+")"),o},t.prototype._isTopLevelAndsOnly=function(n){var t=this,i;return!n||!n.clauses?!0:(i=!0,$.each(n.clauses,function(r,u){var f=t.getInvariantOperator(u.logicalOperator);if(t.isOrOperator(f,!1)&&t._doesLogicalOperatorApplyToTopLevelOfQuery(u,n.groups))return i=!1,!1}),i)},t.prototype._isProjectInTopLevelAndAllAnds=function(n,t){var i=this,r;return!n||!n.clauses?!1:(r=!1,$.each(n.clauses,function(u,f){var e=i.getInvariantOperator(f.logicalOperator);if(i.isOrOperator(e,!1)&&i._doesLogicalOperatorApplyToTopLevelOfQuery(f,n.groups))return r=!1,!1;!i.isOrOperator(e,!1)&&i._doesLogicalOperatorApplyToTopLevelOfQuery(f,n.groups)&&i.getInvariantOperator(f.operator)===ft.WiqlOperators.OperatorEqualTo&&i.getInvariantFieldName(f.fieldName,!1)===rt.CoreFieldRefNames.TeamProject&&(i.isProjectMacro(f.value,!0)||g.localeIgnoreCaseComparer(f.value,t)===0)&&(r=!0)}),r)},t.prototype._doesLogicalOperatorApplyToTopLevelOfQuery=function(n,t){var i=!0,r=n.index+1;return $.each(t,function(n,t){if(r>t.start&&r<=t.end)return i=!1,!1}),i},t.prototype._generateLinkFilter=function(n){var i=this,t=[];return n&&$.each(n.split(","),function(n,r){var u;if(r=r.trim(),g.localeIgnoreCaseComparer(r,it.WiqlOperators_Any)===0)return t=["[System.Links.LinkType] <> ''"],!1;try{u=i.store.findLinkTypeEnd(r);t.push("[System.Links.LinkType] = "+ft.quoteString(u.immutableName))}catch(f){throw et(f.message,r);}}),t.join(" OR ")},t.prototype._generateFilter=function(n){var r,u,t,i;return o.LinkQueryMode.isLinkQuery(n.mode)?(o.LinkQueryMode.isTreeQuery(n.mode)?(r=n.treeTargetFilter,u=n.treeLinkTypes):(r=n.linkTargetFilter,u=n.linkTypes),i=[],t=this._generateFilterExpression(n.sourceFilter,"Source",n.teamProject).trim(),t&&i.push("("+t+")"),t=this._generateLinkFilter(u).trim(),t&&i.push("("+t+")"),t=this._generateFilterExpression(r,"Target",n.teamProject).trim(),t&&i.push("("+t+")"),i.join(" AND ")):this._generateFilterExpression(n.sourceFilter,"",n.teamProject).trim()},t.prototype._generateOrderByClause=function(n,t){var i=n;return(t||n&&n.length&&(i=[],$.each(n,function(n,t){g.ignoreCaseComparer(t.name,"System.Links.LinkType")!==0&&i.push(t)})),i&&i.length)?"ORDER BY "+$.map(i,function(n){return"["+n.name+"]"+(n.descending?" DESC":"")}).join(","):""},t.prototype._getModeClause=function(n){switch(n){case o.LinkQueryMode.LinksMustContain:return"mode(MustContain)";case o.LinkQueryMode.LinksMayContain:return"mode(MayContain)";case o.LinkQueryMode.LinksDoesNotContain:return"mode(DoesNotContain)";case o.LinkQueryMode.LinksRecursive:return"mode(Recursive)";case o.LinkQueryMode.LinksRecursiveReturnMatchingChildren:return"mode(Recursive, ReturnMatchingChildren)"}return""},t.prototype._isRecentMentionsMacroEnabled=function(){var t=v.getService(f.WebPageDataService),n=t.getPageData(rt.WorkItemFeatureStateConstants.DataProviderName);return n&&n.recentMentionsMacro},t.prototype._isMyRecentActivityMacroEnabled=function(){var t=v.getService(f.WebPageDataService),n=t.getPageData(rt.WorkItemFeatureStateConstants.DataProviderName);return n&&n.myRecentActivityMacro},t.prototype._isRecentProjectActivityMacroEnabled=function(){var t=v.getService(f.WebPageDataService),n=t.getPageData(rt.WorkItemFeatureStateConstants.DataProviderName);return n&&n.recentProjectActivityMacro},t}(p.TfsService);t.QueryAdapter=st;tt.initClassPrototype(st,{store:null,queryableFields:null,availableOperators:null,availableFieldValues:null,oneHopLinkTypes:null,recursiveLinkTypes:null,getLocalizedOperator:ft.getLocalizedOperator,getInvariantOperator:ft.getInvariantOperator,isGroupOperator:ft.isGroupOperator,isInOperator:ft.isInOperator,isMultipleValueOperator:ft.isMultipleValueOperator,isFieldComparisonOperator:ft.isFieldComparisonOperator,isMeMacro:ft.isMeMacro,isIdentityFieldStringOperator:ft.isIdentityFieldStringOperator,isProjectMacro:ft.isProjectMacro,isOrOperator:ft.isOrOperator})});

define("WorkItemTracking/Scripts/Controls/Query/QueryFilter",["require","exports","VSS/Controls/Combos","VSS/Utils/String","VSS/Utils/Array","VSS/Diag","WorkItemTracking/Scripts/Controls/Fields/FieldsFilterControl","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","TfsCommon/Scripts/WITIdentityHelpers","WorkItemTracking/Scripts/Controls/Fields/FieldsFilterAreaControl","WorkItemTracking/Scripts/Controls/Fields/FieldsFilterClassificationControl","WorkItemTracking/Scripts/Controls/Fields/FieldsFilterEmptyControl","WorkItemTracking/Scripts/Controls/Fields/FieldsFilterIterationControl","WorkItemTracking/Scripts/OM/QueryAdapter","WorkItemTracking/Scripts/OM/WiqlOperators","WorkItemTracking/Scripts/TFS.WorkItemTracking.Helpers","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.Common","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/TFS.WorkItemTracking","VSS/Identities/Picker/Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){Object.defineProperty(t,"__esModule",{value:!0});t.QueryFilter=void 0;var g=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"query-filter"},t))},t.prototype.setParameters=function(n,t,i){this._queryProvider=n;this._queryAdapter=n.project.store.tfsConnection.getService(v.QueryAdapter);var r=this._project;this._project=i;this.setFilter(t)||i===r||this._createClauseTable()},t.prototype._getDefaultClause=function(){return{logicalOperator:w.WiqlOperators_And,fieldName:"",operator:w.WiqlOperators_EqualTo,value:"",index:0}},t.prototype._updateAndOrControl=function(n,t){n.setText(t.logicalOperator);n.setSource([w.WiqlOperators_And,w.WiqlOperators_Or])},t.prototype._updateFieldControl=function(n,t){n.setText(t.fieldName);this._queryAdapter.beginGetQueryableFields(this._project,function(t){n._disposed||n.setSource(t)})},t.prototype._updateOperatorControl=function(n,t,i){function e(f){var e,s;f=f||[];f.length?(n.setSource(f),n.setMode(f.length?"drop":"text")):(n.setSource([]),n.setMode("text"));i&&(t.operator&&(u.contains(f,t.operator,r.localeIgnoreCaseComparer)||(t.operator="",t.value="")),!t.operator&&f.length&&(e=o._queryAdapter.getField(t.fieldName),e&&e.id===b.CoreField.Title?(s=void 0,s=e.supportsTextQuery()?y.WiqlOperators.OperatorContainsWords:y.WiqlOperators.OperatorContains,t.operator=o._queryAdapter.getLocalizedOperator(s)):t.operator=f[0]));n.setText(t.operator||"")}var o=this,s=!0;t.fieldName?(f.logTracePoint("QueryEditor._updateOperatorControl.async-pending"),this._queryAdapter.beginGetAvailableOperators(t.fieldName,function(t){s=!1;n._disposed||e(t);f.logTracePoint("QueryEditor._updateOperatorControl.async-complete")}),s&&e([w.WiqlOperators_EqualTo])):e([w.WiqlOperators_EqualTo])},t.prototype.getClauseValue=function(n,t){var i,u,r,f;return this._isIdentityPickerSupported(t)&&!this._queryAdapter.isIdentityFieldStringOperator(t.operator)?(i=n.getControl(),this._queryAdapter.isMultipleValueOperator(t.operator)?(u=$.map(i.getIdentitySearchResult().resolvedEntities||[],function(n){return s.WITIdentityHelpers.getUniquefiedIdentityName(n)}),p.WITIdentityControlHelpers.toIdentityListString(u)):(r=i.getIdentitySearchResult().resolvedEntities,r&&r.length===1?s.WITIdentityHelpers.getUniquefiedIdentityName(r[0]):(f=i.getElement().find("input"),f.val()))):n.getText()},t.prototype._setupCommonIdentityControl=function(n,t,i){var h=this._queryAdapter.isMultipleValueOperator(t.operator),y=this._queryAdapter.isGroupOperator(t.operator),e,c=[],l=[],a=function(n){var t=s.WITIdentityHelpers.parseUniquefiedIdentityName(n),i=s.WITIdentityHelpers.getEntityIdentifier(t,!1,!0);i?l.push(i):c.push(t)},f,u,v;h?(t.value&&(f=p.WITIdentityControlHelpers.parseIdentityListString(t.value),f&&f.length>0&&$.each(f,function(n,t){a(t)})),this._bind(d.IdentityPickerSearchControl.RESOLVED_INPUT_REMOVED_EVENT,function(){n.fireChange()}),e="identity-picker-container multi-select"):(t.value&&a(t.value),e="identity-picker-container");u=p.WITIdentityControlHelpers.setupCommonIdentityPickerOptions(h,!y,i,function(){n.fireChange()},function(){return n.getControl().getDropdownPrefix()},null);u.containerCssClass=e;u.consumerId="78379551-82F5-48A3-9AC5-6A810CB22599";u.ariaLabel=r.format(o.FieldValueIdentityPickerAriaLabel,t&&t.fieldName?t.fieldName:"");n.setControl(d.IdentityPickerSearchControl,u);v=n.getControl().getElement().find("input");v.keyup(function(){n.fireChange()});n.getControl().setEntities(c,l)},t.prototype._updateValueControl=function(n,t){var v=this,nt,ut=function(){return nt},p=this._isIdentityPickerSupported(t),w=this._queryAdapter.isIdentityFieldStringOperator(t.operator),u=this._project||this._queryProvider.project,k=u?u.guid:this._options.tfsContext.navigation.projectId,tt=u?u.name:this._options.tfsContext.navigation.project,it=!this._project,d=this._queryAdapter.getField(t.fieldName),e=r.format(o.FieldValueComboAriaLabel,t&&t.fieldName?t.fieldName:""),s,g,rt;p&&!w?this._setupCommonIdentityControl(n,t,ut):this._isIterationPickerSupported(t)?(s={projectId:k,projectName:tt,crossProject:it,label:e,field:d},n.setControl(a.FieldsFilterIterationControl,s),n.setText(t.value)):this._isAreaPickerSupported(t)?(s={projectId:k,projectName:tt,crossProject:it,label:e,field:d},n.setControl(h.FieldsFilterAreaControl,s),n.setText(t.value)):this._isReactClassificationPickerSupported(t)?(n.setControl(c.FieldsFilterClassificationControl,{inputAriaLabel:e,field:d,projectId:k,skipPathTruncation:!0}),n.setText(t.value)):this._isEmptySupported(t)?(n.setControl(l.FieldsFilterEmptyControl,{}),t.value=""):(n.setControl(i.Combo,{label:e}),n.setText(t.value));t.fieldName&&t.operator?p&&w?n.setEnabled(!0):(f.logTracePoint("QueryEditor._updateValueControl.async-pending"),n.setEnabled(!0),g=n.getControl(),rt=!!this._project,this._queryAdapter.beginGetAvailableFieldValues(u,t.fieldName,t.operator,!0,rt,function(i){if(g&&!g._disposed){var e=v._queryAdapter.getFieldType(null,t.fieldName),u=v._queryAdapter.getField(t.fieldName);p&&!w?nt=i:(u&&u.id===b.CoreField.Id&&r.localeIgnoreCaseComparer(t.operator,y.WiqlOperators.OperatorIn)!==0&&r.localeIgnoreCaseComparer(t.operator,y.WiqlOperators.OperatorNotIn)!==0&&(i=[]),v._updateFieldValues(n,e,i,!0))}f.logTracePoint("QueryEditor._updateValueControl.async-complete")})):n.setEnabled(!1)},t.prototype._validateClause=function(n){var i=this,t=n.clause;t.fieldName&&t.operator?this._queryAdapter.beginEnsureFields(function(){var f=i._queryAdapter.getField(t.fieldName);f?(n.fieldNameControl.setInvalid(!1),i._queryAdapter.beginGetAvailableOperators(t.fieldName,function(i){i&&u.contains(i,t.operator,r.localeIgnoreCaseComparer)?n.operatorControl.setInvalid(!1):n.operatorControl.setInvalid(!0)})):(n.fieldNameControl.setInvalid(!0),n.operatorControl.setInvalid(r.localeIgnoreCaseComparer(t.operator,w.WiqlOperators_EqualTo)!==0))}):(n.fieldNameControl.setInvalid(!1),n.operatorControl.setInvalid(!1))},t.prototype._handleFieldNameChanged=function(n,t){var i=this,r=n.clause;f.logTracePoint("QueryEditor._onClauseChange.async-pending");this._queryAdapter.beginEnsureFields(function(){var u=i._queryAdapter.getField(r.fieldName),e=i._queryAdapter.getField(t);u&&((i._queryAdapter.getFieldType(u,t)!==i._queryAdapter.getFieldType(u,r.fieldName)||u.id===b.CoreField.Title||e&&k.isIdentityPickerSupportedForField(u)!==k.isIdentityPickerSupportedForField(e))&&(r.operator="",i._shouldClearClauseValueOnFieldChange(u,e)&&(r.value="")),i._updateOperatorControl(n.operatorControl,r,!0),i._updateValueControl(n.valueControl,r));f.logTracePoint("QueryEditor._onClauseChange.async-complete")})},t.prototype._handleOperatorChanged=function(n,t){var i=n.clause,r=this._queryAdapter.getField(i.fieldName);(this._queryAdapter.isGroupOperator(t)!==this._queryAdapter.isGroupOperator(i.operator)||this._queryAdapter.isFieldComparisonOperator(t)!==this._queryAdapter.isFieldComparisonOperator(i.operator)||k.isIdentityPickerSupportedForField(r)&&this._queryAdapter.isMultipleValueOperator(t)!==this._queryAdapter.isMultipleValueOperator(i.operator)||k.isIdentityPickerSupportedForField(r)&&this._queryAdapter.isIdentityFieldStringOperator(t)!==this._queryAdapter.isIdentityFieldStringOperator(i.operator)||this._queryAdapter.isMultipleValueOperator(t)!==this._queryAdapter.isMultipleValueOperator(i.operator)||this._isEmptySupported(i)!==this._isEmptySupported(__assign(__assign({},i),{operator:t})))&&(i.value="");this._updateValueControl(n.valueControl,i)},t.prototype._shouldClearClauseValueOnFieldChange=function(n,t){var i=n?n.type===b.FieldType.TreePath:!1,r=n?n.isIdentity:!1,u=t?t.type===b.FieldType.TreePath:!1,f=t?t.isIdentity:!1;return i!==u||r!==f?!0:!1},t.prototype._isEmptySupported=function(n){var i,t,u=(i={},i[y.WiqlOperators.OperatorIsEmpty]=undefined,i[y.WiqlOperators.OperatorIsNotEmpty]=undefined,i),f=(t={},t[b.FieldType.History]=undefined,t[b.FieldType.PlainText]=undefined,t[b.FieldType.Html]=undefined,t),r=this._queryAdapter.getField(n.fieldName),e=y.getInvariantOperator(n.operator);return r&&r.type in f&&e in u},t.prototype._isIterationPickerSupported=function(n){var t,r=(t={},t[y.WiqlOperators.OperatorIn]=undefined,t[y.WiqlOperators.OperatorNotIn]=undefined,t),i;return this._queryAdapter.areFieldsLoaded()?(i=this._queryAdapter.getField(n.fieldName),i&&i.referenceName===b.CoreFieldRefNames.IterationPath&&!(y.getInvariantOperator(n.operator)in r)):!1},t.prototype._isAreaPickerSupported=function(n){var t,r,i;return this._queryAdapter.areFieldsLoaded()?(r=(t={},t[y.WiqlOperators.OperatorEqualTo]=undefined,t[y.WiqlOperators.OperatorNotEqualTo]=undefined,t),i=this._queryAdapter.getField(n.fieldName),i&&i.referenceName===b.CoreFieldRefNames.AreaPath&&y.getInvariantOperator(n.operator)in r):!1},t.prototype._isIdentityPickerSupported=function(n){if(this._queryAdapter.areFieldsLoaded()){var t=this._queryAdapter.getField(n.fieldName);return k.isIdentityPickerSupportedForField(t)&&!this._queryAdapter.isFieldComparisonOperator(n.operator)}return!1},t.prototype._isReactClassificationPickerSupported=function(n){if(this._queryAdapter.areFieldsLoaded()){var t=this._queryAdapter.getField(n.fieldName);return t&&t.type===b.FieldType.TreePath}return!1},t.prototype._setDirty=function(){this._queryProvider.setDirty(!0)},t.enhancementTypeName="tfs.wit.queryFilter",t}(e.FieldsFilterControl);t.QueryFilter=g});

define("WorkItemTracking/Scripts/Utils/WorkItemViewActions",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemViewActions=void 0;var i;(function(n){n.WORKITEM_VIEW_MESSAGE_CHANGE="work-item-view-message-change";n.WORKITEM_VIEW_INFO_CHANGE="work-item-view-info-change"})(i=t.WorkItemViewActions||(t.WorkItemViewActions={}))});

define("WorkItemTracking/Scripts/Controls/Query/QueryResultInfoBar",["require","exports","react","react-dom","VSS/Controls","VSS/Controls/PopupContent","VSS/Utils/UI","VSS/VSS","OfficeFabric/MessageBar","OfficeFabric/Utilities","VSS/Events/Services","WorkItemTracking/Scripts/Utils/WorkItemViewActions"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.QueryResultInfoBar=void 0;var a=c.getService(),y=function(){function n(){this.store={}}return n.prototype.get=function(n){return this.store[n]||(this.store[n]={}),this.store[n]},n}(),v=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._currentMessages=new y,i._updateDescription=function(n){if(n){if(i._descriptionControl)i._descriptionControl.setTextContent(n);else{i._$descriptionElement.attr("tabindex","0").keydown(function(n){n.keyCode===e.KeyCode.ENTER&&i._$descriptionElement.click()});var t={cssClass:"description-popup-content-container",openCloseOnHover:!1,text:n};i._descriptionControl=u.Enhancement.enhance(f.RichContentTooltip,i._$descriptionElement,t)}i._$descriptionElement.show()}else i._$descriptionElement.hide()},i}return __extends(t,n),t.processLinks=function(n){var r=[],t,f,u;for(n=n.replace(/[\n\r]+/g," ");n&&(t=n.match(/^(.*?)(?:<a href="(.*?)">(.*?)<\/a>(.*))?$/));)t[1]&&r.push(t[1]),n=t[4],f=t[2],u=t[3],u&&r.push(i.createElement("a",{href:f},u));return r},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,__assign({coreCssClass:"query-result-grid-info",showQueryTitle:!1},t))},t.prototype.dispose=function(){this.unbind();n.prototype.dispose.call(this)},t.prototype.bind=function(n){this._view=n;this._view._bind("statusUpdate",this._update);a.attachEvent(l.WorkItemViewActions.WORKITEM_VIEW_INFO_CHANGE,this._onInfo);this._$errorMessageBarContainer=$("<div />").addClass("error-message-container").appendTo(this._element);this._$queryInfoContainer=$("<div />").addClass("query-result-info-bar").appendTo(this._element);this._$titleElement=$("<div />").addClass("query-title").appendTo(this._$queryInfoContainer);this._$descriptionElement=$("<div />").addClass("query-description icon icon-info-white").appendTo(this._$queryInfoContainer);this._$statusElement=$("<div />").addClass("query-status").appendTo(this._$queryInfoContainer)},t.prototype.unbind=function(){a.detachEvent(l.WorkItemViewActions.WORKITEM_VIEW_INFO_CHANGE,this._onInfo);this._view&&(this._view._unbind("statusUpdate",this._update),this._view=null);this._options&&this._options.keepTitle||this._$titleElement.text("");this._$statusElement.text("");r.unmountComponentAtNode(this._$errorMessageBarContainer[0])},t.prototype.updateMessages=function(n){function a(n){var t=Object.keys(n).length;switch(t){case 2:return e;case 1:return f;default:return""}}var c=this,f="below-1-message",e="below-2-messages",l=a(n);$(".right-hub-content").removeClass(f).removeClass(e).addClass(l);var o=n.info,h=n.error,u=[];o&&u.push(i.createElement(s.MessageBar,{messageBarType:s.MessageBarType.info,onDismiss:function(){return c._onInfo(null,"")}},t.processLinks(o)));h&&u.push(i.createElement(s.MessageBar,{messageBarType:s.MessageBarType.error},t.processLinks(h)));r.render(i.createElement("div",{className:"messages"},u),this._$errorMessageBarContainer[0])},t.prototype._onInfo=function(n,t){var i=this._currentMessages.get(this._getQueryId());t?i.info=t:delete i.info;this.updateMessages(i)},t.prototype._getQueryId=function(){return this._view.getProvider().getId()},t.prototype._update=function(n,t,i){var u=i?o.getErrorMessage(t):t,e=this._currentMessages.get(this._getQueryId()),s,h;i?e.error=u:delete e.error;this.updateMessages(e);u&&(i?this._$statusElement.text(""):this._$statusElement.text(u));s=this._options.showQueryTitle;s&&this._view&&this._view.getProvider()?(h=this._view.getProvider().getTitle(),this._$titleElement.text(h),f.RichContentTooltip.addIfOverflow(h,this._$titleElement),this._view.getProvider().beginGetDescription(this._updateDescription)):(r.unmountComponentAtNode(this._$titleElement[0]),this._$titleElement.empty(),this._$descriptionElement.hide());this._$queryInfoContainer.toggleClass("no-title",!s)},t.enhancementTypeName="tfs.wit.queryResultGridInfo",__decorate([h.autobind],t.prototype,"_onInfo",null),__decorate([h.autobind],t.prototype,"_update",null),t}(u.BaseControl);t.QueryResultInfoBar=v;u.Enhancement.registerEnhancement(v,".query-result-grid-info")});

define("WorkItemTracking/Scripts/Queries/Components/QuerySaveDialog.Renderer",["require","exports","VSS/VSS"],function(n,t,i){function r(n,t,r,u,f,e){i.using(["WorkItemTracking/Scripts/Queries/Components/QuerySaveDialog"],function(i){e&&e()||i.showDialog(n,t,r,u,f)})}Object.defineProperty(t,"__esModule",{value:!0});t.showDialog=void 0;t.showDialog=r});

define("WorkItemTracking/Scripts/Queries/Models/Models",["require","exports"],function(n,t){var i,r,u,f,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.ActiveQueryView=t.QuerySearchStatus=t.QueriesColumnKey=t.QueryContribution=t.QuerySaveDialogMode=t.QueryLoadingState=void 0,function(n){n[n.Loading=0]="Loading";n[n.Loaded=1]="Loaded"}(i=t.QueryLoadingState||(t.QueryLoadingState={})),function(n){n[n.NewQuery=0]="NewQuery";n[n.NewFolder=1]="NewFolder";n[n.RenameQuery=2]="RenameQuery";n[n.RenameFolder=3]="RenameFolder";n[n.SaveAs=4]="SaveAs"}(r=t.QuerySaveDialogMode||(t.QuerySaveDialogMode={})),function(n){n[n.Directory=0]="Directory";n[n.Triage=1]="Triage"}(u=t.QueryContribution||(t.QueryContribution={})),function(n){n.Title="title";n.Folder="folder";n.LastModifiedBy="lastModifiedBy"}(f=t.QueriesColumnKey||(t.QueriesColumnKey={})),function(n){n[n.None=0]="None";n[n.Pending=1]="Pending";n[n.InProgress=2]="InProgress";n[n.ResultsReady=3]="ResultsReady"}(e=t.QuerySearchStatus||(t.QuerySearchStatus={})),function(n){n[n.Favorites=0]="Favorites";n[n.All=1]="All"}(o=t.ActiveQueryView||(t.ActiveQueryView={}))});

define("WorkItemTracking/Scripts/Utils/TelemetryUtils",["require","exports","VSS/Telemetry/Services","WorkItemTracking/Scripts/TFS.WorkItemTracking"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.TelemetryUtils=void 0;var u;(function(n){function t(n,t,r){if(r.column||r.lane||r.done){var u={};r.column&&$.extend(u,{column:r.column});r.lane&&$.extend(u,{lane:r.lane});r.done&&$.extend(u,{done:r.done});i.publishEvent(new i.TelemetryEventData(n,t,u))}}function f(n){var o,i,u,f,t,e;if(n&&n.allLinks){for(o=n.allLinks,i={workItemLinkCount:0,attachmentCount:0,hyperLinkCount:0,externalLinkCount:0,externalLinkDetails:{}},u=0,f=o;u<f.length;u++)t=f[u],t instanceof r.Attachment?i.attachmentCount++:t instanceof r.ExternalLink?(t.linkData&&t.linkData.OriginalName&&(e=i.externalLinkDetails[t.linkData.OriginalName],i.externalLinkDetails[t.linkData.OriginalName]=e?e+1:1),i.externalLinkCount++):t instanceof r.WorkItemLink?i.workItemLinkCount++:t instanceof r.Hyperlink&&i.hyperLinkCount++;return i}return null}n.recordBoardFieldsUsageChange=t;var u=function(){function n(){this.column=!1;this.lane=!1;this.done=!1}return n}();n.BoardFieldUsageData=u;n.getWorkItemLinkTelemetryDetails=f})(u=t.TelemetryUtils||(t.TelemetryUtils={}))});

define("WorkItemTracking/Scripts/Utils/QueryTelemetry",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/Scripts/Utils/TelemetryUtils"],function(n,t,i,r,u){function e(n,t){var e,o;n&&(n=n.toLowerCase(),e=n.indexOf("where"),e!==-1&&(o=new u.TelemetryUtils.BoardFieldUsageData,f(n,i.CoreFieldRefNames.BoardColumn,e)&&(o.column=!0),f(n,i.CoreFieldRefNames.BoardColumnDone,e)&&(o.done=!0),f(n,i.CoreFieldRefNames.BoardLane,e)&&(o.lane=!0),u.TelemetryUtils.recordBoardFieldsUsageChange(r.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,t,o)))}function f(n,t,i){t=t.toLowerCase();var r=n.indexOf(t,i);return r!==-1}function o(n,t){var f=new u.TelemetryUtils.BoardFieldUsageData;n&&Array.isArray(n)&&n.forEach(function(n){if(n&&n.fieldId)switch(n.fieldId){case i.CoreField.BoardColumn:f.column=!0;break;case i.CoreField.BoardColumnDone:f.done=!0;break;case i.CoreField.BoardLane:f.lane=!0}});u.TelemetryUtils.recordBoardFieldsUsageChange(r.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,t,f)}Object.defineProperty(t,"__esModule",{value:!0});t.recordBoardFieldUsageInColumns=t.recordBoardFieldUsageInQueryFilters=void 0;t.recordBoardFieldUsageInQueryFilters=e;t.recordBoardFieldUsageInColumns=o});

define("WorkItemTracking/Scripts/Controls/WorkItemsProvider",["require","exports","q","VSS/Utils/String","VSS/Diag","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/VSS","VSS/Events/Handlers","VSS/Events/Services","VSS/Telemetry/Services","WorkItemTracking/Scripts/OM/QueryAdapter","WorkItemTracking/Scripts/OM/QueryConstants","WorkItemTracking/Scripts/OM/QueryItem","WorkItemTracking/Scripts/Queries/Components/QuerySaveDialog.Renderer","WorkItemTracking/Scripts/Queries/Models/Models","WorkItemTracking/Scripts/Utils/PerfScenarioManager","WorkItemTracking/Scripts/Utils/WorkItemTrackingCIEventHelper","WorkItemTracking/Scripts/Utils/QueryTelemetry","WorkItemTracking/Scripts/CustomerIntelligence"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){var tt,d,g,nt;Object.defineProperty(t,"__esModule",{value:!0});t.SearchResultsProvider=t.QueryResultsProvider=t.WorkItemsProvider=void 0;tt=e.handleError;d=function(){function n(n){this.options=n||{}}return n.prototype.getId=function(){return null},n.prototype.getVersion=function(){return this._version},n.prototype._incrementVersion=function(){this._version=this._version+1},n.prototype.getTitle=function(){return""},n.prototype.beginGetResults=function(){},n.prototype.isDirty=function(){return this._dirty===!0},n.prototype.setDirty=function(t,i){this.isEditable()&&this._dirty!==t&&(this._dirty=t,i||(this.options.suppressGlobalFire||this._fireGlobalDirtyChanged(),this._fireEvent(n.EVENT_CHANGED,this,{change:"dirtyState"})))},n.prototype._fireGlobalDirtyChanged=function(){s.getService().fire(n.EVENT_QUERY_PROVIDER_DIRTY_CHANGED,this)},n.prototype.isEditable=function(){return!1},n.prototype.invalidateResults=function(){this.resultsValid=!1},n.prototype.setColumnWidth=function(){},n.prototype.setColumns=function(){},n.prototype.setSortColumns=function(){},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){if(this._events){var r;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},n.prototype.attachEvent=function(n,t){this._events||(this._events=new o.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.prototype.clearEvents=function(){this._events=new o.NamedEventCollection},n.EVENT_REFRESH_REQUIRED="refresh-required",n.EVENT_CHANGED="changed",n.EVENT_QUERY_PROVIDER_DIRTY_CHANGED="query-provider-dirty-state-changed",n}();t.WorkItemsProvider=d;g=function(n){function t(t,i,r){var u=__construct(this,n,[i]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);if(u.options=i||{},u.queryEditable=!0,u.project=i&&i.project||t.project,u.update(t),u._workItemIdToIndices={},u._queriesHubContext=i&&i.queriesHubContext,!u._queriesHubContext)try{throw new Error;}catch(e){h.publishEvent(new h.TelemetryEventData(k.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,k.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_QUERY_RESULTS_PROVIDER,{stackTrace:e.stack}))}return r&&(u.queryResultsModel=r),u._isDisposed=!1,u}return __extends(t,n),t._createInstance=function(n,i,r){var u;return this._specialProviders&&$.each(this._specialProviders,function(t,i){if(i.supports(n))return u=i,!1}),u?new u(n,i,r):new t(n,i)},t.registerSpecialProvider=function(n){this._specialProviders=this._specialProviders||[];this._specialProviders.push(n)},t.get=function(n,t,i,r){var u=this._providerCache,e=n&&(n.id||n.name),f;return e?(f=u&&u[e],f||i||(u||(this._providerCache=u={}),f=this._createInstance(n,t),r||(u[e]=f)),f):null},t.invalidateQueryResults=function(){for(var i,r=this.getCachedProviders(),n=0,t=r;n<t.length;n++)i=t[n],i.resultsValid=!1},t.peek=function(n){return this._providerCache?typeof n=="string"?this._providerCache[n]:this._providerCache[n.id||n.name]:null},t.remove=function(n){this._providerCache&&delete this._providerCache[n]},t.getCachedProviders=function(){var n=[],t=this._providerCache;return t&&$.each(t,function(t,i){n.push(i)}),n},t.isDirty=function(){var n=!1,t=this._providerCache;return t&&$.each(t,function(t,i){if(i&&i.isDirty())return n=!0,!1}),n},t.isRecycleBinQueryResultsProvider=function(n){return n&&n instanceof t&&n.queryDefinition&&a.QueryDefinition.isRecycleBinQuery(n.queryDefinition)},t.prototype.getId=function(){return this.queryDefinition.id},t.prototype.dispose=function(){this._isDisposed=!0},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.getUniqueId=function(){return this.queryDefinition&&(this.queryDefinition.tempQueryId||this.queryDefinition.id)},t.prototype.getPath=function(){return this.queryDefinition.storedPath},t.prototype.getTitle=function(){return this.queryDefinition.name},t.prototype.beginGetDescription=function(n,t){var i="",u;a.QueryDefinition.isRecycleBinQuery(this.queryDefinition)?(u=function(t){t>0&&(i=r.format(f.RecyclebinCleanupMessage,t));n(i)},e.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.RecycleBin"],function(n){n.RecycleBin.beginGetCleanUpSetting(u)},t)):n(i)},t.prototype.isCustomQuery=function(){return this.queryDefinition&&this.queryDefinition.customQuery},t.prototype.isSaveable=function(){return this.isDirty()&&this.isEditable()&&!this.isCustomQuery()},t.prototype.isEditable=function(){return!this.queryDefinition.specialQuery||a.QueryDefinition.isCustomizableSpecialQuery(this.queryDefinition)},t.prototype._fireGlobalDirtyChanged=function(){n.prototype._fireGlobalDirtyChanged.call(this);this.options.queriesHubContext&&this.options.queriesHubContext.triageViewActionCreator.updateProvider(this)},t.prototype.beginGetResults=function(n,t,i,r){var u=this,o=function(i){u._isDisposed||(u.queryResultsModel?(delete u.queryResultsModel.payload,delete u.queryResultsModel.pageColumns,u.queryResultsModel.sourceIds=[],u.queryResultsModel.targetIds=[],u.queryResultsModel.isLinkQuery=l.LinkQueryMode.isLinkQuery(u.queryResultsModel.editInfo.mode),u.queryResultsModel.isTreeQuery=l.LinkQueryMode.isTreeQuery(u.queryResultsModel.editInfo.mode),u.queryResultsModel.error=i,u._updateModel(u.queryResultsModel),typeof n=="function"&&n.call(u,u.queryResultsModel)):tt(i,t||u.options.errorCallback,u))},f,e;this._hasResults()?typeof n=="function"&&n.call(this,__assign(__assign({},this.queryResultsModel),{queryRan:i,isCachedData:!0})):(f=this.getColumns(),e=this.getSortColumns(),this._beginQuery(function(t){u._isDisposed||(w.QueryCIEvents.publishEvent(w.QueryCIEvents.EVENTS_QUERY_EXECUTED,{isDirty:u.isDirty(),isCustomQuery:u.isCustomQuery(),queryId:u.queryDefinition&&u.queryDefinition.id,queryTempId:u.queryDefinition&&u.queryDefinition.tempQueryId,queryType:u.queryDefinition&&u.queryDefinition.queryType}),u._updateModel(t),typeof n=="function"&&n.call(u,t),t&&b.recordBoardFieldUsageInColumns(t.columns,k.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_QUERY_WORK_ITEM))},o,$.extend({fields:f&&f.length?f:undefined,sortFields:e&&e.length?e:undefined,runQuery:i,top:this.bypassSoftCap?-1:null,persistenceId:this.queryDefinition&&this.queryDefinition.id,isDirty:this.isDirty()},r)))},t.prototype._beginQuery=function(n,t,i){var r=this;this.beginGetQueryText(function(u){r.project.beginQuery(u,n,t,i)},t)},t.prototype.wiqlUpdateNeeded=function(){return this.isDirty()||this.isCustomQuery()},t.prototype.getQueryText=function(){var n=i.defer();return this.beginGetQueryText(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise},t.prototype.beginGetQueryText=function(n,t){this.queryResultsModel?this.wiqlUpdateNeeded()?(p.PerfScenarioManager.addSplitTiming(k.PerformanceEvents.QUERY_GETQUERYTEXT,!0),this.project.store.tfsConnection.getService(c.QueryAdapter).beginGenerateWiql(this.queryResultsModel.editInfo,$.map(this.queryResultsModel.columns,function(n){return n.name}),this.queryResultsModel.sortColumns,function(t){p.PerfScenarioManager.addSplitTiming(k.PerformanceEvents.QUERY_GETQUERYTEXT,!1);n(t)},t)):typeof n=="function"&&n.call(this,this.queryResultsModel.wiql):typeof n=="function"&&n.call(this,this.originalQuery)},t.prototype.revertEditInfo=function(n){n===void 0&&(n=!0);this.queryResultsModel&&(this.queryResultsModel.wiql=this.originalQuery,this.queryResultsModel.editInfo=$.extend(!0,{},this.originalEditInfo),this.queryResultsModel.columns=(this.originalColumns||[]).slice(0),this.queryResultsModel.sortColumns=(this.originalSortColumns||[]).slice(0),this.invalidateResults(),this._incrementVersion(),this.setDirty(!1),n&&this._fireEvent(t.EVENT_QUERY_RESULTS_MODEL_CHANGED))},t.prototype.getColumns=function(){return this.queryResultsModel?$.map(this.queryResultsModel.columns||[],function(n){return n.width>=0?n.name+";"+n.width:n.name}):[]},t.prototype.getSortColumns=function(){return this.queryResultsModel?$.map(this.queryResultsModel.sortColumns||[],function(n){return n.name+(n.descending?";desc":";asc")}):[]},t.prototype.updateQueryResultModelPayloadRow=function(n,t){var i=this.getWorkItemIndicesById(n);i.length>0&&t&&(this.queryResultsModel.payload.rows[i[0]]=t)},t.prototype._updateModel=function(n,i){i===void 0&&(i=!1);n?(!this.originalEditInfo||i)&&(this.originalQuery=n.wiql,this.originalEditInfo=$.extend(!0,{},n.editInfo),this.originalColumns=(n.columns||[]).slice(0),this.originalSortColumns=(n.sortColumns||[]).slice(0)):(this.originalEditInfo=null,this.originalColumns=null,this.originalSortColumns=null);this.queryResultsModel=n;this._buildWorkItemIdToIndices();this.resultsValid=!0;this._incrementVersion();this._fireEvent(t.EVENT_QUERY_RESULTS_MODEL_CHANGED)},t.prototype._buildWorkItemIdToIndices=function(){var n,t;if(this._workItemIdToIndices={},this.queryResultsModel&&this.queryResultsModel.targetIds)for(n=0;n<this.queryResultsModel.targetIds.length;n++)t=this.queryResultsModel.targetIds[n],this._workItemIdToIndices[t]?this._workItemIdToIndices[t].push(n):this._workItemIdToIndices[t]=[n]},t.prototype.getWorkItemIndicesById=function(n){return this._workItemIdToIndices[n]||[]},t.prototype.getDescendantCount=function(n){var t=0,i,r,u;if(this.queryResultsModel.sourceIds)for(i=this.queryResultsModel.sourceIds.length,r=this.getAncestors(n),n+=1;n<i;)if(u=this.queryResultsModel.sourceIds[n]||0,r[u])break;else t++,n++;return t},t.prototype.getAncestors=function(n){var i={},t=this.queryResultsModel.sourceIds[n],r,f,u;for(i[t]=!0;t!==0;){if(r=this.getWorkItemIndicesById(t),r.length===0)break;f=r[0];u=this.queryResultsModel.sourceIds[f];i[u]=!0;t=u}return i},t.prototype.removeWorkItem=function(n){var t,i,r;if(t=this.getWorkItemIndicesById(n),t===undefined||t.length===0)return!1;while(t.length>0)i=t[0],r=this.getDescendantCount(i)+1,this._removeAtIndex(i,r),this._buildWorkItemIdToIndices(),t=this.getWorkItemIndicesById(n);return!0},t.prototype._removeAtIndex=function(n,t){n>=0&&n<this.queryResultsModel.targetIds.length&&(this.queryResultsModel.targetIds.splice(n,t),this.queryResultsModel.payload.rows.splice(n,t),this.queryResultsModel.sourceIds&&(this.queryResultsModel.sourceIds.splice(n,t),this.queryResultsModel.linkIds.splice(n,t)))},t.prototype.update=function(n,t,i){i===void 0&&(i=!0);this.queryDefinition=n;this.originalQuery=n.queryText;this.queryResultsModel?(this.queryResultsModel.error=t,this.queryResultsModel.error?(this.resultsValid=!0,this.setDirty(!0)):(this.queryResultsModel.wiql=this.originalQuery,this.originalEditInfo=$.extend(!0,{},this.queryResultsModel.editInfo),this.originalColumns=(this.queryResultsModel.columns||[]).slice(0),this.originalSortColumns=(this.queryResultsModel.sortColumns||[]).slice(0),this.setDirty(n.isDirty),this._fireEvent(d.EVENT_REFRESH_REQUIRED))):this.setDirty(n.isDirty);this._incrementVersion();i&&this._fireEvent(d.EVENT_CHANGED,this,{change:"queryDefinition"})},t.prototype.reset=function(n,t){this.queryResultsModel=null;this._workItemIdToIndices={};this.invalidateResults();this.update(n);t||this._fireEvent(d.EVENT_REFRESH_REQUIRED)},t.prototype.getResultsCount=function(){return this._hasResults()?this.queryResultsModel.targetIds.length:0},t.prototype.setColumns=function(n){var i,u,t,f;if(this.queryResultsModel){if(n=n||[],u=this.queryResultsModel.columns||[],n.length!==u.length)i=!0;else for(t=0,f=n.length;t<f;t++)if(n[t]!==null&&r.ignoreCaseComparer(n[t].name,u[t].name)!==0){i=!0;break}this.queryResultsModel.columns=n;i&&(this._incrementVersion(),this.setDirty(!0),this._fireEvent(d.EVENT_CHANGED,this,{change:"columns",oldColumns:u,newColumns:n}))}return i},t.prototype.setSortColumns=function(n){var i,u,t,f;if(this.queryResultsModel){if(n=n||[],u=this.queryResultsModel.sortColumns||[],n.length!==u.length)i=!0;else for(t=0,f=n.length;t<f;t++){if(r.ignoreCaseComparer(n[t].name,u[t].name)!==0){i=!0;break}if(Boolean(n[t].descending)!==Boolean(u[t].descending)){i=!0;break}}this.queryResultsModel.sortColumns=n;i&&(this._incrementVersion(),this.setDirty(!0),this._fireEvent(d.EVENT_CHANGED,this,{change:"sortColumns",oldColumns:u,newColumns:n}))}return i},t.prototype.setColumnWidth=function(n,t){var i=[];this.queryResultsModel&&this.queryResultsModel.columns&&($.each(this.queryResultsModel.columns,function(u,f){r.ignoreCaseComparer(n,f.name)===0&&(f.width=Math.ceil(t));i[u]=f.name+";"+Math.ceil(f.width)}),!this.options.skipPersistingColumnResize&&this.queryDefinition&&this.queryDefinition.id&&!r.isEmptyGuid(this.queryDefinition.id)&&this.project.beginUpdateColumnOptions(this.queryDefinition.id,i,null,this.options.errorCallback));this._incrementVersion()},t.prototype.beginSave=function(n,t){var i=this,f=function(){var r=i.queryResultsModel.error;r&&r.message?e.handleError(r,t,i):(n&&n(),i.queryDefinition.tempQueryId=null,p.PerfScenarioManager.endScenario(k.WITPerformanceScenario.QUERIESHUB_TRIAGEVIEW_SAVEEXISTINGQUERY),u.logTracePoint("QueryResultGrid.saveQuery.complete"),b.recordBoardFieldUsageInQueryFilters(i.queryDefinition.queryText,k.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_CREATE_QUERY))};this.getQueryText().then(function(n){if(i._queriesHubContext){i.queryDefinition.setQuery(n);var u={wiql:i.queryDefinition.queryText,path:i.queryDefinition.storedPath,name:i.queryDefinition.name};!i.queryDefinition.id||r.isEmptyGuid(i.queryDefinition.id)||a.QueryDefinition.isSearchResults(i.queryDefinition)||a.QueryDefinition.isCustomWiqlQuery(i.queryDefinition)?(p.PerfScenarioManager.abortScenario(k.WITPerformanceScenario.QUERIESHUB_TRIAGEVIEW_SAVEEXISTINGQUERY),u.name="",v.showDialog(i._queriesHubContext,y.QuerySaveDialogMode.NewQuery,u,i.queryDefinition.parentPath,function(n){i._queriesHubContext.stores.queryResultsProviderStore.clear();i._queriesHubContext.navigationActionsCreator.navigateToQueryPreservingSupportedState(n.id,!1)})):(u.id=i.queryDefinition.id,i._queriesHubContext.actionsCreator.updateQuery(u).then(function(n){var t=new a.QueryDefinition(i.project,n);i.update(t,null,!1);f()},t))}},function(n){n&&e.handleError(n,t,i);i.update(i.queryDefinition,n)})},t.prototype.getWorkItemIdAtDataIndex=function(n){if(n>=0&&this._hasResults()&&this.queryResultsModel.targetIds&&this.queryResultsModel.targetIds.length>n)return this.queryResultsModel.targetIds[n]},t.prototype._hasResults=function(){return this.resultsValid&&this.queryResultsModel},t.prototype.updateTempWorkItemId=function(){},t.EVENT_QUERY_RESULTS_MODEL_CHANGED="query-results-model-changed",t._providerCache=null,t._specialProviders=null,t}(d);t.QueryResultsProvider=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.project=t.project,r}return __extends(t,n),t.supports=function(n){return a.QueryDefinition.isSearchResults(n)},t.prototype.newSearch=function(n){this.searchText=n;this.searchDone=!1;this.invalidateResults();this._incrementVersion()},t.prototype.wiqlUpdateNeeded=function(){return!0},t.prototype.getTitle=function(){return this.searchText?r.format("{0}: {1}",this.queryDefinition.name,this.searchText):n.prototype.getTitle.call(this)},t.prototype._beginQuery=function(t,i,r){var u=this;this.searchText?this.searchDone&&this.originalQuery?n.prototype._beginQuery.call(this,t,i,r):this.project.beginSearch(this.searchText,function(n){u.searchDone=!0;typeof t=="function"&&t.call(u,n)},i):typeof t=="function"&&t.call(this,{columns:[],pageColumns:[],sortColumns:[],sourceIds:[],targetIds:[]})},t.prototype._updateModel=function(t){n.prototype._updateModel.call(this,t,!0)},t}(g);t.SearchResultsProvider=nt;g.registerSpecialProvider(nt)});

define("WorkItemTracking/SharedScripts/QueryHierarchy",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/Scripts/Utils/WorkItemTrackingCIEventHelper","VSS/Diag","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/Utils/PerfScenarioManager","q","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","TFS/WorkItemTracking/Contracts","VSS/Utils/Array","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","WorkItemTracking/Scripts/TFS.WorkItemTracking.WebApi","Presentation/Scripts/TFS/MVCToDataProviderDataSources/MVCToDataProviderDataSource"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function it(n){return e.createError(v.format(c.QueryItemAlreadyExist,n),{name:o.Exceptions.QueryItemAlreadyExistException})}var tt,d,g,nt,k;Object.defineProperty(t,"__esModule",{value:!0});t.QueryHierarchy=t.QueryFolder=t.QueryDefinition=t.QueryItem=t.QueryItemFactory=void 0,function(n){function t(n,t){var i;return t&&(i=t.isFolder?new nt(n,t):new g(n,t)),i}function i(n){var t=n.queryText||undefined;return{id:n.id,name:n.name,isPublic:!n.personal,wiql:t,path:n.storedPath}}n.create=t;n.queryItemToQueryHierarchyItem=i}(tt=t.QueryItemFactory||(t.QueryItemFactory={}));d=function(){function n(n,t){this.project=n;this.initialize();t&&this.updateFromData(t)}return n.prototype.initialize=function(){},n.prototype.updateFromData=function(n){this.id=n.id;this.name=n.name;this.storedPath=n.path;this.personal=!n.isPublic;this.queryType=isNaN(n.queryType)?n.queryType:l.QueryType[n.queryType]},n.prototype.path=function(t,i){return t===void 0&&(t=!1),y.calculateTreePath.call(this,t,i||n.DEFAULT_PATH_SEPARATOR,"name","root")},n.prototype.beginRename=function(t){var i=this,r,u;return u=function(){var u,f;return r&&r!==i?(u=it(t),h.reject(u)):(f=k.getQueryHierarchy(i.project),k.beginRenameQueryItem(i.project,i.id,t).then(function(t){return i.name=t.name,$(window).trigger(n.EVENT_RENAMED,i),i}))},this.parent?this.parent.beginLoadChildren().then(function(){return r=i.parent.findByPath(t),u()}):u()},n.prototype.beginMove=function(t,i){var r=this,u,e;return u=this.parent,e={queryItem:this,oldParent:u},i.beginLoadChildren().then(function(){var o,f;return i.findByPath(t)?(o=it(t),h.reject(o)):(f=function(){var t=k.getQueryHierarchy(r.project);return k.beginMoveQueryItem(r.project,r.id,i.id).then(function(t){return u.remove(r),r.storedPath=t.storedPath,r.setPersonal(t.personal),i.add(r),r.isDirty=!1,$(window).trigger(n.EVENT_SAVED,r),$(window).trigger(n.EVENT_MOVED,e),e})},v.localeIgnoreCaseComparer(r.name,t)!==0?k.beginRenameQueryItem(r.project,r.id,t).then(function(n){return r.name=n.name,f()}):f())})},n.prototype.setPersonal=function(n){this.personal=n},n.prototype.beginDelete=function(){var n=this,t;if(!this.id&&this.newQueryId){this.onDelete(!0);return h.resolve(this)}return t=k.getQueryHierarchy(this.project),k.beginDeleteQueryItem(this.project,this.id).then(function(){n.onDelete(!0);return n})},n.prototype.onDelete=function(t){this.parent&&this.parent.remove(this);var i=k.getQueryHierarchy(this.project);delete i.all[this.id||this.name];t&&$(window).trigger(n.EVENT_REMOVED,this)},n.EVENT_CREATED="query-item-created",n.EVENT_MOVED="query-item-moved",n.EVENT_RENAMED="query-item-renamed",n.EVENT_REMOVED="query-item-removed",n.EVENT_SAVED="query-item-saved",n.DEFAULT_PATH_SEPARATOR="/",n}();t.QueryItem=d;p.initClassPrototype(d,{id:null,name:null,parent:null,parentId:null,personal:!1,project:null,isDirty:!1,sortModifier:1,sortPrefix:0});g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return i&&(r.queryText=i.wiql||i.query),r}return __extends(t,n),t.defaultNewQueryWiql=function(){return t.DEFAULT_NEW_QUERY_WIQL},t.isMyWorkItems=function(n){return n.id?n.id.toUpperCase()===t.ASSIGNED_TO_ME_ID:!1},t.isUnsavedWorkItems=function(n){return n.id?n.id.toUpperCase()===t.UNSAVED_WORKITEMS_ID:!1},t.isFollowedWorkItems=function(n){return n.id?n.id.toUpperCase()===t.FOLLOWED_WORKITEMS_ID:!1},t.isCreatedByMe=function(n){return n.id?n.id.toUpperCase()===t.CREATED_BY_ME_ID:!1},t.isSearchResults=function(n){return n.id?n.id.toUpperCase()===t.SEARCH_RESULTS_ID:!1},t.isCustomWiqlQuery=function(n){return n.id?n.id.toUpperCase()===t.CUSTOM_WIQL_QUERY_ID:!1},t.isRecycleBinQuery=function(n){return n.id?n.id&&n.id.toUpperCase()===t.RECYCLE_BIN_QUERY_ID:!1},t.isFollowsQuery=function(n){return n.id?n.id&&n.id.toUpperCase()===t.FOLLOWED_WORKITEMS_ID:!1},t.isCustomizableAdHocQuery=function(n){return t.isMyWorkItems(n)||t.isUnsavedWorkItems(n)||t.isFollowedWorkItems(n)||t.isRecycleBinQuery(n)},t.isCustomizableSpecialQuery=function(n){return n.specialQuery&&(t.isMyWorkItems(n)||t.isCreatedByMe(n)||t.isUnsavedWorkItems(n)||t.isFollowedWorkItems(n)||t.isRecycleBinQuery(n))},t.isUneditableQuery=function(n){return n.specialQuery&&(t.isUnsavedWorkItems(n)||t.isFollowedWorkItems(n))},t.isSpecialQueryId=function(n){var i=n.toUpperCase();return i===t.ASSIGNED_TO_ME_ID||i===t.SEARCH_RESULTS_ID||i===t.CREATED_BY_ME_ID||i===t.CUSTOM_WIQL_QUERY_ID||i===t.UNSAVED_WORKITEMS_ID||i===t.FOLLOWED_WORKITEMS_ID||i===t.RECYCLE_BIN_QUERY_ID},t.prototype.setQuery=function(n){this.queryText!==n&&(this._originalQueryText=this.queryText,this.queryText=n,this.isDirty=!0)},t.prototype.path=function(t,i){return t===void 0&&(t=!1),this.parent?n.prototype.path.call(this,t,i):this.storedPath},t.DEFAULT_NEW_QUERY_WIQL="SELECT [System.Id], [System.WorkItemType], [System.Title], [System.AssignedTo], [System.State], [System.Tags] FROM Workitems WHERE [System.TeamProject] = @project AND [System.WorkItemType]<>'' AND [System.State]<>''",t.ASSIGNED_TO_ME_ID="A2108D31-086C-4FB0-AFDA-097E4CC46DF4",t.UNSAVED_WORKITEMS_ID="B7A26A56-EA87-4C97-A504-3F028808BB9F",t.FOLLOWED_WORKITEMS_ID="202230E0-821E-401D-96D1-24A7202330D0",t.CREATED_BY_ME_ID="53FB153F-C52C-42F1-90B6-CA17FC3561A8",t.SEARCH_RESULTS_ID="2CBF5136-1AE5-4948-B59A-36F526D9AC73",t.CUSTOM_WIQL_QUERY_ID="08E20883-D56C-4461-88EB-CE77C0C7936D",t.RECYCLE_BIN_QUERY_ID="2650C586-0DE4-4156-BA0E-14BCFB664CCA",t}(d);t.QueryDefinition=g;p.initClassPrototype(g,{queryText:null,_originalQueryText:null,specialQuery:!1,customQuery:!1,tempQueryId:null});nt=function(n){function t(t,i,r){var u,f;r===void 0&&(r=0);u=__construct(this,n,[t,i]);for(f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u.prefetchLevel=r,u}return __extends(t,n),t.prototype.initialize=function(){this.children=[];this.childrenMap={};n.prototype.initialize.call(this)},t.prototype.beginLoadChildren=function(){var n=this;return this.prefetchLevel>=k.QUERY_PREFETCH_DEPTH||!this.hasChildren?h.resolve(this):k.beginGetQueryHierarchyNonRoot(this).then(function(t){return n.prefetchLevel=k.QUERY_PREFETCH_DEPTH,n.updateFromData(t),n})},t.prototype.childrenLoaded=function(){return this.hasChildren&&this.children&&this.children.length>0},t.prototype.updateFromData=function(t){n.prototype.updateFromData.call(this,t);this.hasChildren=t.hasChildren;t.children&&this.addOrUpdateChildrenFromData(t.children)},t.prototype.addOrUpdateChildrenFromData=function(n){var i=this,r=k.getQueryHierarchy(this.project);$.each(n,function(n,u){var e,f,o;i.childrenMap[u.id]?(e=i.childrenMap[u.id],e.updateFromData(u),e instanceof t&&(e.prefetchLevel=i.prefetchLevel-1)):(u.isFolder&&r&&u.id&&!i._getQueryItemFromQueryHierarchy(u)&&$.each(r.all,function(n,t){t.id&&t.id!==u.id&&t.parentId===u.id&&(f&&t.parent!==f?t.parent=f:!f&&t.parent&&(t.parent.updateFromData(u),t.parent.prefetchLevel=i.prefetchLevel-1,i.add(t.parent),f=t.parent))}),f||(o=void 0,o=u.isFolder?new t(i.project,u,i.prefetchLevel-1):new g(i.project,u),i.add(o)))})},t.prototype.add=function(n,t){n.parent=this;n.parentId=this.id;n.project=this.project;this.children.push(n);n.id?this.childrenMap[n.id]=n:n.name&&(this.childrenMap[n.name]=n);this.hasChildren=!0;var i=k.getQueryHierarchy(this.project);i&&(n.id?i.all[n.id]=n:n.name&&(i.all[n.name]=n));t&&$(window).trigger(d.EVENT_CREATED,n)},t.prototype.remove=function(n){n.id&&delete this.childrenMap[n.id];n.name&&delete this.childrenMap[n.name];a.remove(this.children,n);this.children.length===0&&(this.hasChildren=!1)},t.prototype.findByPath=function(n){return y.findTreeNode.call(this,n,d.DEFAULT_PATH_SEPARATOR,v.localeIgnoreCaseComparer,"name")},t.prototype.beginFindByPath=function(n){var u=this,i=y.findTreeNode.call(this,n,d.DEFAULT_PATH_SEPARATOR,v.localeIgnoreCaseComparer,"name"),t,r;return i?h.resolve(i):(t=n,r=this.path(!1),r!==""&&(t=this.path(!1)+d.DEFAULT_PATH_SEPARATOR+n),k.beginGetQueryItemByIdOrPath(this.project,t).then(function(n){if(n){var i=k.getQueryHierarchy(u.project);return i._ensureItemInTree(t,n)}return h.resolve(null)}))},t.prototype.clear=function(){this.children=[];this.childrenMap={}},t.prototype.beginCreateNewFolder=function(n){var t=this;return this.beginLoadChildren().then(function(){var r=t.findByPath(n),i;return r?(i=it(n),h.reject(i)):k.beginCreateQueryFolder(t.project,n,t.id).then(function(n){return t.add(n,!0),n})})},t.prototype.beginCreateNewQuery=function(n,t,i){var r=this;return this.beginLoadChildren().then(function(){var u=r.findByPath(n),f;return u&&!u.newQueryId?(f=it(n),h.reject(f)):k.beginCreateQueryDefinition(r.project,n,t,r.id).then(function(n){i&&(n.newQueryId=i);r.add(n,!0);$(window).trigger(d.EVENT_SAVED,n);var t=k.getQueryHierarchy(r.project);return n.newQueryId&&t&&t.findQueryById(n.name)&&t.updateNewQueryId(n.name,n.id),n})})},t.prototype.onDelete=function(t){for(var i=this.children.length-1;i>=0;i--)this.children[i].onDelete(t);n.prototype.onDelete.call(this,t)},t.prototype.setPersonal=function(t){if(n.prototype.setPersonal.call(this,t),this.personal!==t&&this.children)for(var i=0,r=this.children.length;i<r;i++)this.children[i].setPersonal(t)},t.prototype._ensureItemInTree=function(n,t){var f=this;s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERYHIERARCHY_ENSUREITEMINTREE,!0);var i=h.defer(),l=n.split(d.DEFAULT_PATH_SEPARATOR),u=function(h,a){var y=l.slice(0,a+1).join(d.DEFAULT_PATH_SEPARATOR),p;if(!y||y===n){h.childrenMap[t.id]||h.add(t);p=k.getQueryHierarchy(f.project);p&&p.triggerUpdate();s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERYHIERARCHY_ENSUREITEMINTREE,!1);i.resolve(h.childrenMap[t.id]);return}h.beginLoadChildren().then(function(){var t=f.findByPath(y),n;t?u(t,a+1):(n=h.findByPath(y),n?(h.add(n),u(n,a+1)):i.reject(e.createError(v.format(c.QueryFolderDoesNotExist,y),{name:o.Exceptions.QueryFolderDoesNotExistException})))},function(n){return i.reject(n)})};return u(this,0),i.promise},t.prototype._getQueryItemFromQueryHierarchy=function(n){var t,r,i;return n.id?t=n.id:n.name&&(t=n.name),i=k.getQueryHierarchy(this.project),i&&(r=i.all[t]),r},t}(d);t.QueryFolder=nt;p.initClassPrototype(nt,{children:null,childrenMap:null,specialFolder:!1,prefetchLevel:0});k=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t.prototype.initialize=function(){this.all={};n.prototype.initialize.call(this)},t.prototype.clear=function(){n.prototype.clear.call(this);this.all={};this.myQueries=null;this.sharedQueries=null;this.assignedToMe=null;this.unsavedWorkItems=null;this.followedWorkItems=null},t.prototype.updateFromData=function(i){var e,o,h,u;if(s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERYHIERARCHY_UPDATEFROMDATA,!0),n.prototype.updateFromData.call(this,i),i){for(e=0,o=0,h=this.children.length;o<h&&e<2;++o)(u=this.children[o],u instanceof nt)&&(u.personal?(this.myQueries=u,++e):(this.sharedQueries=u,++e));this.myQueries&&(this.myQueries.specialFolder=!0);this.sharedQueries&&(this.sharedQueries.specialFolder=!0);$(window).trigger(t.EVENT_LOADED,this)}s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERYHIERARCHY_UPDATEFROMDATA,!1)},t.prototype.findQueryById=function(n){return this.all[n]},t.prototype.beginFindQueryById=function(n,i){var r=this;return i===void 0&&(i=!0),this.all[n]||g.isSpecialQueryId(n)?h.resolve(this.all[n]):t.beginGetQueryItemByIdOrPath(this.project,n).then(function(n){return n&&i?r._ensureItemInTree(n.storedPath,n):n})},t.prototype.beginRefresh=function(){var i=this,u=0,n=h.defer(),r=function(){++u==2&&(i._triggerRefresh(),n.resolve(null))};return this.clear(),this._beginGetAdHocQueriesRefreshCache().then(function(n){i._loadAdHocQueries(n);r()},function(t){return n.reject(t)}),t._beginGetQueryHierarchyRaw(this.project).then(function(n){i.updateFromData(n);r()},function(t){return n.reject(t)}),n.promise},t.prototype.updateNewQueryId=function(n,t){this.all[t]=this.all[n];delete this.all[n]},t.prototype.load=function(n){var r=this,u,i,f,e;this.all={};e=function(n,i){var u,f,s,e,o;if(n)for(f=0,s=n.length;f<s;f++)e=n[f],o=t._transform(e),u=e.folder?new nt(r.project,o):new g(r.project,o),u.parentId=e.parent,u.personal=i,r.all[u.id]=u};e(n.privateQueries,!0);e(n.publicQueries,!1);this._loadAdHocQueries(n);this.clear();for(u in this.all)this.all.hasOwnProperty(u)&&(i=this.all[u],f=this.all[i.parentId],f?f.add(i):(i.specialQuery||(i.specialFolder=i instanceof nt,i.personal?(this.myQueries=i,i.sortPrefix=1):(this.sharedQueries=i,i.sortPrefix=2)),this.add(i)));$(window).trigger(t.EVENT_LOADED,this)},t.beginGetAdHocQueries=function(n){var e=n.relatedData[t.ADHOC_QUERIES_PROMISE_KEY],r,u;return e?e:(r=h.defer(),n.relatedData[t.ADHOC_QUERIES_PROMISE_KEY]=r.promise,u="beginGetAdHocQueries",f.timeStamp(u,f.StampEvent.Enter),n.store.metadataCacheStampManager.addStampToParams(i.WITCommonConstants.AdhocQueries,null,function(i){var e={controller:"wit",action:"AdHocQueries",routeData:{project:n.guid}},o=n.guid;(new b.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync(e,i,o,e.action,t.ADHOC_QUERIES_PROMISE_KEY).then(function(n){var t=n.data;f.timeStamp(u,f.StampEvent.Leave);r.resolve(t)}).catch(function(n){return r.reject(n)})}),r.promise)},t.isHierarchyPopulated=function(n){var i=t.getQueryHierarchy(n);return i!=undefined&&i!=null},t.getQueryHierarchy=function(n){return n?n.relatedData[t.QUERY_HIERARCHY_KEY]:null},t.beginGetQueryHierarchy=function(n){var c=n.relatedData[t.HIERARCHY_PROMISE_KEY],i,u,f,e,o;return c?c:(i=h.defer(),n.relatedData[t.HIERARCHY_PROMISE_KEY]=i.promise,u=new t(n,null,t.QUERY_PREFETCH_DEPTH),s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERYHIERARCHY_GETHIERARCHY_REQUEST,!0),o=function(){f&&e&&(n.relatedData[t.QUERY_HIERARCHY_KEY]=u,u.updateFromData(e),u._loadAdHocQueries(f),s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERYHIERARCHY_GETHIERARCHY_REQUEST,!1),i.resolve(u))},t.beginGetAdHocQueries(n).then(function(n){f=n;o()},function(n){return i.reject(n)}),t._beginGetQueryHierarchyRaw(n).then(function(n){e=n;o()},function(n){return i.reject(n)}),i.promise)},t.beginCreateQueryDefinition=function(n,t,i,u){var e=n.store.tfsConnection.getHttpClient(w.WorkItemTrackingHttpClient);return s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERY_CREATEQUERY_REQUEST,!0),e.beginCreateQueryDefinition(n.guid,t,i,u).then(function(t){return s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERY_CREATEQUERY_REQUEST,!1),tt.create(n,t)})},t.beginCreateQueryFolder=function(n,t,i){var r=n.store.tfsConnection.getHttpClient(w.WorkItemTrackingHttpClient);return r.beginCreateQueryFolder(n.guid,t,i).then(function(t){return tt.create(n,t)})},t.beginDeleteQueryItem=function(n,t){var i=n.store.tfsConnection.getHttpClient(w.WorkItemTrackingHttpClient);return i.beginDeleteQueryItem(n.guid,t)},t.beginRenameQueryItem=function(n,t,i){var r=n.store.tfsConnection.getHttpClient(w.WorkItemTrackingHttpClient);return r.beginRenameQueryItem(n.guid,t,i).then(function(t){return tt.create(n,t)})},t.beginMoveQueryItem=function(n,t,i){var r=n.store.tfsConnection.getHttpClient(w.WorkItemTrackingHttpClient);return r.beginMoveQueryItem(n.guid,t,i).then(function(t){return tt.create(n,t)})},t.beginUpdateQueryDefinition=function(n){var i,u,e,o,c;return i=h.defer(),u=function(r){n.id=r.id;n.isDirty=!1;$(window).trigger(d.EVENT_SAVED,n);var u=t.getQueryHierarchy(n.project);u&&n.newQueryId&&u.findQueryById(n.name)&&u.updateNewQueryId(n.name,n.id);i.resolve(r)},g.isCustomizableAdHocQuery(n)?(s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERY_UPDATEADHOCQUERY_REQUEST,!0),e={queryId:n.id,wiql:n.queryText},o={controller:"wit",action:"updateAdHocQuery",routeData:{project:n.project.guid}},(new b.WorkItemStoreLevelWITDataSource).postDataAsync(o,e).then(function(t){var i=t.data;n.queryText=i.wiql;s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERY_UPDATEADHOCQUERY_REQUEST,!1);u(n)}).catch(function(n){i.reject(n)})):(c=n.project.store.tfsConnection.getHttpClient(w.WorkItemTrackingHttpClient),s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERY_UPDATEQUERY_REQUEST,!0),c.beginUpdateQueryDefinition(n.project.guid,n.id,n.queryText).then(function(t){s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERY_UPDATEQUERY_REQUEST,!1);u(tt.create(n.project,t))},function(n){return i.reject(n)})),i.promise},t.beginGetQueryHierarchyNonRoot=function(n){var i=n.project.store.tfsConnection.getHttpClient(w.WorkItemTrackingHttpClient);return i.beginGetQueries(n.project.guid,t.QUERY_PREFETCH_DEPTH,n.id)},t.beginGetQueryItemByIdOrPath=function(n,i,u){typeof u=="undefined"&&(u=t.QUERY_PREFETCH_DEPTH);var e=n.store.tfsConnection.getHttpClient(w.WorkItemTrackingHttpClient);return s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERYHIERARCHY_BEGINGETQUERYBYPATHORID_REQUEST,!0),e.beginGetQueries(n.guid,u,i).then(function(t){return s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERYHIERARCHY_BEGINGETQUERYBYPATHORID_REQUEST,!1),tt.create(n,t)})},t.clearQueryFavoritesCache=function(n){delete n.relatedData[t.QUERY_FAVORITES_PROMISE_KEY]},t.beginGetQueryFavorites=function(n,i,f){var o,e,c;return(i===void 0&&(i=!1),i&&(n.relatedData[t.QUERY_FAVORITES_PROMISE_KEY]=null),o=n.relatedData[t.QUERY_FAVORITES_PROMISE_KEY],o)?o:(e=h.defer(),n.relatedData[t.QUERY_FAVORITES_PROMISE_KEY]=e.promise,s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERYHIERARCHY_GETQUERYFAVORITES_REQUEST,!0),c={controller:"wit",action:"queryFavorites",routeData:{includeTeam:!0}},(new b.WorkItemStoreLevelWITDataSource).getDataAsync(c,f).then(function(n){var t=n.data;s.PerfScenarioManager.addSplitTiming(r.PerformanceEvents.QUERYHIERARCHY_GETQUERYFAVORITES_REQUEST,!1);u.QueryHierarchyCIEvents.publishEvent(u.QueryHierarchyCIEvents.EVENTS_FAVORITES_POPULATED,{myFavoritesCount:t.myFavorites?t.myFavorites.length:0,teamFavoritesCount:t.teamFavorites?t.teamFavorites.length:0});e.resolve(t)}).catch(e.reject),e.promise)},t.prototype.triggerUpdate=function(){$(window).trigger(t.EVENT_CHANGED,this)},t.prototype._triggerRefresh=function(){$(window).trigger(t.EVENT_REFRESHED,this)},t._beginGetQueryHierarchyRaw=function(n){var i=n.store.tfsConnection.getHttpClient(w.WorkItemTrackingHttpClient);return i.beginGetRootQueries(n.guid,t.ROOT_QUERY_PREFETCH_DEPTH).then(function(n){return{id:v.EmptyGuidString,name:"",path:"",hasChildren:!0,isFolder:!0,isPublic:!1,children:n}})},t.prototype._beginGetAdHocQueriesRefreshCache=function(){return this.project.relatedData[t.ADHOC_QUERIES_PROMISE_KEY]=null,t.beginGetAdHocQueries(this.project)},t._transform=function(n){return n?{id:n.id,isFolder:n.folder,name:n.name,wiql:n.query,path:null,isPublic:!1,hasChildren:!1,children:null}:null},t.prototype._loadAdHocQueries=function(n){var i=new g(this.project,t._transform(n.recycleBin));i.specialQuery=!0;i.name=c.RecycleBin;this.all[i.id]=i;this.add(i)},t.getApiLocation=function(n,i,r){return t._getApiLocation(n,!1,i,r)},t.getApiLocationIncludingTeam=function(n,i,r){return t._getApiLocation(n,!0,i,r)},t._getApiLocation=function(n,t,i,r){var u={};return t||(u.team=""),n.store.getTfsContext().getActionUrl(i||"","wit",$.extend({project:n.guid,area:"api"},u,r))},t.EVENT_CHANGED="query-hierarchy-changed",t.EVENT_REFRESHED="query-hierarchy-refreshed",t.EVENT_LOADED="query-hierarchy-loaded",t.HIERARCHY_PROMISE_KEY="query-hierarchy-promise",t.ADHOC_QUERIES_PROMISE_KEY="query-hierarchy-adhoc-queries-promise",t.QUERY_FAVORITES_PROMISE_KEY="query-hierarchy-query-favorites-promise",t.QUERY_HIERARCHY_KEY="query-hierarchy",t.ROOT_QUERY_PREFETCH_DEPTH=1,t.QUERY_PREFETCH_DEPTH=2,t}(nt);t.QueryHierarchy=k;p.initClassPrototype(k,{root:!0,all:null,sortModifier:-1,myQueries:null,sharedQueries:null,assignedToMe:null,createdByMe:null,unsavedWorkItems:null})});

define("Notifications/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.SubscriptionTemplateType=t.SubscriptionTemplateQueryFlags=t.SubscriptionStatus=t.SubscriptionQueryFlags=t.SubscriptionPermissions=t.SubscriptionFlags=t.SubscriptionFieldType=t.SubscriberFlags=t.NotificationSubscriberDeliveryPreference=t.NotificationStatisticType=t.NotificationReasonType=t.NotificationOperation=t.EventTypeQueryFlags=t.EventPublisherQueryFlags=t.EvaluationOperationStatus=t.DefaultGroupDeliveryPreference=void 0,function(n){n[n.NoDelivery=-1]="NoDelivery";n[n.EachMember=2]="EachMember"}(i=t.DefaultGroupDeliveryPreference||(t.DefaultGroupDeliveryPreference={})),function(n){n[n.NotSet=0]="NotSet";n[n.Queued=1]="Queued";n[n.InProgress=2]="InProgress";n[n.Cancelled=3]="Cancelled";n[n.Succeeded=4]="Succeeded";n[n.Failed=5]="Failed";n[n.TimedOut=6]="TimedOut";n[n.NotFound=7]="NotFound"}(r=t.EvaluationOperationStatus||(t.EvaluationOperationStatus={})),function(n){n[n.None=0]="None";n[n.IncludeRemoteServices=2]="IncludeRemoteServices"}(u=t.EventPublisherQueryFlags||(t.EventPublisherQueryFlags={})),function(n){n[n.None=0]="None";n[n.IncludeFields=1]="IncludeFields"}(f=t.EventTypeQueryFlags||(t.EventTypeQueryFlags={})),function(n){n[n.None=0]="None";n[n.SuspendUnprocessed=1]="SuspendUnprocessed"}(e=t.NotificationOperation||(t.NotificationOperation={})),function(n){n[n.Unknown=0]="Unknown";n[n.Follows=1]="Follows";n[n.Personal=2]="Personal";n[n.PersonalAlias=3]="PersonalAlias";n[n.DirectMember=4]="DirectMember";n[n.IndirectMember=5]="IndirectMember";n[n.GroupAlias=6]="GroupAlias";n[n.SubscriptionAlias=7]="SubscriptionAlias";n[n.SingleRole=8]="SingleRole";n[n.DirectMemberGroupRole=9]="DirectMemberGroupRole";n[n.InDirectMemberGroupRole=10]="InDirectMemberGroupRole";n[n.AliasMemberGroupRole=11]="AliasMemberGroupRole"}(o=t.NotificationReasonType||(t.NotificationReasonType={})),function(n){n[n.NotificationBySubscription=0]="NotificationBySubscription";n[n.EventsByEventType=1]="EventsByEventType";n[n.NotificationByEventType=2]="NotificationByEventType";n[n.EventsByEventTypePerUser=3]="EventsByEventTypePerUser";n[n.NotificationByEventTypePerUser=4]="NotificationByEventTypePerUser";n[n.Events=5]="Events";n[n.Notifications=6]="Notifications";n[n.NotificationFailureBySubscription=7]="NotificationFailureBySubscription";n[n.UnprocessedRangeStart=100]="UnprocessedRangeStart";n[n.UnprocessedEventsByPublisher=101]="UnprocessedEventsByPublisher";n[n.UnprocessedEventDelayByPublisher=102]="UnprocessedEventDelayByPublisher";n[n.UnprocessedNotificationsByChannelByPublisher=103]="UnprocessedNotificationsByChannelByPublisher";n[n.UnprocessedNotificationDelayByChannelByPublisher=104]="UnprocessedNotificationDelayByChannelByPublisher";n[n.DelayRangeStart=200]="DelayRangeStart";n[n.TotalPipelineTime=201]="TotalPipelineTime";n[n.NotificationPipelineTime=202]="NotificationPipelineTime";n[n.EventPipelineTime=203]="EventPipelineTime";n[n.HourlyRangeStart=1e3]="HourlyRangeStart";n[n.HourlyNotificationBySubscription=1001]="HourlyNotificationBySubscription";n[n.HourlyEventsByEventTypePerUser=1002]="HourlyEventsByEventTypePerUser";n[n.HourlyEvents=1003]="HourlyEvents";n[n.HourlyNotifications=1004]="HourlyNotifications";n[n.HourlyUnprocessedEventsByPublisher=1101]="HourlyUnprocessedEventsByPublisher";n[n.HourlyUnprocessedEventDelayByPublisher=1102]="HourlyUnprocessedEventDelayByPublisher";n[n.HourlyUnprocessedNotificationsByChannelByPublisher=1103]="HourlyUnprocessedNotificationsByChannelByPublisher";n[n.HourlyUnprocessedNotificationDelayByChannelByPublisher=1104]="HourlyUnprocessedNotificationDelayByChannelByPublisher";n[n.HourlyTotalPipelineTime=1201]="HourlyTotalPipelineTime";n[n.HourlyNotificationPipelineTime=1202]="HourlyNotificationPipelineTime";n[n.HourlyEventPipelineTime=1203]="HourlyEventPipelineTime"}(s=t.NotificationStatisticType||(t.NotificationStatisticType={})),function(n){n[n.NoDelivery=-1]="NoDelivery";n[n.PreferredEmailAddress=1]="PreferredEmailAddress";n[n.EachMember=2]="EachMember";n[n.UseDefault=3]="UseDefault"}(h=t.NotificationSubscriberDeliveryPreference||(t.NotificationSubscriberDeliveryPreference={})),function(n){n[n.None=0]="None";n[n.DeliveryPreferencesEditable=2]="DeliveryPreferencesEditable";n[n.SupportsPreferredEmailAddressDelivery=4]="SupportsPreferredEmailAddressDelivery";n[n.SupportsEachMemberDelivery=8]="SupportsEachMemberDelivery";n[n.SupportsNoDelivery=16]="SupportsNoDelivery";n[n.IsUser=32]="IsUser";n[n.IsGroup=64]="IsGroup";n[n.IsTeam=128]="IsTeam"}(c=t.SubscriberFlags||(t.SubscriberFlags={})),function(n){n[n.String=1]="String";n[n.Integer=2]="Integer";n[n.DateTime=3]="DateTime";n[n.PlainText=5]="PlainText";n[n.Html=7]="Html";n[n.TreePath=8]="TreePath";n[n.History=9]="History";n[n.Double=10]="Double";n[n.Guid=11]="Guid";n[n.Boolean=12]="Boolean";n[n.Identity=13]="Identity";n[n.PicklistInteger=14]="PicklistInteger";n[n.PicklistString=15]="PicklistString";n[n.PicklistDouble=16]="PicklistDouble";n[n.TeamProject=17]="TeamProject"}(l=t.SubscriptionFieldType||(t.SubscriptionFieldType={})),function(n){n[n.None=0]="None";n[n.GroupSubscription=1]="GroupSubscription";n[n.ContributedSubscription=2]="ContributedSubscription";n[n.CanOptOut=4]="CanOptOut";n[n.TeamSubscription=8]="TeamSubscription";n[n.OneActorMatches=16]="OneActorMatches"}(a=t.SubscriptionFlags||(t.SubscriptionFlags={})),function(n){n[n.None=0]="None";n[n.View=1]="View";n[n.Edit=2]="Edit";n[n.Delete=4]="Delete"}(v=t.SubscriptionPermissions||(t.SubscriptionPermissions={})),function(n){n[n.None=0]="None";n[n.IncludeInvalidSubscriptions=2]="IncludeInvalidSubscriptions";n[n.IncludeDeletedSubscriptions=4]="IncludeDeletedSubscriptions";n[n.IncludeFilterDetails=8]="IncludeFilterDetails";n[n.AlwaysReturnBasicInformation=16]="AlwaysReturnBasicInformation";n[n.IncludeSystemSubscriptions=32]="IncludeSystemSubscriptions"}(y=t.SubscriptionQueryFlags||(t.SubscriptionQueryFlags={})),function(n){n[n.JailedByNotificationsVolume=-200]="JailedByNotificationsVolume";n[n.PendingDeletion=-100]="PendingDeletion";n[n.DisabledArgumentException=-12]="DisabledArgumentException";n[n.DisabledProjectInvalid=-11]="DisabledProjectInvalid";n[n.DisabledMissingPermissions=-10]="DisabledMissingPermissions";n[n.DisabledFromProbation=-9]="DisabledFromProbation";n[n.DisabledInactiveIdentity=-8]="DisabledInactiveIdentity";n[n.DisabledMessageQueueNotSupported=-7]="DisabledMessageQueueNotSupported";n[n.DisabledMissingIdentity=-6]="DisabledMissingIdentity";n[n.DisabledInvalidRoleExpression=-5]="DisabledInvalidRoleExpression";n[n.DisabledInvalidPathClause=-4]="DisabledInvalidPathClause";n[n.DisabledAsDuplicateOfDefault=-3]="DisabledAsDuplicateOfDefault";n[n.DisabledByAdmin=-2]="DisabledByAdmin";n[n.Disabled=-1]="Disabled";n[n.Enabled=0]="Enabled";n[n.EnabledOnProbation=1]="EnabledOnProbation"}(p=t.SubscriptionStatus||(t.SubscriptionStatus={})),function(n){n[n.None=0]="None";n[n.IncludeUser=1]="IncludeUser";n[n.IncludeGroup=2]="IncludeGroup";n[n.IncludeUserAndGroup=4]="IncludeUserAndGroup";n[n.IncludeEventTypeInformation=22]="IncludeEventTypeInformation"}(w=t.SubscriptionTemplateQueryFlags||(t.SubscriptionTemplateQueryFlags={})),function(n){n[n.User=0]="User";n[n.Team=1]="Team";n[n.Both=2]="Both";n[n.None=3]="None"}(b=t.SubscriptionTemplateType||(t.SubscriptionTemplateType={}));t.TypeInfo={ActorNotificationReason:{},BatchNotificationOperation:{},DefaultGroupDeliveryPreference:{enumValues:{noDelivery:-1,eachMember:2}},EvaluationOperationStatus:{enumValues:{notSet:0,queued:1,inProgress:2,cancelled:3,succeeded:4,failed:5,timedOut:6,notFound:7}},EventBacklogStatus:{},EventProcessingLog:{},EventPublisherQueryFlags:{enumValues:{none:0,includeRemoteServices:2}},EventTypeQueryFlags:{enumValues:{none:0,includeFields:1}},INotificationDiagnosticLog:{},NotificationAdminSettings:{},NotificationAdminSettingsUpdateParameters:{},NotificationBacklogStatus:{},NotificationCommonViewData:{},NotificationDeliveryLog:{},NotificationDiagnosticLog:{},NotificationEventBacklogStatus:{},NotificationEventField:{},NotificationEventFieldType:{},NotificationEventType:{},NotificationJobDiagnosticLog:{},NotificationOperation:{enumValues:{none:0,suspendUnprocessed:1}},NotificationReason:{},NotificationReasonType:{enumValues:{unknown:0,follows:1,personal:2,personalAlias:3,directMember:4,indirectMember:5,groupAlias:6,subscriptionAlias:7,singleRole:8,directMemberGroupRole:9,inDirectMemberGroupRole:10,aliasMemberGroupRole:11}},NotificationStatistic:{},NotificationStatisticsQuery:{},NotificationStatisticsQueryConditions:{},NotificationStatisticType:{enumValues:{notificationBySubscription:0,eventsByEventType:1,notificationByEventType:2,eventsByEventTypePerUser:3,notificationByEventTypePerUser:4,events:5,notifications:6,notificationFailureBySubscription:7,unprocessedRangeStart:100,unprocessedEventsByPublisher:101,unprocessedEventDelayByPublisher:102,unprocessedNotificationsByChannelByPublisher:103,unprocessedNotificationDelayByChannelByPublisher:104,delayRangeStart:200,totalPipelineTime:201,notificationPipelineTime:202,eventPipelineTime:203,hourlyRangeStart:1e3,hourlyNotificationBySubscription:1001,hourlyEventsByEventTypePerUser:1002,hourlyEvents:1003,hourlyNotifications:1004,hourlyUnprocessedEventsByPublisher:1101,hourlyUnprocessedEventDelayByPublisher:1102,hourlyUnprocessedNotificationsByChannelByPublisher:1103,hourlyUnprocessedNotificationDelayByChannelByPublisher:1104,hourlyTotalPipelineTime:1201,hourlyNotificationPipelineTime:1202,hourlyEventPipelineTime:1203}},NotificationSubscriber:{},NotificationSubscriberDeliveryPreference:{enumValues:{noDelivery:-1,preferredEmailAddress:1,eachMember:2,useDefault:3}},NotificationSubscriberUpdateParameters:{},NotificationSubscription:{},NotificationSubscriptionsViewData:{},NotificationSubscriptionTemplate:{},NotificationSubscriptionUpdateParameters:{},SubscriberFlags:{enumValues:{none:0,deliveryPreferencesEditable:2,supportsPreferredEmailAddressDelivery:4,supportsEachMemberDelivery:8,supportsNoDelivery:16,isUser:32,isGroup:64,isTeam:128}},SubscriptionDiagnostics:{},SubscriptionEvaluationRequest:{},SubscriptionEvaluationResult:{},SubscriptionFieldType:{enumValues:{string:1,integer:2,dateTime:3,plainText:5,html:7,treePath:8,history:9,double:10,guid:11,boolean:12,identity:13,picklistInteger:14,picklistString:15,picklistDouble:16,teamProject:17}},SubscriptionFlags:{enumValues:{none:0,groupSubscription:1,contributedSubscription:2,canOptOut:4,teamSubscription:8,oneActorMatches:16}},SubscriptionPermissions:{enumValues:{none:0,view:1,edit:2,"delete":4}},SubscriptionQuery:{},SubscriptionQueryCondition:{},SubscriptionQueryFlags:{enumValues:{none:0,includeInvalidSubscriptions:2,includeDeletedSubscriptions:4,includeFilterDetails:8,alwaysReturnBasicInformation:16,includeSystemSubscriptions:32}},SubscriptionStatisticViewData:{},SubscriptionStatus:{enumValues:{jailedByNotificationsVolume:-200,pendingDeletion:-100,disabledArgumentException:-12,disabledProjectInvalid:-11,disabledMissingPermissions:-10,disabledFromProbation:-9,disabledInactiveIdentity:-8,disabledMessageQueueNotSupported:-7,disabledMissingIdentity:-6,disabledInvalidRoleExpression:-5,disabledInvalidPathClause:-4,disabledAsDuplicateOfDefault:-3,disabledByAdmin:-2,disabled:-1,enabled:0,enabledOnProbation:1}},SubscriptionTemplateQueryFlags:{enumValues:{none:0,includeUser:1,includeGroup:2,includeUserAndGroup:4,includeEventTypeInformation:22}},SubscriptionTemplateType:{enumValues:{user:0,team:1,both:2,none:3}},SubscriptionTraceDiagnosticLog:{},SubscriptionTraceEventProcessingLog:{},SubscriptionTraceNotificationDeliveryLog:{},SubscriptionTracing:{}};t.TypeInfo.ActorNotificationReason.fields={notificationReasonType:{enumType:t.TypeInfo.NotificationReasonType}};t.TypeInfo.BatchNotificationOperation.fields={notificationOperation:{enumType:t.TypeInfo.NotificationOperation}};t.TypeInfo.EventBacklogStatus.fields={captureTime:{isDate:!0},lastEventBatchStartTime:{isDate:!0},lastEventProcessedTime:{isDate:!0},lastJobBatchStartTime:{isDate:!0},lastJobProcessedTime:{isDate:!0},oldestPendingEventTime:{isDate:!0}};t.TypeInfo.EventProcessingLog.fields={endTime:{isDate:!0},startTime:{isDate:!0}};t.TypeInfo.INotificationDiagnosticLog.fields={endTime:{isDate:!0},startTime:{isDate:!0}};t.TypeInfo.NotificationAdminSettings.fields={defaultGroupDeliveryPreference:{enumType:t.TypeInfo.DefaultGroupDeliveryPreference}};t.TypeInfo.NotificationAdminSettingsUpdateParameters.fields={defaultGroupDeliveryPreference:{enumType:t.TypeInfo.DefaultGroupDeliveryPreference}};t.TypeInfo.NotificationBacklogStatus.fields={captureTime:{isDate:!0},lastJobBatchStartTime:{isDate:!0},lastJobProcessedTime:{isDate:!0},lastNotificationBatchStartTime:{isDate:!0},lastNotificationProcessedTime:{isDate:!0},oldestPendingNotificationTime:{isDate:!0}};t.TypeInfo.NotificationCommonViewData.fields={adminSettings:{typeInfo:t.TypeInfo.NotificationAdminSettings},subscriber:{typeInfo:t.TypeInfo.NotificationSubscriber}};t.TypeInfo.NotificationDeliveryLog.fields={endTime:{isDate:!0},startTime:{isDate:!0}};t.TypeInfo.NotificationDiagnosticLog.fields={endTime:{isDate:!0},startTime:{isDate:!0}};t.TypeInfo.NotificationEventBacklogStatus.fields={eventBacklogStatus:{isArray:!0,typeInfo:t.TypeInfo.EventBacklogStatus},notificationBacklogStatus:{isArray:!0,typeInfo:t.TypeInfo.NotificationBacklogStatus}};t.TypeInfo.NotificationEventField.fields={fieldType:{typeInfo:t.TypeInfo.NotificationEventFieldType}};t.TypeInfo.NotificationEventFieldType.fields={subscriptionFieldType:{enumType:t.TypeInfo.SubscriptionFieldType}};t.TypeInfo.NotificationEventType.fields={fields:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.NotificationEventField}};t.TypeInfo.NotificationJobDiagnosticLog.fields={endTime:{isDate:!0},startTime:{isDate:!0}};t.TypeInfo.NotificationReason.fields={notificationReasonType:{enumType:t.TypeInfo.NotificationReasonType}};t.TypeInfo.NotificationStatistic.fields={date:{isDate:!0},type:{enumType:t.TypeInfo.NotificationStatisticType}};t.TypeInfo.NotificationStatisticsQuery.fields={conditions:{isArray:!0,typeInfo:t.TypeInfo.NotificationStatisticsQueryConditions}};t.TypeInfo.NotificationStatisticsQueryConditions.fields={endDate:{isDate:!0},startDate:{isDate:!0},type:{enumType:t.TypeInfo.NotificationStatisticType}};t.TypeInfo.NotificationSubscriber.fields={deliveryPreference:{enumType:t.TypeInfo.NotificationSubscriberDeliveryPreference},flags:{enumType:t.TypeInfo.SubscriberFlags}};t.TypeInfo.NotificationSubscriberUpdateParameters.fields={deliveryPreference:{enumType:t.TypeInfo.NotificationSubscriberDeliveryPreference}};t.TypeInfo.NotificationSubscription.fields={diagnostics:{typeInfo:t.TypeInfo.SubscriptionDiagnostics},flags:{enumType:t.TypeInfo.SubscriptionFlags},modifiedDate:{isDate:!0},permissions:{enumType:t.TypeInfo.SubscriptionPermissions},status:{enumType:t.TypeInfo.SubscriptionStatus}};t.TypeInfo.NotificationSubscriptionsViewData.fields={eventTypes:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.NotificationEventType},mapCategoryIdToSubscriptionTemplates:{isDictionary:!0,dictionaryValueFieldInfo:{isArray:!0,typeInfo:t.TypeInfo.NotificationSubscriptionTemplate}},subscribers:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.NotificationSubscriber},subscriptions:{isArray:!0,typeInfo:t.TypeInfo.NotificationSubscription}};t.TypeInfo.NotificationSubscriptionTemplate.fields={notificationEventInformation:{typeInfo:t.TypeInfo.NotificationEventType},type:{enumType:t.TypeInfo.SubscriptionTemplateType}};t.TypeInfo.NotificationSubscriptionUpdateParameters.fields={status:{enumType:t.TypeInfo.SubscriptionStatus}};t.TypeInfo.SubscriptionDiagnostics.fields={deliveryResults:{typeInfo:t.TypeInfo.SubscriptionTracing},deliveryTracing:{typeInfo:t.TypeInfo.SubscriptionTracing},evaluationTracing:{typeInfo:t.TypeInfo.SubscriptionTracing}};t.TypeInfo.SubscriptionEvaluationRequest.fields={minEventsCreatedDate:{isDate:!0}};t.TypeInfo.SubscriptionEvaluationResult.fields={evaluationJobStatus:{enumType:t.TypeInfo.EvaluationOperationStatus}};t.TypeInfo.SubscriptionQuery.fields={conditions:{isArray:!0,typeInfo:t.TypeInfo.SubscriptionQueryCondition},queryFlags:{enumType:t.TypeInfo.SubscriptionQueryFlags}};t.TypeInfo.SubscriptionQueryCondition.fields={flags:{enumType:t.TypeInfo.SubscriptionFlags}};t.TypeInfo.SubscriptionStatisticViewData.fields={events:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.NotificationEventType},queryDate:{isDate:!0},statistics:{isDictionary:!0,dictionaryValueFieldInfo:{isArray:!0,typeInfo:t.TypeInfo.NotificationStatistic}},subscriptions:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.NotificationSubscription}};t.TypeInfo.SubscriptionTraceDiagnosticLog.fields={endTime:{isDate:!0},startTime:{isDate:!0}};t.TypeInfo.SubscriptionTraceEventProcessingLog.fields={endTime:{isDate:!0},startTime:{isDate:!0}};t.TypeInfo.SubscriptionTraceNotificationDeliveryLog.fields={endTime:{isDate:!0},startTime:{isDate:!0}};t.TypeInfo.SubscriptionTracing.fields={endDate:{isDate:!0},startDate:{isDate:!0}}});

define("Notifications/RestClient",["require","exports","Notifications/Contracts","VSS/WebApi/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u,f){"use strict";function et(n){return window.VSS&&window.VSS.VssSDKRestVersion&&ut[window.VSS.VssSDKRestVersion]?u.getClient(ut[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):u.getClient(y,undefined,undefined,undefined,n)}var s,h,c,l,a,e,o,v,y,p,w,b,k,d,g,nt,tt,it,rt,ft,ut;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.NotificationHttpClient=t.NotificationHttpClient3=t.NotificationHttpClient3_1=t.NotificationHttpClient3_2=t.NotificationHttpClient4=t.NotificationHttpClient4_1=t.NotificationHttpClient5=t.NotificationHttpClient5_1=t.NotificationHttpClient5_2=t.NotificationHttpClient6=t.NotificationHttpClient6_1=t.NotificationHttpClient7=t.NotificationHttpClient7_1=t.CommonMethods6_1To7_1=t.CommonMethods5To7_1=t.CommonMethods4_1To7_1=t.CommonMethods4To7_1=t.CommonMethods3_2To7_1=t.CommonMethods3_1To7_1=t.CommonMethods3To7_1=void 0;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getSubscriptionTemplates=function(){return this._beginRequest({httpMethod:"GET",area:"notification",locationId:"fa5d24ba-7484-4f3d-888d-4ec6b1974082",resource:"SubscriptionTemplates",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.NotificationSubscriptionTemplate,responseIsCollection:!0,apiVersion:this.subscriptionTemplatesApiVersion})},t.prototype.updateSubscription=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"notification",locationId:"70f911d6-abac-488c-85b3-a206bf57e165",resource:"Subscriptions",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",requestType:i.TypeInfo.NotificationSubscriptionUpdateParameters,responseType:i.TypeInfo.NotificationSubscription,routeValues:{subscriptionId:t},apiVersion:this.subscriptionsApiVersion,data:n})},t.prototype.listSubscriptions=function(n,t,r){var u={targetId:n,ids:t&&t.join(","),queryFlags:r};return this._beginRequest({httpMethod:"GET",area:"notification",locationId:"70f911d6-abac-488c-85b3-a206bf57e165",resource:"Subscriptions",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",responseType:i.TypeInfo.NotificationSubscription,responseIsCollection:!0,queryParams:u,apiVersion:this.subscriptionsApiVersion})},t.prototype.getSubscription=function(n,t){var r={queryFlags:t};return this._beginRequest({httpMethod:"GET",area:"notification",locationId:"70f911d6-abac-488c-85b3-a206bf57e165",resource:"Subscriptions",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",responseType:i.TypeInfo.NotificationSubscription,routeValues:{subscriptionId:n},queryParams:r,apiVersion:this.subscriptionsApiVersion})},t.prototype.deleteSubscription=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"notification",locationId:"70f911d6-abac-488c-85b3-a206bf57e165",resource:"Subscriptions",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",routeValues:{subscriptionId:n},apiVersion:this.subscriptionsApiVersion})},t.prototype.createSubscription=function(n){return this._beginRequest({httpMethod:"POST",area:"notification",locationId:"70f911d6-abac-488c-85b3-a206bf57e165",resource:"Subscriptions",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",responseType:i.TypeInfo.NotificationSubscription,apiVersion:this.subscriptionsApiVersion,data:n})},t.prototype.querySubscriptions=function(n){return this._beginRequest({httpMethod:"POST",area:"notification",locationId:"6864db85-08c0-4006-8e8e-cc1bebe31675",resource:"SubscriptionQuery",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.SubscriptionQuery,responseType:i.TypeInfo.NotificationSubscription,responseIsCollection:!0,apiVersion:this.subscriptionQueryApiVersion,data:n})},t.prototype.queryStatistics=function(n){return this._beginRequest({httpMethod:"POST",area:"notification",locationId:"77878ce9-6391-49af-aa9d-768ac784461f",resource:"StatisticsQuery",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.NotificationStatisticsQuery,responseType:i.TypeInfo.NotificationStatistic,responseIsCollection:!0,apiVersion:this.statisticsQueryApiVersion,data:n})},t.prototype.listEventTypes=function(n){var t={publisherId:n};return this._beginRequest({httpMethod:"GET",area:"notification",locationId:"cc84fb5f-6247-4c7a-aeae-e5a3c3fddb21",resource:"EventTypes",routeTemplate:"_apis/{area}/{resource}/{eventType}",responseType:i.TypeInfo.NotificationEventType,responseIsCollection:!0,queryParams:t,apiVersion:this.eventTypesApiVersion})},t.prototype.getEventType=function(n){return this._beginRequest({httpMethod:"GET",area:"notification",locationId:"cc84fb5f-6247-4c7a-aeae-e5a3c3fddb21",resource:"EventTypes",routeTemplate:"_apis/{area}/{resource}/{eventType}",responseType:i.TypeInfo.NotificationEventType,routeValues:{eventType:n},apiVersion:this.eventTypesApiVersion})},t.prototype.queryEventTypes=function(n,t){return this._beginRequest({httpMethod:"POST",area:"notification",locationId:"b5bbdd21-c178-4398-b6db-0166d910028a",resource:"EventTypeFieldValuesQuery",routeTemplate:"_apis/{area}/eventTypes/{eventType}/fieldValuesQuery",responseType:i.TypeInfo.NotificationEventField,responseIsCollection:!0,routeValues:{eventType:t},apiVersion:this.eventTypeFieldValuesQueryApiVersion,data:n})},t.prototype.publishEvent=function(n){return this._beginRequest({httpMethod:"POST",area:"notification",locationId:"14c57b7a-c0e6-4555-9f51-e067188fdd8e",resource:"Events",routeTemplate:"_apis/{area}/{resource}",requestType:r.TypeInfo.VssNotificationEvent,responseType:r.TypeInfo.VssNotificationEvent,apiVersion:this.eventsApiVersion,data:n})},t.serviceInstanceId="00025394-6065-48CA-87D9-7F5672854EF7",t}(f.VssHttpClient);t.CommonMethods3To7_1=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.performBatchNotificationOperations=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"notification",locationId:"8f3c6ab2-5bae-4537-b16e-f84e0955599e",resource:"BatchNotificationOperations",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.BatchNotificationOperation,apiVersion:this.batchNotificationOperationsApiVersion,data:n})},t}(s);t.CommonMethods3_1To7_1=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateSubscriptionUserSettings=function(n,t,i){return this._beginRequest({httpMethod:"PUT",area:"notification",locationId:"ed5a3dff-aeb5-41b1-b4f7-89e66e58b62e",resource:"UserSettings",routeTemplate:"_apis/{area}/Subscriptions/{subscriptionId}/{resource}/{userId}",routeValues:{subscriptionId:t,userId:i},apiVersion:this.userSettingsApiVersion,data:n})},t}(h);t.CommonMethods3_2To7_1=c;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateSubscriber=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"notification",locationId:"4d5caff1-25ba-430b-b808-7a1f352cc197",resource:"Subscribers",routeTemplate:"_apis/{area}/{resource}/{subscriberId}",requestType:i.TypeInfo.NotificationSubscriberUpdateParameters,responseType:i.TypeInfo.NotificationSubscriber,routeValues:{subscriberId:t},apiVersion:this.subscribersApiVersion,data:n})},t.prototype.getSubscriber=function(n){return this._beginRequest({httpMethod:"GET",area:"notification",locationId:"4d5caff1-25ba-430b-b808-7a1f352cc197",resource:"Subscribers",routeTemplate:"_apis/{area}/{resource}/{subscriberId}",responseType:i.TypeInfo.NotificationSubscriber,routeValues:{subscriberId:n},apiVersion:this.subscribersApiVersion})},t.prototype.listNotificationReasons=function(n){var t={notificationIds:n};return this._beginRequest({httpMethod:"GET",area:"notification",locationId:"19824fa9-1c76-40e6-9cce-cf0b9ca1cb60",resource:"NotificationReasons",routeTemplate:"_apis/{area}/{resource}/{notificationId}",responseType:i.TypeInfo.NotificationReason,responseIsCollection:!0,queryParams:t,apiVersion:this.notificationReasonsApiVersion})},t.prototype.getNotificationReasons=function(n){return this._beginRequest({httpMethod:"GET",area:"notification",locationId:"19824fa9-1c76-40e6-9cce-cf0b9ca1cb60",resource:"NotificationReasons",routeTemplate:"_apis/{area}/{resource}/{notificationId}",responseType:i.TypeInfo.NotificationReason,routeValues:{notificationId:n},apiVersion:this.notificationReasonsApiVersion})},t}(c);t.CommonMethods4To7_1=l;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateSubscriptionDiagnostics=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"notification",locationId:"20f1929d-4be7-4c2e-a74e-d47640ff3418",resource:"Diagnostics",routeTemplate:"_apis/{area}/subscriptions/{subscriptionId}/diagnostics",responseType:i.TypeInfo.SubscriptionDiagnostics,routeValues:{subscriptionId:t},apiVersion:this.diagnosticsApiVersion,data:n})},t.prototype.getSubscriptionDiagnostics=function(n){return this._beginRequest({httpMethod:"GET",area:"notification",locationId:"20f1929d-4be7-4c2e-a74e-d47640ff3418",resource:"Diagnostics",routeTemplate:"_apis/{area}/subscriptions/{subscriptionId}/diagnostics",responseType:i.TypeInfo.SubscriptionDiagnostics,routeValues:{subscriptionId:n},apiVersion:this.diagnosticsApiVersion})},t.prototype.listLogs=function(n,t,r,u){var f={startTime:r,endTime:u};return this._beginRequest({httpMethod:"GET",area:"notification",locationId:"991842f3-eb16-4aea-ac81-81353ef2b75c",resource:"DiagnosticLogs",routeTemplate:"_apis/{area}/{resource}/{source}/entries/{entryId}",responseType:i.TypeInfo.INotificationDiagnosticLog,responseIsCollection:!0,routeValues:{source:n,entryId:t},queryParams:f,apiVersion:this.diagnosticLogsApiVersion})},t}(l);t.CommonMethods4_1To7_1=a;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateSettings=function(n){return this._beginRequest({httpMethod:"PATCH",area:"notification",locationId:"cbe076d8-2803-45ff-8d8d-44653686ea2a",resource:"Settings",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.NotificationAdminSettingsUpdateParameters,responseType:i.TypeInfo.NotificationAdminSettings,apiVersion:this.settingsApiVersion,data:n})},t.prototype.getSettings=function(){return this._beginRequest({httpMethod:"GET",area:"notification",locationId:"cbe076d8-2803-45ff-8d8d-44653686ea2a",resource:"Settings",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.NotificationAdminSettings,apiVersion:this.settingsApiVersion})},t.prototype.transformEvent=function(n){return this._beginRequest({httpMethod:"POST",area:"notification",locationId:"9463a800-1b44-450e-9083-f948ea174b45",resource:"EventTransforms",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.eventTransformsApiVersion,data:n})},t}(a);t.CommonMethods5To7_1=e;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.publishTokenEvent=function(n){return this._beginRequest({httpMethod:"POST",area:"notification",locationId:"31dc86a2-67e8-4452-99a4-2b301ba28291",resource:"TokenNotificationEvent",routeTemplate:"_apis/{area}/{resource}",requestType:r.TypeInfo.VssNotificationEvent,responseType:r.TypeInfo.VssNotificationEvent,apiVersion:this.tokenNotificationEventApiVersion,data:n})},t}(e);t.CommonMethods6_1To7_1=o;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.batchNotificationOperationsApiVersion=r.diagnosticLogsApiVersion=r.diagnosticsApiVersion=r.eventsApiVersion=r.eventTransformsApiVersion=r.eventTypeFieldValuesQueryApiVersion=r.eventTypesApiVersion=r.notificationReasonsApiVersion=r.settingsApiVersion=r.statisticsQueryApiVersion=r.subscribersApiVersion=r.subscriptionQueryApiVersion=r.subscriptionsApiVersion=r.subscriptionTemplatesApiVersion=r.tokenNotificationEventApiVersion=r.userSettingsApiVersion="7.1-preview.1",r}return __extends(t,n),t}(o);t.NotificationHttpClient7_1=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.batchNotificationOperationsApiVersion=r.diagnosticLogsApiVersion=r.diagnosticsApiVersion=r.eventsApiVersion=r.eventTransformsApiVersion=r.eventTypeFieldValuesQueryApiVersion=r.eventTypesApiVersion=r.notificationReasonsApiVersion=r.settingsApiVersion=r.statisticsQueryApiVersion=r.subscribersApiVersion=r.subscriptionQueryApiVersion=r.subscriptionsApiVersion=r.subscriptionTemplatesApiVersion=r.tokenNotificationEventApiVersion=r.userSettingsApiVersion="7.0",r}return __extends(t,n),t}(o);t.NotificationHttpClient7=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.batchNotificationOperationsApiVersion=r.diagnosticLogsApiVersion=r.diagnosticsApiVersion=r.eventsApiVersion=r.eventTransformsApiVersion=r.eventTypeFieldValuesQueryApiVersion=r.eventTypesApiVersion=r.notificationReasonsApiVersion=r.settingsApiVersion=r.statisticsQueryApiVersion=r.subscribersApiVersion=r.subscriptionQueryApiVersion=r.subscriptionsApiVersion=r.subscriptionTemplatesApiVersion=r.tokenNotificationEventApiVersion=r.userSettingsApiVersion="6.1",r}return __extends(t,n),t}(o);t.NotificationHttpClient6_1=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.batchNotificationOperationsApiVersion=r.diagnosticLogsApiVersion=r.diagnosticsApiVersion=r.eventsApiVersion=r.eventTransformsApiVersion=r.eventTypeFieldValuesQueryApiVersion=r.eventTypesApiVersion=r.notificationReasonsApiVersion=r.settingsApiVersion=r.statisticsQueryApiVersion=r.subscribersApiVersion=r.subscriptionQueryApiVersion=r.subscriptionsApiVersion=r.subscriptionTemplatesApiVersion=r.userSettingsApiVersion="6.0",r}return __extends(t,n),t}(e);t.NotificationHttpClient6=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.batchNotificationOperationsApiVersion=r.diagnosticLogsApiVersion=r.diagnosticsApiVersion=r.eventsApiVersion=r.eventTransformsApiVersion=r.eventTypeFieldValuesQueryApiVersion=r.eventTypesApiVersion=r.notificationReasonsApiVersion=r.settingsApiVersion=r.statisticsQueryApiVersion=r.subscribersApiVersion=r.subscriptionQueryApiVersion=r.subscriptionsApiVersion=r.subscriptionTemplatesApiVersion=r.userSettingsApiVersion="5.2",r}return __extends(t,n),t}(e);t.NotificationHttpClient5_2=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.batchNotificationOperationsApiVersion=r.diagnosticLogsApiVersion=r.diagnosticsApiVersion=r.eventsApiVersion=r.eventTransformsApiVersion=r.eventTypeFieldValuesQueryApiVersion=r.eventTypesApiVersion=r.notificationReasonsApiVersion=r.settingsApiVersion=r.statisticsQueryApiVersion=r.subscribersApiVersion=r.subscriptionQueryApiVersion=r.subscriptionsApiVersion=r.subscriptionTemplatesApiVersion=r.userSettingsApiVersion="5.1",r}return __extends(t,n),t}(e);t.NotificationHttpClient5_1=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.batchNotificationOperationsApiVersion=r.diagnosticLogsApiVersion=r.diagnosticsApiVersion=r.eventsApiVersion=r.eventTransformsApiVersion=r.eventTypeFieldValuesQueryApiVersion=r.eventTypesApiVersion=r.notificationReasonsApiVersion=r.settingsApiVersion=r.statisticsQueryApiVersion=r.subscribersApiVersion=r.subscriptionQueryApiVersion=r.subscriptionsApiVersion=r.subscriptionTemplatesApiVersion=r.userSettingsApiVersion="5.0",r}return __extends(t,n),t}(e);t.NotificationHttpClient5=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.batchNotificationOperationsApiVersion=r.diagnosticLogsApiVersion=r.diagnosticsApiVersion=r.eventsApiVersion=r.eventTypeFieldValuesQueryApiVersion=r.eventTypesApiVersion=r.notificationReasonsApiVersion=r.statisticsQueryApiVersion=r.subscribersApiVersion=r.subscriptionQueryApiVersion=r.subscriptionsApiVersion=r.subscriptionTemplatesApiVersion=r.userSettingsApiVersion="4.1",r}return __extends(t,n),t}(a);t.NotificationHttpClient4_1=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.batchNotificationOperationsApiVersion=r.eventsApiVersion=r.eventTypeFieldValuesQueryApiVersion=r.eventTypesApiVersion=r.notificationReasonsApiVersion=r.statisticsQueryApiVersion=r.subscribersApiVersion=r.subscriptionQueryApiVersion=r.subscriptionsApiVersion=r.subscriptionTemplatesApiVersion=r.userSettingsApiVersion="4.0",r}return __extends(t,n),t}(l);t.NotificationHttpClient4=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.batchNotificationOperationsApiVersion=r.eventsApiVersion=r.eventTypeFieldValuesQueryApiVersion=r.eventTypesApiVersion=r.statisticsQueryApiVersion=r.subscriptionQueryApiVersion=r.subscriptionsApiVersion=r.subscriptionTemplatesApiVersion=r.userSettingsApiVersion="3.2",r}return __extends(t,n),t}(c);t.NotificationHttpClient3_2=tt;it=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.batchNotificationOperationsApiVersion=r.eventsApiVersion=r.eventTypeFieldValuesQueryApiVersion=r.eventTypesApiVersion=r.statisticsQueryApiVersion=r.subscriptionQueryApiVersion=r.subscriptionsApiVersion=r.subscriptionTemplatesApiVersion="3.1",r}return __extends(t,n),t}(h);t.NotificationHttpClient3_1=it;rt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.eventsApiVersion=r.eventTypeFieldValuesQueryApiVersion=r.eventTypesApiVersion=r.statisticsQueryApiVersion=r.subscriptionQueryApiVersion=r.subscriptionsApiVersion=r.subscriptionTemplatesApiVersion="3.0",r}return __extends(t,n),t}(s);t.NotificationHttpClient3=rt;ft=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(v);t.NotificationHttpClient=ft;ut={"7.1":v,"7.0":y,"6.1":p,"6.0":w,"5.2":b,"5.1":k,"5.0":d,"4.1":g,"4.0":nt,"3.2":tt,"3.1":it,"3.0":rt};t.getClient=et});

define("Notifications/Resources",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a;Object.defineProperty(t,"__esModule",{value:!0});t.SubscriptionTemplatesResource=t.SubscriptionsResource=t.SubscriptionsQueryResource=t.StatisticsQueryResource=t.NotificationsCustomerIntelligenceConstants=t.NotificationApiConstants=t.FollowsCustomerIntelligenceConstants=t.EventTypesResource=t.EventTypesFieldsResource=t.EventsResource=t.BatchNotificationOperationsResource=void 0,function(n){n.LocationId="8f3c6ab2-5bae-4537-b16e-f84e0955599e";n.Name="BatchNotificationOperations"}(i=t.BatchNotificationOperationsResource||(t.BatchNotificationOperationsResource={})),function(n){n.LocationId="14c57b7a-c0e6-4555-9f51-e067188fdd8e";n.Name="Events"}(r=t.EventsResource||(t.EventsResource={})),function(n){n.LocationId="b5bbdd21-c178-4398-b6db-0166d910028a";n.LocationIdString="b5bbdd21-c178-4398-b6db-0166d910028a";n.Name="EventTypeFieldValuesQuery"}(u=t.EventTypesFieldsResource||(t.EventTypesFieldsResource={})),function(n){n.LocationId="cc84fb5f-6247-4c7a-aeae-e5a3c3fddb21";n.Name="EventTypes"}(f=t.EventTypesResource||(t.EventTypesResource={})),function(n){n.Feature="Follows";n.FollowAction="Follow";n.UnfollowAction="Unfollow"}(e=t.FollowsCustomerIntelligenceConstants||(t.FollowsCustomerIntelligenceConstants={})),function(n){n.AreaId="1790FF0F-C188-4554-8DE8-26A4CEB751A2";n.InstanceType="00000003-0000-8888-8000-000000000000";n.AreaName="notification"}(o=t.NotificationApiConstants||(t.NotificationApiConstants={})),function(n){n.Area="Microsoft.VisualStudio.Services.Notifications"}(s=t.NotificationsCustomerIntelligenceConstants||(t.NotificationsCustomerIntelligenceConstants={})),function(n){n.LocationId="77878ce9-6391-49af-aa9d-768ac784461f";n.Name="StatisticsQuery"}(h=t.StatisticsQueryResource||(t.StatisticsQueryResource={})),function(n){n.LocationId="6864db85-08c0-4006-8e8e-cc1bebe31675";n.Name="SubscriptionQuery"}(c=t.SubscriptionsQueryResource||(t.SubscriptionsQueryResource={})),function(n){n.LocationId="70f911d6-abac-488c-85b3-a206bf57e165";n.Name="Subscriptions"}(l=t.SubscriptionsResource||(t.SubscriptionsResource={})),function(n){n.LocationId="fa5d24ba-7484-4f3d-888d-4ec6b1974082";n.Name="SubscriptionTemplates"}(a=t.SubscriptionTemplatesResource||(t.SubscriptionTemplatesResource={}))});

define("Notifications/Services",["require","exports","q","VSS/Events/Services","Notifications/Resources","Notifications/RestClient","VSS/Service","VSS/ClientTrace/Contracts","VSS/ClientTrace/Services","VSS/Diag"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.FollowsService=void 0;var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t,i){i===void 0&&(i=null);n.prototype.initializeConnection.call(this,t);this._httpClient=e.getCollectionClient(f.NotificationHttpClient3_1,this.getWebContext(),i);this._followsCache={}},t.prototype.clearCache=function(){this._followsCache&&(this._followsCache={})},t.prototype.getSubscription=function(n,r){var f=this,h={artifactId:n.artifactId,artifactType:n.artifactType,type:t.FOLLOWS_TYPE,artifactUri:null,eventType:""},c={filter:h,flags:null,subscriptionId:n.subscriptionId?n.subscriptionId.toString():null,scope:"",subscriberId:r},l={conditions:[c],queryFlags:null},e=this._makePromiseKey(n.artifactId,n.artifactType),o=this._followsCache[e],s,u;return o?o:(s=this._httpClient.querySubscriptions(l),u=i.defer(),this._followsCache[e]=u.promise,s.then(function(n){n.length>0?u.resolve(f._artifactSubscriptionFromNotificationSubscription(n[0])):u.resolve(null)},function(n){f._publishErrorTelemetry("getSubscription",n);delete f._followsCache[e];u.reject(n)}),u.promise)},t.prototype.followArtifact=function(n,i){var r=this._getNotificationSubscriptionObject(n),f=this._httpClient.createSubscription(r),e=$.extend({layer:t.LAYER},i||{},{artifactId:n.artifactId,artifactType:n.artifactType});return this._publishTelemetry(e,u.FollowsCustomerIntelligenceConstants.FollowAction),this._handlePromise(n,!0,f)},t.prototype.unfollowArtifact=function(n,r,f){var o=this,c=this._getNotificationSubscriptionObject(n),h=$.extend({layer:t.LAYER},f||{},{artifactId:n.artifactId,artifactType:n.artifactType}),e,s;return this._publishTelemetry(h,u.FollowsCustomerIntelligenceConstants.UnfollowAction),n.subscriptionId<=0?(e=i.defer(),this.getSubscription(n,r).then(function(t){if(t){var i=o._httpClient.deleteSubscription(t.subscriptionId.toString());o._handlePromise(n,!1,i).then(function(){e.resolve(null)})}else e.resolve(null)},function(n){o._publishErrorTelemetry("getSubscription",n);e.reject(n)}),e.promise):(s=this._httpClient.deleteSubscription(n.subscriptionId.toString()),this._handlePromise(n,!1,s))},t.prototype.refresh=function(n){var t=this._makePromiseKey(n.artifactId,n.artifactType);delete this._followsCache[t]},t.prototype._getNotificationSubscriptionObject=function(n){var i={artifactId:n.artifactId,artifactType:n.artifactType,type:t.FOLLOWS_TYPE,artifactUri:null,eventType:null};return{diagnostics:null,_links:null,adminSettings:null,channel:null,flags:null,lastModifiedBy:null,modifiedDate:null,scope:null,status:null,statusMessage:"",subscriber:null,url:"",userSettings:null,description:n.description,extendedProperties:null,id:n.subscriptionId?n.subscriptionId.toString():null,filter:i,permissions:null}},t.prototype._handlePromise=function(n,t,r){var f=this,e=i.defer(),o=this._makePromiseKey(n.artifactId,n.artifactType);return this._followsCache[o]=e.promise,this._fireChanging(n,t),r.then(function(i){e.resolve(t?f._artifactSubscriptionFromNotificationSubscription(i):null);i&&(n.subscriptionId=parseInt(i.id));f._fireChanged(n,t)},function(i){!t&&i&&i.status===204?e.resolve(null):(f._publishErrorTelemetry(t?u.FollowsCustomerIntelligenceConstants.FollowAction:u.FollowsCustomerIntelligenceConstants.UnfollowAction,i),delete f._followsCache[o],e.reject(i));f._fireChanged(n,t)}),e.promise},t.prototype._artifactSubscriptionFromNotificationSubscription=function(n){var t=n.filter;return n.description!=null&&n.description!=""?{artifactId:t.artifactId,artifactType:t.artifactType,subscriptionId:parseInt(n.id),description:n.description}:{artifactId:t.artifactId,artifactType:t.artifactType,subscriptionId:parseInt(n.id)}},t.prototype._makePromiseKey=function(n,t){return t+"_"+n},t.prototype._fireChanging=function(n,i){this._fireEvent(t.FOLLOWS_STATE_CHANGING,n,i)},t.prototype._fireChanged=function(n,i){this._fireEvent(t.FOLLOWS_STATE_CHANGED,n,i)},t.prototype._fireEvent=function(n,t,i){var u={artifact:t,isFollowing:i};r.getService().fire(n,this,u)},t.prototype._publishTelemetry=function(n,t){var i=$.extend(n,{action:t});try{s.trace({area:n.area||u.NotificationsCustomerIntelligenceConstants.Area,feature:u.FollowsCustomerIntelligenceConstants.Feature,properties:i,level:o.Level.Info})}catch(r){h.logError("Follows: Publish telemetry failed with error: ".concat(r.message))}},t.prototype._publishErrorTelemetry=function(n,t){t||(t=new Error("Unknown error"));try{var i={action:n,error:t};s.trace({area:u.NotificationsCustomerIntelligenceConstants.Area,feature:u.FollowsCustomerIntelligenceConstants.Feature,properties:i,level:o.Level.Error})}catch(r){h.logError("Follows: Publish error telemetry failed with error: ".concat(r.message))}},t.FOLLOWS_STATE_CHANGED="Follows.State.Changed",t.FOLLOWS_STATE_CHANGING="Follows.State.Changing",t.FOLLOWS_TYPE="Artifact",t.LAYER="Web.FollowsService",t}(e.VssService);t.FollowsService=c});

define("Presentation/Scripts/TFS/FeatureRef/WorkItemTypeColorAndIconsProvider",["require","exports","VSS/Diag","VSS/Service","VSS/Contributions/Services","VSS/Error","Presentation/Scripts/TFS/TFS.Host.TfsContext","TFS/WorkItemTracking/RestClient","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f,e,o,s){function h(n){return n=n||"",n.trim().toLowerCase()}var c,l;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemTypeColorAndIconsProvider=t.WorkItemTypeColorAndIcons=t.getNormalizedValue=void 0;t.getNormalizedValue=h;c=function(){function n(){this._items={}}return n.getDefault=function(){return{color:n.DEFAULT_WORKITEMTYPE_COLOR,icon:n.DEFAULT_WORKITEMTYPE_BOWTIE_ICON}},n.prototype.setColorAndIcon=function(t,i,r){var u=h(t);return this._items[u]={color:n.transformColor(i),icon:n.transformIcon(r)},this._items[u]},n.prototype.getColorAndIcon=function(t){var i=h(t);return this._items[i]||n.getDefault()},n.transformColor=function(t){return t?"#".concat(t.substr(t.length-6)):n.DEFAULT_WORKITEMTYPE_COLOR},n.transformIcon=function(t){return(t=h(t),!t||!n.ICON_NAME_MAPPINGS[t])?n.DEFAULT_WORKITEMTYPE_BOWTIE_ICON:n.ICON_NAME_MAPPINGS[t]},n.ICON_NAME_MAPPINGS={icon_crown:"bowtie-symbol-crown",icon_trophy:"bowtie-symbol-trophy",icon_list:"bowtie-symbol-list",icon_book:"bowtie-symbol-book",icon_sticky_note:"bowtie-symbol-stickynote",icon_clipboard:"bowtie-symbol-task",icon_insect:"bowtie-symbol-bug",icon_traffic_cone:"bowtie-symbol-impediment",icon_chat_bubble:"bowtie-symbol-review",icon_flame:"bowtie-symbol-flame",icon_megaphone:"bowtie-symbol-ask",icon_test_plan:"bowtie-test-plan",icon_test_suite:"bowtie-test-suite",icon_test_case:"bowtie-test-case",icon_test_step:"bowtie-test-step",icon_test_parameter:"bowtie-test-parameter",icon_code_review:"bowtie-symbol-review-request",icon_code_response:"bowtie-symbol-review-response",icon_review:"bowtie-symbol-feedback-request",icon_response:"bowtie-symbol-feedback-response",icon_ribbon:"bowtie-symbol-ribbon",icon_chart:"bowtie-symbol-finance",icon_headphone:"bowtie-symbol-headphone",icon_key:"bowtie-symbol-key",icon_airplane:"bowtie-symbol-airplane",icon_car:"bowtie-symbol-car",icon_diamond:"bowtie-symbol-diamond",icon_asterisk:"bowtie-symbol-asterisk",icon_database_storage:"bowtie-symbol-storage-database",icon_government:"bowtie-symbol-government",icon_gavel:"bowtie-symbol-decision",icon_parachute:"bowtie-symbol-parachute",icon_paint_brush:"bowtie-symbol-paint-brush",icon_palette:"bowtie-symbol-color-palette",icon_gear:"bowtie-settings-gear",icon_check_box:"bowtie-status-success-box",icon_gift:"bowtie-package-fill",icon_test_beaker:"bowtie-test-fill",icon_broken_lightbulb:"bowtie-symbol-defect",icon_clipboard_issue:"bowtie-symbol-issue",icon_github:"bowtie-brand-github",icon_pull_request:"bowtie-tfvc-pull-request",icon_github_issue:"bowtie-status-error-outline"},n.DEFAULT_UNPARENTED_WORKITEM_COLOR="#A6A6A6",n.DEFAULT_UNPARENTED_WORKITEM_BOWTIE_ICON="bowtie-square",n.DEFAULT_WORKITEMTYPE_COLOR_HEX="009CCC",n.DEFAULT_WORKITEMTYPE_COLOR="#".concat(n.DEFAULT_WORKITEMTYPE_COLOR_HEX),n.DEFAULT_WORKITEMTYPE_ICON=s.WorkItemTypeIcons.DefaultWorkItemTypeIconName,n.DEFAULT_WORKITEMTYPE_BOWTIE_ICON=n.ICON_NAME_MAPPINGS[n.DEFAULT_WORKITEMTYPE_ICON],n}();t.WorkItemTypeColorAndIcons=c;l=function(){function n(){this._cachedPromises={};this._projectToColorAndIconsMap={};this._restClient=o.getClient()}return n.getInstance=function(){return n._instance||(n._instance=this._getDataProvider()),n._instance},n.prototype.isPopulated=function(n){return n?(n=h(n),this._projectToColorAndIconsMap.hasOwnProperty(n)):!1},n.prototype.getColorAndIcon=function(n,t){return n&&t&&(n=h(n),this._projectToColorAndIconsMap[n])?this._projectToColorAndIconsMap[n].getColorAndIcon(t):c.getDefault()},n.prototype.getColor=function(n,t){return this.getColorAndIcon(n,t).color},n.prototype.ensureColorAndIconsArePopulated=function(n){var s=this,u,e,o,t,r;for(n||i.Debug.fail("EnsureWorkItemTypeColors - parameter 'projects' cannot be null or undefined"),u={},e=0,o=n;e<o.length;e++)t=o[e],t=h(t),u.hasOwnProperty(t)||this.isPopulated(t)||(u[t]=null);return(r=Object.keys(u),r.length===0)?Promise.resolve():r.length===1?this._fetchWorkItemTypeColorAndIcons(r[0]):this._restClient.getWorkItemTypeColorAndIcons(r).then(function(n){for(var r,t=0,i=n;t<i.length;t++)r=i[t],s._setColors(r.key,r.value)},function(n){return f.publishErrorToTelemetry(n)})},n.prototype.getColorAndIconAsync=function(n,t){var r=this;return(i.Debug.assertIsNotNull(n,"WorkItemTypeColorAndIconsProvider - 'getColorAndIconAsync' projectName cannot be null/undefined"),this.isPopulated(n))?Promise.resolve(this.getColorAndIcon(n,t)):this.queueEnsureColorAndIconsArePopulated(n).then(function(){return r.getColorAndIcon(n,t)})},n.prototype.getColorAsync=function(n,t){return i.Debug.assertIsNotNull(n,"WorkItemTypeColorAndIconsProvider - 'getColorAsync' projectName cannot be null/undefined"),this.getColorAndIconAsync(n,t).then(function(n){return n.color})},n.prototype.queueEnsureColorAndIconsArePopulated=function(n){var t=this;return i.Debug.assertIsNotNull(n,"WorkItemTypeColorAndIconsProvider - 'queueEnsureColorAndIconsArePopulated' projectName cannot be null/undefined"),n=h(n),this._cachedPromises[n]?this._cachedPromises[n]:(this._cachedPromises[n]=this.ensureColorAndIconsArePopulated([n]),this._cachedPromises[n].then(function(){delete t._cachedPromises[n]},function(i){delete t._cachedPromises[n];f.publishErrorToTelemetry(i)}))},n.prototype._setColors=function(n,t){for(var i,u=new c,r=0,f=t;r<f.length;r++)i=f[r],u.setColorAndIcon(i.workItemTypeName,i.color,i.icon);n=h(n);this._projectToColorAndIconsMap[n]=u},n._getDataProvider=function(){var t=e.TfsContext.getDefault().contextData.project,o=r.getService(u.WebPageDataService),i=new n,f=o.getPageData("ms.vss-work-web.work-item-type-color-icon-data-provider");return t&&f&&i._setColors(t.name,f),i},n.prototype._fetchWorkItemTypeColorAndIcons=function(t){var i=this;return this._restClient.getWorkItemTypes(t).then(function(r){if(!r)throw new Error("WorkItemTypeColorAndIconsProvider - '_restClient.getWorkItemTypes' returned undefined workItemTypes for project '".concat(t,"'"));i._setColors(t,r.map(function(i){if(!i)throw new Error("WorkItemTypeColorAndIconsProvider - '_restClient.getWorkItemTypes' returned a null type for project '".concat(t,"'"));return n._toWorkItemTypeColorAndIcon(i)}))},function(n){return f.publishErrorToTelemetry(n)}).then(function(){},function(n){return f.publishErrorToTelemetry(n)})},n._toWorkItemTypeColorAndIcon=function(n){var i=n.color,t=n.icon,r=n.name;return{color:i,icon:t&&t.id,workItemTypeName:r}},n}();t.WorkItemTypeColorAndIconsProvider=l});

define("Presentation/Scripts/TFS/Components/WorkItemTypeIcon",["require","exports","react","react-dom","Presentation/Scripts/TFS/FeatureRef/WorkItemTypeColorAndIconsProvider","VSS/Telemetry/Services","OfficeFabric/Utilities","VSSUI/Util","VSSUI/Tooltip","VSS/LoaderPlugins/Css!Presentation/Components/WorkItemTypeIcon"],function(n,t,i,r,u,f,e,o,s){function a(n,t,u,f,e){var o=typeof u!="string",s={workItemTypeName:t,projectName:o?null:u,customInput:o?u:null,iconAccessibilityOptions:f},l=c(n,!0);r.render(i.createElement(h,__assign({},s)),l,e)}function v(n){var t=c(n,!1);t&&(r.unmountComponentAtNode(t),n.removeChild(t))}function c(n,t){var r="work-item-type-icon-host",u=n.getElementsByClassName(r),i;return u.length>0?u[0]:t?(i=document.createElement("span"),i.classList.add(r),n.appendChild(i),i):undefined}var h,l;Object.defineProperty(t,"__esModule",{value:!0});t.unmountWorkItemTypeIcon=t.renderWorkItemTypeIcon=t.WorkItemTypeIcon=void 0;h=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._isMounted=!1,i.state=i._getState(i.props),i}return __extends(t,n),t.prototype.render=function(){var c=!this.props.customInput&&this._isProjectAndWorkItemTypeNullOrEmpty();c&&l.publishEvent(__assign(__assign({},this.props),{insufficientInput:c}));var a=this.state?this.state.icon:null,v=this.state?this.state.color:u.WorkItemTypeColorAndIcons.DEFAULT_WORKITEMTYPE_COLOR,n=this.props.iconAccessibilityOptions,r=null,f=null,t=!n||!n.suppressTooltip;t&&(r=n&&n.tooltip||this.props.workItemTypeName,f=e.getId("work-item-type-icon-tooltip"));var y=n&&n.ariaAttributes?n.ariaAttributes.label:r||this.props.workItemTypeName,b=n&&n.ariaAttributes?n.ariaAttributes.describedby:f,p=n&&n.ariaAttributes?n.ariaAttributes.labelledby:null,w=o.css("work-item-type-icon bowtie-icon",a,{"work-item-type-icon-no-tooltip":!t},!t&&this.props.className),h=i.createElement("i",{"aria-label":y,"aria-labelledby":p,className:w,role:"figure",style:{color:v}});return h&&t?i.createElement(s.TooltipHost,{hostClassName:o.css("work-item-type-icon-wrapper",this.props.className),content:r,id:f},h):h},t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.componentWillReceiveProps=function(n){var t=this._getState(n);t&&(!this.state||t.color!==this.state.color||t.icon!==this.state.icon)&&this.setState(t)},t.prototype._getState=function(n){var i=this,t;return n.customInput?{color:n.customInput.color?n.customInput.color:u.WorkItemTypeColorAndIcons.DEFAULT_WORKITEMTYPE_COLOR,icon:n.customInput.icon?n.customInput.icon:u.WorkItemTypeColorAndIcons.DEFAULT_WORKITEMTYPE_BOWTIE_ICON}:this._isProjectAndWorkItemTypeNullOrEmpty()?u.WorkItemTypeColorAndIcons.getDefault():(t=u.WorkItemTypeColorAndIconsProvider.getInstance(),t.isPopulated(n.projectName)?t.getColorAndIcon(n.projectName,n.workItemTypeName):(t.getColorAndIconAsync(n.projectName,n.workItemTypeName).then(function(n){i._isMounted&&i.setState(n)}),null))},t.prototype._isProjectAndWorkItemTypeNullOrEmpty=function(){return!(this.props.projectName&&this.props.workItemTypeName)},t}(i.Component);t.WorkItemTypeIcon=h;t.renderWorkItemTypeIcon=a;t.unmountWorkItemTypeIcon=v;l=function(){function n(){}return n.publishEvent=function(t,i){f.publishEvent(new f.TelemetryEventData("WIT",n._featureName,__assign(__assign({},t),{action:n._featureAction})),i)},n._featureAction="Render",n._featureName="WorkItemTypeIcon",n}()});

define("VSS/Search",["require","exports","VSS/Diag","VSS/Utils/Array","VSS/Utils/Core","VSS/VSS"],function(n,t,i,r,u,f){function h(n,t){var u=n.length,r,f,e,i;if(u>1){for(n.sort(t),r=new Array(u),r[0]=n[0],f=0,e=1,i=1;i<u;i++)n[i]!==n[f]&&(r[e++]=n[i],f=i);r.length=e;n=r}return n}var c,l,e,a,v,o,p,w,b;Object.defineProperty(t,"__esModule",{value:!0});t.fastUnique=t.SearchableObject=t.SearchAdapter=t.InvertedIndexStore=t.TrieStore=t.IndexedSearchStore=t.IndexedSearchStrategy=t.SubstringSearchStrategy=t.SearchStrategy=t.SearchCore=void 0;c=u.delegate;l=function(){function n(n,t){this._strategy=n;this._adapter=t}return n.prototype.addItems=function(n){var t=this;i.measurePerformance(function(){t._strategy.processItems(n)},"[SearchCore] Index Building Time");i.logTracePoint("SearchCore.finishIndexing")},n.prototype.beginSearch=function(n){var r=this,t;return this._adapter.isDataSetComplete()||this._adapter.addMoreItems(c(this,this.addItems),function(){r.beginSearch(n)}),i.measurePerformance(function(){t=r._strategy.search(n)},"[SearchCore] Search Time"),this._adapter.handleResults(t,!0,n),t},n.prototype.getStrategy=function(){return this._strategy},n.prototype.clearStrategyStore=function(){this.getStrategy().clearStrategyStore()},n}();t.SearchCore=l;e=function(){function n(n){this._options=$.extend({},n);this._options.specialCharacters&&this._options.specialCharacters.length&&this._buildSpecialCharacterHashSet(this._options.specialCharacters)}return n.getTerms=function(n,t){var e,u,o,s,f,r,h;for(e=new Object(void 0),u=0,o=n;u<o.length;u++)for(s=o[u],f=s.toLocaleLowerCase().split(t||" "),r=0,h=f.length;r<h;r++)f[r]&&(e[f[r]]=!0);return Object.keys(e)},n.prototype._buildSpecialCharacterHashSet=function(n){var t,i,r;for(this._specialCharactersHashSet={},t=0,i=n;t<i.length;t++)r=i[t],this._specialCharactersHashSet[r.toLocaleLowerCase()]=!0},n.prototype._getTerms=function(t){var u=n.getTerms(t,this._options.delimiter),r,f;if(this._specialCharactersHashSet)for(r=0,f=u;r<f.length;r++){for(var e=f[r],i=0,o=e.length;i<o&&this._specialCharactersHashSet.hasOwnProperty(e[i]);)i++;i>0&&i<o&&u.push(e.substr(i))}return u},n.prototype.processItems=function(){},n.prototype.clearStrategyStore=function(){},n.prototype.search=function(){return[]},n.prototype.dataExists=function(){return!1},n.prototype.getIndexedItemsCount=function(){return 0},n.prototype.getIndexTotalSize=function(){return 0},n}();t.SearchStrategy=e;a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.processItems=function(n){for(var t,i=0,r=n;i<r.length;i++)t=r[i],t.terms.length===0||this._indexedItemsMap[t.item.toString()]||(this._indexedItemsMap[t.item.toString()]=t.terms.join(" ").toLowerCase())},t.prototype.getIndexTotalSize=function(){return Object.keys(this._indexedItemsMap).length},t.prototype.clearStrategyStore=function(){this._indexedItemsMap=new Map},t.prototype.getIndexedItemsCount=function(){return Object.keys(this._indexedItemsMap).length},t.prototype.search=function(n){var u=n.trim().toLowerCase(),i,t,r;if(u==="")return Object.keys(this._indexedItemsMap).map(function(n){return parseInt(n)});for(i=[],t=0,r=Object.entries(this._indexedItemsMap);t<r.length;t++){var f=r[t],e=f[0],o=f[1];o.includes(u)&&i.push(parseInt(e))}return i},t.prototype.dataExists=function(){return this._indexedItemsMap.size>0},t}(e);t.SubstringSearchStrategy=a;v=function(n){function t(t,i){var r=n.call(this,i)||this,u;return t?r._searchStore=t:(u={comparer:r._options.comparer},i&&i.delimiter&&(u.delimiter=i.delimiter),r._searchStore=new y(u)),r._dataExists=!1,r._indexedItems=[],r}return __extends(t,n),t.prototype.getIndexTotalSize=function(){return this._searchStore.getStoreTotalSize()},t.prototype.clearStrategyStore=function(){this._dataExists=!1;this._indexedItems=[];this._searchStore.clearStrategyStore()},t.prototype.getIndexedItemsCount=function(){return this._indexedItems.length},t.prototype.processItems=function(n){var f,r,u,t;for(f=0,r=0,u=n;r<u.length;r++)t=u[r],t.terms.length!==0&&this._searchStore.addToIndex(t.item,this._getTerms(t.terms))&&(this._indexedItems.push(t.item),f+=t.terms.length);this._dataExists=!0},t.prototype.search=function(n){var t=n.trim();return t===""?this._indexedItems:this._searchStore.search(t)},t.prototype.dataExists=function(){return this._dataExists},t}(e);t.IndexedSearchStrategy=v;o=function(){function n(n){this._options=n||{};this._comparer=this._options.comparer}return n.prototype.search=function(){return[]},n.prototype.addToIndex=function(){return!1},n.prototype.clearStrategyStore=function(){},n.prototype.getStoreTotalSize=function(){return 0},n}();t.IndexedSearchStore=o;var s=function(){function n(n){this.children={};this.content=[];n&&this.content.push(n)}return n}(),k=function(){function n(n){this.root=new s;this.SIZEOF_KEY=2;this.SIZEOF_NUMBER=8;this._comparer=n;this._trieSize=0}return n.prototype.insert=function(n,t){for(var i=this.root,r=0,o=n.length,u,f,e;r<o;++r)if(f=i.children[n[r]],f)i=f;else break;for(;r<o;++r)u=new s,this._trieSize+=this.SIZEOF_KEY,i.children[n[r]]=u,i=u;return e=!1,i.content.indexOf(t)===-1&&(i.content.push(t),this._trieSize+=this.SIZEOF_NUMBER,e=!0),e},n.prototype.find=function(n){for(var r,t=this.root,i=0,u=n.length;i<u;++i)if(r=n[i],t.children[r])t=t.children[r];else return null;return this._getAllDescendantContent(t)},n.prototype._getAllDescendantContent=function(n){var i=[],r=[],t,u;for(i.push(n);i.length;)if(t=i.pop(),t.content&&t.content.length&&(r=r.concat(t.content)),t.children)for(u in t.children)i.push(t.children[u]);return h(r,this._comparer)},n.prototype.clear=function(){this.root=new s;this._trieSize=0},n.prototype.getTrieTotalSize=function(){return this._trieSize},n}(),y=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._trie=new k(i._comparer),i}return __extends(t,n),t.prototype.search=function(n){for(var u,f,h=e.getTerms([n],this._options.delimiter),t=[],o=0,s=h;o<s.length;o++)if(u=s[o],u&&(f=this._trie.find(u),t=f?t.length===0?f:r.intersectUniqueSorted(t,f,this._comparer):[],t.length===0))break;return t},t.prototype.addToIndex=function(n,t){var u,r,f,e;for(u=!0,r=0,f=t;r<f.length;r++)e=f[r],this._trie.insert(e,n)||(u=!1);return u},t.prototype.clearStrategyStore=function(){this._trie.clear()},t.prototype.getStoreTotalSize=function(){return this._trie.getTrieTotalSize()},t}(o);t.TrieStore=y;p=function(n){function t(t){var i=n.call(this,t)||this;return i._index={},i._tokenCache={},i}return __extends(t,n),t.prototype.search=function(n){var s,t,u,o,c,f;for(s=e.getTerms([n],this._options.delimiter),t=[],u=0,o=s;u<o.length;u++)if(c=o[u],f=this._index[c],f)t=t.length===0?f:r.intersect(t,f,this._comparer);else{t=[];break}return h(t,this._comparer)},t.prototype.addToIndex=function(n,t){var f,e,h,r,u,l,o,s,c,a;if(f=!0,t)for(e=0,h=t;e<h.length;e++)if(r=h[e],u=[],r){if(this._addItemToIndex(n,r)||(f=!1),this._tokenCache[r])u=this._tokenCache[r];else{for(l=r.length,o=1;o<l;o++)u.push(r.substring(0,o));this._tokenCache[r]=u}if(u)for(s=0,c=u;s<c.length;s++)a=c[s],this._addItemToIndex(n,a)||(f=!1)}return f},t.prototype.clearStrategyStore=function(){this._index={}},t.prototype._addItemToIndex=function(n,t){var u=!1,r=this._index[t];return r||(r=[],this._index[t]=r),r.indexOf(n)===-1&&(r.push(n),u=!0),u},t}(o);t.InvertedIndexStore=p;w=function(){function n(){}return n.prototype.addMoreItems=function(){},n.prototype.createSearchableObjects=function(){return[]},n.prototype.handleResults=function(){},n.prototype.handleError=function(){},n.prototype.handleClear=function(){},n.prototype.isDataSetComplete=function(){return!1},n}();t.SearchAdapter=w;b=function(){function n(n,t){this.item=n;this.terms=t}return n.prototype.setTerms=function(n){this.terms=n},n.prototype.addTerm=function(n){this.terms.push(n)},n}();t.SearchableObject=b;t.fastUnique=h;f.tfsModuleLoaded("VSS.Search",t)});

define("VSS/Utils/Clipboard",["require","exports","VSS/VSS"],function(n,t,i){function r(n,t){var u=!1,r,f,i;if(t||window.clipboardData===undefined){i=$("<div/>");try{i.css("background-color","inherit");t?i.append(n):(i.css("white-space","pre"),i.text(n));document.body.createTextRange?(i.prependTo($("body")),r=document.body.createTextRange(),r.moveToElementText(i[0]),r.select(),u=r.execCommand("copy")):document.createRange&&window.getSelection&&(i.appendTo($("body")),r=document.createRange(),f=window.getSelection(),f.removeAllRanges(),r.selectNodeContents(i[0]),f.addRange(r),u=document.execCommand("copy"))}finally{i.remove()}}else window.clipboardData.setData(o,n),u=!0;return u}function u(n,t){var r;t&&t.copyDialogOptions?(r=t.copyDialogOptions,r.data=n,r.copyAsHtml=t.copyAsHtml):(r={data:n},t&&(r.copyAsHtml=t.copyAsHtml));i.using(["VSS/Controls/Dialogs"],function(n){n.show(n.CopyContentDialog,r)})}function s(n,t){if(n&&typeof n=="string")if(t&&t.showCopyDialog)u(n,t);else{var i=!1;if(t&&t.copyAsHtml){if(e())try{i=r(n,!0)}catch(o){}}else if(f())try{i=r(n,!1)}catch(o){}i||u(n,t)}}function f(){return document.queryCommandSupported("copy")||window.clipboardData!==undefined}function e(){return document.body.createTextRange!==undefined||document.queryCommandSupported("copy")&&document.createRange!==undefined}Object.defineProperty(t,"__esModule",{value:!0});t.supportsNativeHtmlCopy=t.supportsNativeCopy=t.copyToClipboard=void 0;var o="text";t.copyToClipboard=s;t.supportsNativeCopy=f;t.supportsNativeHtmlCopy=e});

define("VSS/Utils/HtmlTableFormatter",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.HtmlTableFormatter=void 0;var r=function(){function n(n,t,i){this._rows=n;this._columns=t;this._options=i}return n.prototype._getCellValue=function(n,t){return this._rows[n][t.index]},n.prototype._getSafeCellValue=function(n,t){var r=this._getCellValue(n,t),u=t.isValueHtml?r:i.htmlEncode(r);return u===""?"&nbsp;":u},n.prototype.getHtml=function(){var t=this;if(this._rows.length===0||this._columns.length===0)return"<div><\/div>";var r=this._columns.map(function(t){return'<th style="'.concat(n.COLUMN_STYLE,'">').concat(i.htmlEncode(t.name),"<\/th>")}),u='<thead style="'.concat(n.HEADER_STYLE,'"><tr>').concat(r.join(i.empty),"<\/tr><\/thead>"),f=this._rows.map(function(r,u){var f=t._columns.map(function(i){return'<td style="'.concat(n.COLUMN_STYLE,'">').concat(t._getSafeCellValue(u,i),"<\/td>")}),e=u%2?n.ROW_ALT_BACKGROUND_COLOR:n.ROW_BACKGROUND_COLOR;return'<tr style="'.concat(e,'">').concat(f.join(i.empty),"<\/tr>")}),e='<tbody style="'.concat(n.FONT_COLOR,'">').concat(f.join(i.empty),"<\/tbody>"),o=this._options&&this._options.extendedHtml?'<div style="'.concat(n.FONT_FAMILY+n.FONT_SIZE,'">').concat(this._options.extendedHtml,"<\/div>"):i.empty;return'<div><table border="0" cellpadding="0" cellspacing="0" style="'.concat(n.TABLE_STYLE,'">').concat(u).concat(e,"<\/table>").concat(o,"<\/div>")},n.HEADER_BACKGROUND_COLOR="background-color: #106EBE;",n.HEADER_COLOR="color: white;",n.FONT_SIZE="font-size: 11pt;",n.FONT_FAMILY="font-family: Calibri, sans-serif;",n.FONT_COLOR="color: inherit;",n.BORDER_COLLAPSE="border-collapse: collapse;",n.COLUMN_BORDER="border: 1px solid white;",n.COLUMN_VERTICAL_ALIGN="vertical-align: top;",n.COLUMN_PADDING="padding: 1.45pt .05in;",n.ROW_BACKGROUND_COLOR="",n.ROW_ALT_BACKGROUND_COLOR="background-color: rgb(124, 124, 124, 0.5)",n.COLUMN_STYLE=n.COLUMN_BORDER+n.COLUMN_VERTICAL_ALIGN+n.COLUMN_PADDING,n.HEADER_STYLE=n.HEADER_BACKGROUND_COLOR+n.HEADER_COLOR,n.TABLE_STYLE=n.FONT_FAMILY+n.FONT_SIZE+n.FONT_COLOR+n.BORDER_COLLAPSE,n}();t.HtmlTableFormatter=r});

/*!
 * jQuery UI Mouse 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/mouse",["jquery","./ie","./version","./widget"],e):e(jQuery)}(function(e){"use strict";var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.13.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,o=1===i.which,n=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(o&&!n&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Controls/Grids",["require","exports","VSS/Contributions/Services","VSS/Controls","VSS/Diag","VSS/Events/Action","VSS/Controls/Menus","VSS/Controls/PopupContent","VSS/Resources/VSS.Resources.Platform","VSS/Search","VSS/Service","VSS/Controls/StatusIndicator","VSS/Utils/Clipboard","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","VSS/Utils/HtmlTableFormatter","jQueryUI/droppable","jQueryUI/mouse","VSS/Utils/Draggable","VSS/Utils/TouchPunch","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function st(n,t,i,r,u){for(var f;n<t;)u[n]=i,f=Math.abs(r[n++])+n,f>n&&(st(n,f,i+1,r,u),n=f)}var rt,ht,g,nt,ut,ct,ft,lt;Object.defineProperty(t,"__esModule",{value:!0});t.HtmlTableFormatter=t.TabDelimitedTableFormatter=t.GridSearchAdapter=t.ListView=t.Grid=t.GridO=t.GridHierarchySource=t.GridDefaultSource=void 0;var tt=u.log,it=u.LogVerbosity.Verbose,d=v.delegate,k=p.domElem,et=10,ot;rt=function(){function n(n){this.update(n)}return n.prototype.update=function(n){this._updateSource(n);this.grid&&this.grid.setDataSource(this)},n.prototype.getSource=function(){return this._source},n.prototype.getExpandStates=function(){return null},n.prototype._updateSource=function(n){this._source=n||[]},n}();t.GridDefaultSource=rt;ht=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getExpandStates=function(){return this._expandStates},t.prototype._updateSource=function(n){this._source=[];this._expandStates=[];this._prepareItems(n||[])},t.prototype._prepareItems=function(n){for(var t,o,s,f,i=0,r=this._expandStates,u=0,e=n;u<e.length;u++)t=e[u],i+=1,this._source.push(Array.isArray(t.values)?t.values:t),o=r.length,r.push(0),s=Array.isArray(t.children)&&t.children.length>0,s&&(f=this._prepareItems(t.children),r[o]=f*(t.collapsed===!0?-1:1),i+=f);return i},t}(rt);t.GridHierarchySource=ht;g=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._showingContextMenu=!1,i._contextMenuKeyPressedState=2,i._isAboveFirstOrBelowLastRow=!1,i._focusStateData={rowActionList:{},headerActionList:[],currentActionIndex:-1,currentHeaderActionIndex:-1},i._focusedElement=null,i._rows={},i._columns=[],i._sortOrder=[],i}return __extends(t,n),t.prototype.initializeOptions=function(i){n.prototype.initializeOptions.call(this,$.extend({autoSort:!0,payloadSize:t.PAYLOAD_SIZE,extendViewportBy:3,gutter:{contextMenu:null,icon:!1,checkbox:!1},header:!0,allowMoveColumns:!0,draggable:null,droppable:null,asyncInit:!0,sharedMeasurements:!0,coreCssClass:"grid"},i));this._options.contextMenu&&(this._options.contextMenu.useBowtieStyle=!this._options.useLegacyStyle)},t.prototype.getSelectionCount=function(){return this._selectionCount},t.prototype._enhance=function(t){n.prototype._enhance.call(this,t);this._buildDom()},t.prototype.initialize=function(){var t,r;n.prototype.initialize.call(this);this._getMode()!=="listbox"&&this.getElement().attr("aria-readonly","true");this._contentSize={width:300,height:400};this._takeMeasurements();t=this._options;t.ariaLabel&&this.getElement().attr("aria-label",t.ariaLabel);t.asyncInit?v.delay(this,10,function(){this.isDisposed()||this._attachEvents()}):this._attachEvents();r=t.contextMenu;r&&typeof r.columnIndex=="undefined"&&(this._automaticContextMenuColumn=!0);this.initializeDataSource(t.suppressRedraw);r&&r.contributionIds&&c.getService(i.ExtensionService).getContributionsForTargets(r.contributionIds);u.logTracePoint("Grid.initialize.complete")},t.prototype.getDraggingRowInfo=function(){return this._draggingRowInfo},t.prototype._getDragOverRows=function(){return this._ddRowOverStatus},t.prototype._getAcceptStatus=function(n){return this._droppable.accept||this._droppable.acceptSelector?this._ddRowAcceptStatus[n]:!0},t.prototype._resetRowAcceptStatus=function(){this._ddRowAcceptStatus={}},t.prototype._rowDropTryActivate=function(n,t,i){var r=this._rowDropAccept(n,i.draggable);return r&&this._rowDropActivate(n,t,i),r},t.prototype._rowIntersect=function(n,t){var f=this._rows[t.dataIndex],i,r,u;return f?(i=f.row,r=i.offset(),r.top-=this._rowOffsetHeight||0,u=this._calculateIntersectPosition(n),$.ui.intersect(n,{offset:r,proportions:function(){return{width:i[0].offsetWidth,height:i[0].offsetHeight}}},this._droppable.tolerance,{pageY:u.pageY,pageX:u.pageX})):!1},t.prototype._calculateIntersectPosition=function(n){var t,i;return(n.positionAbs||n.position)&&(n.clickOffset||n.offset)&&(t=(n.positionAbs||n.position.absolute).top+(n.clickOffset||n.offset.click).top,i=(n.positionAbs||n.position.absolute).left+(n.clickOffset||n.offset.click).left),{pageY:t,pageX:i}},t.prototype.initializeDataSource=function(n){var t;if(this._resetScroll){this._ignoreScroll=!0;try{t=this._canvas[0];t.scrollTop=0;t.scrollLeft=0;this._scrollLeft=0;this._scrollTop=0;this._resetScroll=!1}finally{this._ignoreScroll=!1}}this.setDataSource(this._options.source,this._options.expandStates,this._options.columns,this._options.sortOrder,undefined,n);n||(this._expandedCount>0?this._options.keepSelection&&this._selectedIndex>=0?this._selectRow(Math.min(this._selectedIndex,this._expandedCount-1)):this.selectInitialRow():this.setSelectedRowIndex(-1))},t.prototype.selectInitialRow=function(){this._selectRow(this._options.initialSelection!==!1?0:-1)},t.prototype.setDataSource=function(n,t,i,r,f,e){function y(){a.isDisposed()?u.logWarning("Layout called (in setDataSource) after grid was disposed."):(a.layout(),a._ensureSelectedIndex(f))}var o,h,l,s,a=this,c;if(n&&!Array.isArray(n)&&(c=n,c.grid=this,n=c.getSource(),t=c.getExpandStates()),this._dataSource=n||[],this._count=l=this._dataSource.length,t?(this._expandStates=t,this._indentLevels=[],st(0,l,1,t,this._indentLevels)):(this._indentLevels=null,this._expandStates=null),this._expandedCount=l,this._updateRanges(),i)for(this._columns=[],o=0,h=i.length;o<h;o++)s=i[o],this._setColumnInfo(s,o),this._columns.push(s);if(r)for(this._sortOrder=[],o=0,h=r.length;o<h;o++)s=r[o],s.order!=="desc"&&(s.order="asc"),this._sortOrder.push(s);this._options.autoSort&&this._sortOrder.length>0&&this._trySorting(this._sortOrder);this._clearSelection();this._determineIndentIndex();e||(this._options.asyncInit?v.delay(this,0,y):y())},t.prototype._setColumnInfo=function(n,t){n.index=typeof n.index!="undefined"?n.index:t;n.canSortBy=n.canSortBy!==!1;n.canMove=n.canMove!==!1;n.width=typeof n.width!="undefined"?n.width:100;n.getCellContents=n.getCellContents||this._drawCell;n.getHeaderCellContents=n.getHeaderCellContents||this._drawHeaderCellValue;n.getColumnValue=n.getColumnValue||this.getColumnValue},t.prototype.getRowInfo=function(n){return this._rows[n]},t.prototype.getRowData=function(n){return this._dataSource[n]},t.prototype.getColumns=function(){return this._columns||[]},t.prototype.getSortOrder=function(){return this._sortOrder||[]},t.prototype.setColumnOptions=function(n,t){for(var r=this._columns,i=0,f=r.length;i<f;i++)if(r[i].name===n){r[i]=$.extend(r[i],t);break}},t.prototype._getDataIndex=function(n){var t,u,r=-1,f=this._visibleRange,i;if(n<0)return-1;for(t=0,u=f.length;t<u;t++)if(i=f[t],r+=i[1]-i[0]+1,n<=r)return i[1]-r+n;return n},t.prototype._getRowIndex=function(n){for(var r=0,f=this._visibleRange,t,i=0,u=f.length;i<u;i++){if(t=f[i],n>=t[0]){if(n<=t[1])return r+n-t[0]}else break;r+=t[1]-t[0]+1}return-Math.max(0,r-1)},t.prototype.expandNode=function(n){var t,i;this._expandStates&&(t=this._expandStates[n],t<0&&(this._expandStates[n]=-t,this._updateRanges(),i=this._rows[n],i&&(i.dirty=!0)))},t.prototype.collapseNode=function(n){var t,i;this._expandStates&&(t=this._expandStates[n],t>0&&(this._expandStates[n]=-t,this._updateRanges(),i=this._rows[n],i&&(i.dirty=!0)))},t.prototype.expandAllNodes=function(){return this._updateExpansionStates(!0,Number.MAX_VALUE)},t.prototype.collapseAllNodes=function(){return this._updateExpansionStates(!1,Number.MAX_VALUE)},t.prototype.expandAll=function(){u.logTracePoint("Grid.expandAll.start");this._updateExpansionStateAndRedraw(!0,Number.MAX_VALUE);u.logTracePoint("Grid.expandAll.complete")},t.prototype.collapseAll=function(){u.logTracePoint("Grid.collapseAll.start");this._updateExpansionStateAndRedraw(!1,Number.MAX_VALUE);u.logTracePoint("Grid.collapseAll.complete")},t.prototype.expandByLevel=function(n){this._updateExpansionStateAndRedraw(!0,n)},t.prototype.collapseByLevel=function(n){this._updateExpansionStateAndRedraw(!1,n)},t.prototype.tryToggle=function(n,t,i){var r,f,u,e;if(!this._expandStates||this._selectedIndex<0||this._expandedCount<=0||(r=i!==undefined&&i>-1?i:this._getDataIndex(this._selectedIndex),e=this._rows[r],!e))return!1;if(t){if(n){if(u=!0,!this.expandAllNodes())return!1}else if(u=!1,!this.collapseAllNodes())return!1;return this._raiseToggleEvent(e,u),this._clearSelection(),this._addSelection(Math.abs(this._getRowIndex(r))),this._layoutContentSpacer(),this._redraw(),!0}if(f=this._expandStates[r],f!==0){if(n)if(u=!0,f<0)this.expandNode(r);else return!1;else if(u=!1,f>0)this.collapseNode(r);else return!1;return this._raiseToggleEvent(e,u),this._clearSelection(),this._addSelection(this._getRowIndex(r)),this._layoutContentSpacer(),this._redraw(),!0}return!1},t.prototype._getVisibleRowIndices=function(){var n=this._scrollTop,r=n+this._canvasHeight,t=this._expandedCount-1,i=this._rowHeight;return{first:Math.min(t,Math.max(0,Math.ceil(n/i))),last:Math.min(t,Math.floor(r/i)-1)}},t.prototype._getRowIntoView=function(n,t){var e,i,o,f,r;return(u.logTracePoint("TFS.UI.Controls.Grids._getRowIntoView.start"),t)?(r=Math.max(0,Math.min(n||0,this._expandedCount-1))*this._rowHeight,this._canvas[0].scrollTop=r,this._scrollTop=r,!0):(e=this._getVisibleRowIndices(),i=e.first,o=e.last,f=o-i,n<i||n>o)?(i=this._selectedIndex>i?Math.max(n-f,0):Math.max(0,Math.min(n+f,this._expandedCount-1)-f),r=i*this._rowHeight,this._canvas[0].scrollTop=r,this._scrollTop=r,!0):!1},t.prototype.getSelectedRowIntoView=function(n){return this._getRowIntoView(this._selectedIndex,n)},t.prototype.cacheRows=function(){},t.prototype._drawRowsInternal=function(n,t){function ot(n){n.on("mouseenter",function(){n.addClass("grid-row-hover")}).on("mouseleave",function(){n.removeClass("grid-row-hover")})}var a,nt,y,s=this._rows,i,o,r,tt={},p=this._expandStates,it=0,f=this._indentLevels,rt=0,w=this._gutter,ct=this._canvas[0],et,v,b,h,d,g,ut=this._getMode(),ft=1+(this._options.header?1:0),e,u,l;for(d=document.createDocumentFragment(),w&&(et=this._gutter[0],g=document.createDocumentFragment()),this._rows=tt,a=0,nt=n.length;a<nt;a++){if(y=n[a],o=y[0],r=y[1],i=s[r],i)h=i.rowIndex!==o,h?i.rowIndex=o:(h=i.dirty,delete i.dirty),t&&(h=!0),delete s[r];else{if(h=!0,i={rowIndex:o,dataIndex:r},v=k("div","grid-row grid-row-normal"),v.id="row_"+this.getId()+"_"+r,d.appendChild(v),e=$(v),e.attr("role",this._getRole("row")),ut==="treegrid"&&p&&f){var c=f[r],st=0,ht=0;for(u=r-1;u>=0;u--)if(f[u]<c)break;else f[u]===c&&st++;for(u=r+1;u<f.length;u++)if(f[u]<c)break;else f[u]===c&&ht++;e.attr({"aria-level":c})}else ut==="listbox"?e.attr({"aria-posinset":o+ft,"aria-setsize":s.length}):e.attr("aria-rowindex",o+ft);i.row=e.data("gridRowInfo",i);l=null;w&&(b=k("div","grid-gutter-row grid-gutter-row-normal"),g.appendChild(b),l=$(b),i.gutterRow=l.data("gridRowInfo",i));!this._options.useLegacyStyle&&l?(this.setupFullRowHover(e),this.setupFullRowHover(l)):ot(e)}tt[r]=i;h&&(p&&(it=p[r],rt=f[r]),this._updateRow(i,o,r,it,rt))}for(r in s)s.hasOwnProperty(r)&&(i=s[r],i.row.remove(),w&&i.gutterRow.remove());return this._droppable&&this._droppable.rowOffsetPercentage&&this._rows[0]&&!this._rowOffsetHeight&&(this._rowOffsetHeight=this._rows[0].row.height()*this._droppable.rowOffsetPercentage/100),{rowsFragment:d,gutterFragment:g}},t.prototype.setupFullRowHover=function(n){function t(n,t){var i=n.data("gridRowInfo");i&&(i.row&&i.row.toggleClass("grid-row-hover",t),i.gutterRow&&i.gutterRow.toggleClass("grid-row-hover",t))}n.on("mouseenter",function(){t(n,!0)}).on("mouseleave",function(){t(n,!1)})},t.prototype._drawRows=function(n,t){var r=this._drawRowsInternal(n,t),i=this._canvas[0];i.appendChild(r.rowsFragment);r.gutterFragment&&this._gutter[0].appendChild(r.gutterFragment);$(i).find(".grid-row .grid-cell :tabbable, .grid-row .grid-cell [data-tabbable=1]").each(function(n,t){var i=$(t);i.attr("tabindex","-1")});this._count>0?i.classList.remove("no-rows"):i.classList.add("no-rows")},t.prototype.updateRow=function(n,t,i){var r,u=0,f=0;typeof t=="undefined"||t<0?t=this._getDataIndex(n):(typeof n=="undefined"||n<0)&&(n=this._getRowIndex(t));r=this._rows[t];r&&(this._expandStates&&(u=this._expandStates[t],f=this._indentLevels[t]),this._updateRow(r,n,t,u,f,i))},t.prototype._updateRow=function(n,i,r,u,f,e){var l,o,g,c,nt,b,a,tt,st,ht,v,ct,s,it,y,d,rt,ut,ft,w,h,et,ot;for(ht=this._indentIndex,this._gutter&&(o=this._options.gutter,g=n.gutterRow,c=g[0],c.style.top=i*this._rowHeight+"px",c.style.left="0px",c.style.width=this._gutterWidth+"px",c.style.height=this._rowHeight+"px",o.contextMenu&&(it="grid-gutter-cell grid-gutter-menu",this._options.useLegacyStyle&&this._rowHasContextMenu(r)&&(it+=" grid-gutter-drop bowtie-icon bowtie-triangle-down"),nt=k("div",it),$(nt).css("line-height",this._rowHeight+"px"),g.append(nt)),o.checkbox&&(st=$(k("input","checkbox "+(o.checkbox.cssClass||""))).attr("type","checkbox"),tt=k("div","grid-gutter-cell grid-gutter-checkbox"),tt.appendChild(st[0]),c.appendChild(tt)),o.icon&&(a="grid-gutter-cell grid-gutter-icon ",typeof o.icon.cssClass!="undefined"&&(a+=o.icon.cssClass+" "),typeof o.icon.index!="undefined"&&(a+=(this.getColumnValue(r,o.icon.index,-1)||"")+" "),typeof o.icon.getIconClass=="function"&&(a+=(o.icon.getIconClass(this._dataSource[r])||"")+" "),o.icon.ownerDraw!==!1&&(a+=this._getGutterIconClass(i,r,u,f)||""),b=k("div",a),$(b).css("line-height",this._rowHeight+"px"),o.icon.tooltipIndex&&(y=this.getColumnValue(r,o.icon.tooltipIndex,-1),typeof y=="function"&&(y=y()),$(b).attr("title",y)),c.appendChild(b)),this._drawGutterCell(n,i,r,u,f)),d=!!e,l=this._updateRowSize(i,n.row,d),u>0?$(l).attr("aria-expanded","true"):u<0&&$(l).attr("aria-expanded","false"),rt=this._columns,w=0,v=0,ct=rt.length;v<ct;++v)(h=rt[v],h.hidden)||(w+=(h.width||20)+this._cellOffset,!d||e[h.index])&&(s=h.getCellContents.apply(this,[n,r,u,f,h,ht,v]),s&&(et=this._getRole("cell"),et&&s.attr("role",et),u>0?s.attr("aria-expanded","true"):u<0&&s.attr("aria-expanded","false"),h.width>0&&(ut=h,ft=s),!this._options.useLegacyStyle&&this._options.contextMenu&&h.index===this._options.contextMenu.columnIndex&&this._addContextMenuContainer(s,this._rowHasContextMenu(r)),d?l.replaceChild(s[0],l.children[v]):l.appendChild(s[0])));w=this._fixColumnsWidth(w);ot=this._canvasWidth-w;this._options.lastCellFillsRemainingContent===!0&&ot>0&&ft&&ut&&ft.outerWidth(ut.width+ot);p.makeElementUnselectable(l);this._gutter&&p.makeElementUnselectable(c);this._updateRowSelectionStyle(n,this._selectedRows,this._selectedIndex);this._options.enabledEvents&&t.EVENT_ROW_UPDATED in this._options.enabledEvents&&this._element.triggerHandler(t.EVENT_ROW_UPDATED,[n])},t.prototype._rowHasContextMenu=function(n){return!(this._dataSource&&this._dataSource[n]&&this._dataSource[n].noContextMenu)},t.prototype._addContextMenuContainer=function(n,t){var r,f,u,i;if(t){r=$(k("div","grid-context-menu-container grid-context-menu")).attr({title:"",tabindex:"-1",role:"button"}).attr("aria-label",s.GridRowActions).on("keydown",p.buttonKeydownHandler);f=$(k("span","grid-context-menu-icon bowtie-icon bowtie-ellipsis"));r.append(f);u=$(k("div","grid-cell-contents-container")).append(n.contents());n.append(r);n.append(u);for(i in n[0])if(i.substr(0,23)==="__reactInternalInstance"){u[i]=n[i];n[0].removeAttribute(i);break}}else n.prepend($(k("div","grid-context-menu-container grid-no-context-menu")))},t.prototype._updateRowSize=function(n,t,i){i||t.empty();var r=t[0];return r.style.top=n*this._rowHeight+"px",r.style.left=this._gutterWidth+"px",r.style.height=this._rowHeight+"px",r.style.width=isNaN(this._contentSize.width)?"":Math.max(this._contentSize.width+2,this._canvasWidth-this._gutterWidth)+"px",r},t.prototype._drawCell=function(n,t,i,r,u,f,e){var h,c,l,o,a,v=u.width||20,y;return a=k("div","grid-cell"),a.style.width=isNaN(v)?v:v+"px",o=$(a),typeof u.hrefIndex!="undefined"&&(y=this.getColumnValue(t,u.hrefIndex,-1)),h=this.getColumnText(t,u,e),y?o.append($("<a/>").attr("href",y).text(h)):h?o.text(h):o.html("&nbsp;"),e===f&&r>0&&(l=r*16-13,u.indentOffset=l,i!==0&&(c=$(k("div","icon grid-tree-icon")).appendTo(o).css("left",l).attr("role","button").attr("aria-label",s.ExpandRowsAriaLabel),i>0?c.addClass("bowtie-icon bowtie-chevron-down"):c.addClass("bowtie-icon bowtie-chevron-right")),o.css("textIndent",r*16+"px")),u.rowCss&&o.addClass(u.rowCss),o},t.prototype._drawHeaderCellValue=function(n){var t=$("<div/>").text(n.text||"").addClass("title");return n.canSortBy&&!n.fixed&&t.attr("role","button"),!this._isIndentedHeaderColumn(n)||this._indentLevels==="undefined"||this._indentLevels===null||t.addClass("indented-title"),t},t.prototype._isIndentedHeaderColumn=function(n){return n.index===this._indentIndex},t.prototype._layoutHeader=function(){var n=this._header;n&&this._headerCanvas.length>0&&(n[0].scrollLeft!==this._scrollLeft&&(n[0].scrollLeft=this._scrollLeft),this._headerCanvas[0].style.left=this._gutterWidth+"px");this._gutter&&this._gutter.length>0&&(this._gutter[0].style.left=this._scrollLeft+"px")},t.prototype.layout=function(){u.logTracePoint("Grid.layout.start");this._setContextMenuColumn();this._cleanUpRows();this._fixScrollPos();this._layoutContentSpacer();this._updateViewport();this._layoutHeader();this._drawHeader();this._updateAriaProperties();this._dataSource.length>0?this.getFocusElement().attr({tabIndex:"0"}):this.getFocusElement().removeAttr("tabIndex");this._fire("Grid.layout.complete");u.logTracePoint("Grid.layout.complete")},t.prototype.redraw=function(){this._fixScrollPos();this._redraw(!0)},t.prototype.getColumnValue=function(n,t){return this._dataSource[n][t]},t.prototype.getColumnText=function(n,t,i){var r,u;return r=t.getColumnValue.call(this,n,t.index,i),u=typeof r!="string"?v.convertValueToDisplayString(r,t.format):r,t.maxLength=Math.max(t.maxLength||0,u.length),u},t.prototype._getExpandState=function(n){var t=0;return this._expandStates&&typeof this._expandStates[n]=="number"&&(t=this._expandStates[n]),t},t.prototype._selectRow=function(n,t,i){var r=i&&i.ctrl,u=i&&i.shift,f=i&&i.rightClick;r?this._addSelection(n,t,{toggle:!0}):u?(this._clearSelection(),this._addSelectionRange(n,t)):f?this._selectedRows&&n+""in this._selectedRows?(this._selectedIndex=n,this._updateActiveDescendant()):(this._clearSelection(),this._addSelection(n,t)):(this._clearSelection(),this._addSelection(n,t))},t.prototype.getSelectedRowIndex=function(){return this._selectedIndex},t.prototype.setSelectedRowIndex=function(n){this._clearSelection();this._addSelection(n)},t.prototype.getSelectedDataIndex=function(){return this._getDataIndex(this._selectedIndex)},t.prototype.getLastRowDataIndex=function(){var n=this._visibleRange.length;return n>0?this._visibleRange[n-1][1]:-1},t.prototype.getSelectedDataIndices=function(){var t,n=this._selectedRows,i=[];if(n)for(t in n)n.hasOwnProperty(t)&&(i[i.length]=n[t]);return i},t.prototype.ensureDataIndexExpanded=function(n){for(var t=this._getRowIndex(n);t<0||n>0&&t===0;)this.expandNode(this._getDataIndex(-t)),t=this._getRowIndex(n);return t},t.prototype.setSelectedDataIndex=function(n,t){var i=t?this.ensureDataIndexExpanded(n):this._getRowIndex(n);this.setSelectedRowIndex(i)},t.prototype.selectionChanged=function(){},t.prototype.selectedIndexChanged=function(){},t.prototype._updateRowSelectionStyle=function(n,t,i){var f="grid-row-selected",e="grid-row-selected-blur",o="grid-gutter-row-selected",s="grid-gutter-row-selected-blur",h="grid-row-current",c="grid-gutter-row-current",l="grid-blurred",a=n.rowIndex,u=n.row,r=n.gutterRow,v=this._active;t&&a in t?(r&&r.find("input.checkbox").prop("checked",!0),v?(u.hasClass(f)||(u.removeClass(e),u.addClass(f)),r&&!r.hasClass(o)&&(r.removeClass(s),r.addClass(o)),this.getElement().removeClass(l)):(u.hasClass(e)||(u.removeClass(f),u.addClass(e)),r&&!r.hasClass(s)&&(r.removeClass(o),r.addClass(s)),this.getElement().addClass(l)),u.attr("aria-selected","true")):(u.removeClass(f+" "+e+" "+h),r&&(r.removeClass(o+" "+s+" "+c),r.find("input.checkbox").prop("checked",!1)),u.attr("aria-selected","false"));a===i?(u.addClass(h),r&&r.addClass(c)):(u.removeClass(h),r&&r.removeClass(c))},t.prototype.focus=function(n){p.tryFocus(this.getFocusElement(),n)},t.prototype.getContextMenuRowInfo=function(){return this._popupMenu?this._popupMenu._options.contextInfo.rowInfo:null},t.prototype._createContextMenu=function(n,t){return this._createContextPopupMenuControl(t)},t.prototype._createContextPopupMenuControl=function(n){var t=$.map(n.items||[],function(n){return n});return r.BaseControl.createIn(e.PopupMenu,this._element,$.extend({align:"left-bottom"},n,{items:[{childItems:e.sortMenuItems(t)}]}))},t.prototype._onContainerResize=function(){this._disposed||(this._measureCanvasSize(),(this._canvasHeight!==this._previousCanvasHeight||this._canvasWidth!==this._previousCanvasWidth)&&this.layout())},t.prototype._onColumnResize=function(n){this._fire("columnresize",[n])},t.prototype._onColumnMove=function(n,t){this._fire("columnmove",[n,t])},t.prototype._sortBy=function(n,t){var i=this._sortOrder.slice(0),u,f,r,e=!1,o;if(n){for(u=0,f=i.length;u<f;u++)if(r=i[u],r.index===n.index){i.splice(u,1);e=!0;break}e?r.order=r.order==="asc"?"desc":"asc":r={index:n.index,order:"asc"};t?i.push(r):i=[r]}o=this._getSortColumns(i);this._onSort(i,o)},t.prototype.onSort=function(n,t){this._options.autoSort&&(this._trySorting(n,t),this._sortOrder=n,this.layout());u.logTracePoint("Grid.OnSort.Complete")},t.prototype._trySorting=function(n,t){function v(n,t,i,r){var u=i[n.index],f=r[n.index],e=typeof u,o=typeof f;return e==="undefined"||u===null?o==="undefined"||f===null?0:-1:e==="number"&&o==="number"?u-f:u instanceof Date&&f instanceof Date?u.getTime()-f.getTime():y.localeIgnoreCaseComparer(u,f)}var h=this,c,r,l,e,i,u,s;if(t||(t=this._getSortColumns(n)),c=[],r=this._expandStates,r)for(i=0;i<r.length;i++)if(l=r[i],l!=0)for(e=i+1;e<=Math.abs(l)+i;e++)c[e]=i;var f=[],o=this._dataSource,a=this._indentLevels;for(i=0;i<o.length;i++)f[i]=r?{dataSource:o[i],expandState:r[i],level:a[i],parent:f[c[i]],index:i}:{dataSource:o[i],index:i};for(f.sort(function(i,r){for(var e,s,u,c,o,f=0;f<n.length;f++)if(e=t[f],e){if(s=n[f],u=[i,r],h._expandStates)if(u=h._getComparableAncestors(i,r),u[0]){if(!u[1])return-1}else return 1;if(c=e.comparer||v,o=c.call(h,e,s.order,u[0].dataSource,u[1].dataSource),o===0)continue;else return s.order==="desc"?-o:o}return i.index-r.index}),u=0;u<f.length;u++)s=f[u],o[u]=s.dataSource,r&&(r[u]=s.expandState,a[u]=s.level)},t.prototype._getComparableAncestors=function(n,t){return t==n.parent?[null,t]:n==t.parent?[n,null]:n.parent==t.parent?[n,t]:n.level>t.level?this._getComparableAncestors(n.parent,t):n.level<t.level?this._getComparableAncestors(n,t.parent):this._getComparableAncestors(n.parent,t.parent)},t.prototype._getRowInfoFromEvent=function(n,t){return $(n.target).closest(t).data("gridRowInfo")},t.prototype._onRowMouseDown=function(n){var t=this._getRowInfoFromEvent(n,".grid-row,.grid-gutter-row");if(t)if(this._focusStateData.currentActionIndex=-1,$(n.target).hasClass("grid-tree-icon")&&n.which===1)this._onToggle(t);else if(n.which!==2)return this._selectRow(t.rowIndex,t.dataIndex,{ctrl:n.ctrlKey||n.metaKey,shift:n.shiftKey,rightClick:n.which===3||$(n.target).closest(".grid-context-menu-container").length>0}),(n.ctrlKey||n.metaKey||n.shiftKey)&&n.preventDefault(),this._handleEvent(n,this.onRowMouseDown,"rowmousedown",{row:t.row,rowInfo:t,rowIndex:t.rowIndex,dataIndex:t.dataIndex})},t.prototype.onRowMouseDown=function(){},t.prototype._onRowMouseUp=function(n){var t=this._getRowInfoFromEvent(n,".grid-row");if(t)return this._handleEvent(n,this.onRowMouseUp,"rowmouseup",{row:t.row,rowInfo:t,rowIndex:t.rowIndex,dataIndex:t.dataIndex})},t.prototype.onRowMouseUp=function(){},t.prototype.onRowClick=function(n){if(!this._options.useLegacyStyle&&n.event&&n.event.target){var t=$(n.event.target).closest(".grid-context-menu");if(t.length>0){n.contextMenu=t;return this.onContextMenu(n)}}},t.prototype.onRowDoubleClick=function(){},t.prototype.onGutterClick=function(n){this._options.gutter.contextMenu&&this._options.useLegacyStyle&&this._showContextMenu(n)},t.prototype.onEnterKey=function(n){if(n.event.altKey)return this._showContextMenu(n),!1},t.prototype.onDeleteKey=function(){},t.prototype._onOpenRowDetail=function(n,t){var i,r,u;if(this._handleEvent(n,this.onOpenRowDetail,"openRowDetail",t)!==!1){if(i=this._options.openRowDetail,i)return typeof i=="function"&&(i=i.call(this,this._selectedIndex)),i&&(typeof i!="string"?(r=this.getColumnValue(this._selectedIndex,i.hrefIndex,-1),u=i.target):r=i,r&&(u?f.getService().performAction(f.CommonActions.ACTION_WINDOW_OPEN,{url:r,target:u,features:this._options.openRowDetail.targetFeatures}):f.getService().performAction(f.CommonActions.ACTION_WINDOW_NAVIGATE,{url:r}))),!1}else return!1},t.prototype.onOpenRowDetail=function(){},t.prototype.onContextMenu=function(n){this._showContextMenu(n)},t.prototype._onBlur=function(){var n=this;v.delay(this,0,function(){tt(it,"(grid) focus out");var t=n.getFocusElement();n._showingContextMenu||!t||t[0].contains(document.activeElement)||(n._active=!1,n._updateSelectionStyles())})},t.prototype._onFocus=function(){tt(it,"(grid) focus in");this._selectedIndex<0&&this._count>0&&this._selectRow(0);this._lastFocusTime=Date.now();this._active=!0;this._updateSelectionStyles();this._updateActiveDescendant()},t.prototype._onKeyPress=function(){},t.prototype._onKeyDown=function(n){var i={lo:-1,hi:-1},t=p.KeyCode,u,f;if(!n.defaultPrevented&&(!this._header||!(this._header.length>0)||!this._header[0].contains(n.target))){if(tt(it,"(grid) key down"),this._copyInProgress)return n.keyCode===t.ESCAPE&&this._cancelable&&this._cancelable.cancel(),!1;this._count>0&&(i={lo:0,hi:this._expandedCount-1});this._selectedIndex<0&&this._addSelection(i.lo);u=!0;switch(n.keyCode){case t.A:if(n.ctrlKey||n.metaKey)this.selectAll();else return;break;case t.C:if(n.ctrlKey||n.metaKey)this.copySelectedItems();else return;break;case t.F10:return n.shiftKey?this._onContextMenu():void 0;case t.DOWN:if(n.altKey)return;this._onDownKey(n,i);break;case t.UP:if(n.altKey)return;this._onUpKey(n,i);break;case t.PAGE_DOWN:case t.PAGE_UP:this._onPageUpPageDownKey(n,i);break;case t.RIGHT:if(n.altKey)return;this._onRightKey(n);break;case t.LEFT:if(n.altKey)return;this._onLeftKey(n);break;case t.ENTER:if(!n.isDefaultPrevented()){if(f=$(n.target).closest(".grid-context-menu"),f.length>0){var o=$(n.target).closest(".grid-row"),r=o.data("gridRowInfo"),e={row:r.row,rowInfo:r,rowIndex:r.rowIndex,dataIndex:r.dataIndex};e.contextMenu=f;return this.onContextMenu(e)}if(!p.KeyUtils.isModifierKey(n))return this._onEnterKey(n,i)}break;case t.DELETE:return this._onDeleteKey(n);case t.HOME:this._onHomeKey(n,i);break;case t.END:this._onEndKey(n,i);break;case t.ESCAPE:this._onEscapeKey(n);u=!1;break;case t.TAB:this._onTabKey(n);return;case t.BACKSPACE:this._onBackSpaceKey(n);return;case t.CONTEXT_MENU:this._contextMenuKeyPressedState=0;this._onContextMenu(n);return;default:return}this.getSelectedRowIntoView();this._fire("keydown",[n.keyCode,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey]);u&&n.preventDefault()}},t.prototype._onBackSpaceKey=function(){},t.prototype._onUpKey=function(n,t){if(t.lo===this._selectedIndex&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey){this._focusHeader();return}this._clearSelection();n.ctrlKey||n.metaKey?n.shiftKey?this._addSelectionRange(t.lo):this._addSelection(t.lo):n.shiftKey?this._addSelectionRange(Math.max(this._selectedIndex-1,t.lo)):this._addSelection(this._selectedIndex-1)},t.prototype._onDownKey=function(n,t){this._clearSelection();n.ctrlKey||n.metaKey?n.shiftKey?this._addSelectionRange(t.hi):this._addSelection(t.hi):n.shiftKey?this._addSelectionRange(Math.min(this._selectedIndex+1,t.hi)):this._addSelection(Math.min(this._selectedIndex+1,t.hi))},t.prototype._onRightKey=function(n){this._onHorizontalArrowKey(1,n)},t.prototype._onLeftKey=function(n){this._onHorizontalArrowKey(0,n)},t.prototype._onHorizontalArrowKey=function(n,t){var i,e,u;if(this._rows.length!==0){i=this.getSelectedDataIndex();this._updateRowActionList(i);var r=Math.min(Math.max(-1,this._focusStateData.currentActionIndex+(n===0?-1:1)),this._focusStateData.rowActionList[i].length-1),o=i>=0,s=this._focusStateData.rowActionList[i].length>0,h=r!==this._focusStateData.currentActionIndex&&r!==-1,f=this._focusStateData.currentActionIndex===-1&&n===1&&this.tryToggle(!0,t.shiftKey);f||(o&&s&&h?(this._focusStateData.currentActionIndex=r,e=this._focusStateData.rowActionList[i][this._focusStateData.currentActionIndex],this._setFocusedGridElement(e)):n===0&&r===-1&&this._focusStateData.currentActionIndex!==-1?(this._setFocusedGridElement(this.getFocusElement()[0]),this._focusStateData.currentActionIndex=-1):(u=this._canvas,(n!==0||this.tryToggle(!1,t.shiftKey))&&f?(this._clearSelection(),this._addSelection(this._selectedIndex)):u.scrollLeft(u.scrollLeft()+50*(n===0?-1:1))))}},t.prototype._onPageUpPageDownKey=function(n,t){var i=this._getRowsPerPage(n),r=p.KeyCode;this._clearSelection();n.keyCode===r.PAGE_DOWN?n.shiftKey?this._addSelectionRange(Math.min(this._selectedIndex+i,t.hi)):this._addSelection(Math.min(this._selectedIndex+i,t.hi)):n.shiftKey?this._addSelectionRange(Math.max(this._selectedIndex-i,t.lo)):this._addSelection(Math.max(this._selectedIndex-i,t.lo))},t.prototype._getRowsPerPage=function(){var n=this._canvas[0].clientHeight;return Math.floor(n/this._rowHeight)},t.prototype._onHomeKey=function(n,t){this._clearSelection();n.shiftKey?this._addSelectionRange(t.lo):this._addSelection(t.lo)},t.prototype._onEndKey=function(n,t){this._clearSelection();n.shiftKey?this._addSelectionRange(t.hi):this._addSelection(t.hi)},t.prototype._onTabKey=function(){},t.prototype._onEscapeKey=function(){this._tryFinishColumnMoving(!0);this._setFocusedGridElement(this.getFocusElement()[0]);this._focusStateData.currentActionIndex=-1},t.prototype._onKeyUp=function(){return},t.prototype._focusHeader=function(){var n=this._getFocusableHeaderElement();n.length>0&&(this._focusStateData.headerActionList.length===0&&this._updateHeaderRowTabbableOptions(),this._setHeaderActionIndex(n),this._clearSelection(),this._setFocusedGridElement(n[0]))},t.prototype._updateHeaderRowTabbableOptions=function(){var t=this,n=this._getHeaderColumns();n.length>0&&$.each(n,function(n,i){t._processHeaderCellTabbableOptions(i)})},t.prototype._processHeaderCellTabbableOptions=function(n){var t=this;this._focusStateData.headerActionList.push(n);$(n).find(":focusable:visible,[data-tabbable=1]:visible").each(function(n,i){$(i).attr("tabindex","-1");t._focusStateData.headerActionList.push(i)})},t.prototype._setHeaderActionIndex=function(n){for(var r,i=this._focusStateData.headerActionList,t=0;t<i.length;t++)if(r=i[t],n.is(r)){this._focusStateData.currentHeaderActionIndex=t;return}this._focusStateData.currentHeaderActionIndex=0},t.prototype._getFocusableHeaderElement=function(){var n=this._header.find("[aria-sort]");return n.length===0&&(n=this._getHeaderSortColumn(".grid-header-column")),n},t.prototype._getHeaderSortColumn=function(n){return this._header.find(n).eq(0)},t.prototype._getHeaderColumns=function(){return this._header.find(".grid-header-column")},t.prototype.enableEvent=function(n){var t=this._options.enabledEvents;t||(t={},this._options.enabledEvents=t);t[n]=!0},t.prototype.disableEvent=function(n){var t=this._options.enabledEvents;t&&delete t[n]},t.prototype.getExpandStates=function(){return this._expandStates},t.prototype.beginFormatTable=function(n,t,i,r){this._beginEnsureSelectionIsAvailable(d(this,function(){var t=this,u,f;t._cancelable&&t._cancelable.canceled||(i||(i=t._options&&t._options.formatterType?t._options.formatterType:ft),u=new i(t,r),f=u.getTableFromSelectedItems());typeof n=="function"&&n(f,u)},t))},t.prototype._createElement=function(){n.prototype._createElement.call(this);this._buildDom()},t.prototype._addSpacingElements=function(){},t.prototype._createFocusElement=function(){return $(k("div","grid-focus")).attr({tabindex:"0",role:"grid"})},t.prototype._getMode=function(){var t="grid",n=this._options;return n.expandStates?t="treegrid":n.header||n.columns&&n.columns.length!==1||(t="listbox"),t},t.prototype._getRole=function(n){var t=this._getMode(),i=t==="listbox";return n==="canvas"?t:n==="row"?i?"option":"row":n==="cell"?i?null:"gridcell":void 0},t.prototype._buildDom=function(){var u=this,t=document.createDocumentFragment(),n,r,i;if(n=this._options.gutter,r=n&&(n.contextMenu||n.icon||n.checkbox),i=this.getFocusElement()[0],i&&i.addEventListener("focus",function(n){var t=n.target,r=p.getFocusRingFocusHandler(),i=u.getFocusElement()[0];!i.contains(t)||i===n.target||t.classList.contains("grid-row")||t.classList.contains("menu-item")||r(n)},!0),this._contentSpacer=$(k("div","grid-content-spacer")).attr({role:"presentation"}),this._canvas=$(k("div","grid-canvas")).attr("role","presentation"),this._canvas.append(this._contentSpacer),this._addSpacingElements(),this._options.header){this._element.addClass("has-header");this._header=$(k("div","grid-header"));this._header.on("contextmenu",function(n){return n.preventDefault(),n.stopPropagation(),!1});this._header[0].addEventListener("focus",p.getFocusRingFocusHandler(),!0);this._header.attr({role:"row","aria-rowindex":1});this._headerCanvas=$(k("div","grid-header-canvas")).attr({role:"presentation"});this._header.append(this._headerCanvas);t.appendChild(this._header[0])}r&&(this._element.addClass("has-gutter"),this._gutter=$(k("div","grid-gutter")),this._canvas.append(this._gutter),this._header&&(this._gutterHeader=$(k("div","grid-gutter-header")),n.tooltip&&this._gutterHeader.attr("title",n.tooltip),this._header.append(this._gutterHeader)),this._options.useLegacyStyle||n.icon||n.checkbox||this._gutter.addClass("grid-gutter-behind"));this._options.useLegacyStyle&&this._element.addClass("grid-legacy");t.appendChild(this._canvas[0]);this._canvasDroppable=$(k("div","grid-canvas grid-canvas-droppable"));t.appendChild(this._canvasDroppable[0]);this._element.append(t)},t.prototype.getFocusElement=function(){return this.getElement()},t.prototype._shouldAttachContextMenuEvents=function(){return!this._options.useLegacyStyle&&!!this._options.contextMenu&&this._options.gutter.contextMenu!==!1||this._gutter&&this._options.gutter&&this._options.gutter.contextMenu},t.prototype._attachEvents=function(){var f=this,s=this,e=this._element,n=this._canvas,r=e,i=this._header,o;if(p.attachResize(e,v.throttledDelegate(this,10,this._onContainerResize)),this._bind("mousedown",d(this,this._onContainerMouseDown)),this._bind(r,"keydown",d(this,this._onKeyDown)),this._bind(r,"keyup",d(this,this._onKeyUp)),this._bind(r,"keypress",d(this,this._onKeyPress)),this._bind(r,"focus",d(this,this._onFocus)),r[0].addEventListener("focus",this._onFocus.bind(this),!0),r[0].addEventListener("blur",this._onBlur.bind(this),!0),this._shouldAttachContextMenuEvents()&&this._bind("contextmenu",function(n){if(f._contextMenuKeyPressedState===1||$(n.target).closest(".grid-row,.grid-gutter-row").length>0)return f._onContextMenu.call(f,n)}),this._bind(n,"click",d(this,this._onRowClick)),this._bind(n,"dblclick",d(this,this._onRowDoubleClick)),this._bind(n,"mousedown",d(this,this._onRowMouseDown)),this._bind(n,"mouseup",d(this,this._onRowMouseUp)),o=v.throttledDelegate(this,10,this._onCanvasScroll),this._bind(n,"scroll",o),this._bind(n,"touchmove",o),this._bind(n,"selectstart",d(this,this._onSelectStart)),i&&(this._bind(i,"mousedown",d(this,this._onHeaderMouseDown)),this._bind(i,"mouseup",d(this,this._onHeaderMouseUp)),this._bind(i,"click",d(this,this._onHeaderClick)),this._bind(i,"dblclick",d(this,this._onHeaderDblClick)),this._bind(i,"keydown",this._onHeaderKeyDown.bind(this)),this._bind(i,"scroll",this._onHeaderScroll.bind(this))),this._gutter){this._bind(this._gutter,"click",d(this,this._onGutterClick));this._gutter.on("mouseenter",function(n){$(n.target).closest(".grid-gutter-row").addClass("grid-gutter-row-hover")}).on("mouseleave",function(n){$(n.target).closest(".grid-gutter-row").removeClass("grid-gutter-row-hover")})}this._setupDragDrop();e.parents(".ui-tabs").on("tabsactivate",function(){s._element.is(":visible")&&s.layout()});this._tooltipMouseOverHandler=function(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];f._onMouseOver(n)};this._tooltipMouseOutHandler=function(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];f._onMouseOut(n)};e.on("mouseover",t.TOOLTIP_TARGET_SELECTOR,this._tooltipMouseOverHandler);e.on("mouseout",t.TOOLTIP_TARGET_SELECTOR,this._tooltipMouseOutHandler);u.logTracePoint("Grid._attachEvents.complete")},t.prototype._getDraggedRowsInfo=function(n){var u=$(n.target),t,i,r=null;return t=u.closest(".grid-row"),t.length&&(i=t.data("gridRowInfo"),r={dataIndex:+i.dataIndex,rowIndex:+i.rowIndex}),r},t.prototype._setupDragDrop=function(){this.setupDragDrop(this._options.draggable,this._options.droppable)},t.prototype.setupDragDrop=function(n,i){var r=this,e,u,f=function(n){n.draggable||(n.draggable=r._canvas);n.draggingRowInfo=u},o;n&&(e={axis:"y",helperClass:"grid-row-dragging",zIndex:1e3,appendTo:this._canvas,handle:".grid-row",opacity:.7,scope:this.getTypeName(),cursorAt:{top:this._rowHeight/2}},typeof n!="object"&&(n={}),this._draggable=$.extend({},e,n),n=$.extend(e,n,{helper:function(n){if(u=r._getDraggedRowsInfo(n),u){r._cleanupDragDropState();var t=r._getDraggable(r._canvas);return f(t),r._rowDragCreateHelper(u,n,t)}return u=null,$("<div />")},drag:function(n,t){return f(t),r._invokeDragHandler(n,t,r._draggable.drag)},start:function(n,i){return u?(f(i),r._canvas.data(t.DATA_DRAGGING_ROWINFO,u),r._draggingRowInfo=u,r._invokeDragHandler(n,i,r._draggable.start)):!1},stop:function(n,i){f(i);var u=r._invokeDragHandler(n,i,r._draggable.stop);return r._draggingRowInfo=null,r._canvas.data(t.DATA_DRAGGING_ROWINFO,null),u}}),this._canvas.draggable(n));i&&(o={tolerance:"intersect",classes:{"ui-droppable-hover":"grid-row-drop-active"},scope:this.getTypeName()},i.accept&&typeof i.accept!="function"&&(i.acceptSelector=i.accept),this._droppable=$.extend({},o,i),i=$.extend({},this._droppable,{accept:function(n){return r._ddDropStarted||r._droppableAcceptHandler(n,u),!0},activate:function(n,t){f(t);r._droppableActivateHandler(n,t)},deactivate:function(n,t){f(t);r._droppableDeactivateHandler(n,t)},over:function(n,t){f(t);r._droppableOverHandler(n,t)},out:function(n,t){f(t);r._droppableOutHandler(n,t)},drop:function(n,t){r._ddDropStarted=!0;f(t);r._droppableDropHandler(n,t)}}),this._canvasDroppable.droppable(i));(n||i)&&this._cleanupDragDropState()},t.prototype.disableDragDrop=function(){var n={drag:function(){return!1},start:function(){return!1}};this._canvas.draggable(n)},t.prototype.enableDragDrop=function(){this._setupDragDrop()},t.prototype._droppableAcceptHandler=function(n,i){var u=this,f=this._droppable.accept,r;f&&(n.data(t.DATA_DRAGGING_ROWINFO,i),$.each(this._rows,function(t,i){r={dataIndex:Number(t),rowIndex:i.rowIndex};u._rowDropAccept(r,n)}))},t.prototype._droppableDropHandler=function(n,t){var l=this,s,i,r,f,e,o,h,c;u.logTracePoint("Grid._drop.start");s=this._droppable.drop;s&&this._draggableOverGrid&&(r=this._getDraggable(t.draggable),$.each(this._rows,function(n,t){var u={dataIndex:Number(n),rowIndex:t.rowIndex};if(l._rowIntersect(r,u))return i=u,!1}),!i&&this._rowOffsetHeight&&(f=this._rowOffsetHeight>0?this.getLastRowDataIndex():0,e=this._rows[f],e&&(i={dataIndex:+f,rowIndex:+e.rowIndex,isAboveFirstOrBelowLast:!0},o=e.row,h=o.offset(),f!==0&&(h.top+=this._rowOffsetHeight),c=this._calculateIntersectPosition(r),$.ui.intersect(r,{offset:h,proportions:function(){return{width:o[0].offsetWidth,height:o[0].offsetHeight-Math.abs(l._rowOffsetHeight)}}},this._droppable.tolerance,{pageY:c.pageY,pageX:c.pageX})||(i=null))),i&&this._getAcceptStatus(i.dataIndex)&&(t.droppingRowInfo=i,s.call(this,n,t)))},t.prototype._droppableActivateHandler=function(n,t){var i=this,r=t.draggingRowInfo?Number(t.draggingRowInfo.dataIndex):-1;$.each(this._rows,function(u,f){u!==r&&i._rowDropTryActivate({dataIndex:Number(u),rowIndex:f.rowIndex},n,t)})},t.prototype._droppableDeactivateHandler=function(n,t){var i=this,r=t.draggingRowInfo?t.draggingRowInfo.dataIndex:-1;$.each(this._rows,function(u,f){u!==r&&i._rowDropDeactivate({dataIndex:Number(u),rowIndex:f.rowIndex},n,t)});this._cleanupDragDropState()},t.prototype._droppableOverHandler=function(n,t){var i=this;this._draggableOverGrid=!0;this._bind(window.document,"mousemove",function(n){i._draggableOverGrid&&i._droppableOverMoveHandler(n,t)});this._droppableOverMoveHandler(n,t)},t.prototype._droppableOutHandler=function(n,t){this._unregisterDragMouseMove();this._droppableOverMoveHandler(n,t)},t.prototype._droppableOverMoveHandler=function(n,t){var u=this,i=this._getDragOverRows(),s=this._getDraggable(t.draggable),l=t.draggingRowInfo?Number(t.draggingRowInfo.dataIndex):-1,r,f,e,o,h,c;$.each(this._rows,function(r,f){var e;r!==l&&(e={dataIndex:+r,rowIndex:+f.rowIndex},u._getAcceptStatus(r)&&(u._draggableOverGrid&&u._rowIntersect(s,e)?i[r]||(i[r]=!0,u._rowDropOver(e,n,t)):i[r]&&(delete i[r],delete u._isAboveFirstOrBelowLastRow,u._rowDropOut(e,n,t))))});this._rowOffsetHeight&&(r=this._rowOffsetHeight>0?this.getLastRowDataIndex():0,e=this._rows[r],e&&(f={dataIndex:+r,rowIndex:+e.rowIndex},o=e.row,h=o.offset(),r!==0&&(h.top+=this._rowOffsetHeight),c=this._calculateIntersectPosition(s),this._draggableOverGrid&&$.ui.intersect(s,{offset:h,proportions:function(){return{width:o[0].offsetWidth,height:o[0].offsetHeight-Math.abs(u._rowOffsetHeight)}}},this._droppable.tolerance,{pageY:c.pageY,pageX:c.pageX})?($.extend(f,{isAboveFirstOrBelowLast:!0}),i[r]||(i[r]=!0,this._isAboveFirstOrBelowLastRow=!0,this._rowDropOver(f,n,t))):i[r]&&this._isAboveFirstOrBelowLastRow&&(delete i[r],delete this._isAboveFirstOrBelowLastRow,this._rowDropOut(f,n,t))))},t.prototype._getDraggable=function(n){return n.data("ui-draggable")},t.prototype._cleanupDragDropState=function(){this._resetRowAcceptStatus();this._resetRowOverStatus();this._unregisterDragMouseMove();this._ddDropStarted=!1},t.prototype._unregisterDragMouseMove=function(){this._draggableOverGrid=!1;this._unbind(window.document,"mousemove")},t.prototype._resetRowOverStatus=function(){this._ddRowOverStatus={}},t.prototype._rowDropAccept=function(n,i){var u=this._rows[n.dataIndex],r;return u?(r=this._ddRowAcceptStatus[n.dataIndex],typeof r=="undefined"&&(typeof this._droppable.accept=="function"?(i.data(t.DATA_DROPPING_ROWINFO,n),r=this._droppable.accept.call(this,i)):this._droppable.acceptSelector&&(r=u.row.is(this._droppable.acceptSelector)),this._ddRowAcceptStatus[n.dataIndex]=r),r):!1},t.prototype._rowDropActivate=function(n,t,i){var r=this._rows[n.dataIndex],u=this._droppable.activate;if(r&&(this._droppable.classes&&this._droppable.classes["ui-droppable-active"]&&r.row.addClass(this._droppable.classes["ui-droppable-active"]),u))return u.call(this,t,$.extend({},i,{droppingRowInfo:r}))},t.prototype._rowDropDeactivate=function(n,t,i){var f=this._getAcceptStatus(n.dataIndex),r,u;if(f&&(r=this._rows[n.dataIndex],u=this._droppable.deactivate,r&&(this._droppable.classes&&this._droppable.classes["ui-droppable-active"]&&r.row.removeClass(this._droppable.classes["ui-droppable-active"]),this._droppable.classes&&this._droppable.classes["ui-droppable-hover"]&&r.row.removeClass(this._droppable.classes["ui-droppable-hover"]),u)))return u.call(this,t,$.extend({},i,{droppingRowInfo:r}))},t.prototype._rowDropOver=function(n,t,i){var r=this._rows[n.dataIndex],u=this._droppable,f=this._droppable.over,e=this._getDraggable(i.draggable);r&&(e.dropped=!0,u.classes&&u.classes["ui-droppable-hover"]&&r.row.addClass(u.classes["ui-droppable-hover"]),this._rowOffsetHeight&&(r.isAboveFirstOrBelowLast=n.isAboveFirstOrBelowLast),f&&f.call(this,t,$.extend({},i,{droppingRowInfo:r})))},t.prototype._rowDropOut=function(n,t,i){var r=this._rows[n.dataIndex],u=this._droppable,f=this._droppable.out,e=this._getDraggable(i.draggable);r&&(e.dropped=!1,u.classes&&u.classes["ui-droppable-hover"]&&r.row.removeClass(u.classes["ui-droppable-hover"]),f&&f.call(this,t,$.extend({},i,{droppingRowInfo:r})))},t.prototype._rowDrop=function(n,t,i,r){var f=this._rows[n.dataIndex],u=this._droppable;f&&(u.classes&&u.classes["ui-droppable-hover"]&&f.row.removeClass(u.classes["ui-droppable-hover"]),u.classes&&u.classes["ui-droppable-active"]&&f.row.removeClass(u.classes["ui-droppable-active"]),u.drop&&u.drop.call(this,i,$.extend({},r,{droppingRowInfo:f})))},t.prototype._rowDragCreateHelper=function(n,t,i){var r;return typeof this._draggable.helper=="function"?this._draggable.helper.call(this,t,$.extend({},i,{draggingRowInfo:n})):(r=this._rows[n.dataIndex].row.clone(),r.removeClass("grid-row-selected grid-row-selected-blur grid-row-current"),r.addClass(this._draggable.helperClass),r.css("position","absolute"),r)},t.prototype._invokeDragHandler=function(n,t,i){if(i)return i.call(this,n,t)},t.prototype._takeMeasurements=function(){var t=this._options,n,r,u,s,i;if(t.sharedMeasurements&&(n=ot),!n){n={};r=t.coreCssClass;u=this._getEnhancementOption("cssClass");u&&(r+=" "+u);var f=$(k("div",r)).appendTo(document.body).css("position","absolute").css("left",-5e3).css("top",-5e3).width(1e3).height(500),h="grid-row grid-row-normal"+(t.useLegacyStyle?" grid-row-legacy":""),e=$(k("div",h)).appendTo(f),o=$(k("div","grid-cell")).width(100).appendTo(e).text("1");n.rowHeight=e.outerHeight();n.cellOffset=o.outerWidth()-100;s=$(k("div")).appendTo(o).css("overflow","hidden").css("width","1em").css("height","1ex");n.unitEx=s.outerHeight();i=$(k("div","grid-gutter"));i.append(k("div","grid-gutter-row grid-gutter-row-selected"));i.appendTo(f);n.gutterWidth=i[0].clientWidth;f.remove();t.sharedMeasurements&&(ot=n)}this._unitEx=n.unitEx;this._rowHeight=n.rowHeight;this._cellOffset=n.cellOffset;this._gutterWidth=this._gutter?n.gutterWidth:0},t.prototype._ensureSelectedIndex=function(n){var t=this._selectedIndex;typeof n=="number"&&(this._selectedIndex=n);this._selectedIndex>=0&&(this._count<=this._selectedIndex&&(this._selectedIndex=this._count-1),this._selectedIndex!==t&&this._addSelection(this._selectedIndex))},t.prototype._determineIndentIndex=function(){for(var t=this._columns,n=0,i=t.length;n<i;n++)if(t[n].indent){this._indentIndex=n;return}this._indentIndex=0},t.prototype._updateRanges=function(){var n=0,i=0,r=this._count,t=[],u=0,f;if(this._expandStates){while(n<r)f=this._expandStates[n],f<0?(t[t.length]=[i,n],u+=n-i+1,n+=1-f,i=n):n++;i<r&&(t[t.length]=[i,r-1],u+=r-i)}else u=r,t[t.length]=[0,u];this._expandedCount=u;this._visibleRange=t},t.prototype._updateExpansionStates=function(n,t){var e=!1,l,f;if(this._expandStates){for(var h=this._expandStates,i,o,a=this._rows,r=0,s=[],c=function(n,t){h[t]=-n;e=!0;var i=a[t];i&&(i.dirty=!0)},u=0,v=this._count;u<v;){for(i=h[u],r<t?(i<0&&n===!0||i>0&&n===!1)&&c(i,u):r===t&&(i>0&&n===!0||i<0&&n===!1)&&c(i,u),l=r,f=0;f<l;f++)s[f]-=1,s[f]===0&&(r-=1);o=Math.abs(i);o>0&&(s[r]=o,r+=1);u++}e&&this._updateRanges()}return e},t.prototype._updateExpansionStateAndRedraw=function(n,t){var r,i=this._selectedIndex;i>=0&&(r=this._getDataIndex(i));this._updateExpansionStates(n,t);i>=0&&(this._clearSelection(),this._addSelection(Math.abs(this._getRowIndex(r))));this._layoutContentSpacer();this._redraw()},t.prototype._updateViewport=function(n){var u=this._options,o=[],s=[],f=[],l=this._getVisibleRowIndices(),a=this._expandedCount-1,y=this._expandStates||[],p=this._count,r=l.first,e=l.last,t,c;r=Math.max(0,r-u.extendViewportBy);e=Math.min(a,e+u.extendViewportBy);var v=Math.max(0,r-u.payloadSize),w=Math.min(a,e+u.payloadSize),i=this._getDataIndex(v),b=r,h=this._canvas[0];for(h&&h.scrollLeft!==this._scrollLeft&&(h.scrollLeft=this._scrollLeft),t=v;t<=w&&i<p;t++)t<r?o[o.length]=[t,i]:t>e?s[s.length]=[t,i]:(f[f.length]=[t,i],b=t),c=y[i],c<0?i+=1-c:i++;this.cacheRows(o,f,s);this._drawRows(f,n)},t.prototype._setContextMenuColumn=function(){var n=this._options.contextMenu,t,i;n&&(this._automaticContextMenuColumn&&(n.columnIndex=undefined,t=this._columns.filter(function(n){return!n.hidden}),t.forEach(function(t){n.columnIndex===undefined&&t.width>120&&(n.columnIndex=t.index)}),typeof n.columnIndex=="undefined"&&t.length>0&&(n.columnIndex=t[t.length-1].index)),i=this._columns.filter(function(t){return n.columnIndex===t.index}),i.length===1&&(i[0].width=Math.max(32,i[0].width)))},t.prototype._cleanUpRows=function(){var n=this._rows,t,r=this._gutter,i;for(t in n)n.hasOwnProperty(t)&&(i=n[t],i.row.remove(),r&&i.gutterRow.remove());this._rows={}},t.prototype._getGutterIconClass=function(){return""},t.prototype._drawGutterCell=function(){},t.prototype._drawHeader=function(){var b=this,a=this._columns,v=this._sortOrder,c,i,y,n,t,l,u,f,d,e,r,o,w,s,h;if(this._header){for(c=document.createDocumentFragment(),i=0,y=a.length;i<y;i++)if(n=a[i],!n.hidden){for(t=k("div","grid-header-column"),t.setAttribute("role","columnheader"),l=n.tooltip||n.text,u=$(t),n.canSortBy&&!n.fixed&&u.addClass("sortable"),n.headerContainerCss&&u.addClass(n.headerContainerCss),l&&t.setAttribute("aria-label",l),t.setAttribute("tabindex","-1"),this._bind(t,"keydown",function(n){(n.key===" "||n.key==="Spacebar"||n.key==="Enter")&&b._onHeaderClick(n)}),t.style.width=(n.width||20)+"px",t._data={columnIndex:i,header:!0},f=k("div","separator"),n.fixed&&(f.style.cursor="auto"),d=$(f),f._data={columnIndex:i,separator:!0},t.appendChild(f),e=n.getHeaderCellContents.apply(this,[n])||$(k("div")),n.headerCss&&e.addClass(n.headerCss),r=k("div","sort-handle"),o=0,w=v.length;o<w;o++)if(s=v[o],s.index===n.index){s.order==="asc"?(u.addClass("ascending").attr("aria-sort","ascending"),this._options.useLegacyStyle?($(r).removeClass("bowtie-icon bowtie-triangle-down"),$(r).addClass("bowtie-icon bowtie-triangle-up")):(h=k("i","bowtie-icon right bowtie-sort-ascending"),e[0].appendChild(h))):s.order==="desc"&&(u.addClass("descending").attr("aria-sort","descending"),this._options.useLegacyStyle?($(r).removeClass("bowtie-icon bowtie-triangle-up"),$(r).addClass("bowtie-icon bowtie-triangle-down")):(h=k("i","bowtie-icon right bowtie-sort-descending"),e[0].appendChild(h)));break}t.appendChild(e[0]);t.appendChild(r);c.appendChild(t)}this._headerCanvas.empty();this._columnMovingElement=null;this._headerCanvas[0].appendChild(c);p.makeElementUnselectable(this._header[0])}},t.prototype._fixColumnsWidth=function(n){return n+2},t.prototype._layoutContentSpacer=function(){for(var n=0,i,f=this._columns,r,u,t=0,e=f.length;t<e;t++)f[t].hidden||(n+=(f[t].width||20)+this._cellOffset);n=this._fixColumnsWidth(n);i=Math.max(1,this._expandedCount*this._rowHeight);this._contentSpacer.width(n);this._contentSpacer.height(i);this._gutter&&this._gutter.height(i);this._measureCanvasSize();this._ignoreScroll=!0;try{r=Math.ceil(Math.max(0,Math.min(this._scrollTop,this._canvas[0].scrollHeight-this._canvas[0].clientHeight)));r!==this._scrollTop&&(this._scrollTop=r,this._canvas[0].scrollTop=r);u=Math.max(0,Math.min(this._scrollLeft,n-this._canvasWidth));u!==this._scrollLeft&&(this._scrollLeft=u,this._canvas[0].scrollLeft=u)}finally{this._ignoreScroll=!1}this._contentSize.width=n;this._contentSize.height=i},t.prototype._fixScrollPos=function(){var n=this._ignoreScroll;this._ignoreScroll=!0;try{this._canvas[0].scrollLeft=this._scrollLeft;this._canvas[0].scrollTop=this._scrollTop}finally{this._ignoreScroll=n}},t.prototype._redraw=function(n){this._layoutHeader();this._updateViewport(n)},t.prototype.selectAll=function(){if(this._count>0&&this._options.allowMultiSelect!==!1){this._addSelection(0);this._clearSelection();this._selectionStart=0;var n=Math.max(0,this._selectedIndex);this._addSelectionRange(this._expandedCount-1,undefined,{doNotFireEvent:!0});this._selectedIndex=n;this._updateSelectionStyles();this._selectionChanged()}},t.prototype._clearSelection=function(){this._selectionCount=0;this._selectedRows=null},t.prototype._addSelection=function(n,t,i){var r,f=i&&i.keepSelectionStart,e=i&&i.doNotFireEvent,o=i&&i.toggle,u;this._options.allowMultiSelect===!1&&(f=!1,this._clearSelection());this._selectedRows||(this._selectedRows={});n>=0?(r=!0,n+""in this._selectedRows?o&&(r=!1,this._selectionCount=Math.max(0,this._selectionCount-1),delete this._selectedRows[n]):this._selectionCount++,typeof t!="number"&&(t=this._getDataIndex(n)),r&&(this._selectedRows[n]=t),this._selectedIndex=n,this._updateActiveDescendant(),(this._selectionStart<0||!f)&&(this._selectionStart=n)):(t=-1,this._selectedIndex=-1,this._focusedElement=null,this._focusStateData.currentActionIndex=-1);e||(this._updateSelectionStyles(),this._selectionChanged(),this._selectedIndexChanged(this._selectedIndex,t),this._updateRowActionList(t),this._focusStateData.rowActionList[t]&&this._focusStateData.rowActionList[t][this._focusStateData.currentActionIndex]?this._setFocusedGridElement(this._focusStateData.rowActionList[t][this._focusStateData.currentActionIndex]):(this._focusStateData.currentActionIndex=-1,u=this.getElement()[0],u&&u.contains(document.activeElement)&&this._setFocusedGridElement(this.getFocusElement()[0])))},t.prototype._updateRowActionList=function(n){var t=this,i=this._rows[n]&&this._rows[n].row,r;i&&(r=$(i),this._focusStateData.rowActionList[n]=[],r.find(".grid-cell").each(function(i,r){var f=$(r),u=null;f.find(":focusable:visible,[data-tabbable=1]:visible").each(function(i,r){var f=$(r);f.attr("tabindex","-1");f.hasClass("grid-context-menu")?u=r:t._focusStateData.rowActionList[n].push(r)});u&&t._focusStateData.rowActionList[n].push(u)}))},t.prototype._setFocusedGridElement=function(n){n.setAttribute("tabindex","0");n.focus();this._focusedElement&&this._focusedElement!==n&&this._focusedElement.setAttribute("tabindex","-1");this._focusedElement=n},t.prototype._addSelectionRange=function(n,t,i){var u,o,r,f,h=i&&i.doNotFireEvent,s=-1,e;if(this._options.allowMultiSelect===!1)this._addSelection(n,t);else{for(this._selectedRows&&(s=this._selectedRows[this._selectedIndex]),this._selectionStart<0&&(this._selectionStart=n),u=Math.min(this._selectionStart,n),o=Math.max(this._selectionStart,n),(typeof t!="number"||u!==n)&&(t=this._getDataIndex(u)),r=u;r<=o;r++)this._addSelection(r,t,{keepSelectionStart:!0,doNotFireEvent:!0}),r===n&&(e=t),f=this._getExpandState(t),f<0?t+=1-f:t++;this._selectedIndex=n;this._updateActiveDescendant();h||(this._updateSelectionStyles(),this._selectionChanged(),s!==e&&this._selectedIndexChanged(this._selectedIndex,e))}},t.prototype._updateActiveDescendant=function(){var r=this.getElement(),i,n,t;this._active&&(i=this._getDataIndex(this._selectedIndex),i>=0&&(n=this.getRowInfo(i),n&&n.row&&(t=n.row.attr("id"),t!==this._activeAriaId&&(r.attr("aria-activedescendant",t),this._activeAriaId=t))))},t.prototype._updateAriaProperties=function(){var n=this.getElement(),f=this._getMode(),i,t,r,u;if(n.attr({role:this._getRole("canvas")}),this._getMode()!=="listbox"){if(this._columns){for(i=0,t=0,r=this._columns;t<r.length;t++)u=r[t],u.hidden||i++;n.attr("aria-colcount",String(i))}n.attr("aria-rowcount",this._expandedCount+(this._options.header?1:0))}else n.removeAttr("aria-colcount"),n.removeAttr("aria-rowcount")},t.prototype._updateSelectionStyles=function(){for(var n in this._rows)this._rows.hasOwnProperty(n)&&this._updateRowSelectionStyle(this._rows[n],this._selectedRows,this._selectedIndex)},t.prototype._selectionChanged=function(){this.selectionChanged(this._selectedIndex,this._selectionCount,this._selectedRows);this._fire("selectionchanged",{selectedIndex:this._selectedIndex,selectedCount:this._selectionCount,selectedRows:this._selectedRows})},t.prototype._selectedIndexChanged=function(n,i){this.selectedIndexChanged(n,i);this._fire(t.EVENT_SELECTED_INDEX_CHANGED,[n,i])},t.prototype._showContextMenu=function(n){var u=this,f,i=n?n.rowInfo:null,s,r,h,t,o;if((this._showingContextMenu=!0,t=$.extend({},this._options.contextMenu),t)&&i){if(f=this._dataSource[i.dataIndex],f.noContextMenu)return;o=n.contextMenu?"context-menu-active context-menu-clicked":"context-menu-active";t=$.extend({onActivate:function(){i.row.addClass(o)},onDeactivate:function(){i.row.removeClass(o)},onPopupEscaped:function(){i.row.removeClass(o)}},t,{contextInfo:{rowInfo:i,item:f},onHide:function(){Date.now()-u._lastFocusTime>e.BLUR_CLOSE_TIMEOUT+10&&(u._showingContextMenu=!1,u._fire(u._canvas,"blur"))}.bind(this)});f.root||(t.items=t.items?typeof t.items=="function"?t.items.call(this,t.contextInfo):t.items.slice(0):[],this._popupMenu&&(this._popupMenu.dispose(),this._popupMenu=null),r=this.getPinAndFocusElementForContextMenu(n),r.isRightClick&&(t=$.extend(t,{align:"left-bottom"})),this._popupMenu=this._createContextMenu(i,t),this._popupMenu&&r&&(s=r.pinElement,h=r.focusElement[0],v.delay(this,10,function(){t.suppressInitContributions&&this._popupMenu.refreshContributedItems();this._popupMenu.popup(h,s)})))}},t.prototype.getPinAndFocusElementForContextMenu=function(n){var i=n.contextMenu,r=!1,t;return this._contextMenuKeyPressedState===1||i||this._options.useLegacyStyle||(t=n.event,t&&t.pageX&&t.pageY&&t.target&&($(t.target).closest(".grid-row").length>0||$(t.target).closest(".grid-gutter-row").length>0)&&(this._$popupMenuPinTarget||(this._$popupMenuPinTarget=$(k("div","grid-context-menu-popup-pin")).appendTo(document.body)),this._$popupMenuPinTarget.css({top:t.pageY,left:t.pageX}),i=this._$popupMenuPinTarget,r=!0)),{pinElement:i||n.rowInfo.gutterRow||n.rowInfo.row||this._canvas,focusElement:this._focusedElement?$(this._focusedElement):this._canvas,isRightClick:r}},t.prototype._onContainerMouseDown=function(n){(n.target.matches||n.target.msMatchesSelector||n.target.webkitMatchesSelector).call(n.target,".menu *")||this.focus(10)},t.prototype._measureCanvasSize=function(){var n=this._canvas[0],t=n.getBoundingClientRect();this._previousCanvasHeight=this._canvasHeight;this._previousCanvasWidth=this._canvasWidth;this._canvasHeight=t.height-(n.offsetHeight-n.clientHeight);this._canvasWidth=t.width-(n.offsetWidth-n.clientWidth)},t.prototype._setupDragEvents=function(){this._bind(window.document,"mousemove",d(this,this._onDocumentMouseMove),!0);this._bind(window.document,"mouseup",d(this,this._onDocumentMouseUp),!0)},t.prototype._clearDragEvents=function(){this._unbind(window.document,"mousemove",null,!0);this._unbind(window.document,"mouseup",null,!0)},t.prototype._onDocumentMouseMove=function(n){var r,u,f,t=this._columnSizing,i=this._columnMoving;t&&t.active===!0&&(r=n.pageX-t.origin,f=Math.max(this._cellMinWidth,t.originalWidth+r),u=this._columns[t.index],u.width=f,this._applyColumnSizing(t.index),this._moveSizingElement(t.index));i&&i.state>0&&(r=n.pageX-i.origin,r!==0&&(i.state=2,this._moveColumnMovingElement(i.index,i.left+r)))},t.prototype._onDocumentMouseUp=function(){return v.delay(this,0,function(){this._tryFinishColumnSizing(!1);this._tryFinishColumnMoving(!1);this._clearDragEvents()}),!1},t.prototype._onHeaderMouseDown=function(n){var i,t,u,f,e,r;if(n.which===1)if(e=$(n.target).closest(".separator"),e.length>0){if(i=e[0]._data.columnIndex,t=this._columns[i],!t.fixed)return this._columnSizing={active:!0,index:i,originalWidth:t.width,origin:n.pageX},this._moveSizingElement(i),this._setupDragEvents(),!1}else if(r=$(n.target).closest(".grid-header-column"),r.length>0&&(i=r[0]._data.columnIndex,t=this._columns[i],this._options.allowMoveColumns&&!t.fixed&&t.canMove)){for(r.addClass("moving"),this._columnMoving={state:1,index:i,width:t.width,origin:n.pageX,colHeaderElement:r},u=0,f=0;f<i;)t=this._columns[f++],t.hidden||(u+=t.width);return this._columnMoving.left=u,this._setupDragEvents(),!1}},t.prototype._onHeaderMouseUp=function(){return},t.prototype._onHeaderClick=function(n){var f=this,i,t,r,e,u;if(r=$(n.target).closest(".grid-header-column"),r.length>0&&!this._columnSizing){if(e=$(n.target).closest(".separator"),e.length>0)return!1;if(i=r[0]._data.columnIndex,t=this._columns[i],t.onHeaderClick)t.onHeaderClick(t);else t.canSortBy&&!t.fixed&&(this._sortBy(t,n.shiftKey),u=function(){f._setFocusedGridElement(f._headerCanvas[0].children[i]);p.getFocusRing().style.removeProperty("visibility")},this._options.asyncInit?v.delay(this,1,u):u(),n.preventDefault(),n.stopImmediatePropagation())}},t.prototype._onHeaderDblClick=function(n){var i,r,t,u,f,e;return i=$(n.target).closest(".separator"),i.length>0?(this._tryFinishColumnSizing(!0),this._tryFinishColumnMoving(!0),r=i[0]._data.columnIndex,t=this._columns[r],t.fixed||(u=Math.max(t.maxLength||0,3),f=1.1+.7*Math.exp(-u/20),e=t.width,t.width=(t.indentOffset||0)+Math.round(u*f*this._unitEx),this._applyColumnSizing(r,e,!0)),!1):void 0},t.prototype._onHeaderKeyDown=function(n){var o=$(n.target),u,r,t,i,f,e;if(!n.altKey)if(n.shiftKey)u=$(n.target).closest(".grid-header-column"),u.length>0&&(r=u[0]._data.columnIndex,t=this._columns[r],t.fixed||(i=t.width,n.keyCode===p.KeyCode.RIGHT?(n.preventDefault(),n.stopPropagation(),i=t.width+et):n.keyCode===p.KeyCode.LEFT&&(n.preventDefault(),n.stopPropagation(),i=Math.max(this._cellMinWidth,t.width-et)),i!==t.width&&(t.width=i,this._applyColumnSizing(r,-1,!0),this._setFocusedGridElement(this._headerCanvas[0].children[r]))));else switch(n.keyCode){case p.KeyCode.DOWN:n.preventDefault();this._count>0&&this._selectRow(0);this._setFocusedGridElement(this.getFocusElement()[0]);break;case p.KeyCode.RIGHT:n.preventDefault();f=this._getNextHeaderElement(o);f.length>0&&this._setFocusedGridElement(f[0]);break;case p.KeyCode.LEFT:n.preventDefault();e=this._getPreviousHeaderElement(o);e.length>0&&this._setFocusedGridElement(e[0])}},t.prototype._onHeaderScroll=function(n){n.target.scrollLeft!==this._scrollLeft&&(this._scrollLeft=n.target.scrollLeft,this._redraw())},t.prototype._getNextHeaderElement=function(n){return this._focusStateData.currentHeaderActionIndex>=this._focusStateData.headerActionList.length-1?n:$(this._focusStateData.headerActionList[++this._focusStateData.currentHeaderActionIndex])},t.prototype._getPreviousHeaderElement=function(n){return this._focusStateData.currentHeaderActionIndex<1?n:$(this._focusStateData.headerActionList[--this._focusStateData.currentHeaderActionIndex])},t.prototype._moveSizingElement=function(n){var r=this._canvas,e=r[0],t=this._sizingElement,i,u=0,f=this._gutterWidth;if(!t){if(n<0)return;t=$(k("div","grid-column-sizing")).appendTo(r);this._sizingElement=t}if(t.height(e.clientHeight-1),t.css("top",this._scrollTop),n<0)t.css("left",-5e3).css("top",-5e3).height(0);else{while(u<=n)i=this._columns[u++],i.hidden||(f+=i.width);t.css("left",f-1)}},t.prototype._getVisibleColumnIndex=function(n){var t=0,i=0,r=this._columns.length;if(this._columns[n].hidden)return-1;while(t<n)this._columns[t].hidden||i++,t++;return i},t.prototype._applyColumnSizing=function(n,t,i){var f=this._getVisibleColumnIndex(n)+1,r=this._columns[n],u=!1;t=t||-1;r&&(u=r.width!==t,$(".grid-header-column:nth-child("+f+")",this._headerCanvas).width(r.width));i===!0&&(u&&this.layout(),this._onColumnResize(r))},t.prototype._tryFinishColumnSizing=function(n){var t=this._columnSizing;t&&(t.active===!0&&(n||this._applyColumnSizing(t.index,t.originalWidth,!0),this._moveSizingElement(-1)),this._columnSizing=null)},t.prototype._moveColumnMovingElement=function(n,t){var h=this._headerCanvas,c=this._canvas,r=this._columnMovingElement,u=this._columnMovingPinElement,i,l=this._columns.length,o=this._gutterWidth,f=0,e=0,s;if(!r){if(n<0)return;r=$(k("div","grid-column-moving")).appendTo(h);this._columnMovingElement=r;u=$(k("div","grid-column-moving-placer")).appendTo(c).height(4).css("left",-500).css("top",-500);this._columnMovingPinElement=u}if(n<0)r.css("left",-5e5),u.css("left",-500).css("top",-500);else{for(i=this._columns[n],r.width(i.width).css("left",t).css("top",0).text(i.text),s=t+(i.width>>1);f<l;){if(i=this._columns[f],!i.hidden){if(s-o>i.width/2)e=f+1;else break;o+=i.width}f++}e<n||e>n+1?(this._columnInsert=e,u.css("left",o-4).css("top",this._scrollTop)):(this._columnInsert=-1,u.css("left",-500).css("top",-500))}},t.prototype._applyColumnMoving=function(n,t){var u,r,i=this._columns;t>=0&&(t>n&&t--,u=i[n],r=i[t],this._options.allowMoveColumns&&!r.fixed&&r.canMove&&(i.splice(n,1),i.splice(t,0,u),this._determineIndentIndex(),this.layout(),this._onColumnMove(n,t)))},t.prototype._tryFinishColumnMoving=function(n){var t=this._columnMoving;t&&(t.state>1&&(this._moveColumnMovingElement(-1),n||this._applyColumnMoving(t.index,this._columnInsert)),this._columnMoving.colHeaderElement&&this._columnMoving.colHeaderElement.removeClass("moving"),this._columnMoving=null)},t.prototype._getSortColumns=function(n){for(var u=this._columns,f,o,s=[],i,h,r,t=0,e=n.length;t<e;t++){for(o=n[t],i=0,h=u.length;i<h;i++)if(r=u[i],r.index===o.index){f=r;break}s.push(f)}return s},t.prototype._onSort=function(n,t){this.onSort(n,t)!==!1&&this._fire("sort",[{sortOrder:n,sortColumns:t}])},t.prototype._onSelectStart=function(){return this._options.allowTextSelection?!0:!1},t.prototype._onCanvasScroll=function(){var n=this._canvas[0];return this._resetScroll=!0,this._scrollLeft=n.scrollLeft,this._scrollTop=n.scrollTop,this._ignoreScroll||this._redraw(),u.logTracePoint("TFS.UI.Controls.Grids._onCanvasScroll.complete"),!1},t.prototype._handleEvent=function(n,t,i,r){var f,e=this._selectedIndex,u;return f=this._getDataIndex(e),u={rowIndex:e,dataIndex:f,rowInfo:this._rows[f],event:n},r&&$.extend(u,r),t&&t.call(this,u)===!1?!1:this._fire(i,u)},t.prototype._onRowClick=function(n){var t=this._getRowInfoFromEvent(n,".grid-row");if(t)return this._handleEvent(n,this.onRowClick,"rowclicked",{row:t.row,rowInfo:t,rowIndex:t.rowIndex,dataIndex:t.dataIndex})},t.prototype._onRowDoubleClick=function(n){var t=this._getRowInfoFromEvent(n,".grid-row");if(t&&!$(n.target).hasClass("grid-tree-icon"))return this._handleEvent(n,this.onRowDoubleClick,"rowdblclick",{row:t.row,rowInfo:t,rowIndex:t.rowIndex,dataIndex:t.dataIndex})!==!1?this._onOpenRowDetail(n,{rowIndex:t.rowIndex,dataIndex:t.dataIndex}):!1},t.prototype._onGutterClick=function(n){var t=this._getRowInfoFromEvent(n,".grid-gutter-row"),i;if(t)return this._options.gutter.checkbox?(i=$(n.target),i.hasClass("checkbox")&&this._addSelection(t.rowIndex,t.dataIndex,{toggle:!0})):this._selectedRows&&typeof this._selectedRows[t.rowIndex]=="number"||this._selectRow(t.rowIndex,t.dataIndex),this._handleEvent(n,this.onGutterClick,"gutterclick",{gutterRow:t.gutterRow,rowInfo:t,rowIndex:t.rowIndex,dataIndex:t.dataIndex})},t.prototype._onEnterKey=function(n){return this._handleEvent(n,this.onEnterKey,"enterkey")!==!1?this._onOpenRowDetail(n):!1},t.prototype._onDeleteKey=function(n){return this._handleEvent(n,this.onDeleteKey,"deletekey")},t.prototype._onContextMenu=function(n,t){return this._contextMenuKeyPressedState===0?(this._contextMenuKeyPressedState=1,n.preventDefault()):(this._contextMenuKeyPressedState===1&&(this._contextMenuKeyPressedState=2,n.pageX=null,n.pageY=null),this._handleEvent(n,this.onContextMenu,"contextMenu",t)),!1},t.prototype._onToggle=function(n){var t,i;this._expandStates&&(t=this._expandStates[n.dataIndex],t!==0&&(t>0?(i=!1,this.collapseNode(n.dataIndex)):t<0&&(i=!0,this.expandNode(n.dataIndex)),this._isAncestorFolderToggled(n)?this.ancestorFolderToggled(n):this.nonAncestorFolderToggled(n,this._selectedRows?this._selectedRows[this._selectedIndex]:undefined),this._layoutContentSpacer(),this._redraw(),this._raiseToggleEvent(n,i)));this.afterOnToggle(n)},t.prototype._isAncestorFolderToggled=function(n){var u={},i,r,t;if(this._indentLevels&&this._selectedIndex&&this._selectedRows&&this._selectionCount===1)for(i=this._selectedRows[this._selectedIndex],r=this._indentLevels[i]-1,t=i-1;t>=0;t--)this._indentLevels[t]===r&&(u[t]=!0,r--);return u[n.dataIndex]===!0},t.prototype.ancestorFolderToggled=function(n){this._folderToggled(n)},t.prototype.nonAncestorFolderToggled=function(n){this._folderToggled(n)},t.prototype.afterOnToggle=function(){},t.prototype._folderToggled=function(n){this._clearSelection();this._addSelection(Math.min(n.rowIndex,this._expandedCount-1),n.dataIndex)},t.prototype._raiseToggleEvent=function(n,i){this._options.enabledEvents&&t.EVENT_ROW_TOGGLED in this._options.enabledEvents&&this._element.triggerHandler(t.EVENT_ROW_TOGGLED,[n,i])},t.prototype.copySelectedItems=function(n,t,i){var r=this,f;u.logTracePoint("TFS.UI.Controls.Grids.copySelectedItems.start");this._copyInProgress=!0;f=new l.LongRunningOperation(this.getElement(),{cancellable:!0,message:s.CopyProgressPleaseWait});f.beginOperation(function(e){r._cancelable=e;r.beginFormatTable(function(n,i){f.endOperation();r._copyInProgress=!1;u.logTracePoint("TFS.UI.Controls.Grids.copySelectedItems.complete");typeof t=="undefined"&&i&&(t=i.includesHtml===!0);r._cancelable&&r._cancelable.canceled||a.copyToClipboard(n,{copyAsHtml:t})},null,n,i)})},t.prototype._ensureRowDrawn=function(){return!0},t.prototype._onMouseOver=function(n){var t=$(n.currentTarget),f,u,i,r,e;t.data("noTooltip")||(f=t.attr("title"),f&&t.removeAttr("title").data("tooltipText",f),u=t.data("tooltipShowOnOverflow"),typeof u!="boolean"&&(u=!0),i=t,u&&(i=$(p.getOverflowElement(n.currentTarget,!0))),i.length>0&&(this._tooltip||(this._tooltip=o.RichContentTooltip.add("",this.getElement(),{useMousePosition:!0})),r=i.data("tooltipText"),r||(r=i.text()),e=this._tooltip,e.setTextContent(r),r!==""&&e.enable()))},t.prototype._onMouseOut=function(){this._tooltip&&this._tooltip.disable()},t.prototype._beginEnsureSelectionIsAvailable=function(n){n()},t.prototype._dispose=function(){this._tooltip&&(this._tooltip.dispose(),this._tooltip=null);var i=this._element;i.off("mouseover",t.TOOLTIP_TARGET_SELECTOR,this._tooltipMouseOverHandler);i.off("mouseout",t.TOOLTIP_TARGET_SELECTOR,this._tooltipMouseOutHandler);this._tooltipMouseOverHandler=null;this._tooltipMouseOutHandler=null;n.prototype._dispose.call(this);p.detachResize(i)},t.enhancementTypeName="tfs.grid",t.MAX_COPY_SIZE=1e3,t.PAYLOAD_SIZE=200,t.EVENT_ROW_UPDATED="rowupdated",t.EVENT_ROW_TOGGLED="rowtoggled",t.EVENT_SELECTED_INDEX_CHANGED="selectedIndexChanged",t.DATA_DRAGGING_ROWINFO="draggingRowInfo",t.DATA_DROPPING_ROWINFO="droppingRowInfo",t.TOOLTIP_TARGET_SELECTOR=".grid-cell, .grid-header-column > .title",t}(r.Control);t.GridO=g;nt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(g);t.Grid=nt;w.initClassPrototype(g,{_dataSource:[],_expandStates:null,_indentLevels:null,_columns:[],_sortOrder:[],_visibleRange:[],_count:0,_expandedCount:0,_selectedIndex:-1,_indentIndex:0,_selectionStart:-1,_selectionCount:0,_selectedRows:null,_rowHeight:20,_cellOffset:0,_gutterWidth:30,_contentSize:null,_rows:{},_focus:null,_scroller:null,_canvas:null,_canvasHeight:300,_canvasWidth:300,_contentSpacer:null,_header:null,_headerCanvas:null,_gutter:null,_gutterHeader:null,_popupMenu:null,_columnSizing:null,_columnMoving:null,_columnMovingElement:null,_columnMovingPinElement:null,_columnInsert:null,_unitEx:null,_sizingElement:null,_resetScroll:!1,_ignoreScroll:!1,_scrollTop:0,_scrollLeft:0,_ddRowAcceptStatus:null,_ddRowOverStatus:null,_droppable:null,_draggable:null,_draggingRowInfo:null,_cancelable:null,_active:!1,_activeAriaId:null,_cellMinWidth:15,_copyInProgress:!1});r.Enhancement.registerJQueryWidget(nt,"grid");ut=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.enhancementTypeName="tfs.listview",t}(nt);t.ListView=ut;r.Enhancement.registerJQueryWidget(ut,"listView");$(function(){function n(){function t(){n&&(n.style.overflowX=n.clientWidth!==n.scrollWidth?"scroll":"auto")}var n;n=$(document.body).children(".main-container")[0];p.attachResize(n,t);t()}p.BrowserCheckUtils.isMsie()&&n()});ct=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.attachGrid=function(n){this._grid||(this._grid=n)},t.prototype.addMoreItems=function(n,t){n(this.createSearchableObjects());t()},t.prototype.createSearchableObjects=function(){var i,n,r,s;u.logVerbose("GridSearchAdapter.createSearchableObjects: Creating searchable objects for grid data.");var f=this._gridData=this._grid._dataSource,c=this.getSearchableColumns(),e=[],o,t;for(i in f){for(t=[],n=0,r=c;n<r.length;n++)s=r[n],t.push(this._grid.getColumnText(i,s));o=new h.SearchableObject(f[i],t);e.push(o)}return e},t.prototype.handleResults=function(n){u.logVerbose("GridSearchAdapter.handleResults: Updating grid with new results.");this._results=n;this._grid.setDataSource(n,this._grid.getExpandStates(),this._grid.getColumns(),this._grid.getSortOrder(),null,!1)},t.prototype.handleError=function(n){w.handleError({name:"",message:n})},t.prototype.handleClear=function(){u.logVerbose("GridSearchAdapter.handleClear: Restoring original dataset");this._results===this._grid._dataSource&&this._grid.setDataSource(this._gridData,this._grid.getExpandStates(),this._grid.getColumns(),this._grid.getSortOrder(),null,!1);this._results=undefined},t.prototype.isDataSetComplete=function(){var n=this._gridData===this._grid._dataSource||this._results===this._grid._dataSource;return u.logVerbose("GridSearchAdapter.isDataSetComplete: "+n),n},t.prototype.getSearchableColumns=function(){var t=this,n;return this._searchableColumns||(this._searchableColumns=[],n=this._grid.getColumns(),$.each(n,function(n,i){i.isSearchable&&t._searchableColumns.push(i)})),this._searchableColumns},t}(h.SearchAdapter);t.GridSearchAdapter=ct;ft=function(){function n(n,t){this._options=t;this._grid=n}return n.prototype.getTableFromSelectedItems=function(){u.logTracePoint("TFS.UI.Controls.Data.TabDelimitedTableFormatter.getTableFromSelectedItems.start");var f=this,i=this._grid,r=i.getSelectedDataIndices(),n=new y.StringBuilder,t;return(t=i.getColumns(),r.length===0||t.length===0)?"":($.each(t,function(t,i){t>0&&n.append(y.tab);n.append(i.text)}),n.appendNewLine(),$.each(r,function(r,u){r>0&&n.appendNewLine();n.append($.map(t,function(n){return f.getFormattedColumnValue(n,i.getColumnText(u,n))}).join(y.tab))}),u.logTracePoint("TFS.UI.Controls.Data.TabDelimitedTableFormatter.getTableFromSelectedItems.complete"),n.toString())},n.prototype.getFormattedColumnValue=function(n,t){return t},n}();t.TabDelimitedTableFormatter=ft;lt=function(){function n(n,t){this.includesHtml=!0;this._options=t;this._grid=n}return n.prototype.processColumns=function(n){return n},n.prototype.getTableFromSelectedItems=function(){var i=this;u.logTracePoint("TFS.UI.Controls.Data.HtmlTableFormatter.getTableFromSelectedItems.start");var n=this._grid,r=this._getSelectedDataIndicesFromGrid(),f=this._options&&this._options.extendedText?this._options.extendedText:undefined,t=this.processColumns(n.getColumns()),e=t.map(function(n,t){return{index:t,name:n.text,isValueHtml:n.noHtmlEncode}}),o=r.map(function(r){return t.map(function(t){return i.getFormattedColumnValue(t,n.getColumnText(r,t))})}),s=new b.HtmlTableFormatter(o,e,{extendedHtml:f});return u.logTracePoint("TFS.UI.Controls.Data.HtmlTableFormatter.getTableFromSelectedItems.complete"),s.getHtml()},n.prototype.getFormattedColumnValue=function(n,t){return t},n.prototype._getSelectedDataIndicesFromGrid=function(){return this._grid.getSelectedDataIndices()},n}();t.HtmlTableFormatter=lt;w.tfsModuleLoaded("VSS.UI.Controls.Grids",t)});

define("VSS/Resources/VSS.Resources.Common",["require","exports"],function(require,exports){var e=exports;e.TeamHomeShowAllMembers="Show all members";e.Header_WelcomePortal="Azure DevOps Services";e.InvalidArtifactUri="TF400897: Invalid artifact uri: {0}";e.GettingStartedCreatingCollection="Creating collection...";e.AgoAMonth="a month ago";e.WelcomePageCreateProjectTitle="Create a team project";e.ViewProcessGuidance="View process guidance";e.Header_Privacy="Privacy policy";e.ErrorDuplicateRouteArea="TF400913: RoutingArea \u0027{0}\u0027 already registered.";e.ReleaseManagementStakeholderName="View Releases and Manage Approvals";e.TimeStampFullDate="{0}, {1}";e.NotAuthorizedToAccessPage="TF400894: You are not authorized to access this page. Please contact your project administrator.";e.HostedWelcomePageTitle="Welcome to Azure DevOps Services";e.NavigationHelpMenuMsdn="MSDN";e.TeamHomeOpeningWorkItemForm="Opening work item form...";e.InvalidExtensionManifest="Extension manifest file format is invalid. ";e.AgileBoardsFeatureDescription="Agile project management taskboards";e.AddSearchFilterType="Work item type:";e.Header_ExitAdministration="Exit administration";e.BrowseForExtensions="Browse Azure DevOps extensions";e.ErrorMissingManifestFileFormat="TF400903: Could not find manifest file ({0}) in the plugin archive";e.TrialModeReminderMessage_Today="\u003cb\u003etoday\u003c/b\u003e";e.ProjectNameNotSpecified="Project name must be specified.";e.NewTeamProjectText="New team project";e.Header_Support="Support";e.Backlog="Backlog";e.TeamDoesNotExistOrNoAccess="TF400914: The specified team, {0}, either does not exist or you do not have access to it.";e.OtherCollections="Other collections";e.ExpandAll="Expand all";e.PageTitleServerHome="Welcome to Azure DevOps Server";e.HighContrastThemeName="High contrast";e.FeedbackFeatureName="Request and Manage Feedback";e.StakeholderAccountExpiredReminderMessage="Your current license {0} has expired. You will be assigned a \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=403541\"\u003eStakeholder license\u003c/a\u003e temporarily. Please contact your organization administrator.";e.VersionControlProperty="Version control:";e.TestManagementForBasicUsersFeatureDescription="Run tests assigned to you using the web-based Test Runner.";e.WelcomePageGettingStarted="Getting started";e.ManageSecurity="Manage security";e.GettingStartedCreateCollectionProgressPart1="We are currently creating your first collection and finalizing your organization configuration.";e.TestManagementForStakeholderName="Test summary access to stakeholder license users";e.CollapseAllToolTip="Collapse all";e.TeamHomeConfigureAreas="Configure work areas...";e.MenuItemsLoading="Loading...";e.InvalidCallbackName="Callback name contains invalid characters.";e.HelpMenuLabel="Help";e.PageTitleProjectHome="{0} project";e.ErrorPluginNotFound="TF400906: The plugin {0} could not be found";e.Filter="Filter";e.NavigationContentMenuItem_Instance="Azure DevOps Server";e.PortfolioBacklogManagementFeatureDescription="Create a portfolio of features and initiatives and trace your product backlog items to portfolio items.";e.GettingStartedRetryTeamProjectCreationLink="Retry team project creation";e.GitSupport="Git support";e.AdministerServer="Manage server";e.Header_Administration="Administration";e.OpenInVisualStudioPartDesc="Open this Team Project in Visual Studio";e.TeamHomeManageMembers="Manage all members...";e.MoreMyTeams="More my teams...";e.WelcomePageBrowseAll="Browse all...";e.MyWork="My work";e.RemoveFromRecentItems="Remove from recent items";e.WelcomePageCreateProjectDescription="Add a team project to a team  project collection.";e.AgoAMinute="a minute ago";e.NavigationContextMenuDefaultLabelTitle="Select a project";e.Header_KeyboardShortcuts="Keyboard shortcuts";e.Header_Community="Community";e.WorkItems="Work items";e.SendMailSendButton="Send";e.TestManagementInBuildAndReleaseFeatureDescription="Test services in build and release.";e.HubGroupDashboards="Dashboards";e.GettingStartedPatchLink="Download software";e.GettingStartedPatchText="Download and install the software necessary to connect to your team project from Visual Studio, Eclipse, Excel, or Microsoft Test Manager.";e.Application_NoTeamProjects="There are no team projects.";e.TeamSettings="Team settings";e.GettingStartedTeamProjectPart1="When your organization is ready, you will then be able to create a new team project for your team to collaborate in.";e.GettingStartedTeamProjectPart2="Create a new team project for your team to collaborate in.";e.WelcomePageNoRecentProjects="You haven\u0027t recently visited any project or teams.";e.SourcePropertiesGitUrl="Git repository URL";e.InvalidParameterFormat="Format of the parameter \u0027{0}\u0027 is invalid.";e.ViewBacklog="View backlog";e.BranchToDeployLabel="Branch to Deploy";e.TeamTitleFormat="{0} / {1}";e.ErrorNoPluginElementsFormat="TF400904: No plugin elements ({0}) were found in the plugin manifest file";e.TimeStampYesterdayAt="Yesterday at {0}";e.UnableToFindWindowsIdentity="Unable to find Windows identity for {0}";e.Gallery="Available extensions";e.SubscriptionLabel="Subscription";e.AgoHours="{0} hours ago";e.ManageWorkAreas="Manage work areas";e.AgoAYear="a year ago";e.AgoAWeek="a week ago";e.ManageProject="Manage project";e.ManageProfile="My profile";e.SearchInProject="Search in project";e.AgoYears="{0} years ago";e.ErrorPluginNameInvalidCharsFormat="Invalid character(s) in the plugin name. Plugin name can contain only letters, digits, space and the following characters:\r\n\r\n    {0}";e.AgoWeeks="{0} weeks ago";e.TeamHomeConfigureIterations="Configure schedule and iterations...";e.PortfolioBacklogManagementFeatureName="Agile Portfolio Management";e.TestManagementForStakeholderDescription="Stakeholder license users can view test summary charts on dashboards";e.NavigationContextMenuDefaultLabel="Projects";e.FilterToolTip="Filter";e.NavigationContentMenuItem_TeamProjectCollection="Collection";e.MoreMyCollections="More my collections...";e.ProjectHomeBladeTitle="Team Project";e.ExtensionSlowLoadWarningHeader="An Azure DevOps extension is loading slowly. Expand details to view options.";e.NavigationContextMenuBackToWelcomePage="Back to Welcome Page";e.TeamHomeMembersTitleFormat="Members ({0})";e.HtmlContentMsdnEligible="\u003cspan class=\"refresh-action\" \u003e\u003cb\u003eRetry\u003c/b\u003e\u003c/span\u003e";e.BranchToDeployMessage="Since your repository does not yet have a branch created, we will automatically use the first branch you create for deployments.";e.PropertiesPartTitle="Properties";e.CreateTeamProjectTitle="Create Team Project";e.NewMenuTitle="New";e.GettingStartedTutorialFeedbackDesc="Provide suggestions for how we can improve our Azure DevOps Services.";e.AdvancedPortfolioBacklogManagementFeatureDescription="Advanced portfolio management.";e.GettingStartedErrorCreatingProject="TF400911: There was an error creating the project. Please try again and if the problem persists \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=534538\" target=\u0027_blank\u0027\u003econtact our support team\u003c/a\u003e";e.StakeholderExpiredLicenseReminderLink="https://go.microsoft.com/fwlink/?LinkID=403541";e.SetupDeploymentDescription="Build, test, and deploy your website automatically when you check in code.";e.TeamProjectRenamedGlobalMessage="The team project {0} has been renamed to {1}";e.ProjectPickerBladeTitle="Choose project";e.TestManagementFeatureDescription="Web-based Test Case Management functionality.";e.ProjectNameInvalid="The project name is not valid.";e.BacklogManagementFeatureName="Basic backlog and sprint planning tools";e.TeamProjectWatermark="Enter team project name...";e.WelcomePageProjectConnectionMessage="Click \"Browse all...\" to connect to a project.";e.ExtensionDoesNotExist="Extension does not exist.";e.ReleaseManagementStakeholderDescription="View Releases and Manage Approvals";e.CreateProjectFailedMessage="Create Project Failed";e.FeatureEnablementSettings_Error_Invalid_Admin="TF400917: The current configuration is not valid for this feature. This feature cannot be used until you correct the configuration.";e.ManageExtensions="Manage extensions";e.ChartAuthoringFeatureName="Chart Authoring";e.ProjectCreationErrorTryAgain="try again";e.SendMailNoSubjectWarning="Are you sure you want to send this mail without a subject?";e.SignOut="Sign out";e.SidebarSearchWatermark="Search...";e.BacklogManagementFeatureDescription="Basic agile project management product and sprint backlog";e.NavigationContextMenuTeamLabelTitleFormat="Team \u0027{0}\u0027 in Project \u0027{1}\u0027";e.CreateFirstProjectWelcomeText="Welcome.  Your organization, \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027\u003e{0}\u003c/a\u003e, is created and ready to go.  Now create your first team project where you’ll host your code and backlog. ";e.ExtensionErrorHeader="Failed to load extension";e.ProjectTeams="{0} teams";e.ProjectTitleFormat="{0}";e.RequiredFieldWatermark="Required...";e.ChartViewingFeatureDescription="View custom charts of your work item data.";e.CloseBrowserToCompleteSignoutMessage="You must close your browser to complete the sign out process.";e.Administration="Administration";e.NotSupportedBrowserMessage="\u003ch2\u003eAzure DevOps is designed for you, but maybe not for your browser.\u003c/h2\u003e\r\n\u003cp\u003eSome Azure DevOps features might not work correctly with the version of the web browser you\u0027re currently using.\u003c/p\u003e\r\n\u003cp\u003eTo get the most out of Azure DevOps, we recommend that you take a few minutes to upgrade to the current version of one of these browsers:\u003cbr\u003e\r\n  \u003cul\u003e\r\n\t\u003cli\u003e\u003ca href=\"https://windows.microsoft.com/en-US/internet-explorer/downloads/ie\"\u003eInternet Explorer\u003c/a\u003e\u003c/li\u003e\r\n  \u003cli\u003e\u003ca href=https://www.microsoft.com/en-us/windows/microsoft-edge\"\u003eMicrosoft Edge\u003c/a\u003e\u003c/li\u003e\r\n\t\u003cli\u003e\u003ca href=\"https://www.mozilla.com/en-US/firefox/new/\"\u003eMozilla Firefox\u003c/a\u003e\u003c/li\u003e\r\n\t\u003cli\u003e\u003ca href=\"https://www.google.com/chrome\"\u003eGoogle Chrome\u003c/a\u003e\u003c/li\u003e\r\n\t\u003cli\u003e\u003ca href=\"https://www.apple.com/safari/\"\u003eSafari\u003c/a\u003e\u003c/li\u003e\r\n  \u003cul\u003e\r\n\u003c/p\u003e";e.TeamHomeMoreWorkItemTypes="more";e.PinnedItemsTileInfoMessage="You can pin builds, version control paths, work item queries and charts to the team homepage to display them as tiles.";e.ProcessTemplateLabel="Process Template";e.ManageTeamMembers="Manage team members";e.ProjectSettings="Project settings";e.EarlyAdopterModeReminderMessage_MultipleDays="Your account is an Early Adopter account. In \u003cb\u003e{0} days\u003c/b\u003e your account will revert to a standard account. \u003ca href=\u0027{1}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.PageTitle_Hosted="Microsoft Azure DevOps Services";e.RequestFeedback="Request feedback";e.WelcomePageServerAdministrationDescription="Manage team project collections, team projects, users, groups, and permissions.";e.StakeholderReminderMessage="As a stakeholder, you can access the backlog, task and Kanban boards, work items and manage approvals for Releases. {0}.";e.EarlyAdopterAccountLearnMoreUrl="https://go.microsoft.com/fwlink/?LinkID=330423";e.ManageTeams="Manage teams";e.AjaxRequestFailedWithStatus="Ajax request failed with status: {0}.";e.HomePageUpgradeToFullVersionMessage="Azure DevOps Services is live! Up to 5 users are free, plus for a limited time all use is free. \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkID=269576\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.CancelText="Cancel";e.GettingStartedTeamProject="Create a team project";e.ActionsTitle="Actions";e.ProjectHomeBladeSubTitle="Team Project";e.PinnedItemsTitle="Pinned Items";e.Marketplace="Marketplace";e.ErrorPluginElementMissingNameFormat="TF400905: A plugin element ({0}) was found with no \"{1}\" attribute";e.ReleaseManagementFeatureName="Author Release Pipelines and Manage Releases";e.UnsavedChanges="You have unsaved changes.";e.ManageSecurityPreferences="Security";e.AllItemsText="All";e.SignInAsDifferentUser="Sign in as...";e.StakeholderMsdnExpiredReminderMessage="Your MSDN subscription has expired. You will be assigned a \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=403541\"\u003eStakeholder license\u003c/a\u003e temporarily. Check your MSDN subscription status at \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=513087\"\u003eMy Account portal\u003c/a\u003e.";e.CollapseAll="Collapse all";e.Header_About="About";e.WelcomePageViewOnlineHelpTitle="Visit the MSDN Library";e.AdministerAccount="Manage organization";e.CDNDisclaimer="Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use – https://www.asp.net/ajaxlibrary/CDN.ashx.";e.SourceQuickStartBladeTitle="Add some code";e.Eclipse="Eclipse";e.SendMailTo="To";e.MoreMyProjects="More my projects...";e.InvalidZipArchiveFile="TF400900: Invalid zip archive file : {0}";e.AutomaticCulture="Browser";e.SendMailTitle="Send mail";e.CreateProjectBladeSubTitle="Create a team project for Azure DevOps Server.";e.SourcePropertiesPartTitle="Source";e.SearchWorkItems="Search work items";e.TestManagementForExpressSkuFeatureName="Analyze test results and manage machine groups";e.ManageNotifications="Notification settings";e.CreateTeamProjectPartDesc="Create a team project for Azure DevOps Services";e.TeamHomeWorkItemCreatedMessage="{0} created {1}";e.SetUpContinuousDeploymentPartTitle="Set Up Continuous Deployment";e.UnableToAccessCollectionFromCompatUrl="TF400895: Unable to access collection specified : {0}";e.Team_Members="Members ({0})";e.AccountHomePage_ShowAboutTFSHosted_VSO="Display About Azure DevOps Services";e.AgoMinutes="{0} minutes ago";e.OpenInVisualStudioPartShortTitle="Open in VS";e.TestMailSuccess="Email was successfully sent from Azure DevOps to the configured SMTP server.";e.ResourceUsageLoadTestingUnit="virtual user minutes";e.ResourceUsageLoadTestingName="Load Testing";e.NewTeamProjectGitText="New team project + Git";e.TeamHomeViewQueries="View queries";e.InvalidLicenseException="TF400409: You do not have licensing rights to access this feature: {0}";e.ProjectNotFound="TF400901: Project not found: {0}";e.TeamProjectSubHeader="Team Project";e.FirstProjectConfirmationLearn="Are you ready to write some code?  Get started by connecting your project directly to {0}, or learn how to connect with {1}, or {2}.  We think you and your team are going to absolutely love this.";e.AdvancedHomePageFeatureName="Advanced home page";e.NavigationContentMenuItem_Account="Your organization";e.WelcomePageVisitGalleryDescription="Access extensions, process templates, and power tools for Visual Studio and Azure DevOps Server.";e.TestManagementForBasicUsersFeatureName="Web-based Test Execution";e.XmlSchemaErrorLine="({0},{1}) {2}";e.AddSearchFilterCreatedBy="Created by:";e.ResourceUsageBlockedNoSubscription="Your organization has used all the free quantity of this resource. Click Learn more above to set up billing for your organization.";e.AccountHomePage_ShowAnnouncements="Display all announcements";e.InvalidParameter="Parameter \u0027{0}\u0027 is invalid";e.ExtensionsDisabledMessage="Extensions are disabled.";e.TeamHomeProjectAdminTitle="Administration";e.CollectionSettings="Collection settings";e.NavigationContextMenuTeamLabelFormat="{0} / {1}";e.WelcomePageVisitGalleryTitle="Visit the Visual Studio Gallery";e.NoImageDataUploaded="No image data uploaded.";e.FetchingSearches="Fetching recent searches";e.PageTitle="Azure DevOps Server";e.CreateDeploymentPartShortTitle="Create Deployment";e.SendMailAttachments="Attachments";e.TimeStampDayAt="{0} at {1}";e.GettingStartedTutorialLink="Beginner\u0027s guide";e.GettingStartedTutorialText="A step-by-step guide to help you get up and running now.";e.OpenVisualStudio="Open new instance of Visual Studio";e.InvalidRedirectException="The specified redirect URL failed validation - the validator returned {0}. Please check to make sure the provided redirect URL is well-formed.";e.UnknownArtifactType="Unknow artifact type: {0}";e.TimeStampTodayAt="Today at {0}";e.AddSearchFilterAssignedTo="Assigned to:";e.UnsupportedBrowserWarningMessageHosted="You are using an unsupported browser. For the best experience, please upgrade to a newer browser. \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=799815\" target=\"_blank\"\u003eLearn more\u003c/a\u003e";e.NewBacklogItemToolTip="Add an item to this backlog";e.AccountSettings="Organization settings";e.GettingStartedRetryCollectionCreationLink="Retry collection creation";e.WelcomePageSubmitFeedbackDescription="Provide suggestions for how we can improve Team Web Access and Azure DevOps Server.";e.ExtensionSlowLoadWarningBody="It is taking a long time to load the Azure DevOps extension content from the following url: \u003cbr /\u003e\u003ca /\u003e";e.CreateTeamProjectPartShortTitle="Team Project";e.EarlyAdopterModeReminderMessage_Today="Your account is an Early Adopter account. \u003cb\u003eToday\u003c/b\u003e your account will revert to a standard account. \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.ChooseWebsiteWizardStepLabel="Choose Website";e.AdvancedHomePageFeatureDescription="Advanced home page.";e.ImageSizeTooLarge="Uploaded image exceeds maximum size.";e.NavigationHelpMenuGettingStarted="Getting started";e.NoCollectionSpecifiedInCompatUrl="TF401198: No project collection specified in the request.";e.UnsavedChangesWithNames="You have unsaved changes:";e.RequireOnPremiseDeploymentError="TF400915: This service is not available.";e.TestMailFailure="Error sending email message. Exception details: {0}";e.TfsAccountBoundToSubscriptionMessage="This Azure DevOps organization is already bound to your subscription.";e.PlansFeatureName="Delivery Plans";e.InvalidErrorParameter="Invalid error parameter";e.CreateFirstProject="Create your first team project";e.Board="Board";e.CreateProjectFailed="Create Project Failed";e.SendMailSpecifyToAddress="There must be at least one email address for To field.";e.AgoDays="{0} days ago";e.AgoADay="a day ago";e.AccountHomePage_ShowAboutTFSHosted="Display About Azure DevOps Services";e.MoreCollectionProjects="More {0} projects...";e.XCode="Xcode";e.FeatureEnablementSettings_Error_Link_Invalid_Admin="https://go.microsoft.com/fwlink/?LinkId=298890";e.JobFailed="TF400902: There was a failure executing the job. Job Id for the failed creation:{0}";e.HubGroupRelease="Release";e.AccountHomePage_ShowAboutTFSOnPerm="Display About Azure DevOps Server";e.NewTeamProjectProjectPickerItem="New Team Project";e.ConfirmToDiscardEditedEmail="Leaving this page will discard the email. Do you want to exit?";e.InvalidContentType="The uploaded file must be an image.";e.FeatureEnablementSettings_Error_Missing="This feature cannot be used until an Azure DevOps Administrator configures it for this team project.";e.ViewTaskBoard="View task board";e.TestMailMessage="This message was sent to verify Azure DevOps email settings.";e.CreateTeamProjectPartTitle="Team Project";e.FeedbackFeatureDescription="Solicit feedback";e.ServerTimeZone="Server: {0}";e.VisualStudio="Visual Studio";e.StakeholderMsdnEligibleReminderMessage="\u003cdiv class=\"stakeholder-license-message\"\u003e We could not verify your Visual Studio subscription so we’ve downgraded you to Stakeholder. Please visit our \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=733421\u0026clcid=0x409\"\u003e\u003cb\u003etroubleshooting page\u003c/b\u003e\u003c/a\u003e for more details then click here to {0} \u003c/div\u003e";e.TeamHomeTeamsTitle="Teams";e.TeamFoundationServerName="Azure DevOps Server 2022";e.TeamHomeCreateWorkItemLink="+ {0}";e.TrialFeatureUrl="https://go.microsoft.com/fwlink/?LinkID=325554";e.ExpandAllToolTip="Expand all";e.ProjectQuickStartTitle="Your Team Project\u0027s up";e.OpenInVisualStudioPartTitle="Open in Visual Studio";e.NavigationContextMenuProjectLabelTitleFormat="Project \u0027{0}\u0027";e.WelcomePageRecentItems="Recent projects and teams";e.FeedbackMenuHint="Feedback";e.NoResultsToDisplay="There are no results to display.";e.AdvancedBacklogManagementFeatureDescription="Advanced backlog and sprint planning tools.";e.LearnGitMessage="Learn how you can use the Git distributed version control system in your team projects.";e.ProjectQuickStartDesc="Kick-start your project with these tools and tips";e.GettingStartedViewOnlineHelp="Learn more, dig deeper";e.HubGroupSource="Code";e.NavigationRecentProjectsAndTeams="Recent projects and teams";e.InternalServerError="Internal server error:";e.ChartAuthoringFeatureDescription="Create customized charts to view and visualize your work item data.";e.AdminFeatureDescription="Administer organization and team projects.";e.LearnMore="Learn more";e.PageTitleWithContent="{0} - Azure DevOps Server";e.SourceControlTitle="Source";e.Settings="Settings";e.StakeholderReminderLink="https://go.microsoft.com/fwlink/?LinkID=402656";e.EllipsisMenuTitle="Configure";e.NoFilesSelected="No files were selected to be uploaded.";e.InvalidEmailWithEmail="Please enter a valid email address ({0}).";e.PageTitleWithContent_Hosted="{0} - Azure DevOps Services";e.TestMailTitle="Test Mail Settings";e.ResourceUsageBuildUnit="minutes";e.ResourceUsageBuildName="Build";e.PageNotFound="Page not found.";e.AddASearchFilter="Add a search filter";e.FeatureEnablementSettings_Error_LinkText_Invalid_Admin="Learn about how to correct your configuration";e.StakeholderReminderLinkText="Learn more";e.BuildFeatureName="Build";e.ProjectDoesNotExistOrNoAccess="TF400896: The project with guid {0} does not exist or you do not have access.";e.TeamSettings_ManualCorrectionLink="https://go.microsoft.com/fwlink/?LinkID=242983";e.Application_TeamProjects="Team projects ({0})";e.WebApiUndefinedRequestError="An undefined error occurred while attempting to connect to the server. Status code {0}: {1}.";e.GettingStartedErrorCreatingCollection="TF400910: There was an error creating the collection. Contact our support team by visiting https://www.visualstudio.com/support-overview-vs";e.GoToProjectPortal="Go to project portal";e.Activities="Activities";e.UnsupportedBrowserWarningMessage="You are using an unsupported browser. For the best experience, please upgrade to a newer browser. \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=799814\" target=\"_blank\"\u003eLearn more\u003c/a\u003e";e.NavigationContentMenuItem_Team="Team";e.Application_SelectTeamProject="To get started, select the team project you want to connect to.";e.AddSearchFilterState="State:";e.RetrievingWorkItemTypes="Retrieving work item types...";e.NavigationViewUnknownTabErrorFormat="Could not find navigation tab with id: {0}.";e.ChooseProjectWizardStepLabel="Choose Project";e.WelcomePageViewOnlineHelpDescription="Access online help for Visual Studio Application Lifecycle Management and Azure DevOps Server.";e.Security="Security";e.UnkownCompatibilityUrl="TF400907: The URL specified appears to be from an earlier version of Web Access.  The format was not recognized : {0}";e.ManageProjectMembers="Manage project members";e.BrowseAllTeams="Browse all";e.AdvancedPortfolioBacklogManagementFeatureName="Advanced portfolio management";e.EmailExceedsMaxBodySizeLimit="TF400582: The email body exceeds the maximum allowed size of {0} KB. Reduce the contents of the email body and try again.";e.Asterix="*";e.HubGroupHome="Home";e.HubGroupTest="Test";e.CodeFeatureName="Code";e.PinningBlankSlateMessage="Pin items to the homepage to display them here as tiles. You can pin work item queries, work item charts, build pipelines, and version control paths to the homepage.";e.ManageScheduleIterations="Manage schedule and iterations";e.UnsavedChangesMore="more...";e.BrowseTheMarketplace="Browse marketplace";e.CreateProjectBladeTitle="Your new Team Project is almost ready.";e.AccountNameLabel="Organization Name";e.FeatureEnablementSettings_Error_LinkText_Missing_Admin="Configure feature";e.PluginNotFound="TF400912: Could not find plugin with name \"{0}\".";e.GettingStartedProgressNotStarted="Scheduling collection creation...";e.CodeFeatureDescription="Code repository functionality.";e.FollowingErrors="The following error(s) occurred:";e.MoreProjectTeams="More {0} teams";e.FeatureEnablementSettings_Error_Invalid="TF400916: The current configuration is not valid for this feature. This feature cannot be used until an Azure DevOps Administrator corrects the configuration.";e.RequireHostedDeploymentError="TF400915: This service is not available.";e.NotAMemberOfATeam="You are not a member of a team.";e.ManageProjectGroups="Manage teams and project groups";e.TeamHomeManageTeams="Manage teams...";e.AccountNameCreateInfoMessage="This will be the organization name on your vanity URL, i.e., organizationname.visualstudio.com";e.GettingStartedAccountActive="The organization is active and ready for use.  Please save the above Url for your records.";e.ExternalControlLoading="Loading...";e.BuildFeatureDescription="Build services.";e.TeamHomeShowLessMembers="Show less members";e.StakeholderExpiredLicenseReminderLinkText="Learn more";e.VersionControlLabel="Version Control";e.NavigationContextMenuHostedBackTo="Organization home";e.TeamHomeActivitesTitle="Activities";e.TileEllipsisMenuTitle="Configure tile";e.ViewQueries="View queries";e.AgoLessThanAMinute="just now";e.ReleaseManagementFeatureDescription="Author release pipelines, create and manage releases";e.NotSupportedBrowser="Your browser is not supported";e.ProjectCreationError="There was an error creating your project. Please {0}.";e.SendMailFrom="From";e.DefaultThemeName="Default";e.TileLoading="loading...";e.SearchInOrganization="Search in organization";e.ChartEllipsisMenuTitle="Configure chart";e.ResourceUsageBlockedWithSubscription="Your organization has used all the free quantity of this resource. Click Learn more above to enable paid resources.";e.Members="Members";e.ProcessTemplateProperty="Process template:";e.TeamHomePage_ShowHowTo="Display How to";e.ControlPanel="Control panel";e.TeamHomeLoadingMembers="Loading team members...";e.PlansDescription="Delivery Plans help you drive alignment across teams by overlaying several backlogs onto your delivery schedule.";e.UserNeedsToBeTeamAdmin="User needs to be a team administrator to perform this operation.";e.AccountNameWatermark="Enter organization name...";e.TrialModeReminderMessage="All features have been enabled during your trial. This trial will end {0}. \u003ca href=\u0027{1}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.SourceQuickStartBladeSubTitle="Use your favorite tool to publish your project";e.AdvancedBacklogManagementFeatureName="Advanced backlog and sprint planning tools";e.NavigationContentMenuItem_TeamProject="Project";e.MyFavorites="My favorites";e.AjaxRequestTimedOut="Ajax request has been timed out.";e.NavigationContextMenuOnPremBackTo="Server home";e.TestManagementInBuildAndReleaseFeature="Test services in build and release";e.CloseBrowserToCompleteSignoutWarning="Sign out: close browser to complete sign out";e.TrialModeReminderMessage_MultipleDays="in \u003cb\u003e{0} days\u003c/b\u003e";e.ServerSettings="Server settings";e.GettingStartedTutorialFeedback="Make a suggestion";e.SendMailNoSubjectWarningTitle="Confirmation";e.AgoMonths="{0} months ago";e.HubGroupBuild="Build";e.HubGroupAdmin="Administration";e.YouAreAlmostThereMessagePart2="Click the {0}New Team Project{1} button below to create your first project. ";e.YouAreAlmostThereMessagePart3="The {0}beginner’s guide{1} has a step-by-step walkthrough on how to upload your source code, set up a build, and start managing your work. You’re almost there…";e.YouAreAlmostThereMessagePart1="Welcome to Azure DevOps Services!";e.ImageOf="Image of {0}";e.HubGroupUsers="Users";e.NetworkConnectionUnavailable="TF400893: Unable to contact the server. This is most likely caused by a network error. Please check your connection and try again.";e.HubGroupRooms="Rooms";e.AdminFeatureName="Administer organization";e.TrialFeatureExpiredUrl="https://go.microsoft.com/fwlink/?LinkID=328611";e.BuildTitle="Build";e.FeatureEnablementSettings_Error_Missing_Admin="This feature cannot be used until you configure it for this team project.";e.OpenWithVisualStudioTooltip="Open Visual Studio and connect Team Explorer to this project.";e.TeamFoundationServiceName="Azure DevOps Services";e.ExtensionErrorBody="We were unable to load an Azure DevOps extension. To load this component, please ensure that you are able to access the following url: \u003cbr /\u003e\u003ca /\u003e";e.AccountTimeZone="Organization: {0}";e.ManageAlerts="Alerts";e.OpenWithVisualStudio="Open with Visual Studio to connect";e.NewBacklogItem="New";e.ErrorSendEmail="TF400969: An error occurred while attempting to send the email. Retry at a later time.";e.NavigationAdminMenuItemFormat="Administer {0}";e.TeamSettings_ManualCorrectionStepsLinkText="correct your configuration manually";e.SendMailSubject="Subject";e.TeamHomeLoadingActivities="Loading activities...";e.TestManagementFeatureName="Web-based Test Case Management";e.PersonalExtensionsDisabledMessage="Personal extensions are disabled.";e.TeamContextNotFound="TF400909: There is no team context.";e.CollectionProjects="{0} projects";e.Project_Teams="{0} teams ({1})";e.RequiresVS2012="Requires Visual Studio 2013+";e.ScrumTemplateInfoMessage="Scrum is an iterative, incremental framework for project management and agile software development. This template includes work items and reports to help your Scrum team be successful.";e.TestManagementForExpressSkuFeatureDescription="Analyze test results and manage machine groups.";e.CreateTeamProjectNoSubError="No subscriptions available to create project edit scope";e.AgileBoardsFeatureName="Agile boards";e.TeamHomeViewBoard="View board";e.RemoveMRUTeamTitle="Remove from this list";e.SendMailWarning="Unable to send message to the following recipients: {0}\r\nPreferred Email address is not configured within the user’s profile.";e.ProjectNameLabel="Name";e.TeamHomeViewBacklog="View backlog";e.InvalidEmailAddressFormat="The following email address is not valid: \u0027{0}\u0027. Please specify a valid email address in the form \u0027user@host\u0027 or \u0027Display name \u003cuser@host\u003e\u0027.";e.InvalidArgumentValue="Invalid argument value.";e.HubGroupWorkItems="Work";e.FirstProjectConfirmationHeader="Your new project, {0}, is ready!";e.ChartViewingFeatureName="Chart Viewing";e.Home="Home";e.PageTitleCollectionHome="{0} project collection";e.Save="Save";e.SendMailNotEnabled="Sending email is not enabled. Please contact your administrator.";e.EarlyAdopterModeReminderMessage_OneDay="Your account is an Early Adopter account. In \u003cb\u003e{0} day\u003c/b\u003e your account will revert to a standard account. \u003ca href=\u0027{1}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.TrialModeReminderMessage_OneDay="in \u003cb\u003e{0} day\u003c/b\u003e";e.ViewReports="View reports";e.ConfigureOptionsWizardStepLabel="Configure Options";e.AgoAnHour="an hour ago";e.ExtensionErrorAdditionalSteps="You can try checking your network connection and refreshing this page.";e.WelcomePageSubmitFeedbackTitle="Make a suggestion";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("WorkItemTracking/Scripts/Controls/Filters/WorkItemFilterConstants",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.FilterStatusFieldName=void 0;t.FilterStatusFieldName="FilterBar.WorkItemStatus"});

define("WorkItemTracking/Scripts/Controls/QueryResultCSVImporter",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Identities/Picker/Services","VSS/Service","VSS/Utils/String","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemManager","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/TFS.WorkItemTracking"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.QueryResultCSVImporter=void 0;var c=function(){function n(n,t,f){this._store=n;this._projectName=t;this._updatePanelPercentComplete=f;this._requiredHeaders=[];this.c_lineFeedChar="\n";this.c_carriageReturnChar="\r";this.c_maxWorkItemnsAllowed=1e3;this._percentComplete=0;this._lastUpdatePercentComplete=0;this._disposed=!1;this._requiredHeaders=[i.CoreFieldRefNames.Title,i.CoreFieldRefNames.WorkItemType];this._requiredHeadersMap={};this._workItemTypesMap={};this._identityService=u.VssConnection.getConnection().getService(r.IdentityService)}return n.updateCSVImportData=function(n,t,i){var f,u,r;if(!(t>=0))for(n.idsMap[i]=n.idsMap[t],delete n.idsMap[t],f=n.targetIds,u=n.sourceIds,r=0;r<u.length;r++)u[r]===t&&(u[r]=i),f[r]===t&&(f[r]=i)},n.prototype.importCSVFile=function(n){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(r){switch(r.label){case 0:return(this._resetPercentComplete(),!(Object.keys(this._requiredHeadersMap).length===0))?[3,2]:[4,this._populateHeaders()];case 1:r.sent();r.label=2;case 2:return(Object.keys(this._workItemTypesMap).length===0)?[4,this._populateWorkItemTypesMap()]:[3,4];case 3:r.sent();r.label=4;case 4:return(t=this._parseCSVFile(n),this._trimContents(t),this._validateHeaders(t),this._validateRequiredFields(t),i=this._getCSVImportData(t),!i.isTreeQuery)?[3,6]:[4,this._beginGetLinkTypes()];case 5:r.sent();r.label=6;case 6:return[4,this._loadWorkItemsAndSetFieldValues(i)];case 7:return r.sent(),[2,i]}})})},n.prototype._beginGetLinkTypes=function(){return __awaiter(this,void 0,void 0,function(){var n=this;return __generator(this,function(){return[2,new Promise(function(t,i){n._store.beginGetLinkTypes(t,function(n){i({message:n.message,errorType:"beginGetLinkTypes"})})})]})})},n.prototype._populateHeaders=function(){return __awaiter(this,void 0,void 0,function(){var n=this;return __generator(this,function(t){switch(t.label){case 0:return[4,this._store.beginGetFields()];case 1:return t.sent(),this._requiredHeaders.forEach(function(t){var i=n._store.getFieldDefinition(t).name,r=i.toLocaleLowerCase();n._requiredHeadersMap[r]=i}),this._idHeader=this._store.getFieldDefinition(i.CoreFieldRefNames.Id).name,this._workItemTypeHeader=this._store.getFieldDefinition(i.CoreFieldRefNames.WorkItemType).name,[2]}})})},n.prototype._populateWorkItemTypesMap=function(){return __awaiter(this,void 0,void 0,function(){var i,n,r,u,t=this;return __generator(this,function(f){switch(f.label){case 0:return i=new Promise(function(n,i){t._store.beginGetProject(t._projectName,n,function(n){i({message:n.message,errorType:"beginGetProject"})})}),[4,i];case 1:return n=f.sent(),r=new Promise(function(t,i){n.beginGetWorkItemTypes(n.workItemTypeNames,t,function(n){i({message:n.message,errorType:"beginGetWorkItemTypes"})})}),[4,r];case 2:return u=f.sent(),u.forEach(function(n){t._workItemTypesMap[n.name.toLocaleLowerCase()]=n}),[2]}})})},n.prototype.dispose=function(){this._disposed=!0},n.prototype._updatePercentComplete=function(n,t,i){this._disposed||(this._percentComplete=Math.min(this._percentComplete+n*t,i),this._percentComplete-this._lastUpdatePercentComplete>=.01&&(this._lastUpdatePercentComplete=this._percentComplete,this._updatePanelPercentComplete(this._percentComplete)))},n.prototype._resetPercentComplete=function(){this._percentComplete=0;this._lastUpdatePercentComplete=0;this._updatePanelPercentComplete(0)},n.prototype._parseCSVFile=function(n){var t,c;if(n.length===0)throw s.ImporCsvEmptyDatasetError;n.slice(-1)!==this.c_lineFeedChar&&(n+=this.c_lineFeedChar);var i=[],u=[],r=!1,e=!1,h="";for(t=0;t<n.length;t++){var o=n[t],v=o===this.c_lineFeedChar,l=o===this.c_carriageReturnChar&&t+1<n.length&&n[t+1]===this.c_lineFeedChar,a=v||l;if((o!==","||r)&&(o!==","||!r||e))if(a&&!r||a&&r&&!e){if(h!==""&&(u.push(h),h=""),i.length>0&&i[0].length<u.length)throw f.format(s.ImporCsvExtraFieldsFoundError,i.length+1,i[0].length,u.length);else if(i.length>0&&i[0].length>u.length)for(c=u.length;c<i[0].length;c++)u.push("");l&&t++;i.push(u);u=[];r=!1;e=!1}else if(o!=='"'||r)if(o==='"'&&r&&e&&t+1<n.length&&n[t+1]==='"')h+='"',t++;else if(o==='"'&&r&&e&&t+1<n.length&&n[t+1]!=='"'){if(r=!1,e=!1,n[t+1]!==","&&n[t+1]!==this.c_lineFeedChar&&!(n[t+1]===this.c_carriageReturnChar&&t+2<n.length&&n[t+2]===this.c_lineFeedChar))throw f.format(s.ImporCsvDoubleQuoteTerminatedEarlyError,i.length+1,u.length+1);}else if(o==='"'&&r&&!e)throw f.format(s.ImporCsvDoubleQuoteNotEnclosedError,i.length+1,u.length+1);else r=!0,h+=o;else r=!0,e=!0;else u.push(h),h="",r=!1,e=!1}if(e)throw f.format(s.ImporCsvNoTerminatingDoubleQuotesError,i.length+1,u.length+1);if(i.length>this.c_maxWorkItemnsAllowed+1)throw f.format(s.ImporCsvMaxRowsExceededError,this.c_maxWorkItemnsAllowed);return i},n.prototype._trimContents=function(n){for(var i,r=-1,t=n.length-1;t>0&&this._isRowEmpty(n[t]);t--)r=t;for(r>0&&n.splice(r),i=-1,t=n[0].length-1;t>0&&this._isColumnEmpty(t,n);t--)i=t;i>0&&n.forEach(function(n){return n.splice(i)})},n.prototype._validateHeaders=function(n){var v=this,e,o,h,c,l,a;if(n.length===0)throw s.ImportEmptyDataSet;var t=[],r=n[0]=n[0].map(function(n){return n.trim()}),u=this._getIndicesMap(r,this._requiredHeadersMap),i=this._getEmptyColumnHeaderIndices(r);if(i.length>0&&(e=i.filter(function(t){return v._isColumnEmpty(t,n)}),i=i.filter(function(t){return!v._isColumnEmpty(t,n)}),i.length>0&&t.push(f.format(s.ImportEmptyColumnHeaders,i.map(function(n){return n+1}).join(", "))),e.length>0&&t.push(f.format(s.ImportEmptyColumn,e.map(function(n){return n+1}).join(", ")))),o=this._getInvalidColumnHeaders(r),o.length>0&&t.push(f.format(s.ImportInvalidColumnHeaders,o.join(", "))),h=this._getMissingRequiredHeaders(u),h.length>0&&t.push(f.format(s.ImportMissingRequiredHeaders,h.join(", "))),c=this._getDuplicateNonRequiredHeaders(r),c.length>0&&t.push(f.format(s.ImportDuplicateNonRequiredHeaders,c.join(", "))),l=this._getDuplicateRequiredHeaders(u),l.length>0&&t.push(f.format(s.ImportDuplicateRequiredHeaders,l.join(", "))),a=this._getNonConsecutiveTreeHeaderIndices(u,r),a.length>0&&t.push(f.format(s.ImportNonConsecutiveTreeHeader,a.map(function(n){return n+1}).join(", "))),t.length>0)throw"".concat(s.ImportErrorMessageTitle,"\n").concat(t.join("\n"));},n.prototype._getIndicesMap=function(n,t){var r=this,i={},u=Object.keys(t);return u.forEach(function(n){i[n]=[]}),n.forEach(function(n,t){(n=r._getFieldNameByColumnName(n).toLocaleLowerCase(),i[n])&&i[n].push(t)}),i},n.prototype._getEmptyColumnHeaderIndices=function(n){var t=[];return n.forEach(function(n,i){n.length===0&&t.push(i)}),t},n.prototype._isColumnEmpty=function(n,t){for(var r,i=0;i<t.length;i++)if(r=t[i][n],r&&r.length>0)return!1;return!0},n.prototype._isRowEmpty=function(n){for(var t=0;t<n.length;t++)if(n[t]&&n[t].length>0)return!1;return!0},n.prototype._getInvalidColumnHeaders=function(n){var i=this,r=[],t={},u;return n.forEach(function(n){var r=i._getFieldNameByColumnName(n).toLocaleLowerCase();r.length>0&&!t[r]&&(t[r]=n)}),u=Object.keys(t),u.forEach(function(n){var f=i._store.getFieldDefinition(n),u;f||(u=i._getFieldNameByColumnName(t[n]),r.push(u))}),r},n.prototype._getMissingRequiredHeaders=function(n){var t=this,i=Object.keys(n).filter(function(t){return n[t].length===0});return i.map(function(n){return t._requiredHeadersMap[n]})},n.prototype._getDuplicateNonRequiredHeaders=function(n){var i=this,t={},r;return n.forEach(function(n){var u=i._getFieldNameByColumnName(n),r=u.toLocaleLowerCase();r.length>0&&!i._requiredHeadersMap[r]&&(t[r]=u)}),r=this._getIndicesMap(n,t),this._getDuplicateHeaders(r,t)},n.prototype._getDuplicateRequiredHeaders=function(n){var t=this._getDuplicateHeaders(n,this._requiredHeadersMap);return t.length>1?t:[]},n.prototype._getDuplicateHeaders=function(n,t){var i=[],r=Object.keys(n);return r.forEach(function(r){var u=n[r];u.length>1&&i.push(t[r])}),i},n.prototype._getNonConsecutiveTreeHeaderIndices=function(n,t){for(var r,i,o,s,f=Object.keys(n).map(function(t){return n[t]}),e=[],u=0;u<f.length;u++)if(r=f[u],r.length!==1)for(i=0;i<r.length;i++)o=r[i],s=this._getNumberSuffix(t[o]),(s!==i+1||i>0&&r[i]-1!==r[i-1])&&e.concat(r.slice());return e},n.prototype._getFieldNameByColumnName=function(n){var r=this._store.getFieldDefinition(n),i,t;return r?n:(i=n,t=n.split(" "),t.length>0&&Number(t[t.length-1])&&(i=t.slice(0,-1).join(" ")),i)},n.prototype._getNumberSuffix=function(n){var i=-1,t=n.split(" ");return t.length>0&&Number(t[t.length-1])&&(i=Number(t[t.length-1])),i},n.prototype._isTreeViewImport=function(n){var t=Object.keys(n).map(function(t){return n[t]}).filter(function(n){return n.length>1});return t.length>0},n.prototype._validateRequiredFields=function(n){var e=this,u,v;if(n.length!==0){var t=[],o=this._workItemTypesMap,h=n[0],i=this._getHeaderIndex(h,this._idHeader),c=this._getIndicesMap(h,this._requiredHeadersMap),r={},l=1,y=function(u){var v=n[u].map(function(n){return n.trim()}),h=i>=0&&v[i].length>0?Number(v[i]):null,y;h&&h!==0?(r[h]=r[h]||[],r[h].push(u)):h&&h===0?t.push(f.format(s.ImporCsvInvalidWorkItemIdError,a._idHeader,u+1,i+1)):isNaN(h)&&t.push(f.format(s.ImporCsvNonIntegerWorkItemIdError,a._idHeader,u+1,i+1));y=Object.keys(c);y.forEach(function(n){var i=c[n],r=0,h=0,a=null;i.forEach(function(n,t){v[n].length>0&&(h=t,r++,a=v[n])});r===0?t.push(f.format(s.ImporCsvEmptyFieldValuesError,u+1,i.map(function(n){return n+1}).join(", "))):r>1?t.push(f.format(s.ImporCsvExcessFieldValuesError,u+1,i.map(function(n){return n+1}).join(", "))):r===1&&i.length>1?h>l?t.push(f.format(s.ImporCsvIncorrectTreeStructureError,u+1,i.map(function(n){return n+1}).join(", "))):l=h+1:r===1&&n===e._workItemTypeHeader.toLocaleLowerCase()&&Object.keys(o).length>0&&(o[a.toLocaleLowerCase()]||t.push(f.format(s.ImporCsvInvalidFieldValueError,a,e._workItemTypeHeader,u+1,i.map(function(n){return n+1}).join(", "))))})},a=this;for(u=1;u<n.length;u++)y(u);if(v=Object.keys(r),v.forEach(function(n){var i=r[n];i.length>1&&t.push(f.format(s.ImporCsvDuplicateWorkItemIdColumnError,e._idHeader,n,i.map(function(n){return n+1}).join(", ")))}),t.length>0)throw f.format(s.ImporCsvErrorsFound,t.join("\n"));}},n.prototype._getHeaderIndex=function(n,t){var i,r;for(t=t.toLocaleLowerCase(),i=0;i<n.length;i++)if(r=n[i].toLocaleLowerCase(),r===t)return i;return-1},n.prototype._getFieldDefinitionByColumnName=function(n){var t=this._getFieldNameByColumnName(n);return this._store.getFieldDefinition(t)},n.prototype._getCSVImportData=function(n){var y=this,t={columns:[],idsMap:{},fieldValues:[],targetIds:[],sourceIds:[],isTreeQuery:!1},s,l,r,o,u;if(n.length===0)return t;t.columns=n[0].slice();s=this._getIndicesMap(t.columns,this._requiredHeadersMap);l=Object.keys(s).map(function(n){return s[n]}).filter(function(n){return n.length>1});t.fieldValues=new Array(n.length-1);t.sourceIds=new Array(n.length-1);t.targetIds=new Array(n.length-1);t.isTreeQuery=this._isTreeViewImport(s);var h=l.length>0?l[0]:[],f=this._getHeaderIndex(t.columns,this._idHeader),v={},p=-1;for(r=h.length-1;r>=0;r--)u=h[r],r>0?t.columns.splice(u,1):t.columns[u]=this._getFieldNameByColumnName(t.columns[u]);for(t.columns=t.columns.map(function(n){return y._getFieldDefinitionByColumnName(n).referenceName}),r=1;r<n.length;r++){var e=t.fieldValues[r-1]=n[r].slice().map(function(n){return n.trim()}),c=0,a=f>=0&&e[f].length>0?Number(e[f]):p--;for(o=h.length-1;o>=0;o--)u=h[o],e[u].length===0?e.splice(u,1):c=o;f<0&&e.unshift("");v[c]=a;t.targetIds[r-1]=a;t.idsMap[a]=r-1;t.sourceIds[r-1]=c===0?0:v[c-1]}return f<0&&t.columns.unshift(i.CoreFieldRefNames.Id),t},n.prototype._loadWorkItemsAndSetFieldValues=function(n){return __awaiter(this,void 0,void 0,function(){var l,a,v,r,g,p,t,nt,tt,u,it,rt,ut,w,ft,b,y,k,d,c,et,ot=this;return __generator(this,function(st){switch(st.label){case 0:for(l=n.targetIds,a=n.columns,v=n.fieldValues,r=n.idsMap,g=n.sourceIds,p=this._workItemTypesMap,t=o.WorkItemManager.get(this._store),nt=a.indexOf(i.CoreFieldRefNames.Id),tt=a.indexOf(i.CoreFieldRefNames.WorkItemType),u={},t.resetCache(),it=function(n,t,i,u){for(var f,o,s,e=0;e<n.length;e++)f=n[e],f<0&&(o=v[r[f]],u.push(o[tt])),s=f>0?i:t,s.push(f)},rt=function(n){return new Promise(function(i,u){t.beginGetWorkItems(n,function(n){ot._disposed&&i();n.forEach(function(n){var t=n.id,i=v[r[t]];try{w(n,i,!0)}catch(f){u(f)}});i()},function(n){return u({message:n.message,errorType:"beginGetWorkItems"})})})},ut=function(n,i){for(var u=0;u<i.length;u++){var f=n[u],e=i[u],o=p[e.toLocaleLowerCase()],s=v[r[f]],h={projectId:null,fields:null,revisions:null,tags:null,files:null,referencedPersons:null,tempId:f,loadTime:null,currentExtensions:null,referencedNodes:null},c=t.createWorkItem(o,h);w(c,s)}},w=function(n,t,r){r===void 0&&(r=!1);t&&t.length>0&&t.forEach(function(t,e){var c,o,l,v,h,y,w;if(e!==nt&&(c=a[e],o=n.getField(c),o))if(o.fieldDefinition.isIdentity)l=o.getIdentityValue()?o.getIdentityValue().displayName:"",f.equals(l,t,!0)||(v={fireIdentityEagerValidation:!0},o.setValue(t,v),h=t.toLocaleLowerCase(),u[h]?u[h].push(o):u[h]=[o]);else if(o.fieldDefinition.id===i.CoreField.WorkItemType)r?(y=p[t.toLocaleLowerCase()],n.changeWorkItemType(y)):o.setValue(t);else{if(o.isReadOnly()&&(w=o.getValue(!0),!f.equals(w,t,!0)))throw f.format(s.ImporCsvReadonlyFieldModifiedError,o.fieldDefinition.name);o.setValue(t)}});ot._updatePercentComplete(1/l.length,1,1)},ft=function(n){for(var u,f,o,i=0;i<n.length;i++)u=g[r[n[i]]],u!==0&&(f=t.getWorkItem(n[i]),o=t.getWorkItem(u),u<0&&f.id>0&&o?o.addLink(h.WorkItemLink.create(o,e.LinkTypeName.Child_Link_Name,f.id,"")):f.addLink(h.WorkItemLink.create(f,e.LinkTypeName.Parent_Link_Name,u,"")))},b=[],y=[],k=[],d=[],it(l,b,y,k),c=0;c<y.length;c+=e.PageSizes.QUERY){if(this._disposed)return[2];et=y.slice(c,c+e.PageSizes.QUERY);d.push(rt(et))}return ut(b,k),[4,Promise.all(d)];case 1:return st.sent(),[4,this._autoResolveIdentityFields(u)];case 2:return(st.sent(),this._disposed)?[2]:(ft(l),[2])}})})},n.prototype._autoResolveIdentityFields=function(n){return __awaiter(this,void 0,void 0,function(){var i,r,u,t,f;return __generator(this,function(e){switch(e.label){case 0:if(i=Object.keys(n),i.length==0)return[2,Promise.resolve()];for(r=50,u=[],t=0;t<i.length;t+=r)f=i.slice(t,t+r),u.push(this._beginResolveIdentityFields(n,f));return[4,Promise.all(u)];case 1:return e.sent(),[2,Promise.resolve()]}})})},n.prototype._beginResolveIdentityFields=function(n,t){return __awaiter(this,void 0,void 0,function(){var i,r,u,f,e,o=this;return __generator(this,function(){return i={},r=t.join(";"),u={Source:!0,IMS:!0},f={User:!0,Group:!0},e=new Promise(function(t,e){var s=o._identityService.getIdentities(r,u,f),h;s?(h=Object.keys(s).map(function(n){return s[n]}),Promise.all(h).then(function(r){r.forEach(function(n){if(n.identities.length===1){var t=n.queryToken.toLocaleLowerCase();i[t]=n.identities[0].displayName}});Object.keys(i).forEach(function(t){n[t].forEach(function(n){return n.setValue(i[t])})});t()}).catch(e)):t()}),[2,e]})})},n}();t.QueryResultCSVImporter=c});

define("WorkItemTracking/Scripts/Controls/ImportCSVPanel",["require","exports","react","react-dom","OfficeFabric/Utilities","WorkItemTracking/Scripts/CustomerIntelligence","OfficeFabric/Panel","OfficeFabric/Button","OfficeFabric/MessageBar","OfficeFabric/Spinner","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","Presentation/Scripts/TFS/TFS.OM.Common","VSS/Telemetry/Services","Presentation/Scripts/TFS/TFS.Host.TfsContext","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Controls/QueryResultCSVImporter","VSS/LWP","VSS/LoaderPlugins/Css!Controls/ImportCSVPanel"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){function k(n){var t=document.createElement("div"),u=__assign(__assign({},n),{onDismiss:function(i){if(r.unmountComponentAtNode(t),n.onDismiss)n.onDismiss(i)},onImportClick:function(i){r.unmountComponentAtNode(t);n.onImportClick(i)}});r.render(i.createElement(b,__assign({},u)),t)}Object.defineProperty(t,"__esModule",{value:!0});t.showImportCSVPanel=t.ImportCSVPanel=void 0;var b=function(n){function t(t){var r=__construct(this,n,[t]),u,f,e,s;for(u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.c_csvExtension="csv",r._onRenderHeader=function(n,t){return i.createElement("div",{className:"column-options-panel-header"},t(n))},r._onRenderFooterContent=function(){var n=r.state.isLoading;return i.createElement("div",{style:{textAlign:"right"}},!n&&i.createElement(o.PrimaryButton,{ariaLabel:c.Import,disabled:!r._isCSVDataValid(),onClick:r._onImportClick,style:{marginRight:"8px"}},c.Import),i.createElement(o.DefaultButton,{ariaLabel:c.Cancel,onClick:r._onDismiss},c.Cancel))},r._onDismiss=function(){r._queryResultCSVImporter.dispose();r.props.onDismiss(r.state.isLoading)},f=v.TfsContext.getDefault(),e=l.ProjectCollection.getConnection(f).getService(y.WorkItemStore),r._queryResultCSVImporter=new p.QueryResultCSVImporter(e,f.navigation.project,r.updatePercentComplete.bind(r)),s=i.createElement("input",{type:"file",accept:".csv",onChange:function(n){r._filterFilesAndUpdateState(n.target.files)}}),r._container=i.createElement("div",{className:"workitemcontrol work-item-control initialized"},s),r.state={csvString:null,csvImportData:null,isLoading:!1,error:null,percentComplete:0},r}return __extends(t,n),t.prototype.render=function(){return i.createElement(e.Panel,{isOpen:!0,onRenderHeader:this._onRenderHeader,closeButtonAriaLabel:c.ClosePanel,headerText:c.ImportWorkItems,type:e.PanelType.custom,customWidth:"450px",isLightDismiss:!1,isFooterAtBottom:!0,className:"column-options-panel",onRenderFooterContent:this._onRenderFooterContent,onDismiss:this._onDismiss,layerProps:{className:"column-options-panel-layer"}},this._renderContents())},t.prototype.updatePercentComplete=function(n){this.setState({percentComplete:n})},t.prototype._renderContents=function(){var t=this.state.error!==null,n=this.state.isLoading,r="".concat(String(Math.floor(this.state.percentComplete*100)),"%");return i.createElement("div",{className:"importcsv-panel-contents"},!n&&i.createElement("div",{className:"file-container"},i.createElement("div",{className:"importcsv-panel-title"},c.ImportCSVPanelText),this._container),n&&i.createElement("div",null,i.createElement("div",null,c.ImportCSVPanelLoadingText),i.createElement(h.Spinner,{className:"importcsv-loading-spinner",size:h.SpinnerSize.large,label:r})),t&&i.createElement("div",null,i.createElement("div",{className:"importcsv-error-title"},c.ImportCSVErrorHeader),i.createElement(s.MessageBar,{messageBarType:s.MessageBarType.error},this.state.error)))},t.prototype._filterFilesAndUpdateState=function(n){var f=this,i,r,t,u;for(this.setState({error:null}),i=new FileReader,r=null,t=0;t<n.length;t++)if(u=n[t].name.split(".").pop(),u===this.c_csvExtension){r=n[t];break}if(r===null){this.setState({error:c.InvalidCSVFileFormat});return}i.onload=function(){var n=i.result.toString();f.setState({csvString:n})};i.readAsText(r)},t.prototype._isCSVDataValid=function(){return this.state.csvString!==null},t.prototype._onImportClick=function(){var n=this;this.setState({isLoading:!0,error:null});this._queryResultCSVImporter.importCSVFile(this.state.csvString).then(function(t){n.setState({isLoading:!1,csvImportData:t,percentComplete:100});n.props.onImportClick(n.state.csvImportData)}).catch(function(t){var i=t.message||t;a.publishEvent(new a.TelemetryEventData(f.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,f.WITCustomerIntelligenceFeature.IMPORTCSV_IMPORT_ERROR,{error:i,errorType:t.errorType||"ValidationError"}));n.setState({isLoading:!1,error:i,csvImportData:null,percentComplete:0,csvString:null})})},t.componentType="importCSVPanel",__decorate([u.autobind],t.prototype,"_onImportClick",null),t}(i.Component);t.ImportCSVPanel=b;t.showImportCSVPanel=k;w.registerLWPComponent(b.componentType,b)});

define("WorkItemTracking/Scripts/Controls/ImportWorkItemsProvider",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","VSS/Diag","WorkItemTracking/Scripts/Controls/QueryResultCSVImporter","WorkItemTracking/Scripts/Controls/WorkItemsProvider","WorkItemTracking/Scripts/OM/QueryItem","WorkItemTracking/Scripts/TFS.WorkItemTracking"],function(n,t,i,r,u,f,e,o,s,h){function l(n){return n&&n instanceof c&&n.queryDefinition&&s.QueryDefinition.isImportQueryDefinition(n.queryDefinition)}Object.defineProperty(t,"__esModule",{value:!0});t.ImportWorkItemsProvider=t.isImportWorkItemsProvider=void 0;t.isImportWorkItemsProvider=l;var c=function(n){function t(t,i,f){var e=__construct(this,n,[t,i,f]);for(var o in e)e.hasOwnProperty(o)&&(this[o]=e[o]);return e._workItemStore=u.ProjectCollection.getConnection(r.TfsContext.getDefault()).getService(h.WorkItemStore),e}return __extends(t,n),t.supports=function(n){return s.QueryDefinition.isImportQueryDefinition(n)},t.prototype.beginGetResults=function(n,t,i){typeof n=="function"&&n.call(this,__assign(__assign({},this.queryResultsModel),{queryRan:i,isCachedData:!0}))},t.prototype.import=function(n){this._workItemsImportData=n;this.queryResultsModel=this.createQueryResultModel()},t.prototype.isImported=function(){return!!this.queryResultsModel},t.prototype.getWorkItemsImportData=function(){return this._workItemsImportData},t.prototype.createQueryResultModel=function(){var u=this,f=[i.CoreFieldRefNames.Rev,i.CoreFieldRefNames.TeamProject],e=[i.CoreFieldRefNames.AssignedTo,i.CoreFieldRefNames.State,i.CoreFieldRefNames.Tags],r=this._workItemsImportData.columns,n=f.concat(r),t;return e.forEach(function(t){n.indexOf(t)==-1&&n.push(t)}),t=[],r.forEach(function(n){var i=u._workItemStore.getFieldDefinition(n);t.push({name:n,text:i.name,fieldId:i.id,isIdentity:i.isIdentity,width:150,fieldType:i.type})}),{targetIds:this._workItemsImportData.targetIds,isLinkQuery:this._workItemsImportData.isTreeQuery,isTreeQuery:this._workItemsImportData.isTreeQuery,pageColumns:n,queryRan:!1,wiql:null,columns:t,sortColumns:[],payload:null,sourceIds:this._workItemsImportData.sourceIds,linkIds:[]}},t.prototype.updateTempWorkItemId=function(n,t){e.QueryResultCSVImporter.updateCSVImportData(this._workItemsImportData,n,t)},t}(o.QueryResultsProvider);t.ImportWorkItemsProvider=c;o.QueryResultsProvider.registerSpecialProvider(c)});

define("WorkItemTracking/Scripts/Controls/ProgressBarOverlay",["require","exports","react","react-dom","OfficeFabric/ProgressIndicator","VSS/Utils/Core","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.ProgressBarOverlay=void 0;var o=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.state={label:t.label,description:t.description,percentComplete:t.percentComplete},i}return __extends(t,n),t.prototype.update=function(n){this.setState({label:n.label,description:n.description,percentComplete:n.percentComplete})},t.prototype.render=function(){return i.createElement("div",{className:"progress-indicator-overlay"},i.createElement(u.ProgressIndicator,{className:"progress-indicator",label:this.state.label,description:this.state.description,percentComplete:this.state.percentComplete,barHeight:6}))},t}(i.Component),s=function(){function n(n,t){this._referenceElement=n;this._label=t.label;this._current=t.current;this._total=t.total;this._increment=t.increment}return n.prototype.dispose=function(){this._delayedShowFunction&&this._delayedShowFunction.cancel();this._delayedHideFunction&&this._delayedHideFunction.cancel();this._hideProgressBarOverlay()},n.prototype.show=function(n,t){this._delayedShowFunction&&this._delayedShowFunction.cancel();this._delayedHideFunction&&this._delayedHideFunction.cancel();this._delayedShowFunction=f.delay(this,n,this._showProgressBarOverlay,[t||e.ProgressBarLoading])},n.prototype.hide=function(n){this._delayedShowFunction&&this._delayedShowFunction.cancel();this._delayedHideFunction&&this._delayedHideFunction.cancel();n===undefined||n===null||n<0?this._hideProgressBarOverlay():this._delayedHideFunction=f.delay(this,n,this._hideProgressBarOverlay)},n.prototype.increment=function(n){var t=this._current+(n&&n>=0?n:this._increment);this._current=Math.min(t,this._total);this._progressBar&&this._progressBar.update({label:this._label,description:this._getDescription(),percentComplete:this._getPercentComplete()})},n.prototype._getDescription=function(){var n=Math.min(this._current+1,this._total),t=Math.min(this._current+this._increment,this._total);return"".concat(this._label," ").concat(n," - ").concat(t," of ").concat(this._total,".")},n.prototype._getPercentComplete=function(){return this._current/this._total},n.prototype._showProgressBarOverlay=function(){var n;this._element||(this._element=document.createElement("div"));var t=this._label,u=this._getDescription(),f=this._getPercentComplete();this._progressBar=r.render(i.createElement(o,{label:t,description:u,percentComplete:f}),this._element);n=this._referenceElement.parentElement;n.insertBefore(this._element,this._referenceElement)},n.prototype._hideProgressBarOverlay=function(){this._element&&(r.unmountComponentAtNode(this._element),this._element.parentNode.removeChild(this._element),this._element=null)},n}();t.ProgressBarOverlay=s});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts",["require","exports","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation"],function(n,t,i){var r,u,f,e,o,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.Events=t.HostArtifactAdditionalData=t.InternalKnownColumns=t.SortDirection=t.FetchingLinks=t.ZeroDataExperienceViewMode=t.ViewMode=t.LinkColumnType=t.LINKED_ARTIFACTS_CUSTOMER_INTELLIGENCE_AREA=t.DefaultGridHeight=void 0;t.DefaultGridHeight=300;t.LINKED_ARTIFACTS_CUSTOMER_INTELLIGENCE_AREA="linkedArtifacts",function(n){n[n.String=0]="String";n[n.Integer=1]="Integer";n[n.DateTime=2]="DateTime";n[n.PlainText=3]="PlainText";n[n.Html=4]="Html";n[n.TreePath=5]="TreePath";n[n.Double=6]="Double";n[n.Guid=7]="Guid";n[n.Boolean=8]="Boolean";n[n.Identity=9]="Identity"}(r=t.LinkColumnType||(t.LinkColumnType={})),function(n){n[n.List=0]="List";n[n.Grid=1]="Grid";n[n.FullGrid=2]="FullGrid"}(u=t.ViewMode||(t.ViewMode={})),function(n){n[n.Hidden=0]="Hidden";n[n.Default=1]="Default";n[n.Custom=2]="Custom"}(f=t.ZeroDataExperienceViewMode||(t.ZeroDataExperienceViewMode={})),function(n){n[n.Done=0]="Done";n[n.InProgress=1]="InProgress"}(e=t.FetchingLinks||(t.FetchingLinks={})),function(n){n[n.Ascending=1]="Ascending";n[n.Descending=-1]="Descending"}(o=t.SortDirection||(t.SortDirection={}));t.InternalKnownColumns={Link:{name:i.LinkedArtifacts_ColumnHeader_Link,refName:"Link"},Id:{name:i.LinkedArtifacts_ColumnHeader_Id,refName:"System.Id"},State:{name:i.LinkedArtifacts_ColumnHeader_State,refName:"System.State"},LastUpdate:{name:i.LinkedArtifacts_ColumnHeader_LastUpdate,refName:"System.ChangedDate"},Comment:{name:i.LinkedArtifacts_ColumnHeader_Comment,refName:"System.Links.Comment"}},function(n){n.ProjectName="PROJECT_NAME";n.ProjectId="PROJECT_ID"}(s=t.HostArtifactAdditionalData||(t.HostArtifactAdditionalData={})),function(n){n.ForceRerender="LA_FORCE_RERENDER"}(h=t.Events||(t.Events={}))});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/DataProvider/RequestCache",["require","exports","q","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u){var o;Object.defineProperty(t,"__esModule",{value:!0});t.RequestCache=t.CacheRequestStatus=void 0,function(n){n[n.Queued=0]="Queued";n[n.Active=1]="Active"}(o=t.CacheRequestStatus||(t.CacheRequestStatus={}));var f=function(n){return"".concat(n.tool,"/").concat(n.type,"/").concat(n.id)},e=function(n,t){if(n||t)if(n){if(!t)return 1}else return-1;else return 0;var i=u.ignoreCaseComparer(f(n),f(t));return i!==0?i:u.ignoreCaseComparer(n.linkType,t.linkType)},s=function(n,t){return n&&t&&u.ignoreCaseComparer(n.refName,t.refName)},h=function(){function n(n){this._cache={};this._queuedRequests=[];this._delay=n}return n.prototype.getArtifacts=function(t,u,o){for(var l=t.slice(0),a=[],p=[],v=[],s=null,h,y,w,c;l.length>0;){if(h=l.shift(),y=this._cache[f(h)],y){if(c=n._findOrExtendRequest(h,u,y),c){v.push(c.result);w=r.intersect([h].concat(l),c.linkedArtifacts,e);l=r.subtract(l,w,e);continue}}else if(s||this._queuedRequests.length>0){s=s||this._queuedRequests[0];n._extendRequest(h,u,s);p.push(h);continue}a.push(h)}return s&&(v.push(s.result),this._addToCache(p,s)),a.length>0&&(c=this._createNewRequest(a,u,o),v.push(c.result),this._addToCache(a,c)),i.all(v).then(function(n){return r.unique([].concat.apply([],n).filter(function(n){return r.contains(t,n,e)}),e)})},n.prototype._addToCache=function(n,t){for(var u=0,e=n;u<e.length;u++){var s=e[u],o=f(s),i=this._cache[o];i||(i=[],this._cache[o]=i);i.length!==0&&r.contains(i,t)||i.push(t)}},n.prototype._createNewRequest=function(n,t,u){var s=this,e={linkedArtifacts:n.slice(0),columns:t,status:o.Queued,result:i.delay(this._delay).then(function(){return e.status=o.Active,r.remove(s._queuedRequests,e),u(e.linkedArtifacts,e.columns).then(function(n){for(var r,t=0,i=e.linkedArtifacts;t<i.length;t++)r=i[t],delete s._cache[f(r)];return n})})};return this._queuedRequests.push(e),e},n._extendRequest=function(n,t,i){r.contains(i.linkedArtifacts,n,e)||i.linkedArtifacts.push(n);i.columns=r.union(i.columns,t,s)},n._requestContainsRequestedColumns=function(n,t){return r.intersect(n,t.columns,s).length===n.length},n._findOrExtendRequest=function(t,i,r){for(var e,h,u,f=0,s=r;f<s.length;f++)if(u=s[f],n._requestContainsRequestedColumns(i,u))return u;for(e=0,h=r;e<h.length;e++)if(u=h[e],u.status===o.Queued)return n._extendRequest(t,i,u),u;return null},n._getArtifactIdsForRequest=function(n){return n.linkedArtifacts.map(function(n){return f(n)})},n}();t.RequestCache=h});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/DataProvider/ContributedDataProviderAdapter",["require","exports","VSS/Service","VSS/Context","VSS/Utils/String","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Diag","VSS/Error","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts","TFS/WorkItemTracking/ExtensionContracts","Presentation/Scripts/TFS/TFS.Core.Utils"],function(n,t,i,r,u,f,e,o,s,h,c,l){function y(n){return p(n).then(function(n){return f.getBackgroundHost(n)}).then(function(n){return n.getRegisteredInstance("ArtifactLinkProvider",r.getDefaultWebContext())}).then(function(t){return new a(n,t)})}function p(n){return i.getService(e.ExtensionService).getContributionsForTargets([v]).then(function(t){var i=t.filter(function(t){return u.ignoreCaseComparer(n,t.properties.toolId)==0}),r;if(i.length===0){r=new Error("No contribution found which supports tool: '"+n+"'");s.publishErrorToTelemetry(r);throw r;}return i.length>1&&s.publishErrorToTelemetry(new Error("Multiple contributions registered for tool "+n+". Taking the first one and ignoring others.")),i[0]})}var v,a;Object.defineProperty(t,"__esModule",{value:!0});t.ContributedDataProviderAdapter=t.getContributedLinkedArtifactDataProvider=void 0;v="ms.vss-work-web.workitem-artifact-links";t.getContributedLinkedArtifactDataProvider=y;a=function(){function n(n,t){this.supportedTool=n;this._artifactLinkProvider=t}return n.prototype.beginGetDisplayData=function(n){var t=this;return this._artifactLinkProvider.getDisplayData(l.makeCopy(n)).then(function(i){for(var u,f={},r=0,e=n;r<e.length;r++)u=e[r],f[u.id]=u;return i.map(function(n){try{t._verifyDataReturnedByExtension(n,f[n.id])}catch(i){n.error=i}return t._toInternalDisplayData(n)})},function(t){return s.publishErrorToTelemetry(t),n.map(function(){return t})})},n.prototype._verifyDataReturnedByExtension=function(n,t){if(u.ignoreCaseComparer(n.linkType,t.linkType)!=0||u.ignoreCaseComparer(n.tool,t.tool)!=0||u.ignoreCaseComparer(n.type,t.type)!=0||u.ignoreCaseComparer(n.id,t.id)!=0){var i=new Error("Read-only fields in LinkedArtifact id ${originalLinkedArtifact.id} changed by extension.");s.publishErrorToTelemetry(i);throw i;}},n.prototype._toInternalDisplayData=function(n){return{uri:n.uri,tool:n.tool,type:n.type,id:n.id,linkType:n.linkType,linkTypeDisplayName:n.linkTypeDisplayName,comment:n.comment,primaryData:this._toInternalLinkedArtifactPrimaryData(n.primaryData,n),additionalData:this._toInternalAdditionalDataDictionary(n.additionalData),error:n.error}},n.prototype._toInternalLinkedArtifactPrimaryData=function(n,t){return{typeIcon:n.typeIcon,displayId:n.displayId,title:n.title,href:n.href,typeName:t.linkTypeDisplayName,callback:null,miscData:null}},n.prototype._toInternalAdditionalDataDictionary=function(n){var t={};return!n[c.KnownColumns.State]||(t[h.InternalKnownColumns.State.refName]=n[c.KnownColumns.State]),!n[c.KnownColumns.LastUpdate]||(t[h.InternalKnownColumns.LastUpdate.refName]=n[c.KnownColumns.LastUpdate]),t},n}();t.ContributedDataProviderAdapter=a});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/DataProvider/DataProvider.Registration",["require","exports","q","VSS/VSS","VSS/Artifacts/Constants","Presentation/Scripts/TFS/Controls/LinkedArtifacts/DataProvider/ContributedDataProviderAdapter"],function(n,t,i,r,u,f){function h(n){n=n.toLowerCase();var r=o[n];return!r?f.getContributedLinkedArtifactDataProvider(n).then(function(n){return n},function(){return i.reject({message:"No linked artifacts provider registered for tool '".concat(n,"'."),type:t.ERROR_NODATAPROVIDERREGISTERED_TYPE})}):r.instancePromise?r.instancePromise:c(r,n)}function c(n,t){var u=i.defer();return r.using(n.requiredModules,function(n){try{u.resolve(new n.default)}catch(t){u.reject(t)}},function(n){u.reject(n)}),n.instancePromise=u.promise.timeout(s,"Could not resolve linked artifacts for tool '".concat(t,"' provider within ").concat(s,"ms")),n.instancePromise.then(function(n){return n},function(){n.instancePromise=null})}function l(n){return!!o[n.toLowerCase()]}var e,o,s;Object.defineProperty(t,"__esModule",{value:!0});t.inBuiltDataProviderExistsForTool=t.getLinkedArtifactProvider=t.ERROR_NODATAPROVIDERREGISTERED_TYPE=void 0;o=(e={},e[u.ToolNames.WorkItemTracking.toLowerCase()]={requiredModules:["WorkItemTracking/Scripts/DataProviders/LinkedWorkItemDataProvider"]},e[u.ToolNames.RemoteWorkItemTracking.toLowerCase()]={requiredModules:["WorkItemTracking/Scripts/DataProviders/RemoteLinkedWorkItemDataProvider"]},e[u.ToolNames.TeamBuild.toLowerCase()]={requiredModules:["Build.Common/Scripts/DataProvider/LinkedArtifactsDataProvider"]},e[u.ToolNames.Git.toLowerCase()]={requiredModules:["VersionControl/Scripts/DataProviders/GitDataProvider"]},e[u.ToolNames.VersionControl.toLowerCase()]={requiredModules:["VersionControl/Scripts/DataProviders/VersionControlDataProvider"]},e[u.ToolNames.Requirements.toLowerCase()]={requiredModules:["Requirements/Scripts/DataProviders/ExternalLinkDataProvider"]},e[u.ToolNames.Hyperlink.toLowerCase()]={requiredModules:["Requirements/Scripts/DataProviders/ExternalLinkDataProvider"]},e[u.ToolNames.TestManagement.toLowerCase()]={requiredModules:["TestManagement/Scripts/DataProviders/TestManagementDataProvider"]},e[u.ToolNames.Wiki.toLowerCase()]={requiredModules:["Wiki/Scripts/LinkedArtifactsDataProvider"]},e[u.ToolNames.GitHub.toLowerCase()]={requiredModules:["WorkItemTracking/Scripts/DataProviders/GitHubDataProvider"]},e);s=3e4;t.ERROR_NODATAPROVIDERREGISTERED_TYPE="NoDataProviderRegisteredError";t.getLinkedArtifactProvider=h;t.inBuiltDataProviderExistsForTool=l});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Constants",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.ArtifactLinkTypes=void 0;var i;(function(n){n.WorkItemAsArtifactLinkType="WorkItemAsArtifactLink"})(i=t.ArtifactLinkTypes||(t.ArtifactLinkTypes={}))});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Logic/ArtifactResolver",["require","exports","q","VSS/Utils/Array","VSS/Utils/String","VSS/Error","VSS/Controls/Notifications","Presentation/Scripts/TFS/Controls/LinkedArtifacts/DataProvider/RequestCache","Presentation/Scripts/TFS/Controls/LinkedArtifacts/DataProvider/DataProvider.Registration","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Constants","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","VSS/Utils/Accessibility"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});t.ArtifactResolver=void 0;var v=4,y=function(){function n(){this._requestCaches={}}return n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.invalidateArtifactCacheEntry=function(t,i,r){t.invalidate(n._getWriteArtifactCacheKey(i,r))},n.getArtifactCacheEntry=function(t,i,r){return t.get(n._getWriteArtifactCacheKey(i,r))},n.prototype.resolveArtifacts=function(t,o,c,a,v,y){var p=this,d=t.slice(0),w=[],b=this._groupLinkedArtifactsByTool(d),g=Object.keys(b),nt=g.map(function(t){return p._getDataProvider(t).then(function(f){var s,k,d,g,nt,tt;return f?(s=b[t],f.artifactLimit&&s.length>=f.artifactLimit&&(s=n._getLimitedNumberOfArtifacts(f.artifactLimit,s),w.push({type:e.MessageAreaType.Warning,text:l.LinkedArtifacts_TooManyLinks})),k=v&&v(t),d=[],y&&(g=[],d=s.map(function(n){var t=p._getArtifactFromCache(y,n,o);return t&&k&&(!f.filter||!f.filter(t,k,c))?(g.push(n),null):t}).filter(function(n){return!!n}),nt=function(n,t){return u.equals(n.uri,t.uri,!0)&&u.equals(n.linkType,t.linkType,!0)?0:1},s=r.subtract(s,d,nt),s=r.subtract(s,g,nt)),s.length===0)?i(d):(tt=p._getRequestCacheForTool(t),tt.getArtifacts(s,o,p._retrieveItemsFromDataProvider.bind(p,f,a,k,c)).then(function(t){for(var i,r=0,u=t;r<u.length;r++)i=u[r],p._ensureCommentDataForArtifact(i),y&&i.linkType!==h.ArtifactLinkTypes.WorkItemAsArtifactLinkType&&y.set(n._getWriteArtifactCacheKey(i,o),i);return k&&f.filter&&(t=t.filter(function(n){return f.filter(n,k,c)})),t.concat(d)})):(w.push({type:e.MessageAreaType.Error,text:u.format(l.LinkedArtifacts_DataProvider_Null,t)}),b[t].map(function(n){return p._defaultDisplayFromLinkedArtifact(n)}))},function(n){return n.type===s.ERROR_NODATAPROVIDERREGISTERED_TYPE?(w.push({type:e.MessageAreaType.Error,text:u.format(l.LinkedArtifacts_DataProvider_NotRegistered,t)}),b[t].map(function(n){return p._defaultDisplayFromLinkedArtifact(n)})):(w.push({type:e.MessageAreaType.Error,text:l.LinkedArtifacts_DataProvider_CouldNotBeResolved}),n.name="DataProviderNotResolvedError",f.publishErrorToTelemetry(n),[])})}),k=[];return i.allSettled(nt).then(function(n){for(var i,u,t=0,r=n;t<r.length;t++)i=r[t],i.state==="fulfilled"?(u=i.value,k=k.concat(u)):w.push({type:e.MessageAreaType.Error,text:i.reason});return{resolvedArtifacts:k,messages:w}})},n.prototype._retrieveItemsFromDataProvider=function(n,t,i,r,u,f){var o=this,e=n.beginGetDisplayData(u,f,t,r).then(function(t){return i||o._reportErrorsForUnresolvedArtifacts(n.supportedTool,u,t),t});return a.ProgressAnnouncer.forPromise(e,{announceStartMessage:l.LinkedArtifacts_LoadingStart,announceEndMessage:l.LinkedArtifacts_LoadingEnd,announceErrorMessage:l.LinkedArtifacts_LoadingError}),e},n.prototype._defaultDisplayFromLinkedArtifact=function(n){return{id:n.id,linkType:n.linkType,linkTypeDisplayName:n.linkTypeDisplayName,primaryData:{displayId:n.id,href:null,title:n.uri,typeIcon:null},tool:n.tool,type:n.type}},n.prototype._ensureCommentDataForArtifact=function(n){n.comment&&(n.additionalData||(n.additionalData={}),n.additionalData[c.InternalKnownColumns.Comment.refName]||(n.additionalData[c.InternalKnownColumns.Comment.refName]={styledText:{text:n.comment},title:n.comment}))},n.prototype._getDataProvider=function(n){return s.getLinkedArtifactProvider(n)},n.prototype._groupLinkedArtifactsByTool=function(n){for(var t,i={},r=0,u=n;r<u.length;r++)t=u[r],i[t.tool]=(i[t.tool]||[]).concat([t]);return i},n.prototype._getArtifactFromCache=function(t,i,r){var u=n._getArtifactCacheKey(i),f=t.get(u);return f?f:(u=n._getArtifactCacheKey(i,r),t.get(u))},n.prototype._getRequestCacheForTool=function(n){return this._requestCaches[n]||(this._requestCaches[n]=new o.RequestCache(v)),this._requestCaches[n]},n.prototype._reportErrorsForUnresolvedArtifacts=function(n,t,i){var c=r.subtract(t,i,function(n,t){return u.ignoreCaseComparer(n.uri,t.uri)}),o,l,e,s,h;if(c.length!==t.length)for(o=this._groupLinkedArtifactsByTool(c),l=Object.keys(o),e=0,s=l;e<s.length;e++)h=s[e],f.publishErrorToTelemetry({message:u.localeFormat("'{0}' dataprovider did not resolve following artifacts '{1}'",h,JSON.stringify(o[h])),name:"ToolDidNotResolveArtifacts"})},n._getLimitedNumberOfArtifacts=function(t,i){var s=n.groupLinkedArtifactsByLinkType(i),r,u,e,o,f;for(s.sort(function(n,t){return n.linkedArtifacts.length-t.linkedArtifacts.length}),r=[],u=0,e=s;u<e.length;u++){for(o=e[u],f=0;f<o.linkedArtifacts.length&&r.length<t;++f)r.push(o.linkedArtifacts[f]);if(r.length===t)break}return r},n.groupLinkedArtifactsByLinkType=function(n){for(var f={},e=[],i=0,o=n;i<o.length;i++){var r=o[i],u=r.linkType||"",t=f[u];t||(t={displayName:r.linkTypeDisplayName,linkType:u,linkedArtifacts:[]},f[u]=t,e.push(t));t.linkedArtifacts.push(r)}return e},n._getArtifactCacheKey=function(n,t){var i="".concat(n.uri||n.id,"-").concat(n.linkType),r;return t?(r=t.map(function(n){return n.refName}).join(),"".concat(i,"-").concat(r)):i},n._getWriteArtifactCacheKey=function(n,t){return n.isColumnDependent?this._getArtifactCacheKey(n,t):this._getArtifactCacheKey(n)},n}();t.ArtifactResolver=y});

define("WorkItemTracking/Scripts/Controls/Query/ParentFieldProvider",["require","exports","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Logic/ArtifactResolver","VSS/Artifacts/Constants","VSS/Diag","WorkItemTracking/Scripts/OM/WorkItemConstants"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.ParentFieldProvider=void 0;var o=function(){function n(){this._cache={}}return n.prototype.set=function(n,t){this._cache[n]=t},n.prototype.get=function(n){return this._cache[n]},n.prototype.invalidate=function(n){delete this._cache[n]},n}(),s=function(){function n(n,t){f.Debug.assertParamIsObject(n,"tfsContext");this._tfsContext=n;this._projectName=t}return n.prototype.get=function(n){if(this._artifactCache!==undefined){var t=r.ArtifactResolver.getArtifactCacheEntry(this._artifactCache,this.createLinkedArtifact(n),[]);if(t)return this.createParentInfo(t)}return undefined},n.prototype.load=function(n){var t=this;return new Promise(function(i,u){if(n.length){var f=[];n.forEach(function(n){f.push(t.createLinkedArtifact(n))});t._artifactCache||(t._artifactCache=new o);r.ArtifactResolver.getInstance().resolveArtifacts(f,[],t.createHostArtifact(),t._tfsContext,undefined,t._artifactCache).then(function(n){var r=[];n.resolvedArtifacts&&n.resolvedArtifacts.forEach(function(n){n.error?u(n.error):r.push(t.createParentInfo(n))});i(r)})}else i([])})},n.prototype.invalidate=function(n){this._artifactCache&&r.ArtifactResolver.invalidateArtifactCacheEntry(this._artifactCache,this.createLinkedArtifact(n),[])},n.prototype.createParentInfo=function(n){return{id:Number(n.id),type:n.error?"":n.primaryData.typeName,project:n.error?"":n.miscData.TeamProject,title:n.error?"":n.primaryData.title,error:n.error}},n.prototype.createLinkedArtifact=function(n){return{id:""+n,linkTypeDisplayName:"",uri:""+n,linkType:e.LinkTypeName.Parent_Link_Name,tool:u.ToolNames.WorkItemTracking,type:u.ArtifactTypeNames.WorkItem,isColumnDependent:!0}},n.prototype.createHostArtifact=function(){var n;return{id:"",tool:u.ToolNames.WorkItemTracking,type:u.ArtifactTypeNames.WorkItem,additionalData:(n={},n[i.HostArtifactAdditionalData.ProjectName]=this._projectName,n)}},n}();t.ParentFieldProvider=s});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/LoadingSpinnerOverlay",["require","exports","react","react-dom","OfficeFabric/Spinner","VSS/Utils/Core","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","VSS/LoaderPlugins/Css!Controls/WorkItemForm/LoadingSpinnerOverlay"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.LoadingSpinnerOverlay=void 0;var o=function(){function n(n){this._referenceElement=n}return n.prototype.dispose=function(){this._delayedShowFunction&&this._delayedShowFunction.cancel();this._delayedHideFunction&&this._delayedHideFunction.cancel();this._hideLoadingOverlay()},n.prototype.show=function(n,t){this._delayedShowFunction&&this._delayedShowFunction.cancel();this._delayedHideFunction&&this._delayedHideFunction.cancel();this._delayedShowFunction=f.delay(this,n,this._showLoadingOverlay,[t||e.Loading])},n.prototype.hide=function(n){this._delayedShowFunction&&this._delayedShowFunction.cancel();this._delayedHideFunction&&this._delayedHideFunction.cancel();n===undefined||n===null||n<0?this._hideLoadingOverlay():this._delayedHideFunction=f.delay(this,n,this._hideLoadingOverlay)},n.prototype._showLoadingOverlay=function(n){this._element||(this._element=document.createElement("div"));r.render(i.createElement("div",{className:"loading-spinner-overlay"},i.createElement(u.Spinner,{size:u.SpinnerSize.large,label:n})),this._element);var t=this._referenceElement.parentElement;t.insertBefore(this._element,this._referenceElement)},n.prototype._hideLoadingOverlay=function(){this._element&&(r.unmountComponentAtNode(this._element),this._element.parentNode.removeChild(this._element),this._element=null)},n}();t.LoadingSpinnerOverlay=o});

define("WorkItemTracking/Scripts/Controls/WorkItemsNavigator",["require","exports","VSS/Utils/Core","VSS/Utils/String","VSS/Diag","VSS/Controls/Navigation","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Events/Handlers","Presentation/Scripts/TFS/TFS.OM.Common","WorkItemTracking/Scripts/TFS.WorkItemTracking","VSS/Telemetry/Services","WorkItemTracking/Scripts/Controls/WorkItemsProvider","WorkItemTracking/Scripts/OM/WorkItemManager","WorkItemTracking/Scripts/CustomerIntelligence"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemsNavigator=void 0;var y=function(){function n(n){this._selectedIndex=-1;this._previousIndex=-1;this._count=-1;this._workItemId=-1;this.options=n||{}}return n.prototype.isNextAvailable=function(){return this._workItemsProvider&&this._selectedIndex>=0&&this._selectedIndex<this._count-1},n.prototype.isPreviousAvailable=function(){return this._workItemsProvider&&this._selectedIndex>0&&this._selectedIndex<this._count},n.prototype.getStatusText=function(){return!this._workItemsProvider||this._selectedIndex<0||this._count<0||this._selectedIndex>this._count-1?"":r.format(e.TriageSummary,this._selectedIndex+1,this._count)},n.prototype.getCiData=function(){return{FromIndex:this._previousIndex,ToIndex:this._selectedIndex,NumberOfWorkitems:this._count}},n.prototype.navigateNext=function(){this.isNextAvailable()&&this._fireEvent(n.EVENT_NAVIGATE_NEXT)},n.prototype.navigateToQueryResults=function(t){t&&c.publishEvent(new c.TelemetryEventData(v.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,v.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_BACK_TO_QUERY_RESULTS,{BackToQueryResultsCommand:t,IsFullscreen:f.FullScreenHelper.getFullScreen(),CurrentWorkItemIndex:this._selectedIndex,WorkItemsCount:this._count}));this._fireEvent(n.EVENT_NAVIGATE_QUERY_RESULTS)},n.prototype.navigatePrevious=function(){this.isPreviousAvailable()&&this._fireEvent(n.EVENT_NAVIGATE_PREVIOUS)},n.prototype.setProvider=function(n){this._workItemsProvider!==n&&(this._workItemsProvider=n,this.reset())},n.prototype.getProvider=function(){return this._workItemsProvider},n.prototype.getSelectedWorkItemId=function(){return this._workItemId},n.prototype.getWorkItemsCount=function(){return this._count},n.prototype.getSelectedIndex=function(){return this._selectedIndex},n.prototype.update=function(t,r,f){var e=this,o;this._count=t;this._previousIndex=this._selectedIndex;this._selectedIndex=r;this._workItemId=f;this._fireIndexChanged||(o=function(){e._fireEvent(n.EVENT_NAVIGATE_INDEX_CHANGED,e)},this._fireIndexChanged=new i.DelayedFunction(this,250,"navigateIndexChanged",o));this._fireIndexChanged.reset()},n.prototype.reset=function(){this.update(-1,-1,null)},n.prototype.prefetchNextAvailableWorkItem=function(n){var o=s.ProjectCollection.getConnection(n).getService(h.WorkItemStore),t=a.WorkItemManager.get(o).getLastRetrievedWorkitemCIData(),f,e;if(t&&($.extend(t,this.getCiData()),c.publishEvent(new c.TelemetryEventData(v.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,v.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_PREFETCH_NEXT_WORKITEM,t))),this.isNextAvailable()){var y=this.getProvider(),p=l.QueryResultsProvider.isRecycleBinQueryResultsProvider(y),w=this._selectedIndex+1,r=y.getWorkItemIdAtDataIndex(w);r&&(f=250,e=function(){a.WorkItemManager.get(o).beginGetWorkItem(r,function(){u.logTracePoint("TriageView.showWorkItem.prefetchComplete")},function(){u.logWarning("TriageView.showWorkItem.prefetchFailed: "+r)},p)},this._executePrefetchWorkItemFunc?(this._executePrefetchWorkItemFunc.cancel(),this._executePrefetchWorkItemFunc.setDelay(f),this._executePrefetchWorkItemFunc.setMethod(this,e)):this._executePrefetchWorkItemFunc=new i.DelayedFunction(this,f,"prefetchWorkItem",e),this._executePrefetchWorkItemFunc.reset(),this._executePrefetchWorkItemFunc.start())}},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){if(this._events){var r;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},n.prototype.attachEvent=function(n,t){this._events||(this._events=new o.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.EVENT_NAVIGATE_INDEX_CHANGED="navigate-index-changed",n.EVENT_NAVIGATE_NEXT="navigate-next",n.EVENT_NAVIGATE_PREVIOUS="navigate-previous",n.EVENT_NAVIGATE_QUERY_RESULTS="navigate-query-results",n}();t.WorkItemsNavigator=y});

define("WorkItemTracking/Scripts/Filtering/FilterManager",["require","exports","VSS/Utils/Core","VSS/Diag","VSS/Events/Handlers","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence"],function(n,t,i,r,u,f,e){function s(n){return!n||!Object.keys(n).some(function(t){var i=n[t]&&n[t].values;return i&&i.length>0})}Object.defineProperty(t,"__esModule",{value:!0});t.isFilterStateEmpty=t.FilterManager=void 0;var o=function(){function n(n){this._filterProviders={};this._reset();this._dataSource=n}return n.prototype.activate=function(){this._isActive||(this._isActive=!0,this._fireEvent(n.EVENT_FILTER_ACTIVATED),this._publishActivatedTelemetry())},n.prototype.deactivate=function(){this._isActive&&(this._isActive=!1,this._fireEvent(n.EVENT_FILTER_DEACTIVATED))},n.prototype.isActive=function(){return this._isActive},n.prototype.dataUpdated=function(){var t,i;for(t in this._filterProviders)i=this._filterProviders[t],i.dataUpdated();this._fireEvent(n.EVENT_DATA_UPDATED)},n.prototype.isFiltering=function(){var n,t,i;if(!this.isActive())return!1;n=!1;for(t in this._filterProviders)i=this._filterProviders[t],n=n||i.isFiltering();return n},n.prototype.registerFilterProvider=function(n,t){r.Debug.assertParamIsString(n,"provider");r.Debug.assertParamIsObject(t,"filterProvider");r.Debug.assert(!this._filterProviders[n],"FilterProvider for '".concat(n,"' already registered"));this._filterProviders[n]=t;t.bind(this._dataSource)},n.prototype.unregisterFilterProvider=function(n){r.Debug.assertParamIsString(n,"provider");delete this._filterProviders[n]},n.prototype.clearFilterProviders=function(){this._filterProviders={}},n.prototype.getFilterProvider=function(n){return this._filterProviders[n]},n.prototype.setFilters=function(n){var t,i;if(this._clearAllFilters(),n)for(t in n)i=this._filterProviders[t],i&&i.setFilter(n[t]);this._fireFilterChanged()},n.prototype.getFilters=function(){var i={},n,t,r;for(n in this._filterProviders)t=this._filterProviders[n],t.isFiltering()&&(r=t.getFilter(),i[n]=r);return i},n.prototype.setFilter=function(n,t){var i=this._getFilterProvider(n);i&&(i.setFilter(t),this._fireFilterChanged())},n.prototype.getFilter=function(n){var t=this._getFilterProvider(n);return t?t.getFilter():null},n.prototype.clearFilters=function(n){this.isFiltering()&&(n?this._filterProviders[n].clearFilters():this._clearAllFilters(),this._fireFilterChanged())},n.prototype.filter=function(){var i,n,u,t;if(r.Debug.assert(this.isActive(),"Filter not active when 'filter()' is called"),i=Date.now(),!this.isFiltering())return this._dataSource.getIds();n=null;for(u in this._filterProviders)(t=this._filterProviders[u],t.isFiltering())&&(n=t.getMatchingItems(n));return n||(n=[]),this._publishFilterTelemetry(n.length,Date.now()-i),n},n.prototype.attachEvent=function(n,t){this._events||(this._events=new u.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.prototype.getFilterDataSource=function(){return this._dataSource},n.prototype._reset=function(){this.clearFilters()},n.prototype._getFilterProvider=function(n){return this._filterProviders[n]},n.prototype._clearAllFilters=function(){var n,t;for(n in this._filterProviders)t=this._filterProviders[n],t.clearFilters()},n.prototype._fireFilterChanged=function(){this.isActive()&&(this.isFiltering()?this._fireEvent(n.EVENT_FILTER_CHANGED):this._fireEvent(n.EVENT_FILTER_CLEARED))},n.prototype._fireEvent=function(n,t){if(this._events){var i=!1;if(this._events.invokeHandlers(n,this,t,function(n){if(n===!1)return i=!0,!0}),i)return!1}},n.prototype._publishActivatedTelemetry=function(){f.publishEvent(new f.TelemetryEventData(e.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,e.WITCustomerIntelligenceFeature.RESULT_FILTER,{experience:this._dataSource.getDataSourceName(),action:"ActivateFilter",totalCount:this._dataSource.getItemCount(),initialPagedCount:this._dataSource.getIds().length,columnsCount:(this._dataSource.getVisibleFields()||[]).length}))},n.prototype._publishFilterTelemetry=function(n,t){var r=this;this._lastResultCount=n;this._lastDuration=t;this._filterTelemetryThrottleDelegate||(this._filterTelemetryThrottleDelegate=i.throttledDelegate(this,2e3,function(){r.isFiltering()&&f.publishEvent(new f.TelemetryEventData(e.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,e.WITCustomerIntelligenceFeature.RESULT_FILTER,{experience:r._dataSource.getDataSourceName(),action:"Filter",totalCount:r._dataSource.getItemCount(),pagedCount:r._dataSource.getIds().length,columnsCount:(r._dataSource.getVisibleFields()||[]).length,resultCount:r._lastResultCount,activeFilterProviders:Object.keys(r.getFilters()),duration:r._lastDuration}))}));this._filterTelemetryThrottleDelegate()},n.EVENT_FILTER_CHANGED="filter-changed",n.EVENT_FILTER_CLEARED="filter-cleared",n.EVENT_FILTER_ACTIVATED="filter-activated",n.EVENT_FILTER_DEACTIVATED="filter-deactivated",n.EVENT_DATA_UPDATED="filter-data-updated",n}();t.FilterManager=o;t.isFilterStateEmpty=s});

define("WorkItemTracking/Scripts/MenuItems/MenuItemHelpers",["require","exports","VSS/Context","VSS/Utils/String"],function(n,t,i,r){function f(n){if(n.rows)return u.Queries;if(n.workItemIds)return u.Backlog;if(n.id){var t=i.getPageContext().navigation.currentAction;return r.localeIgnoreCaseComparer(t,"TaskBoard")===0?u.Taskboard:u.Kanban}return typeof n.workItemAvailable=="boolean"?u.WorkItemForm:u.Unknown}Object.defineProperty(t,"__esModule",{value:!0});t.GetContextMenuLocation=t.MenuItemLocation=void 0;var u;(function(n){n[n.Unknown=0]="Unknown";n[n.Backlog=1]="Backlog";n[n.Kanban=2]="Kanban";n[n.Taskboard=3]="Taskboard";n[n.Queries=4]="Queries";n[n.WorkItemForm=5]="WorkItemForm"})(u=t.MenuItemLocation||(t.MenuItemLocation={}));t.GetContextMenuLocation=f});

define("WorkItemTracking/Scripts/RecycleBinConstants",["require","exports","WorkItemTracking/Scripts/CustomerIntelligence"],function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0});t.RecycleBinTelemetryConstants=t.RecycleBinConstants=void 0,function(n){n.EVENT_DELETE_STARTED="recycle-bin-delete-started";n.EVENT_DELETE_FAILED="recycle-bin-delete-failed";n.EVENT_DELETE_FAILED_TEXT_ONLY="recycle-bin-delete-failed-textonly";n.EVENT_DELETE_SUCCEEDED="recycle-bin-delete-succeeded";n.EVENT_DESTROY_STARTED="recycle-bin-destroy-started";n.EVENT_DESTROY_FAILED="recycle-bin-destroy-failed";n.EVENT_DESTROY_SUCCEED="recycle-bin-destroy-succeed";n.EVENT_RESTORE_STARTED="recycle-bin-restore-started";n.EVENT_RESTORE_FAILED="recycle-bin-restore-failed";n.EVENT_RESTORE_SUCCEED="recycle-bin-restore-succeed";n.CLEANUP_SETTING_REGISTRYKEY="/Service/WorkItemTracking/Settings/MaxDaysWorkItemInRecyclebin";n.DROPPED_ON_RECYCLE_BIN_DATAKEY="dropped-on-recycle-bin"}(r=t.RecycleBinConstants||(t.RecycleBinConstants={})),function(n){n.CI_AREA=i.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING;n.WORKITEM_DELETE="WorkItemDelete";n.WORKITEM_DELETE_PROMPT="WorkItemDelete.Prompt";n.WORKITEM_RESTORE="WorkItemRestore";n.WORKITEM_DESTROY="WorkItemDestroy";n.WORKITEM_DELETE_CLIENT_DENIED="WorkItemDeleteClientDenied";n.KANBAN_SOURCE="Kanban";n.TASK_BOARD_SOURCE="TaskBoard";n.BACKLOG_SOURCE="Backlog";n.ITERATION_BACKLOG_SOURCE="IterationBacklog";n.WORK_ITEMS_VIEW_SOURCE="WorkItemsView";n.WORK_ITEMS_FORM_SOURCE="WorkItemsForm";n.UNKNOWN="Unknown";n.DRAGDROP="Dragdrop";n.CONTEXT_MENU="ContextMenu";n.TOOLBAR="Toolbar";n.DELETE_KEY="DeleteKey"}(u=t.RecycleBinTelemetryConstants||(t.RecycleBinTelemetryConstants={}))});

define("WorkItemTracking/Scripts/Utils/WorkItemPermissionDataHelper",["require","exports","VSS/Service","VSS/Events/Page","VSS/Contributions/Services","VSS/Diag","VSS/Events/Services","VSS/Error"],function(n,t,i,r,u,f,e,o){var c,l,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemPermissionDataHelper=t.PermissionDataHelper=t.WorkItemPermissionActions=void 0;c=e.getService(),function(n){n.PERMISSION_DATA_AVAILABLE="work-item-permission-data-available"}(l=t.WorkItemPermissionActions||(t.WorkItemPermissionActions={}));s=function(){function n(){}return n.prototype.isPopulated=function(){return this._isDataAvailable()?!0:this._tryGetPermissionDataFromPageService()?!0:(this.initializeWorkItemPermissions(),!1)},n.prototype._isDataAvailable=function(){return!!this._permissionData},n.prototype.getWorkItemPermissions=function(){return this._permissionData},n.prototype.beginGetWorkItemPermissions=function(){var n=this;return this._loadingDataPromise||(this._loadingDataPromise=i.getService(u.ExtensionService).getContributions(["ms.vss-work-web.work-item-permissions-data-provider"],!0,!1,!1).then(function(){return n._tryGetPermissionDataFromPageService()&&c.fire(l.PERMISSION_DATA_AVAILABLE),n._permissionData})),this._loadingDataPromise},n.prototype.initializeWorkItemPermissions=function(){if(!this._isDataAvailable()&&!this._loadingDataPromise){if(this._tryGetPermissionDataFromPageService())return;this.beginGetWorkItemPermissions().then(null,function(n){o.publishErrorToTelemetry({name:"UnexpectedExceptionWhenAccessingWorkItemPermissionData",message:n})})}},n.prototype.hasWorkItemDeletePermission=function(){var n=this.getWorkItemPermissions();return!!(n&&n.workItemDeletePermission&&n.workItemDeletePermission.hasPermission)},n.prototype.hasWorkItemDestroyPermission=function(){var n=this.getWorkItemPermissions();return!!(n&&n.workItemDestroyPermission&&n.workItemDestroyPermission.hasPermission)},n.prototype._tryGetPermissionDataFromPageService=function(){var n=i.getService(u.WebPageDataService).getPageData("ms.vss-work-web.work-item-permissions-data-provider");return n?(this._permissionData=n,!0):!1},n}();t.PermissionDataHelper=s;h=new s;t.WorkItemPermissionDataHelper=h;r.getService().subscribe(r.CommonPageEvents.PageInteractive,function(){h.initializeWorkItemPermissions()})});

define("WorkItemTracking/Scripts/MenuItems/DeleteMenuItemCommonHelper",["require","exports","q","VSS/Context","VSS/Diag","WorkItemTracking/Scripts/MenuItems/MenuItemHelpers","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","WorkItemTracking/Scripts/RecycleBinConstants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/Utils/WorkItemPermissionDataHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function v(n){var t={ciFeatureName:s.RecycleBinTelemetryConstants.CONTEXT_MENU,ciSourceAreaName:"",text:h.DeleteWorkItemDeleteButtonText,workItemIds:[],workItemTypeNames:[],tfsContext:e.TfsContext.getDefault(),refreshRequired:!1,readWorkItemsBeforeDeletion:!1,groupId:"modify",errorCallback:undefined,rank:undefined},i=f.GetContextMenuLocation(n),o;return i===f.MenuItemLocation.Backlog?(t.ciSourceAreaName=s.RecycleBinTelemetryConstants.BACKLOG_SOURCE,t.text=h.DeleteSelectedWorkItems,t.workItemIds=n.workItemIds,t.workItemTypeNames=n.workItemTypeNames,t.refreshRequired=n.refreshRequired,t.readWorkItemsBeforeDeletion=n.readWorkItemsBeforeDeletion,t.rank=50):i===f.MenuItemLocation.Taskboard?(t.ciSourceAreaName=s.RecycleBinTelemetryConstants.TASK_BOARD_SOURCE,t.workItemIds=n.id&&[n.id],t.workItemTypeNames=n.workItemType&&[n.workItemType]):i===f.MenuItemLocation.Kanban?(t.ciSourceAreaName=s.RecycleBinTelemetryConstants.KANBAN_SOURCE,t.workItemIds=n.id&&[n.id],t.workItemTypeNames=n.workItemType&&[n.workItemType]):i===f.MenuItemLocation.Queries?(t.ciSourceAreaName=s.RecycleBinTelemetryConstants.WORK_ITEMS_VIEW_SOURCE,t.text=h.DeleteSelectedWorkItems,t.workItemIds=n.ids,t.workItemTypeNames=n.workItemTypeNames,t.tfsContext=n.tfsContext,t.rank=25,o=r.getPageContext(),t.readWorkItemsBeforeDeletion=!0):i===f.MenuItemLocation.WorkItemForm&&(t.ciFeatureName=s.RecycleBinTelemetryConstants.WORK_ITEMS_FORM_SOURCE,t.ciSourceAreaName=s.RecycleBinTelemetryConstants.WORK_ITEMS_VIEW_SOURCE,t.workItemIds=n.workItemId&&[n.workItemId],t.workItemTypeNames=n.workItemTypeName&&[n.workItemTypeName],t.tfsContext=n.tfsContext,t.groupId="core"),t}function p(n,t,i){if(t.hideDelete)return!0;if(a.WorkItemPermissionDataHelper.isPopulated()){var r=a.WorkItemPermissionDataHelper.hasWorkItemDeletePermission()&&!n;if(!r)return!0}return!i.workItemTypeNames||!i.workItemIds||i.workItemIds.length===0?!0:!1}function w(n,t,i){if(t.hideDelete||!b(i))return!0;if(a.WorkItemPermissionDataHelper.isPopulated()){var r=a.WorkItemPermissionDataHelper.hasWorkItemDeletePermission()&&a.WorkItemPermissionDataHelper.hasWorkItemDestroyPermission()&&!n;if(!r)return!0}return!1}function b(n){return!n.workItemTypeNames||n.workItemTypeNames.length===0||!n.workItemIds||n.workItemIds.length===0?!1:!0}Object.defineProperty(t,"__esModule",{value:!0});t.hidePermanentlyDeleteMenuItemForTestWorkItem=t.hideDeleteMenuItem=t.WorkItemCategorization=t.getMenuItemProperties=void 0;t.getMenuItemProperties=v;var y=function(){function n(){}return n.categorizeWorkItemTypes=function(n,t){var r=this,u=i.defer();return this.TestAndNonTestWorkItemTypes={testTypes:[],nonTestTypes:[]},this.getAllTestWorkItemTypes(t).then(function(t){n&&$.each(n,function(n,i){t&&t[i]?r.TestAndNonTestWorkItemTypes.testTypes.push(i):r.TestAndNonTestWorkItemTypes.nonTestTypes.push(i)});u.resolve(r.TestAndNonTestWorkItemTypes)},function(n){u.reject(n)}),u.promise},n.getAllTestWorkItemTypes=function(n){var t=i.defer(),u=[l.WorkItemCategoryConstants.TEST_CASE,l.WorkItemCategoryConstants.TEST_PLAN,l.WorkItemCategoryConstants.TEST_SUITE,l.WorkItemCategoryConstants.TEST_SHAREDPARAMETER,l.WorkItemCategoryConstants.TEST_SHAREDSTEP],f=o.ProjectCollection.getDefaultConnection().getService(c.WorkItemStore),r={};return f.beginGetProject(n||e.TfsContext.getDefault().navigation.projectId,function(n){n.beginGetWorkItemCategories(function(n){$.each(u,function(t,i){if(n&&n[i]){var u=n[i];$.each(u.workItemTypeNames,function(n,t){r[t]=i})}});t.resolve(r)},function(n){t.reject(n)})},function(n){t.reject(n)}),t.promise},n.TestAndNonTestWorkItemTypes={testTypes:[],nonTestTypes:[]},n}();t.WorkItemCategorization=y;t.hideDeleteMenuItem=p;t.hidePermanentlyDeleteMenuItemForTestWorkItem=w});

define("Presentation/Scripts/TFS/Components/ZeroData",["require","exports","OfficeFabric/Button","react","VSS/LoaderPlugins/Css!Presentation/Components/ZeroData"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.ZeroData=void 0;var u=function(n){return r.createElement("div",{className:"zerodata"},r.createElement("div",null,r.createElement("img",{src:n.imageUrl,alt:n.imageAltText})),r.createElement("div",{className:"primary"},r.createElement("span",null,n.primaryText)),r.createElement("div",null," ",n.secondaryTextElement?n.secondaryTextElement:r.createElement("span",null,n.secondaryText)),r.createElement("div",{className:"info-link"},n.infoLink?r.createElement("a",{href:n.infoLink.href,target:"_blank"},n.infoLink.linkText):n.infoButton?n.infoButton.isPrimaryButton?r.createElement(i.PrimaryButton,__assign({},{text:n.infoButton.text,onClick:n.infoButton.onClick})):r.createElement("button",{className:"zero-data-info-button",onClick:function(){n.infoButton.onClick()}},n.infoButton.text):null))};t.ZeroData=u});

define("Presentation/Scripts/TFS/TFS.IllustrationUrlUtils",["require","exports","VSS/Locations"],function(n,t,i){var r,u,f,e;Object.defineProperty(t,"__esModule",{value:!0});t.WorkIllustrationUrlUtils=t.WorkWidgetIllustrationPaths=t.WorkZeroDataIllustrationPaths=t.GeneralZeroDataIllustrationPaths=void 0,function(n){n.SomethingWrongOnServer="Illustrations/general-something-wrong-on-server.svg"}(r=t.GeneralZeroDataIllustrationPaths||(t.GeneralZeroDataIllustrationPaths={})),function(n){n.ChartingNotSupported="Illustrations/zerodata-charting-not-supported.svg";n.CustomRules="Illustrations/zerodata-custom-rules.svg";n.GetBackToRecentWork="Illustrations/zerodata-get-back-to-recent-work.svg";n.GetStartedWithSprints="Illustrations/zerodata-get-started-with-sprint.svg";n.InvalidWorkItemType="Illustrations/zerodata-invalid-workitem-type.svg";n.KeepAnEyeOnImportantWork="Illustrations/zerodata-keep-an-eye-on-important-work.svg";n.MentionSomeone="Illustrations/zerodata-mention-someone.svg";n.NoCharts="Illustrations/zerodata-no-charts.svg";n.UnsavedQuery="Illustrations/zerodata-unsaved-query.svg";n.WorkItemNotFound="Illustrations/zerodata-workitem-not-found.svg";n.YourWorkInOnePlace="Illustrations/zerodata-your-work-in-one-place.svg";n.QueryNoResultFound="Illustrations/general-no-results-found.svg";n.NoPlan="Illustrations/zerodata-no-plan.svg";n.InitializingTestResults="Illustrations/zerodata-initializing-test-results.svg";n.NoWorkScheduled="Illustrations/zerodata-no-work-scheduled.svg";n.SprintDragAndDrop="Illustrations/zerodata-sprint-drag-n-drop.svg";n.ConfigurationRequired="Illustrations/zerodata-feature-not-configured.svg"}(u=t.WorkZeroDataIllustrationPaths||(t.WorkZeroDataIllustrationPaths={})),function(n){n.YouDontHavePermission="Illustrations/widget-you-dont-have-permission.svg"}(f=t.WorkWidgetIllustrationPaths||(t.WorkWidgetIllustrationPaths={})),function(n){function t(n){return i.urlHelper.getVersionedContentUrl(n)}n.getIllustrationImageUrl=t}(e=t.WorkIllustrationUrlUtils||(t.WorkIllustrationUrlUtils={}))});

define("WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.ZeroData",["require","exports"],function(require,exports){var e=exports;e.ZeroData_Following_PrimaryMessage="Keep an eye on important work";e.Illustrations_MentionSomeoneAltText="Mention someone";e.ZeroData_Following_NotConfigured_PrimaryMessage="Feature not supported";e.ZeroData_MyActivity_SecondaryMessage="Find work items you have recently opened or edited.";e.ZeroData_Mentioned_SecondaryMessage="Quickly take action on items where you have been @mentioned.";e.ZeroData_Following_NotConfigured_SecondaryMessageLinkText="Learn more about how to enable following";e.ZeroData_MyTeams_NotConfigured_SecondaryMessage="You need to be a member of a team to find what your team is working on.";e.ZeroData_Charts_UnsavedSecondaryText="Save the query to view and create charts.";e.ZeroData_RecentlyCompleted_PrimaryMessage="Find recently completed items";e.ZeroData_RecentlyCreated_SecondaryMessageLinkUrl="https://go.microsoft.com/fwlink/?linkid=831361";e.ZeroData_Mentioned_SecondaryMessageLinkUrl="https://go.microsoft.com/fwlink/?linkid=852411";e.ZeroData_QueryResult_PrimaryText="No results match the query";e.ZeroData_MyTeams_NotConfigured_PrimaryMessage="Feature not supported";e.ZeroData_Following_SecondaryMessageFormat="Click {0} to get updates about the items you want to track.";e.ZeroData_Filter_WorkItems_ArtifactName="work items";e.ZeroData_RecentlyUpdated_SecondaryMessageLinkUrl="https://go.microsoft.com/fwlink/?linkid=831361";e.ZeroData_MyActivity_SecondaryMessageLinkUrl="https://go.microsoft.com/fwlink/?linkid=2010008";e.ZeroData_Charts_LinkQueryPrimaryText="Charting is not supported for tree or direct link queries";e.ZeroData_Following_NotConfigured_SecondaryMessage="Enable this feature to keep an eye on important work.";e.ZeroData_ServerError_PrimaryText="Server error";e.Illustrations_SomethingWrongOnServerAltText="Server error";e.ZeroData_GlobalSearch_LinkText="Search for work.";e.ZeroData_RecentlyCreated_SecondaryMessage="View items that are being created for this project.";e.Illustrations_GetBackToRecentWorkAltText="Get back to your recent work";e.ZeroData_MyActivity_PrimaryMessage="Get back to your recent work";e.ZeroData_Charts_UnsavedPrimaryText="Charting is disabled for unsaved queries";e.ZeroData_Mentioned_SecondaryMessageLinkText="Learn more about @mentions";e.ZeroData_MyTeams_PrimaryMessage="Find what my team is working on";e.ZeroData_Charts_NewChartSecondaryText="Create several types of charts - such as pie, column, or trend - to quickly view the status of work.";e.ZeroData_Charts_NewChartPrimaryText="Visualize query results with charts";e.ZeroData_Following_NotConfigured_SecondaryMessageLinkUrl="https://go.microsoft.com/fwlink/?linkid=2010112";e.ZeroData_Following_SecondaryMessageLinkUrl="https://go.microsoft.com/fwlink/?linkid=2010009";e.ZeroData_Following_SecondaryMessageLinkText="Learn more about following";e.ZeroData_RecentlyCreated_PrimaryMessage="Find recently created items";e.ZeroData_Charts_LinkQuerySecondaryText="Change the type of query or create a new flat-list query to start charting.";e.ZeroData_AssignedToMe_PrimaryMessage="Your work, all in one place";e.ZeroData_RecentlyCompleted_SecondaryMessageLinkUrl="https://go.microsoft.com/fwlink/?linkid=831361";e.ZeroData_RecentlyUpdated_PrimaryMessage="Find recently updated items";e.ZeroData_AssignedToMe_SecondaryMessageLinkUrl="https://go.microsoft.com/fwlink/?linkid=2010008";e.ZeroData_MyTeams_SecondaryMessageLinkUrl="https://go.microsoft.com/fwlink/?linkid=2010008";e.Illustrations_KeepAnEyeOnImportantWorkAltText="Keep an eye on important work";e.Illustrations_YourWorkInOnePlaceAltText="Your work, all in one place";e.ZeroData_RecentlyCompleted_SecondaryMessage="View items that are being completed for this project.";e.ZeroData_WorkItems_LinkText="Learn more about work items";e.ZeroData_Mentioned_PrimaryMessage="Don\u0027t miss important work";e.ZeroData_AssignedToMe_SecondaryMessage="Quickly take action on work items assigned to you.";e.ZeroData_RecentlyUpdated_SecondaryMessage="View items that have been recently updated.";e.ZeroData_MyTeams_SecondaryMessage="View items from your team(s) that have been recently updated.";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("WorkItemTracking/Scripts/Queries/Components/TriagePivot/TriageHubZeroDataUtils",["require","exports","react","react-dom","Presentation/Scripts/TFS/Components/ZeroData","Presentation/Scripts/TFS/TFS.IllustrationUrlUtils","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.ZeroData","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u,f,e,o){function a(n,t,i){if(n){var u=null;switch(t){case s.NewChart:u=h(i);break;case s.UnsavedChart:u=c();break;case s.NotSupportedChart:u=l()}r.render(u,n)}}function v(n){r.unmountComponentAtNode(n)}function y(n,t){if(n){var s={primaryText:t?o.QueryResultsNewQueryGridStatusText:e.ZeroData_QueryResult_PrimaryText,imageUrl:f.WorkIllustrationUrlUtils.getIllustrationImageUrl(f.WorkZeroDataIllustrationPaths.QueryNoResultFound),imageAltText:e.ZeroData_QueryResult_PrimaryText};r.render(i.createElement(u.ZeroData,__assign({},s)),n)}}function h(n){var t={primaryText:e.ZeroData_Charts_NewChartPrimaryText,secondaryText:e.ZeroData_Charts_NewChartSecondaryText,imageUrl:f.WorkIllustrationUrlUtils.getIllustrationImageUrl(f.WorkZeroDataIllustrationPaths.NoCharts),imageAltText:e.ZeroData_QueryResult_PrimaryText,infoButton:{text:o.NewChartText,onClick:n,isPrimaryButton:!0}};return i.createElement(u.ZeroData,__assign({},t))}function c(){var n={primaryText:e.ZeroData_Charts_UnsavedPrimaryText,secondaryText:e.ZeroData_Charts_UnsavedSecondaryText,imageUrl:f.WorkIllustrationUrlUtils.getIllustrationImageUrl(f.WorkZeroDataIllustrationPaths.UnsavedQuery),imageAltText:e.ZeroData_Charts_UnsavedPrimaryText};return i.createElement(u.ZeroData,__assign({},n))}function l(){var n={primaryText:e.ZeroData_Charts_LinkQueryPrimaryText,secondaryText:e.ZeroData_Charts_LinkQuerySecondaryText,imageUrl:f.WorkIllustrationUrlUtils.getIllustrationImageUrl(f.WorkZeroDataIllustrationPaths.ChartingNotSupported),imageAltText:e.ZeroData_Charts_LinkQueryPrimaryText};return i.createElement(u.ZeroData,__assign({},n))}Object.defineProperty(t,"__esModule",{value:!0});t.zeroDataForNotSupportedChart=t.zeroDataForUnsavedChart=t.zeroDataForNewChart=t.renderZeroDataQueryResult=t.unmountZeroDataComponent=t.renderZeroDataCharts=t.ZeroDataChartType=void 0;var s;(function(n){n[n.NewChart=0]="NewChart";n[n.UnsavedChart=1]="UnsavedChart";n[n.NotSupportedChart=2]="NotSupportedChart"})(s=t.ZeroDataChartType||(t.ZeroDataChartType={}));t.renderZeroDataCharts=a;t.unmountZeroDataComponent=v;t.renderZeroDataQueryResult=y;t.zeroDataForNewChart=h;t.zeroDataForUnsavedChart=c;t.zeroDataForNotSupportedChart=l});

/*!
 * jQuery UI Autocomplete 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/autocomplete",["jquery","./menu","./keycode","./position","./safe-active-element","./version","./widget"],e):e(jQuery)}(function(e){"use strict";return e.widget("ui.autocomplete",{version:"1.13.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,u="input"===n;this.isMultiLine=o||!u&&this._isContentEditable(this.element),this.valueMethod=this.element[o||u?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,void(i=!0);t=!1,s=!1,i=!1;var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case o.UP:t=!0,this._keyEvent("previous",n);break;case o.DOWN:t=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||s.preventDefault());if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){if(s)return s=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault()},menufocus:function(t,i){var s,n;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),(s=i.item.attr("aria-label")||n.value)&&String.prototype.trim.call(s).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(e("<div>").text(s))},100))},menuselect:function(t,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",t,{item:s})&&this._value(s.value),this.term=this._value(),this.close(t),this.selectedItem=s}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||e.contains(i,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;Array.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||s)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<div>").text(i.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(e("<div>").text(i))},100))}}),e.ui.autocomplete});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("WorkItemTracking/Scripts/TFS.UI.Tags",["require","exports","VSS/VSS","VSS/Error","VSS/Utils/String","VSS/Utils/Array","VSS/Diag","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","VSS/Utils/UI","VSS/Controls","Presentation/Scripts/TFS/FeatureRef/TFS.TagService","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","VSS/Controls/PopupContent","VSS/FeatureAvailability/Services","WorkItemTracking/Scripts/Utils/TagUtils","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/TFS.UI.Tags.Constants","jQueryUI/autocomplete"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){var d,tt,nt,g;Object.defineProperty(t,"__esModule",{value:!0});t.TagUtilities=t.TagControl=t.TagChangeType=void 0;d=s.domElem,function(n){n[n.Add=0]="Add";n[n.Delete=1]="Delete"}(tt=t.TagChangeType||(t.TagChangeType={}));nt=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.shouldKeydownTriggerClick=function(n){return n.keyCode===s.KeyCode.ENTER||n.keyCode===s.KeyCode.SPACE},t.prototype.initializeOptions=function(i){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:t.coreCssClass,tags:[],readOnly:!1},i))},t.prototype.initialize=function(){var i,t,r;n.prototype.initialize.call(this);i=this.getElement();this._selectedIndex=0;this._visibleTagsCount=-1;this._options.tagLabel&&$(d("span","tags-label")).attr("id","tags-label").text(this._options.tagLabel).appendTo($(d("div","tags-label-container")).appendTo(i));this._$tagsList=$(d("ul"));this._readOnly=this._options.readOnly;this._readOnly||this._initializeInputElements();t=$(d("div","tags-items-container")).attr("role","toolbar");this._options.tagLabel?t.attr("aria-labelledby","tags-label"):this._options.tags&&(r=this._options.tags.toString(),t.attr("aria-label",r));this._$tagsList.appendTo(t);t.appendTo(i);this._options.tags&&this.setItems(this._options.tags);p.FeatureAvailabilityService.isFeatureEnabled(l.FeatureAvailabilityFlags.WebAccessWorkItemTrackingDisableTagsMRU)||(this._mruList=[])},t.prototype.addTag=function(n){if(n){var t=n.trim();t&&!f.contains(this._tags,t,u.localeIgnoreCaseComparer)&&(this._selectedIndex===this._tags.length&&this._selectedIndex++,this._tags.push(t),this._sortTags(),this._renderItems(),this._fireChange({type:tt.Add,name:t}))}},t.prototype.removeTag=function(n){this._removeTag(n,!0,!1)},t.prototype.setItems=function(n){var t=n.length+(this._readOnly?0:1);this._selectedIndex>=t&&(this._selectedIndex=0);this._tags=n;this._sortTags();this._renderItems()},t.prototype.setReadOnly=function(n){this._readOnly=n;n?this._disposeInputElements():this._initializeInputElements()},t.prototype.clearItems=function(){this.flush();this._tags=[];this._renderItems()},t.prototype.setTagCount=function(n){this._options.getTagCount=n},t.prototype.setMaxWidth=function(n){this._options.maxWidth=n},t.prototype.getWidth=function(){return this._width},t.prototype.focusAddButton=function(){this._selectedIndex=this._getLastIndex();this._renderItems(!0)},t.prototype._sortTags=function(){this._options.unsorted||this._tags.sort(this._options.tagSort||u.localeIgnoreCaseComparer)},t.prototype._setupOverflowEvents=function(n){var i=this;n.click(function(){i._selectedIndex=i._visibleTagsCount;i._overflowClick(n)});n.keydown(function(r){i._updateSelectedIndex(r);t.shouldKeydownTriggerClick(r)&&n.click()})},t.prototype._tagKeyDown=function(n){this._updateSelectedIndex(n);typeof this._options.tagKeyDown=="function"?this._options.tagKeyDown(n):(t.shouldKeydownTriggerClick(n)&&$(n.target).click(),this._removeTagAndSetFocus(n))},t.prototype._updateSelectedIndex=function(n){var t=0,i,r,u,f;if(n.keyCode===s.KeyCode.RIGHT)t=1;else if(n.keyCode===s.KeyCode.LEFT)t=-1;else return;i=this._getLastIndex();r=this._selectedIndex;this._selectedIndex+=t;this._selectedIndex<0?this._selectedIndex=i:this._selectedIndex>i&&(this._selectedIndex=0);u=this.getElement().find(".tag-item[index='"+r+"']");u.attr("tabindex",-1);f=this.getElement().find(".tag-item[index='"+this._selectedIndex+"']");f.attr("tabindex",0).focus()},t.prototype._getLastIndex=function(){var n=this._visibleTagsCount>=0?this._visibleTagsCount:this._tags.length-1;return this._readOnly||n++,n},t.prototype._tagClick=function(n,t){n.preventDefault();n.stopPropagation();var i=Number($(n.target).closest(".tag-item").attr("index"));isNaN(i)||(this._selectedIndex=i,this._renderItems(!0));typeof this._options.tagClick=="function"&&(n.data={tagName:t},this._options.tagClick(n))},t.prototype._normalizeName=function(n,t){var i=n;return n.length>t&&(i=n.substring(0,t-4)+k.TAG_ELLIPSIS),i},t.prototype._renderOverflowElement=function(n,t){var i=g.generateTagContainer(t,!1,this._visibleTagsCount,this._visibleTagsCount===this._selectedIndex);return i.find(".tag-box").text(k.TAG_ELLIPSIS),i.addClass("tags-overflow"),i.appendTo(n),i},t.prototype._splitAndAddTags=function(n){for(var i=w.TagUtils.splitAndTrimTags(n),t=0,r=i.length;t<r;t++)this.addTag(i[t])},t.prototype._showInputControl=function(){var n=this,t,i,u;this._$addButtonContainer.hide();this._$tagInput.val("");this._$tagInput.data("ui-autocomplete")||this._$tagInput.autocomplete();t=function(){n._$tagInput.autocomplete("enable");n._$tagInput.css("display","inline-block");var t=n._getNextZIndex();n._$tagInput.data("ui-autocomplete").menu.element[0].style.setProperty("z-index",t,"important");n._$tagInput.focus();n._$tagInput.closest("li.tag-item-delete-experience").attr("aria-hidden","false")};p.FeatureAvailabilityService.isFeatureEnabled(l.FeatureAvailabilityFlags.WebAccessWorkItemTrackingDisableTagsMRU)?t():(i=a.TfsContext.getDefault(),u=v.ProjectCollection.getConnection(i).getService(c.TagService),u.getTagsMru().then(function(i){n._mruList=i;t();n._$tagInput.find(".menu-item-header").removeClass("ui-menu-item")}).catch(function(i){n._mruList=[];r.publishErrorToTelemetry(i);t()}))},t.prototype._hideInputControl=function(n){this._$tagInput.val("");this._$tagInput.is(":visible")&&(this._$tagInput.css("display","none"),this._$tagInput.autocomplete("close"),this._$tagInput.autocomplete("disable"),this._$addButtonContainer.show());n&&this.focusAddButton();this._$tagInput.closest("li.tag-item-delete-experience").attr("aria-hidden","true")},t.prototype._resetListBeforeRender=function(){$("li.tag-item",this._$tagsList).not(".tags-add-button").remove()},t.prototype._renderTagsInContainer=function(n,t){for(var r,i=this._tags.length-1;i>=0;i--)r=this._renderTag(this._tags[i],this._normalizeName(this._tags[i],k.TAG_CHARACTER_LIMIT),i),r.prependTo(n),t&&i===this._selectedIndex&&r.focus();return n.find(".tag-item").not(".tags-overflow")},t.prototype._renderTagsWithMaxWidth=function(n,t,i,r){var s,u,h,c;if(s=[],t){for(var f=0,o=0,l=i.width();n[f]&&t-o>$(n[f]).outerWidth(!0);)o=o+$(n[f]).outerWidth(!0),f++;if(f!==n.length)while(n[f-1]&&t-o<l)o=o-$(n[f-1]).outerWidth(!0),f--;this._visibleTagsCount=f}for(u=0;u<this._visibleTagsCount;u++)$(n[u]).appendTo(this._$tagsList),r&&u===this._selectedIndex&&$(n[u])[0].focus();for(u=this._visibleTagsCount,h=n.length;u<h;u++)s.push(this._tags[u]);s.length>0?(i.attr("index",this._visibleTagsCount),this._options.type==="grid"||this._options.type==="single.line"?(c=s.join(k.TAG_FORMATTING_SEPARATOR),y.RichContentTooltip.add(c,i)):this._setupOverflowEvents(i),i.appendTo(this._$tagsList),this._selectedIndex==this._visibleTagsCount&&i.focus()):(i.remove(),this._visibleTagsCount=-1)},t.prototype._render=function(n){this._resetListBeforeRender();this._renderTagsInContainer(this._$tagsList,n)},t.prototype._renderTagsInContainerWithMaxTags=function(n){for(var r,i=this._options.maxTags,u=this._tags.length>i?i-1:this._tags.length-1,f=this._options.tagCharacterLimit||k.TAG_CHARACTER_LIMIT,t=u;t>=0;t--)r=this._renderTag(this._tags[t],this._normalizeName(this._tags[t],f),t),r.prependTo(n);this._tags.length>this._options.maxTags&&this._renderOverflowInContainer(n)},t.prototype._renderForCard=function(){this._resetListBeforeRender();this._renderTagsInContainerWithMaxTags(this._$tagsList)},t.prototype._renderOverflowInContainer=function(n){var t=this._getOverFlowElement(),i=this._getOverflowTooltipContent();y.RichContentTooltip.add(i,t);t.appendTo(n)},t.prototype._getOverflowTooltipContent=function(){for(var t=[],n=this._options.maxTags,i=this._tags.length;n<i;n++)t.push(this._tags[n]);return t.join(k.TAG_FORMATTING_SEPARATOR)},t.prototype._getOverFlowElement=function(){var n=g.generateTagContainer();return n.find(".tag-box").text(k.TAG_ELLIPSIS),n.addClass("tags-overflow"),n},t.prototype._renderForSingleLine=function(){var r,u;this._resetListBeforeRender();var n=$(this.getElement().parent()).clone(),i=$(d("div","tags-items-container off-screen")),t=$(d("ul","tags-unused-host"));t.appendTo(i);i.appendTo(n);n.appendTo(document.body);r=this._renderOverflowElement(t,!1);u=this._renderTagsInContainer(t);this._renderTagsWithMaxWidth(u,this._options.maxWidth,r);n.remove()},t.prototype._renderForGrid=function(){var n=$(this.getElement().parent(".grid-cell")).clone(),i=$(d("div","tags-items-container off-screen")),t=$(d("ul","tags-unused-host"));t.appendTo(i);i.appendTo(n);n.appendTo(document.body);var r=this._renderOverflowElement(t,!1),u=this._renderTagsInContainer(t),f=n.width();this._renderTagsWithMaxWidth(u,f,r);n.remove()},t.prototype._renderFilterAvailable=function(n){var r,f;this._resetListBeforeRender();var t=$(this.getElement().parent(".tfs-tags-filter")).clone(),u=$(d("div","tags-items-container off-screen")),i=$(d("ul","tags-unused-host"));i.appendTo(u);u.appendTo(t);t.appendTo(document.body);r=this._renderOverflowElement(i,this._options.selectable);y.RichContentTooltip.add(o.TagFilterDropdownTooltip,r);f=this._renderTagsInContainer(i);this._renderTagsWithMaxWidth(f,this._options.maxWidth,r,n);t.remove()},t.prototype._renderFilterApplied=function(n){var o=this,r=this._options.maxTags,s=[],c,l,i,t,a,v,f;this._resetListBeforeRender();var e=$(this.getElement().parent(".tfs-tags-filter")).clone(),h=$(d("div","tags-items-container off-screen")),u=$(d("ul","tags-unused-host"));if(u.appendTo(h),h.appendTo(e),e.appendTo(document.body),!this._tags){this._width=0;return}for(c=this._tags.length>r?r-1:this._tags.length-1,t=c;t>=0;t--)l=this._renderTag(this._tags[t],this._normalizeName(this._tags[t],k.TAG_CHARACTER_LIMIT),t),l.prependTo(u);if(this._tags.length>r){for(this._visibleTagsCount=r,i=g.generateTagContainer(!0,!1,this._visibleTagsCount,this._visibleTagsCount===this._selectedIndex),i.find(".tag-box").text(k.TAG_ELLIPSIS),i.addClass("tags-overflow"),t=r,a=this._tags.length;t<a;t++)s.push(this._tags[t]);v=s.join(k.TAG_FORMATTING_SEPARATOR);y.RichContentTooltip.add(v,i);i.appendTo(u);this._setupOverflowEvents(i)}else this._visibleTagsCount=-1;f=0;$.map(u.children(),function(t){f=f+$(t).outerWidth(!0);o._$tagsList.append(t);var i=$(t),r=Number(i.attr("index"));n&&r===o._selectedIndex&&i.focus()});this._width=f;e.remove()},t.prototype._initializeFilterDropdown=function(){var n=this,t,i,r;this._isAutoCompleteVisible=!1;t=function(){n._$tagInput.hide();n._$tagInput.val("");n._$tagInput.autocomplete("disable");$(".tags-filter-overflow-text").toggleClass("pressed",!1)};i=function(t){$.inArray(t,n._tags)>=0&&typeof n._options.availableDropdownSelect=="function"&&n._options.availableDropdownSelect(t)};this._$tagInput=$(d("input","tags-input tags-filter-dropdown-input tag-box")).attr("type","text").attr("placeholder","").hide();this._$tagInput.closest("li.tag-item-delete-experience").attr("aria-hidden","true");this._$tagInput.autocomplete({delay:0,minLength:0,position:{my:"left top",at:"left bottom",offset:"0 -1"},source:function(t,i){var r=n._getMatchesForPrefix(t.term,n._tags.sort(u.localeIgnoreCaseComparer),!0);i(r)},open:function(){n._isAutoCompleteVisible=!0},select:function(n,r){i(r.item.value);t()},change:function(){i(n._$tagInput.val());t()},close:function(){n._isAutoCompleteVisible=!1;n._$tagInput.is(":focus")||(n._$tagInput.val()&&i(n._$tagInput.val()),t())}});this._$tagInput.blur(function(){this._isAutoCompleteVisible||t()});this._$tagInput.focus(function(){n._$tagInput.is(":visible")&&n._$tagInput.autocomplete("search")});this._$tagInput.keydown(function(i){i.keyCode===s.KeyCode.ESCAPE?(n._$tagInput.autocomplete("close"),t()):i.keyCode===s.KeyCode.ENTER&&$.inArray(n._$tagInput.val(),n._tags)>=0&&(typeof n._options.availableDropdownSelect=="function"&&n._options.availableDropdownSelect(n._$tagInput.val()),n._$tagInput.autocomplete("close"),t())});this._$tagInput.data("ui-autocomplete").menu.element.addClass("tags-autocomplete-menu");r=this._getNextZIndex();this._$tagInput.data("ui-autocomplete").menu.element.css("cssText","z-index: "+r+"! important;");this._$tagInput.data("ui-autocomplete")._renderItem=function(n,t){var r=t.label,i=$(d("a")).text(r);return y.RichContentTooltip.addIfOverflow(t.value,i),$(d("li")).data("ui-autocomplete-item",t).append(i).appendTo(n)};$(window).resize(function(){n._$tagInput.autocomplete("close")});$(document.body).append(this._$tagInput)},t.prototype._getNextZIndex=function(){var n=0,t=0;return $("div.ui-dialog").each(function(){var i=$(this).css("z-index"),n=parseInt(i);!isNaN(n)&&n>t&&(t=n)}),t<1001?n=1002:(n=t+2,n%2!=0&&n++),n},t.prototype._overflowClick=function(n){n.children().first().addClass("tags-filter-overflow-text");this._$tagInput||this._initializeFilterDropdown();this._$tagInput.show();this._$tagInput.autocomplete("enable");$(".tags-filter-overflow-text").toggleClass("pressed",!0);this._$tagInput.position({my:"right top",at:"right bottom",of:n.children().first()});this._$tagInput.autocomplete("search");this._$tagInput.focus()},t.prototype._renderItems=function(n){this._$tagInput&&this._$tagInput.data("ui-autocomplete")&&this._$tagInput.autocomplete("close");this._options.type?this._options.type==="grid"?this._renderForGrid():this._options.type==="filter.available"?this._renderFilterAvailable(n):this._options.type==="filter.applied"?this._renderFilterApplied(n):this._options.type==="card"?this._renderForCard():this._options.type==="single.line"&&this._renderForSingleLine():this._render(n);this._renderAddButton(n)},t.prototype._renderTag=function(n,i,r){var o=this,h,f,s;return i||(i=n),h=r===this._selectedIndex,f=g.generateTagContainer(this._options.selectable,this._useDeleteExperience(),r,h),this._useDeleteExperience()&&f.addClass("tag-item-delete-experience"),n!==i&&(y.RichContentTooltip.add(n,f),f.data(t.FullTagNameKey,n)),this._options.selectable&&(f.click(function(t){return o._tagClick(t,n)}),f.keydown({tagName:n},function(n){return o._tagKeyDown(n)})),typeof this._options.tagRenderer=="function"?this._options.tagRenderer(f.find(".tag-container"),n,i):f.find(".tag-box").text(i),this._useDeleteExperience()&&(s=$("<span/>").addClass("tag-delete tag-box-delete-experience").attr("role","button").attr("aria-label",u.format(b.TagsDeleteButton_AriaLabel,n)).attr("dir","ltr").appendTo(f.find(".tag-container")),$("<span/>").addClass("bowtie-icon bowtie-math-multiply-light").appendTo(s),s.click(function(n){o._removeTagAndSetFocus(n,!0)})),f},t.prototype._removeTagAndSetFocus=function(n,i){var r=this,f=n.keyCode===s.KeyCode.DELETE,e=n.keyCode===s.KeyCode.BACKSPACE,o=function(n){var i,u;n[0]&&(r._selectedIndex=Number(n.attr("index")),i=r._getLastIndex(),r._selectedIndex>i&&(r._selectedIndex=i));u=n.data(t.FullTagNameKey)||n.text();r._removeTag(u,!0,!0)},u;(i||f||e||t.shouldKeydownTriggerClick(n))&&!this._readOnly&&(n.preventDefault(),n.stopPropagation(),u=$(n.target).closest(".tag-item"),o(u),u.remove())},t.prototype._removeTag=function(n,t,i){if(n&&f.contains(this._tags,n,u.localeIgnoreCaseComparer)){this._tags.splice($.inArray(n,this._tags),1);var r=this._getLastIndex();this._selectedIndex>r&&this._selectedIndex==r;t?this._renderItems(i):this._renderAddButton(i);this._fireChange({type:tt.Delete,name:n})}},t.prototype._getMatchesForPrefix=function(n,i,r){var o,l,a,s,h,c;if(o=[],n){for(l=$.ui.autocomplete.escapeRegex(n),a=new RegExp("^"+l,"i"),s=0,h=i;s<h.length;s++)if(c=h[s],a.test(c)&&(o.push(c),o.length>t.AUTOCOMPLETE_MATCHES_LIMIT))break}else o=i.length<=t.AUTOCOMPLETE_MATCHES_LIMIT?i:i.slice(0,t.AUTOCOMPLETE_MATCHES_LIMIT);return Boolean(r)||(o=f.subtract(o,this._tags,u.localeIgnoreCaseComparer)),o},t.prototype.gettingSuggestedTagNamesForPrefix=function(n){return __awaiter(this,void 0,void 0,function(){var i,r,o;return __generator(this,function(s){switch(s.label){case 0:return i=[],n.length||p.FeatureAvailabilityService.isFeatureEnabled(l.FeatureAvailabilityFlags.WebAccessWorkItemTrackingDisableTagsMRU)||(i=f.subtract(this._mruList,this._tags,u.localeIgnoreCaseComparer),i.length&&i.indexOf(t.LIST_SUGGESTIONS_HEADER_VALUE)===-1&&(i.unshift(t.LIST_SUGGESTIONS_HEADER_VALUE),i.push(t.LIST_SUGGESTIONS_SEPARATOR_VALUE))),[4,this._getSuggestedValues()];case 1:return r=s.sent(),e.logTracePoint("TagControl.getAutoCompleteMatches.start"),o=this._getMatchesForPrefix(n,r,!1),e.logTracePoint("TagControl.getAutoCompleteMatches.completed"),[2,i.concat(o)]}})})},t.prototype._initializeSuggestedValues=function(){var n=this,i;this._$tagInput.autocomplete({delay:0,minLength:0,position:{my:"left top",at:"left bottom",collision:"flip",offset:"0 -1"},source:function(t,i){n.gettingSuggestedTagNamesForPrefix(t.term).then(function(n){i(n)}).catch(function(){i([])})},select:function(t,i){n.addTag(i.item.value);n._hideInputControl(!0)},change:function(){n.flush()},close:function(){n._$tagInput.is(":focus")||(n._$tagInput.val()&&n.flush(),n._hideInputControl())}});this._$tagInput.data("ui-autocomplete").menu.options.items="> li:not(.menu-item-header)";this._$tagInput.data("ui-autocomplete").menu.element.addClass("tags-autocomplete-menu");i=this._getNextZIndex();this._$tagInput.data("ui-autocomplete").menu.element.css("cssText","z-index: "+i+"! important;");this._$tagInput.data("ui-autocomplete")._renderItem=function(n,i){var u=i.label,r,f;return u===t.LIST_SUGGESTIONS_SEPARATOR_VALUE?(r=$(d("div")).addClass("separator"),$(d("li")).addClass("tag-suggestions-separator").append(r).appendTo(n)):u===t.LIST_SUGGESTIONS_HEADER_VALUE?(r=$(d("div")).text(o.FilteredListSuggestions),$(d("li")).addClass("ui-state-disabled menu-item-header ui-menu-divider").append(r).appendTo(n)):(f=$(d("a")).text(u),y.RichContentTooltip.addIfOverflow(i.value,f),$(d("li")).data("ui-autocomplete-item",i).append(f).appendTo(n))}},t.prototype._getSuggestedValues=function(){if(!this._gettingSuggestedValues){var n=jQuery.Deferred();typeof this._options.beginGetSuggestedValues=="function"?this._options.beginGetSuggestedValues(function(t){n.resolve(t)}):n.resolve([]);this._gettingSuggestedValues=n.promise()}return this._gettingSuggestedValues},t.prototype.resetSuggestedValues=function(){this._gettingSuggestedValues=null},t.prototype._renderAddButton=function(n){var t,i;this._$addButtonContainer&&(this._options.addTagTextOnChange&&(t=this._$addButtonContainer.find(".tag-box"),this._addTagTooltip&&(this._addTagTooltip.dispose(),this._addTagTooltip=null),this._tags.length===0?(t.removeClass("bowtie-icon bowtie-math-plus-light"),t.text(this._options.addButtonText||o.AddButtonText)):(t.text(""),t.append($(d("span","bowtie-icon bowtie-math-plus-light"))),this._addTagTooltip=y.RichContentTooltip.add(this._options.addButtonText||o.AddButtonText,this._$addButtonContainer)),i=this._$addButtonContainer.find(".tag-container"),i.attr("aria-label",this._options.addButtonText||o.AddButtonText)),this._$addButtonContainer.attr("index",this._getLastIndex()),this._selectedIndex===this._getLastIndex()?(this._$addButtonContainer.attr("tabIndex",0),n&&this._$addButtonContainer.focus()):this._$addButtonContainer.attr("tabIndex",-1))},t.prototype._initializeInputElements=function(){var n=this,i;this._$addButtonContainer||(this._$addButtonContainer=g.generateTagContainer(!0,!1,0,!0),this._$addButtonContainer.addClass("tags-add-button"),this._useDeleteExperience()&&this._$addButtonContainer.addClass("tag-item-delete-experience"),this._$addButtonContainer.find(".tag-box").text(this._options.addButtonText||o.AddButtonText),this._$addButtonContainer.click(function(){n._showInputControl()}),this._$addButtonContainer.keydown(function(i){n._updateSelectedIndex(i);t.shouldKeydownTriggerClick(i)?(i.preventDefault(),i.stopPropagation(),n._$addButtonContainer.click()):i.keyCode===s.KeyCode.BACKSPACE&&(i.preventDefault(),i.stopPropagation())}),i=$(d("li")),this._useDeleteExperience()&&i.addClass("tag-item-delete-experience"),this._$tagInput=$(d("input","tags-input tag-box")).attr({type:"text",placeholder:""}).hide(),this._$tagInput.change(function(n){n.stopPropagation();n.preventDefault()}),typeof this._options.beginGetSuggestedValues=="function"&&this._initializeSuggestedValues(),this._$tagInput.focus(function(){n._$tagInput.autocomplete("search")}),this._$tagInput.blur(function(){n._$tagInput.data("ui-autocomplete").menu.element.is(":visible")||n._$tagInput.val()||n._hideInputControl()}),this._$tagInput.keydown(function(t){var i,r;(t.keyCode!==s.KeyCode.ENTER||s.KeyUtils.isModifierKey(t))&&t.keyCode!==s.KeyCode.TAB?t.keyCode===s.KeyCode.ESCAPE&&(t.stopPropagation(),n._hideInputControl(!0)):(i=$(t.target).val(),n._splitAndAddTags(i),r=i.replace(/,|;/g,""),t.keyCode===s.KeyCode.TAB&&r.length===0?(n._hideInputControl(!0),t.shiftKey&&t.preventDefault()):($(t.target).val(""),t.preventDefault(),t.stopPropagation(),typeof n._options.beginGetSuggestedValues=="function"&&n._$tagInput.autocomplete("search")),n._selectedIndex=n._tags.length)}),this._$addButtonContainer.appendTo(this._$tagsList),this._$tagInput.appendTo(i),i.appendTo(this._$tagsList))},t.prototype._useDeleteExperience=function(){return this._options.useDeleteExperience&&!this._readOnly},t.prototype._disposeInputElements=function(){this._$addButtonContainer&&this._$addButtonContainer.remove();this._$tagInput&&this._$tagInput.remove()},t.prototype.flush=function(){if(this._$tagInput){var n=this._$tagInput.val();n&&this._splitAndAddTags(n);this._hideInputControl()}},t.enhancementTypeName="tfs.ui.tagcontrol",t.AUTOCOMPLETE_CHARACTER_LIMIT=15,t.AUTOCOMPLETE_MATCHES_LIMIT=200,t.FILTER_DROPDOWN_WIDTH=150,t.coreCssClass="tfs-tags",t.FullTagNameKey="fullTagName",t.LIST_SUGGESTIONS_SEPARATOR_VALUE=";;;;;",t.LIST_SUGGESTIONS_HEADER_VALUE=";SUGGESTIONS;",t}(h.Control);t.TagControl=nt;i.initClassPrototype(nt,{_tags:null,_$tagsList:null,_$tagInput:null,_$addButtonContainer:null,_gettingSuggestedValues:null,_width:null});g=function(){function n(){}return n.renderTagCellContents=function(n,t,i,r){var o,u,f,s;return o=i.getColumnValue.call(n,t,i.index,r),u=o?o.split(k.TAG_SPLITTING_SEPARATOR):[],$.each(u,function(n,t){u[n]=t.trim()}),f=$(d("div","grid-cell")),f.width(i.width||20),u&&u.length>0?(h.BaseControl.createIn(nt,f,{tags:u,readOnly:!0,type:"grid"}),s=u.join("     "),i.maxLength=Math.max(i.maxLength||0,s.length)):f.html("&nbsp;"),f},n.generateTagContainer=function(n,t,i,r){var f=$(d("li","tag-item")).attr("index",i),u=$(d("span","tag-container")),e=$(d("span","tag-box"));return n&&(r?f.attr("tabindex",0):f.attr("tabindex",-1),t?(e.addClass("tag-box-delete-experience"),u.addClass("tag-container-delete-experience")):(u.addClass("tag-container-selectable"),e.addClass("tag-box-selectable"))),e.attr("dir","ltr"),u.attr("dir","ltr"),u.append(e),f.append(u),f},n.enhancementTypeName="tfs.ui.tagutilities",n}();t.TagUtilities=g;i.tfsModuleLoaded("TFS.UI.Tags",t)});

define("WorkItemTracking/Scripts/Utils/PermissionHandler",["require","exports","VSS/Service","VSS/Contributions/Services","jQueryUI/droppable"],function(n,t,i,r){function u(){var u=i.getService(r.WebPageDataService),n=u.getPageData(t.BACKLOGPERMISSION_DATAPROVIDER_ID);return!n?!1:n.hasPermission}Object.defineProperty(t,"__esModule",{value:!0});t.hasAgileToolsBacklogManagementPermission=t.BACKLOGPERMISSION_DATAPROVIDER_ID=void 0;t.BACKLOGPERMISSION_DATAPROVIDER_ID="ms.vss-work-web.backlog-permission-data-provider";t.hasAgileToolsBacklogManagementPermission=u});

define("WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.Accessories",["require","exports","VSS/Controls","VSS/Diag","VSS/Identities/Picker/Controls","VSS/Identities/Picker/Services","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/VSS","VSS/Service","VSS/Utils/String","VSS/Telemetry/Services","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/FeatureRef/TFS.TeamAwarenessService","TfsCommon/Scripts/WITIdentityHelpers","WorkItemTracking/Scripts/Utils/PermissionHandler","WorkItemTracking/Scripts/Utils/WitIdentityImages","WorkItemTracking/Scripts/Utils/WorkItemControlsActions","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/SharedScripts/WorkItemDialogShim"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){Object.defineProperty(t,"__esModule",{value:!0});t.CommonContextMenuItems=void 0;var tt;(function(n){function t(t,i,u,f,o,h){function l(l,y,p){var w=a.ProjectCollection.getConnection(t).getService(v.TeamAwarenessService);w.beginGetTeamSettings(i).then(function(t){function l(n){typeof o=="function"?o(n.selectedWorkItems,n.iterationPath):s.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.BulkEdit"],function(t){t.bulkUpdateWorkItems(n.tfsContext,n.selectedWorkItems,[{fieldName:"System.IterationPath",value:n.iterationPath}],u,f)});typeof h=="function"&&h(n)}var i=[];t.backlogIteration?(i.push({id:n.MOVE_TO_ITERATION_ACTION_NAME,text:e.MoveToIteration_Backlog,arguments:{iterationPath:t.backlogIteration.friendlyPath},title:t.backlogIteration.friendlyPath,action:l,cssClass:"move-to-backlog-context-menu-item",icon:"bowtie-icon bowtie-backlog"}),t.currentIteration&&i.push({id:n.MOVE_TO_ITERATION_ACTION_NAME,text:c.format(e.MoveToIteration_Current,t.currentIteration.displayText),arguments:{iterationPath:t.currentIteration.friendlyPath},title:t.currentIteration.friendlyPath,action:l,cssClass:"move-to-current-iteration-context-menu-item",icon:"bowtie-icon bowtie-triangle-right"}),t.futureIterations&&t.futureIterations.length>0&&(i.push({separator:!0,text:e.FutureIterations}),$.each(t.futureIterations,function(t,r){i.push({id:n.MOVE_TO_ITERATION_ACTION_NAME,text:r.displayText,arguments:{iterationPath:r.friendlyPath},title:r.friendlyPath,cssClass:"move-to-future-iteration-context-menu-item",action:l})}))):i.push({text:e.MissingTeamSettingsError,icon:"icon-warning"});y(i);r.logTracePoint("CommonContextMenuItems.getMoveToIterationContextMenuItem.Complete")},typeof f=="function"?f:p)}return{id:n.MOVE_TO_ITERATION_ACTION_NAME,rank:13,text:e.MoveToIteration,childItems:l,disabled:u.disabled,groupId:"modify"}}function tt(t,o,a,v){var p,nt=function(n){o.executeAction?o.executeAction(n):s.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.BulkEdit"],function(t){t.bulkUpdateWorkItems(n.tfsContext,n.selectedWorkItems,[{fieldName:d.CoreFieldRefNames.AssignedTo,value:u.EntityFactory.isStringEntityId(n.identity.entityId)?null:y.WITIdentityHelpers.getUniquefiedIdentityName(n.identity)}],o,a)});typeof v=="function"&&v(n)},b=function(t,r){var o={id:n.ASSIGN_TO_ACTION_NAME,action:nt,arguments:{identity:t}},s,e,h;return r||(s=c.ignoreCaseComparer(t.localDirectory,f.ServiceHelpers.VisualStudioDirectory)===0?t.localId:t.signInAddress),e=$("<span/>"),h={identityType:{User:!0},operationScope:{IMS:!0},item:r?t:s,friendlyDisplayName:t.displayName,size:u.IdentityPickerControlSize.Large,turnOffHover:!0,consumerId:"5f71c9a2-a5aa-41c8-b3e0-0f82e20e5c42"},i.BaseControl.create(u.IdentityDisplayControl,e,h),$.extend(o,{html:e,showText:!1,noIcon:!0}),o};return p=function(n,t,i){r.logTracePoint("CommonContextMenuItems._getChildItems.start");var e=Date.now(),o=h.getService(f.MruService);o.getMruIdentities({IMS:!0},f.MruService.DEFAULT_IDENTITY_ID,f.MruService.DEFAULT_FEATURE_ID).then(function(n){var o=[],i,s,h;for(o.push(b(u.EntityFactory.createStringEntity(k.AssignedToEmptyText,w.WitIdentityImages.UnassignedImageUrl),!0)),n=n.filter(function(n){return n.active!==!1&&c.ignoreCaseComparer(n.entityType,f.ServiceHelpers.UserEntity)===0}),i=0,s=n;i<s.length;i++)h=s[i],o.push(b(h));t(o);r.logTracePoint("CommonContextMenuItems.getAssignedToContextMenuItem.Complete");l.publishEvent(new l.TelemetryEventData(g.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,g.WITCustomerIntelligenceFeature.TELEMETRY_ASSIGNTO_POPULATEMENU,{PeopleCount:n?n.length:null},e))},typeof a=="function"?a:i)},{id:n.ASSIGN_TO_ACTION_NAME,rank:o.assignedToRank||13,text:o.title?o.title:e.TeamAwarenessAssignTo,title:o.tooltip?o.tooltip:e.TeamAwarenessAssignToTooltip,icon:"bowtie-icon bowtie-users",childItems:p,groupId:"modify"}}function it(n,t,i){var r=t?t:"WorkItemTracking.Controls.Accesories",u=[{id:b.WorkItemActions.ACTION_WORKITEM_OPEN,rank:1,text:o.Open,icon:"bowtie-icon bowtie-arrow-open",groupId:"open",action:function(n){nt.showWorkItemById(n.id,n.tfsContext,{triage:i});l.publishEvent(new l.TelemetryEventData(g.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,g.WITCustomerIntelligenceFeature.TELEMETRY_OPENWORKITEM_CONTEXTMENU,{openNewWindow:!1,source:r}))}},{id:b.WorkItemActions.ACTION_WORKITEM_OPEN_IN_NEW_TAB,rank:2,text:o.OpenInNewTab,groupId:"open",action:function(n){nt.showWorkItemByIdInNewTab(n.id,n.tfsContext);l.publishEvent(new l.TelemetryEventData(g.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,g.WITCustomerIntelligenceFeature.TELEMETRY_OPENWORKITEM_CONTEXTMENU,{openNewWindow:!0,source:r}))}}];return u.map(function(t){return $.extend(t,n)})}function rt(t){function u(n){var t=i._columns,r=$.map(t||[],function(n){if(n.fieldId)return n.name});s.requireModules(["Admin/Scripts/TFS.Admin.SendMail","WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls","WorkItemTracking/Scripts/Dialogs/Models/EmailWorkItems"]).spread(function(t,u,f){t.Dialogs.sendMail(new f.EmailWorkItemsDialogModel({workItemSelectionOption:{workItems:n.selectedWorkItems,fields:r,store:i._store}}))})}var i=t.grid;return{id:n.EMAIL_SELECTION_ACTION_NAME,rank:71,text:o.EmailSelectedWorkItem,title:o.EmailSelectedWorkItemToolTip,icon:"bowtie-icon bowtie-mail-message",action:u,groupId:"export"}}function ut(t,i){t.items.push({rank:12,separator:!0});t.items.push(n.getAssignToContextMenuItem(i.tfsContext,i,null,function(t){l.publishEvent(new l.TelemetryEventData(g.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,c.format("{0}.{1}",n.QUERIES_COMMAND_FEATURE_NAME,n.ASSIGN_TO_ACTION_NAME),{numSelectedItems:t&&t.selectedWorkItems?t.selectedWorkItems.length:0,source:"contextMenu"}))}));i.tfsContext&&i.tfsContext.currentTeam&&i.enableTeamActions&&p.hasAgileToolsBacklogManagementPermission()&&t.items.push(n.getMoveToIterationContextMenuItem(i.tfsContext,i.tfsContext.currentTeam.identity.id,i,null,null,function(t){l.publishEvent(new l.TelemetryEventData(g.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,c.format("{0}.{1}",n.QUERIES_COMMAND_FEATURE_NAME,n.MOVE_TO_ITERATION_ACTION_NAME),{numSelectedItems:t&&t.selectedWorkItems?t.selectedWorkItems.length:0,source:"contextMenu"}))}))}function ft(t,i){i.tfsContext.currentTeam&&i.enableTeamActions&&(t.items=t.items.concat([{rank:13,separator:!0},n.getAssignToContextMenuItem(i.tfsContext,i)]))}n.ASSIGN_TO_ACTION_NAME="assign-to";n.MOVE_TO_ITERATION_ACTION_NAME="move-to-iteration";n.EMAIL_SELECTION_ACTION_NAME="email-selection";n.QUERIES_COMMAND_FEATURE_NAME="QueriesCommand";n.getMoveToIterationContextMenuItem=t;n.getAssignToContextMenuItem=tt;n.getOpenWorkItemContextMenuItems=it;n.getEmailSelectionContextMenuItem=rt;n.contributeQueryResultGrid=ut;n.contributeTestPointsGrid=ft})(tt=t.CommonContextMenuItems||(t.CommonContextMenuItems={}));s.tfsModuleLoaded("TFS.WorkItemTracking.Controls.Accessories",t)});

define("WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.RecycleBin.DialogShim",["require","exports","VSS/VSS","VSS/Performance"],function(n,t,i,r){function e(n,t,i,r,u){f("RestoreConfirmationDialog",function(f){f.RestoreConfirmationDialog.showDialog(function(){f.RecycleBin.beginRestoreWorkItems(t,i,n,r,function(){},u)})})}function o(n,t,i,r,u,e){f("DeleteConfirmationDialog",function(f){f.DeleteConfirmationDialog.showDialog(!1,function(){f.RecycleBin.beginDeleteWorkItems(t,i,n,r,u,!1,!1,e)})})}function s(n,t,i,r,u){f("DestroyConfirmationDialog",function(f){f.DestroyConfirmationDialog.showDialog(function(){f.RecycleBin.beginDestroyWorkItems(t,i,n,r,function(){},u)})})}function f(n,t,f){if(u)t(u);else{var e=r.getScenarioManager().startScenario("WIT","RecycleBin.DialogShim");i.requireModules(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.RecycleBin"]).spread(function(n){u=n;e.end();t(n)},f)}}Object.defineProperty(t,"__esModule",{value:!0});t.showDestroyConfirmationDialog=t.showDeleteConfirmationDialog=t.showRestoreConfirmationDialog=void 0;t.showRestoreConfirmationDialog=e;t.showDeleteConfirmationDialog=o;t.showDestroyConfirmationDialog=s;var u});

define("WorkItemTracking/Scripts/Utils/Events",["require","exports"],function(n,t){var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.QueryUIEvents=t.QueryResultsGridEvents=t.FullScreenEvents=t.WorkItemEvents=void 0,function(n){n.BEFORE_BULK_EDIT="BeforeWorkItemBulkEdit";n.AFTER_BULK_EDIT="AfterWorkItemBulkEdit";n.BULK_EDIT_ERROR="WorkItemBulkEditError"}(i=t.WorkItemEvents||(t.WorkItemEvents={})),function(n){n.EXIT_FULL_SCREEN="wit-exit-fullscreen";n.FULL_SCREEN_EXITED="wit-fullscreen-mode-exited"}(r=t.FullScreenEvents||(t.FullScreenEvents={})),function(n){n.RESULTS_MODEL_CHANGED="queryResultsModelChanged"}(u=t.QueryResultsGridEvents||(t.QueryResultsGridEvents={})),function(n){n.EVENT_FOLDERTREE_SET_FOCUS_ITEM="query-folder-set-focus-item";n.EVENT_QUERYEDITOR_SET_FOCUS_ON_FIRST_ITEM="query-editor-set-focus-on-first-item";n.EVENT_SOURCE_QUERYFOLDERTREE="query-event-source-query-folder-tree";n.EVENT_SOURCE_TOOLBAR="query-event-source-toolbar"}(f=t.QueryUIEvents||(t.QueryUIEvents={}))});

define("Presentation/Scripts/TFS/TFS.Core.WebApi",["require","exports","VSS/WebApi/RestClient"],function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0});t.TemporaryDataHttpClient=t.IdentityMruHttpClient=void 0;r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetMru=function(n){return this._beginRequest({area:t.IdentityMruArea,locationId:t.IdentityMruLocationId,httpMethod:"GET",responseIsCollection:!0,routeValues:{mruName:n}})},t.prototype.beginPostMruIdentity=function(n,i){return this._beginRequest({area:t.IdentityMruArea,locationId:t.IdentityMruLocationId,httpMethod:"POST",routeValues:{mruName:n},data:{identityIds:i}})},t.prototype.beginDeleteMruIdentity=function(n,i){return this._beginRequest({area:t.IdentityMruArea,locationId:t.IdentityMruLocationId,httpMethod:"DELETE",routeValues:{mruName:n},data:{identityIds:i}})},t.IdentityMruArea="core",t.IdentityMruLocationId="5EAD0B70-2572-4697-97E9-F341069A783A",t}(i.VssHttpClient);t.IdentityMruHttpClient=r;u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetTemporaryData=function(n){return this._beginRequest({area:t.TemporaryDataArea,locationId:t.TemporaryDataLocationId,httpMethod:"GET",routeValues:{id:n}})},t.prototype.beginCreateTemporaryData=function(n){return this._beginRequest({area:t.TemporaryDataArea,locationId:t.TemporaryDataLocationId,httpMethod:"POST",data:n})},t.TemporaryDataArea="properties",t.TemporaryDataLocationId="B4B570EF-1775-4093-9218-AFB7E4C8AEF6",t}(i.VssHttpClient);t.TemporaryDataHttpClient=u});

define("WorkItemTracking/Scripts/Utils/TempQueryUtils",["require","exports","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.Core.WebApi","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.TempQueryUtils=void 0;var f;(function(n){function f(n,t,u){var f=i.ProjectCollection.getConnection(n).getHttpClient(r.TemporaryDataHttpClient),e={queryText:t,queryType:u};return f.beginCreateTemporaryData({value:e}).then(function(n){return n.id})}function e(n,i){return"<br><a href='".concat(t(n,i),"' target='_blank' style='color:#FF0000'>").concat(u.CopySelectedWorkitemsOpenAsQuery,"<\/a>")}function t(n,t){return n.getPublicActionUrl("","queries",{tempQueryId:t})}n.beginCreateTemporaryQueryId=f;n.createTempQueryLink=e;n.createTempQueryUrl=t})(f=t.TempQueryUtils||(t.TempQueryUtils={}))});

define("WorkItemTracking/Scripts/Utils/UseWitDialog",["require","exports","VSS/VSS"],function(n,t,i){function r(){return i.requireModules(["WorkItemTracking/Scripts/Dialogs/WITDialogs"]).spread(function(n){return n})}Object.defineProperty(t,"__esModule",{value:!0});t.useWITDialogs=void 0;t.useWITDialogs=r});

define("WorkItemTracking/Scripts/Utils/WorkItemHtmlTableFormatter",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","WorkItemTracking/Scripts/ActionUrls","VSS/Utils/HtmlTableFormatter","VSS/Utils/String","VSS/Utils/Core","WorkItemTracking/Scripts/Utils/WorkItemIdentityHelper"],function(n,t,i,r,u,f,e,o,s){var h,c;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemHtmlTableFormatter=t.WorkItemHtmlTableFormatType=void 0,function(n){n[n.PlainText=0]="PlainText";n[n.Date=1]="Date";n[n.Identity=2]="Identity"}(h=t.WorkItemHtmlTableFormatType||(t.WorkItemHtmlTableFormatType={}));c=function(n){function t(i,u){var f=n.call(this,i,u.map(function(n){return __assign(__assign({},n),{isValueHtml:t.isHtmlField(n.fieldReferenceName)})}))||this;return f._tfsContext=r.TfsContext.getDefault(),f}return __extends(t,n),t.prototype._getCellValue=function(n,r){var f=this._rows[n][r.index],u;return e.equals(r.fieldReferenceName,i.CoreFieldRefNames.Id,!0)?t.getIdColumnValue(parseInt(f,10),this._tfsContext):(u=r.formatType,(u===undefined||u===null)&&(u=t._getColumnFormatType(f)),u===h.Identity)?t.getIdentityValue(f):u===h.Date?o.convertValueToDisplayString(new Date(f)):o.convertValueToDisplayString(f)},t.getIdentityValue=function(n){var t=s.convertWorkItemIdentityRefFromFieldValue(n);return t.identityRef.displayName||e.empty},t.getIdColumnValue=function(n,t){var i=t.getPublicActionUrl(u.ActionUrl.ACTION_EDIT,"workitems",{parameters:[n]});return'<a href="'.concat(i,'" style="color:#106ebe" target="_blank">').concat(n,"<\/a>")},t.isHtmlField=function(n){return e.equals(i.CoreFieldRefNames.Id,n,!0)},t._getColumnFormatType=function(n){return s.isWorkItemIdentityRef(n)||s.isIdentityRef(n)?h.Identity:n instanceof Date?h.Date:h.PlainText},t}(f.HtmlTableFormatter);t.WorkItemHtmlTableFormatter=c});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))};define("WorkItemTracking/Scripts/Controls/Query/QueryResultGrid",["require","exports","Notifications/RestClient","Notifications/Services","OfficeFabric/Icon","Presentation/Scripts/TFS/Components/WorkItemTypeIcon","Presentation/Scripts/TFS/FeatureRef/WorkItemStateCellRenderer","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","q","react","react-dom","TFS/WorkItemTracking/Contracts","TfsCommon/Scripts/KeyboardShortcuts","TfsCommon/Scripts/WITIdentityHelpers","VSS/Artifacts/Constants","VSS/Controls","VSS/Controls/Dialogs","VSS/Controls/Grids","VSS/Controls/Menus","VSS/Controls/Navigation","VSS/Controls/Notifications","VSS/Controls/PopupContent","VSS/Diag","VSS/Error","VSS/Events/Services","VSS/FeatureAvailability/Services","VSS/Identities/Picker/Controls","VSS/LWP","VSS/Resources/VSS.Resources.Common","VSS/Service","VSS/Telemetry/Services","VSS/Utils/Array","VSS/Utils/Clipboard","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/Html","VSS/Utils/Number","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","WorkItemTracking/Scripts/Controls/Filters/WorkItemFilterConstants","WorkItemTracking/Scripts/Controls/ImportCSVPanel","WorkItemTracking/Scripts/Controls/ImportWorkItemsProvider","WorkItemTracking/Scripts/Controls/ProgressBarOverlay","WorkItemTracking/Scripts/Controls/Query/ParentFieldProvider","WorkItemTracking/Scripts/Controls/WorkItemForm/LoadingSpinnerOverlay","WorkItemTracking/Scripts/Controls/WorkItemsNavigator","WorkItemTracking/Scripts/Controls/WorkItemsProvider","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/Scripts/Filtering/FilterManager","WorkItemTracking/Scripts/MenuItems/DeleteMenuItemCommonHelper","WorkItemTracking/Scripts/OM/QueryAdapter","WorkItemTracking/Scripts/OM/QueryConstants","WorkItemTracking/Scripts/OM/QueryItem","WorkItemTracking/Scripts/OM/WiqlOperators","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemManager","WorkItemTracking/Scripts/Queries/Components/TriagePivot/TriageHubZeroDataUtils","WorkItemTracking/Scripts/RecycleBinConstants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.Common","WorkItemTracking/Scripts/TFS.UI.Tags","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.Accessories","WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.RecycleBin.DialogShim","WorkItemTracking/Scripts/Utils/Events","WorkItemTracking/Scripts/Utils/PerfScenarioManager","WorkItemTracking/Scripts/Utils/TagUtils","WorkItemTracking/Scripts/Utils/TempQueryUtils","WorkItemTracking/Scripts/Utils/UseWitDialog","WorkItemTracking/Scripts/Utils/WitControlMode","WorkItemTracking/Scripts/Utils/WorkItemControlsActions","WorkItemTracking/Scripts/Utils/WorkItemHtmlTableFormatter","WorkItemTracking/Scripts/Utils/WorkItemPermissionDataHelper","WorkItemTracking/Scripts/Utils/WorkItemViewActions","WorkItemTracking/SharedScripts/WorkItemDialogShim","VSS/LoaderPlugins/Css!Controls/Query/QueryResultGrid"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,ir,rr,ur,fr,er,or,sr,hr,cr,lr,ar,vr,yr,pr,wr){function eu(n,t){var r,i,u;return n&&n.name===bi.Exceptions.WorkItemBulkSaveException&&(r=void 0,i=$("<div/>"),$.each(n.results,function(n,t){t.error&&i.append($("<div/>").append($("<div/>").text(dt.format(nr.TriageViewWorkItemSaveError,t.workItem.id))).append($("<div/>").text(nu(t.error))))}),i.children().length>0)?(t===i.children().length?r=$("<div/>").append($("<div/>").text(dt.format(nr.FailedToSaveNWorkItems,i.children().length))).append($("<br>")):(u=t-i.children().length,r=$("<div/>").append($("<div/>").text(dt.format(nr.SucessfullySavedNWisButFailedToSave,u,i.children().length))).append($("<br>")).append($("<div/>").text(nr.FollowingWisCouldNotBeSaved)).append($("<br>"))),i.append($("<br>")).append($("<div/>").text(nr.CorrectWisAndTryAgain)),$("<div/>").append(r).append(i)):null}function lu(n,t,i,r,u,f,e){var o=t.project.store.tfsConnection.getService(vi.QueryAdapter);su(n,o,i,r,u,f,e)}function su(n,t,i,r,u,f,e){var o=au(i);t.beginGenerateWiql(o,r,u,function(t){hr.TempQueryUtils.beginCreateTemporaryQueryId(n,t,y.QueryType[y.QueryType.Flat]).then(f,e)},e)}function au(n){var t,i;return!n||n.length===0?null:(t=[],t.push({logicalOperator:"",fieldName:s.CoreFieldRefNames.Id,operator:tr.WiqlOperators_In,value:n.toString(),index:0}),i={clauses:t,groups:[]},{mode:yi.LinkQueryMode.WorkItems,treeLinkTypes:"",linkTypes:"",sourceFilter:i,treeTargetFilter:{},linkTargetFilter:{}})}function vu(n,t,u,f){var l=0,a=0,h;if(n&&n.length>0){var e=!1,o={},v=c.ProjectCollection.getConnection(u).getService(r.FollowsService),y={artifactId:null,artifactType:s.FollowsConstants.ArtifactType,type:r.FollowsService.FOLLOWS_TYPE,artifactUri:null,eventType:""},p={filter:y,subscriptionId:null,scope:"",subscriberId:"",flags:null},w={conditions:[p],queryFlags:null},k=lt.getCollectionClient(i.NotificationHttpClient,v.getWebContext());k.querySubscriptions(w).then(function(t){for(var r,u,i=0;i<t.length;i++)r=t[i],u=r.filter,o[u.artifactId]=r.id;n.forEach(function(n){if(o[n]){var t={subscriptionId:parseInt(o[n]),artifactId:n.toString(),artifactType:b.ArtifactTypeNames.WorkItem};v.unfollowArtifact(t).then(function(){l++;delete o[n];h()},function(){a++;e||(tu.fire(pr.WorkItemViewActions.WORKITEM_VIEW_MESSAGE_CHANGE,f,{message:nr.BulkUnfollowsFailed,messageType:it.MessageAreaType.Error}),e=!0);h()})}})},function(){e||(tu.fire(pr.WorkItemViewActions.WORKITEM_VIEW_MESSAGE_CHANGE,f,{message:nr.BulkUnfollowsFailed,messageType:it.MessageAreaType.Error}),e=!0);h()})}h=function(){if(l+a===n.length){var t={NumberOfSelectedWorkItems:n.length,SuccessfulUnfollows:l,UnsuccessfulUnfollows:a};at.publishEvent(new at.TelemetryEventData(ci.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ci.WITCustomerIntelligenceFeature.WORKITEM_BULKUNFOLLOWS,t))}}}function hu(){k.Enhancement.registerEnhancement(br,".query-result-grid")}var br,ru,ou,iu;Object.defineProperty(t,"__esModule",{value:!0});t.registerEnhancements=t.createTemporaryQueryIdForSelectedWorkItemIds=t.QueryResultHtmlTableFormatter=t.QueryResultGridShortcutGroup=t.QueryResultGridPager=t.QueryResultGrid=t.getBulkSaveErrorMessageHtml=void 0;var uu=ni.handleError,nu=ni.getErrorMessage,fu=h.TfsContext,kr=pt.delegate,cu=gt.domElem,tu=et.getService(),dr,gr;t.getBulkSaveErrorMessageHtml=eu;br=function(n){function t(i){var r=__construct(this,n,[i]);for(var f in r)r.hasOwnProperty(f)&&(this[f]=r[f]);return r._isShowingExpandCollapseColumns=!1,r._enableCopyQueryCommand=!0,r._workItemTypeIconCells=[],r._fullScreenCIDelegate=function(n,t){t.workItemCount=r._count},r.renderLoadingCell=function(n){var i=r.getCellContextMenu(n),t;n.empty();t=$("<div/>").addClass("shimmer shimmer-line").html("&nbsp");t.fadeIn("slow");n.append(i);n.append(t)},r.renderProgressBarContent=function(n,t,i,u){var h=r.getCellContextMenu(n);if(n.empty(),t!==0||i!==0){var f=Math.floor(t/i*100),c=f<100?"in-progress":"completed",o=dt.format(nr.ProgressBarTooltip,t,i,u),s=$("<div/>").addClass("progress-bar-container"),e=$("<div/>").addClass("progress-bar-background").attr({tabindex:"-1","aria-label":"".concat(o)}),l=$("<div/>").addClass("progress-bar ".concat(c)).css("width","".concat(f,"%")),a=$("<div/>").addClass("progress-percentage-text").text(dt.format(nr.ProgressPercentage,f));rt.RichContentTooltip.add(o,e);e.append(l);s.append(e).append(a);n.append(h);n.append(s)}},r.renderRollupCountContent=function(n,t,i){var f=r.getCellContextMenu(n),u;n.empty();u=$("<span/>");u.text(t);rt.RichContentTooltip.add(dt.format(nr.RollupTotalByTooltip,t,i),u);n.append(f);n.append(u)},r.renderErrorCell=function(n,t){var e=r.getCellContextMenu(n),i,f;n.empty();i=document.createElement("span");f=a.createElement(u.Icon,{className:"error-icon",iconName:"Error"});v.render(f,i);rt.RichContentTooltip.add(t,i);n.append(e);n.append(i)},r.getCellContextMenu=function(n){return n.find(".grid-context-menu-container")},r.renderRollupCell=function(n,t,i,u,f){return __awaiter(r,void 0,void 0,function(){var r,o,e,s;return __generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),n.checkAndUpdateWorkItemIds(this._workItems),this.renderLoadingCell(i),[4,n.getRollupData(t)];case 1:return r=h.sent(),[4,this.getRollupColumnDisplayName(n.getRollupMetric(),f)];case 2:return o=h.sent(),e=$("<div />").append(o),r!=null?(this._renderRollupVisualization(i,r,n),u(!0,e)):(i.empty(),u(!1,e)),[3,4];case 3:return s=h.sent(),this.renderErrorCell(i,s),[3,4];case 4:return[2]}})})},r._renderRollupVisualization=function(n,t,i){return __awaiter(r,void 0,void 0,function(){var u,r;return __generator(this,function(f){switch(f.label){case 0:return t.errorMessage?(this.renderErrorCell(n,t.errorMessage),[3,3]):[3,1];case 1:return u=i.getRollupMetric(),[4,i.getTooltipLabel()];case 2:r=f.sent();switch(u.type){case gr.Progress:this.renderProgressBarContent(n,t.completedWorkCount,t.totalWorkCount,r);break;case gr.Total:this.renderRollupCountContent(n,t.totalWorkCount,r)}f.label=3;case 3:return[2]}})})},r.renderRollupHeaderCell=function(n,t,i,u,f){return __awaiter(r,void 0,void 0,function(){var r;return __generator(this,function(e){switch(e.label){case 0:return[4,this.getRollupColumnDisplayName(n,f)];case 1:return r=e.sent(),t.empty(),t.append(i).append(" "+r),u(!0,$("<div />").append(r)),[2]}})})},r.getRollupColumnDisplayName=function(n,i){return __awaiter(r,void 0,void 0,function(){var u,r,f,e,o=this;return __generator(this,function(s){switch(s.label){case 0:return(u=this.getStore(),r="",!(gr==null||dr==null))?[3,2]:(t.contributionPromise||(f=ht.getLWPService("IVssContributionService"),t.contributionPromise=f.getContributionsAsync(["ms.vss-analytics.analytics-common","ms.vss-analytics.rollup-queries"]).then(function(){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,ni.requireModules(["Analytics/Boards/RollupQueries/Contracts"]).spread(function(n){dr=n.RollupAggregation;gr=n.RollupType})];case 1:return n.sent(),[2]}})})})),[4,t.contributionPromise]);case 1:s.sent();s.label=2;case 2:e=n.type;switch(e){case gr.Progress:return[3,3];case gr.Total:return[3,15]}return[3,27];case 3:return n.workItemTypeFilter?(n.aggregation===dr.Sum)?[4,this.getFieldDefinitionDisplayName(nr.RollupColumn_ProgressBy_Filter_Field,n.aggregationField,u,n.workItemTypeFilter)]:[3,5]:[3,7];case 4:return r=s.sent(),[3,6];case 5:r=dt.format(nr.RollupColumn_ProgressBy_WorkItemType,n.workItemTypeFilter);s.label=6;case 6:return[3,14];case 7:return n.backlogFilter?(n.aggregation===dr.Sum)?[4,this.getFieldDefinitionDisplayName(nr.RollupColumn_ProgressBy_Filter_Field,n.aggregationField,u,i)]:[3,9]:[3,11];case 8:return r=s.sent(),[3,10];case 9:r=dt.format(nr.RollupColumn_ProgressBy_Backlog,i);s.label=10;case 10:return[3,14];case 11:return(n.aggregation===dr.Sum)?[4,this.getFieldDefinitionDisplayName(nr.RollupColumn_ProgressBy_EffortField,n.aggregationField,u)]:[3,13];case 12:return r=s.sent(),[3,14];case 13:r=nr.RollupColumn_ProgressBy_AllCompletedDescendants;s.label=14;case 14:return[3,27];case 15:return n.workItemTypeFilter?(n.aggregation===dr.Sum)?[4,this.getFieldDefinitionDisplayName(nr.RollupColumn_TotalBy_Filter_Field,n.aggregationField,u,n.workItemTypeFilter)]:[3,17]:[3,19];case 16:return r=s.sent(),[3,18];case 17:r=dt.format(nr.RollupColumn_TotalBy_WorkItemType,n.workItemTypeFilter);s.label=18;case 18:return[3,26];case 19:return n.backlogFilter?(n.aggregation===dr.Sum)?[4,this.getFieldDefinitionDisplayName(nr.RollupColumn_TotalBy_Filter_Field,n.aggregationField,u,i)]:[3,21]:[3,23];case 20:return r=s.sent(),[3,22];case 21:r=dt.format(nr.RollupColumn_TotalBy_Backlog,i);s.label=22;case 22:return[3,26];case 23:return(n.aggregation===dr.Sum)?[4,this.getFieldDefinitionDisplayName(nr.RollupColumn_TotalBy_FieldName,n.aggregationField,u)]:[3,25];case 24:return r=s.sent(),[3,26];case 25:r=nr.RollupColumn_TotalBy_AllDescendants;s.label=26;case 26:return[3,27];case 27:return[2,r]}})})},r.renderTitleCell=function(n,t,i,u,f,e,s,h,c,l){var y,a,v,p;f.empty();c===e&&s>0&&(y=f.css("text-indent"),f.css("text-indent","0px"),f.css("padding-left",y));r.renderWorkItemTypeColorAndIcon(f,i,n,u,h);r._workItemTypeIconCells.push(f);!r.isUnparentedRow(n)&&r._allowInteractionWithTitle&&ot.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WebAccessAgileBacklogOneClickOpen)?(v=r._options.tfsContext,p=v.getActionUrl(n>0?"edit":"create","workitems",{project:v.navigation.project,team:v.navigation.team,parameters:[n>0?n:r.getWorkItemTypeNameById(n)]}),a=$('<a class="work-item-title-link" href=\''.concat(p,"'/>")).text(t),a.click(function(t){var i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||t.which===2||t.button===1;if(!i)if(t.preventDefault(),l)wr.showWorkItemDialogById(n,r._options.tfsContext);else if(r._allowSingleClickOpen)r.onOpenRowDetail({dataIndex:h,workItemId:n})}),a.keydown(function(t){var i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;if(!i&&(t.keyCode===gt.KeyCode.ENTER||t.keyCode===gt.KeyCode.SPACE))if(t.preventDefault(),l)wr.showWorkItemDialogById(n,r._options.tfsContext);else if(r._allowSingleClickOpen)r.onOpenRowDetail({dataIndex:h,workItemId:n})}),a.contextmenu(function(n){n.stopPropagation()})):a=$("<span/>").text(t);f.append(a)},r._checkForEmptyCurrentIteration=function(n,t){var o,i,h,f,c,u,e,l,a,v;if(!t.error&&(o=n.getId(),o!==r._previousProviderId)&&(r._previousProviderId=o,i=t.editInfo,h=r.getStore(),i&&h)){var y=i.sourceFilter,p=i.treeTargetFilter,w=i.linkTargetFilter,b=tr.WiqlOperators_MacroCurrentIteration,k=new RegExp("(@".concat(b,")(?!\\()"),"gi");for(f=0,c=[y,p,w];f<c.length;f++)if(u=c[f],u&&u.clauses&&u.clauses.length!==0)for(e=0,l=u.clauses;e<l.length;e++)if((a=l[e],v=h.getFieldDefinition(a.fieldName),v&&v.referenceName===s.CoreFieldRefNames.IterationPath)&&a.value.match(k)){tu.fire(pr.WorkItemViewActions.WORKITEM_VIEW_INFO_CHANGE,null,nr.DefaultingCurrentIterationTeam);break}}},r._onFilterChanged=function(){r._applyFilter()},r._onUnfilter=function(){r.restoreUnfilteredState()},r._onFilterActivated=function(){r._pageFirstThousand()},r._refreshDelegate=kr(r,r.refresh),r._workItemChangedDelegate=kr(r,r.workItemChanged),r._navigateNextDelegate=kr(r,r._onNavigateNext),r._navigatePreviousDelegate=kr(r,r._onNavigatePrevious),r._workItemsNeeded=[],r._workItemsFailedToFetch=[],r._links=[],r._displayColumns=[],r._displayColumnsMap={},r._sortColumns=[],r._rootCount=0,r._pageColumns=[],r._pageColumnMap={},r._pageData={},r._workItems=[],r._sortColumns=[],r._parentWorkItemIds=[],r._workItemsInLastVisibleRange={},r._managedWorkItems={},r._pendingManaged=null,r._dirtyWorkItems={},r._validWorkItems={},r._createFilterManager(),tt.FullScreenHelper.attachFullScreenCI(r._fullScreenCIDelegate),r}return __extends(t,n),t.calculateExpandStates=function(n,i,r,u,f,e,o){for(var c=0,l=0,a=0,s,v,h;f<e;){if(r[f]=0,s=n[f],v=i[f],s===u)c++,f++,a++;else if(s===l)h=t.calculateExpandStates(n,i,r,l,f,e,o),r[f-1]=(o&&o(s)?-1:1)*h.total,c+=h.total,f+=h.total;else break;l=v}return{total:c,root:a}},t.showCopyQueryUrlNotificationDialog=function(n){d.show(d.CopyContentDialog,{dialogLabel:nr.CopyQueryURLNotifyMessage,dialogLabelExtend:n?t._copyQueryUrlExpirationMessage:null,excludeTextPanel:!0,width:400,height:200})},t.copyQueryUrl=function(n,i){var r=n.getPublicActionUrl("","queries",{tempQueryId:i});yt.copyToClipboard(r,{copyDialogOptions:{dialogLabelExtend:t._copyQueryUrlExpirationMessage},showCopyDialog:window.clipboardData===undefined});window.clipboardData!==undefined&&t.showCopyQueryUrlNotificationDialog(!0)},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._queriesHubContext=null;this._dirtyWorkItems=null;this._validWorkItems=null},t.prototype.getStore=function(){return this._store},t.prototype.getSortColumns=function(){return this._sortColumns},t.prototype.getPageData=function(){return this._pageData},t.prototype.getColumnMap=function(){return this._pageColumnMap},t.prototype.getVisibleColumnMap=function(){var n={};for(var t in this._displayColumnsMap)n[t]=this._pageColumnMap[t];return n},t.prototype.getVisibleFields=function(){return this._displayColumns.map(function(n){return n.name})},t.prototype.getDataSourceName=function(){return t.DATASOURCE_NAME},t.prototype.getItemCount=function(){return this.getUnfilteredWorkItemIds().length},t.prototype.getValue=function(n,t){var e,i,r,o,u,h,f;return t===ti.FilterStatusFieldName?(e=ki.WorkItemManager.get(this._store),i=e.getWorkItem(n),i===undefined||!i.hasError()&&i.isValid()):t===s.CoreFieldRefNames.Parent&&(r=this._getWorkItemFieldValueFromPageData(n,s.CoreFieldRefNames.Parent),r&&(o=Number(r),u=this._getParentFieldData(o),u!==undefined))?u.title:(h=this._pageData[n],f=this._pageColumnMap[t],f>=0)?h[f]:null},t.prototype.getUniqueValues=function(n){var o=this._pageColumnMap[n],a=n===s.CoreFieldRefNames.Tags,u={},t,f,h,i,c,r,e,l;if(o>=0)for(t=0,f=Object.keys(this._pageData);t<f.length;t++)if(h=f[t],i=this._pageData[h][o],i)if(a)for(c=sr.TagUtils.splitAndTrimTags(i),r=0,e=c;r<e.length;r++)l=e[r],u[l]=!0;else u[i]=!0;return vt.uniqueSort(Object.keys(u),dt.localeIgnoreCaseComparer)},t.prototype.getIds=function(){return this._convertKeysToInts(this._pageData)},t.prototype.getPageColumns=function(){return this._pageColumns},t.prototype.getProvider=function(){return this._workItemsProvider},t.prototype.getInitialSelectionSetting=function(){return this._options.initialSelection},t.prototype.setInitialSelectionSetting=function(n){this._options.initialSelection=n},t.prototype.selectInitialRow=function(){this._initialSelectedWorkItemId!=null&&this._initialSelectedWorkItemId>0&&Array.isArray(this._workItems)?(this.setSelectedWorkItemId(this._initialSelectedWorkItemId),this._initialSelectedWorkItemId=null):n.prototype.selectInitialRow.call(this)},t.prototype.setInitialSelectedWorkItemId=function(n){this._initialSelectedWorkItemId=n},t.prototype.setBeforeOpenWorkItemCallback=function(n){this._beforeOpenWorkItemCallback=n},t.prototype.initializeOptions=function(i){function r(){return s._onGetMenuItemActionArguments(this)}var f,e,s;if(this._queriesHubContext=i.queriesHubContext,this._useZeroDataView=i.useZeroDataView,f=i.showContextMenu!==!1,s=this,f){var u=[{rank:20,id:"use-as-a-template",text:nr.UseWorkItemAsATemplate,title:"",arguments:r,groupId:"create"},{rank:30,id:"create-copy",text:nr.CreateCopyOfWorkItem,title:"",icon:"bowtie-icon bowtie-edit-copy",arguments:r,groupId:"create"},{rank:62,id:"copy-selection-html",text:nr.CopySelectedWorkItemsAsHtml,title:"",icon:"bowtie-icon bowtie-copy-to-clipboard",arguments:r,groupId:"export"}],h=ot.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WebaccessProcessHierarchy),c=h||ot.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WorkItemTrackingChangeWorkItemType),l=h||ot.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WorkItemTrackingMove),a=lr.isFollowWorkItemEnabled(i.tfsContext);i.readOnlyMode||(u.push({rank:10,id:"bulk-edit-workitems",text:nr.BulkEditSelectedWorkItems,title:"",icon:"bowtie-icon bowtie-edit-outline",groupId:"modify"}),c&&u.push({rank:11,id:t.CHANGE_WORK_ITEM_TYPE_ID,text:nr.ChangeType,icon:"bowtie-icon bowtie-switch",arguments:r,groupId:"modify"}),l&&u.push({rank:12,id:"move-work-items",text:nr.MoveWorkItemTitle,title:"",icon:"bowtie-icon bowtie-work-item-move",arguments:r,groupId:"modify"}),a&&u.push({rank:13,id:t.COMMAND_ID_UNFOLLOW,text:nr.BulkUnfollowWorkItems,title:"",icon:"bowtie-icon bowtie-watch-eye-off",arguments:r,groupId:"modify"}),i.tfsContext.standardAccessMode===!0&&(u.push({rank:40,id:"link-to-new",text:nr.LinkSelectedItemsToNewWorkItem,title:"",icon:"bowtie-icon bowtie-work-item",arguments:r,groupId:"link"}),u.push({rank:50,id:"link-to-existing",text:nr.LinkToExistingItem,title:"",icon:"bowtie-icon bowtie-link",arguments:r,groupId:"link"})));u.push({rank:71,id:t.COMMAND_ID_EMAIL_SELECTION,text:nr.EmailSelectedWorkItems,title:"",icon:"bowtie-icon bowtie-mail-message",arguments:r,groupId:"export"});e={executeAction:kr(this,this.executeCommand),updateCommandStates:kr(this,this._updateCommandStates),arguments:kr(this,this._getDefaultActionArguments),items:u,contributionIds:["ms.vss-work-web.query-result-work-item-menu","ms.vss-work-web.work-item-context-menu","ms.vss-work-web.work-item-context-menu-owp"],getContributionContext:this._getContributionContextFunc().bind(this),suppressInitContributions:!0}}n.prototype.initializeOptions.call(this,$.extend({gutter:{contextMenu:f},autoSort:!1,sourceArea:gi.RecycleBinTelemetryConstants.UNKNOWN,contextMenu:e},i))},t.prototype.getDisplayColumns=function(){return this._displayColumns},t.prototype._getContributionContextFunc=function(){var n=this;return function(){var f=n.getSelectedDataIndices(),i=!1,t=f.map(function(t){return n.getWorkItemIdAtDataIndex(t)}),r,u;return t.some(function(n){return+n<1})&&(i=!0),r=t.map(function(t){return n._pageData[t]}),u={columns:Object.keys(n._pageColumnMap),rows:r,ids:t,workItemIds:t,workItemTypeNames:n.getSelectedWorkItemTypes(),workItemProjects:n.getSelectedWorkItemProjectNameMapping(),query:pi.QueryItemFactory.queryItemToQueryHierarchyItem(n._workItemsProvider.queryDefinition),hideDelete:i||si.QueryResultsProvider.isRecycleBinQueryResultsProvider(n._workItemsProvider)||ri.isImportWorkItemsProvider(n._workItemsProvider),tfsContext:n._options.tfsContext},u}},t.prototype._enhance=function(t){t.empty();n.prototype._enhance.call(this,t)},t.prototype.getWorkItemsNavigator=function(){return this._workItemsNavigator},t.prototype.attachTabBehavior=function(n){this._tabBehaviorDelegate=n},t.prototype._onTabKey=function(n){if(this._tabBehaviorDelegate)return this._tabBehaviorDelegate(n)},t.prototype._onKeyDown=function(t){var r=this,i,c,l;if(gt.KeyUtils.isExclusivelyCommandOrMetaKeyBasedOnPlatform(t)&&t.keyCode===gt.KeyCode.S)return this.isDirty(!0)&&this.saveWorkitems(),!1;if(t.keyCode===gt.KeyCode.DELETE){if(i=this.getSelectedWorkItemIds(),!i||i.length<1||i.some(function(n){return+n<1}))return!1;var e=this.getWorkItemsNavigator(),u=gi.RecycleBinTelemetryConstants.DELETE_KEY,f=this._options.sourceArea,o=this._options.tfsContext,s=this._options.readWorkItems,h=yr.WorkItemPermissionDataHelper.isPopulated();return e&&(c=e.getProvider(),l=si.QueryResultsProvider.isRecycleBinQueryResultsProvider(c),l)?((!h||yr.WorkItemPermissionDataHelper.hasWorkItemDestroyPermission())&&fr.showDestroyConfirmationDialog(o,u,f,i,function(n){tu.fire(pr.WorkItemViewActions.WORKITEM_VIEW_MESSAGE_CHANGE,r,{message:n.message,messageType:it.MessageAreaType.Error})}),!1):((!h||yr.WorkItemPermissionDataHelper.hasWorkItemDeletePermission())&&(s=!0,ai.WorkItemCategorization.getAllTestWorkItemTypes().then(function(n){var t=i[0],e=r.getWorkItemTypeNameById(t);i.length===1&&r._isTestWorkItem(Object.keys(n),e)?yr.WorkItemPermissionDataHelper.hasWorkItemDestroyPermission()&&ni.using(["WorkItemTracking/Scripts/TestWorkItemDelete/TFS.TestWorkItemDelete.Dialog"],function(n){n.getTestWorkItemDeleteConfirmationDialog(e,r.getProjectName()).then(function(n){n.showDialog(t,function(){n.deleteTestWorkItem(u,f,t,!1)})})}):fr.showDeleteConfirmationDialog(o,u,f,i,s,Object.keys(n))})),!1)}return n.prototype._onKeyDown.call(this,t)},t.prototype._isTestWorkItem=function(n,t){return n.indexOf(t)>-1},t.prototype.copySelectedItems=function(t,i,r){var u=this.getSelectedWorkItemIds();(u.length!==1||this.isRealWorkItem(u[0]))&&n.prototype.copySelectedItems.call(this,t?t:iu,typeof i=="undefined"?!0:i,r)},t.prototype._updateSoftCapMessage=function(n){n.hasMoreResult?this._showSoftCapMessage():this._clearSoftCapMessage()},t.prototype._showSoftCapMessage=function(){var u=this,n,i,r;if(!this._messageArea){this._messageArea=k.BaseControl.createIn(it.MessageAreaControl,this.getElement(),{closeable:!1,message:{type:it.MessageAreaType.Info},prepend:!0});this._messageArea._bind(it.MessageAreaControl.EVENT_DISPLAY_COMPLETE,function(){u._resize()});this._messageArea._element.on("contextmenu",function(n){return n.preventDefault(),n.stopPropagation(),!1})}n=$("<div/>");n.addClass(t._gridMessageClass);i=si.QueryResultsProvider.isRecycleBinQueryResultsProvider(this._workItemsProvider);r="<span>".concat(dt.format(nr.ShowMoreWorkItemsMessage,this._count,i?nr.DeleteWorkItemsToSeeMore:"<a id=".concat(t._showAllItemsLink," role='button' href=#>").concat(nr.ShowMoreWorkItemsLinkMessage,"<\/a>")),"<\/span>");n.append($(r));this._messageArea.setMessage({header:n},it.MessageAreaType.Info);this._softCapLinkOnClick($(".query-editor #"+t._showAllItemsLink));this._softCapLinkOnClick($(".triage-view #"+t._showAllItemsLink));this.getElement().addClass(t._gridHasMessageFlag);at.publishEvent(new at.TelemetryEventData(ci.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ci.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_QUERY_SOFTCAP_LINK,{Action:"Create"}))},t.prototype._softCapLinkOnClick=function(n){var t=this;n.click(function(n){n&&n.preventDefault();t._workItemsProvider.bypassSoftCap=!0;t._refreshResults();t._clearSoftCapMessage();at.publishEvent(new at.TelemetryEventData(ci.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ci.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_QUERY_SOFTCAP_LINK,{Action:"Click"}))})},t.prototype._clearSoftCapMessage=function(){this._messageArea&&this._messageArea.clear();this._resize()},t.prototype._clearFilterMessage=function(){this._textFilterMessageArea&&(this._textFilterMessageArea.clear(),this._messageArea&&(this._messageArea.showElement(),this.getElement().addClass(t._gridHasMessageFlag)));this._resize()},t.prototype._showFilterMessage=function(n,i,r){var u=this,e;if(this._messageArea&&this._messageArea.hideElement(),!this._textFilterMessageArea){this._textFilterMessageArea=k.BaseControl.createIn(it.MessageAreaControl,this.getElement(),{closeable:!1,message:{type:it.MessageAreaType.Info},prepend:!0});this._textFilterMessageArea._bind(it.MessageAreaControl.EVENT_DISPLAY_COMPLETE,function(){u._resize()});this._textFilterMessageArea._element.on("contextmenu",function(n){return n.preventDefault(),n.stopPropagation(),!1})}var o=dt.format(nr.TextFilterNextItemsMessage,r),f=$(cu("div",t._gridMessageClass)),s="<span>"+dt.format(nr.TextFilterResultCountMessage,n,i,"<a id="+t._showFilteredItemsLink+" href=#>"+o+"<\/a>")+"<\/span>";$(s).appendTo(f);this._textFilterMessageArea.setMessage({header:f},it.MessageAreaType.Info);e=$("#"+t._showFilteredItemsLink);e.click(function(n){n&&n.preventDefault();l(u._pageNextSetOfWorkItems(t.FILTER_PAGE_SIZE)).done(function(){u._applyFilter()})});this.getElement().addClass(t._gridHasMessageFlag)},t.prototype._updateFilterMessage=function(){if(this._filterApplied){var n=Object.keys(this._pageData).length,i=this._getUniqueUnfilteredIds(),r=Math.min(t.FILTER_PAGE_SIZE,i.length-n);r>0?this._showFilterMessage(n,i.length,r):this._clearFilterMessage()}else this._clearFilterMessage()},t.prototype._getUniqueUnfilteredIds=function(){var t=this.getUnfilteredWorkItemIds(),n,i;return this._unfilteredIsLinkQuery?(n={},i=t.filter(function(t){return n[t]?!1:(n[t]=!0,!0)}),i):t},t.prototype._resize=function(){this.isDisposed()||$(".triage-view ."+t._gridMessageClass).height()||$(".query-editor ."+t._gridMessageClass).height()||this.getElement().removeClass(t._gridHasMessageFlag)},t.prototype.getProjectName=function(){return this._projectName},t.prototype.isDirty=function(n){var r=this._managedWorkItems,t,i,f=ki.WorkItemManager.get(this._store),u;if(n){for(t in r)if(r[t]===!0&&(i=f.getWorkItem(t),i&&i.isDirty()))return!0}else return u=this._getDirtyWorkItems(),u.length>0;return!1},t.prototype.processDataSource=function(n,t){var i,r;this._parentWorkItemIds=undefined;n.sourceIds&&(this._parentWorkItemIds=n.sourceIds);this._links=n.linkIds?n.linkIds:[];n.targetIds?this._filterApplied?(this._unfilteredWorkItems=n.targetIds,r=this._filterManager.filter(),this._workItems=this._sortAndRemoveDuplicates(r,n.targetIds)):this._workItems=n.targetIds:this._workItems=[];this._workItemsFailedToFetch=[];this._options.source=this._workItems;this._parentWorkItemIds?(i=this.processExpandedStates(n),this._filterApplied&&(this._unfilteredExpandStates=this._options.expandStates,this._options.expandStates=null),this._rootCount=i.root):(this._options.expandStates=null,this._rootCount=this.getUnfilteredWorkItemIds().length);t&&(delete n.sourceIds,delete n.linkIds,delete n.targetIds)},t.prototype.processExpandedStates=function(n){return this._options.expandStates=[],t.calculateExpandStates(n.sourceIds,this.getUnfilteredWorkItemIds(),this._options.expandStates,0,0,n.sourceIds.length)},t.prototype.initialize=function(){this._store=c.ProjectCollection.getConnection(this._options.tfsContext).getService(rr.WorkItemStore);this._projectName=this._options.tfsContext.navigation.project;ki.WorkItemManager.get(this._store).attachWorkItemChanged(this._workItemChangedDelegate);this.initializeDataModel(this._options);delete this._options.payload;n.prototype.initialize.call(this);var t=this._options.resultGridPostInitializeCallback;t&&typeof t=="function"&&t.call(this,this)},t.prototype._cleanUpCells=function(){var t,i,n,r;if(this._workItemTypeIconCells&&this._workItemTypeIconCells.length)for(t=0,i=this._workItemTypeIconCells;t<i.length;t++)n=i[t],n&&n.length&&(r=n.find(".grid-cell-contents-container")[0]||n[0],f.unmountWorkItemTypeIcon(r));this._workItemTypeIconCells=[]},t.prototype._cleanUpRows=function(){this._cleanUpCells();n.prototype._cleanUpRows.call(this)},t.prototype._dispose=function(){this._workItemsProvider&&(this._workItemsProvider=null);this._store&&(ki.WorkItemManager.get(this._store).detachWorkItemChanged(this._workItemChangedDelegate),this._store=null);this.setNavigator(null);this._cleanUpCells();this._unbindFilterManagerEvents();tt.FullScreenHelper.detachFullScreenCI(this._fullScreenCIDelegate);this.queryResultsStarting=null;this.queryResultsComplete=null;this._tabBehaviorDelegate=null;this._useZeroDataView&&this._zeroDataElement&&(di.unmountZeroDataComponent(this._zeroDataElement[0]),this._zeroDataComponentMounted=!1,this._isNewQueryInZeroDataComponent=!1);n.prototype._dispose.call(this)},t.prototype.getWorkItemTypeNameByIndex=function(n){return this.getWorkItemTypeNameById(this._workItems[n])},t.prototype.getWorkItemTypeNameById=function(n){return this._getWorkItemFieldValueFromPageData(n,s.CoreFieldRefNames.WorkItemType)},t.prototype.getWorkItemStateById=function(n){return this._getWorkItemFieldValueFromPageData(n,s.CoreFieldRefNames.State)},t.prototype.getWorkItemProjectNameById=function(n){return this._getWorkItemFieldValueFromPageData(n,s.CoreFieldRefNames.TeamProject)},t.prototype.getWorkItemTitleById=function(n){return this._getWorkItemFieldValueFromPageData(n,s.CoreFieldRefNames.Title)},t.prototype._getWorkItemStateColorCell=function(n,t){var i=this._workItems[n],r=this.getWorkItemProjectNameById(i),u=this.getWorkItemTypeNameById(i);return r?e.WorkItemStateCellRenderer.getAutoUpdatingColorCell(r,u,t):(ft.publishErrorToTelemetry({name:"ProjectNameNotPagedException",message:"Project name must be paged in to get workitem state color"}),null)},t.prototype._isIndentedHeaderColumn=function(n){return this._isLinkOrTreeQuery()?n.name===s.CoreFieldRefNames.Title:!1},t.prototype.isWorkItemSaving=function(){return!1},t.prototype.isUnparentedRow=function(){return!1},t.prototype.renderWorkItemTypeColorAndIcon=function(n,t,i,r){f.renderWorkItemTypeIcon(n[0],r,t,{suppressTooltip:!0})},t.prototype.getFieldColumns=function(){return(this._columns||[]).filter(function(n){return n.name!==t.EXPAND_COLUMN_NAME&&n.name!==t.COLLAPSE_COLUMN_NAME})},t.prototype.getFieldDefinitionDisplayName=function(n,t,i){for(var u=[],r=3;r<arguments.length;r++)u[r-3]=arguments[r];return __awaiter(this,void 0,void 0,function(){var r,f;return __generator(this,function(e){switch(e.label){case 0:if(!i)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,i.beginGetFields()];case 2:return(e.sent(),r=i.getFieldDefinition(t),r)?[2,dt.format.apply(dt,__spreadArray(__spreadArray([n],u,!1),[r.name],!1))]:[3,4];case 3:return f=e.sent(),[3,4];case 4:return[2,""]}})})},t.prototype.initializeDataModel=function(n){var i=this,u,f,r,o,c=[],l,a,v,y,p,b,e,h;if(this.processDataSource(n,!1),this._allowSort=n.allowSort!==!1,this._hasMoreResults=n.hasMoreResult,this._displayColumns=[],this._displayColumnsMap={},this._parentFieldProvider=null,n.columns)for(l=function(n,t,r,u,f,e,o){return ir.TagUtilities.renderTagCellContents(i,t,f,o)},a=function(n,t,r,u,f,e,o){var s=i._drawCell(n,t,r,u,f,e,o),h=i.getWorkItemIdAtDataIndex(t),c=s.text(),l=s.find(".grid-tree-icon").detach(),a=i.getWorkItemTypeNameById(h),v=i.getWorkItemProjectNameById(h);return i.renderTitleCell(h,c,v,a,s,e,u,t,o),s.append(l),s},v=function(n,t,r,u,f,e,o){var c=i._drawCell(n,t,r,u,f,e,o),a=i.getWorkItemIdAtDataIndex(t),v=i._getWorkItemFieldValueFromPageData(a,s.CoreFieldRefNames.Parent),l,h;if(!v)return c;if(l=Number(v),l>0)if(h=i._getParentFieldData(l),h)if(h.error)i.renderErrorCell(c,h.error.message);else{var y=h.type,p=h.project,w=h.title;i.renderTitleCell(l,w,p,y,c,e,u,t,o,!0)}else i.renderLoadingCell(c),i._pageParents([a],[l],function(n){return i.renderErrorCell(c,n)});return c},p=function(n,t,r,u,f,e,o){var s=$("<div/>").addClass("grid-cell").css("width",(f.width||20)+"px"),h=i.getColumnText(t,f,o);return h&&s.append(i._getWorkItemStateColorCell(t,h)),s},y=function(n,t,r,u,f,e,o){var s=i._drawCell(n,t,r,u,f,e,o),c,h,l;if(s&&(s.empty(),s.addClass("identity-grid-cell"),c=i.getColumnText(t,f,o),h=w.WITIdentityHelpers.parseUniquefiedIdentityName(c),h)){l={item:h,size:st.IdentityPickerControlSize.Small,displayType:st.EDisplayControlType.TextOnly,turnOffHover:!0};k.create(st.IdentityDisplayControl,s,l);var a=w.WITIdentityHelpers.getFriendlyDistinctDisplayName(c,h),v=st.EntityFactory.isStringEntityId(h.entityId),y=v||dt.localeIgnoreCaseComparer(c,a)!==0;s.data("tooltipText",a);s.data("tooltipShowOnOverflow",y)}return s},b=function(n,t,r,u,f,e,o){var s=i._drawCell(n,t,r,u,f,e,o),h,l,c;return s&&(h=i.getColumnText(t,f,o),isNaN(Number(h))?s.empty():i._options.displayIdWithLinks&&(l=i._options.tfsContext.getPublicActionUrl("","workitems")+"#_a=edit&id="+h+"&"+tt.FullScreenHelper.FULLSCREEN_HASH_PARAMETER+"=true",s.empty(),c=$("<a/>").attr({href:l,target:"_blank"}).text(h),rt.RichContentTooltip.addIfOverflow(h,c),s.append(c))),s},e=function(n,t){return dt.ignoreCaseComparer(n,t)===0},u=0,f=n.columns.length;u<f;u++)r=$.extend({},n.columns[u]),r.index=u,this._allowSort||(r.canSortBy=!1),e(r.name,s.CoreFieldRefNames.Id)?r.getCellContents=b:e(r.name,s.CoreFieldRefNames.Tags)?(r.canSortBy=!1,r.getCellContents=l):e(r.name,s.CoreFieldRefNames.Title)?r.getCellContents=a:e(r.name,s.CoreFieldRefNames.Parent)?r.getCellContents=v:r.isIdentity?r.getCellContents=y:e(r.name,s.CoreFieldRefNames.State)&&(r.getCellContents=p),this._displayColumns[u]=r,this._displayColumnsMap[r.name]=u;if(this._pageColumns=[],this._pageColumnMap={},n.pageColumns)for(u=0,f=n.pageColumns.length;u<f;u++)this._pageColumns.push(n.pageColumns[u]),this._pageColumnMap[n.pageColumns[u]]=u;if(this._sortColumns=[],n.sortColumns)for(u=0,f=n.sortColumns.length;u<f;u++)o=n.sortColumns[u],this._sortColumns.push(o),o.name in this._displayColumnsMap&&c.push({index:this._displayColumnsMap[o.name],order:o.descending?"desc":"asc"});this._options.sortOrder=c;this._options.keepSelection=n.keepSelection===!0;this._filterApplied?(this._unfilteredIsLinkQuery=n.isLinkQuery,this._unfilteredIsTreeQuery=n.isTreeQuery,this._isLinkQuery=!1,this._isTreeQuery=!1):(this._isLinkQuery=n.isLinkQuery,this._isTreeQuery=n.isTreeQuery);h=[];this._queriesHubContext&&this._isLinkOrTreeQuery()?(this._isShowingExpandCollapseColumns=!0,h=[{name:t.EXPAND_COLUMN_NAME,index:this._displayColumns.length,width:20,canSortBy:!1,canMove:!1,fieldId:null,fixed:!0,tooltip:ct.ExpandAllToolTip,onHeaderClick:function(){return i.executeCommand("expand-all-nodes",!1)},headerContainerCss:"expand-collapse-icons-header",getHeaderCellContents:function(){var n=$("<span/>").addClass("expand-icon bowtie-icon bowtie-toggle-expand");return rt.RichContentTooltip.add(ct.ExpandAllToolTip,n),n}},{name:t.COLLAPSE_COLUMN_NAME,index:this._displayColumns.length+1,width:20,canSortBy:!1,canMove:!1,fieldId:null,fixed:!0,tooltip:ct.CollapseAllToolTip,headerContainerCss:"expand-collapse-icons-header",onHeaderClick:function(){return i.executeCommand("collapse-all-nodes",!1)},getHeaderCellContents:function(){var n=$("<span/>").addClass("collapse-icon bowtie-icon bowtie-toggle-collapse");return rt.RichContentTooltip.add(ct.CollapseAllToolTip,n),n}}]):this._isShowingExpandCollapseColumns=!1;this._options.columns=h.concat(this._displayColumns);this._emptyQueryResults=this._getEmptyQueryStatus();this._pageData={};this.buildCache(n.payload,n.isCachedData);this.initializeDirtyWatch();this._fetching=!1;this.cancelDelayedFunction("updateWorkItemCache");this.cancelDelayedFunction("pageWorkItems")},t.prototype.updateDataModel=function(n){this.initializeDataModel(n);this.initializeDataSource();this._updateSoftCapMessage(n);n.error&&this._statusUpdate(n.error);this._filterManager.isActive()&&this._pageFirstThousand();tu.fire(er.QueryResultsGridEvents.RESULTS_MODEL_CHANGED,this,this._workItems&&this._workItems.length)},t.prototype.setTitleInteraction=function(n,t){this._allowInteractionWithTitle=n;this._allowSingleClickOpen=t},t.prototype.layout=function(){n.prototype.layout.call(this);this._updateZeroDataComponent();this._fire("queryResultsRendered")},t.prototype.setNavigator=function(n){this._workItemsNavigator!==n&&(this.detachNavigatorEvents(),this._workItemsNavigator=n,this.attachNavigatorEvents())},t.prototype.setNewQueryContextOptions=function(n,t){this._queriesHubContext=n;this._useZeroDataView=t},t.prototype.detachNavigatorEvents=function(){this._workItemsNavigator&&(this._workItemsNavigator.detachEvent(oi.WorkItemsNavigator.EVENT_NAVIGATE_NEXT,this._navigateNextDelegate),this._workItemsNavigator.detachEvent(oi.WorkItemsNavigator.EVENT_NAVIGATE_PREVIOUS,this._navigatePreviousDelegate))},t.prototype.attachNavigatorEvents=function(){this._workItemsNavigator&&(this.detachNavigatorEvents(),this._workItemsNavigator.attachEvent(oi.WorkItemsNavigator.EVENT_NAVIGATE_NEXT,this._navigateNextDelegate),this._workItemsNavigator.attachEvent(oi.WorkItemsNavigator.EVENT_NAVIGATE_PREVIOUS,this._navigatePreviousDelegate))},t.prototype.beginShowResults=function(n,i,r,u){var f=this,e,o;e=!0;this._workItemsProvider!==n?this._workItemsProvider=n:u&&u.keepSelection&&(e=!this._workItemsProvider.resultsValid||this._workItemsProviderVersion!==this._workItemsProvider.getVersion());u&&u.statusText&&this.setStatusText(u.statusText);$(this).trigger("queryResultsStarting");this.showLoadingIndicator();n.beginGetResults(function(t){if(f._checkForEmptyCurrentIteration(n,t),f._workItemsProvider){if(f._workItemsProviderVersion=f._workItemsProvider.getVersion(),f._queriesHubContext&&(f._workItemsProvider.queryDefinition.queryType||(f._workItemsProvider.queryDefinition.queryType=y.QueryType[yi.LinkQueryMode.getQueryType(t.editInfo.mode)],f._queriesHubContext.triageViewActionCreator.updateProvider(f._workItemsProvider))),e){if(f.updateDataModel(t),ri.isImportWorkItemsProvider(f._workItemsProvider)){var r=f._workItemsProvider;r.isImported()&&f._updatePageDataAndRow(r.getWorkItemsImportData())}}else f.layout(),f._statusUpdate(t.error);$(f).trigger("queryResultsComplete");f.hideLoadingIndicator();typeof i=="function"&&i.call(f,t)}},function(n){typeof r=="function"&&r.call(f,n);$(f).trigger("queryResultsError",n);f.hideLoadingIndicator()},u&&u.runQuery,u);ri.isImportWorkItemsProvider(this._workItemsProvider)&&(o=this._workItemsProvider,o.isImported()||ii.showImportCSVPanel(this.getActionArguments(t.COMMAND_ID_IMPORTCSV)))},t.prototype._createContextMenu=function(t,i){return si.QueryResultsProvider.isRecycleBinQueryResultsProvider(this._workItemsProvider)?this._createRecycleBinContextMenu(t,i):(ur.CommonContextMenuItems.contributeQueryResultGrid(i,{tfsContext:this._options.tfsContext,enableTeamActions:!0,container:this._element}),i.contextInfo&&(i.contextInfo.item={workItemId:i.contextInfo.item}),this._updateContextMenuTitles(i.items),n.prototype._createContextMenu.call(this,t,i))},t.prototype._updateZeroDataComponent=function(){var n,t;this._useZeroDataView&&this._workItemsProvider&&this._workItemsProvider.queryResultsModel&&(this._zeroDataElement=this._zeroDataElement||$("<div/>").appendTo(this._element),n=this._workItemsProvider.queryResultsModel.payload,ri.isImportWorkItemsProvider(this._workItemsProvider)||n&&n.rows&&n.rows.length>0?(di.unmountZeroDataComponent(this._zeroDataElement[0]),this._zeroDataComponentMounted=!1,this._isNewQueryInZeroDataComponent=!1):(t=this._getEmptyQueryStatus(),this._zeroDataComponentMounted&&this._isNewQueryInZeroDataComponent===t||(di.renderZeroDataQueryResult(this._zeroDataElement[0],t),this._zeroDataComponentMounted=!0,this._isNewQueryInZeroDataComponent=t)))},t.prototype._getEmptyQueryStatus=function(){return this._workItemsProvider&&this._workItemsProvider.queryResultsModel&&this._workItemsProvider.queryResultsModel.queryRan===!1},t.prototype._updateContextMenuTitles=function(n){for(var r,u=this._isQueryAcrossProject(),i=0;i<n.length;i++)if(r=n[i],r.id===t.CHANGE_WORK_ITEM_TYPE_ID){r.title=u?nr.ChangeTypeTooltipDisabled:"";break}},t.prototype._isQueryAcrossProject=function(){return!(this._workItemsProvider&&this._workItemsProvider.queryResultsModel&&this._workItemsProvider.queryResultsModel.editInfo&&this._workItemsProvider.queryResultsModel.editInfo.teamProject)},t.prototype._createRecycleBinContextMenu=function(i,r){function e(){return f._onGetMenuItemActionArguments(this)}var u=yr.WorkItemPermissionDataHelper.isPopulated(),o=!(u&&yr.WorkItemPermissionDataHelper.hasWorkItemDeletePermission()),s=!(u&&yr.WorkItemPermissionDataHelper.hasWorkItemDestroyPermission()),f;return o&&s?null:(f=this,r.contributionIds=["ms.vss-work-web.recycle-bin-context-menu"],r.items=[{id:t.COMMAND_ID_DESTROY,text:nr.DestroyWorkItemDeleteButtonText,icon:"bowtie-icon bowtie-edit-delete",arguments:e},{id:t.COMMAND_ID_RESTORE,text:nr.RestoreWorkItemDeleteButtonText,icon:"bowtie-icon bowtie-recycle-bin-restore",arguments:e}],r.contextInfo&&(r.contextInfo.item={workItemId:r.contextInfo.item}),n.prototype._createContextMenu.call(this,i,r))},t.prototype.getActionArguments=function(n,i){var r=this,e=this,f,u;return n===ar.WorkItemActions.ACTION_WORKITEM_OPEN||n===ar.WorkItemActions.ACTION_WORKITEM_OPEN_IN_NEW_TAB?(f=this.getSelectedWorkItemId(),f>0?{id:this.getSelectedWorkItemId(),tfsContext:this._options.tfsContext,triage:!0}:{id:this.getSelectedWorkItemId(),workItemTypeName:ki.WorkItemManager.get(this._store).getWorkItem(f).workItemType.name}):n==="link-to-new"||n==="link-to-existing"?{baseId:this.getSelectedWorkItemId(),selectedIds:this.getSelectedWorkItemIds(),tfsContext:this._options.tfsContext}:n==="create-copy"||n==="use-as-a-template"?{workItemId:this.getSelectedWorkItemId(),tfsContext:this._options.tfsContext}:n==="copy-selection-html"?{grid:this,tfsContext:this._options.tfsContext}:n==="column-options"?(u=this._workItemsProvider.queryResultsModel&&this._workItemsProvider.queryResultsModel.editInfo&&this._workItemsProvider.queryResultsModel.editInfo.teamProject,u&&dt.equals(u,wi.WiqlOperators.MacroProject,!0)&&(u=this._options.tfsContext.navigation.project),{sortColumns:this._sortColumns.map(function(n){return{fieldRefName:n.name,descending:n.descending}}),allowSort:this._allowSort,displayColumns:this.getFieldColumns().map(function(n){return{fieldRefName:n.name,width:n.width}}),project:u,onOkClick:function(n,t){t&&pt.delay(r,0,function(){r.onColumnChange(n.display,n.sort,n.added,n.removed)})}}):n===t.COMMAND_ID_EMAIL_SELECTION?{queryResultsProvider:this._workItemsProvider,selectedWorkItems:this.getSelectedWorkItemIds(),tfsContext:this._options.tfsContext}:n===t.COMMAND_ID_UNFOLLOW?{queryResultsProvider:this._workItemsProvider,selectedWorkItems:this.getSelectedWorkItemIds(),tfsContext:this._options.tfsContext}:n===t.COMMAND_ID_DESTROY||n===t.COMMAND_ID_RESTORE?{sourceType:i,selectedIds:this.getSelectedWorkItemIds(),tfsContext:this._options.tfsContext,grid:this}:n===t.COMMAND_ID_IMPORTCSV?{onImportClick:function(n){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(){return this.initializeFromImportData(n),[2]})})},onDismiss:function(n){if(n){var t=ki.WorkItemManager.get(r._store);r.updateDataModel({targetIds:[],isLinkQuery:!1,isTreeQuery:!1,pageColumns:[],queryRan:!1,wiql:null,columns:[],sortColumns:[],payload:null,sourceIds:[],linkIds:[]});t.resetCache()}}}:void 0},t.prototype._updatePageDataAndRow=function(n){for(var u=ki.WorkItemManager.get(this._store),r=n.targetIds,f=n.idsMap,e=n.fieldValues,t=0;t<r.length;t++){var i=r[t],o=f[i],s=u.getWorkItem(i),h=e[o];this._updatePageData(i,h);this._updatePageRow(s)}},t.prototype.initializeFromImportData=function(n){var t,i,r;this._pageData={};t=this._workItemsProvider;t.import(n);i=t.queryResultsModel;i.allowSort=!1;this.updateDataModel(i);this._updatePageDataAndRow(n);r={ColumnCount:n.columns.length,ItemCount:n.fieldValues.length,IsTreeQuery:n.isTreeQuery};at.publishEvent(new at.TelemetryEventData(ci.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ci.WITCustomerIntelligenceFeature.IMPORTCSV_IMPORT,r))},t.prototype.getCommandStates=function(){var i=this._selectionCount,f=this._workItemsProvider&&this._workItemsProvider.queryDefinition&&pi.QueryDefinition.isSpecialQueryId(this._workItemsProvider.queryDefinition.id),n=si.QueryResultsProvider.isRecycleBinQueryResultsProvider(this._workItemsProvider),r=this._isLinkOrTreeQuery()&&!n,u=yr.WorkItemPermissionDataHelper.isPopulated(),e=!(u&&yr.WorkItemPermissionDataHelper.hasWorkItemDeletePermission()),o=!(u&&yr.WorkItemPermissionDataHelper.hasWorkItemDestroyPermission()),s=this._isQueryAcrossProject();return[{id:"save-work-items",hidden:n,disabled:!this.isDirty(!0)},{id:"save-query",disabled:!(this._workItemsProvider&&this._workItemsProvider.isSaveable&&this._workItemsProvider.isSaveable())},{id:"copy-selection-html",hidden:n},{id:"refresh-work-items",disabled:!1},{id:"link-to-new",hidden:n,disabled:i===0},{id:"link-to-existing",hidden:n,disabled:i===0},{id:"change-work-item-type",hidden:n,disabled:s},{id:"move-work-items",hidden:n},{id:"create-copy",hidden:n,disabled:i!==1},{id:"use-as-a-template",hidden:n,disabled:i!==1},{id:"open-work-item",hidden:n,disabled:i!==1},{id:"open-work-item-in-new-tab",hidden:n,disabled:i!==1},{id:"bulk-edit-workitems",hidden:n,disabled:i===0},{id:"expand-all-nodes",hidden:!r,disabled:this._count===0||this._filterApplied===!0},{id:"collapse-all-nodes",hidden:!r,disabled:this._count===0||this._filterApplied===!0},{id:t.COMMAND_ID_EMAIL_SELECTION,hidden:n,disabled:i===0},{id:t.COMMAND_ID_EMAIL_QUERY_RESULT,hidden:n,disabled:i===0},{id:"share-link",hidden:f||n,disabled:!this._enableCopyQueryCommand},{id:t.COMMAND_ID_DESTROY,hidden:o||!n,disabled:i===0},{id:t.COMMAND_ID_RESTORE,hidden:e||!n,disabled:i===0},{id:"create-branch-menu",hidden:n,disabled:i===0}]},t.prototype.executeCommand=function(n,i){var r=this;i===void 0&&(i=!0);n=typeof n=="string"?n:n.get_commandName();at.publishEvent(new at.TelemetryEventData(ci.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"".concat(ur.CommonContextMenuItems.QUERIES_COMMAND_FEATURE_NAME,".").concat(n),{numSelectedItems:this.getSelectedWorkItemIds().length,source:i?"contextMenu":"toolBar"}));switch(n){case"view-as-report":return!1;case"add-to-favorites":return!1;case"save-query":return this.saveQuery(),!1;case"save-work-items":return this.saveWorkitems(),!1;case"refresh-work-items":return this.refresh(),!1;case"expand-all-nodes":return this.expandAll(),!1;case"collapse-all-nodes":return this.collapseAll(),!1;case"change-work-item-type":return cr.useWITDialogs().then(function(n){return n.changeWorkItemType({workItemIds:r.getSelectedWorkItemIds(),tfsContext:r._options.tfsContext,container:r._element})}),!1;case"move-work-items":return cr.useWITDialogs().then(function(n){return n.moveWorkItem({workItemIds:r.getSelectedWorkItemIds(),tfsContext:r._options.tfsContext,container:r._element,moveAcrossProjects:r._isQueryAcrossProject()})}),!1;case t.COMMAND_ID_EMAIL_QUERY_RESULT:return this.emailResults(),!1;case"share-link":return this.shareLink(),!1}},t.prototype.emailResults=function(){var t=this,i,n,r;ut.logTracePoint("SendMail.SendEmailQueryButtonClicked");this._workItemsProvider.isDirty()?(i=dt.format(nr.ErrorEmailUnsavedQuery,this._workItemsProvider.queryDefinition.path()),d.MessageDialog.showMessageDialog(i,{title:nr.ErrorSendingEmail,buttons:[d.MessageDialog.buttons.ok]})):(n=this._workItemsProvider.queryDefinition,r=n.queryText||this._workItemsProvider.originalQuery,ni.requireModules(["Admin/Scripts/TFS.Admin.SendMail","WorkItemTracking/Scripts/Dialogs/Models/EmailWorkItems"]).spread(function(i,u){i.Dialogs.sendMail(new u.EmailWorkItemsDialogModel({queryResultsAdapter:{queryId:n.id,queryName:n.name,queryText:r,fields:t._workItemsProvider.getColumns(),sortFields:t._workItemsProvider.getSortColumns(),project:n.project,workItemStore:n.project.store}}))}))},t.prototype.getQueryContributionContext=function(){var r=this.getSelectedWorkItemIds(),t,i,n;return this._workItemsProvider&&(n=this._workItemsProvider.queryDefinition,n&&n.id&&(t=pi.QueryItemFactory.queryItemToQueryHierarchyItem(n)),this._workItemsProvider.queryResultsModel&&(i=this._workItemsProvider.queryResultsModel.wiql)),{query:t,queryText:i,workItemIds:r}},t.prototype.shareLink=function(){var i=this,n=this._workItemsProvider,u=function(n){r(!0);n&&n.serverError&&dt.localeIgnoreCaseComparer(n.serverError.typeKey,"TemporaryDataTooLargeException")===0&&(n.message=nr.CopyQueryURLDataTooLargeException);i._statusUpdate(nu(n))},e=function(u){t.copyQueryUrl(i._options.tfsContext,u);n.isDirty()||(n.queryDefinition.tempQueryId=u);r(!0)},r=function(n){i._enableCopyQueryCommand=n;i._fire("commandStatusChanged")},f;!n.isDirty()&&n.queryDefinition.tempQueryId?t.copyQueryUrl(this._options.tfsContext,n.queryDefinition.tempQueryId):(r(!1),f=n.queryDefinition.queryType,n.beginGetQueryText(function(n){hr.TempQueryUtils.beginCreateTemporaryQueryId(i._options.tfsContext,n,f).then(e,u)},u))},t.prototype.restoreWorkItems=function(n,t){var i=this;n===void 0&&(n=gi.RecycleBinTelemetryConstants.TOOLBAR);t===void 0&&(t=function(n){i._statusUpdate(nu(n))});fr.showRestoreConfirmationDialog(this._options.tfsContext,n,gi.RecycleBinTelemetryConstants.WORK_ITEMS_VIEW_SOURCE,this.getSelectedWorkItemIds(),t)},t.prototype.destroyWorkItems=function(n,t){var i=this;n===void 0&&(n=gi.RecycleBinTelemetryConstants.TOOLBAR);t===void 0&&(t=function(n){i._statusUpdate(nu(n))});fr.showDestroyConfirmationDialog(this._options.tfsContext,n,gi.RecycleBinTelemetryConstants.WORK_ITEMS_VIEW_SOURCE,this.getSelectedWorkItemIds(),t)},t.prototype.getSelectedWorkItemId=function(){var n=this.getSelectedDataIndex();return n>=0?this._workItems[n]:0},t.prototype.getSelectedWorkItemIds=function(){for(var i=[],u=this._workItems,r=this.getSelectedDataIndices(),n=0,t=r.length;n<t;n++)i.push(u[r[n]]);return i},t.prototype.getSelectedWorkItemPageData=function(){for(var t=this.getSelectedWorkItemIds(),n=0,u=t.length,i=[],r,n=0;n<u;n++)r=t[n],i.push(this._pageData[r]);return{pageData:i,pageColumns:this._pageColumns}},t.prototype.setSelectedWorkItemId=function(n,t,i){var r;this._workItems.length>0&&(r=$.inArray(n,this._workItems),r>=0&&this.setSelectedDataIndex(r,t),i?pt.delay(this,0,function(){this.getSelectedRowIntoView()}):this.getSelectedRowIntoView())},t.prototype.selectedIndexChanged=function(t,i){var r;n.prototype.selectedIndexChanged.call(this,t,i);r=this._workItems[i];this._fire("selectedWorkItemChanged",[r||0])},t.prototype.selectionChanged=function(){this._workItemsNavigator&&this._workItemsNavigator.update(this._expandedCount,this.getSelectedRowIndex(),this.getSelectedWorkItemId());this._fire("selectedWorkItemChanged",this.getSelectedWorkItemIds());this._statusUpdate()},t.prototype.getStatusText=function(){return this._emptyQueryResults?nr.QueryResultsNewQueryGridStatusText:this._count===0?this._workItemsProvider?nr.QueryResultsGridStatusNoResultsText:"":this._isLinkQuery?dt.format(nr.QueryResultsGridLinkQueryStatusTextFormat,this._count,this._rootCount,this._count-this._rootCount,this._selectionCount):dt.format(nr.QueryResultsGridStatusTextFormat,this._count,this._selectionCount)},t.prototype.getPrimaryStatusText=function(){return this._emptyQueryResults?"":this._count===0?"":this._count===1?dt.format(nr.WorkItemCountDisplayStringSingular,this._count):dt.format(nr.WorkItemCountDisplayStringPlural,this._count)},t.prototype.getSecondaryStatusText=function(){return this._emptyQueryResults||this._count===0?"":this._isLinkQuery?dt.format(nr.QueryResultsGridLinkQueryStatusSecondaryTextFormat,this._rootCount,this._count-this._rootCount,this._selectionCount):dt.format(nr.QueryResultsGridNumSelectedSecondaryTextFormat,this._selectionCount)},t.prototype.setStatusText=function(n){this._fire("statusUpdate",[n,!1])},t.prototype.onOpenRowDetail=function(n){var i=this,t;return si.QueryResultsProvider.isRecycleBinQueryResultsProvider(this._workItemsProvider)||!this._allowInteractionWithTitle?!1:(t=n.workItemId,(!t||t<=0)&&n.dataIndex>=0&&(t=this._workItems[n.dataIndex]),t&&(this._beforeOpenWorkItemCallback?this._beforeOpenWorkItemCallback().then(function(){return i._executeOpenWorkItemCommand(t,n.addQueryParam)}).then(null,ni.handleError):this._executeOpenWorkItemCommand(t,n.addQueryParam)),!1)},t.prototype._executeOpenWorkItemCommand=function(n,t){var r=this,i={id:n,triage:!0,tfsContext:this._options.tfsContext,options:{close:function(){r.focus(1);r.onOpenWorkItemClosed()},addQueryParam:t}},u,f;this._queriesHubContext?this._queriesHubContext.navigationActionsCreator.navigateToWorkItem(n,!0,ri.isImportWorkItemsProvider(this._workItemsProvider)):n>0?wr.showWorkItemById(n,this._options.tfsContext,i.options):(u=ki.WorkItemManager.get(this._store).getWorkItem(n).workItemType,f=i.workItemTypeName=u.name,wr.showNewWorkItemDialog(f,{},this._options.tfsContext,i.options))},t.prototype.onOpenWorkItemClosed=function(){},t.prototype.refresh=function(n){this._refreshResults(null,null,n)},t.prototype.onColumnChange=function(n,t,i,r){this._workItemsProvider&&this._workItemsProvider.queryDefinition&&at.publishEvent(new at.TelemetryEventData(ci.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ci.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_CHANGE_QUERY_COLUMNS,{queryDefinitionId:this._workItemsProvider.queryDefinition.id,addedColumns:i.join(),removedColumns:r.join()}));this._refreshResults(n,t)},t.prototype.onSort=function(n,t){var r=[],i;$.each(t,function(t,i){r.push({name:i.name,asc:n[t].order==="asc"})});this._options.sortOrder=n;i=!1;try{i=!this._tryLocalSort(r)}catch(u){ut.logError(u);ft.publishErrorToTelemetry({name:"UnexpectedExceptionDuringLocalSort",message:nu(u)});i=!0}i&&this._refreshResults(this.getFieldColumns(),r)},t.prototype._tryLocalSort=function(n){var i=this,e,u,a,v,b,k,f,y,p,o,l,r,d,h,w;if(!this._workItemsProvider)return!1;if(e=0,u=0,this._pageData&&(e=Object.keys(this._pageData).length),u=this._filterApplied?this._unfilteredWorkItems.length:this._workItems.length,a=c.ProjectCollection.getDefaultConnection().getService(rr.WorkItemStore),!Boolean(a.fieldMap))return at.publishEvent(new at.TelemetryEventData(ci.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,t.LOCAL_SORT_FEATURE,{pagedWorkItemCount:e,workItemCount:u,gridIsFiltered:this._filterApplied,fieldsNotAvailable:!0})),!1;if(this._hasMoreResults||u>t.MAX_WORKITEMS_LOCALSORT)return at.publishEvent(new at.TelemetryEventData(ci.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,t.LOCAL_SORT_FEATURE,{workItemsToSort:u,gridIsFiltered:this._filterApplied,tooManyItemsToSort:!0})),!1;if(e!==u)return at.publishEvent(new at.TelemetryEventData(ci.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,t.LOCAL_SORT_FEATURE,{pagedWorkItemCount:e,workItemCount:u,gridIsFiltered:this._filterApplied,notAllItemsPaged:!0})),!1;for(v=Date.now(),b=[],r=0,k=n.length;r<k;r++)f=n[r],f.name in this._displayColumnsMap&&b.push({index:this._displayColumnsMap[f.name],order:f.asc?"asc":"desc"}),y=a.getFieldDefinition(f.name),p=this._pageColumnMap[f.name],f.fieldIndex=p,typeof p=="number"&&(f.comparer=rr.Field.isNumericField(y.type)?kt.defaultComparer:y.type===s.FieldType.DateTime?t._dateComparer:dt.localeIgnoreCaseComparer);for(o=t.calculateParentToChildWorkItemIds(this._parentWorkItemIds,this.getUnfilteredWorkItemIds()),l=Object.keys(o),r=0;r<l.length;r++)d=o[l[r]],o[l[r]]=this._sortWorkItems(d,n);return h={sourceIds:[],targetIds:[],linkIds:[],parentToChildWorkItemIds:o},t.calculateSourceTargetsAndLinks(h,0),w=Date.now(),n&&this._workItemsProvider.setSortColumns($.map(n,function(n){return{name:n.name,descending:!n.asc}})),this._workItemsProvider.beginGetResults(function(r){var e,f;r.sourceIds=h.sourceIds;r.targetIds=h.targetIds;r.linkIds=h.linkIds;i._workItemsProvider._updateModel(r);e=i._options.dontDeleteCache;i._options.dontDeleteCache=!0;try{i.updateDataModel(r)}catch(o){i._options.dontDeleteCache=e;throw o;}i._filterApplied&&(i.filterWorkItems(i.getFilterManager().filter()),i._updateFilterMessage());f=Date.now();at.publishEvent(new at.TelemetryEventData(ci.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,t.LOCAL_SORT_FEATURE,{workItemsToSort:u,columnsSorted:n.length,sortTime:w-v,refreshTime:f-w,totalTime:f-v}))}),!0},t._dateComparer=function(n,t){return wt.defaultComparer(n,t)},t.calculateSourceTargetsAndLinks=function(n,i){if(n.parentToChildWorkItemIds){var r=n.parentToChildWorkItemIds[i];r&&r.forEach(function(r){n.sourceIds.push(i);n.targetIds.push(r);n.linkIds.push(i===0?0:2);t.calculateSourceTargetsAndLinks(n,r)})}},t.calculateParentToChildWorkItemIds=function(n,t){var i={},r,u,f;if(!n||n.length===0)return i[0]=t||[],i;for(r=0;r<n.length;r++)u=n[r],f=t[r],i[u]||(i[u]=[]),i[u].push(f);return i},t.prototype._sortWorkItems=function(n,i){var u=this,r=jQuery.extend(!0,[],i),f=this._pageColumnMap[s.CoreFieldRefNames.Id];return typeof f=="number"&&r.splice(r.length,0,{asc:!0,name:s.CoreFieldRefNames.Id,comparer:kt.defaultComparer,fieldIndex:f}),n.sort(function(n,i){for(var e,o,h=u._pageData[n],c=u._pageData[i],f=0,s=0;s<r.length;s++)if(e=r[s],o=e.fieldIndex,typeof o=="number"&&(f=t.fieldValueComparer(e.comparer,h[o],c[o]),f!==0))return e.asc||(f=f*-1),f;return f})},t.prototype._getUnpagedWorkItems=function(n,t){var i=[],r,u;if(t){if(t.columns&&(r=$.inArray(s.CoreFieldRefNames.Id,t.columns)),u=[],t.rows&&t.rows.length>0){if(t.rows.length===n.length)return i;u=$.map(t.rows,function(n){return n[r]})}i=vt.subtract(n,u)}return i},t.fieldValueComparer=function(n,t,i){var r=t===null||t===""||t===undefined,u=i===null||i===""||i===undefined;return r&&u?0:r?1:u?-1:n(t,i)},t.prototype._onColumnResize=function(t){n.prototype._onColumnResize.call(this,t);this._workItemsProvider&&(this._workItemsProvider.setColumnWidth(t.name,t.width),this._workItemsProviderVersion=this._workItemsProvider.getVersion())},t.prototype._onColumnMove=function(t,i){n.prototype._onColumnMove.call(this,t,i);this._workItemsProvider&&this._workItemsProvider.setColumns(this.getFieldColumns())},t.prototype.getColumnValue=function(n,t){var r,f,e,o,i,u;return(i=this._displayColumns[t],i==null)?"":i.fieldId===s.CoreField.LinkType?(f=this._links[n],f?this._ensureLinkTypesFetched()?this._store.findLinkTypeEnd(f).name:"":""):(r=this._workItems[n],i.fieldId===s.CoreField.Id)?r>0?r:"("+-r+")":(e=this._pageData[r],!e)?"":(o=this._pageColumnMap[i.name],typeof o=="number")?(u=rr.Field.convertValueToDisplayString(e[o]),i.fieldType===s.FieldType.Html||i.fieldType===s.FieldType.History?(u=bt.HtmlNormalizer.convertToPlainText(u),dt.decodeHtmlSpecialChars(u)):u):""},t.prototype.buildCache=function(n,t){var e,b,r,u,h,i,c=ki.WorkItemManager.get(this._store),l,a,o,v,y,f,p,w;if(n){for(n.columns&&(h=n.columns.indexOf(s.CoreFieldRefNames.Id),l=n.columns.indexOf(s.CoreFieldRefNames.Rev),o=n.columns.indexOf(s.CoreFieldRefNames.Parent)),v={},y={},e=0,b=n.rows.length;e<b;e++)r=n.rows[e],u=r[h||0],a=r[l||0],i=c.getWorkItem(u),o>=0&&(f=r[o],p=f,i&&(w=i.getFieldValue(s.CoreField.Parent),p=typeof w=="number"?Number(w):null,f!==p&&this._updateParentGridDataFromWorkItem(i)),f&&(v[f]=!0,y[u]=!0)),this._updatePageData(u,r),i&&(i.isDirty()||i.revision>a?this._updatePageRow(i):t||this._options.dontDeleteCache||(i.revision!==a&&c.unpin(i),c.invalidateCache([u])));o>=0&&this._pageParents(this._convertKeysToInts(y),this._convertKeysToInts(v));this._filterManager&&this._filterManager.dataUpdated()}},t.prototype.getSelectedWorkItemTypes=function(){for(var u,n,i={},t=0,r=this.getSelectedWorkItemIds();t<r.length;t++){if(u=r[t],n=this.getWorkItemTypeNameById(u),!n||n==="")return[];i[n]=!0}return Object.keys(i)},t.prototype.getSelectedWorkItemProjectNameMapping=function(){for(var t,i,r={},n=0,u=this.getSelectedWorkItemIds();n<u.length;n++)t=u[n],i=this.getWorkItemProjectNameById(t),r[t]=i?i:null;return r},t.prototype.getSelectedWorkItemProjectTypeMapping=function(){for(var r,n,u,t={},i=0,f=this.getSelectedWorkItemIds();i<f.length;i++)(r=f[i],n=this.getWorkItemProjectNameById(r),n)&&(u=this.getWorkItemTypeNameById(r),u)&&(Array.isArray(t[n])||(t[n]=[]),t[n].push(u));return t},t.prototype._updatePageData=function(n,t){this._pageData[n]=t.slice(0)},t.prototype._changeWorkItemIdInLastVisibleRange=function(n,t){var i=this._workItemsInLastVisibleRange[n];i&&(this._workItemsInLastVisibleRange[t]=i,delete this._workItemsInLastVisibleRange[n])},t.prototype.cacheRows=function(n,t,i){var r=this;this._lastVisibleRange=t;this._workItemsInLastVisibleRange={};$.each(t,function(n,t){var i=r._workItems[t[1]];r._workItemsInLastVisibleRange[i]?r._workItemsInLastVisibleRange[i].push({rowIndex:t[0],dataIndex:t[1]}):r._workItemsInLastVisibleRange[i]=[{rowIndex:t[0],dataIndex:t[1]}]});this.delayExecute("updateWorkItemCache",0,!0,function(){r._updateWorkItemCache(n,t,i)})},t.prototype._pageWorkItems=function(n,t){var i=this,u;if(!this._fetching){var r=[],f={},o=si.QueryResultsProvider.isRecycleBinQueryResultsProvider(this._workItemsProvider),e={};for(o&&$.extend(e,{isDeleted:!0});this._workItemsNeeded.length>0&&r.length<bi.PageSizes.QUERY;)u=this._workItemsNeeded.pop(),!u||u in this._pageData||u in f||(r[r.length]=u,f[u]=!0);this._workItemsNeeded=[];r.length>0?(this._fetching=!0,this._store.beginPageWorkItems(r,this._pageColumns,function(u){if(!i.isDisposed()&&i._fetching){i._fetching=!1;var f=i._getUnpagedWorkItems(r,u);f.length>0&&(lr.isFollowWorkItemEnabled(i._store.getTfsContext())&&i.removeWorkItems(f),i._workItemsFailedToFetch=vt.union(i._workItemsFailedToFetch,f));i.buildCache(u);t||i.redraw()}typeof n=="function"&&n()},function(){},e)):typeof n=="function"&&n()}},t.prototype.workItemChanged=function(n,t){var i,r;if(t.change!==bi.WorkItemChangeType.PreSave&&t.change!==bi.WorkItemChangeType.Saving){i=t.workItem;t.change===bi.WorkItemChangeType.FieldChange&&(r={});var u=i.getUniqueId(),f=this._updatePageRow(i,r),e=this._didWorkItemChange(i);this._handleParentFieldOnWorkItemChange(t);(f||t.change!==bi.WorkItemChangeType.Opened&&e||t.change===bi.WorkItemChangeType.ErrorChanged)&&(this._updateVisibleWorkItemRow(u,r),this._updateDirtyStatus([u]),this._filterManager&&t.change===bi.WorkItemChangeType.FieldChange&&this._filterManager.dataUpdated())}},t.prototype._updateVisibleWorkItemRow=function(n,t){var f=this._workItemsInLastVisibleRange[n],i,r,u;if(f)for(i=0,r=f;i<r.length;i++)u=r[i],this.updateRow(u.rowIndex,u.dataIndex,t)},t.prototype._handleParentFieldOnWorkItemChange=function(n){var i=this._displayColumnsMap[s.CoreFieldRefNames.Parent],t;i!==undefined&&n.change===bi.WorkItemChangeType.Saved&&(t=n.workItem,this._updateParentGridDataFromWorkItem(t))},t.prototype._updateParentGridDataFromWorkItem=function(n){var u=this,e=this._displayColumnsMap[s.CoreFieldRefNames.Parent],t,i,f,o,r;e!==undefined&&(t=n.getUniqueId(),i={},this._parentFieldProvider&&this._parentFieldProvider.invalidate(t),Object.keys(this._workItemsInLastVisibleRange).forEach(function(n){var r=Number(n),f=u._getWorkItemFieldValueFromPageData(r,s.CoreFieldRefNames.Parent),e;f&&(e=Number(f),e===t&&(i[r]=!0))}),f={},n.getLinks().forEach(function(n){if(n instanceof rr.WorkItemLink){var t=n;t.getLinkType()===bi.CoreLinkTypes.Child&&(f[t.getTargetId()]=!0)}}),o=Object.keys(this._pageData),r=this._pageColumnMap[s.CoreFieldRefNames.Parent],o.forEach(function(n){var e=+n,o=u._pageData[e],s;o&&(s=o[r],f[e]?s!==t&&(o[r]=t,i[e]=!0):s===t&&(o[r]=undefined,i[e]=!0))}),Object.keys(i).forEach(function(n){var t,i=Number(n);u._updateVisibleWorkItemRow(i,(t={},t[e]=!0,t))}))},t.prototype._pageParents=function(n,t,i){var r=this;if(t&&t.length){var f=this.getColumnMap()[s.CoreFieldRefNames.Title]!==undefined,u=[],e=ki.WorkItemManager.get(this.getStore());t.forEach(function(n){var i=e.getWorkItem(n),t;i||f&&(t=r.getPageData()[n],t!==undefined)||u.push(n)});this._parentFieldProvider||(this._parentFieldProvider=new fi.ParentFieldProvider(this.getStore().getTfsContext(),this.getProjectName()));this._parentFieldProvider.load(u).then(function(){var t,i,u;r.isDisposed()||(r._filterManager&&r._filterManager.dataUpdated(),i=r._displayColumnsMap[s.CoreFieldRefNames.Parent],u=(t={},t[i]=!0,t),n.forEach(function(n){r._updateVisibleWorkItemRow(n,u)}))},function(n){i&&i(n.message)})}},t.prototype._getParentFieldData=function(n){var t=ki.WorkItemManager.get(this.getStore()).getWorkItem(n),i;if(t)return{id:n,type:t.workItemType.name,project:t.workItemType.project.name,title:t.getFieldValue(s.CoreFieldRefNames.Title)};if(this.getColumnMap()[s.CoreFieldRefNames.Title]!==undefined&&(i=this.getPageData()[n],i!==undefined)){var r=this.getWorkItemTypeNameById(n),u=this.getWorkItemProjectNameById(n),f=this.getWorkItemTitleById(n);return{id:n,type:r,project:u,title:f}}return this._parentFieldProvider?this._parentFieldProvider.get(n):undefined},t.prototype._convertKeysToInts=function(n){var t=[],i=Object.keys(n);return i.forEach(function(n){t.push(+n)}),t},t.prototype._didWorkItemChange=function(n){var t=n.isDirty(),i=n.isValid(),r=this._dirtyWorkItems[n.id]!==t||this._validWorkItems[n.id]!==i;return this._dirtyWorkItems[n.id]=t,this._validWorkItems[n.id]=i,r},t.prototype.initializeDirtyWatch=function(){this._managedWorkItems={};this._pendingManaged=null;this._dirtyWorkItems={};this._validWorkItems={};this._pendManagedWorkItemIds($.map(ki.WorkItemManager.get(this._store).getManagedWorkItems(),function(n){return n.getUniqueId()}))},t.prototype.getWorkItemIds=function(){return this._workItems.slice(0)},t.prototype.isRealWorkItem=function(){return!0},t.prototype.getUnfilteredWorkItemIds=function(){var n=this._filterApplied?this._unfilteredWorkItems:this._workItems;return n.slice(0)},t.prototype.getUnfilteredExpandStates=function(){return this._filterApplied?this._unfilteredExpandStates:this._options.expandStates},t.prototype.setUnfilteredExpandStates=function(n){this._filterApplied?this._unfilteredExpandStates=n:this._options.expandStates=n},t.prototype.saveQuery=function(){var n=this;this._workItemsProvider.invalidateResults();this._workItemsProvider.beginSave(null,function(t){n._statusUpdate(t)})},t.prototype._setIdValue=function(n){var i=this._pageData[n],t=this._pageColumnMap[s.CoreFieldRefNames.Id];t>=0&&(i[t]=n)},t.prototype._replaceTempIdsWithNewIds=function(n){var r=Object.keys(n).length,t,i;if(this._workItems)for(t=0;t<this._workItems.length;t++)if(i=n[this._workItems[t]],i&&(this._workItems[t]=i,r--),r===0)break;if(r=Object.keys(n).length,this._unfilteredWorkItems)for(t=0;t<this._unfilteredWorkItems.length;t++)if(i=n[this._unfilteredWorkItems[t]],i&&(this._unfilteredWorkItems[t]=i,r--),r===0)break},t.prototype._updatePageDataMapping=function(n,t){var i=this._pageData[n],r=this._pageData[t];i&&!r&&(this._pageData[t]=i,this._setIdValue(t),delete this._pageData[n])},t.prototype._modifyNewWorkItemReferences=function(){var i=this,r=ki.WorkItemManager.get(this._store),n=r.getUnmanagedWorkItems(),t;n&&n.length!=0&&(t={},n.forEach(function(n){var r=n.id,u=n.tempId;i._updatePageDataMapping(u,r);t[u]=r;i._workItemsProvider.updateTempWorkItemId(u,r);n.tempId=0}),this._replaceTempIdsWithNewIds(t))},t.prototype._cleanupNewWorkItemLinks=function(n){n.forEach(function(n){var t=n.allLinks.filter(function(n){return n.linkData.ID<0});n.removeLinks(t)})},t.prototype.updateNewWorkItem=function(n){var i,r=n.workItems[0],u=r.id,t=r.tempId;t>=0||(this._updatePageDataMapping(t,u),this._replaceTempIdsWithNewIds((i={},i[t]=u,i)),this._workItemsProvider.updateTempWorkItemId(t,u),r.tempId=0,this.redraw())},t.prototype.saveWorkitems=function(n){var u=this,r=[],t=this,i,f;this._saving||(r=this._getDirtyWorkItems(),r.length>0&&(this._saving=!0,$(this).trigger("savingWorkItems"),i=or.PerfScenarioManager.startScenario(hi.WITPerformanceScenario.WORKITEM_BULKSAVE,!1),i.addData({PathName:"QueryGridBulkSave"}),i.addData({DirtyWorkItemsCount:r.length}),ri.isImportWorkItemsProvider(this._workItemsProvider)&&i.addData({ImportCsv:!0}),f={label:nr.SavingWorkItems,current:0,total:r.length,increment:bi.PageSizes.SAVE},this.showProgressBar(f,nr.SavingWorkItemsLoading),this._store.beginSaveWorkItemsBatch(r,function(){i&&i.addSplitTiming(hi.PerformanceEvents.WORKITEM_SAVE_COMPLETE);ri.isImportWorkItemsProvider(u._workItemsProvider)&&(t._modifyNewWorkItemReferences(),t._cleanupNewWorkItemLinks(r));t._saving=!1;t.redraw();t.hideProgressBar();$(t).trigger("workItemsSaved");ut.logTracePoint("QueryResultGrid.saveWorkItems.success");i&&i.end()},function(f){i&&i.abort();ri.isImportWorkItemsProvider(u._workItemsProvider)&&(t._modifyNewWorkItemReferences(),t._cleanupNewWorkItemLinks(r));t._saving=!1;t.redraw();t.hideProgressBar();var e=eu(f,r.length);e?d.MessageDialog.showMessageDialog(e,{title:nr.TriageViewSaveErrorTitle,buttons:[d.MessageDialog.buttons.ok]}):uu(f,n,t);$(t).trigger("workItemsSaveError")},function(n){t.updateProgressBar(n)})))},t.prototype.beginPageSelectedWorkItems=function(n,t,i){function o(){var t;if(this._cancelable&&this._cancelable.canceled){typeof n=="function"&&n();return}u+=1;u<e?(t=u*bi.PageSizes.QUERY,r._workItemsNeeded=f.slice(t,t+bi.PageSizes.QUERY),r._pageWorkItems(kr(r,o),i)):u>=e&&typeof n=="function"&&(ut.logTracePoint("TFS.WorkItemTracking.Controls.Query.beginPageSelectedWorkItems.complete"),n())}var e,u,r,f=this.getSelectedWorkItemIds();ut.logTracePoint("TFS.WorkItemTracking.Controls.Query.beginPageSelectedWorkItems.start");f&&f.length>0?(e=Math.ceil(f.length/bi.PageSizes.QUERY),u=0,r=this,r._workItemsNeeded=f.slice(0,bi.PageSizes.QUERY-1),r._pageWorkItems(kr(r,o),i)):(ut.logTracePoint("TFS.WorkItemTracking.Controls.Query.beginPageSelectedWorkItems.complete"),n())},t.prototype.getWorkItemIdAtDataIndex=function(n){return this._workItems[n]},t.prototype._createFilterManager=function(){this._filterManager=new li.FilterManager(this);this._bindFilterManagerEvents()},t.prototype._bindFilterManagerEvents=function(){this._filterManager.attachEvent(li.FilterManager.EVENT_FILTER_CHANGED,this._onFilterChanged);this._filterManager.attachEvent(li.FilterManager.EVENT_FILTER_CLEARED,this._onUnfilter);this._filterManager.attachEvent(li.FilterManager.EVENT_FILTER_DEACTIVATED,this._onUnfilter);this._filterManager.attachEvent(li.FilterManager.EVENT_FILTER_ACTIVATED,this._onFilterActivated)},t.prototype._unbindFilterManagerEvents=function(){this._filterManager&&(this._filterManager.detachEvent(li.FilterManager.EVENT_FILTER_CHANGED,this._onFilterChanged),this._filterManager.detachEvent(li.FilterManager.EVENT_FILTER_CLEARED,this._onUnfilter),this._filterManager.detachEvent(li.FilterManager.EVENT_FILTER_DEACTIVATED,this._onUnfilter),this._filterManager.detachEvent(li.FilterManager.EVENT_FILTER_ACTIVATED,this._onFilterActivated))},t.prototype.filterWorkItems=function(n,t){var i=this.getSelectedWorkItemId();(this._filterApplied===!1||t)&&(this._unfilteredWorkItems===null&&(this._unfilteredWorkItems=this.getWorkItemIds()),this._unfilteredExpandStates===null&&(this._unfilteredExpandStates=this._options.expandStates),this._unfilteredIsLinkQuery===null&&(this._unfilteredIsLinkQuery=this._isLinkQuery),this._unfilteredIsTreeQuery===null&&(this._unfilteredIsTreeQuery=this._isTreeQuery));this._options.columns=this._columns;n=this._sortAndRemoveDuplicates(n,this._unfilteredWorkItems);this._options.source=n;this._workItems=n;this._options.expandStates=null;this._isLinkQuery=!1;this._isTreeQuery=!1;this._filterApplied=!0;this.initializeDataSource();this.setSelectedWorkItemId(i,!0,!0);this._updateFilterMessage();ut.logTracePoint("Grid.filteringComplete");this._queriesHubContext&&this._queriesHubContext.triageViewActionCreator.applyFilters(n,this._filterManager.getFilters())},t.prototype.removeWorkItems=function(n){var f=this.getSelectedDataIndex(),i=this._workItemsProvider,t,r,u;if(i){for(t=0;t<n.length;t++)r=n[t],i.removeWorkItem(r);u=i.queryResultsModel;this.processDataSource(u,!1);this.initializeDataSource()}this.setRowSelection(f)},t.prototype.setRowSelection=function(n){n>=this.getLastRowDataIndex()&&(n=this.getLastRowDataIndex()-1);n>=0&&(this.setSelectedDataIndex(n),this.getSelectedRowIntoView())},t.prototype.restoreUnfilteredState=function(n){n===void 0&&(n=!1);var t;this._filterApplied===!0&&this._unfilteredWorkItems&&(n||(t=this.getSelectedWorkItemId()),this._reinstateUnfilteredData(),this._clearCachedFilterValues(),this._options.columns=this._columns,this.initializeDataSource(n),n||this.setSelectedWorkItemId(t,!0,!0),ut.logTracePoint("QueryResultGrid.restoreUnfilteredStateComplete"));this._updateFilterMessage()},t.prototype.isFiltered=function(){return this._filterApplied},t.prototype._onNavigateNext=function(){var n=this.getSelectedRowIndex();n<this._count-1&&(n++,this.setSelectedRowIndex(n),this.getSelectedRowIntoView(),this.focus())},t.prototype._onNavigatePrevious=function(){var n=this.getSelectedRowIndex();n>0&&(n--,this.setSelectedRowIndex(n),this.getSelectedRowIntoView(),this.focus())},t.prototype._onGetMenuItemActionArguments=function(n){return this.getActionArguments(n.getAction(),t.enhancementTypeName)},t.prototype._updateCommandStates=function(n){n.updateCommandStates(this.getCommandStates())},t.prototype._getDefaultActionArguments=function(n){return{tfsContext:h.TfsContext.getDefault(),id:this._workItems[n.rowInfo.dataIndex],selectedWorkItems:this.getSelectedWorkItemIds(),selectedWorkItemProjectTypeMapping:this.getSelectedWorkItemProjectTypeMapping()}},t.prototype._determineIndentIndex=function(){if(this._isLinkOrTreeQuery()){var n=void 0,t=void 0,i=this.getFieldColumns(),r=this._displayColumns;for(this._indentIndex=this._isShowingExpandCollapseColumns?2:0,n=0,t=i.length;n<t;n++)if(r[i[n].index].name===s.CoreFieldRefNames.Title){this._indentIndex+=n;break}}else this._indentIndex=-1},t.prototype._statusUpdate=function(n){var t=n||this.getStatusText(),i=this.getPrimaryStatusText(),r=this.getSecondaryStatusText();t!==dt.empty&&this._fire("statusUpdate",[t,n?!0:!1,i,r])},t.prototype.showLoadingIndicator=function(){this._loadingOverlay||(this._loadingOverlay=new ei.LoadingSpinnerOverlay(this._element[0]));this._loadingOverlay.show(100,nr.LoadingQueryResults)},t.prototype.hideLoadingIndicator=function(){this._loadingOverlay&&this._loadingOverlay.hide(0)},t.prototype.showProgressBar=function(n,t){this._progressBarOverlay||(this._progressBarOverlay=new ui.ProgressBarOverlay(this._element[0],n));this._progressBarOverlay.show(100,t)},t.prototype.updateProgressBar=function(n){this._progressBarOverlay&&this._progressBarOverlay.increment(n)},t.prototype.hideProgressBar=function(){this._progressBarOverlay&&(this._progressBarOverlay.hide(0),this._progressBarOverlay=null)},t.prototype._refreshResults=function(n,t,i){var r=this,u;this._workItemsProvider&&(n&&this._workItemsProvider.setColumns(n),t&&this._workItemsProvider.setSortColumns($.map(t,function(n){return{name:n.name,descending:!n.asc}})),u=function(n){$(r).trigger("queryResultsError");r._statusUpdate(n);r.hideLoadingIndicator()},i||this._workItemsProvider.invalidateResults(),this.setStatusText(nr.QueryingStatusText),this.showLoadingIndicator(),$(this).trigger("queryResultsStarting",[i]),this._workItemsProvider.beginGetResults(function(n){r._workItemsProvider&&(r._workItemsProviderVersion=r._workItemsProvider.getVersion(),r.updateDataModel(n),r.hideLoadingIndicator(),$(r).trigger("queryResultsComplete",[i]))},u,null))},t.prototype._ensureLinkTypesFetched=function(){var n=this,t=!1;return this._linkTypesFetched||this._fetchingLinkTypes||(this._fetchingLinkTypes=!0,this._store.beginGetLinkTypes(function(){n._fetchingLinkTypes=!1;n._linkTypesFetched=!0;t&&n.redraw()},function(t){n._fetchingLinkTypes=!1;n._linkTypesFetched=!0;uu(t,null,n)})),t=!0,this._linkTypesFetched},t.prototype._isLinkOrTreeQuery=function(){var n=this._filterApplied&&(this._unfilteredIsLinkQuery||this._unfilteredIsTreeQuery);return this._isLinkQuery||this._isTreeQuery||n},t.prototype._updatePageRow=function(n,i){var o,r,f,l,a;var e=!1,h=n.getUniqueId(),u=this._pageData[h];if(!u)return!1;for(o=this._pageColumns,r=0;r<o.length;r++){if(f=n.getField(o[r]),!f){u[r]=null;e=!0;continue}if(f.fieldDefinition.id===s.CoreField.Id){u[r]=h;continue}var c=f.getValue(),v=!!i,y=dt.defaultComparer(u[r],c)!==0;y&&(c||!t.FIELD_IDS_NOT_IN_WORK_ITEM.has(f.fieldDefinition.id))&&(v&&(l=o[r],a=this._displayColumnsMap[l],i[a]=!0),u[r]=c,e=!0)}return e&&this._workItemsProvider&&this._workItemsProvider instanceof si.QueryResultsProvider&&this._workItemsProvider.updateQueryResultModelPayloadRow(h,u),e},t.prototype._updateWorkItemCache=function(n,t,i){var r=this,u=new ru(bi.PageSizes.QUERY-this._workItemsNeeded.length,this._pageData,this._workItems,function(n){return Math.abs(r._getExpandState(n))},function(n){return r._getExpandState(n)<0}),f=u.getItemsNeededToPage(n.map(function(n){return n[1]}),t.map(function(n){return n[1]}),i.map(function(n){return n[1]}));this._workItemsNeeded=this._workItemsNeeded.concat(f);this._workItemsNeeded=vt.subtract(this._workItemsNeeded,this._workItemsFailedToFetch);this._workItemsNeeded.length>0&&this.delayExecute("pageWorkItems",100,!0,function(){r._pageWorkItems()})},t.prototype._dirtyStatusChanged=function(n){this._fire("dirty-status-changed",[n])},t.prototype._updateDirtyStatus=function(n){var f,i,t,e,r=[],u;for(this._managedWorkItems||(this._managedWorkItems={}),t=0,e=n.length;t<e;t++)u=n[t],i=this._managedWorkItems[u],i===!0?f=!0:i!==!1&&r.push(u);r.length>0&&this._pendManagedWorkItemIds(r);f&&this._dirtyStatusChanged()},t.prototype._pendManagedWorkItemIds=function(n){var t,i;if(n.length>0){for(this._pendingManaged||(this._pendingManaged={}),t=0,i=n.length;t<i;t++)this._pendingManaged[n[t]]=!0;this.delayExecute("pendManagedWorkItemIds",250,!1,this._checkInterested)}},t.prototype._checkInterested=function(){var i=this._pendingManaged,u=this._managedWorkItems,f=this.getUnfilteredWorkItemIds(),r=0,n,t,e;for(n in i)i.hasOwnProperty(n)&&(u[n]=!1,r++);for(t=0,e=f.length;t<e&&r>0;t++)n=f[t],n in i&&(u[n]=!0,r--);this._pendingManaged=null;this._dirtyStatusChanged()},t.prototype._updateRow=function(t,i,r,u,f,e){n.prototype._updateRow.call(this,t,i,r,u,f,e);var h=ki.WorkItemManager.get(this._store).getWorkItem(this._workItems[r]),o=t.row,s=t.gutterRow;o.hasClass("dirty-workitem-row")&&o.removeClass("dirty-workitem-row");o.hasClass("invalid-workitem-row")&&o.removeClass("invalid-workitem-row");s&&s.hasClass("invalid-workitem-row")&&s.removeClass("invalid-workitem-row");h&&h.isDirty()&&(o.addClass("dirty-workitem-row"),(!h.isValid()||h.hasError())&&(o.addClass("invalid-workitem-row"),s&&s.addClass("invalid-workitem-row")))},t.prototype._getDirtyWorkItems=function(){for(var e,n,i,o=this.getUnfilteredWorkItemIds(),r={},u=[],s=ki.WorkItemManager.get(this._store),t=0,f=o;t<f.length;t++)e=f[t],n=s.getWorkItem(e),n&&(i=n.getUniqueId(),!n.isDirty()||i in r||(r[i]=!0,u.push(n)));return u},t.prototype._beginEnsureSelectionIsAvailable=function(n,t){this.beginPageSelectedWorkItems(n,t,!0)},t.prototype._sortAndRemoveDuplicates=function(n,t){var i={},r={};return $.each(n,function(n,t){i[t]=!0}),$.map(t,function(n){if(i[n]&&!r[n])return r[n]=!0,n})},t.prototype._clearCachedFilterValues=function(){this._unfilteredWorkItems=null;this._unfilteredExpandStates=null;this._unfilteredIsLinkQuery=null;this._unfilteredIsTreeQuery=null;this._filterApplied=!1},t.prototype._reinstateUnfilteredData=function(){this._options.source=this._unfilteredWorkItems;this._workItems=this._unfilteredWorkItems;this._options.expandStates=this._unfilteredExpandStates;this._isLinkQuery=this._unfilteredIsLinkQuery;this._isTreeQuery=this._unfilteredIsTreeQuery;this._queriesHubContext&&this._queriesHubContext.triageViewActionCreator.applyFilters(this._workItems,this._filterManager.getFilters())},t.prototype._pageFirstThousand=function(){var n=this,i=Object.keys(this._pageData).length;this._pageNextSetOfWorkItems(t.FILTER_PAGE_SIZE-i).then(function(){n._applyFilter()})},t.prototype._applyFilter=function(){this._filterManager.isFiltering()?this.filterWorkItems(this._filterManager.filter()):(this._updateFilterMessage(),this._queriesHubContext&&this._queriesHubContext.triageViewActionCreator.clearFilter())},t.prototype._pageNextSetOfWorkItems=function(n){for(var r,u=this._getUniqueUnfilteredIds(),t=[],i=0;i<u.length&&t.length<n;i++)r=u[i],this.isWorkItemPaged(r)||t.push(r);return this._pageWorkItemsByIds(t)},t.prototype._pageWorkItemsByIds=function(n){var t=this,i=l.defer(),u=function(){var i=n.filter(function(n){return t._pageData[n]==null});return i=vt.subtract(i,t._workItemsFailedToFetch),i.slice(0,bi.PageSizes.QUERY)},r=function(){var n=u();n.length>0?t.pageWorkItems(n,function(){r()}):i.resolve(null)};return r(),i.promise},t.prototype.isWorkItemPaged=function(n){return n in this._pageData},t.prototype.pageWorkItems=function(n,t){this._workItemsNeeded=this._workItemsNeeded.concat(n);this._pageWorkItems(t)},t.prototype.getWorkItemPageData=function(n){return this._pageData[n].slice(0)},t.prototype.getFilterManager=function(){return this._filterManager},t.prototype._getWorkItemFieldValueFromPageData=function(n,t){var r=this._pageData[n],i;return!!r&&(i=this._pageColumnMap[t],typeof i=="number")?rr.Field.convertValueToDisplayString(r[i]):dt.empty},t.COPY_QUERY_URL_DAYS_TO_EXPIRE=90,t.MAX_WORKITEMS_LOCALSORT=400,t.CHANGE_WORK_ITEM_TYPE_ID="change-work-item-type",t.enhancementTypeName="tfs.wit.queryresultgrid",t._gridMessageClass="grid-message-area",t._gridHasMessageFlag="has-grid-message-area",t._showAllItemsLink="showAllItemsLinkId",t._showFilteredItemsLink="showFilteredItemsLinkId",t._copyQueryUrlExpirationMessage="<br><br><b>"+dt.format(nr.CopyQueryURLExpirationMessage,t.COPY_QUERY_URL_DAYS_TO_EXPIRE)+"<\/b>",t.LOCAL_SORT_FEATURE="WebAccess.WIT.QueryResults.LocalSort",t.DATASOURCE_NAME="QueryResultGrid",t.COMMAND_ID_EMAIL_QUERY_RESULT="email-query-result",t.COMMAND_ID_EMAIL_SELECTION="email-selection",t.COMMAND_ID_RESTORE="restore-work-item",t.COMMAND_ID_DESTROY="destroy-work-item",t.COMMAND_ID_UNFOLLOW="unfollow-work-item",t.COMMAND_ID_IMPORTCSV="import-csv",t.FILTER_PAGE_SIZE=1e3,t.EXPAND_COLUMN_NAME="expand-column",t.COLLAPSE_COLUMN_NAME="collapse-column",t.FIELD_IDS_NOT_IN_WORK_ITEM=new Set([s.DalFields.AreaLevel1,s.DalFields.AreaLevel2,s.DalFields.AreaLevel3,s.DalFields.AreaLevel4,s.DalFields.AreaLevel5,s.DalFields.AreaLevel6,s.DalFields.AreaLevel7,s.DalFields.IterationLevel1,s.DalFields.IterationLevel2,s.DalFields.IterationLevel3,s.DalFields.IterationLevel4,s.DalFields.IterationLevel5,s.DalFields.IterationLevel6,s.DalFields.IterationLevel7]),t}(g.GridO);t.QueryResultGrid=br;ni.initClassPrototype(br,{_workItems:null,_workItemsNeeded:null,_links:null,_displayColumns:null,_displayColumnsMap:null,_sortColumns:null,_rootCount:0,_allowSort:!0,_pageColumns:null,_pageColumnMap:null,_pageData:null,_store:null,_projectName:null,_fetching:!1,_linkTypesFetched:!1,_fetchingLinkTypes:!1,_saving:!1,_lastVisibleRange:null,_workItemsProvider:null,_workItemsProviderVersion:0,_workItemsNavigator:null,_navigateNextDelegate:null,_navigatePreviousDelegate:null,_refreshDelegate:null,_workItemChangedDelegate:null,_filterApplied:!1,_filterManager:null,_unfilteredWorkItems:null,_unfilteredExpandStates:null,_unfilteredIsLinkQuery:null,_unfilteredIsTreeQuery:null,_isLinkQuery:!1,_isTreeQuery:!1,_emptyQueryResults:!1,_managedWorkItems:null,_pendingManaged:null,_allowSingleClickOpen:!0,_allowInteractionWithTitle:!0});ni.classExtend(br,fu.ControlExtensions);ru=function(){function n(n,t,i,r,u){this._pageSize=n;this._cache=t;this._workItems=i;this._getDescendentCount=r;this._isCollapsed=u}return n.prototype.getItemsNeededToPage=function(n,t,i){var r,u,f,e,o,s;if(!(t.length<=0)&&!(this._pageSize<=0))return r=this._getUnpagedItemsInRange(t,this._pageSize),u=Math.floor(this._pageSize/4),n.reverse(),f=n.slice(0,u),r=r.concat(this._getUnpagedItemsInRange(f,this._pageSize-r.length)),e=i.slice(0,u),r=r.concat(this._getUnpagedItemsInRange(e,this._pageSize-r.length)),r.length>0&&(o=n.slice(u),r=r.concat(this._getUnpagedItemsInRange(o,this._pageSize-r.length)),s=i.slice(u),r=r.concat(this._getUnpagedItemsInRange(s,this._pageSize-r.length)),r.length<this._pageSize&&(r=r.concat(this._getUnpagedCollapsedItems(t,this._pageSize-r.length)))),r},n.prototype._getUnpagedCollapsedItems=function(n,t){for(var s,u=[],e,r,o,f=[],i=0;i<n.length;i++)r=n[i],this._isCollapsed(r)&&f.push(r);while(u.length<t&&f.length>0)if(r=f.shift(),o=this._getDescendentCount(r),o>0)for(i=r+1;i<=r+o;i++){if(e=this._workItems[i],!(e in this._cache)&&(u.push(e),u.length>=t))break;s=this._getDescendentCount(i);s>0&&(f.push(i),i+=s)}return u},n.prototype._getUnpagedItemsInRange=function(n,t){for(var u=[],i,r=0;r<n.length;r++){if(u.length>=t)break;i=this._workItems[n[r]];i>0&&!(i in this._cache)&&u.push(i)}return u},n}();t.QueryResultGridPager=ru;ou=function(n){function t(i,r){var u=__construct(this,n,[i]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._grid=r,u.registerShortcut("j",{description:nr.KeyboardShortcutDescription_Next_Item,action:function(){t.simulateKeyDownEventOnGrid(u._grid,gt.KeyCode.DOWN)},element:u._grid.getElement()[0]}),u.registerShortcut("k",{description:nr.KeyboardShortcutDescription_Previous_Item,action:function(){t.simulateKeyDownEventOnGrid(u._grid,gt.KeyCode.UP)},element:u._grid.getElement()[0]}),u.registerShortcut("shift+j",{description:"Expand Selection Down",action:function(){t.simulateKeyDownEventOnGrid(u._grid,gt.KeyCode.DOWN,!1,!0)},hideFromHelpDialog:!0,element:u._grid.getElement()[0]}),u.registerShortcut("shift+k",{description:"Expand Selection Up",action:function(){t.simulateKeyDownEventOnGrid(u._grid,gt.KeyCode.UP,!1,!0)},hideFromHelpDialog:!0,element:u._grid.getElement()[0]}),u}return __extends(t,n),t.simulateKeyDownEventOnGrid=function(n,t,i,r){if(i===void 0&&(i=!1),r===void 0&&(r=!1),n){n.focus(0);var u=$.Event("keydown");u.keyCode=t;u.ctrlKey=i;u.shiftKey=r;n.getFocusElement().trigger(u)}},t}(p.ShortcutGroupDefinition);t.QueryResultGridShortcutGroup=ou;iu=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.processColumns=function(n){var t=n.filter(function(n){return!dt.equals(n.name,s.CoreFieldRefNames.Id,!0)&&!dt.equals(n.name,br.EXPAND_COLUMN_NAME,!0)&&!dt.equals(n.name,br.COLLAPSE_COLUMN_NAME,!0)}),i={name:s.CoreFieldRefNames.Id,fieldId:s.CoreField.Id,text:nr.CopySelectedWorkItemsIdColumnTitle,getColumnValue:function(n){var t=this.getWorkItemIdAtDataIndex(n);return t<=0?"":vr.WorkItemHtmlTableFormatter.getIdColumnValue(t,this._options.tfsContext)},noHtmlEncode:!0};return t.unshift(i),t},t.prototype.getFormattedColumnValue=function(n,t){if(n.isIdentity){var i=w.WITIdentityHelpers.parseUniquefiedIdentityName(t);if(i)return i.displayName}return t},t}(g.HtmlTableFormatter);t.QueryResultHtmlTableFormatter=iu;ni.initClassPrototype(iu,{_options:null,_grid:null});t.createTemporaryQueryIdForSelectedWorkItemIds=su;nt.menuManager.attachExecuteCommand(function(n,t){function w(n){ni.requireModules(["Admin/Scripts/TFS.Admin.SendMail","WorkItemTracking/Scripts/Dialogs/Models/EmailWorkItems"]).spread(function(t,i){t.Dialogs.sendMail(new i.EmailWorkItemsDialogModel(n))})}var i=t.get_commandArgument(),h,r=i.tfsContext||fu.getDefault(),c,l,a,u,f,e,o,v,y,p;switch(t.get_commandName()){case"copy-selection-html":var s=i.grid,b=s.getSelectionCount(),k=$.map(s.getColumns(),function(n){return n.name});return s.copySelectedItems(iu,!0),c={NumberOfSelectedWorkItems:b,ColumnNames:k,CurrentController:r.navigation.currentController,CurrentAction:r.navigation.currentAction},at.publishEvent(new at.TelemetryEventData(ci.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ci.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_COPY_SELECTION_AS_HTML,c)),!1;case br.COMMAND_ID_DESTROY:return i.grid.destroyWorkItems(gi.RecycleBinTelemetryConstants.CONTEXT_MENU,undefined),!1;case br.COMMAND_ID_RESTORE:return i.grid.restoreWorkItems(gi.RecycleBinTelemetryConstants.CONTEXT_MENU,undefined),!1;case br.COMMAND_ID_UNFOLLOW:return ut.logTracePoint("Follows.UnfollowsClicked"),l=i.selectedWorkItems,a=i.queryResultsProvider,vu(l,a,r,n),!1;case br.COMMAND_ID_EMAIL_SELECTION:ut.logTracePoint("SendMail.SendEmailContextMenuClicked");u=i.queryResultsProvider;try{f=u.queryResultsModel;e=[];f&&f.columns&&(e=$.map(f.columns,function(n){return n.name}));o={workItemSelectionOption:{workItems:i.selectedWorkItems,fields:e,store:u.queryDefinition.project,projectId:r.navigation.projectId}};lu(r,u,i.selectedWorkItems,e,[],function(n){var t=hr.TempQueryUtils.createTempQueryLink(r,n);$.extend(o.workItemSelectionOption,{extendedText:t,tempQueryId:n});w(o)},function(){w(o)})}catch(g){v={buttons:[d.MessageDialog.buttons.ok],width:"auto",contentText:g.Message,resizable:!1,title:nr.ErrorSendingEmail};d.show(d.MessageDialog,v)}return!1;case"bulk-edit-workitems":return ni.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.BulkEdit"],function(n){h={tfsContext:r,okCallback:function(t){var i={container:this._element};n.bulkUpdateWorkItems(r,t.workItemIds,t.changes,i)}};n.BulkEditDialogs.bulkEditWorkItems(i.selectedWorkItems,i.selectedWorkItemProjectTypeMapping,h)}),!1;case"link-to-new":return y=$.extend({},{tfsContext:r},i.options),cr.useWITDialogs().then(function(n){return n.newLinkedWorkItem(i.baseId,i.selectedIds,y)}),!1;case"link-to-existing":return p=$.extend({},{tfsContext:r},i.options),cr.useWITDialogs().then(function(n){return n.linkToExistingWorkItem(i.baseId,i.selectedIds,p)}),!1;case"create-copy":return cr.useWITDialogs().then(function(n){return n.createCopyOfWorkItem(i.workItemId,{tfsContext:r})}),!1;case"use-as-a-template":return cr.useWITDialogs().then(function(n){return n.useWorkItemAsATemplate(i.workItemId,{tfsContext:r})}),!1}});t.registerEnhancements=hu;hu()});

define("WorkItemTracking/SharedScripts/QueryResultToolbar",["require","exports","VSS/Resources/VSS.Resources.Common","VSS/Controls","VSS/Utils/Core","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/VSS","VSS/Service","VSS/Events/Services","Presentation/Scripts/TFS/TFS.Host.TfsContext","WorkItemTracking/Scripts/Controls/Query/QueryResultGrid","OfficeFabric/Utilities","WorkItemTracking/Scripts/Controls/WorkItemsProvider","WorkItemTracking/Scripts/Filtering/FilterManager","WorkItemTracking/Scripts/Utils/WorkItemPermissionDataHelper","WorkItemTracking/SharedScripts/QueryResultMenuBar"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var d=h.TfsContext,w=u.delegate,b="toggle-filter",k=function(n){function t(t){var i=__construct(this,n,[t]),r,u;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onQueryResultScenarioEnded=function(){i._contributedMenuItemsLoaded||(i._contributedMenuItemsLoaded=!0,i._menuBar.refreshContributedItems())},u=i,i._contributedMenuItemsLoaded=!1,i._getActionArgsDelegate=function(){return u._onGetMenuItemActionArguments(this)},i._onGridDirtyStatusChangedDelegate=w(i,i.onGridDirtyStatusChanged),i._onCommandStatusChangedDelegate=w(i,i.onCommandStatusChanged),i._onSelectedWorkItemChangedDelegate=w(i,i.onSelectedWorkItemChanged),i._onPermissionDataAvailableDelegate=w(i,i._onPermissionDataAvailable),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"toolbar query-result-grid-toolbar"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._menuBar=this._createMenuBar(this._element)},t.prototype.dispose=function(){this.unbind();n.prototype.dispose.call(this)},t.prototype.bind=function(n){var t;this.unbind();this._grid=n;t=this._grid.getElement();this._bind(t,"dirty-status-changed",this._onGridDirtyStatusChangedDelegate,!0);this._bind(t,"commandStatusChanged",this._onCommandStatusChangedDelegate,!0);this._bind(t,"selectedWorkItemChanged",this._onSelectedWorkItemChangedDelegate,!0);s.getService().attachEvent(a.WorkItemsProvider.EVENT_QUERY_PROVIDER_DIRTY_CHANGED,this._onGridDirtyStatusChangedDelegate);s.getService().attachEvent(y.WorkItemPermissionActions.PERMISSION_DATA_AVAILABLE,this._onPermissionDataAvailableDelegate);o.getLocalService(s.EventService).attachEvent("queryResultScenarioEnded",this._onQueryResultScenarioEnded);this._updateMenuItems()},t.prototype.bindFilterBar=function(n){this._filterBar=n;this._filterBar&&this._tryBindFilterManagerEvent()},t.prototype._tryBindFilterManagerEvent=function(){var n=this._filterBar.getFilterManager();n&&(n.attachEvent(v.FilterManager.EVENT_FILTER_CHANGED,this._filterChanged),n.attachEvent(v.FilterManager.EVENT_FILTER_CLEARED,this._filterChanged))},t.prototype._filterChanged=function(){var n,i,t;this._filterBar&&(n=this._filterBar.getFilterManager(),n&&(i=n.isFiltering(),t=this._menuBar.getItem(b),t&&t.update(__assign(__assign({},this._getFilterMenuItem()),{icon:i?"bowtie-icon bowtie-search-filter-fill":"bowtie-icon bowtie-search-filter"}))))},t.prototype.unbind=function(){var n,t;this._grid&&(n=this._grid.getElement(),this._unbind(n,"dirty-status-changed",this._onGridDirtyStatusChangedDelegate,!0),this._unbind(n,"commandStatusChanged",this._onCommandStatusChangedDelegate,!0),this._unbind(n,"selectedWorkItemChanged",this._onSelectedWorkItemChangedDelegate,!0),this._grid=null);this._filterBar&&(t=this._filterBar.getFilterManager(),t&&(t.detachEvent(v.FilterManager.EVENT_FILTER_CHANGED,this._filterChanged),t.detachEvent(v.FilterManager.EVENT_FILTER_CLEARED,this._filterChanged)),this._filterBar=null);s.getService().detachEvent(a.WorkItemsProvider.EVENT_QUERY_PROVIDER_DIRTY_CHANGED,this._onGridDirtyStatusChangedDelegate);s.getService().detachEvent(y.WorkItemPermissionActions.PERMISSION_DATA_AVAILABLE,this._onPermissionDataAvailableDelegate);o.getLocalService(s.EventService).detachEvent("queryResultScenarioEnded",this._onQueryResultScenarioEnded)},t.prototype.onSelectedWorkItemChanged=function(){this._updateMenuItems()},t.prototype.onCommandStatusChanged=function(){this._updateMenuItems()},t.prototype.onGridDirtyStatusChanged=function(){this._updateMenuItems()},t.prototype._getGrid=function(){return this._grid},t.prototype._createMenuBar=function(n){var t={items:this._createMenubarItems(),executeAction:w(this,this._onMenubarItemClick),contributionIds:["ms.vss-work-web.work-item-query-results-toolbar-menu"],contextInfo:{item:{getContributionContext:this._getContributionContext.bind(this)}},suppressInitContributions:!0};return r.BaseControl.createIn(p.QueryResultMenuBar,n,t)},t.prototype._onGetMenuItemActionArguments=function(n){if(this._grid)return this._grid.getActionArguments(n.getAction(),t.enhancementTypeName)},t.prototype._createMenubarItems=function(){var n=[];return n.push({id:"save-work-items",text:f.SaveResults,title:f.SaveResultsToolTip,showText:!1,icon:"bowtie-icon bowtie-save-all",arguments:this._getActionArgsDelegate}),n.push({id:"save-query",text:f.SaveQuery,title:"",showText:!0,noIcon:!0,setTitleOnlyOnOverflow:!0}),n.push({id:"refresh-work-items",text:f.Refresh,title:f.RefreshTooltip,showText:!1,icon:"bowtie-icon bowtie-navigate-refresh",arguments:this._getActionArgsDelegate}),n.push({id:"open-work-item",text:f.Open,showText:!1,icon:"bowtie-icon bowtie-arrow-open",arguments:this._getActionArgsDelegate}),this._options.tfsContext.standardAccessMode===!0&&(n.push({id:"link-to-new",text:f.LinkSelectedItemsToNewWorkItem,title:f.LinkSelectedItemsToNewWorkItem,showText:!1,icon:"bowtie-icon bowtie-work-item ",arguments:this._getActionArgsDelegate}),n.push({id:"link-to-existing",text:f.LinkToExistingItem,title:f.LinkToExistingItemToolTip,showText:!1,icon:"bowtie-icon bowtie-link",arguments:this._getActionArgsDelegate})),n.push({id:c.QueryResultGrid.COMMAND_ID_EMAIL_QUERY_RESULT,text:f.EmailQueryResult,title:f.EmailQueryResult,showText:!1,icon:"bowtie-icon bowtie-mail-message",arguments:this._getActionArgsDelegate}),n.push({separator:!0}),n.push({id:"expand-all-nodes",text:i.ExpandAll,title:i.ExpandAllToolTip,showText:!1,icon:"bowtie-icon bowtie-toggle-expand-all",arguments:this._getActionArgsDelegate}),n.push({id:"collapse-all-nodes",text:i.CollapseAll,title:i.CollapseAllToolTip,showText:!1,icon:"bowtie-icon bowtie-toggle-collapse-all",arguments:this._getActionArgsDelegate}),n.push({id:c.QueryResultGrid.COMMAND_ID_DESTROY,text:f.DestroyWorkItemsTooltip,title:f.DestroyWorkItemsTooltip,showText:!1,icon:"bowtie-icon bowtie-edit-delete",arguments:this._getActionArgsDelegate}),n.push({id:c.QueryResultGrid.COMMAND_ID_RESTORE,text:f.RestoreWorkItemsTooltip,title:f.RestoreWorkItemsTooltip,showText:!1,icon:"bowtie-icon bowtie-recycle-bin-restore",arguments:this._getActionArgsDelegate}),n.push({separator:!0}),n.push({id:"column-options",text:f.ColumnOptions,title:"",noIcon:!0,arguments:this._getActionArgsDelegate,setTitleOnlyOnOverflow:!0}),n.push({id:"share-link",text:f.CopyQueryURL,title:"",noIcon:!0,setTitleOnlyOnOverflow:!0}),this._options.hideFilter||n.push(this._getFilterMenuItem()),n},t.prototype._onMenubarItemClick=function(n){if(n.get_commandName()===b)this._filterBar&&(this._filterBar.toggle(),this._tryBindFilterManagerEvent());else if(this._grid)return this._grid.executeCommand(n,!1)},t.prototype._onPermissionDataAvailable=function(){this._updateMenuItems()},t.prototype._getContributionContext=function(){return this._grid?this._grid.getQueryContributionContext():null},t.prototype._updateMenuItems=function(){this.delayExecute("updateMenuItems",250,!0,w(this,this._updateMenuItemsNow))},t.prototype._updateMenuItemsNow=function(){var n=[];this._grid&&(n=this._grid.getCommandStates());n.push({id:b,toggled:this._filterBar&&this._filterBar.isVisible()});this._menuBar.updateCommandStates(n)},t.prototype._getFilterMenuItem=function(){return{id:b,text:i.Filter,title:i.FilterToolTip,showText:!1,icon:"bowtie-icon bowtie-search-filter",cssClass:"right-align toggle-filter-bar",arguments:this._getActionArgsDelegate}},t.enhancementTypeName="tfs.wit.queryResultGridToolbar",__decorate([l.autobind],t.prototype,"_filterChanged",null),t}(r.BaseControl);return e.initClassPrototype(k,{_grid:null,_menuBar:null,_getActionArgsDelegate:null,_onGridDirtyStatusChangedDelegate:null,_onCommandStatusChangedDelegate:null,_onSelectedWorkItemChangedDelegate:null,_onPermissionDataAvailableDelegate:null}),e.classExtend(k,d.ControlExtensions),r.Enhancement.registerEnhancement(k,".query-result-grid-toolbar"),k});

define("WorkItemTracking/SharedScripts/QueryEditor",["require","exports","VSS/Controls/Combos","VSS/Controls","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/Controls/CheckboxList","VSS/Diag","VSS/Controls/Menus","VSS/Controls/Navigation","VSS/Controls/Splitter","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","TFS/WorkItemTracking/Contracts","VSS/Service","VSS/Settings","WorkItemTracking/Scripts/Controls/Query/QueryFilter","WorkItemTracking/Scripts/Controls/Query/QueryResultInfoBar","WorkItemTracking/Scripts/Controls/WorkItemsProvider","WorkItemTracking/Scripts/OM/QueryAdapter","WorkItemTracking/Scripts/OM/QueryConstants","WorkItemTracking/Scripts/Utils/WorkItemViewActions","WorkItemTracking/SharedScripts/QueryHierarchy","VSS/VSS","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Service","VSS/Events/Services","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.Common","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Telemetry/Services","WorkItemTracking/Scripts/Controls/Query/QueryResultGrid","WorkItemTracking/SharedScripts/QueryResultToolbar","WorkItemTracking/Scripts/CustomerIntelligence"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt){Object.defineProperty(t,"__esModule",{value:!0});t.QueryEditor=void 0;var pt=rt.TfsContext,at=u.delegate,yt="queryEditorWorkItemPaneHeight",wt=100,bt=360,vt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._enableCopyQueryCommand=!0,i._resizeDelegate=function(){i.handleResize()},i._saveSplitterSizeDelegate=function(){i.saveSplitterSize()},i._onKeyDown=function(n){if(e.KeyUtils.isExclusivelyCommandOrMetaKeyBasedOnPlatform(n)&&n.keyCode===e.KeyCode.S)return i._queryProvider.isDirty()&&i.saveQuery(),!1},i._refreshDelegate=at(i,i._refresh),i._refreshMenuBarDelegate=function(){return i._refreshMenuBar()},i._treeFiltersLinkTypesIndexToName={},i._treeFiltersLinkTypesNameToIndex={},i._localSettingsService=y.getLocalService(p.LocalSettingsService),i}return __extends(t,n),t.prototype.setFocusOnRefresh=function(){this._focusFirstFieldOnRefresh=!0},t.prototype.getResultsGrid=function(){return this._grid},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"query-editor",infoBar:!0},t))},t.prototype.dispose=function(){this._unbind(this._splitter.leftPane,"keydown",this._onKeyDown);this._splitter._unbind("changed",this._saveSplitterSizeDelegate);$(window).off("resize",this._resizeDelegate);this._queryProvider&&(this._queryProvider.detachEvent(k.WorkItemsProvider.EVENT_REFRESH_REQUIRED,this._refreshDelegate),this._queryProvider.detachEvent(k.QueryResultsProvider.EVENT_QUERY_RESULTS_MODEL_CHANGED,this._refreshDelegate),this._queryProvider=null);ft.getService().detachEvent(k.WorkItemsProvider.EVENT_QUERY_PROVIDER_DIRTY_CHANGED,this._refreshMenuBarDelegate);this._gridToolbar&&this._gridToolbar.dispose();this.detachNavigatorEvents();n.prototype.dispose.call(this)},t.prototype.setProvider=function(n,t,i,r){(this._queryProvider&&this._queryProvider.clearEvents(),this._shouldConvertCurrentIterations=!0,this._queryProvider=n,this._queryProvider.attachEvent(k.WorkItemsProvider.EVENT_REFRESH_REQUIRED,this._refreshDelegate),this._queryProvider.attachEvent(k.QueryResultsProvider.EVENT_QUERY_RESULTS_MODEL_CHANGED,this._refreshDelegate),ft.getService().attachEvent(k.WorkItemsProvider.EVENT_QUERY_PROVIDER_DIRTY_CHANGED,this._refreshMenuBarDelegate),this._queryAdapter=n.project.store.tfsConnection.getService(d.QueryAdapter),this._refreshMenuBar(),r&&r.skipRefresh)||this._refresh(t,i,r,!0)},t.prototype.getProvider=function(){return this._queryProvider},t.prototype.detachNavigatorEvents=function(){this._grid.detachNavigatorEvents()},t.prototype.attachNavigatorEvents=function(){this._grid.attachNavigatorEvents()},t.prototype.scrollIntoView=function(n){this._grid.getSelectedRowIntoView(n)},t.prototype.saveQuery=function(){this._grid.saveQuery()},t.prototype.setIsCopiedFromUrl=function(n){this._queryProvider&&this._queryProvider.queryDefinition&&(this._queryProvider.queryDefinition.customQuery=n)},t.prototype.runQuery=function(){var n=this;this.getResultsGrid().showLoadingIndicator();this._queryProvider.invalidateResults();this.setProvider(this._queryProvider,function(){s.logTracePoint("QueryEditor.runQuery.complete");n.getResultsGrid().hideLoadingIndicator()},function(){n.getResultsGrid().hideLoadingIndicator()})},t.prototype.revert=function(){this._queryProvider.revertEditInfo(!1);ft.getService().fire(nt.WorkItemViewActions.WORKITEM_VIEW_INFO_CHANGE,null,"");this.setProvider(this._queryProvider,function(){s.logTracePoint("QueryEditor.revert.complete")})},t.prototype.getLinkFilterModeCombo=function(){return this._linkFilterModeCombo},t.prototype.getTreeFilterModeCombo=function(){return this._treeFilterModeCombo},t.prototype.handleResize=function(){var n=this.getSplitterMaxSize();this._splitter.setMaxWidth(n);this._splitter.rightPane.height()>n&&this._splitter.resize(n,!0);this.saveSplitterSize()},t.prototype._createElement=function(){var e=this,h=this,t=r.getId(),d,u,c,k,f,l,v,y,p;n.prototype._createElement.call(this);this._splitter=this._createSplitter();this._splitter._bind("changed",this._saveSplitterSizeDelegate);$(window).resize(this._resizeDelegate);this._toolbarHost=this._createToolbarHost();this._menubar=this._createMenuBar(this._toolbarHost);d=this._createQueryOptionsHost();this._splitter.leftPane.attr("tabindex","-1");this._filters=$("<div />").addClass("filters").appendTo(this._splitter.leftPane);u=this._createFieldSetHeader(a.QueryEditorSourceFilterGroupingText,"source");this._sourceFilter=r.BaseControl.createIn(w.QueryFilter,u,{cssClass:"source-filter",tfsContext:this._options.tfsContext});this._filters.append(u);this._linkFiltersHost=$("<div />").addClass("link").hide();u=this._createFieldSetHeader(a.FiltersForLinkedWorkItems,"link");this._linkFilter=r.BaseControl.createIn(w.QueryFilter,u,{cssClass:"link-filter",tfsContext:this._options.tfsContext});this._linkFiltersHost.append(u);c=$("<div />").addClass("query-mode").appendTo(this._linkFiltersHost);k=t+"_queryMode";$("<label />").text(a.QueryEditorQueryModeLabel||"").attr("for",t+"_queryMode").appendTo(c);this._linkFilterModeCombo=r.BaseControl.createIn(i.Combo,c,{id:k,value:a.QueryEditorQueryModeMustHave,mode:"drop",allowEdit:!1,source:[a.QueryEditorQueryModeMustHave,a.QueryEditorQueryModeMayHave,a.QueryEditorQueryModeDoesNotContain],indexChanged:function(){e._updateQueryMode()}});f=$("<div />").addClass("link-types").appendTo(this._linkFiltersHost);$("<label />").text(a.QueryEditorLinkTypeLabel||"").attr("for",t+"_linkTypes").appendTo(f);f.append($("<br />"));this._linkFiltersLinkTypesAny=$("<input/>").attr({type:"radio",name:"link-types-radio",id:t+"_linkTypesAny"}).click(function(){e._linkFiltersLinkTypes.enableElement(!1);e._linkFilterLinkTypeChanged("")}).appendTo(f);$("<label />").text(a.ReturnLinksOfAnyType).attr("for",t+"_linkTypesAny").appendTo(f);f.append($("<br />"));this._linkFiltersLinkTypesSelected=$("<input/>").attr({type:"radio",name:"link-types-radio",id:t+"_linkTypesSelected"}).click(function(){e._linkFiltersLinkTypes.enableElement(!0);e._linkFilterLinkTypeChanged(h._linkFiltersLinkTypes.getCheckedValues().join(","))}).appendTo(f);$("<label />").text(a.ReturnSelectedLinkTypes).attr("for",t+"_linkTypesSelected").appendTo(f);this._linkFiltersLinkTypes=r.BaseControl.createIn(o.CheckboxList,f,{id:t+"_linkTypes",cssClass:"link-types",useArrowKeysForNavigation:!0,change:function(){h._linkFilterLinkTypeChanged(h._linkFiltersLinkTypes.getCheckedValues().join(","))}});this._filters.append(this._linkFiltersHost);this._treeFiltersHost=$("<div />").addClass("tree").hide();u=this._createFieldSetHeader(a.QueryEditorTargetFilterGroupingText,"tree");this._treeFilter=r.BaseControl.createIn(w.QueryFilter,u,{cssClass:"tree-filter",tfsContext:this._options.tfsContext});this._treeFiltersHost.append(u);l=$("<div />").addClass("query-mode").appendTo(this._treeFiltersHost);v=t+"_treeQueryMode";$("<label />").text(a.QueryEditorQueryModeLabel||"").attr("for",v).appendTo(l);this._treeFilterModeCombo=r.BaseControl.createIn(i.Combo,l,{id:v,value:a.QueryEditorQueryMatchTopLevelItems,mode:"drop",allowEdit:!1,source:[a.QueryEditorQueryMatchTopLevelItems,a.QueryEditorQueryMatchLinkedItems],indexChanged:function(){e._updateQueryMode()}});y=$("<div />").addClass("link-types").appendTo(this._treeFiltersHost);p=t+"_treeType";$("<label />").text(a.QueryEditorTreeTypeLabel||"").attr("for",p).appendTo(y);this._treeFiltersLinkTypesCombo=r.BaseControl.createIn(i.Combo,y,{id:p,mode:"drop",allowEdit:!1,indexChanged:function(n){e._updateTreeLinkType(n)}});this._filters.append(this._treeFiltersHost);this._gridInfoBar=this._options.infoBar===!0?r.BaseControl.createIn(b.QueryResultInfoBar,this._splitter.rightPane,{cssClass:"work-item-list-info",tfsContext:this._options.tfsContext}):this._options.infoBar;this._gridToolbar=this._createResultGridToolbar(this._splitter.rightPane);this._grid=this._createQueryResultGrid(this._splitter.rightPane);this._grid.setInitialSelectedWorkItemId(this._options.initialSelectedWorkItemId);new ht.QueryResultGridShortcutGroup(a.KeyboardShortcutGroup_Queries,this._grid);this._grid.setNavigator(this._options.workItemsNavigator);this._gridInfoBar&&this._gridInfoBar.bind(this._grid);this._gridToolbar&&this._gridToolbar.bind(this._grid);this._bind(this._splitter.leftPane,"keydown",this._onKeyDown);s.logTracePoint("QueryEditor._createElement.complete")},t.prototype.showElement=function(){n.prototype.showElement.call(this);this._splitter.attachResize(!0)},t.prototype.hideElement=function(){this._splitter.detachResize();n.prototype.hideElement.call(this)},t.prototype.isDirty=function(){return this._queryProvider?this._queryProvider.isDirty():!1},t.prototype.getQueryType=function(){return this._queryType},t.prototype.getQueryTypeItems=function(){return this._queryTypeItems},t.prototype.getQueryAcrossProjectsCheckboxControl=function(){return this._queryAcrossProjectsCheckboxControl},t.prototype._createSplitter=function(){return r.BaseControl.createIn(l.Splitter,this._element,{cssClass:"content",initialSize:this.getInitialSplitterSize(),maxWidth:this.getSplitterMaxSize(),minWidth:this.getSplitterMinSize(),fixedSide:"right",splitWidth:"350px",handleBarWidth:"5px"})},t.prototype._createQueryOptionsHost=function(){var f=this,n=$("<div />").addClass("query-options").appendTo(this._splitter.leftPane),t,i,u;return this._options.hideQueryType||(t=$("<div />").addClass("query-type").appendTo(n),i="query-type-label",$("<span />").addClass(i).attr("id",i).text(a.QueryEditorQueryTypeLabel).appendTo(t),this._queryTypeItems=this._createQueryTypeItems(),this._queryType=r.BaseControl.createIn(c.PivotFilter,t,{behavior:"dropdown",items:this._queryTypeItems,ariaAttributes:{labelledby:"query-type-label"},change:function(){return f._updateQueryMode(),!1}})),u=$("<div />").addClass("query-across-project-selector").appendTo(n),this._createQueryAcrossProjectsCheckbox(u),n},t.prototype.getInitialSplitterSize=function(){var n=this._localSettingsService.read(yt,undefined,p.LocalSettingsScope.Global);return n?parseInt(n):undefined},t.prototype.getSplitterMaxSize=function(){var n=$(document).height();return n-bt},t.prototype.getSplitterMinSize=function(){return wt},t.prototype.saveSplitterSize=function(){this._localSettingsService.write(yt,""+this._splitter.getFixedSidePixels(),p.LocalSettingsScope.Global)},t.prototype._queryAcrossProjects=function(){return this._queryAcrossProjectsCheckboxControl?this._queryAcrossProjectsCheckboxControl.prop("checked"):!0},t.prototype._createQueryAcrossProjectsCheckbox=function(n){var i=this,t=r.getId(),u=$("<label />").addClass("query-across-project-label").attr("for",t+"_queryAcrossProjectCheckbox").text(a.QueryAcrossProjects).appendTo(n);this._queryAcrossProjectsCheckboxControl=$("<input type='checkbox' />").addClass("query-across-project-checkbox").attr("id",t+"_queryAcrossProjectCheckbox").appendTo(n).on("change",function(){i._queryAcrossProjectsChanged()})},t.prototype._queryAcrossProjectsChanged=function(){var t=this._getEditInfo(),n=this._queryAcrossProjects();t.teamProject=n?null:this._queryProvider.project.name;this._queryProvider.setDirty(!0);this._updateFilters(this._model);this._publishSelectedProjectTelemetry(n)},t.prototype._publishSelectedProjectTelemetry=function(n){st.publishEvent(new st.TelemetryEventData(lt.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,lt.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_QUERYACROSSPROJECTS,{checked:n}))},t.prototype._createFieldSetHeader=function(n,t){var i=$("<fieldset />").addClass(t);return $("<legend />").text(n||"").appendTo(i),i},t.prototype._createToolbarHost=function(){return $("<div />").addClass("toolbar").appendTo(this._splitter.leftPane)},t.prototype._createQueryTypeItems=function(){var n=[];return n.push({id:"flat",value:"flat",text:a.QueryEditorQueryTypeSimple,icon:"query-type-text bowtie-icon bowtie-view-list",selected:!0,disabled:!1}),this._options.tfsContext.standardAccessMode===!0&&(n.push({id:"link",value:"link",text:a.QueryEditorQueryTypeLink,icon:"query-type-text bowtie-icon bowtie-view-list-group",disabled:!1}),n.push({id:"tree",value:"tree",text:a.QueryEditorQueryTypeTree,icon:"query-type-text bowtie-icon bowtie-view-list-tree",disabled:!1})),n},t.prototype._createResultGridToolbar=function(n){return r.BaseControl.createIn(ct,n,{cssClass:"work-item-list-toolbar",tfsContext:this._options.tfsContext,hideFilter:!0})},t.prototype._createQueryResultGrid=function(n){return r.BaseControl.createIn(ht.QueryResultGrid,n,{cssClass:"work-item-list",tfsContext:this._options.tfsContext,useZeroDataView:!0})},t.prototype._getGrid=function(){return this._grid},t.prototype._getModel=function(){return this._model},t.prototype._getEditInfo=function(){return this._model.editInfo},t.prototype.getSourceFilter=function(){return this._sourceFilter},t.prototype._refreshMenuBar=function(){this._menubar&&this._menubar.updateMenuItemStates()},t.prototype._refresh=function(n,t,i,r){var u=this,f,e,o;this._avoidGettingResults||(f=this._grid.getWorkItemsNavigator(),f&&f.setProvider(this._queryProvider),e=function(f){u._queryProvider&&(u._updateFilters(f),u._updateQueryTypes(),u._updateQueryAcrossProject(f.editInfo),i&&i.statusText&&u._grid.setStatusText(i.statusText),u._grid.beginShowResults(u._queryProvider,function(){typeof n=="function"&&n.call(u);u._updateFilters(f);u._focusFirstFieldOnRefresh&&r&&($("fieldset:visible td.field input",u._filters).first().focus(),u._focusFirstFieldOnRefresh=!1);ut.getLocalService(ft.EventService).fire("queryResultScenarioEnded",u)},t,i))},o=function(n){u._queryAdapter.beginEnsureFields(function(){u._queryAdapter.beginGetRecursiveLinkTypes(function(){u._queryAdapter.beginGetOneHopLinkTypes(function(){var i=u._getScopedProjectId(n.editInfo);i?u._queryAdapter.store.beginGetProject(i,function(){e(n)},t):u._queryAdapter.store.beginGetProjects(function(){e(n)},t)},t)},t)},t)},$(this._grid).trigger("queryResultsStarting"),this._avoidGettingResults=!0,this._queryProvider.beginGetResults(function(n){$(u._grid).trigger("queryResultsComplete");o(n);u._avoidGettingResults=!1},function(n){$(u._grid).trigger("queryResultsError",n);u._avoidGettingResults=!1},i&&i.runQuery))},t.prototype._updateQueryAcrossProject=function(n){this._queryAcrossProjectsCheckboxControl&&this._queryAcrossProjectsCheckboxControl.prop("checked",!this._isProjectScoped(n))},t.prototype._isProjectScoped=function(n){var t=!1;return n.teamProject&&(this._queryAdapter.isProjectMacro(n.teamProject,!1)||f.localeIgnoreCaseComparer(n.teamProject,this._queryProvider.project.name)===0)&&(t=!0),t},t.prototype._getScopedProjectId=function(n){return n.teamProject?this._queryAdapter.isProjectMacro(n.teamProject,!1)?this._options.tfsContext.navigation.projectId:n.teamProject:null},t.prototype._updateQueryTypes=function(){this._queryType&&this._queryTypeItems&&this._queryType.updateItems(this._queryTypeItems)},t.prototype._updateQueryMode=function(){var n=this._getEditInfo(),t=n.mode;if(this._queryType){switch(this._queryType.getSelectedItem().value){case"link":n.mode=this._getLinkFilterMode();break;case"tree":n.mode=this._getTreeFilterMode();break;default:n.mode=g.LinkQueryMode.WorkItems}this._updateUI();n.mode!==t&&(this._queryProvider.setDirty(!0),this._queryProvider.queryDefinition.queryType=v.QueryType[g.LinkQueryMode.getQueryType(n.mode)])}},t.prototype._updateFilters=function(n){var r,t,i,u;this._model=n;t=this._getEditInfo();r=this._queryProvider.project.store.getFieldDefinition(ot.CoreField.WorkItemType);t.sourceFilter=n.editInfo.sourceFilter||{clauses:[{logicalOperator:et.WiqlOperators_And,fieldName:"",operator:et.WiqlOperators_EqualTo,value:"",index:0,originalIndex:0}],groups:[]};t.treeTargetFilter=n.editInfo.treeTargetFilter||{clauses:[{logicalOperator:et.WiqlOperators_And,fieldName:r.name,operator:et.WiqlOperators_EqualTo,value:et.WiqlOperators_Any,index:0,originalIndex:0}],groups:[]};t.linkTargetFilter=n.editInfo.linkTargetFilter||{clauses:[{logicalOperator:et.WiqlOperators_And,fieldName:r.name,operator:et.WiqlOperators_EqualTo,value:et.WiqlOperators_Any,index:0,originalIndex:0}],groups:[]};i=this._getSelectedProject(this._getEditInfo());this._sourceFilter.setParameters(this._queryProvider,t.sourceFilter,i);this._treeFilter.setParameters(this._queryProvider,t.treeTargetFilter,i);this._linkFilter.setParameters(this._queryProvider,t.linkTargetFilter,i);this._updateLinkFilterMode(g.LinkQueryMode.LinksMustContain);this._populateOneHopLinkTypes();t.linkTypes?(this._linkFiltersLinkTypesSelected.prop("checked",!0),this._linkFiltersLinkTypes.enableElement(!0),this._linkFiltersLinkTypes.setCheckedValues($.map(t.linkTypes.split(","),function(n){return n.trim()}))):(this._linkFiltersLinkTypesAny.prop("checked",!0),this._linkFiltersLinkTypes.setCheckedValues([]),this._linkFiltersLinkTypes.enableElement(!1));this._updateTreeFilterMode(g.LinkQueryMode.LinksRecursive);this._populateTreeLinkTypes();t.treeLinkTypes?this._treeFiltersLinkTypesCombo.setSelectedIndex(this._treeFiltersLinkTypesNameToIndex[t.treeLinkTypes]):t.treeLinkTypes=this._treeFiltersLinkTypesIndexToName[this._treeFiltersLinkTypesCombo.getSelectedIndex()];this._queryType&&(g.LinkQueryMode.isTreeQuery(t.mode)?this._queryType.setSelectedItem(this._queryTypeItems[2],!1):g.LinkQueryMode.isLinkQuery(t.mode)?this._queryType.setSelectedItem(this._queryTypeItems[1],!1):this._queryType.setSelectedItem(this._queryTypeItems[0],!1));this._updateUI();u=v.QueryType[g.LinkQueryMode.getQueryType(t.mode)];this._queryProvider.queryDefinition.queryType!==u&&(this._queryProvider.queryDefinition.queryType=u)},t.prototype._getSelectedProject=function(n){var t=null;return n.teamProject&&(t=this._queryAdapter.isProjectMacro(n.teamProject,!1)?this._queryProvider.project:this._queryAdapter.store.hasProject(n.teamProject)?this._queryAdapter.store.getProject(n.teamProject):null),t},t.prototype._updateUI=function(){var n=this._getEditInfo();g.LinkQueryMode.isTreeQuery(n.mode)?(this._linkFiltersHost.hide(),this._updateTreeFilterMode(n.mode),this._treeFiltersHost.show()):g.LinkQueryMode.isLinkQuery(n.mode)?(this._treeFiltersHost.hide(),this._updateLinkFilterMode(n.mode),this._linkFiltersHost.show()):(this._treeFiltersHost.hide(),this._linkFiltersHost.hide())},t.prototype._updateLinkFilterMode=function(n){this._linkFilterModeCombo.setSelectedIndex(n-g.LinkQueryMode.LinksMustContain)},t.prototype._getLinkFilterMode=function(){var n;switch(this._linkFilterModeCombo.getValue()){case a.QueryEditorQueryModeMustHave:n=g.LinkQueryMode.LinksMustContain;break;case a.QueryEditorQueryModeMayHave:n=g.LinkQueryMode.LinksMayContain;break;case a.QueryEditorQueryModeDoesNotContain:n=g.LinkQueryMode.LinksDoesNotContain}return n},t.prototype._updateTreeFilterMode=function(n){this._treeFilterModeCombo.setSelectedIndex(n-g.LinkQueryMode.LinksRecursive)},t.prototype._getTreeFilterMode=function(){var n;switch(this._treeFilterModeCombo.getValue()){case a.QueryEditorQueryMatchTopLevelItems:n=g.LinkQueryMode.LinksRecursive;break;case a.QueryEditorQueryMatchLinkedItems:n=g.LinkQueryMode.LinksRecursiveReturnMatchingChildren}return n},t.prototype._populateTreeLinkTypes=function(){var n=this;this._queryAdapter.beginGetRecursiveLinkTypes(function(t){var i=[];$.each(t,function(t,r){n._treeFiltersLinkTypesIndexToName[t]=r.name;n._treeFiltersLinkTypesNameToIndex[r.name]=t;i.push(f.format("{0}/{1}",r.oppositeEnd.name,r.name))});n._treeFiltersLinkTypesCombo.setSource(i);n._treeFiltersLinkTypesCombo.setSelectedIndex(0)})},t.prototype._populateOneHopLinkTypes=function(){var n=this;this._queryAdapter.beginGetOneHopLinkTypes(function(t){var i=$.map(t,function(n){return n.name});i.sort(f.localeIgnoreCaseComparer);n._linkFiltersLinkTypes.setItems(i)})},t.prototype._updateTreeLinkType=function(n){var t=this._getEditInfo(),i=t.treeLinkTypes;t.treeLinkTypes=this._treeFiltersLinkTypesIndexToName[n];i!==t.treeLinkTypes&&this._queryProvider.setDirty(!0)},t.prototype._linkFilterLinkTypeChanged=function(n){var t=this._getEditInfo(),i=t.linkTypes;t.linkTypes=n;i!==n&&this._queryProvider.setDirty(!0)},t.prototype._createMenuBar=function(n){return r.BaseControl.createIn(h.MenuBar,n,{items:this._createMenubarItems(),executeAction:at(this,this._onMenubarItemClick),getCommandState:at(this,this._getCommandState)})},t.prototype._createMenubarItems=function(){function i(){return t._onGetMenuItemActionArguments(this)}var t=this,n=[];return n.push({id:"save-query",text:a.SaveQuery,showText:!1,title:a.SaveQuery,icon:"bowtie-icon bowtie-save"}),this._options.tfsContext.standardAccessMode===!0&&n.push({id:"save-query-as",text:a.SaveQueryAs,showText:!1,title:a.SaveQueryAsTooltip,icon:"bowtie-icon bowtie-save-as",arguments:function(){return{project:t._queryProvider.queryDefinition.project,querydefinition:t._queryProvider.queryDefinition}}}),n.push({id:"run-query",text:a.RunQuery,showText:!1,title:a.RunQuery,icon:"bowtie-icon bowtie-status-run"}),n.push({id:"revert-query-changes",text:a.RevertQueryChanges,showText:!1,title:a.RevertQueryChanges,icon:"bowtie-icon bowtie-edit-undo",arguments:i}),n.push({separator:!0}),n.push({id:"column-options",text:a.ColumnOptions,title:a.ColumnOptionsTooltip,noIcon:!0,arguments:i,setTitleOnlyOnOverflow:!0}),n.push({id:"share-link",text:a.CopyQueryURL,title:a.CopyQueryURLTitle,noIcon:!0,setTitleOnlyOnOverflow:!0}),n},t.prototype._onMenubarItemClick=function(n){var t=n.get_commandName();switch(t){case"save-query":return this.saveQuery(),!1;case"run-query":return this.runQuery(),!1;case"revert-query-changes":return this.revert(),!1;case"share-link":return this.getResultsGrid().shareLink(),!1}},t.prototype._onGetMenuItemActionArguments=function(n){var t=n.getAction();if(t==="column-options")return this._grid.getActionArguments(t)},t.prototype._getCommandState=function(n){if(n==="save-query"&&!(this._queryProvider&&this._queryProvider.isSaveable())||n==="revert-query-changes"&&!this.isDirty())return h.MenuItemState.Disabled;if(n==="share-link"){if(this._queryProvider&&this._queryProvider.queryDefinition&&tt.QueryDefinition.isSpecialQueryId(this._queryProvider.queryDefinition.id))return h.MenuItemState.Hidden;if(!this._enableCopyQueryCommand)return h.MenuItemState.Disabled}},t.enhancementTypeName="tfs.wit.queryEditor",t}(r.BaseControl);t.QueryEditor=vt;it.initClassPrototype(vt,{_queryProvider:null,_queryAdapter:null,_toolbarHost:null,_queryType:null,_queryTypeItems:null,_splitter:null,_filters:null,_grid:null,_gridInfoBar:null,_gridToolbar:null,_sourceFilter:null,_linkFilter:null,_treeFilter:null,_linkFiltersHost:null,_treeFiltersHost:null,_linkFiltersLinkTypesAny:null,_linkFiltersLinkTypesSelected:null,_linkFilterModeSelect:null,_treeFilterModeSelect:null,_linkFiltersLinkTypes:null,_treeFiltersLinkTypes:null,_model:null,_menubar:null,_refreshDelegate:null});it.classExtend(vt,pt.ControlExtensions)});

define("TestManagement/Scripts/TFS.TestManagement.SelectWorkItemView",["require","exports","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.WebSettingsService","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","TestManagement/Scripts/Resources/TFS.Resources.TestManagement","TestManagement/Scripts/TFS.TestManagement","TestManagement/Scripts/TFS.TestManagement.Utils","VSS/Controls","VSS/Diag","VSS/Controls/Dialogs","VSS/Controls/Menus","VSS/Controls/Splitter","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","VSS/VSS","VSS/Controls/KeyboardShortcuts","WorkItemTracking/Scripts/OM/QueryConstants","WorkItemTracking/Scripts/OM/QueryItem","WorkItemTracking/SharedScripts/QueryResultMenuBar","WorkItemTracking/SharedScripts/QueryEditor","WorkItemTracking/Scripts/Controls/Query/QueryResultGrid","WorkItemTracking/SharedScripts/QueryResultToolbar","WorkItemTracking/Scripts/Controls/WorkItemsProvider","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Events/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et){var lt,yt,ct,at,pt,ni,ti,wt,bt,vt,kt,ii;Object.defineProperty(t,"__esModule",{value:!0});t.FilterTestPlansDialog=t.SelectTestPlanDialog=t.QueryTextHelper=t.TestPlansFilterEditor=t.TestPlansResultGrid=t.CreateQueryBasedSuiteDialog=t.SelectWorkItemsDialog=t.BaseSelectWorkItemsDialog=t.SimpleQueryEditor=t.QuerySettingsHelper=t.SimpleQueryResultToolbar=t.SimpleQueryResultGrid=t.PersistenceIds=void 0;var fi=i.TfsContext,dt=p.delegate,ei=s.TestCaseCategoryUtils,ht=s.WorkItemUtils,ri=function(){function n(){}return n.INSERT_SHARED_STEPS_ID="2A00D61E-ED97-40F0-8FF8-33EC553C03E9",n.ADD_TEST_CASES_ID="775465CC-CF1A-4A3B-8446-CEFB0AE48347",n.ADD_REQUIREMENTS_ID="1F0CE07F-BB51-403D-B129-53542977878A",n.CREATE_QUERY_BASED_SUITE_ID="7ACADA08-9875-4480-958F-EBF9D5B1452F",n.SELECT_TEST_PLANS_ID="650231A3-0620-4D36-ABBF-3B48EEB5316A",n}();t.PersistenceIds=ri;lt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype._onRowDoubleClick=function(){n.prototype.getSelectedWorkItemIds.call(this).length>0&&this.closed&&this.closed()},t.prototype._onEnterKey=function(){},t.prototype.isDirty=function(){return!1},t.prototype.updateDataModel=function(t){if(n.prototype.updateDataModel.call(this,t),t.error&&this.onError)this.onError(t.error)},t}(it.QueryResultGrid);t.SimpleQueryResultGrid=lt;yt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype._createMenuBar=function(n){return h.BaseControl.createIn(nt.QueryResultMenuBar,n,{items:this._createMenubarItems(),executeAction:dt(this,this._onMenubarItemClick)})},t.prototype._createMenubarItems=function(){function i(){return t._onGetMenuItemActionArguments(this)}var n=[],t=this;return n.push({id:"run-query-simple",text:ft.RunQuery,showText:!0,icon:"bowtie-icon bowtie-media-play-fill"}),this._options.supportWorkItemOpen&&n.push({id:"open-work-item",title:ft.Open,showText:!1,icon:"bowtie-icon bowtie-arrow-open",arguments:i}),n},t.prototype._onMenubarItemClick=function(n){var t=n.get_commandName();if(t==="run-query-simple"){this.runQuery&&this.runQuery();return}if(this._getGrid())return this._getGrid().executeCommand(n)},t}(rt);t.SimpleQueryResultToolbar=yt;var ui=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.resize=function(){this._readjustSplitterAndQueryEditor();this.resized&&this.resized()},t.prototype._readjustSplitterAndQueryEditor=function(){var t=$(document).width();n.prototype.resize.call(this,"240px",!0,!1);this._element.find(".rightPane").css("height","auto");t<512?(this._element.find(".query-options").css("display","contents"),this._element.find(".query-across-project-selector").css("display","inline-flex")):(this._element.find(".query-options").css("display","flex"),this._element.find(".query-across-project-selector").css("display","flex"))},t}(v.Splitter),ot=function(){function n(){}return n.Flat="flat",n.Link="link",n.Tree="tree",n}(),st=function(){function n(){this.defaultMode=ot.Flat}return n}(),gt=function(){function n(n,t,i){this.c_select="SELECT [System.Id],[System.WorkItemType],[System.Title],[Microsoft.VSTS.Common.Priority],[System.AssignedTo],[System.AreaPath] FROM ";this.c_flatQueryWhere="WorkItems WHERE";this.c_linkAndTreeQueryWhere="WorkItemLinks WHERE";this.c_flatQueryConditionClause="([System.TeamProject] = @project AND [System.WorkItemType] IN GROUP '{0}' {1})";this.c_flatQueryAreaPathClause=" AND [System.AreaPath] UNDER '{0}'";this.c_linkAndTreeQuerySourceConditionClause="([Source].[System.TeamProject]= @project AND [Source].[System.WorkItemType] <> '' {0})";this.c_linkAndTreeQueryAreaPathConditionClause=" AND [Source].[System.AreaPath] UNDER '{0}'";this.c_linkAndTreeQueryTargetConditionClause="([Target].[System.TeamProject] = @project AND [Target].[System.WorkItemType] IN GROUP '{0}')";this.c_linkQueryLinkClause="([System.Links.LinkType] <> '')";this.c_treeQueryLinkClause="([System.Links.LinkType] = 'System.LinkTypes.Hierarchy-Forward')";this.c_linkQueryModeClause="mode(maycontain)";this.c_treeQueryModeClause="mode(recursive)";this._localSettings=new st;this._serverSettings=new st;this._createDefaultQueries(n,t);this._populateServerSettings(i)}return n.prototype.getQueryText=function(n){return this._localSettings[n]||this._serverSettings[n]||this._defaultSettings[n]},n.prototype.setQueryText=function(n,t){this._localSettings[n]=t},n.prototype.getServerSettingString=function(){var n=new st,t=this.getQueryText(ot.Flat),i=this.getQueryText(ot.Link),r=this.getQueryText(ot.Tree);return n.flat=t!==this._defaultSettings.flat?t:"",n.link=i!==this._defaultSettings.link?i:"",n.tree=r!==this._defaultSettings.tree?r:"",n.defaultMode=this._currentMode||ot.Flat,p.stringifyMSJSON(n)},n.prototype.setCurrentQueryMode=function(n){this._currentMode=n},n.prototype.getCurrentQueryMode=function(){return this._currentMode||ot.Flat},n.prototype.getDefaultSettingString=function(){var n=new st;return n.flat="",n.link="",n.tree="",n.defaultMode=ot.Flat,p.stringifyMSJSON(n)},n.prototype.getDefaultQueryText=function(n){return this._defaultSettings[n]},n.prototype._createDefaultQueries=function(n,t){var i=this._getDefaultFlatQuery(n,t),r=this._getDefaultTreeQuery(n,t),u=this._getDefaultLinkQuery(n,t);this._defaultSettings=new st;this._defaultSettings.flat=i;this._defaultSettings.link=u;this._defaultSettings.tree=r},n.prototype._getDefaultFlatQuery=function(n,t){var i=t?w.format(this.c_flatQueryAreaPathClause,ht.EscapeWiqlFieldValue(t)):"";return this.c_select+" "+this.c_flatQueryWhere+" "+w.format(this.c_flatQueryConditionClause,n,i)},n.prototype._getDefaultLinkQuery=function(n,t){var i=t?w.format(this.c_linkAndTreeQueryAreaPathConditionClause,ht.EscapeWiqlFieldValue(t)):"";return this.c_select+" "+this.c_linkAndTreeQueryWhere+" "+w.format(this.c_linkAndTreeQuerySourceConditionClause,i)+" AND "+w.format(this.c_linkAndTreeQueryTargetConditionClause,n)+" AND "+this.c_linkQueryLinkClause+" "+this.c_linkQueryModeClause},n.prototype._getDefaultTreeQuery=function(n,t){var i=t?w.format(this.c_linkAndTreeQueryAreaPathConditionClause,ht.EscapeWiqlFieldValue(t)):"";return this.c_select+" "+this.c_linkAndTreeQueryWhere+" "+w.format(this.c_linkAndTreeQuerySourceConditionClause,i)+" AND "+w.format(this.c_linkAndTreeQueryTargetConditionClause,n)+" AND "+this.c_treeQueryLinkClause+" "+this.c_treeQueryModeClause},n.prototype._populateServerSettings=function(n){try{this._serverSettings=n?p.parseMSJSON(n,!1):new st;this._serverSettings?this._currentMode=this._serverSettings.defaultMode||ot.Flat:(this._serverSettings=new st,this._currentMode=ot.Flat)}catch(t){this._serverSettings=new st;this._currentMode=ot.Flat}},n}();t.QuerySettingsHelper=gt;ct=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._isDirty=!1,t}return __extends(t,n),t.prototype.initialize=function(){var t=this,r,i;n.prototype.initialize.call(this);r=this._getGrid();r._bind("selectionchanged",dt(this,this._onSelectedWorkItemChanged));this._bind(r,"queryResultsError",function(n,i){if(t.onError)t.onError(i)},!0);et.getService().attachEvent("query-provider-dirty-state-changed",function(){var i=n.prototype.getProvider.call(t);t._isDirty=i&&i.isDirty()?!0:!1});i="240px";this._element.find(".leftPane").css("height",i);this._element.find(".handleBar").css("top",i);this._element.find(".rightPane").css("top",i);this._element.find(".rightPane").css("height","auto")},t.prototype.onContainerResize=function(n){var t=this._getGrid();t&&t._onContainerResize(n)},t.prototype.beginGetSelectedWorkItemPageData=function(n){var t=this,i=this._getGrid();i.beginPageSelectedWorkItems(function(){n&&n(i.getSelectedWorkItemPageData())},function(n){if(t.onError)t.onError(n)})},t.prototype.getStatusText=function(){var n=this._getGrid();return n.getStatusText()},t.prototype.setProject=function(n){this._project=n},t.prototype.setQuerySettingsHelper=function(n){this._querySettingsHelper=n},t.prototype.setQueryText=function(t,i){var r;!i&&n.prototype._getModel.call(this)&&(i=n.prototype._getModel.call(this).editInfo.mode);i&&this._isDirty&&(r=this._getQueryModeString(i),this._querySettingsHelper.setQueryText(r,t),this._isDirty=!1)},t.prototype._updateQueryMode=function(){var t=this,i=n.prototype.getProvider.call(this),u=n.prototype._getModel.call(this),f,e,o,s=u.editInfo.mode,h=this._getQueryModeString(s),r;i.beginGetQueryText(function(c){n.prototype._updateQueryMode.call(t);r=t._getQueryModeString(u.editInfo.mode);h!==r&&(t.setQueryText(c,s),t._querySettingsHelper.setCurrentQueryMode(r),f=t._querySettingsHelper.getQueryText(r),e={query:f,folder:!1,newQueryId:"1",id:i.getId()},o=new g.QueryDefinition(t._project,e),i.reset(o,!0),t.setProvider(i,null,function(n){if(t.onError)t.onError(n)},{runQuery:!1,skipRefresh:!1}))})},t.prototype._getQueryModeString=function(n){return d.LinkQueryMode.isTreeQuery(n)?ot.Tree:d.LinkQueryMode.isLinkQuery(n)?ot.Link:ot.Flat},t.prototype._onSelectedWorkItemChanged=function(){var n=this._getGrid();if(this.onWorkItemSelectionChanged)this.onWorkItemSelectionChanged(n.getSelectedWorkItemIds().length)},t.prototype._createSplitter=function(){var t=this,n=h.BaseControl.createIn(ui,this._element,{cssClass:"content",fixedSide:"left",splitWidth:"550px",handleBarWidth:"5px"});return n.resized=function(){t.onContainerResize()},n},t.prototype._createToolbarHost=function(){return $("<div />")},t.prototype._createMenuBar=function(n){return h.BaseControl.createIn(a.MenuBar,n,{items:this._createMenubarItems()})},t.prototype._createResultGridToolbar=function(n){var i=this,t=h.BaseControl.createIn(yt,n,{cssClass:"work-item-list-toolbar",tfsContext:this._options.tfsContext,hideFilter:!0,supportWorkItemOpen:this._options.supportWorkItemOpen});return t.runQuery=function(){i.runQuery()},t},t.prototype._createQueryResultGrid=function(n){var t=this,i=h.BaseControl.createIn(lt,n,{cssClass:"work-item-list",tfsContext:this._options.tfsContext,showContextMenu:!1});return i.closed=function(){t.closed&&t.closed()},i.onError=function(n){if(t.onError)t.onError(n)},i},t.prototype._createMenubarItems=function(){return[]},t.prototype._createFieldSetHeader=function(t,i){return this._options.hideQueryType?n.prototype._createFieldSetHeader.call(this,"",i):n.prototype._createFieldSetHeader.call(this,t,i)},t}(tt.QueryEditor);t.SimpleQueryEditor=ct;at=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._workItemTypesForCategory=[],i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"select-workitems-dialog custom-scrollbar"},t));this._projectId=t.projectId},t.prototype.initialize=function(t){var f=this,c=i.TfsContext.getDefault(),e,o,h;n.prototype.initialize.call(this);this._workItemCategories=this._options.workItemCategories;this._decorate();this._store=s.WorkItemUtils.getWorkItemStore();this._webSettingsService=r.ProjectCollection.getDefaultConnection().getService(u.WebSettingsService);e=this._getProjectId();this._store.beginGetProject(e,function(n){f._project=n;f._beginGetQueryText(n.guid,function(i){f.updateQueryEditor(i,n,t)},function(n){f._handleError(n)})},function(n){f._handleError(n)});this._options.removeQueryOptions&&this._removeQueryOption();o=$(window).height();h=$(window).width();this._element.find(".filters").addClass("custom-scrollbar");(o<352||h<512)&&(this._reduceExtraMargins(),this._element.find(".query-options").css("display","contents"),this._element.find(".filters").css("height","-=5px"),this._element.find(".query-across-project-selector").css("display","inline-flex"))},t.prototype._reduceExtraMargins=function(){var n=$(".select-workitems-dialog").parent().find(".ui-dialog-titlebar"),t=$(".select-workitems-dialog").parent().find(".ui-dialog-buttonpane");n.css("margin","5px 12px 5px 12px");t.css("margin","5px 12px 24px 12px")},t.prototype.updateQueryEditor=function(n,t,i){var r=this,u={query:n,folder:!1,newQueryId:"1",id:this._options.persistenceId};this._beginGetProvider(u,function(n){r._provider=n;r._simpleQueryEditor.setProvider(n,null,function(n){r._handleError(n)},{runQuery:!1});r._simpleQueryEditor.setProject(t);i&&i()})},t.prototype.onDialogResize=function(n){this._simpleQueryEditor.onContainerResize(n)},t.prototype.onClose=function(t){this.removeQueriesShortcut();n.prototype.onClose.call(this,t)},t.prototype.onCancelClick=function(t){this.removeQueriesShortcut();n.prototype.onClose.call(this,t)},t.prototype._beginGetProvider=function(n,t){var i,r;n&&(i=new g.QueryDefinition(this._project,n),r=ut.QueryResultsProvider.get(i,null,!1,!0),t&&t(r))},t.prototype.processResult=function(){var n=this,t=this._options.okCallback;this._simpleQueryEditor.beginGetSelectedWorkItemPageData(function(i){i&&n._beginFilterWorkItems(i,function(i){i.length>0?(typeof t=="function"&&t.call(n,i),n.close()):n._updateStatus(w.format(e.ErrorSelectingWorkItemsForCategory,n._getCategoryRefName()),!0)})})},t.prototype._decorate=function(){var n=this,t=this._element;t.append($("<div class='simple-query-editor' />"));this._simpleQueryEditor=this._createQueryEditor(t.find("div.simple-query-editor"));this._simpleQueryEditor.closed=function(){n.processResult()};this._simpleQueryEditor.onError=function(t){n._handleError(t)}},t.prototype._getQueryEditor=function(){return this._simpleQueryEditor},t.prototype._getCachedProvider=function(){return this._provider},t.prototype._getCategoryRefName=function(){return this._workItemCategories[0]},t.prototype._getProject=function(){return this._project},t.prototype._handleError=function(n){this._updateStatus(b.getErrorMessage(n),!0);alert(w.format(e.WIQLQueryError,b.getErrorMessage(n)));this._resetDone=!0},t.prototype._beginSaveQueryText=function(n,t,i,r){var f=this._getSettingKey(n);this._webSettingsService.beginWriteSetting(f,t,u.WebSettingsScope.User,i,r)},t.prototype._beginGetQueryText=function(n,t,i){var r=this._getSettingKey(n);this._webSettingsService.beginReadSetting(r,u.WebSettingsScope.User,t,i)},t.prototype._getSettingKey=function(n){return"/TestManagement/"+n+"/SelectWorkItemView/"+this._options.persistenceId},t.prototype._getProjectId=function(){return s.ProjectUtil.validateAndGetProjectId(this._projectId)},t.prototype._beginFilterWorkItems=function(n,t){var r=this,i;this._workItemTypesForCategory.length>0?(i=this._filterWorkItems(n,this._workItemTypesForCategory),t&&t(i)):ht.getAllWorkItemTypeNamesForCategoryForAllProjects(this._workItemCategories,function(u){r._workItemTypesForCategory=u;i=r._filterWorkItems(n,r._workItemTypesForCategory);t&&t(i)},this._getProjectId())},t.prototype._filterWorkItems=function(n,t){for(var i=0,a=n.pageData.length,s=o.WorkItemPageDataUtils.getWitFieldIndex(f.CoreFieldRefNames.WorkItemType,n.pageColumns),h=o.WorkItemPageDataUtils.getWitFieldIndex(f.CoreFieldRefNames.Id,n.pageColumns),r,u=[],l,e,i=0;i<a;i++)r=n.pageData[i],l=r[s],e=parseInt(r[h],10),y.contains(t,l,w.localeIgnoreCaseComparer)&&!y.contains(u,e)&&u.push(e);return u},t.prototype._createQueryEditor=function(n){var t=this,r=h.BaseControl.createIn(ct,n,{infoBar:!1,showContextMenu:!1,tfsContext:i.TfsContext.getDefault(),hideQueryType:this._options.hideQueryType,supportWorkItemOpen:this._options.supportWorkItemOpen});return r.onWorkItemSelectionChanged=function(n){t.updateOkButton(n>0);t._updateStatus(t._simpleQueryEditor.getStatusText())},r},t.prototype._updateStatus=function(n,t){var i,r;this._$statusDiv||(this._$statusDiv=$("<div/>").addClass("simple-query-editor-status"),i=$(".select-workitems-dialog").parent().find(".ui-dialog-buttonpane"),i&&(r=i.find(".ui-dialog-buttonset"),r.css("display","inline-block"),i.append(this._$statusDiv)));t?this._$statusDiv.addClass("invalid"):this._$statusDiv.removeClass("invalid");n?(this._$statusDiv.text(n),this._$statusDiv.attr("title",n)):this._$statusDiv.text("")},t.prototype.removeQueriesShortcut=function(){var n=k.ShortcutManager.getInstance();n&&n.removeShortcutGroup(ft.KeyboardShortcutGroup_Queries)},t.prototype._removeQueryOption=function(){this._element.find(".query-options").remove()},t}(l.ModalDialogO);t.BaseSelectWorkItemsDialog=at;pt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this,function(){t._simpleQueryEditor&&t._simpleQueryEditor.setQuerySettingsHelper(t._querySettingsHelper)});this._areaPath=this._options.areaPath;this._bind("keydown",function(n){n.altKey&&n.ctrlKey&&n.which===88&&(t._beginSaveQueryText(t._getProject().guid,t._querySettingsHelper.getQueryText(ot.Flat)),t._resetDone=!0)})},t.prototype._createQueryEditor=function(n){var t=this;return this._simpleQueryEditor=h.BaseControl.createIn(ct,n,{infoBar:!1,showContextMenu:!1,tfsContext:i.TfsContext.getDefault(),hideQueryType:this._options.hideQueryType,supportWorkItemOpen:this._options.supportWorkItemOpen}),this._simpleQueryEditor.onWorkItemSelectionChanged=function(n){t._options.maxSelectionLimit?t.updateOkButton(t._options.isSingleSelect?n===1:n>0&&n<=t._options.maxSelectionLimit):t.updateOkButton(t._options.isSingleSelect?n===1:n>0);t._updateStatus(t._simpleQueryEditor.getStatusText())},this._simpleQueryEditor},t.prototype.onClose=function(t,i){var r=this,u=this._getCachedProvider();!this._resetDone&&u?u.beginGetQueryText(function(u){var f;r._getQueryEditor().setQueryText(u);f=r._querySettingsHelper.getServerSettingString();(f||"").trim()?r._beginSaveQueryText(r._getProject().guid,f,function(){n.prototype.onClose.call(r,t);i&&i()},function(){n.prototype.onClose.call(r,t)}):n.prototype.onClose.call(r,t)},function(){n.prototype.onClose.call(r,t)}):n.prototype.onClose.call(this,t)},t.prototype._beginGetQueryText=function(t,i,r){var u=this;n.prototype._beginGetQueryText.call(this,t,function(n){if(u._createQuerySettingsHelper(n.value),i){var t=u._querySettingsHelper.getCurrentQueryMode();i(u._querySettingsHelper.getQueryText(t))}},r)},t.prototype._createQuerySettingsHelper=function(n){this._querySettingsHelper||(this._querySettingsHelper=new gt(this._getCategoryRefName(),this._areaPath,n))},t.prototype._handleError=function(t){n.prototype._handleError.call(this,t);this._beginSaveQueryText(this._getProject().guid,this._querySettingsHelper.getDefaultSettingString());this.updateQueryEditor(this._querySettingsHelper.getDefaultQueryText(this._querySettingsHelper.getCurrentQueryMode()),this._getProject())},t}(at);t.SelectWorkItemsDialog=pt;ni=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){var t;n.prototype.initialize.call(this);this._options.newSuiteMode&&(t=this._createSuiteInputSection(),this._element.find(".leftPane").prepend(t))},t.prototype.getSuiteName=function(){return this._$suiteNameInput?this._$suiteNameInput.val():""},t.prototype._createQueryResultGrid=function(t){var i=n.prototype._createQueryResultGrid.call(this,t);return i.closed=null,i},t.prototype._createSuiteInputSection=function(){var n=this,t=$("<table/>").addClass("suite-name-input-table"),i,r,u="suite-name-input-id";return r=$("<label />").text(e.TestPlanNameTitle).addClass("suite-name-input-label").attr("id",u),this._$suiteNameInput=$("<input />").attr("type","text").addClass("suite-name-input").attr("aria-labelledby",u).val(e.NewQueryBasedSuiteDefaultName),i=$("<tr/>").append($("<td/>").append(r)).append($("<td/>").append(this._$suiteNameInput).addClass("suite-name-input-cell")),t.append(i),this._bind(this._$suiteNameInput,"blur input change",function(){var t=n._$suiteNameInput.val();if(t.trim()===""?n._$suiteNameInput.addClass("invalid"):n._$suiteNameInput.removeClass("invalid"),n.onQueryNameChanged)n.onQueryNameChanged(t)}),t},t}(ct);ti=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._element.addClass("create-query-based-suite")},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({defaultButton:!1},t))},t.prototype.processResult=function(){var t=this,i=this._options.okCallback,r=n.prototype._getCachedProvider.call(this);r.beginGetQueryText(function(r){var u=t._checkForErrorsInQuery(r);if((u||"").trim()){n.prototype._updateStatus.call(t,u,!0);return}ht.beginValidateQueryContainsCategory(r,n.prototype._getCategoryRefName.call(t),function(){i&&i(t._queryEditor.getSuiteName().trim(),r);t.close()},function(n){t._updateStatus(b.getErrorMessage(n),!0)})},function(n){t._updateStatus(b.getErrorMessage(n),!0)})},t.prototype._beginGetQueryText=function(t,i,r){this._options.newSuiteMode?n.prototype._beginGetQueryText.call(this,t,i,r):(n.prototype._createQuerySettingsHelper.call(this,null),i&&i(this._options.queryText))},t.prototype._beginSaveQueryText=function(t,i,r,u){this._options.newSuiteMode?n.prototype._beginSaveQueryText.call(this,t,i,r,u):r&&r()},t.prototype._checkForErrorsInQuery=function(n){var t="";return this._queryContainsAtMe(n)&&(t=e.QueryCannotContainMe),t},t.prototype._queryContainsAtMe=function(n){var i=n.trim().toLowerCase(),t=i.indexOf("@me"),r=n[t+3];return t>-1&&(t===i.length-3||r===" "||r==="'")?!0:!1},t.prototype._createQueryEditor=function(t){var r=this;return this._queryEditor=h.BaseControl.createIn(ni,t,{infoBar:!1,showContextMenu:!1,tfsContext:i.TfsContext.getDefault(),hideQueryType:this._options.hideQueryType,supportWorkItemOpen:this._options.supportWorkItemOpen,newSuiteMode:this._options.newSuiteMode}),this._queryEditor.onWorkItemSelectionChanged=function(){n.prototype._updateStatus.call(r,r._queryEditor.getStatusText())},this._options.newSuiteMode&&(this._queryEditor.onQueryNameChanged=function(t){t.trim()?(n.prototype._updateStatus.call(r,r._queryEditor.getStatusText()),r.updateOkButton(!0)):(n.prototype._updateStatus.call(r,e.SuiteNameCannotBeEmpty,!0),r.updateOkButton(!1))}),this.updateOkButton(!0),this._queryEditor},t}(pt);t.CreateQueryBasedSuiteDialog=ti;wt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.updateDataModel=function(n){var t=this,i;n&&!!n.targetIds&&(n.targetIds.length>0?(i=r.ProjectCollection.getDefaultConnection().getService(o.TestPlanManager),i.fetchTcmPlanIds(n.targetIds,function(i){t._updateGridDataModel(n,i)},function(n){if(t.onError)t.onError(n)})):this._updateGridDataModel(n,[]))},t.prototype._updateGridDataModel=function(t,i){t.targetIds=i;n.prototype.updateDataModel.call(this,t)},t}(lt);t.TestPlansResultGrid=wt;bt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this)},t.prototype._createQueryResultGrid=function(n){var t=h.BaseControl.createIn(wt,n,{cssClass:"work-item-list",tfsContext:this._options.tfsContext,showContextMenu:!1});return t.closed=null,t},t.prototype.setQueryTextHelper=function(n){this._queryTextHelper=n},t.prototype.setQueryText=function(n){this._isDirty&&(this._queryTextHelper.setQueryText(n),this._isDirty=!1)},t}(ct);t.TestPlansFilterEditor=bt;vt=function(){function n(n){n&&(this._serverQuery=n);this._defaultQuery=o.TestPlanSelectionHelper.getDefaultQuery()}return n.prototype.getQueryText=function(){return this._localQuery||this._serverQuery||this._defaultQuery},n.prototype.setQueryText=function(n){this._localQuery=n},n.prototype.getDefaultQuery=function(){return this._defaultQuery},n}();t.QueryTextHelper=vt;kt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({removeQueryOptions:!0},t))},t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this,function(){t._queryEditor&&t._queryEditor.setQueryTextHelper(t._queryTextHelper)})},t.prototype._createQueryEditor=function(n){var t=this;return this._queryEditor=h.BaseControl.createIn(bt,n,{infoBar:!1,showContextMenu:!1,tfsContext:i.TfsContext.getDefault(),hideQueryType:this._options.hideQueryType,supportWorkItemOpen:this._options.supportWorkItemOpen}),this._element.find(".splitter").css("top",10),this._queryEditor.onWorkItemSelectionChanged=function(){t._updateStatus(t._queryEditor.getStatusText())},this.updateOkButton(!0),this._queryEditor},t.prototype._beginGetQueryText=function(n,t,i){var u=this,f=r.ProjectCollection.getDefaultConnection().getService(o.TestPlanManager);f.getConvertedFilteredTestPlanQueryFromRegistry(o.TestPlanSelectionHelper.getDefaultQuery(),function(n){u._createQueryTextHelper(n);t&&t(u._queryTextHelper.getQueryText())},i)},t.prototype._createQueryTextHelper=function(n){this._queryTextHelper||(this._queryTextHelper=new vt(n))},t}(at);t.SelectTestPlanDialog=kt;ii=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({buttons:this._getButtons(),open:function(){$(this).siblings(".ui-dialog-buttonpane").find("button").eq(1).focus()}},t))},t.prototype.processResult=function(){var t=this,i=n.prototype._getCachedProvider.call(this);i&&i.beginGetQueryText(function(i){ht.beginValidateQueryContainsCategory(i,n.prototype._getCategoryRefName.call(t),function(){t.close()},function(){t._updateStatus(w.format(e.ErrorFilteringTestPlansCategory,t._getCategoryRefName()),!0)})},function(n){t._updateStatus(b.getErrorMessage(n),!0)})},t.prototype.onClose=function(t){var i=this,r=this._getCachedProvider();r&&t&&!t.cancelable?r.beginGetQueryText(function(r){i._queryEditor&&i._queryEditor.setQueryText(r);n.prototype.onClose.call(i,t);var u=i._options.okCallback;u&&u(r)},function(){n.prototype.onClose.call(i,t)}):n.prototype.onClose.call(this,t)},t.prototype._onResetButtonClicked=function(){var n=this._options.callback,i=this._getProject(),t;this._queryTextHelper||(this._queryTextHelper=new vt);t=this._queryTextHelper.getDefaultQuery();this.updateQueryEditor(t,i);n&&n()},t.prototype._getSettingKey=function(){return o.TestPlanSelectionHelper.getTestPlanSelectionSettingKey()},t.prototype._getButtons=function(){return this._buttons=[{id:"reset-button",text:e.Reset,click:p.delegate(this,this._onResetButtonClicked)},{id:"ok-button",text:e.OkText,click:p.delegate(this,this.processResult)},{id:"cancel-button",text:e.CancelText,click:p.delegate(this,this.onCancelClick)}],this._buttons},t}(kt);t.FilterTestPlansDialog=ii;b.tfsModuleLoaded("TFS.TestManagement.SelectWorkItemView",t)});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/Utils",["require","exports","VSS/Controls/TreeView"],function(n,t,i){function r(n,t,u){var f,h,e=n.children,o,s;if(u=u||1,s=n.name?n.name:n.text,t?(o=i.TreeNode.create(s),t.add(o),t=o):t=i.TreeNode.create(s),t.expanded=u<2,e)for(f=0,h=e.length;f<h;f++)n=e[f],r(n,t,u+1);return t}Object.defineProperty(t,"__esModule",{value:!0});t.populateUINodes=void 0;t.populateUINodes=r});

define("TestManagement/Scripts/TFS.TestManagement.Controls",["require","exports","Presentation/Scripts/TFS/Generated/TFS.TestManagement.Constants","Presentation/Scripts/TFS/TFS.Core.Utils","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.Host.UI","Presentation/Scripts/TFS/TFS.WebSettingsService","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","react","react-dom","TfsCommon/Scripts/KeyboardShortcuts","VSS/Controls/PopupContent","VSSPreview/Flux/Components/LWP","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemControl","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemManager","WorkItemTracking/Scripts/Utils/Attachments","TestManagement/Scripts/Resources/TFS.Resources.TestManagement","TestManagement/Scripts/TFS.TestManagement.SelectWorkItemView","TestManagement/Scripts/TFS.TestManagement","TestManagement/Scripts/TFS.TestManagement.Utils","TestManagement/Scripts/TFS.TestManagement.Telemetry","TestManagement/Scripts/Utils/TFS.TestManagement.LicenseAndFeatureFlagUtils","VSS/Controls/Combos","VSS/Controls","VSS/Diag","VSS/Controls/Dialogs","VSS/Events/Handlers","VSS/Controls/Grids","VSS/Controls/Menus","VSS/Service","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/Html","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","VSS/Resources/VSS.Resources.Platform","q","WorkItemTracking/Scripts/TFS.WorkItemTracking.Global.Registration","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Controls/WorkItemForm/Utils","VSS/Controls/Panels","jQueryUI/dialog","VSS/LoaderPlugins/Css!Site"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri){var hi,oi,gi,pi,wi,nr,ci,si,bi,li,fi,ki;Object.defineProperty(t,"__esModule",{value:!0});t.SharedParameterWorkItemsSearchAdapter=t.TestStepsControl=t.TestParameterList=t.SharedParamMappingCombo=t.TestStepList=t.NonVirtualizedListView=t.TestDialogs=t.Test_TfsTreeControl=t.TestHubCommonShortcutGroup=void 0;var ui=at.delegate,ai=yt.HtmlNormalizer,tr=nt.WorkItemUtils,di=wt.domElem,ei=g.DAUtils,vi=tt.TelemetryService,yi=it.LicenseAndFeatureFlagUtils,ir=f.TfsContext.getDefault(),rr=function(n){function t(i){var r=n.call(this,k.HubNavigationShortcutGroupText)||this;return r.allowAction=i?i:function(){return!0},r.registerPageNavigationShortcut("n",{description:k.GotoTestplanHubKeyboardShortcutText,action:function(){return r._performAction(function(){r.navigateToAction("",t.testManagemnetController)})},allowPropagation:!0}),yi.AreAdvancedTestManagementFeaturesEnabled()&&r.registerPageNavigationShortcut("m",{description:k.GotoParametersHubKeyboardShortcutText,action:function(){return r._performAction(function(){r.navigateToAction("sharedParameters",t.testManagemnetController)})},allowPropagation:!0}),r.registerPageNavigationShortcut("r",{description:k.GotoRunsHubKeyboardShortcutText,action:function(){return r._performAction(function(){r.navigateToAction("runs",t.testManagemnetController)})},allowPropagation:!0}),r.registerPageNavigationShortcut("h",{description:k.GotoMachinesHubKeyboardShortcutText,action:function(){return r._performAction(function(){r.navigateToAction("",t.machinesController)})},allowPropagation:!0}),r}return __extends(t,n),t.prototype._performAction=function(n){this.allowAction&&this.allowAction()&&n()},t.testManagemnetController="testManagement",t.machinesController="machines",t}(l.ShortcutGroupDefinition);t.TestHubCommonShortcutGroup=rr;hi=function(){function n(n,t){var i,r,u;this._parentControl=n;this._options=t;this._isDataFetched=!1;i=typeof this._options.onValueChanged=="function"?ui(this,this._options.onValueChanged):null;r={type:"tree",initialLevel:2,sepChar:"\\",cssClass:this._options.comboCssClass,allowEdit:!1,change:function(){return i}};u={ariaAttributes:{labelledby:this._options.labelId}};this._control=ut.BaseControl.create(rt.Combo,this._parentControl,r,u);this._control.getDropButton().attr("tabindex",0).on("keyup",ui(this,this._onDropButtonKeyup))}return n.prototype.invalidate=function(n){n&&(this._updateUI(n),this._isDataFetched=!0,this._defaultValue&&this.setValue(this._defaultValue))},n.prototype.getValue=function(){return this._control.getText()},n.prototype.setValue=function(n,t){if(n&&(t&&(this._defaultValue=n),this._isDataFetched&&(this._control.setText(n),this._options.onValueChanged)))this._options.onValueChanged(this._control)},n.prototype._onDropButtonKeyup=function(n){if(n.keyCode===wt.KeyCode.ENTER)return this._control.toggleDropDown(),!1},n.prototype._onFocus=function(){this._control&&this._control.showDropPopup()},n.prototype._updateUI=function(n){var t=ii.populateUINodes(n,null,1);this._control.setMode("drop");this._control.setSource([t]);this.setValue(n.text)},n}();t.Test_TfsTreeControl=hi;oi=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({resizable:!0,okText:k.CreateButtonText},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._watermarkText=this._options.waterMarkText?this._options.waterMarkText:k.TestArtifactNameDefaultWatermark;this._decorate()},t.prototype._decorate=function(){var i=this._element,t;t=this._createDOMElements();t.appendTo(this._content);i.append(this._content);this._titleInput=this._content.find(".test-artifact-name-input");this._titleInput.focus();n.prototype.updateOkButton.call(this,!1)},t.prototype._createDOMElements=function(){var n;return this._content=$("<div />").addClass("create-test-artifact-dialog-content"),n=$("<table/>").addClass("create-test-artifact-table"),this._createTitleInput(n),n},t.prototype.getTitleValue=function(){return this._titleInput.val()},t.prototype._createTitleInput=function(n){var t=this,i=$("<input />").attr("type","text").attr("id","test-plan-name-input").addClass("test-artifact-name-input invalid").on("keyup",function(){t._updateOkButton()}).on("mouseup",function(){t._onTitleInputMouseUp()});wt.Watermark(i,{watermarkText:this._watermarkText});$("<tr/>").addClass("create-test-artifact-name-row").append($("<td/>").append($("<label />").attr("for","test-plan-name-input").addClass("create-test-artifact-title-cell").text(k.TestPlanNameTitle))).append($("<td/>").append(i).addClass("create-test-artifact-value-cell")).appendTo(n)},t.prototype._onTitleInputMouseUp=function(){var n=this,t=this._titleInput.val();t?setTimeout(function(){n._updateOkButton()},1):this._updateOkButton()},t.prototype.onClose=function(t){this._unloadCreateTestArtifactDialog();n.prototype.onClose.call(this,t)},t.prototype._unloadCreateTestArtifactDialog=function(){this._titleInput=null},t.prototype._updateOkButton=function(){this._titleInput&&this._titleInput.val()!==""?(this._titleInput.removeClass("invalid"),n.prototype.updateOkButton.call(this,!0)):(this._titleInput.addClass("invalid"),n.prototype.updateOkButton.call(this,!1))},t.prototype.onOkClick=function(){this._options.okCallback(this._titleInput.val());this.close()},t}(et.ModalDialogO);bt.initClassPrototype(oi,{_titleInput:null});gi=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"create-shared-step-dialog",title:k.CreateSharedStep.toLocaleUpperCase(),waterMarkText:k.SharedStepNameWatermark},t))},t}(oi);pi=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"create-test-plan-dialog",title:k.CreateTestPlanDialogTitle,waterMarkText:k.TestPlanNameWatermark},t))},t.prototype.onClose=function(t){if(this._unloadCreateTestPlanDialog(),!this._isCommitted&&typeof this._options.onSucceeded=="function")this._options.onSucceeded(null);n.prototype.onClose.call(this,t)},t.prototype._postDOMElementCreation=function(){this._fetchAndPopulateIterationsData();this._fetchAndPopulateAreaPathsData();this._setDefaultValues()},t.prototype.onOkClick=function(){var i=this,r,t=this._getPlanDates(),u,f;if(t.getStartDate()&&t.getEndDate()&&(u=new Date(t.getStartDate().getTime()-t.getStartDate().getTimezoneOffset()*6e4),f=new Date(t.getEndDate().getTime()-t.getEndDate().getTimezoneOffset()*6e4)),r={name:n.prototype.getTitleValue.call(this),areaPath:this._areaPathCombo.getValue(),iteration:this._iterationPathCombo.getValue(),startDate:u,endDate:f,owner:this._options.owner},typeof this._options.onCreate=="function"&&typeof this._options.onSucceeded=="function"&&typeof this._options.onFailed=="function")this._options.onCreate(r,function(n){if(n&&i._options.planCreationHelper.areaPathIncludedInTeam(n.areaPath))i._options.onSucceeded(n,!0);else i._options.onSucceeded(n,!1)},this._options.onFailed);vi.publishEvent(vi.featureTestPlan,vi.createTestPlan,1);this._isCommitted=!0;this.close()},t.prototype._getPlanDates=function(){var n,t,i;return n=this._options.planCreationHelper.getIterationDates(this._iterationPathCombo.getValue()),n.getStartDate()&&n.getEndDate()||(t=new Date,i=vt.addDays(t,7),n=new g.IterationDates(vt.shiftToUTC(t),vt.shiftToUTC(i))),n},t.prototype._updateOkButton=function(){this._isAreaPathsDataFetched&&this._isIterationsDataFetched?n.prototype._updateOkButton.call(this):n.prototype.updateOkButton.call(this,!1)},t.prototype._decorate=function(){n.prototype._decorate.call(this);this._postDOMElementCreation()},t.prototype._createDOMElements=function(){var t=n.prototype._createDOMElements.call(this);return this._createAreaPathCombo(t),this._createIterationsCombo(t),t},t.prototype._createIterationsCombo=function(n){var r=this,t=$("<td/>").addClass("create-test-artifact-value-cell create-test-plan-value-cell"),i="iteration-path-label";$("<tr/>").addClass("create-test-plan-iteration-row").append($("<td/>").append($("<label />").attr("id",i).addClass("create-test-artifact-title-cell create-test-plan-title-cell").text(k.IterationPathTitle))).append(t).appendTo(n);this._iterationPathCombo=new hi(t,{fieldType:"Iteration Path",comboCssClass:"create-test-plan-dialog-combo",labelId:i,onValueChanged:function(n){r._onSelectedIterationChanged(n)}})},t.prototype._createAreaPathCombo=function(n){var t=$("<td/>").addClass("create-test-artifact-value-cell create-test-plan-value-cell"),i="area-path-label";$("<tr/>").addClass("create-test-plan-area-row").append($("<td/>").append($("<label />").attr("id",i).addClass("create-test-artifact-title-cell create-test-plan-title-cell").text(k.AreaPathTitle))).append(t).appendTo(n);this._areaPathCombo=new hi(t,{fieldType:"Area Path",comboCssClass:"create-test-plan-dialog-combo",labelId:i})},t.prototype._fetchAndPopulateIterationsData=function(){var n=this;this._options.planCreationHelper.beginGetIterationsData(function(t){Array.isArray(t)&&t.length>0&&(n._iterationPathCombo.invalidate(t[0]),n._isIterationsDataFetched=!0,n._updateOkButton())})},t.prototype._fetchAndPopulateAreaPathsData=function(){var n=this,t=tr.getWorkItemStore();this._options.planCreationHelper.beginGetAreaPathsData(function(t){n._areaPathCombo.invalidate(t);n._isAreaPathsDataFetched=!0;n._updateOkButton()})},t.prototype._onSelectedIterationChanged=function(n){var t,i;if(this._createIterationDatesLabelElement(),this._iterationDatesLabel){if(t=this._options.planCreationHelper.getIterationDates(n.getText()),!t.getStartDate()||!t.getEndDate()){this._iterationDatesLabel.text(k.NoIterationDatesSet);return}i=pt.format(k.IterationDurationFormat,vt.localeFormat(t.getStartDate(),"m",!0),vt.localeFormat(t.getEndDate(),"m",!0));this._iterationDatesLabel.text(i)}},t.prototype._createIterationDatesLabelElement=function(){this._iterationDatesLabel||(this._iterationDatesLabel=$("<label />").addClass("create-test-plan-dialog-iteration-dates-label"),this._element.find(".create-test-artifact-table").append($("<tr/>").append($("<td/>")).append($("<td/>").append(this._iterationDatesLabel).addClass("create-test-plan-iteration-dates-cell"))))},t.prototype._setDefaultValues=function(){var n=this;this._options.planCreationHelper.beginGetTeamSettingsData(function(t){n._iterationPathCombo.setValue(t.getDefaultIteration(),!0);n._areaPathCombo.setValue(t.getDefaultArea(),!0)})},t.prototype._unloadCreateTestPlanDialog=function(){n.prototype._unloadCreateTestArtifactDialog.call(this);this._areaPathCombo=null;this._iterationPathCombo=null},t}(oi);bt.initClassPrototype(pi,{_areaPathCombo:null,_iterationPathCombo:null});wi=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._planName=t.planName,i._planId=t.planId,i._initialSetting=t.enabled,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({resizable:!0,cssClass:"configure-outcome-settings-dialog",okText:k.ConfigureTestOutcome_OkText,cancelText:k.ConfigureTestOutcome_CancelText,title:pt.format(k.ConfigureTestOutcome_Title,t.planName)},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._decorate()},t.prototype._decorate=function(){var i=this,n="configure-outcome-checkbox-label-id",r=this._element,u=pt.format("<div>{0}<\/div><div style='margin-top: 10px;margin-bottom: 10px;margin-left: 10px;'><input type='checkbox' style='margin-right: 14px;'/><label for={1} style='display: inline'>{2}<\/label><\/div><div><span class='bowtie-icon bowtie-status-info-sm' style='color: #007acc;'><\/span><span style='margin-left:6px;'>{3}<\/span><\/div>",k.ConfigureTestOutcome_Description,n,k.ConfigureTestOutcome_Label,k.ConfigureTestOutcome_Info),t=$(u);this.$checkbox=t.children("input");this.$checkbox.attr("id",n);this.$checkbox.prop("checked",this._initialSetting);this.$checkbox.change(function(){i._onValueChange()});r.append(t)},t.prototype._getValue=function(){return this.$checkbox?this.$checkbox.is(":checked"):!1},t.prototype._onValueChange=function(){this.updateOkButton(this._getValue()!==this._initialSetting)},t.prototype.onOkClick=function(){this.beginSetTestOutcomeSettings(this._getValue());this.close()},t.prototype.beginSetTestOutcomeSettings=function(n){var t=this._getTestOutcomeSettingsRegistryKey(this._planId);return this._beginWriteProjectSettings(t,n?"true":"false")},t.prototype._beginWriteProjectSettings=function(n,t){var i=dt.defer(),r=u.ProjectCollection.getConnection(ir).getService(o.WebSettingsService);return r.beginWriteSetting(n,t,o.WebSettingsScope.Project,i.resolve,i.reject),i.promise},t.prototype._getTestOutcomeSettingsRegistryKey=function(n){return pt.format("MS.VS.TestManagement/TestOutcomeSettings/TestPlan/{0}",n)},t}(et.ModalDialogO);bt.initClassPrototype(wi,{_grid:null,_attachments:null});nr=function(){function n(){}return n.createTestPlan=function(n){return et.Dialog.show(pi,$.extend(n,{width:500,height:230,minWidth:400,minHeight:230,cssClass:"create-test-plan-host"}))},n.configureOutcomeSettings=function(n){return et.Dialog.show(wi,$.extend(n,{width:700,height:230,minWidth:400,minHeight:230,cssClass:"configure-outcome-settings-host"}))},n}();t.TestDialogs=nr;ci=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._uniqueId=0,i}return __extends(t,n),t.prototype._updateViewport=function(n){for(var r=this._count-1,i=[],t=0;t<=r;t++)i[i.length]=[t,t];this._drawRows(i,n);this._fire("updateViewPortCompleted",{})},t.prototype._drawRows=function(t,i){n.prototype._drawRows.call(this,t,i);var r=this._rows[t.length-1];r&&r.row&&($(r.row).attr("role","button"),$(r.row).removeAttr("aria-rowindex"),$(r.row).removeAttr("aria-selected"))},t.prototype._onCanvasScroll=function(){var n=this._canvas[0];return this._scrollLeft=n.scrollLeft,this._scrollTop=n.scrollTop,this._ignoreScroll||this._layoutHeader(),!1},t.prototype._fireChange=function(t){n.prototype._fireChange.call(this,$.extend({uniqueId:this._uniqueId},t))},t.prototype._onContainerMouseDown=function(){},t.prototype._onSelectStart=function(){return!0},t.prototype._shouldSetSelection=function(n){var t=Object.keys(this._selectedRows).length;return t>1||n===this.getSelectedRowIndex()?!1:!0},t.prototype._getClickedColumnIndex=function(n){var f=$(this._canvas).offset().left,t=n.pageX-f,i,u,r;if(t=t+this._canvas.scrollLeft(),t)for(i=0,u=this._columns.length;i<u;i++){if(r=this._columns[i],r.width&&t<r.width)return i;t=t-r.width}return-1},t.prototype.getPinAndFocusElementForContextMenu=function(n){var i=this._getClickedColumnIndex(n.event),u=n.rowInfo,t,r;return i===-1&&(i=0),t=u.row.children().eq(i),r=t.children().length>0?t.children().eq(0):this._canvas,{pinElement:t,focusElement:r}},t.prototype._shouldAttachContextMenuEvents=function(){return this._options.contextMenu&&!0},t.prototype.onContextMenu=function(n){this._showContextMenu(n)},t.prototype._onGridElementFocus=function(n){var t=this._getRowInfoFromEvent(n,".grid-row");this._active=!0;this._shouldSetSelection(t.rowIndex)&&t&&this._selectRow(t.rowIndex,t.dataIndex,{ctrl:n.ctrlKey,shift:n.shiftKey,rightClick:n.which===3})},t.prototype.bind=function(n){this._uniqueId=n},t.prototype.getUniqueId=function(){return this._uniqueId},t}(st.GridO);t.NonVirtualizedListView=ci;si=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._attachmentColumn={index:"attachments",text:k.AttachmentsHeaderText,canSortBy:!1,width:200},i._idColumn={index:"stepId",text:k.TestStepsControlSteps,canSortBy:!1,width:40},i._actionColumn={index:"action",text:k.TestStepsControlAction,canSortBy:!1,width:500},i._expectedResultColumn={index:"expectedResult",text:k.TestStepsControlExpectedResult,canSortBy:!1,width:300},i._cellMinWidth=25,i.hasContentChanged=!1,i._isSharedStepWorkItem=!1,i._readOnlyDelegate=t.readOnlyDelegate,i}return __extends(t,n),t.prototype.initializeOptions=function(t){var i,r;i={items:ui(this,this._getContextMenuItems),updateCommandStates:ui(this,this._updateContextMenuCommandStates),executeAction:ui(this,this._onContextMenuItemClick)};r=this._getInitialColumns();n.prototype.initializeOptions.call(this,$.extend({sharedMeasurements:!1,cssClass:"test-steps-list",allowMoveColumns:!1,allowMultiSelect:!0,gutter:!1,keepSelection:!0,contextMenu:i,columns:r},t))},t.prototype._getaddNewStepRow=function(){var n=pt.format("<DIV><p>{0}<\/p><\/DIV>",k.TestStepListAddNewStepText);return g.TestStep.createStep(-1,"ActionStep",n,"<DIV><\/DIV>")},t.prototype.setIsSharedStepWorkItem=function(n){this._isSharedStepWorkItem=n},t.prototype.setSource=function(n,t){var i=[this._idColumn,this._actionColumn,this._expectedResultColumn,this._attachmentColumn];this._options.columns=i;n=$.extend(!0,[],n);n.push(this._getaddNewStepRow());this._unbind("updateViewPortCompleted");t===fi.TestStepCommands.CMD_ADDSTEP?this._bind("updateViewPortCompleted",ui(this,this._onAddTestStepCompleted)):t===fi.TestStepCommands.CMD_DELETE?this._bind("updateViewPortCompleted",ui(this,this._onDeleteTestStepCompleted)):t===fi.TestStepCommands.CMD_INSERTSTEP?this._bind("updateViewPortCompleted",ui(this,this._onInsertTestStepCompleted)):this._bind("updateViewPortCompleted",ui(this,this._onUpdateViewPortCompleted));this._options.source=n;this.initializeDataSource()},t.prototype.getSelectedItem=function(){return this._dataSource[this._selectedIndex]},t.prototype.getColumnValue=function(n,t,i){var r=this._dataSource[n];return this._options.stepValueProvider(r,t,i)},t.prototype._tryFinishColumnSizing=function(t){this.notifyCellChanged();n.prototype._tryFinishColumnSizing.call(this,t)},t.prototype._getRowIntoView=function(n){var t,i=!1;return n<0||n>=this._count?!1:(t=$(this._rows[n].row).position().top,t<=0?(this._canvas[0].scrollTop+=t,i=!0):i=this._alignRowBottom(n),i)},t.prototype.layout=function(){this.notifyCellChanged();n.prototype.layout.call(this);this.getSelectedRowIntoView(!0)},t.prototype._isReadOnly=function(){return typeof this._readOnlyDelegate!="function"?!1:this._readOnlyDelegate()},t.prototype._alignRowBottom=function(n){var i=$(this._rows[n].row).position().top,r=$(this._rows[n].row).height(),t=!1;return i+r>this._canvasHeight&&(n===this._count-1?(this._canvas[0].scrollTop+=i+r+2-this._canvasHeight,t=!0):n<this._count-1&&(this._canvas[0].scrollTop+=$(this._rows[n+1].row).position().top-this._canvasHeight,t=!0)),t},t.prototype.updateRows=function(n){for(var i=n.length,t=0;t<i;t++)this._updateRow(this._rows[n[t]],n[t],n[t],null,null)},t.prototype.updateSource=function(n){var t=this._options;t.source=n;this._dataSource=n},t.prototype._onRowMouseDown=function(t){n.prototype._onRowMouseDown.call(this,t);var i,u,f=this._getRowInfoFromEvent(t,".grid-row"),r=f?this._getClickedColumnIndex(t):0;f&&(r===0||r===3?(wt.tryFocus(this._canvas,10),t.preventDefault()):r!==-1&&(i=$(f.row.children()[r]),i[0].scrollHeight===i[0].clientHeight&&(u=$(i.children()[0]),u.length>0?wt.tryFocus(u,10):t.preventDefault())))},t.prototype.handleSharedStep=function(n,t,i){var r=this;t.addClass("shared-test-step");t.addClass("test-steps-multiline");t.attr("dir","auto");a.RichContentTooltip.add(pt.format(k.SharedStepToolTip,i),t);t.attr("unselectable","on");n.row.on("keydown",function(n){if(n.which&&n.which===wt.KeyCode.ENTER)n.shiftKey?r._handleEnterKeyWithShift(n):r._handleEnterKey(n);else return r.handleShortCutKeys(n)}).on("click",ui(this,this._onSharedStepClicked));this._bindFocusEventToGridElement(n.row)},t.prototype._getInitialColumns=function(){return[{index:"stepId",text:k.TestStepsControlSteps,canSortBy:!1,width:30},{index:"action",text:k.TestStepsControlAction,canSortBy:!1,width:500},{index:"expectedResult",text:k.TestStepsControlExpectedResult,canSortBy:!1,width:300},{index:"attachments",text:k.AttachmentsHeaderText,canSortBy:!1,width:200}]},t.prototype._onSharedStepClicked=function(){if(navigator.appName==="Microsoft Internet Explorer"){var n=this;setTimeout(function(){n.focus()},10)}},t.prototype.textFormattingChanged=function(){var n=this;this.hasContentChanged!==!1&&this._lastFocusedCellElement.contentEditable==="true"&&this.delayExecute("updateTestSteps",500,!0,function(){n._onCellChanged({target:n._lastFocusedCellElement,type:"textformat"})})},t.prototype._onAddTestStepCompleted=function(n){var t=this.getSelectedRowIndex();this.getSelectedRowIntoView(!0);this.getSelectedRowIndex()===this._count-2&&this._focusActionCellAndSetCaretPosition(n);this._unbind("updateViewPortCompleted");ft.logTracePoint("TestStepGrid.AddNewTestStep.Complete")},t.prototype._focusActionCellAndSetCaretPosition=function(n){var t=this._focusActionCell(this.getSelectedRowIndex()),i;this._onEscapeKey(n);this._onRightKey(n);t&&(i=t.children().eq(0).children().eq(0),i&&nt.setCaretPosition(i[0],t.text().trim().length))},t.prototype._getContextMenuItems=function(){return[{rank:5,id:fi.TestStepCommands.CMD_INSERTSTEP,text:k.InsertStepAuthoring,title:k.InsertStepAuthoringTooltip,icon:"bowtie-icon bowtie-step-insert",showIcon:!0,showText:!0},{rank:6,id:fi.TestStepCommands.CMD_INSERTSHAREDSTEPS,text:k.InsertSharedSteps,icon:"bowtie-icon bowtie-step-shared-insert",showIcon:!0,showText:!0},{rank:7,id:fi.TestStepCommands.CMD_CREATESHAREDSTEP,text:k.CreateSharedStep,icon:"bowtie-icon bowtie-step-shared-add",showIcon:!0,showText:!0},{rank:8,separator:!0},{rank:9,id:fi.TestStepCommands.CMD_MOVEUP,text:k.MoveStepUp,icon:"bowtie-icon bowtie-sort-ascending",showIcon:!0,showText:!0},{rank:10,id:fi.TestStepCommands.CMD_MOVEDOWN,text:k.MoveStepDown,icon:"bowtie-icon bowtie-sort-descending",showIcon:!0,showText:!0},{rank:11,id:fi.TestStepCommands.CMD_DELETE,text:k.DeleteStep,icon:"bowtie-icon bowtie-edit-delete",showIcon:!0,showText:!0},{rank:12,separator:!0},{rank:13,id:fi.TestStepCommands.CMD_ADDATTACHMENT,text:k.AddAttachmentDialogTitle,icon:"bowtie-icon bowtie-attach",showIcon:!0,showText:!0}]},t.prototype._updateContextMenuCommandStates=function(n){var i=this.getSelectedItem(),t=this.getSelectedRowIndex();n.updateCommandStates([{id:fi.TestStepCommands.CMD_MOVEUP,disabled:t<=0||t>=this._count-1||this._areMultipleStepsSelected()||this._isReadOnly()}]);n.updateCommandStates([{id:fi.TestStepCommands.CMD_MOVEDOWN,disabled:t>=this._count-2||this._areMultipleStepsSelected()||this._isReadOnly()}]);n.updateCommandStates([{id:fi.TestStepCommands.CMD_ADDATTACHMENT,disabled:i instanceof g.SharedSteps||t>=this._count-1||this._areMultipleStepsSelected()||this._isReadOnly()}]);n.updateCommandStates([{id:fi.TestStepCommands.CMD_INSERTSHAREDSTEPS,disabled:this._isSharedStepWorkItem||this._areMultipleStepsSelected()||this._isReadOnly()}]);n.updateCommandStates([{id:fi.TestStepCommands.CMD_CREATESHAREDSTEP,disabled:!this._canCreateSharedStep()||this._isReadOnly()}]);n.updateCommandStates([{id:fi.TestStepCommands.CMD_DELETE,disabled:t>=this._count-1||this._areMultipleStepsSelected()||this._isReadOnly()}]);n.updateCommandStates([{id:fi.TestStepCommands.CMD_INSERTSTEP,disabled:this._areMultipleStepsSelected()||this._isReadOnly()}])},t.prototype._onContextMenuItemClick=function(n){var t=n.get_commandName(),i=this.getSelectedRowIndex();t===fi.TestStepCommands.CMD_INSERTSTEP||t===fi.TestStepCommands.CMD_DELETE||t===fi.TestStepCommands.CMD_MOVEUP||t===fi.TestStepCommands.CMD_MOVEDOWN||t===fi.TestStepCommands.CMD_ADDATTACHMENT||t===fi.TestStepCommands.CMD_INSERTSHAREDSTEPS?this._fireChange({rowIndex:i,changeType:t}):t===fi.TestStepCommands.CMD_CREATESHAREDSTEP&&this._fireChange({selectedRowIndexes:this._getSelectedRowsArray(),changeType:t})},t.prototype._focusActionCell=function(n){return n>=0&&n<this._count-1?this._tryFocusActionCell(n):null},t.prototype._tryFocusActionCell=function(n,t){var r=this._columns.indexOf(this._actionColumn),u=this.getRowInfo(n).row.find(".grid-cell").eq(r),i=u.find("div").eq(0);return i&&(i.attr("contenteditable")==="true"||t)&&wt.tryFocus(i,10),i},t.prototype._focusSharedStepRow=function(n){n>=0&&n<this._count-1&&wt.tryFocus(this.getRowInfo(n).row,10)},t.prototype._onInsertTestStepCompleted=function(){var n=this.getSelectedRowIndex();this.getSelectedRowIntoView(!0);this._focusActionCell(n);this._unbind("updateViewPortCompleted");ft.logTracePoint("TestStepGrid.InsertNewTestStep.Complete")},t.prototype._onDeleteTestStepCompleted=function(){this.getSelectedRowIntoView(!0);this._unbind("updateViewPortCompleted");ft.logTracePoint("TestStepGrid.DeleteTestStepUI.Complete")},t.prototype._onUpdateViewPortCompleted=function(){if(this.hasContentChanged){var n=this;setTimeout(function(){n.focus()},10);this.hasContentChanged=!1}this._unbind("updateViewPortCompleted")},t.prototype._updateRow=function(n,t,i,r,u){var o,s,l,f,a,h,e,c;for(l=this._indentIndex,o=n.row,o.empty(),s=o[0],s.style.width=isNaN(this._contentSize.width)?"":this._contentSize.width+8+"px",h=this._columns,f=0,a=h.length;f<a;f++)(e=h[f],e.hidden)||(c=e.getCellContents.apply(this,[n,i,r,u,e,l,f]),c&&s.appendChild(c[0]));this._updateRowSelectionStyle(n,this._selectedRows,this._selectedIndex)},t.prototype._onGridElementFocus=function(t,i){n.prototype._onGridElementFocus.call(this,t,i);this._lastFocusedCellElement=i},t.prototype._onCellChanged=function(n){var u,t,f,e,o,s,r,i;if(u=$(n.target).closest(".grid-cell"),t=u.data("cellInfo"),n&&n.target&&n.target===this._lastFocusedCellElement&&(this._lastFocusedCellElement=null),t){if(f=$(n.target).html(),e=t.rowInfo.dataIndex,o=t.columnInfo,s=t.stepId,r=!1,i=$(n.target).text(),n.type==="blur"&&this._onBlur(),!this._hasCellContentChanged(n))return;i=i.replace(/^\s+/,"").replace(/\s+$/,"").replace(/^\xa0+/,"").replace(/\xa0+$/,"");i===""&&(r=!0);this._fireChange({rowIndex:e,columnIndex:o,newData:f,stepId:s,changeType:fi.TestStepCommands.CMD_EDIT,isEmptyInputText:r});this.hasContentChanged=!0}},t.prototype.notifyCellChanged=function(){this._lastFocusedCellElement&&this._lastFocusedCellElement.contentEditable==="true"&&this._onCellChanged({target:this._lastFocusedCellElement})},t.prototype._hasCellContentChanged=function(n){var i=$(n.target).closest(".grid-cell"),t=i.data("cellInfo"),r=t.rowInfo.dataIndex,u=t.columnInfo;return this._options.source[r][u]==="<DIV>"+$(n.target).html()+"<\/DIV>"?!1:!0},t.prototype._onLastRowClicked=function(n){var t=this._dataSource.length-1;this._fireChange({rowIndex:t,charCode:n.type!=="click"?n.which:null,changeType:fi.TestStepCommands.CMD_ADDSTEP})},t.prototype._focusSelectedElement=function(){var n=this.getSelectedRowIndex(),t,i,r,u,f=$.inArray(this._attachmentColumn,this._columns);u=this._dataSource[n];t=this._rows[n].row;u&&u.ref?wt.tryFocus(t,10):(r=t.children().eq(f),r&&(i=r.find("a").first(),i.length>0?wt.tryFocus(i,10):this._focusActionCell(n)))},t.prototype._bindFocusEventToGridElement=function(n){var t=this;$(n).on("focus",function(i){t._onGridElementFocus(i,n)})},t.prototype._drawCell=function(t,i,r,u,f,e,o){var v,y,h=n.prototype._drawCell.call(this,t,i,r,u,f,e,o),s=this._dataSource[i],c=i===this._dataSource.length-1,p={stepId:s.id,column:f.index},l,a;return f.index==="stepId"?h.attr("title",null):f.index==="action"&&s&&s.ref?(a=this.getColumnText(i,f,o),this.handleSharedStep(t,h,a)):f.index==="action"&&s?this._addHtmlContentToCell(h,s.action,c,s.hasActionError(),s.isFormatted,!1):f.index==="expectedResult"&&s&&!s.ref?this._addHtmlContentToCell(h,s.expectedResult,c,s.hasExpectedResultError(),s.isFormatted,!1):f.index==="attachments"&&(v=s.getAttachmentCount(),v>0?(h.text(""),l=this._createAttachmentContent(s,f.width),h.append(l),this._bindFocusEventToGridElement(l)):(this._addHtmlContentToCell(h,"",c,undefined,s.isFormatted,!0),this.handleSharedStep(t,h,a))),s&&(f.index==="action"||f.index==="expectedResult"&&!s.ref)&&(this._dataSource[i][f.index]="<DIV>"+$(h.children()[0]).html()+"<\/DIV>"),y={rowInfo:t,columnInfo:f.index,stepId:s.id},h.data("cellInfo",y),h.addClass("propagate-keydown-event"),c||h.attr("role","gridcell"),h.attr("dir","auto"),h},t.prototype._createAttachmentContent=function(n,t){var u=0,i,c=n.getAttachments(),y=c.length,f,l,o,e=Math.round(t)||20,v={},s,h,r;for(f=$("<table />").addClass("attachment-content"),f.css("width",e),u=0;u<y;u++)i=c[u],l=pt.format(k.TestStepAttachmentSizeFormat,Math.ceil(i.getLength()/1024)),o=pt.format("{0} {1}",i.getName(),l),h=$("<a />").attr("tabindex",0).addClass("attachment-column-text").text(o).on("click keydown",ui(this,this._onAttachmentClick,i)),a.RichContentTooltip.addIfOverflow(o,h),v={attachment:i,testStep:n},r=$("<span />").addClass("bowtie-icon bowtie-edit-delete attachment-delete-icon").attr("aria-label",ti.DeleteAttachment).attr("tabindex",0).on("click keydown",ui(this,this._onAttachmentDeleteClick,v)),a.RichContentTooltip.add(ti.DeleteAttachment,r),r&&(e=e-24),s=$("<tr />").append($("<td />").append(h).css("width",e)),r&&!this._isReadOnly()&&s.append($("<td />").append(r)),f.append(s);return f},t.prototype._layoutContentSpacer=function(){for(var r=0,u=this._columns,t,i,n=0,f=u.length;n<f;n++)u[n].hidden||(r+=(u[n].width||20)+this._cellOffset);this._ignoreScroll=!0;try{t=Math.max(0,this._scrollTop);t!==this._scrollTop&&(this._scrollTop=t,this._canvas[0].scrollTop=t);i=Math.max(0,Math.min(this._scrollLeft,r-this._canvasWidth));i!==this._scrollLeft&&(this._scrollLeft=i,this._canvas[0].scrollLeft=i)}finally{this._ignoreScroll=!1}this._contentSize.width=r},t.prototype._onAttachmentDeleteClick=function(n,t){if(n.type==="keydown"&&n.which===wt.KeyCode.ENTER||n.type==="click"){var r=t.testStep,u=t.attachment,i=void 0,f=void 0;r&&u&&(f=r.deleteAttachment(u));f&&(i=this._getRowInfoFromEvent(n,".grid-row"),i&&this._updateRow(i,i.rowIndex,i.dataIndex,null,null),this._focusSelectedElement())}else n.type==="keydown"&&n.which===wt.KeyCode.TAB&&this._onCellTabKey(n)},t.prototype._onAttachmentClick=function(n,t){n.type==="keydown"&&n.which===wt.KeyCode.ENTER||n.type==="click"?t&&t.open():n.type==="keydown"&&n.which===wt.KeyCode.TAB&&this._onCellTabKey(n)},t.prototype._bindEventsToCell=function(n,t,i){var r=this;if(i){if(n.addClass("test-steps-lastrow"),!this._isReadOnly()){$(n).on("click",ui(this,this._onLastRowClicked));if(t!=="")$(n).on("keypress",ui(this,this._fireLastRowClickedIfNeeded))}}else{$(n.children()[0]).on("blur",function(n){r._lastFocusedCellElement&&(r.cancelDelayedFunction("updateTestSteps"),r._onCellChanged(n))});$(n.children()[0]).on("mousedown",function(n){n.ctrlKey||n.shiftKey||(n.stopPropagation(),setTimeout(function(){$(n.currentTarget).focus()},10))});$(n.children()[0]).on("keydown",function(n){return r._onCellKeyDown(n)}).on("keypress",function(n){return r.handleKeyPress(n)})}n.children()[0]&&this._bindFocusEventToGridElement(n.children()[0])},t.prototype._fireLastRowClickedIfNeeded=function(n){n.keyCode!==wt.KeyCode.TAB&&(this.layout(),this._onLastRowClicked(n))},t.prototype.handleKeyPress=function(n){n.keyCode!==wt.KeyCode.ENTER||n.shiftKey||n.ctrlKey||n.altKey||this._handleEnterKey(n)},t.prototype._onCellKeyDown=function(n){n.keyCode===wt.KeyCode.ENTER&&n.shiftKey?this._handleEnterKeyWithShift(n):n.keyCode===wt.KeyCode.TAB?this._onCellTabKey(n):n.keyCode===wt.KeyCode.UP?this._selectedIndex===0&&(n.preventDefault(),n.stopPropagation()):n.keyCode!==wt.KeyCode.ESCAPE&&n.keyCode!==wt.KeyCode.DOWN&&this.handleShortCutKeys(n)},t.prototype._onCellTabKey=function(n){n.shiftKey?this._onLeftKey(n):this._onRightKey(n);n.preventDefault();n.stopPropagation()},t.prototype.handleShortCutKeys=function(n){n.altKey&&n.keyCode===80?(this._fireChange({rowIndex:this.getSelectedRowIndex(),changeType:fi.TestStepCommands.CMD_INSERTSTEP}),n.stopPropagation()):wt.KeyUtils.isExclusivelyCtrl(n)&&String.fromCharCode(n.keyCode).toLowerCase()==="s"?this.notifyCellChanged():n.stopPropagation()},t.prototype._handleEnterKeyWithShift=function(n){this._dataSource[this.getSelectedRowIndex()].actionType===g.TestActionTypes.SharedSteps?this._onOpenSharedStep():(wt.HtmlInsertionUtils.pasteHtmlAtCaret("<br />"),this._alignRowBottom(this.getSelectedRowIndex()));n.stopPropagation();n.preventDefault()},t.prototype._handleEnterKey=function(n){n.shiftKey||n.ctrlKey||n.altKey||this._isReadOnly()||(this.getSelectedRowIndex()===this._count-1?this._onLastRowClicked(n):this.getSelectedRowIndex()===this._count-2?(this._onCellChanged(n),this._onLastRowClicked(n)):(this.setSelectedRowIndex(this.getSelectedRowIndex()+1),this._dataSource[this.getSelectedRowIndex()].actionType===g.TestActionTypes.SharedSteps?this._focusSharedStepRow(this.getSelectedRowIndex()):this._focusActionCellAndSetCaretPosition(n)),n.stopPropagation(),n.preventDefault())},t.prototype._onTabSharedStepInLastRow=function(n){this._onCellChanged(n);this.setSelectedRowIndex(this.getSelectedRowIndex()+1);this._tryFocusActionCell(this.getSelectedRowIndex(),!0);n.stopPropagation();n.preventDefault()},t.prototype._onKeyDown=function(t){t.keyCode===wt.KeyCode.ENTER&&t.shiftKey?this._handleEnterKeyWithShift(t):t.keyCode!==wt.KeyCode.ENTER||t.shiftKey||t.ctrlKey||t.altKey?t.keyCode===wt.KeyCode.UP?this._selectedIndex!==0&&n.prototype._onKeyDown.call(this,t):(this.handleShortCutKeys(t),n.prototype._onKeyDown.call(this,t)):this._handleEnterKey(t)},t.prototype._onOpenSharedStep=function(){var t=this,n=this.getSelectedItem();n&&n.ref&&bt.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls"],function(){ht.menuManager.executeCommand(new ot.CommandEventArgs("open-work-item",{id:n.ref,tfsContext:f.TfsContext.getDefault(),options:{close:function(){t._focusSelectedElement()}}},null))})},t.prototype._addHtmlContentToCell=function(n,t,i,r,u,f){var l=/^<DIV>([\S\s]*?)<\/DIV>$/.exec(t),o,a,h,e,s,c=!0,v;c&&(c=!this._isReadOnly());f&&(c=!1);o=l!==null?l[1]:t;u||(o=o.replace(/\r\n/g,"<br />"),o=o.replace(/\n/g,"<br />"));e=$("<div>"+ai.normalize(o)+"<\/div>");h=e.find("p");yi.isTestStepInLineImageCopyPasteEnabled()?(v=e.find("img"),v.length<=0?h.length===0?(s=e.text().trim().length===0?"<br/>":e.html(),e.html("<p>"+s+"<\/p>")):h.each(function(){$(this).text().trim().length===0&&$(this).html("<br/>")}):(s=e.html(),e.html(s))):h.length===0?(s=e.text().trim().length===0?"<br/>":e.html(),e.html("<p>"+s+"<\/p>")):h.each(function(){$(this).text().trim().length===0&&$(this).html("<br/>")});a=f?pt.format('<DIV class="propagate-keydown-event" contenteditable="{0}" tabindex="{1}" aria-label="{3}" STYLE="margin:0px 4px 4px 0px;word-wrap:break-word;white-space:pre-wrap;">{2}<\/DIV>',c&&!i,0,e.html(),k.ResultNoAttachments):pt.format('<DIV class="propagate-keydown-event" contenteditable="{0}" tabindex="{1}" STYLE="margin:0px 4px 4px 0px;word-wrap:break-word;white-space:pre-wrap;">{2}<\/DIV>',c&&!i,0,e.html());n.html(a);this._bindEventsToCell(n,o,i);n.addClass("test-steps-multiline");n.attr("dir","auto")},t.prototype.restoreCellData=function(n,t){var s=this.getSelectedRowIndex(),o,i,r,u,f,e;u=this._dataSource[n];o=this._rows[n].row;t==="action"?(f=$.inArray(this._actionColumn,this._columns),e=ai.normalize(u.action)):t==="expectedResult"&&(f=$.inArray(this._expectedResultColumn,this._columns),e=ai.normalize(u.expectedResult));r=o.children().eq(f);r&&(i=r.children().eq(0),i&&i.html(e))},t.prototype._getSelectedRowsArray=function(){var i=[],n,t=this._selectedRows,r=0;for(n in t)t.hasOwnProperty(n)&&(i[r]=t[n],r++);return i},t.prototype._canCreateSharedStep=function(){var n=this._getSelectedRowsArray();return!this._selectedStepsContainSharedStep()&&this._isStepsSelectionContiguous()&&!this._isSharedStepWorkItem&&(n.length>1||n[0]<this._count-1)},t.prototype._areMultipleStepsSelected=function(){return this._getSelectedRowsArray().length>1},t.prototype._selectedStepsContainSharedStep=function(){for(var t=this._getSelectedRowsArray(),i=t.length,n=0;n<i;n++)if(this._dataSource[t[n]].actionType===g.TestActionTypes.SharedSteps)return!0;return!1},t.prototype._isStepsSelectionContiguous=function(){var i,n=this._getSelectedRowsArray(),t=0,r=n.length;if(r>0)for(n.sort(function(n,t){return n-t}),i=n[0],t=0;t<r;t++){if(n[t]!==i)return!1;i++}return!0},t.enhancementTypeName="tfs.wit.testStepList",t}(ci);t.TestStepList=si;bt.initClassPrototype(si,{currentCellContents:null,editTimer:null});bt.classExtend(si,f.TfsContext.ControlExtensions);bi=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.hideDropPopup=function(){n.prototype.hideDropPopup.call(this);this.onHideDropPopup&&this.onHideDropPopup()},t.prototype.toggleDropDown=function(){n.prototype.toggleDropDown.call(this);this.getBehavior().isDropVisible()?this.onShowDropPopup&&this.onShowDropPopup():this.onHideDropPopup&&this.onHideDropPopup()},t}(rt.Combo);t.SharedParamMappingCombo=bi;li=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.testCase=null,i._hasLastRowChanged=!1,i._lastFocusedHeaderElement=null,i._lastFocusedCell=null,i._isSharedStepWorkItem=!1,i._readOnlyDelegate=t.readOnlyDelegate,i}return __extends(t,n),t.prototype.setSelectedSharedParameter=function(n){var t=this;this.testCase.changeSharedParameterDataSetLinks(n.id);this._setTestcaseParameterDataField(n,this.testCase.getParameters(),function(){t.onChangeSharedParameter&&t.onChangeSharedParameter()})},t.prototype._onHeaderDblClick=function(n){var i=this;if(!this._isReadOnly()&&!$(n.target).hasClass("editable-param-name")){var r=$(n.target).closest(".grid-header-column div.title"),u=r.text(),t=$(n.target).parent().find(".editable-param-name");if(this.canRenameParameter&&this.canRenameParameter(u)){r.hide();t.length<=0&&r.before("<input type='text' class='editable-param-name title'>");t=$(n.target).parent().find(".editable-param-name");this._lastFocusedHeaderElement=t[0];t.prop("value",u).show().focus().removeClass("parameter-name-invalid").on("blur",function(n){i._onEditableHeaderBlur(n)}).on("keyup",function(n){i._onEditableHeaderKeyUp(n)}).on("keydown",function(n){i._onEditableHeaderKeyDown(n)});nt.setTextSelection(t[0],0,u.length)}}},t.prototype._onHeaderClick=function(){},t.prototype._onParamsComboBlur=function(n){var t=$(n.target).closest(".combo");t.length>0&&t.hasClass("invalid")&&this.onChangeSharedParameter&&this.onChangeSharedParameter()},t.prototype._drawHeaderCellValue=function(t){var h=this,o=n.prototype._drawHeaderCellValue.call(this,t),f=$("<div/>"),i,r,u,s,e=null;if(!this._isSharedStepWorkItem&&(this.testCase&&(e=this.testCase.getSharedParameterBeingUsed()),e)){for(i=ut.BaseControl.createIn(bi,f,{change:function(n){h._parameterMappingChanged(n,t.index);wt.BrowserCheckUtils.isIE()&&$(".shared-parameter.test-parameter-list .grid-canvas").css("overflow","auto")}}),this._bind(i._input,"blur",ui(this,this._onParamsComboBlur)),wt.BrowserCheckUtils.isIE()&&(i.onShowDropPopup=function(){$(".shared-parameter.test-parameter-list .grid-canvas").css("overflow","hidden")},i.onHideDropPopup=function(){$(".shared-parameter.test-parameter-list .grid-canvas").css("overflow","auto")}),s=ni.WorkItem.MAX_TITLE_LENGTH,$("input",i.getElement()).attr("maxlength",s),r=lt.clone(e.getParameters());lt.remove(r,""););return i.setSource(r),u=this.testCase.getParametersDataInfo().getParameterNameMappings()[t.index],lt.contains(r,u,pt.localeIgnoreCaseComparer)||(u=""),i.setText(u),f.append(o),f}return o},t.prototype.flushUI=function(){this._lastFocusedHeaderElement&&this._onEditableHeaderBlur({target:this._lastFocusedHeaderElement});this._lastFocusedCell&&this._onEndCellEdit({target:this._lastFocusedCell})},t.prototype.layout=function(){var t,i,f,r,u,e,o={};for(this._lastFocusedHeaderElement&&this._onEditableHeaderBlur({target:this._lastFocusedHeaderElement}),this._lastFocusedCell&&this._onEndCellEdit({target:this._lastFocusedCell}),n.prototype.layout.call(this),e=this._element.find(".grid-header"),e.css("-moz-user-focus","inherit"),i=this._element.find(".grid-header-column"),f=i.length,t=0;t<f;t++)if(r=$(i[t]).find(".title").text(),o={paramName:r},this.canDeleteParameter&&this.canDeleteParameter(r)&&!this._isReadOnly()){u=$('<span class = "bowtie-icon bowtie-edit-delete parameter-delete-icon" title ='+k.DeleteParameter+"><\/span>");u.on("click",ui(this,this._onParameterDeleteClick,o));$(i[t]).find("div.title").append(u)}this.updateReadWriteMode()},t.prototype.updateReadWriteMode=function(){this._isReadOnly()||this.testCase&&this.testCase.isUsingSharedParameters()?$(this._element.find(".parameter-grid-cell")).attr("readonly","true"):$(this._element.find(".parameter-grid-cell")).removeAttr("readonly")},t.prototype._openSharedParameterCreateDialog=function(){var n=this;et.show(er,{okCallback:function(t){var i,r;ft.logTracePoint("TestManagement.SharedParameterCreateDialog.Start");i=n._dataSource.length;i>0&&nt.ParametersHelper.isEmptyRow(n._dataSource[i-1],n._parameters)&&n._dataSource.splice(i-1,1);r=n._getProjectId();n._sharedParameterCreationHelper=new nt.SharedParameterCreationHelper(r);n._sharedParameterCreationHelper.createSharedParameter(t,n._parameters,n._dataSource,n.testCase,pt.empty,function(t){ft.logTracePoint("TestManagement.CreateSharedParameterDataSet.Complete");n._updateLocalParameterToSharedAfterConvert(t);ft.logTracePoint("TestManagement.SharedParameterCreateDialog.Complete")},function(n){alert(bt.getErrorMessage(n))})}})},t.prototype._isReadOnly=function(){return typeof this._readOnlyDelegate!="function"?!1:this._readOnlyDelegate()},t.prototype._getProjectId=function(){return this.testCase?this.testCase.getProjectId():nt.ProjectUtil.getProjectIdFromContext()},t.prototype._updateLocalParameterToSharedAfterConvert=function(n){var t=new g.ISharedParameterDataSetModel,r=n.getFieldValue(i.WorkItemFieldNames.Parameters);t.id=n.id;t.title=n.getTitle();r&&(t.sharedParameterDataSet=nt.ParametersHelper.parseSharedParameterDataSet($($.parseXML(n.getFieldValue(i.WorkItemFieldNames.Parameters)))));this.setSelectedSharedParameter(t)},t.prototype._openSharedParameterSearchDialog=function(){var n=this;et.show(ur,{okCallback:function(t){n.setSelectedSharedParameter(t)},projectId:this._getProjectId()})},t.prototype._updateSharedParameterUI=function(n){var h=this,i,u,f,e,t,r,o;if(this._$sharedParamHyperlinksContainer&&this._$sharedParamHyperlinksContainer.length>0?this._$sharedParamHyperlinksContainer.show():this._prependSharedParameterHyperlinks(this._element),this._updateSharedParamHyperlinks(n!==null&&n!==undefined),n){for(i=lt.clone(n.getParameters());lt.remove(i,""););u=$.map(i,function(n){if(n!=="")return"@"+n});e=u.join(" ");this._$sharedParamDataSetParamNames.text(e);t=this.testCase.getSharedParameterDataSetIdBeingUsed();f=pt.format(k.SharedParamaterUsedInTestCaseTitle,t.toString(),this.testCase.getSharedParameterDataSetTitle());o=pt.format("Select [{0}] FROM WorkItems where {1} = '{2}'",s.CoreFieldRefNames.TeamProject,s.CoreFieldRefNames.Id,t);nt.WorkItemUtils.beginQuery(o,function(n){var i,u;n.payload&&n.payload.rows.length>0?(u=$.inArray(s.CoreFieldRefNames.TeamProject,n.payload.columns),i=n.payload.rows[0][u],r=nt.UrlHelper.getSharedParametersUrl(t,!1,i)):r=nt.UrlHelper.getSharedParametersUrl(t,!1);h._$sharedParameterWorkItemHyperlink.text(f).attr("href",r)},function(){},this._getProjectId())}},t.prototype._hideSharedParameterUI=function(){this._$sharedParamHyperlinksContainer&&this._$sharedParamHyperlinksContainer.length>0&&this._$sharedParamHyperlinksContainer.hide()},t.prototype._showAddSharedParameterWarning=function(){var n=this._dataSource.length;return this._parameters.length===0||n===0?!1:n===1&&nt.ParametersHelper.isEmptyRow(this._dataSource[0],this._parameters)?!1:!0},t.prototype._prependSharedParameterHyperlinks=function(n){var i=$(di("div","shared-param-hyperlinks-container")),t=n.parent();i.append($("<a class='add-shared-param-hyperlink'>").text(k.AddFromSharedParameter).attr("tabIndex","0").attr("role","button").on("click keydown",ui(this,this._onAddSharedParameterClick))).append($("<a target='_blank' rel='nofollow noopener noreferrer' class='shared-param-workitem-hyperlink'>").attr("tabIndex","0")).append($("<span class='shared-param-paramnames'><\/span>")).append($("<span class='separator'><\/span>")).append($("<a class='change-shared-param-hyperlink'>").text(k.ChangeSharedParameter).attr("tabIndex","0").attr("role","button").on("click keydown",ui(this,this._onChangeSharedParameterClick))).append($("<a class='remove-shared-param-hyperlink'>").text(k.RemoveSharedParameter).attr("tabIndex","0").attr("role","button").on("click keydown",ui(this,this._onRemoveSharedParameterClick))).append($("<a class='convert-to-shared-param-hyperlink'>").text(k.ConvertToSharedParameter).attr("tabIndex","0").attr("role","button").on("click keydown",ui(this,this._onConvertSharedParameterClick)));this._isReadOnly()&&i.addClass("disable-links");n.before(i);this._$sharedParamHyperlinksContainer=t.find(".shared-param-hyperlinks-container");this._$sharedParameterWorkItemHyperlink=t.find(".shared-param-workitem-hyperlink");this._$sharedParamDataSetParamNames=t.find(".shared-param-paramnames");this._$linksForTestCaseHavingSharedParams=$([t.find(".change-shared-param-hyperlink")[0],t.find(".remove-shared-param-hyperlink")[0],t.find(".shared-param-workitem-hyperlink")[0],t.find(".shared-param-paramnames")[0]]);this._$linksForTestCaseHavingLocalParams=$([t.find(".add-shared-param-hyperlink")[0],t.find(".convert-to-shared-param-hyperlink")[0]])},t.prototype._updateSharedParamHyperlinks=function(n){var t=this._element.parent();n?(this._element.addClass("shared-parameter"),this._$linksForTestCaseHavingLocalParams.css("display","none"),this._$linksForTestCaseHavingSharedParams.css("display","inline-block")):(this._element.removeClass("shared-parameter"),this._$linksForTestCaseHavingLocalParams.css("display","inline-block"),this._$linksForTestCaseHavingSharedParams.css("display","none"))},t.prototype._onAddSharedParameterClick=function(n){nt.isClickOrEnterKeyDownEvent(n)&&!this._isReadOnly()&&((!this._showAddSharedParameterWarning()||confirm(k.AddSharedParameterWarning))&&this._openSharedParameterSearchDialog(),n.stopPropagation(),n.preventDefault())},t.prototype._onChangeSharedParameterClick=function(n){nt.isClickOrEnterKeyDownEvent(n)&&(this._openSharedParameterSearchDialog(),n.stopPropagation(),n.preventDefault())},t.prototype._onRemoveSharedParameterClick=function(n){nt.isClickOrEnterKeyDownEvent(n)&&(confirm(k.RemoveSharedParameterWarning)&&this._removeSharedParameter(),n.stopPropagation(),n.preventDefault())},t.prototype._onConvertSharedParameterClick=function(n){nt.isClickOrEnterKeyDownEvent(n)&&!this._isReadOnly()&&(this._openSharedParameterCreateDialog(),n.stopPropagation(),n.preventDefault())},t.prototype._removeSharedParameter=function(){this.testCase.removeSharedParameterDataSet();this.onChangeSharedParameter&&this.onChangeSharedParameter()},t.prototype._onParameterDeleteClick=function(n,t){var i=t.paramName;if(this.onDeleteParameter)this.onDeleteParameter(i)},t.prototype.setIsSharedStepWorkItem=function(n){var t=[];this._isSharedStepWorkItem=n;this._options.source.length>0&&(t=[this._options.source[0]]);this.setSource(this._parameters,t)},t.prototype.initialize=function(){n.prototype.initialize.call(this)},t.prototype.initializeOptions=function(t){var i;i={items:ui(this,this._getContextMenuItems),updateCommandStates:ui(this,this._updateContextMenuCommandStates),executeAction:ui(this,this._onContextMenuItemClick)};n.prototype.initializeOptions.call(this,$.extend({sharedMeasurements:!1,cssClass:"test-parameter-list",allowMoveColumns:!1,contextMenu:i,allowMultiSelect:!0,columns:[]},t))},t.prototype._getContextMenuItems=function(){return[{rank:1,id:fi.TestStepCommands.CMD_DELETEITERATION,text:k.DeleteIteration,icon:"bowtie-icon bowtie-edit-delete",showIcon:!0,showText:!0,disabled:this._isReadOnly()}]},t.prototype._onContextMenuItemClick=function(n){var t=n.get_commandName();t===fi.TestStepCommands.CMD_DELETEITERATION&&this._handleDeleteIterations(this.getSelectedDataIndices())},t.prototype._handleDeleteIterations=function(n){var u=this._options.source.slice(),f,i=[],t,s=0,h=Math.min.apply(Math,n),r=-Infinity,e=!1,o;for(ei.trackAction("DeleteIteration","/Authoring"),f=lt.indexOf(n,u.length-1),f>=0&&(e=!0,n.splice(f,1)),t=0,o=u.length;t<o;t++)lt.contains(n,t)||(t<h&&t>r&&(r=t),i[s++]=u[t]);(!this._hasLastRowChanged||e)&&i.splice(i.length-1,1);r===-Infinity&&(r=0);this._fireChange({newData:i});this.setSource(this._parameters,i,{dataIndex:r,columnIndex:0,focus:!0})},t.prototype._updateContextMenuCommandStates=function(n){var t=this.getSelectedRowIndex(),i=this._options.source;n.updateCommandStates([{id:fi.TestStepCommands.CMD_DELETEITERATION,disabled:this.testCase&&this.testCase.isUsingSharedParameters()||(this.getSelectedDataIndices().length>1?!1:t===i.length-1)||this._isReadOnly()}])},t.prototype._onEditableHeaderBlur=function(n){var f=$(n.target).closest(".grid-header-column"),u=f.find(".editable-param-name"),i=f.find("div.title"),t=u.prop("value"),e=i.text(),o={},r;if(u.off("blur"),u.hide(),i.show(),this._lastFocusedHeaderElement=null,pt.localeIgnoreCaseComparer(e,t)!==0&&g.ParameterCommonUtils.isValidParameterString(t)&&this.doesParamNameExist&&!this.doesParamNameExist(t)){o={paramName:t};r=i.children();i.text(t);i.append(r);r.off("click");r.on("click",ui(this,this._onParameterDeleteClick,o));if(this.onRenameParameter)this.onRenameParameter(e,t,this.getUniqueId())}},t.prototype._onEditableHeaderKeyUp=function(n){var t=$(n.target).parent().find(".editable-param-name"),r=$(n.target).parent().find("div.title"),i=t.prop("value"),u=r.text();n.which&&n.which===wt.KeyCode.ENTER?this._onEditableHeaderBlur(n):pt.localeIgnoreCaseComparer(u,i)===0||g.ParameterCommonUtils.isValidParameterString(i)&&this.doesParamNameExist&&!this.doesParamNameExist(i)?t.removeClass("parameter-name-invalid"):t.addClass("parameter-name-invalid")},t.prototype._onEditableHeaderKeyDown=function(n){n.which&&n.which===wt.KeyCode.ENTER&&(n.preventDefault(),n.stopPropagation());wt.KeyUtils.isExclusivelyCtrl(n)&&String.fromCharCode(n.keyCode).toLowerCase()==="s"&&this._lastFocusedHeaderElement&&this._onEditableHeaderBlur({target:this._lastFocusedHeaderElement})},t.prototype.setSource=function(n,t,i){var r,u=[],f,e=null,o=this._getProjectId();for(this._hideSharedParameterUI(),this._isSharedStepWorkItem||(this.testCase&&(e=this.testCase.getSharedParameterBeingUsed()),this._updateSharedParameterUI(e)),r=0;r<n.length;r++)f={index:n[r],text:n[r],canSortBy:!1,getCellContents:ui(this,this._getCellContents),width:125},u.push(f);this._unbind("updateViewPortCompleted");i&&this._bind("updateViewPortCompleted",ui(this,this._onAddTestStep,i));this._hasLastRowChanged=!1;this.testCase&&!this.testCase.isUsingSharedParameters()&&(this._isSharedStepWorkItem&&t.length!==0||this._addRows(1,t,n));this._parameters=n;this._options.columns=u;this._options.source=t;this.initializeDataSource()},t.prototype.updateDataSourceWithoutRedraw=function(n){this._dataSource=n||[];this._count=this._dataSource.length},t.prototype._addRows=function(n,t,i){var u,r,f=t.length,e=i.length;if(n>0&&e>0)for(u=0;u<n;u++){for(t[f]={},r=0;r<e;r++)t[f][i[r]]="";f++}},t.prototype._getCellContents=function(t,i,r,u,f,e,o){var a=this,h,l,c=Math.round(f.width)||20,s;h=n.prototype.getColumnText.call(this,i,f,o);l={text:f.text,dataIndex:i,columnIndex:this.getColumns().indexOf(f)};s=$(di("input")).attr("type","text").attr("title",h);s.addClass("parameter-grid-cell").val(h).css("width",isNaN(c)?c:c+"px").data("cellInfo",l).on("keydown",ui(this,this._onKeyDown)).on("input",ui(this,this._onCellChanged)).on("blur",ui(this,this._onEndCellEdit)).on("focus",ui(this,this._onGridElementFocus)).on("mousedown",function(n){n.stopPropagation();var t=$(a._element.find(".parameter-grid-cell")).attr("readonly");t==="readonly"&&n.preventDefault()});return this._isReadOnly()&&s.attr("readonly","true"),s},t.prototype._onGridElementFocus=function(t,i){n.prototype._onGridElementFocus.call(this,t,i);this._lastFocusedCell=this._getCellFromEvent(t,".parameter-grid-cell")[0]},t.prototype._onContainerResize=function(t){this._lastFocusedCell&&this._onEndCellEdit({target:this._lastFocusedCell});n.prototype._onContainerResize.call(this,t)},t.prototype._updateRow=function(n,t,i,r,u){var o,s,l,f,a,h,e,c;for(l=this._indentIndex,o=n.row,o.empty(),s=o[0],s.style.width=isNaN(this._contentSize.width)?"":this._contentSize.width+2+"px",h=this._columns,f=0,a=h.length;f<a;f++)(e=h[f],e.hidden)||(c=e.getCellContents.apply(this,[n,i,r,u,e,l,f]),c&&s.appendChild(c[0]));this._updateRowSelectionStyle(n,this._selectedRows,this._selectedIndex)},t.prototype._onKeyDown=function(n){n.keyCode===wt.KeyCode.ENTER?this._onEnterKey(n):n.keyCode!==wt.KeyCode.TAB||n.shiftKey?n.keyCode===wt.KeyCode.UP?this._onUpKey(n):n.keyCode===wt.KeyCode.DOWN?this._onDownKey(n):wt.KeyUtils.isExclusivelyCtrl(n)&&String.fromCharCode(n.keyCode).toLowerCase()==="s"&&this._lastFocusedCell&&this._onEndCellEdit({target:this._lastFocusedCell}):this._onTabKey(n)},t.prototype._onCellChanged=function(n){var i=this._options.source.slice(),r=this._getCellFromEvent(n,".parameter-grid-cell"),t=r.data("cellInfo"),u=t.dataIndex,e=t.columnIndex,o=t.text,f=u===i.length-1;this._hasLastRowChanged=this._hasLastRowChanged||f},t.prototype._onEndCellEdit=function(n){if(!(this.testCase&&this.testCase.isUsingSharedParameters())){var t=this._options.source.slice(),r=this._getCellFromEvent(n,".parameter-grid-cell"),i=r.data("cellInfo"),e=i.columnIndex,f=i.text,u=i.dataIndex;t[u]&&(t[u][f]=r.val(),this._lastFocusedCell=null,this._hasLastRowChanged||t.splice(t.length-1,1),this._fireChange({newData:t}))}},t.prototype._getCellFromEvent=function(n,t){return $(n.target).closest(t)},t.prototype._onAddTestStep=function(n,t,i){this.setSelectedRowIndex(i.dataIndex);this.getSelectedRowIntoView(!0);i.focus&&this._focusCell(i.dataIndex,i.columnIndex);ft.logTracePoint("ParametersList.addTestStepCompleted");this._unbind("updateViewPortCompleted")},t.prototype._focusCell=function(n,t){var i,u,r;i=this.getRowInfo(n);i&&(u=$(i.row),r=$(u.find(".parameter-grid-cell")[t]),r.length===1&&r.focus())},t.prototype._onEnterKey=function(n){var i=this._getCellFromEvent(n,".parameter-grid-cell"),r=this._options.source,t,u,f;this._isSharedStepWorkItem||i.length===1&&(t=i.data("cellInfo"),this._hasNextRow(i)?this._focusCell(t.dataIndex+1,t.columnIndex):(u=t.text,f=t.dataIndex,r[f][u]=i.val(),this.setSource(this._parameters,r,{text:t.text,dataIndex:t.dataIndex+1,columnIndex:"0",focus:!0}),this.focus()));n.preventDefault();n.stopPropagation()},t.prototype._onUpKey=function(n){var t=this._getCellFromEvent(n,".parameter-grid-cell"),r=this._options.source,i=t.data("cellInfo");this._hasPrevRow(t)&&this._focusCell(i.dataIndex-1,i.columnIndex)},t.prototype._onDownKey=function(n){var t=this._getCellFromEvent(n,".parameter-grid-cell"),r=this._options.source,i=t.data("cellInfo");this._hasNextRow(t)&&this._focusCell(i.dataIndex+1,i.columnIndex)},t.prototype._onTabKey=function(n){var t=this._getCellFromEvent(n,".parameter-grid-cell"),u=this._options.source,i=t.data("cellInfo");if(i){var f=i.columnIndex,r=i.dataIndex,e=i.text;this._isSharedStepWorkItem||this._hasNextRow(t)||this._hasNextCell(t)||t.val()!==""&&(u[r][e]=t.val(),r=r+1,f=0,this.setSource(this._parameters,u,{dataIndex:r,columnIndex:f,focus:!0}),this.focus(),n.preventDefault(),n.stopPropagation())}},t.prototype._hasNextCell=function(n){var t;return t=n.next(".parameter-grid-cell"),t.length===1},t.prototype._hasPrevCell=function(n){var t;return t=n.prev(".parameter-grid-cell"),t.length===1},t.prototype._hasNextRow=function(n){var t;return t=n.parent(".grid-row").next(".grid-row"),t.length===1},t.prototype._hasPrevRow=function(n){var t;return t=n.parent(".grid-row").prev(".grid-row"),t.length===1},t.prototype._parameterMappingChanged=function(n,t){var r,i=n.getText(),u=[];this.testCase&&(r=this.testCase.getSharedParameterBeingUsed())&&(u=r.getParameters(),i===""||lt.contains(u,i,pt.localeIgnoreCaseComparer)?(n.setInvalid(!1),this.testCase.getParametersDataInfo().setParameterMapping(t,i),this.testCase.setIsDirty(!0),this._populateTestCaseDataFromDataInfo()):n.setInvalid(!0))},t.prototype._populateTestCaseDataFromDataInfo=function(){nt.ParametersHelper.populateTestCaseDataFromParamDataInfo(this.testCase.getParametersDataInfo(),this.testCase,this.testCase.getSharedParameters()[0],this.testCase.getSharedParameterDataSetTitle());this.onChangeSharedParameterMappings&&this.onChangeSharedParameterMappings()},t.prototype._setTestcaseParameterDataField=function(n,t,i){var u=this.testCase.getParameters(),f=u.length,r,e,o,s=[],h=n.sharedParameterDataSet.getParameters();if(t.length===f){for(r=0;r<f;r++)lt.contains(h,t[r],pt.localeIgnoreCaseComparer)||(t[r]=""),e=new g.SharedParameterDefinition(u[r],t[r],n.id),s.push(e);o=new g.TestCaseParameterDataInfo(s,[n.id],g.SharedParameterRowsMappingType.MapAllRows);this.testCase.setIsDirty(!0);nt.ParametersHelper.beginPopulateTestCaseDataFromParamDataInfo(o,this.testCase,i)}},t.enhancementTypeName="tfs.wit.testParameterList",t}(ci);t.TestParameterList=li;bt.classExtend(li,f.TfsContext.ControlExtensions);fi=function(n){function t(t,i,u){var f=__construct(this,n,[t,i,u]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f._currentWorkItemId=0,f._isFullScreen=!1,f._parameterCollapsedTestStepGridHeightOffsetWhenMaximized=35,f._parameterCollapsedTestStepGridHeightOffsetWhenNormal=70,f._parameterExpandedTestStepGridHeightOffsetWhenMaximized=200,f._parameterExpandedTestStepGridHeightOffsetWhenNormal=235,f._testStepGridMinimumHeight=250,f._testStepControlHeaderHeight=80,f._replatWorkItemForm=!1,f._isSharedStepWorkItem=!1,f._showingParamDeleteWarning=!1,f._onSharedStepChangedDelegate=ui(f,f._onSharedStepWorkItemChanged),f._encodedParams=new r.Dictionary,f}return __extends(t,n),t.prototype.setReplatWorkItemFormFlag=function(){this._replatWorkItemForm=!0},t.prototype.maximizeInPlace=function(){this._isFullScreen=!0;this._setTestStepGridHeight()},t.prototype.restoreInPlace=function(){this._isFullScreen=!1;this._setTestStepGridHeight()},t.prototype.invalidate=function(n){if(n===!1&&(this._flushing=n),!this._flushing&&this._workItem){var f=$(at.parseXml(this._stepsField.getValue())),r=void 0,t=void 0,u=void 0,i=void 0;for(this._steps=[],this._parameters=[],this._attachments=[],u=this._workItem.getLinks(),t=0;t<u.length;t++)i=u[t],(this._replatWorkItemForm&&i.linkData.FldID===s.DalFields.AttachedFiles||i instanceof ni.Attachment)&&this._attachments.push(i);r=f.find("steps");this.readSteps(r,this,!0);r.remove();f.remove();ft.logTracePoint("TestStepsControl.loadSteps.start");this._fetch(this._steps,ui(this,this._onStepsLoaded))}},t.prototype.readSteps=function(n,t,i,r){var u;for(i&&(this._steps=[]),this._steps=g.TestBase.parseTestSteps(n),this.testCase.setTestSteps(this._steps),u=0;u<this._steps.length;u++)this._steps[u].ref||this._steps[u].processTestAttachments(t._attachments,!this._replatWorkItemForm);if(r&&this._steps.push(this._stepsList._getaddNewStepRow()),i&&this._steps&&this._steps.length>0)for(u=0;u<this._steps.length;u++)this._steps[u].setIndex(u+1)},t.prototype.readParameters=function(n){var t=$(at.parseXml(this._parametersField.getValue())),r,u,i;for(this._parameters=g.ParameterCommonUtils.parseParameters(t),this.testCase.setParameters(this._parameters),this.testCase.setSharedStepParameters([]),i=0;i<this._steps.length;i++)this._steps[i].actionType===g.TestActionTypes.SharedSteps&&this._workItemCache[this._steps[i].ref]&&(u=this._workItemCache[this._steps[i].ref][this._parametersLocationInFetchedItem],u&&(t=$(at.parseXml(u)),this.testCase.mergeSharedStepParameters(g.ParameterCommonUtils.parseParameters(t)),t.remove()));this._parametersDataField&&nt.ParametersHelper.beginPopulateTestCaseDataFromJson(this.testCase,this._parametersDataField.getValue(),n)||(ft.logVerbose("TestStepsControl.readParameters: Reading parameter data field which is of xml format"),this._parametersDataField?r=$(at.parseXml(this._parametersDataField.getValue())):this._isSharedStepWorkItem&&(r=t),nt.ParametersHelper.setTestCaseParametersDataFromXml(this.testCase,r,this._isSharedStepWorkItem),t.remove(),n&&n())},t.prototype._confirmParamsDelete=function(n){var t,i=k.ConfirmParameterDeletion;return this._showingParamDeleteWarning?!1:(this._showingParamDeleteWarning=!0,this.testCase.isUsingSharedParameters()&&(i=k.ConfirmParameterDeletionForTcUsingSharedParameters),t=nt.ParametersHelper.confirmParamsDelete(n,this.testCase,i,!0),this._showingParamDeleteWarning=!1,t)},t.prototype.bind=function(r){var u=this,o,d=r.getField(s.CoreFieldRefNames.Title).getValue(),a,f,v,y,h,c,b,l,e,k;if(this._stepsList&&this._stepsList.notifyCellChanged(),this._parametersList&&this._parametersList.flushUI(),r&&(ft.logVerbose("[bind]Setting current work item id to "+r.id),this._currentWorkItemId=r.id,this._stepsField=r.getField(i.WorkItemFieldNames.Actions),this._parametersField=r.getField(i.WorkItemFieldNames.Parameters),this._parametersDataField=r.getField(i.WorkItemFieldNames.DataField),f=this._parametersField.getValue(),v=$(at.parseXml(f)),h=this._parametersDataField?this._parametersDataField.getValue():"",this._parameters=g.ParameterCommonUtils.parseParameters($(at.parseXml(f||""))),a=nt.ParametersHelper.parseParametersData($(at.parseXml(h||"")),this._parameters),c=[],this._replatWorkItemForm&&((o=this._workItem)===null||o===void 0?void 0:o.id)===r.id&&this.testCase&&(c=this.testCase.getTestSteps()),this.testCase=new g.TestCase(r.Id,r.revision,d,c,this._parameters,a,h,undefined,undefined,undefined,r.project,this._replatWorkItemForm),this._parametersList.testCase=this.testCase,this.testCase.paramDeleteEvent=ui(this,this._handleParameterDeletion),this.testCase.setWorkItemWrapper(new g.WorkItemWrapper(r)),this._workItemCache={}),this._encodedParams.clear(),n.prototype.bind.call(this,r),this._workItem&&(this._onWorkItemChanged=function(n,t){t.change===p.WorkItemChangeType.Refresh?(u._workItemCache={},u.invalidate(r)):t.change===p.WorkItemChangeType.Reset?u.invalidate(r):t.change===p.WorkItemChangeType.Saved&&u._handleSharedStepParamChanges()},r.attachWorkItemChanged(this._onWorkItemChanged),w.WorkItemManager.get(this._store).attachWorkItemChanged(this._onSharedStepChangedDelegate),b=this.testCase?this.testCase.getProjectId():nt.ProjectUtil.getProjectIdFromContext(),nt.WorkItemUtils.getAllWorkItemTypeNamesForCategory(g.WorkItemCategories.SharedStep,function(n){lt.contains(n,r.workItemType.name,pt.ignoreCaseComparer)&&(u._isSharedStepWorkItem=!0,u.testCase.getSharedStepParametersData().setParameterXml(f),u._menuBar.updateCommandStates([{id:t.TestStepCommands.CMD_INSERTSHAREDSTEPS,disabled:!0},{id:t.TestStepCommands.CMD_CREATESHAREDSTEP,disabled:!0}]),y=g.ParameterCommonUtils.getParametersDataRow(v),u._stepsList.setIsSharedStepWorkItem(!0),u.testCase.setData([y],!0),u._parametersList.setIsSharedStepWorkItem(!0),u._parameterspanel._element.hide())},undefined,b)),r&&at.delay(this,100,function(){u._stepsList&&(u._stepsList.bind(r.id),ft.logVerbose("[bind]Binding step list with id "+r.id));u._parametersList&&(u._parametersList.bind(r.id),ft.logVerbose("[bind]Binding parameter list with id "+r.id))}),this._fontStyleCommands){for(l=[],e=0;e<this._fontStyleCommands.length;e++)k=this._fontStyleCommands[e],l.push({id:k.name+"-command",disabled:this.isReadOnly()});this._menuBar.updateCommandStates(l)}},t.prototype.cleanUp=function(){this._onWorkItemChanged&&(this._workItem&&this._workItem.detachWorkItemChanged(this._onWorkItemChanged),delete this._onWorkItemChanged);w.WorkItemManager.get(this._store).detachWorkItemChanged(this._onSharedStepChangedDelegate);this._encodedParams.clear();n.prototype.cleanUp.call(this)},t.prototype.onEditActions=function(n){this._onEditActions(n)},t.prototype.flush=function(){var n=this._stepsField;if(n)try{this._flushing=!0;this.testCase.preSave(this._isSharedStepWorkItem,this._encodedParams)}finally{this._flushing=!1}},t.prototype._handleParameterDeletion=function(n){var t=this._confirmParamsDelete(n);return t&&nt.ParametersHelper.deleteParametersData(n,this.testCase,this._isSharedStepWorkItem),t},t.prototype._handleSharedStepParamChanges=function(){if(this._isSharedStepWorkItem)try{var n=this.testCase.getSharedStepParametersData().getParameterXml(),r={data:this.testCase.getData(!0)},t=void 0,i=[];n&&(t=$(at.parseXml(n)),i=g.ParameterCommonUtils.parseParameters(t));nt.ParametersHelper.beginUpdateParameterDataInLinkedTestCases(this.testCase.getSharedStepParametersData(),i,this._workItem.id,ui(this,this._onLinkedTestCasesUpdated,r))}catch(u){this.testCase.getSharedStepParametersData().clearCommandQueue()}},t.prototype._onLinkedTestCasesUpdated=function(n){this.testCase.getSharedStepParametersData().clearCommandQueue();this.testCase.setData(n.data,!0)},t.prototype.getPageColumns=function(){return["System.Id","System.Title","System.WorkItemType","System.TeamProject","Microsoft.VSTS.TCM.Parameters"]},t.prototype._init=function(){var t=this,r,u;n.prototype._init.call(this);this._store=ct.getCollectionService(ni.WorkItemStore);this._workItemCache={};this._control=$("<div />").addClass("test-steps-control").appendTo(this._container);u=$("<div />").addClass("test-steps-control-header").appendTo(this._control);$("<span />").appendTo(u).text(pt.format(k.LoadingTestSteps," ")).addClass("test-steps-loading");this._fontStyleCommands=[{name:"bold",text:kt.EditorBold},{name:"italic",text:kt.EditorItalic},{name:"underline",text:kt.EditorUnderline}];r=$("<div />").addClass("toolbar").appendTo(this._control);this._menuBar=ut.BaseControl.createIn(ht.MenuBar,r,{items:this._createToolbarMenuItems(this._fontStyleCommands),executeAction:ui(this,this._onMenubarItemClick)});this._control.find(".icon").attr("unselectable","on");this._updateInsertParamButton();this._stepsList=ut.BaseControl.createIn(si,this._control,{tfsContext:this._options.tfsContext,width:"100%",height:"250px",stepDetailProvider:ui(this,this._fetch),stepValueProvider:ui(this,this._getStepValue),change:ui(this,this.onEditActions),readOnlyDelegate:ui(this,this.isReadOnly)});this._createCollapsableParametersPanel();this._control.on("openRowDetail",ui(this,this._onOpenSharedTestSteps));this._control.on("deletekey",ui(this,this._onDeleteKeyPressed));this._stepsList._bind("selectionchanged",ui(this,this._onTestStepsSelectionChange));this._control.on("mousedown",function(n){n.stopPropagation();n.preventDefault()});this._parametersList.onRenameParameter=function(n,i,r){t._handleParameterRename(n,i,r)};this._parametersList.onDeleteParameter=function(n){t._confirmParamsDelete([n])&&t._handleParameterDelete(n)};this._parametersList.canRenameParameter=function(n){return t.canEditParameter(n)};this._parametersList.canDeleteParameter=function(n){return t.canEditParameter(n)};this._parametersList.doesParamNameExist=function(n){return t._doesParamNameExist(n)};this._parametersList.onChangeSharedParameter=function(){t.flush();t._refreshParametersGrid()};this._parametersList.onChangeSharedParameterMappings=function(){t.flush();t._parametersList.updateDataSourceWithoutRedraw(t.testCase.getData(t._isSharedStepWorkItem).slice(0));t._parametersList._updateViewport(!0);t._parametersList.updateReadWriteMode()};this._fieldEvents=[i.WorkItemFieldNames.Actions,i.WorkItemFieldNames.Parameters,i.WorkItemFieldNames.DataField]},t.prototype._handleParameterRename=function(n,i,r){(ft.logVerbose("[_handleParameterRename]uniqueId = "+r+" currentWorkItemId = "+this._currentWorkItemId),r===this._currentWorkItemId)&&(ei.trackAction("RenameParameter","/Authoring"),this.testCase.renameParameter(n,i),this._isSharedStepWorkItem&&this.testCase.getSharedStepParametersData().renameParam(n,i),this._flushAndRefreshTestStepsGrid(this._stepsList._selectedIndex,t.TestStepCommands.CMD_RENAMEPARAMETER),this._refreshParametersGrid())},t.prototype._createCollapsableParametersPanel=function(){var n={cssClass:"parameter-collapsible-section",collapsed:!1,headingLevel:3,iconCollapseCss:"bowtie-icon bowtie-chevron-down",iconExpandCss:"bowtie-icon bowtie-chevron-up",onToggleCallback:ui(this,this._setTestStepGridHeight)};this._parameterspanel=ut.BaseControl.createIn(ri.CollapsiblePanel,this._control,n);this._parameterspanel.appendHeader(k.TestStepsControlParameterValuesTitle);this._parameterspanel.appendContent(ui(this,this._createParameterListGrid))},t.prototype._setTestStepGridHeight=function(){var t=this._control.find(".test-steps-list"),n="",i=this._parameterspanel&&this._parameterspanel.isExpanded();n=this._getTestStepListHeight(i);t.css("height",n)},t.prototype._getTestStepListHeight=function(n){var u=this._control.find(".test-steps-list"),i=u.closest(".form-body"),t,r;return i&&i.length>0&&(t=i[0].offsetHeight,t=t-this._testStepControlHeaderHeight,r=this._getTestStepGridHeightOffset(n),t=t-r),(!t||t<this._testStepGridMinimumHeight)&&(t=this._testStepGridMinimumHeight),t+"px"},t.prototype._getTestStepGridHeightOffset=function(n){return n?this._isFullScreen?this._parameterExpandedTestStepGridHeightOffsetWhenMaximized:this._parameterExpandedTestStepGridHeightOffsetWhenNormal:this._isFullScreen?this._parameterCollapsedTestStepGridHeightOffsetWhenMaximized:this._parameterCollapsedTestStepGridHeightOffsetWhenNormal},t.prototype._createParameterListGrid=function(){var n=$("<div />");return $("<span />").appendTo(n).text(pt.format(k.LoadingTestSteps," ")).addClass("test-steps-loading"),this._parametersList=ut.BaseControl.createIn(li,n,{tfsContext:this._options.tfsContext,testCase:this.testCase,gutter:!1,width:"100%",height:"145px",change:ui(this,this._onParamGridChanged),readOnlyDelegate:ui(this,this.isReadOnly)}),n},t.prototype._doesParamNameExist=function(n){return lt.contains(this.testCase.getParameters(),n,pt.localeIgnoreCaseComparer)?!0:!1},t.prototype._onParamGridChanged=function(n){ft.logVerbose("[_onParamGridChanged]e.uniqueId = "+n.uniqueId+" currentWorkItemId = "+this._currentWorkItemId);n.newData&&n.uniqueId===this._currentWorkItemId&&(this.testCase.setData(n.newData,this._isSharedStepWorkItem),this.testCase.setIsDirty(!0),this.flush())},t.prototype._handleParameterDelete=function(n){ei.trackAction("DeleteParameter","/Authoring");this.testCase.deleteParameter(n);this._isSharedStepWorkItem&&this.testCase.getSharedStepParametersData().deleteParam(n);this._flushAndRefreshTestStepsGrid(this._stepsList._selectedIndex);this._refreshParametersGrid()},t.prototype.canEditParameter=function(n){return!this.testCase.isSharedStepParameter(n)},t.prototype._updateInsertParamButton=function(){var n;n=this._control.find(".menu-item[command='insert-parameter']");this._makeMenuItemUnselectable(n,"icon bowtie-icon bowtie-parameter","insert-parameter-command",k.InsertParameter)},t.prototype._makeMenuItemUnselectable=function(n){n.attr("unselectable","on");n.find(".icon").attr("unselectable","on");n.find(".text").attr("unselectable","on")},t.prototype._createToolbarMenuItems=function(n){var r,u,i=[];if(i.push({id:t.TestStepCommands.CMD_INSERTSTEP,title:k.InsertStepAuthoringTooltip,showText:!1,icon:"bowtie-icon bowtie-step-insert"}),i.push({id:t.TestStepCommands.CMD_INSERTSHAREDSTEPS,title:k.InsertSharedSteps,showText:!1,icon:"bowtie-icon bowtie-step-shared-insert"}),i.push({id:t.TestStepCommands.CMD_CREATESHAREDSTEP,title:k.CreateSharedStep,showText:!1,icon:"bowtie-icon bowtie-step-shared-add"}),i.push({separator:!0}),i.push({id:t.TestStepCommands.CMD_MOVEUP,title:k.MoveStepUp,showText:!1,icon:"bowtie-icon bowtie-sort-ascending"}),i.push({id:t.TestStepCommands.CMD_MOVEDOWN,title:k.MoveStepDown,showText:!1,icon:"bowtie-icon bowtie-sort-descending"}),i.push({id:t.TestStepCommands.CMD_DELETE,title:k.DeleteStep,showText:!1,icon:"bowtie-icon bowtie-edit-delete"}),i.push({separator:!0}),i.push({id:t.TestStepCommands.CMD_INSERTPARAMETER,title:k.InsertParameter,showText:!1,icon:"bowtie-icon bowtie-parameter"}),i.push({id:t.TestStepCommands.CMD_ADDATTACHMENT,title:k.AddAttachmentDialogTitle,showText:!1,icon:"bowtie-icon bowtie-attach"}),n)for(i.push({separator:!0}),r=0;r<n.length;r++)u=n[r],i.push({id:u.name+"-command",title:u.text,showText:!1,icon:"bowtie-icon bowtie-format-"+u.name,disabled:this.isReadOnly()});return i},t.prototype._onTestStepsSelectionChange=function(n,i){var u=this._stepsList.getSelectedItem(),e=this.testCase.getTestSteps(),f=e.length,r=!(i.selectedIndex<=f-1&&i.selectedIndex>=0);this._menuBar.updateCommandStates([{id:t.TestStepCommands.CMD_INSERTSTEP,disabled:this._stepsList._areMultipleStepsSelected()||this.isReadOnly()},{id:t.TestStepCommands.CMD_DELETE,disabled:r||this._stepsList._areMultipleStepsSelected()||this.isReadOnly()},{id:t.TestStepCommands.CMD_MOVEUP,disabled:i.selectedIndex<=0||r||this._stepsList._areMultipleStepsSelected()||this.isReadOnly()},{id:t.TestStepCommands.CMD_MOVEDOWN,disabled:i.selectedIndex>=f-1||r||this._stepsList._areMultipleStepsSelected()||this.isReadOnly()},{id:t.TestStepCommands.CMD_INSERTSHAREDSTEPS,disabled:this._isSharedStepWorkItem||this._stepsList._areMultipleStepsSelected()||this.isReadOnly()},{id:t.TestStepCommands.CMD_CREATESHAREDSTEP,disabled:r||!this._stepsList._canCreateSharedStep()||this.isReadOnly()},{id:t.TestStepCommands.CMD_ADDATTACHMENT,disabled:r||u instanceof g.SharedSteps||this._stepsList._areMultipleStepsSelected()||this.isReadOnly()},{id:t.TestStepCommands.CMD_INSERTPARAMETER,disabled:r||u instanceof g.SharedSteps||this._stepsList._areMultipleStepsSelected()||this.isReadOnly()}])},t.prototype._onMenubarItemClick=function(n){var r=n.get_commandName(),i=r.replace("-command",""),u,f;i==="bold"||i==="italic"||i==="underline"?(ei.trackAction("FormatStep","/Authoring",{command:i}),this._isCurrentSelectionInEditableTestStep()&&(f=document.execCommand(i),f&&this._stepsList.textFormattingChanged())):i===t.TestStepCommands.CMD_INSERTPARAMETER?this._isCurrentSelectionInEditableTestStep()&&this._insertParameter():i===t.TestStepCommands.CMD_CREATESHAREDSTEP?this._stepsList._canCreateSharedStep()&&this._stepsList._fireChange({selectedRowIndexes:this._stepsList._getSelectedRowsArray(),changeType:r}):(u=this._stepsList.getSelectedRowIndex(),this._stepsList._fireChange({rowIndex:u,changeType:r}))},t.prototype._isCurrentSelectionInEditableTestStep=function(){try{var i=void 0,n=void 0,t=void 0,r=void 0;return window.getSelection?(i=window.getSelection(),i&&(n=i.getRangeAt(0),n&&n.startContainer&&(t=$(n.startContainer).closest(".test-steps-multiline"),t&&t.children().length>0&&(r=t.children().first(),r.attr("contenteditable")==="true"))))?(wt.tryFocus(r,10),!0):!1:!0}catch(u){if(!(u instanceof DOMException))throw u;}},t.prototype._insertParameter=function(){ei.trackAction("InsertParameter","/Authoring");var n=" @"+this._getUniqueParameterName()+" ";nt.insertAndSelectTextAtCurrentCaretPosition(n)},t.prototype._getUniqueParameterName=function(){for(var t=k.ParameterPlaceholderName,n=1;lt.contains(this.testCase.getParameters(),t+n,pt.localeIgnoreCaseComparer);)n++;return t+n},t.prototype._refreshParametersGrid=function(){var t=this.testCase.getTestSteps(),n=this._getParametersForTestSteps(t);this._encodedParams=g.ParameterCommonUtils.updateEncodedParameters(n);this._parametersList.setSource(n,this.testCase.getData(this._isSharedStepWorkItem).slice(0))},t.prototype._getParametersForTestSteps=function(n){var u=this,t=[],i=[],r,f;return $.each(n,function(n,i){t=i instanceof g.TestStep?t.concat(u._getTestStepParameters(i)):t.concat(u._getSharedStepParameter(i))}),r=this.testCase.getParameters().slice(0),f=this,$.each(t,function(n,t){if(!lt.contains(i,t,pt.localeIgnoreCaseComparer)){var u=f._getIndexOfParamInParameterList(r,t);u>=0&&i.push(r[u])}}),i},t.prototype._getIndexOfParamInParameterList=function(n,t){var r=-1,i;if(n&&n.length>0)for(i=0;i<n.length;i++)if(pt.ignoreCaseComparer(n[i],t)===0){r=i;break}return r},t.prototype._getSharedStepParameter=function(n){var r=[],t,i;return n&&this._workItemCache&&this._workItemCache[n.ref]&&(t=this._workItemCache[n.ref][this._parametersLocationInFetchedItem],t&&(i=$(at.parseXml(t)),r=g.ParameterCommonUtils.parseParameters(i),i.remove())),r},t.prototype._getTestStepParameters=function(n){var t=[],i,r;return n&&(i=n.getActionParameters(),r=n.getExpectedParameters(),i&&i.length>0&&(t=t.concat(g.ParameterCommonUtils.getParameters(n.action))),r&&r.length>0&&(t=t.concat(g.ParameterCommonUtils.getParameters(n.expectedResult)))),t},t.prototype._onDeleteKeyPressed=function(){var t=this._stepsList.getSelectedItem(),n=this._stepsList.getSelectedRowIndex();n>=0&&n<=this._steps.length-1&&t&&this._onTeststepDelete()},t.prototype._onTeststepDelete=function(){var n=this._stepsList.getSelectedRowIndex();this._stepsList._fireChange({rowIndex:n,changeType:t.TestStepCommands.CMD_DELETE})},t.prototype._onStepsLoaded=function(){var n=this;this._control.find(".test-steps-loading").hide();this._stepsList.setSource(this.testCase.getTestSteps());this.readParameters(function(){var t=n.testCase.getParameters().slice(0);t&&t.length>0?n._parameterspanel.expand():n._parameterspanel.collapse();n._refreshParametersGrid()});ft.logTracePoint("TestStepsControl._onStepsLoaded.complete")},t.prototype._removeTestStep=function(n){var u=this;ft.logTracePoint("TestStepGrid.DeleteTestStepUI.Start");var r=this.testCase.getTestSteps()[n.rowIndex],s=r.id,f=!1,e,i,o;ei.trackAction("DeleteStep","/Authoring");f=r instanceof g.SharedSteps;o=this.testCase.removeStep(s,0);o&&(i=this.testCase.getTestSteps().length,e=n.rowIndex<=i-1?n.rowIndex:n.rowIndex===i&&i>0?i-1:0,this._flushAndRefreshTestStepsGrid(e,t.TestStepCommands.CMD_DELETE,!0),f&&this.readParameters(function(){u._onSharedStepDeleted(r);u._refreshParametersGrid()}),this._refreshParametersGrid())},t.prototype._onSharedStepDeleted=function(n){var r,u,e,t,f,i;if(n){if(r=this._workItemCache[n.ref][this._parametersLocationInFetchedItem],r){for(u=$(at.parseXml(r)),i=g.ParameterCommonUtils.parseParameters(u),e=lt.intersect(this.testCase.getParameters(),i,pt.localeIgnoreCaseComparer),t=0,f=i.length;t<f;t++)nt.ParametersHelper._isParamConflicting(i[t],this.testCase.getParameters())||(this.testCase.isUsingSharedParameters()&&this.testCase.getParametersDataInfo().deleteParameter(i[t]),this.testCase.getParametersData().deleteParameter(i[t]));this.flush()}this.testCase.getNumberOfSharedStepsWithId(n.ref)===0&&(this._workItemCache[n.ref]=null)}},t.prototype._flushAndRefreshTestStepsGrid=function(n,i,r){var u=this.testCase.getTestSteps(),f=this;r&&this._stepsList._onEscapeKey();this.flush();this._stepsList.setSource(u,i);this._stepsList.setSelectedRowIndex(n);i!==t.TestStepCommands.CMD_ADDSTEP&&i!==t.TestStepCommands.CMD_RENAMEPARAMETER&&setTimeout(function(){f._stepsList.focus()},10)},t.prototype._addNewStep=function(n){ft.logTracePoint("TestStepGrid.AddNewTestStep.Start");var i,r="",u;this.testCase.addNewStep();i=this.testCase.getTestSteps();u=i[i.length-1];n.charCode&&(n.charCode>=48&&n.charCode<=90||n.charCode>=97&&n.charCode<=122)&&(r=String.fromCharCode(n.charCode));u.setAction("<div><p>"+r+"<\/p><\/div>");this._flushAndRefreshTestStepsGrid(i.length-1,t.TestStepCommands.CMD_ADDSTEP)},t.prototype._isSharedStep=function(n){return n.attr("ref")?!0:!1},t.prototype._moveStep=function(n,t){t>0?ei.trackAction("MoveDown","/Authoring"):ei.trackAction("MoveUp","/Authoring");this.testCase.swapTestSteps(n,n+t,0);var r=n,i=n+t;this._stepsList.hasContentChanged=!0;this._flushAndRefreshTestStepsGrid(i,null,!0);this._refreshParametersGrid()},t.prototype._getStepId=function(n){return this.testCase.getTestSteps()[n]?this.testCase.getTestSteps()[n].id:-1},t.prototype._getStep=function(n){return this.testCase.getTestSteps()[n]?this.testCase.getTestSteps()[n]:null},t.prototype._insertStep=function(n){var i=this._getStepId(n.rowIndex);ei.trackAction("InsertStep","/Authoring");this.testCase.insertStep(i,0);this._flushAndRefreshTestStepsGrid(n.rowIndex,t.TestStepCommands.CMD_INSERTSTEP)},t.prototype._createSharedStep=function(n){for(var i=[],r=n.selectedRowIndexes.length,t=0;t<r;t++)n.selectedRowIndexes[t]>=0&&n.selectedRowIndexes[t]<=this._stepsList._count-2&&(i[t]=this._getStep(n.selectedRowIndexes[t]));this._showCreateSharedStepDialog(i)},t.prototype._showCreateSharedStepDialog=function(n){var t=this;return et.Dialog.show(gi,{width:450,height:150,okCallback:function(i){ei.trackAction("CreateSharedStep","/Authoring",{stepCount:n.length});t._sharedStepCreationHelper=new nt.SharedStepCreationHelper(t._workItem.project);t._sharedStepCreationHelper.createSharedStep(i,n,t.testCase,function(i){t._onSharedStepWorkItemCreateSuccess(i,n)},function(n){alert(bt.getErrorMessage(n))})}})},t.prototype._onSharedStepWorkItemCreateSuccess=function(n,t){var r=t.length,i;t.sort(function(n,t){return n.index-t.index});i=this.testCase.getIndexForActionId(t[0].id);this._insertSharedStepsAtIndex(i,n.getId(),t)},t.prototype._insertSharedStepsAtIndex=function(n,t,i){var r=[],u=this;ei.trackAction("InsertSharedSteps","/Authoring");r.push(t);this.testCase.insertSharedStepsAtIndex(n,r,i);this.flush();this.invalidate(!1);this._stepsList.setSelectedRowIndex(n);setTimeout(function(){u._stepsList.focus()},10)},t.prototype._insertSharedSteps=function(n){var t=this._getStepId(n.rowIndex);this._showInsertSharedStepsDialog(t)},t.prototype._showInsertSharedStepsDialog=function(n){var i=this,t,r,u;if(this._replatWorkItemForm)t=document.createElement("div"),document.body.appendChild(t),r=function(){t!==null&&(c.unmountComponentAtNode(t),document.body.removeChild(t),t=null)},u={onDismiss:r,onInsertSharedSteps:function(t){i._processSharedSteps(n,t)}},c.render(h.createElement(v.LWPComponent,__assign({wrappedType:"insert-shared-steps-dialog",dependencies:["ms.vss-work-web.work-item-dialogs"]},u)),t);else return et.Dialog.show(d.SelectWorkItemsDialog,{width:800,height:600,attachResize:!0,okText:k.InsertSharedSteps,okCallback:function(t){i._processSharedSteps(n,t)},title:k.InsertSharedSteps.toLocaleUpperCase(),workItemCategories:[g.WorkItemCategories.SharedStep],hideQueryType:!0,persistenceId:d.PersistenceIds.INSERT_SHARED_STEPS_ID,projectId:this._workItem&&this._workItem.project?this._workItem.project.guid:undefined})},t.prototype._processSharedSteps=function(n,t){var i=this,r=0,f=0,u=0,e=this;t.length>0&&this._beginCheckForConflictingParameters(t,function(o){if(o)for(r=0,f=t.length;r<f;r++)u=t[r],o[u]&&(i._workItemCache[u]=o[u]);i.testCase.insertSharedSteps(n,t);i.flush();i.invalidate(!1);setTimeout(function(){e._stepsList.focus()},10)},function(n){alert(bt.getErrorMessage(n))})},t.prototype._beginCheckForConflictingParameters=function(n,t,i){for(var e=this,o=ct.getCollectionService(ni.WorkItemStore),u={},r=0,s=n.length,f=[],r=0;r<s;r++)this._workItemCache[n[r]]||f.push(n[r]);f.length>0?o.beginPageWorkItems(f,this.getPageColumns(),function(n){var i=[],r;e._buildWorkItemCache(n,u);i=e._tryGetConflictingParameters(f,u);i.length===0?t&&t(u):(r=e._getConflictingParameterMessage(i),confirm(r)&&t(u))},i):t&&t(null)},t.prototype._getConflictingParameterMessage=function(n){return k.ConflictingParametersCheckMessagePreText+"\r\n"+n.join("\n")+"\r\n"+k.ConflictingParametersCheckMessagePostText},t.prototype._tryGetConflictingParameters=function(n,t){for(var u=0,i=0,e=0,a=n.length,o=this.testCase.getParameters(),f=[],s=[],h=0,r=[],c,l,u=0;u<a;u++)if(c=n[u],l=t[c],r=this._getSharedStepParams(l),r.length>0){for(i=0,e=r.length;i<e;i++)lt.contains(o,r[i],pt.localeIgnoreCaseComparer)?lt.contains(f,r[i],pt.localeIgnoreCaseComparer)||f.push(r[i]):(h++,s.push(r[i]),o.push(r[i]));h>0&&this.testCase.isUsingSharedParameters()&&this._autoMapSharedStepParameters(s)}return f},t.prototype._autoMapSharedStepParameters=function(n){var i,t,r=n.length;if(this.testCase.isUsingSharedParameters())for(i=this.testCase.getParametersDataInfo(),t=0;t<r;t++)i.autoMapIfParamNotExistsAlready(n[t])},t.prototype._getSharedStepParams=function(n){var t=n[this._parametersLocationInFetchedItem],i;return t?(i=$(at.parseXml(t)),g.ParameterCommonUtils.parseParameters(i)):[]},t.prototype._editExistingStep=function(n){var t,u,s=n.stepId,f=!1,e=!1,r,i=this._stepsList._dataSource[n.rowIndex],h,c,o;(ft.logVerbose("[_editExistingStep]e.uniqueId = "+n.uniqueId+" currentWorkItemId = "+this._currentWorkItemId),n.uniqueId===this._currentWorkItemId)&&(t=$("<DIV>"+n.newData+"<\/DIV>"),u=t.find("p"),yi.isTestStepInLineImageCopyPasteEnabled()?(h=t.find("img"),h.length<=0?u.each(function(){$(this).text().trim().length===0&&$(this).html("<br/>")}):(c=t.html(),t.html(c))):u.each(function(){$(this).text().trim().length===0&&$(this).html("<br/>")}),r=t.html(),n.columnIndex==="action"&&i.action!==r?(e=!0,f=this.testCase.setAction(s,0,r)):n.columnIndex==="expectedResult"&&i.expectedResult!==r&&(e=!0,f=this.testCase.setExpectedResult(s,0,r)),e&&(f?(this.testCase.isUsingSharedParameters()&&this._parametersList._populateTestCaseDataFromDataInfo(),this._refreshParametersGrid(),this.flush()):(i.actionType==g.TestActionTypes.SharedSteps&&(o=void 0,this._workItemCache&&this._workItemCache[i.ref]&&this._workItemCache[i.ref].length>1&&(o=this._workItemCache[i.ref][1]),this._stepsList._dataSource[n.rowIndex].action=pt.format("<DIV><p>{0}<\/p><\/DIV>",o)),this._stepsList.restoreCellData(n.rowIndex,n.columnIndex))))},t.prototype._onEditActions=function(n){if(n.changeType)switch(n.changeType){case t.TestStepCommands.CMD_DELETE:this._removeTestStep(n);break;case t.TestStepCommands.CMD_MOVEUP:this._moveStep(n.rowIndex,-1);break;case t.TestStepCommands.CMD_MOVEDOWN:this._moveStep(n.rowIndex,1);break;case t.TestStepCommands.CMD_ADDSTEP:this._addNewStep(n);break;case t.TestStepCommands.CMD_INSERTSTEP:this._insertStep(n);break;case t.TestStepCommands.CMD_INSERTSHAREDSTEPS:this._insertSharedSteps(n);break;case t.TestStepCommands.CMD_CREATESHAREDSTEP:this._createSharedStep(n);break;case t.TestStepCommands.CMD_EDIT:this._editExistingStep(n);break;case t.TestStepCommands.CMD_ADDATTACHMENT:this._addAttachment(n);break;default:return}},t.prototype._addAttachment=function(){b.addAttachment(this._workItem,{showComments:!0,successCallback:ui(this,this._onFileAttached)})},t.prototype._onFileAttached=function(n,t){var i,u=this._stepsList.getSelectedRowIndex(),r=this._stepsList.getSelectedItem();ei.trackAction("AddAttachment","/Authoring");t&&(i=this._getWorkItemAttachment(t.Id),i&&r&&(i.linkData.Comment=pt.format("[TestStep={0}]:",r.id)+i.linkData.Comment,r.addAttachment(i),this._stepsList.updateRows([u])))},t.prototype._getWorkItemAttachment=function(n){var r=this._workItem.getLinks(),t,i;return(i=lt.findIndex(r,function(i){return(t=i.linkData,t.FilePath&&t.FilePath===n)?!0:!1}),i>=0)?r[i]:null},t.prototype._onOpenSharedTestSteps=function(n,t){$(t.event.target).parents(".test-steps-list").length>0&&this._stepsList._onOpenSharedStep()},t.prototype._fetch=function(n,t){function u(){typeof t=="function"&&t()}var f=this,e,r=[],i;if(this._store||(this._store=ct.getCollectionService(ni.WorkItemStore)),e=this._store,n&&n.length>0){for(i=0;i<n.length;i++)n[i].actionType!==g.TestActionTypes.SharedSteps||this._workItemCache[n[i].ref]||r.push(n[i].ref);r&&r.length>0?e.beginPageWorkItems(r,this.getPageColumns(),function(n){f._buildWorkItemCache(n,f._workItemCache);u()},$.noop):u()}else u()},t.prototype._onSharedStepWorkItemChanged=function(n,t){var u=this;if(t.change===p.WorkItemChangeType.Saved){var f=Object.keys(this._workItemCache),r=void 0;r=lt.indexOf(f,t.workItem.id.toString());r>=0&&(this._workItemCache[t.workItem.id.toString()][this._parametersLocationInFetchedItem]=t.workItem.getField(i.WorkItemFieldNames.Parameters).getValue(),this.readParameters(function(){u._refreshParametersGrid()}))}},t.prototype._buildWorkItemCache=function(n,t){for(var r,f=$.inArray("System.Id",n.columns),i=0,u=n.rows.length;i<u;i++)r=n.rows[i],t[r[f]]=r;t.columns=n.columns},t.prototype._getStepValue=function(n,t){switch(t){case"stepId":return n.id===-1?pt.empty:pt.format("{0}.",n.index);case"action":return n.ref?this._workItemCache&&this._workItemCache[n.ref]?this._workItemCache[n.ref][1]:"":n.action;case"expectedResult":return n.expectedResult?n.expectedResult:"";default:return""}},t.TestStepCommands={CMD_DELETE:"delete-step",CMD_MOVEUP:"move-step-up",CMD_INSERTSTEP:"insert-step",CMD_CREATESHAREDSTEP:"create-shared-step",CMD_INSERTSHAREDSTEPS:"insert-shared-steps",CMD_MOVEDOWN:"move-step-down",CMD_EDIT:"step-edit",CMD_ADDSTEP:"add-new-step",CMD_ADDATTACHMENT:"add-attachment",CMD_INSERTPARAMETER:"insert-parameter",CMD_DELETEITERATION:"delete-iteration",CMD_EDITPARAMDATA:"edit-param-data",CMD_RENAMEPARAMETER:"rename-parameter"},t}(y.WorkItemControl);t.TestStepsControl=fi;bt.initClassPrototype(fi,{_control:null,_stepsField:null,_parametersField:null,_parametersDataField:null,_stepsList:null,_parametersList:null,_workItemCache:null,_steps:[],_parameters:[],_attachments:null,_onWorkItemChanged:null,_menuBar:null,_parametersLocationInFetchedItem:4});ki=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t);this._projectId=t?t.projectId:undefined},t.prototype._enhance=function(n){var t=ut.Enhancement.enhance(e.SearchBox,n,{notEnableHotKey:!0});t.setAdapter(this)},t.prototype.getWatermarkText=function(){return k.SearchSharedParameter},t.prototype.hasDropdown=function(){return!1},t.prototype.getDropdownMenuItems=function(n,t){t([])},t.prototype.performSearch=function(n){this._search(this._getSearchQuery(n))},t.prototype.getAllSharedParameters=function(){this._search(this._getAllSharedParametersSearchQuery())},t.prototype._search=function(n){var i=this,t;nt.WorkItemUtils.beginQuery(n,function(n){t=nt.ParametersHelper.parseSharedParameterPayload(n.payload);i.onSearchCompleted(t)},function(){},this._projectId)},t.prototype._getAllSharedParametersSearchQuery=function(){return pt.format("Select [{0}], [{1}], [{2}], [{3}] FROM WorkItems where [System.TeamProject] = @project AND {4} in GROUP '{5}'",s.CoreFieldRefNames.Id,s.CoreFieldRefNames.Title,s.CoreFieldRefNames.AssignedTo,i.WorkItemFieldNames.Parameters,s.CoreFieldRefNames.WorkItemType,g.WorkItemCategories.ParameterSet)},t.prototype._getSearchQuery=function(n){return pt.format("Select [{0}], [{1}], [{2}], [{3}] FROM WorkItems where [System.TeamProject] = @project AND {4} in GROUP '{5}' AND ([{6}] Contains '{7}' Or [{8}] Contains '{9}')",s.CoreFieldRefNames.Id,s.CoreFieldRefNames.Title,s.CoreFieldRefNames.AssignedTo,i.WorkItemFieldNames.Parameters,s.CoreFieldRefNames.WorkItemType,g.WorkItemCategories.ParameterSet,s.CoreFieldRefNames.Title,n,s.CoreFieldRefNames.Description,n)},t}(gt.WorkItemsSearchAdapter);t.SharedParameterWorkItemsSearchAdapter=ki;var ur=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({resizable:!0,minWidth:400,minHeight:400,width:600,height:500,title:k.InsertSharedParameter},t));this._projectId=t?t.projectId:undefined},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._decorate();this._updateGrid([]);this._searchAdapter.getAllSharedParameters()},t.prototype.onOkClick=function(){var n=this._getSelectedSharedParameter();n&&this._options.okCallback&&this._options.okCallback(n);this.close()},t.prototype.onKeyDown=function(n){n.stopPropagation()},t.prototype._decorate=function(){var n=this,r=this._element,i=$("<div class='shared-parameter-search-results-grid'><\/div>"),t=$("<div class='shared-parameter-search-box'><\/div>");r.append(t).append(i);this._searchAdapter=ut.Enhancement.enhance(ki,t,{projectId:this._projectId});t.find(".search-text").keydown(ui(this,this.onKeyDown));this._searchAdapter.onSearchCompleted=function(t){n._updateGrid(t)};this._sharedParameterGridOptions={allowMultiSelect:!1,width:"100%",height:"100%",columns:[{index:"id",text:k.TestPointGridColumnID,width:40},{index:"title",text:k.TestPointGridColumnTitle,width:200},{index:"assignedTo",text:k.AssignedTo,width:100},{index:"sharedParameterDataSet",text:k.Parameters,width:300,getColumnValue:function(t,i){var r=n._sharedParameterGrid._dataSource[t][i].getParameters();return r=$.map(r,function(n){if(n!=="")return"@"+n}),r.join()}}]};this._sharedParameterGrid=ut.BaseControl.createIn(fr,i,this._sharedParameterGridOptions);this._sharedParameterGrid.onRowDoubleClickHandler=function(){n.onOkClick()};this._sharedParameterGrid.onEnterKeyHandler=function(){n.onOkClick()}},t.prototype._updateGrid=function(n){this._sharedParameterGrid.setDataSource(n,null,this._sharedParameterGridOptions.columns,null);n.length>0?(this._sharedParameterGrid._selectRow(0),this.updateOkButton(!0)):this.updateOkButton(!1)},t.prototype._getSelectedSharedParameter=function(){var n=this._sharedParameterGrid._selectedRows[this._sharedParameterGrid._selectedIndex];return this._sharedParameterGrid._dataSource[n]},t}(et.ModalDialog),fr=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.onRowDoubleClick=function(){this.onRowDoubleClickHandler&&this.onRowDoubleClickHandler()},t.prototype.onEnterKey=function(){this.onEnterKeyHandler&&this.onEnterKeyHandler()},t.prototype.setDataSource=function(t,i,r,u,f,e){this._customizeColumns(r);n.prototype.setDataSource.call(this,t,i,r,u,f,e)},t.prototype._customizeColumns=function(n){$.each(n,function(n,t){pt.ignoreCaseComparer(t.index,"id")===0&&(t.comparer=function(n,t,i,r){return i[n.index]-r[n.index]})})},t}(st.Grid),er=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"create-shared-param-dialog",title:k.CreateSharedParameter.toLocaleUpperCase(),waterMarkText:k.SharedParameterNameWatermark},t))},t}(oi);bt.tfsModuleLoaded("TFS.TestManagement.Controls",t)});

define("TestManagement/Scripts/Shared/AddToExistingTestCasesProxy",["require","exports","react","VSS/LWP","TestManagement/Scripts/TFS.TestManagement.SelectWorkItemView","TestManagement/Scripts/Resources/TFS.Resources.TestManagement","TestManagement/Scripts/TFS.TestManagement","VSS/Controls/Dialogs","VSS/LoaderPlugins/Css!WorkItemArea"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",null)},t.prototype.componentDidMount=function(){var n=this;o.show(u.SelectWorkItemsDialog,{width:$(window).width()*.8,height:$(window).height()*.8,attachResize:!0,okText:f.AddTestCases,okCallback:function(t){n.props.okCallback(t)},title:f.AddTestCasesToSuite.toLocaleUpperCase(),workItemCategories:[e.WorkItemCategories.TestCase],hideQueryType:!1,persistenceId:u.PersistenceIds.ADD_TEST_CASES_ID,supportWorkItemOpen:!0,areaPath:this.props.areaPath})},t}(i.Component);r.registerLWPComponent("add-to-existing-dialog-proxy",s)});

define("TestManagement/Scripts/TFS.TestManagement.AssignConfigurationsToSuite",["require","exports","VSS/Controls","VSS/Diag","VSS/Controls/Dialogs","VSS/Controls/Grids","VSS/Controls/Notifications","TestManagement/Scripts/Resources/TFS.Resources.TestManagement","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.Host.UI","TestManagement/Scripts/TFS.TestManagement","TestManagement/Scripts/TFS.TestManagement.Utils","TestManagement/Scripts/TFS.TestManagement.Telemetry","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Utils/Accessibility","jQueryUI/button","jQueryUI/dialog"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){var g,tt,it,rt,ut,ft;Object.defineProperty(t,"__esModule",{value:!0});t.TestCaseIdAndName=t.TestCaseSelectionGrid=t.TestCaseSelector=t.TestConfigurationSearchGrid=t.ConfigurationSearchAdapter=t.AssignConfigurationsToSuiteDialog=t.AssignConfigurationsToSuite=void 0;var et=s.TfsContext,nt=v.delegate,d=p.domElem,st=a.TelemetryService,ot=function(){function n(n,t){if(r.logTracePoint("[AssignConfigurationsToSuite.contructor]: method called"),this._planId=n,this._suite=t,t===null){r.logWarning("[AssignConfigurationsToSuite.constructor]: suite object is NULL");return}r.logVerbose(y.format("[AssignConfigurationsToSuite.constructor]: Assigning Configurations to suiteId:{0} suiteTitle:{1} planId:{2}",t.id,t.title,n))}return n.prototype.AssignConfigurations=function(n,t){r.logTracePoint("[AssignConfigurationsToSuite.AssignConfigurations]: method called");this._dialogClosedCallBack=n;this._showErrorCallBack=t;this._testCaseAndSuiteList=undefined;this._assignToSuite=!0;this._launchDialog()},n.prototype.AssignConfigurationsToTestCases=function(n,t,i,u){r.logTracePoint("[AssignConfigurationsToTestCases.AssignConfigurationsToTestCases]: method called");this._dialogClosedCallBack=i;this._showErrorCallBack=u;this._testCaseAndSuiteList=n;this._assignToSuite=!1;this._showChildSuites=t;this._launchDialog()},n.prototype._launchDialog=function(){r.logTracePoint("[AssignConfigurationsToSuite.LaunchDialogue]: method called");u.show(g,$.extend({dialogueClosed:this._dialogClosedCallBack,suite:this._suite,testCaseAndSuiteList:this._testCaseAndSuiteList,assignToSuite:this._assignToSuite,showChildSuites:this._showChildSuites,width:g.DIALOG_WIDTH,height:g.DIALOG_HEIGHT,minWidth:g.DIALOG_WIDTH,minHeight:g.DIALOG_HEIGHT,maxWidth:1.5*g.DIALOG_WIDTH,maxHeight:2*g.DIALOG_HEIGHT,tableLabel:o.AssignConfigurationsToSuite,contentHeader:o.AssignConfigurationDialogTitle,resizable:!0,attachResize:!0,cssClass:"assign-configurations-to-suite-dialogue"}))},n.prototype._handleError=function(n){r.logTracePoint("[AssignConfigurationsToSuite._handleError]: method called");this._showErrorCallBack&&typeof this._showErrorCallBack=="function"&&this._showErrorCallBack(n.message)},n}();t.AssignConfigurationsToSuite=ot;g=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._changesSaved=!1,i}return __extends(t,n),t.prototype.initializeOptions=function(i){n.prototype.initializeOptions.call(this,$.extend({buttons:{ok:{id:t.CSS_OK_BUTTON,text:y.htmlEncode(o.SaveText),click:nt(this,this._onSaveClick)},cancel:{id:t.CSS_CANCEL_BUTTON,text:y.htmlEncode(o.CancelText),click:nt(this,this._onCancelClick)}}},i));this._suite=i.suite;this._testCaseAndSuiteList=i.testCaseAndSuiteList;this._assignToSuite=i.assignToSuite;this._showChildSuites=i.showChildSuites;this._assignToSuite||this._getTestCaseDetails(this._testCaseAndSuiteList)},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._isInitialized=!1;this._constructDialog();this._setSaveButtonState(!1);this._addDialogOptions();this._setConfigurationGridHeight()},t.prototype.onClose=function(t){r.logTracePoint("[SelectTestersDialog.onClose]: method called");n.prototype.onClose.call(this,t);typeof this._options.dialogueClosed=="function"&&this._options.dialogueClosed(this._assignedConfigurations,this._changesSaved)},t.prototype._constructDialog=function(){var n=this,r,u;this._assignToSuite&&this._suite.parentSuiteId===0?this.setTitle(y.format(o.AssignConfigurationToPlanDialogTitle,this._suite.title)):this._assignToSuite&&this._suite.parentSuiteId!==0?this.setTitle(y.format(o.AssignConfigurationDialogTitle,this._suite.title)):this.setTitle(o.AssignConfigurationToTestCasesDialogTitle);this._element.css("height",t.DIALOG_HEIGHT-100);this._element.parent().css("top","75px");this._$wrapper=$(d("div")).append(this._$data).addClass(t.CSS_ASSIGN_CONFIGURATION_DIALOG).css("height","100%");this._element.html(this._$wrapper);this._messagePane=i.BaseControl.createIn(e.MessageAreaControl,this._$wrapper);this._messagePane._bind(e.MessageAreaControl.EVENT_DISPLAY_CLEARED,function(){n._setSaveButtonState(!0);n._setConfigurationGridHeight()});r=this;this._assignToSuite||(this._testCaseSelector=i.Control.createIn(rt,this._$wrapper,{testCases:this._selectedTestCases,showSuiteDetailsInTestGrid:this._showChildSuites,dropdownChanged:function(){return n._setConfigurationGridHeight()},cssClass:"test-case-selector-table"}));u=$("<div class='assign-configuration-search-box'><\/div>");this._$wrapper.append(u);this._assignedConfigurations=[];this._configurationGrid=i.BaseControl.createIn(it,this._$wrapper,{checkboxChangeHandler:function(t,i){var r=n._assignedConfigurations.indexOf(t.id);i&&r===-1?n._assignedConfigurations.push(t.id):!i&&r>-1&&n._assignedConfigurations.splice(r,1);n._assignedConfigurations.length===0?n._setSaveButtonState(!1):n._setSaveButtonState(!0)},headerCheckboxChangeHandler:function(t,i){for(var u,r=0,f=t.length;r<f;r++)u=n._assignedConfigurations.indexOf(t[r].id),i&&u===-1?n._assignedConfigurations.push(t[r].id):u>-1&&!i&&n._assignedConfigurations.splice(u,1);n._assignedConfigurations.length===0?n._setSaveButtonState(!1):n._setSaveButtonState(!0)}});this._configSearchAdapter=i.Enhancement.enhance(tt,u);this._configSearchAdapter.initializeSuiteDetails(this._suite,this._testCaseAndSuiteList,this._assignToSuite);this._configSearchAdapter.onSearchCompleted=function(t){n._getAssignmentInformation(t);var i=n._configurationGrid._sortOrder;n._configurationGrid.setData(t);n._configurationGrid._sortOrder=i;n._configurationGrid._sortBy();t.length===0?k.announce(o.NoConfigurationsFound):k.announce(y.format(o.ConfigurationsReturned,t.length))};this._configSearchAdapter.getAllConfigurations();r=this;document.getElementsByClassName("assign-configuration-search-box")[0].getElementsByTagName("input")[0].onkeyup=function(){var n=this.value;r._setConfigurationGridData(r._configSearchAdapter,n)};u.find("input").focus()},t.prototype.onDialogResize=function(t){n.prototype.onDialogResize.call(this,t);this._setConfigurationGridHeight()},t.prototype._setConfigurationGridHeight=function(){var n=this._configurationGrid.getElement(),r=$(".assign-config-dialog").height(),t=0,i;n.siblings(":visible").each(function(){var n=$(this);t+=n.outerHeight(!0)});n.height(r-t-3);i=document.getElementsByClassName("assign-configuration-search-box")[0].getElementsByTagName("input")[0].value;this._setConfigurationGridData(this._configSearchAdapter,i)},t.prototype._setConfigurationGridData=function(n,t){var i=t;i.trim()===""?n.getAllConfigurations():n.performSearch(i)},t.prototype._getAssignmentInformation=function(n){var t,i;if(this._isInitialized)for(t=0;t<n.length;t++)i=this._assignedConfigurations.indexOf(n[t].id),n[t].isAssigned=i>-1?!0:!1;else{for(t=0;t<n.length;t++)n[t].isAssigned&&this._assignedConfigurations.push(n[t].id);this._configSearchAdapter.setData(n);n.length===0&&this._handleError(o.NoConfigurationFoundErrorText);this._isInitialized=!0}},t.prototype._addDialogOptions=function(){var n=this;this._element.dialog("option","beforeClose",function(){return!n._requestContext||n._requestContext.isComplete})},t.prototype._onCloseClick=function(){this.close();r.logTracePoint("AssignConfigurationsToSuiteDialog.CloseDialog")},t.prototype._onCancelClick=function(){r.logTracePoint("AssignConfigurationsToSuiteDialog.CancelDialog");this.close()},t.prototype._onSaveClick=function(){var n=this,t,i,f,u;r.logTracePoint("AssignConfigurationsToSuiteDialog.SaveChanges.Click.Start");t=function(){n._changesSaved=!0;n.close()};i=function(t){r.logError("[AssignConfigurationsToSuiteDialog._onSaveClick]: error Adding Configurations to suite at server");n._handleError(w.getErrorMessage(t))};this._assignedConfigurations.length===0?this._handleError(o.NoConfigurationSelectedErrorText):this._assignToSuite?l.getTestPlanManager().assignConfigurationsToSuite(this._suite.id,this._assignedConfigurations,t,i):(f=this._testCaseSelector.testCasesListView.getSelectedTestCaseAndSuiteList(),u=c.TestCaseAndSuiteId.getTestCases(f),u.length===0?this._handleError(o.NoTestCaseSelectedErrorText):l.getTestPlanManager().assignConfigurationsToTestCases(u,this._assignedConfigurations,t,i))},t.prototype._setSaveButtonState=function(n){n?this._element.siblings(".ui-dialog-buttonpane").find("#"+t.CSS_OK_BUTTON).button("enable"):this._element.siblings(".ui-dialog-buttonpane").find("#"+t.CSS_OK_BUTTON).button("disable")},t.prototype._handleError=function(n){this._messagePane.setError({header:n});this._setSaveButtonState(!1);this._setConfigurationGridHeight()},t.prototype._getTestCaseDetails=function(n){var t=this,f=[b.CoreFieldRefNames.Id,b.CoreFieldRefNames.Title],r,i,u;for(this._selectedTestCases=[],r=[],i=0,u=n.length;i<u;i++)r.push(n[i].id);l.TestCaseUtils.beginGetTestCases(r,f,function(i){for(var f={},r=0,u=i.length;r<u;r++)f[i[r].getId()]=i[r].getTitle();for(r=0,u=n.length;r<u;r++)t._selectedTestCases.push({id:n[r].id,name:f[n[r].id],suiteId:n[r].suiteId,suiteName:n[r].suiteName,isSelected:!0});t._testCaseSelector.setData(t._selectedTestCases)},function(n){return t._handleError(w.getErrorMessage(n))})},t.DIALOG_WIDTH=700,t.DIALOG_HEIGHT=450,t.CSS_OK_BUTTON="dialog-main-ok-button",t.CSS_CANCEL_BUTTON="dialog-main-cancel-button",t.CSS_CLOSE_BUTTON="dialog-main-close-button",t.CSS_ASSIGN_CONFIGURATION_DIALOG="assign-config-dialog",t.CSS_SEARCH_CONTAINER="dialog-search-container",t.CSS_MAIN_TABLE="main-table",t}(u.ModalDialogO);t.AssignConfigurationsToSuiteDialog=g;tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype._enhance=function(n){var t=i.Enhancement.enhance(h.SearchBox,n,{notEnableHotKey:!0});t.setAdapter(this);this._dataInitialized=!1},t.prototype.getWatermarkText=function(){return o.SearchConfigurationsText},t.prototype.hasDropdown=function(){return!1},t.prototype.getDropdownMenuItems=function(n,t){t([])},t.prototype.performSearch=function(n){this._search(n)},t.prototype.getAllConfigurations=function(){this._search("")},t.prototype.initializeSuiteDetails=function(n,t,i){this._suite=n;this._testCaseAndSuiteList=t;this._assignToSuite=i},t.prototype.setData=function(n){this._dataInitialized||(this._configurations=n,this._dataInitialized=!0)},t.prototype._search=function(n){var t=this,r,i;if(this._dataInitialized){this._searchInCachedData(n);this.onSearchCompleted(this._matchedConfigurations)}else r=function(){if(t._assignToSuite)l.getTestPlanManager().getAvailableConfigurationsForSuite(t._suite.id,function(n){return i(n)},t._errorCallBack);else{var n=c.TestCaseAndSuiteId.getTestCases(t._testCaseAndSuiteList);l.getTestPlanManager().getAvailableConfigurationsForTestCases(n,function(n){return i(n)},t._errorCallBack)}},i=function(n){t._configurations=n.filter(function(n){return n.isActive||n.isAssigned});t.onSearchCompleted(t._configurations)},r()},t.prototype._searchInCachedData=function(n){var i,t,r;for(this._matchedConfigurations=[],i=n.toLowerCase(),t=0,r=this._configurations.length;t<r;t++)(this._configurations[t].name.toLowerCase().indexOf(i)>-1||this._configurations[t].values.toLowerCase().indexOf(n.toLowerCase())>-1)&&this._matchedConfigurations.push({id:this._configurations[t].id,name:this._configurations[t].name,values:this._configurations[t].values,isActive:this._configurations[t].isActive,isAssigned:this._configurations[t].isAssigned});return this._matchedConfigurations},t}(h.SearchAdapter);t.ConfigurationSearchAdapter=tt;it=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._isHeaderCheckboxChecked=!1,t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({sharedMeasurements:!1,allowMoveColumns:!1,allowMultiSelect:!1,keepSelection:!1,lastCellFillsRemainingContent:!0,toggle:!1,cssClass:"test-configuration-search-grid",columns:this._getColumns(),sortOrder:[{index:"isAssigned",order:"desc"},{index:"name",order:"asc"}]},t));this.onCheckboxChangeHandler=t.checkboxChangeHandler;this.onHeaderCheckboxChangeHandler=t.headerCheckboxChangeHandler},t.prototype.setData=function(n){var t=this._options;this._rowCheckboxes=[];this._configurations=n;t.source=n;t.columns=this._columns;this.initializeDataSource();this._getHeaderCheckboxInitialState()},t.prototype.getConfigurations=function(){return this._configurations},t.prototype._getColumns=function(){return[{index:"isAssigned",text:"",width:35,getCellContents:v.delegate(this,this._getIsAssignedCheckbox),canSortBy:!1,getHeaderCellContents:function(n){var t=$("<div />");return t.addClass("grid-header-cell"),this._headerCheckbox=document.createElement("input"),this._headerCheckbox.type="checkbox",this._headerCheckbox.id="chk_isAssignedAll",this._headerCheckbox.checked=this._isHeaderCheckboxChecked,$(this._headerCheckbox).attr("aria-label",o.SelectAll),t.append(this._headerCheckbox).outerWidth(n.width),this._registerHeaderEvent(this._headerCheckbox),t}},{index:"name",text:o.ConfigurationGridNameColumn,width:215,canSortBy:!0},{index:"values",text:o.ConfigurationGridValuesColumn,width:404,canSortBy:!0}]},t.prototype._getIsAssignedCheckbox=function(n,t,i,r,u){var f=$("<div />");return f.addClass("grid-cell"),f.attr("role","gridcell"),this._rowCheckboxes[t]=document.createElement("input"),this._rowCheckboxes[t].type="checkbox",this._rowCheckboxes[t].checked=this._configurations[t].isAssigned,this._rowCheckboxes[t].id="chk_"+this._configurations[t].id,$(this._rowCheckboxes[t]).attr("aria-label",o.SelectConfiguration),f.append(this._rowCheckboxes[t]).outerWidth(u.width),this._registerEvent(this._rowCheckboxes[t],this._configurations[t]),f},t.prototype._registerEvent=function(n,t){var i=this;n.onchange=function(){t.isAssigned=n.checked;i.onCheckboxChangeHandler(t,n.checked);i._updateHeaderCheckbox(i,n.checked)}},t.prototype._registerHeaderEvent=function(n){var t=this;n.onchange=function(){if(t.onHeaderCheckboxChangeHandler){t._isHeaderCheckboxChecked=n.checked;t.onHeaderCheckboxChangeHandler(t._configurations,n.checked);t._updateAllGridCheckboxes(t,n.checked)}}},t.prototype._updateAllGridCheckboxes=function(n,t){for(var u,i=0,r=n._rowCheckboxes.length;i<r;i++)n._rowCheckboxes[i].checked=t;for(i=0,u=n._configurations.length;i<u;i++)n._configurations[i].isAssigned=t},t.prototype._updateHeaderCheckbox=function(n,t){var r,i,u;if(t){for(r=!0,i=0,u=n._rowCheckboxes.length;i<u;i++)if(!n._rowCheckboxes[i].checked){r=!1;break}r&&(n._headerCheckbox.checked=!0)}else n._headerCheckbox.checked=!1},t.prototype._getHeaderCheckboxInitialState=function(){var t,n,i;if(this._configurations){for(t=!0,n=0,i=this._configurations.length;n<i;n++)if(!this._configurations[n].isAssigned){t=!1;break}this._isHeaderCheckboxChecked=t}},t}(f.GridO);t.TestConfigurationSearchGrid=it;rt=function(n){function t(t){var i=n.call(this,t)||this;return i._selectionNameId="select-name-id",i._dropdownChanged=t.dropdownChanged,i._showSuiteDetailsInTestGrid=t.showSuiteDetailsInTestGrid,i}return __extends(t,n),t.prototype.initialize=function(){var r,i,u;n.prototype.initialize.call(this);var t=$(d("table")),f=$(d("tr")).addClass("test-case-selector").appendTo(t),e=$(d("label")).attr("for",this._selectionNameId).text(o.TestCasesLabel);this.label=$(d("td")).append(e).addClass("label");f.append(this.label);r=$(d("tr")).addClass("test-case-selector").appendTo(t);i=$(d("td")).appendTo(r).addClass("selector");this._selectionName=$(d("div")).attr("tabIndex","0").addClass("selection-name").attr("role","combobox").attr("id",this._selectionNameId).attr("aria-expanded","false").appendTo(i);this._dropButton=$(d("div","drop")).attr("tabIndex","0").attr("aria-label",o.Expand).attr("aria-pressed","false").attr("role","button").addClass("drop-icon bowtie-icon bowtie-chevron-down-light").appendTo(i);this._bind(this._selectionName,"click",nt(this,this._onDropClick));this._bind(this._dropButton,"click",nt(this,this._onDropClick));this._bind(this._selectionName,"keydown",nt(this,this._onDropEnterOrDownArrow));this._bind(this._dropButton,"keydown",nt(this,this._onDropEnter));this._dropButton.on("mousedown",function(n){n.preventDefault()});u=$(d("tr")).addClass("test-case-selector").appendTo(t);this._dropDownControl=$(d("td")).addClass("test-case-selection-grid-parent").appendTo(u);t.appendTo(this._element)},t.prototype.setData=function(n){n&&(this.testCasesListView=i.Control.createIn(ut,this._dropDownControl,{showSuiteDetailsInTestGrid:this._showSuiteDetailsInTestGrid}),this.testCasesListView.setData(n),this._selectionName.text(this.testCasesListView.getTestCaseSelectionName()),this._hideDropDown())},t.prototype._onDropEnterOrDownArrow=function(n){n.keyCode===p.KeyCode.ENTER?this._onDropClick(n):n.keyCode!==p.KeyCode.DOWN||this._dropdownVisible||this._onDropClick(n)},t.prototype._onDropEnter=function(n){n.keyCode===p.KeyCode.ENTER&&this._onDropClick(n)},t.prototype._onDropClick=function(){this._dropdownVisible?(this._hideDropDown(),this._selectionName.text(this.testCasesListView.getTestCaseSelectionName())):this._showDropDown();this._dropdownChanged&&this._dropdownChanged()},t.prototype._hideDropDown=function(){this._dropdownVisible=!1;this.testCasesListView.hideElement();this.setAriaAttributes("false")},t.prototype._showDropDown=function(){this._dropdownVisible=!0;this.testCasesListView.showElement();this.testCasesListView.focus();this.setAriaAttributes("true")},t.prototype.setAriaAttributes=function(n){this._dropButton.attr("aria-pressed",n);this._selectionName.attr("aria-expanded",n)},t}(i.Control);t.TestCaseSelector=rt;ut=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._isHeaderCheckboxChecked=!0,t}return __extends(t,n),t.prototype.initializeOptions=function(t){this._showSuiteDetailsInTestGrid=t.showSuiteDetailsInTestGrid;n.prototype.initializeOptions.call(this,$.extend({sharedMeasurements:!1,allowMoveColumns:!1,allowMultiSelect:!1,keepSelection:!1,lastCellFillsRemainingContent:!0,toggle:!1,cssClass:"test-case-selection-grid",columns:this._getColumns(),sortOrder:[{index:"id",order:"asc"}]},t))},t.prototype.setData=function(n){var t=this._options;this._rowCheckboxes=[];this._testCases=n;t.source=n;t.columns=this._columns;this.initializeDataSource();this._getHeaderCheckboxInitialState()},t.prototype.onContainerResize=function(t){n.prototype._onContainerResize.call(this,t)},t.prototype._onColumnResize=function(t){n.prototype._onColumnResize.call(this,t)},t.prototype._getColumns=function(){return this._showSuiteDetailsInTestGrid?[{index:"isSelected",text:"",width:35,getCellContents:v.delegate(this,this._getIsSelectedCheckbox),canSortBy:!1,getHeaderCellContents:v.delegate(this,this._getHeaderCheckbox)},{index:"id",text:o.WorkItemId,width:50,canSortBy:!0},{index:"name",text:o.WorkItemTitle,width:400,canSortBy:!0},{index:"suiteName",text:o.TestSuiteName,width:180,canSortBy:!0}]:[{index:"isSelected",text:"",width:35,getCellContents:v.delegate(this,this._getIsSelectedCheckbox),canSortBy:!1,getHeaderCellContents:v.delegate(this,this._getHeaderCheckbox)},{index:"id",text:o.WorkItemId,width:50,canSortBy:!0},{index:"name",text:o.WorkItemTitle,width:580,canSortBy:!0}]},t.prototype._getIsSelectedCheckbox=function(n,t,i,r,u){var f=$("<div />");return f.addClass("grid-cell"),f.attr("role","gridcell"),this._rowCheckboxes[t]=document.createElement("input"),this._rowCheckboxes[t].type="checkbox",this._rowCheckboxes[t].checked=this._testCases[t].isSelected,this._rowCheckboxes[t].id="chk_"+this._testCases[t].id,$(this._rowCheckboxes[t]).attr("aria-label",o.SelectTestCase),f.append(this._rowCheckboxes[t]).outerWidth(u.width),this._registerEvent(this._rowCheckboxes[t],t),f},t.prototype._getHeaderCheckbox=function(n){var t=$("<div />");return t.addClass("grid-header-cell"),this._headerCheckbox=document.createElement("input"),this._headerCheckbox.type="checkbox",this._headerCheckbox.id="chk_isSelectedAll",this._headerCheckbox.checked=this._isHeaderCheckboxChecked,$(this._headerCheckbox).attr("aria-label",o.SelectAll),t.append(this._headerCheckbox).outerWidth(n.width),this._registerHeaderEvent(this._headerCheckbox),t},t.prototype._registerEvent=function(n,t){var i=this;n.onchange=function(){i._testCases[t].isSelected=n.checked;i._updateHeaderCheckbox(i,n.checked)}},t.prototype._registerHeaderEvent=function(n){var t=this;n.onchange=function(){t._isHeaderCheckboxChecked=n.checked;t._updateAllGridCheckboxes(t,n.checked)}},t.prototype._updateAllGridCheckboxes=function(n,t){for(var u,i=0,r=n._rowCheckboxes.length;i<r;i++)n._rowCheckboxes[i].checked=t;for(i=0,u=n._testCases.length;i<u;i++)n._testCases[i].isSelected=t},t.prototype.hideElement=function(){this._element.hide();this._element.height(t.MIN_HEIGHT);this._element.parent().hide()},t.prototype.showElement=function(){var n=32+this._testCases.length*26;n>t.MAX_HEIGHT&&(n=t.MAX_HEIGHT);this._element.height(n);this._element.show();this._element.parent().show();this.setData(this._testCases)},t.prototype.getSelectedTestCases=function(){for(var t=[],n=0,i=this._testCases.length;n<i;n++)this._testCases[n].isSelected&&t.push(this._testCases[n].id);return t},t.prototype.getSelectedTestCaseAndSuiteList=function(){for(var t=[],n=0,i=this._testCases.length;n<i;n++)this._testCases[n].isSelected&&t.push({id:this._testCases[n].id,suiteId:this._testCases[n].suiteId,suiteName:this._testCases[n].suiteName});return t},t.prototype.getTestCaseSelectionName=function(){var t,i=this.getSelectedTestCases(),n,r;if(i.length===0)t=o.NoTestCaseSelectedText;else if(i.length===1)for(n=0,r=this._testCases.length;n<r;n++)this._testCases[n].isSelected&&(t=this._testCases[n].name);else t=o.MultipleTestCaseSelectedText;return t},t.prototype._updateHeaderCheckbox=function(n,t){var r,i,u;if(t){for(r=!0,i=0,u=n.getLastRowDataIndex();i<u;i++)if(!n._rowCheckboxes[i].checked){r=!1;break}r&&(n._headerCheckbox.checked=!0)}else n._headerCheckbox.checked=!1},t.prototype._getHeaderCheckboxInitialState=function(){var t,n,i;if(this._testCases){for(t=!0,n=0,i=this._testCases.length;n<i;n++)if(!this._testCases[n].isSelected){t=!1;break}this._isHeaderCheckboxChecked=t}},t.MIN_HEIGHT=0,t.MAX_HEIGHT=136,t}(f.GridO);t.TestCaseSelectionGrid=ut;ft=function(){function n(){}return n}();t.TestCaseIdAndName=ft;w.initClassPrototype(g,{_$data:null,_$wrapper:null,_$contentDescriptionElement:null,_$dataDiv:null,_cancelButton:null,_closeButton:null,_requestContext:null});w.classExtend(g,et.ControlExtensions)});

define("TestManagement/Scripts/Shared/AssignConfigDialogProxy",["require","exports","react","VSS/LWP","TestManagement/Scripts/TFS.TestManagement.AssignConfigurationsToSuite","VSS/LoaderPlugins/Css!TestManagement"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",null)},t.prototype.componentDidMount=function(){var i=this,r=new u.AssignConfigurationsToSuite(this.props.planId,this.props.suite),t,n;if(this.props.dialogType==="AssignConfigToSuite")r.AssignConfigurations(function(n,t){t&&i.props.onSuccess()},null);else if(this.props.dialogType==="AssignConfigToTestCases"){for(t=[],n=0;n<this.props.testCaseIds.length;n++)t.push({id:this.props.testCaseIds[n],suiteId:this.props.suite.id});r.AssignConfigurationsToTestCases(t,null,function(n,t){t&&i.props.onSuccess()},null)}},t}(i.Component);r.registerLWPComponent("assign-config-dialog-proxy",f)});

define("Presentation/Scripts/TFS/TFS.IdentityImage",["require","exports","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Identities","VSS/Utils/UI"],function(n,t,i,r,u){function o(n,t,r,u,e,o){n||(n=i.TfsContext.getDefault());var s=f(u,e,o);return s.attr("src",n.getIdentityImageUrl(t,r)),t&&s.addClass("identity-"+t),s}function s(n,t,i,u,e){var o=f(t,i,u),s=e?r.IdentityImageMode.ShowGenericImage:r.IdentityImageMode.None;return o.attr("src",r.IdentityHelper.getIdentityImageUrl(n,s)),o}function h(n,t,i,r){var u=f(t,i,r);return u.attr("src",n),u}function f(n,t,i){var r;return r=$(e("img","identity-picture")),t&&r.attr("title",t),n&&r.addClass(n),i?r.attr("alt",i):r.attr("alt",""),r}Object.defineProperty(t,"__esModule",{value:!0});t.identityImageElementFromAvatarUrl=t.identityImageElementByIdentifier=t.identityImageElement=void 0;var e=u.domElem;t.identityImageElement=o;t.identityImageElementByIdentifier=s;t.identityImageElementFromAvatarUrl=h});

define("Presentation/Scripts/TFS/TFS.OM.Identities.Mru",["require","exports","VSS/VSS","Presentation/Scripts/TFS/TFS.Legacy.Ajax","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Events/Handlers","VSS/Service","Presentation/Scripts/TFS/TFS.Core.WebApi","VSS/Telemetry/Services","Presentation/Scripts/TFS/TFS.OM.Identities"],function(n,t,i,r,u,f,e,o,s,h){var a,v,c,l,y;Object.defineProperty(t,"__esModule",{value:!0});t.BaseIdentityProvider=t.IdentityMru=t.IdentityMruService=t.IdentityMruStore=void 0;a=u.TfsContext;v=function(){function n(){}return n.getGlobalMruName=function(){return u.TfsContext.getDefault().navigation.serviceHost.instanceId},n.beginGetIdentityMru=function(t,i,r,u,f){var o,a,v;if(i===void 0&&(i=!0),o=n.identityMruMap[t],o&&i)typeof r=="function"&&r(o);else{if(o){if(o.isRefreshing()){typeof r=="function"&&r(o);return}o.setRefreshing(!0)}a=e.getCollectionService(c,f);v=new Date;a.beginGetMru(t,function(i){var f=new Date,u;h.IdentityHelper.preProcessIdentities(i,!0);o?(o.refresh(i,!0),o.setRefreshing(!1)):(o=new l(t,i),n.identityMruMap[t]=o);u={elapsedTime:f.getTime()-v.getTime()};s.publishEvent(new s.TelemetryEventData("IdentityMru","IdentityMruLoadTime",u));typeof r=="function"&&r(o)},u)}},n.getIdentityMru=function(t,i){return t||(t=n.getGlobalMruName()),n.identityMruMap[t]||(n.identityMruMap[t]=new l(t,[]),n.beginGetIdentityMru(t,!1,undefined,undefined,i)),n.identityMruMap[t]},n.identityMruMap={},n}();t.IdentityMruStore=v;c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._httpClient=t.getHttpClient(o.IdentityMruHttpClient)},t.prototype.beginGetMru=function(n,t,r){this._httpClient.beginGetMru(n).then(function(n){typeof t=="function"&&t(n)},r||i.handleError)},t.prototype.beginPostMruIdentity=function(n,t,r,u){this._httpClient.beginPostMruIdentity(n,t).then(function(){typeof r=="function"&&r()},u||i.handleError)},t.prototype.beginDeleteMruIdentity=function(n,t,r,u){this._httpClient.beginDeleteMruIdentity(n,t).then(function(){typeof r=="function"&&r()},u||i.handleError)},t}(e.VssService);t.IdentityMruService=c;l=function(){function n(n,t){this._mruName=n;this._refreshing=!1;this._events=new f.NamedEventCollection;this.refresh(t)}return n.prototype.refresh=function(n,t){var i=this;this._mruItems=n;this._idToMruItemMap={};$.each(this._mruItems,function(n,t){i._idToMruItemMap[t.id]=t});t&&this.fireMruRefreshed()},n.prototype.addItems=function(n){var u=this,t=[],i=[],f,r;$.each(n,function(n,r){r.id&&(t.push(r.id),i.push(r),u._idToMruItemMap[r.id]=r)});this._mruItems=h.IdentityHelper.union(this._mruItems,i);t.length>0&&(f=a.getDefault(),r=e.getCollectionService(c),r.beginPostMruIdentity(this._mruName,t))},n.prototype.removeItems=function(n){var i=this,t=[],r=[],f,u;$.each(n,function(n,u){u.id&&i.isItemInMru(u)&&(t.push(u.id),r.push(u),delete i._idToMruItemMap[u.id])});this._mruItems=h.IdentityHelper.subtract(this._mruItems,r);t.length>0&&(f=a.getDefault(),u=e.getCollectionService(c),u.beginDeleteMruIdentity(this._mruName,t))},n.prototype.setRefreshing=function(n){this._refreshing=n},n.prototype.isRefreshing=function(){return this._refreshing},n.prototype.isItemInMru=function(n){return n&&n.id&&this._idToMruItemMap[n.id]?!0:!1},n.prototype.getMruItems=function(){return this._mruItems},n.prototype.attachMruRefreshed=function(t){this._events.subscribe(n.MRU_REFRESHED_EVENT,t)},n.prototype.detachMruRefreshed=function(t){this._events.unsubscribe(n.MRU_REFRESHED_EVENT,t)},n.prototype.fireMruRefreshed=function(){this._events.invokeHandlers(n.MRU_REFRESHED_EVENT,this.getMruItems())},n.MRU_REFRESHED_EVENT="mru-refreshed",n}();t.IdentityMru=l;y=function(){function n(){}return n.prototype.beginAadIdentitySearch=function(n,t,i,f,e){var e=e||u.TfsContext.getDefault(),o=e.getActionUrl("searchAadIdentities","identity",{project:"",team:"",area:"api"});r.getMSJSON(o,{searchTerm:n,identityType:t},i,f)},n.prototype.beginTfsIdentitySearch=function(n,t,i,f,e){var e=e||u.TfsContext.getDefault(),o=e.getActionUrl("searchIdentities","wit",{project:"",team:"",area:"api"});r.getMSJSON(o,{searchTerm:n,identityType:t},i,f)},n}();t.BaseIdentityProvider=y});

define("Presentation/Scripts/TFS/TFS.UI.Controls.Identities",["require","exports","VSS/Utils/Core","VSS/Utils/String","VSS/Diag","VSS/Resources/VSS.Resources.Platform","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Controls","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Utils/UI","VSS/Controls/Notifications","VSS/Controls/StatusIndicator","VSS/Events/Services","Presentation/Scripts/TFS/TFS.OM.Identities","VSS/Utils/Html","VSS/Telemetry/Services","Presentation/Scripts/TFS/TFS.OM.Identities.Mru","VSS/Controls/PopupContent","jQueryUI/autocomplete"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var k,tt,it;Object.defineProperty(t,"__esModule",{value:!0});t.IdentityViewControl=t.IdentitySearchMode=t.MruIdentityPickerControl=void 0;var d=i.delegate,nt=h.domElem,g=h.KeyCode,rt=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(i){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"mru-identity-picker input-text-box",pageSize:t.IDENTITY_PICKER_PAGE_SIZE,showDrop:!0,showSelectionAvatar:!0,enableTfsSearch:!0,enableAadSearch:s.TfsContext.getDefault().isAADAccount,identityProvider:new w.BaseIdentityProvider},i))},t.prototype.initialize=function(){var i=this,r;n.prototype.initialize.call(this);this._identityMru=this._options.identityMru;this._selectedItem=this._options.selectedItem;this._enabled=typeof this._options.enabled=="boolean"?this._options.enabled:!0;this._searchItems=[];this._identityFilter=this._options.identityFilter||v.IdentityFilter.All;this._searchTerm="";this._prevSearchTerm="";this._searchMode=this._getDefaultSearchMode();this._deleteItemsQueue=[];this._identityProvider=this._options.identityProvider;this._tfsContext=this._options.tfsContext;r=this._options.items||this._identityMru.getMruItems().slice(0);this._items=this._filterItems(r);this._mruRefreshedDelegate=d(this,this.setSource);this._identityMru.attachMruRefreshed(this._mruRefreshedDelegate);this._$wrapper=$("<div/>").addClass("wrap");this._$wrapper.on("click",function(n){i._enabled&&!$(n.target).hasClass("mru-identity-picker-input")&&i._input.focus()});if(this._input=$("<input>").attr("type","text").addClass("mru-identity-picker-input").appendTo($("<div/>").addClass("text-wrapper").appendTo(this._$wrapper)),this._options.id&&this._input.attr("id",this._options.id+"_txt"),this._showUnsetImage=this._options.showUnsetImage===!0,this._watermarkText=this._options.watermark!==undefined&&typeof this._options.watermark=="string"?this._options.watermark:f.MruIdentityPickerWatermark,this._unsetIdentityImageResource=this._options.unsetIdentityImageResource!==undefined&&typeof this._options.unsetIdentityImageResource=="string"?this._options.unsetIdentityImageResource:t.DefaultUnsetIdentityImageResource,this._enabled&&h.Watermark(this._input,{watermarkText:this._watermarkText}),this._input.attr("title",f.MruIdentityPickerTooltip),this._enabled||this.setEnabled(this._enabled),this._input.attr("autocomplete","off"),this._bind(this._input,"keydown",d(this,this._onInputKeyDown)),this._input.focus(function(){i._enabled&&i._onInputFocus()}),this._input.mousedown(function(){i._enabled&&!i._input.is(":focus")&&i._input.focus()}),this._bind(this._input,"blur",d(this,this._onInputBlur)),this._options.showDrop){this._dropButton=$(nt("div","drop")).appendTo(this.getElement());this._bind(this._dropButton,"click",d(this,this._onDropClick));this._dropButton.on("mousedown",function(n){n.preventDefault()});this._enabled?this._element.addClass("drop"):this._dropButton.hide()}this._$wrapper.appendTo(this.getElement());this._listContainer=this._options.pickerContainer||this.getElement();this._identityPickerListView=o.BaseControl.createIn(tt,this._listContainer,{identityMru:this._identityMru,pageSize:this._options.pageSize,items:this._items,onItemSelect:function(n){i._selectItem(n,{highlightText:!0})},onItemDelete:function(n){i._removeItem(n)},onTfsIdentitySearch:function(){i._beginTfsIdentitySearch(i._searchTerm)},onAadIdentitySearch:function(){i._beginAadIdentitySearch(i._searchTerm)}});this._selectedItem&&this.setValue(this._selectedItem);this._hideDropDown();s.TfsContext.getDefault().isHosted&&this._options.enableAadSearch&&this._checkForGuestUsers()},t.prototype._checkForGuestUsers=function(){function i(t){n._options.enableAadSearch=!t.isGuest}function r(){n._options.enableAadSearch=!1}var n=this,t=s.TfsContext.getDefault(),u=t.getActionUrl("IsGuestAadUser","identity",{project:"",team:"",area:"api"});e.getMSJSON(u,{userEmail:t.currentIdentity.email},i,r)},t.prototype.dispose=function(){this._identityMru.detachMruRefreshed(this._mruRefreshedDelegate);n.prototype.dispose.call(this)},t.prototype.getItems=function(){return this._items},t.prototype.setSource=function(n){this._items=this._filterItems(v.IdentityHelper.union(n,this._items))},t.prototype.focus=function(){this._input.focus()},t.prototype.getIdentityMru=function(){return this._identityMru},t.prototype.setEnabled=function(n){n?(this._input.prop("readonly",!1),this._input.removeClass("disabled"),this.getElement().removeClass("readonly"),h.Watermark(this._input,{watermarkText:this._watermarkText}),this._options.showDrop&&(this._dropButton.show(),this._element.addClass("drop"))):(h.Watermark(this._input,{watermarkText:""}),this._input.attr("readonly","readonly"),this._input.addClass("disabled"),this.getElement().addClass("readonly"),this._options.showDrop&&(this._dropButton.hide(),this._element.addClass("drop")));this._enabled=n},t.prototype.getInput=function(){return this._input},t.prototype.getInputText=function(){return this._input.val().trim()},t.prototype.setInputText=function(n,t){this._input.val(n);n.trim()||this._input.trigger("blur");this._searchTerm=n;this._hideDropDown();t&&this._fireChange({selectedItem:this._selectedItem})},t.prototype.getValue=function(){return this._selectedItem?this._selectedItem:{id:"",displayName:this.getInputText(),uniqueName:""}},t.prototype.setValue=function(n,t){t===void 0&&(t=!0);n?(typeof n=="string"&&(n=v.IdentityHelper.parseUniquefiedIdentityName(n)),(n.id||n.uniqueName)&&(this._items=v.IdentityHelper.union(this._items,[n])),this._selectItem(n,{fireChange:t})):this.clear()},t.prototype.setInvalid=function(n){this._element.toggleClass("invalid",n);this._input.attr("aria-invalid",n?"true":"false")},t.prototype.clear=function(n){n===void 0&&(n=!0);this._selectedItem=null;this._searchItems=[];this._markUnresolved();this.setInputText("",n);this._input.attr("title",f.MruIdentityPickerTooltip);this._searchTerm=""},t.prototype.getSearchResult=function(n,t){if(t==="")return[];var r=$.ui.autocomplete.escapeRegex(t),i=new RegExp("(^)"+r,"i");return $.grep(n,function(n){var t=n.uniqueName||"";return t.indexOf("\\")>=0&&(t=t.substr(t.indexOf("\\")+1)),i.test(n.displayName)||i.test(t)})},t.prototype._filterItems=function(n){switch(this._identityFilter){case v.IdentityFilter.Users:return $.map(n,function(n){return n.isContainer?null:n});case v.IdentityFilter.Groups:return $.map(n,function(n){return n.isContainer?n:null});default:return n}},t.prototype._beginAadIdentitySearch=function(n){function e(n){var f=new Date;t._searchItems=v.IdentityHelper.union(n,t._searchItems);t._search({force:!0,showDropDown:!0,searchMode:k.None,fireChange:!1});i={elapsedTime:f.getTime()-r.getTime()};p.publishEvent(new p.TelemetryEventData("IdentityPicker","AadIdentitySearchTime",i));u.logTracePoint("IdentityPicker.AadIdentitySearchEnd")}function o(){t._identityPickerListView.showError(f.AADServiceUnavailable);u.logTracePoint("IdentityPicker.AadIdentitySearchEnd")}var t=this,i,r;u.logTracePoint("IdentityPicker.AadIdentitySearchStart");this._prevSearchTerm=n;this._identityPickerListView.showLoading();i={searchTerm:n.length};p.publishEvent(new p.TelemetryEventData("IdentityPicker","AadIdentitySearch",i));r=new Date;n=n.replace("'","''");this._identityProvider.beginAadIdentitySearch(n,this._identityFilter,e,o,this._tfsContext)},t.prototype._beginTfsIdentitySearch=function(n){function f(n){var f=new Date;v.IdentityHelper.preProcessIdentities(n);t._searchMode=t._options.enableAadSearch?k.SearchAad:k.None;t._searchItems=n;t._search({force:!0,showDropDown:!0,searchMode:t._searchMode,fireChange:!1});i={elapsedTime:f.getTime()-r.getTime()};p.publishEvent(new p.TelemetryEventData("IdentityPicker","IdentitySearchTime",i));u.logTracePoint("IdentityPicker.TfsIdentitySearchEnd")}function e(){t._identityPickerListView.showError();u.logTracePoint("IdentityPicker.TfsIdentitySearchEnd")}var t=this,i,r;u.logTracePoint("IdentityPicker.TfsIdentitySearchStart");this._prevSearchTerm=n;this._identityPickerListView.showLoading();i={searchTerm:n.length};p.publishEvent(new p.TelemetryEventData("IdentityPicker","IdentitySearch",i));r=new Date;this._identityProvider.beginTfsIdentitySearch(n,this._identityFilter,f,e,this._tfsContext)},t.prototype._hideDropDown=function(){this._dropdownVisible=!1;this._identityPickerListView.hideElement();this._detachGlobalEvents()},t.prototype._showDropDown=function(){this._dropdownVisible=!0;this._identityPickerListView.showElement();this._identityPickerListView.setPosition();this._attachGlobalEvents()},t.prototype._selectItem=function(n,t){var f=this,r,u,i;if(n){if(r=!0,t&&typeof t.fireChange=="boolean"&&(r=t.fireChange),this._markUnresolved(),this._selectedItem=n,this.setInputText(n.displayName,r),this._input.attr("aria-owns","items-container-id"),this._input.attr("aria-autocomplete","list"),this._input.attr("role","combobox"),this._input.attr("title",v.IdentityHelper.getFriendlyDistinctDisplayName(n)),u=v.IdentityHelper.getIdentityImageUrl(n,v.IdentityImageMode.ShowGenericImage),this._options.showSelectionAvatar&&u&&n.showGenericImage!==!1){this._resolvedIdentityImage=$("<div/>").addClass("img-container loading").prependTo(this._$wrapper);i=$("<img>").attr("alt",n.displayName).attr("title",v.IdentityHelper.getFriendlyDistinctDisplayName(n)).appendTo(this._resolvedIdentityImage);i.one("load",function(){f._resolvedIdentityImage.removeClass("loading")});i.one("error",function(){f._resolvedIdentityImage.removeClass("loading");var n=s.TfsContext.getDefault();i.attr("src",n.configuration.getResourcesFile("User.svg"))});i.attr("src",u);this._$wrapper.addClass("resolved")}t&&t.highlightText&&this._input.select();typeof this._options.selectionChanged=="function"&&this._options.selectionChanged(n)}},t.prototype._onInputKeyDown=function(n){function o(){return u._identityPickerListView.searchMode===k.SearchAad?(u._beginAadIdentitySearch(u._searchTerm),!0):u._identityPickerListView.searchMode===k.SearchTfs?(u._beginTfsIdentitySearch(u._searchTerm),!1):void 0}var t=this,u=this,s,f,h,e,r,c;if(n.ctrlKey&&(n.keyCode===89||n.keyCode===90))return!1;switch(n.keyCode){case g.UP:if(this._dropdownVisible)return s=this._identityPickerListView.selectPrev(),f=this._identityPickerListView.getSelectedItem(),f&&this._input.attr("aria-activedescendant",f.id),s;case g.DOWN:if(this._dropdownVisible)return h=this._identityPickerListView.selectNext(),e=this._identityPickerListView.getSelectedItem(),e&&this._input.attr("aria-activedescendant",e.id),h;this._openDropdownAndHideSelection();case g.PAGE_UP:if(this._dropdownVisible)return this._identityPickerListView.prevPage();case g.PAGE_DOWN:if(this._dropdownVisible)return this._identityPickerListView.nextPage();case g.TAB:return this._dropdownVisible&&(r=this._identityPickerListView.getSelectedItem(),r&&i.delay(this,0,function(){t._selectItem(r)}),this._hideDropDown()),!0;case g.ENTER:return this._dropdownVisible?(r=this._identityPickerListView.getSelectedItem(),r?this._selectItem(r,{highlightText:!0}):o(),!1):!0;case g.ESCAPE:return this._selectedItem&&this._selectItem(this._selectedItem),this._hideDropDown(),!1;case g.DELETE:return this._dropdownVisible?(r=this._identityPickerListView.getSelectedItem(),r&&this._identityMru.isItemInMru(r)&&this._getCaretPosition()===this._input.val().length?(this._removeItem(r),this._identityPickerListView.removeItem(this._identityPickerListView.getSelectedIndex()),!1):(i.delay(this,0,function(){t._selectedItem=null;t._markUnresolved();t._search({showDropDown:t._dropdownVisible})}),!0)):(i.delay(this,0,function(){t._selectedItem=null;t._markUnresolved();t._search({showDropDown:!0})}),!0);case g.QUESTION_MARK:this._dropdownVisible&&n.ctrlKey&&o();default:return c=this.getInputText(),i.delay(this,0,function(){c!==t.getInputText()&&(t._prevSearchTerm&&t.getInputText().indexOf(t._prevSearchTerm)!==0&&(t._prevSearchTerm="",t._searchMode=t._getDefaultSearchMode()),t._selectedItem=null,t._markUnresolved(),t._search({showDropDown:!0}))}),!0}},t.prototype._markUnresolved=function(){this._resolvedIdentityImage&&(this._resolvedIdentityImage.remove(),this._resolvedIdentityImage=null);this._hideUnassignedIdentityImage(!1);this._$wrapper.removeClass("resolved")},t.prototype._hideUnassignedIdentityImage=function(n){this._unsetIdentityImage&&(this._unsetIdentityImage.remove(),this._unsetIdentityImage=null,n&&this._$wrapper.hasClass("resolved")&&this._$wrapper.removeClass("resolved"))},t.prototype._getCaretPosition=function(){var n=this._input[0];return n.selectionStart},t.prototype._removeItem=function(n){var t=this;n&&this._identityMru.isItemInMru(n)&&(this._deleteItemsQueue.push(n),this._deletingTimeout!==null&&(clearTimeout(this._deletingTimeout),this._deletingTimeout=null),this._deletingTimeout=setTimeout(function(){t._identityMru.removeItems(t._deleteItemsQueue);t._deleteItemsQueue=[]},500),this._items=v.IdentityHelper.subtract(this._items,[n]),this._searchItems=v.IdentityHelper.subtract(this._searchItems,[n]))},t.prototype._openDropdownAndHideSelection=function(){var n=this;this._search({force:!0,showDropDown:!1,fireChange:!1});this._markUnresolved();this._showDropDown();i.delay(this,0,function(){n._input.select()});this._selectedItem&&this._input.attr("aria-activedescendant",this._selectedItem.id)},t.prototype._onDropClick=function(){this._dropdownVisible?(this._hideDropDown(),this._selectedItem&&this._selectItem(this._selectedItem)):(this._openDropdownAndHideSelection(),this._enabled=!1,this._input.focus(),this._enabled=!0)},t.prototype._onInputFocus=function(){this._element.addClass("focus");this.getInputText()?this._openDropdownAndHideSelection():this._hideUnassignedIdentityImage(!0);typeof this._options.onInputFocus=="function"&&this._options.onInputFocus()},t.prototype._onInputBlur=function(){var t=this,n,r;this._element.removeClass("focus");$(".identity-picker-list-view:hover",this._element).length===0?(this._hideDropDown(),this._selectedItem?this._selectItem(this._selectedItem):this._enabled&&this._showUnsetImage&&(this._hideUnassignedIdentityImage(!0),n=this._tfsContext.configuration.getResourcesFile(this._unsetIdentityImageResource),this._unsetIdentityImage=$("<div/>").addClass("img-container").prependTo(this._$wrapper),r=$("<img>").attr("title",this._watermarkText).appendTo(this._unsetIdentityImage).attr("src",n),this._$wrapper.addClass("resolved")),typeof this._options.onInputBlur=="function"&&this._options.onInputBlur()):(this._enabled=!1,this._input.focus(),i.delay(this,0,function(){t._enabled=!0}))},t.prototype._getDefaultSearchMode=function(){return this._options.enableTfsSearch?k.SearchTfs:this._options.enableAadSearch?k.SearchAad:k.None},t.prototype._search=function(n){var t=this,e,o,i,s,r;u.logTracePoint("IdentityPicker.SearchStarted");e=function(){return t._searchTerm?n&&n.searchMode?n.searchMode:t._prevSearchTerm&&t._searchTerm.indexOf(t._prevSearchTerm)===0?t._searchMode:t._getDefaultSearchMode():k.None};(n&&n.force||this._searchTerm!==this.getInputText())&&(this._searchTerm=this.getInputText(),o=e(),i=this._items,this._searchTerm?(s=v.IdentityHelper.union(this._searchItems,this._items),i=this.getSearchResult(s,this._searchTerm)):this._searchItems=[],this._identityPickerListView.update(i,this._searchTerm,o),this._selectedItem||this._input.attr("title",this._searchTerm===""?f.MruIdentityPickerTooltip:this._searchTerm),n&&n.showDropDown&&this._searchTerm?this._showDropDown():this._hideDropDown(),r=!0,n&&typeof n.fireChange=="boolean"&&(r=n.fireChange),r&&this._fireChange({selectedItem:this._selectedItem}),u.logTracePoint("IdentityPicker.SearchEnd"))},t.prototype._fireChange=function(n){typeof this._options.change=="function"&&this._options.change(n)},t.prototype._attachGlobalEvents=function(){this._bind(this.getElement().parents(),"scroll",d(this,this._hideDropDown));this._bind(this.getElement().parents(),"resize",d(this,this._hideDropDown));a.getService().attachEvent("dialog-move",d(this,this._hideDropDown))},t.prototype._detachGlobalEvents=function(){this._unbind(this.getElement().parents(),"scroll",d(this,this._hideDropDown));this._unbind(this.getElement().parents(),"resize",d(this,this._hideDropDown));a.getService().detachEvent("dialog-move",d(this,this._hideDropDown))},t.IDENTITY_PICKER_PAGE_SIZE=8,t.DefaultUnsetIdentityImageResource="notassigned-user.svg",t}(o.BaseControl);t.MruIdentityPickerControl=rt,function(n){n[n.None=1]="None";n[n.SearchTfs=2]="SearchTfs";n[n.SearchAad=3]="SearchAad"}(k=t.IdentitySearchMode||(t.IdentitySearchMode={}));tt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._scrollTimeout=null,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"identity-picker-list-view",pageSize:10},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._identityMru=this._options.identityMru;this._element.on("mousedown",function(n){n.preventDefault()});this._element.attr("role","menu");this._element.attr("aria-hidden","true");this.update(this._options.items,this._options.highlightTerm)},t.prototype.setPosition=function(){var i=this._element.parent().outerWidth()-2,u;this._element.width(i<t.MIN_WIDTH?t.MIN_WIDTH:i);h.Positioning.position(this.getElement(),this._element.parent(),{elementAlign:"left-top",baseAlign:"left-bottom"});var n=this._element.parent().offset().top,f=this._element.offset().top,r=this._element.height();f<n&&n<r&&(u=this._itemsContainer.height(),this._itemsContainer.height(u-(r-n)))},t.prototype.update=function(n,t,i){i===void 0&&(i=k.SearchTfs);this._items=n||[];this._highlightTerm=t||"";this._itemsUIArr=[];this._selectedIndex=null;this.searchMode=i;this._render();this.setSelectedIndex(0,!1)},t.prototype.getListItems=function(){return this._items},t.prototype.showLoading=function(){var n=$(".search",this._element).empty(),t=o.BaseControl.createIn(l.StatusIndicator,n,{center:!0,message:f.Loading});t.start()},t.prototype.showError=function(n){var t=$(".search",this._element).empty().addClass("search-error").off("click").removeClass("search-tfs-noresult"),i;this.searchMode=k.None;i=o.BaseControl.createIn(c.MessageAreaControl,t,{closeable:!1,message:{header:$("<span/>").html(n||f.MruIdentityPickerError),type:c.MessageAreaType.Warning},showIcon:!0})},t.prototype.nextPage=function(){var n=this._selectedIndex+this._options.pageSize;return this._loadNextPage(!0),this.setSelectedIndex(n<this._itemsUIArr.length?n:this.searchMode===k.None?this._itemsUIArr.length-1:-1,!0,h.Positioning.VerticalScrollBehavior.Top),!1},t.prototype.prevPage=function(){var n=this._selectedIndex-this._options.pageSize;return this.setSelectedIndex(n>=0?n:0,!0,h.Positioning.VerticalScrollBehavior.Top),!1},t.prototype.selectNext=function(){return(this._selectedIndex<this._numItemsDisplayed-1||this._selectedIndex===this._items.length-1)&&this.setSelectedIndex(this._selectedIndex+1,!0),!1},t.prototype.selectPrev=function(){return this._selectedIndex>0&&this.setSelectedIndex(this._selectedIndex-1,!0,h.Positioning.VerticalScrollBehavior.Top),!1},t.prototype.getSelectedIndex=function(){return this._selectedIndex},t.prototype.getSelectedItem=function(){return this._selectedIndex>=this._items.length?null:this._items[this._selectedIndex]},t.prototype.setSelectedIndex=function(n,t,i){i===void 0&&(i=h.Positioning.VerticalScrollBehavior.Bottom);n>=0&&n<this._itemsUIArr.length&&(this._selectedIndex=n,$("li",this._itemsContainer).removeClass("selected"),$("li").attr("aria-selected","false"),$(".search",this._element).removeClass("selected"),this._itemsUIArr[this._selectedIndex].addClass("selected"),this._element.css("display")!=="none"&&this._itemsUIArr[this._selectedIndex].attr("aria-selected","true"),t&&this._scrollItemIntoView(this._selectedIndex,i))},t.prototype.removeItem=function(n){n<this._items.length&&n>=0&&(this._itemsUIArr[n].remove(),this._items.splice(n,1),this._itemsUIArr.splice(n,1),this._numItemsDisplayed--,this._loadNextPage(),n===this._selectedIndex&&this.setSelectedIndex(n,!0),this._numItemsDisplayed>0&&this._numItemsDisplayed<this._items.length?this._$itemsStatus.text(r.format(f.MruIdentityPickerStatus,this._items.length)):this._$itemsStatus.hide(),this.setPosition())},t.prototype.hideElement=function(){this._element.attr("aria-hidden","true");n.prototype.hideElement.call(this)},t.prototype.showElement=function(){this._element.attr("aria-hidden","false");n.prototype.showElement.call(this)},t.prototype._render=function(){var t=this,o=this._element.parent(),i,n,u,e;if(this._element.detach(),this._element.empty(),this._itemsContainer=$(nt("ul","items")),this._itemsContainer.attr("id","items-container-id"),this._element.append(this._itemsContainer),this._itemsContainer.scroll(function(n){t._onScroll(n)}),this._items.length==0)this._numItemsDisplayed=0;else for(this._numItemsDisplayed=Math.min(this._items.length,this._options.pageSize),i=0;i<Math.min(this._items.length,this._options.pageSize);i++)this._itemsContainer.append(this._createItem(i));if(this._$itemsStatus=$("<div/>").addClass("search-result-status").appendTo(this._element),this._numItemsDisplayed>0&&this._numItemsDisplayed<this._items.length?this._$itemsStatus.text(r.format(f.MruIdentityPickerStatus,this._items.length)):this._$itemsStatus.hide(),this.searchMode!==k.None){u=this.searchMode===k.SearchTfs?f.MruIdentityPickerTfsSearchTitle:f.MruIdentityPickerAadSearchTitle;n=$("<div/>").addClass("search").attr("title",u).attr("role","menu");this.searchMode===k.SearchAad&&this._items.length==0?(e=f.MruIdentityPickerNoResult,n=n.addClass("search-tfs-noresult").text(e).append("<br />").append(u).appendTo(this._element)):n=n.text(u).appendTo(this._element);n.append($("<span/>").addClass("bowtie-icon bowtie-search"));n.click(function(){t.searchMode===k.SearchTfs&&typeof t._options.onTfsIdentitySearch=="function"?t._options.onTfsIdentitySearch():t.searchMode===k.SearchAad&&typeof t._options.onAadIdentitySearch=="function"&&t._options.onAadIdentitySearch()});this._itemsUIArr.push(n);n.on("mouseenter",function(){n.addClass("hover")}).on("mouseleave",function(){n.removeClass("hover")})}else this._items.length===0&&(n=$("<div/>").addClass("no-result").text(f.MruIdentityPickerNoResult).appendTo(this._element));o.append(this._element)},t.prototype._createItem=function(n){var r=this,t=this._items[n],e=$.ui.autocomplete.escapeRegex(this._highlightTerm),a=new RegExp("(^)"+e,"i"),c=new RegExp("(^)"+e,"i"),o=v.IdentityHelper.getFriendlyUniqueName(t),u,h;o.indexOf("\\")>=0&&(c=new RegExp("(\\\\)"+e,"i"));var p=t.displayName.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(a,function(n){return"<b>"+n+"<\/b>"}),w=o.replace(c,function(n){return o.indexOf("\\")>=0?(n=n.replace("\\",""),"\\<b>"+n+"<\/b>"):"<b>"+n+"<\/b>"}),l=v.IdentityHelper.getIdentityImageUrl(t,v.IdentityImageMode.ShowGenericImage),i=$(y.TemplateEngine.tmpl('<li title="${tooltip}" class="${itemClass} list-item"  id="${id}" role="menuitem" alt="${tooltip}">   <div class="item-image-container loading ${imgClass}" aria-hidden="true">       <img alt="${alt}" class="identity-picture small" />   <\/div>   <div class="item-text-container">       <div class="title" >{{html title}}<\/div>       <div class="subtitle" >{{html subtitle}}<\/div>   <\/div>   <div class="icon icon-delete-small" title="${iconTitle}" aria-hidden="true"><\/div><\/li>',{id:t.id,title:p,subtitle:w,alt:t.displayName,tooltip:v.IdentityHelper.getFriendlyDistinctDisplayName(t),iconTitle:f.MruIdentityPickerRemoveItemTitle,imgClass:l&&t.showGenericImage!==!1?"":"hidden",itemClass:this._identityMru.isItemInMru(t)?"mru-item":"non-mru-item"}));this._itemsUIArr.push(i);u=i.find("img.identity-picture");h=i.find("div.item-image-container");u.one("load",function(){h.removeClass("loading")});u.one("error",function(){h.removeClass("loading");var n=s.TfsContext.getDefault();u.attr("src",n.configuration.getResourcesFile("User.svg"))});u.attr("src",l);$(".icon.icon-delete-small",i).click(function(){if(typeof r._options.onItemDelete=="function"){r._options.onItemDelete(t);r.removeItem(i.index())}return!1});i.click(function(){if(typeof r._options.onItemSelect=="function")r._options.onItemSelect(t)});i.on("mouseenter",function(){i.addClass("hover")}).on("mouseleave",function(){i.removeClass("hover")});return i},t.prototype._scrollItemIntoView=function(n,t){h.Positioning.scrollIntoViewVertical(this._itemsUIArr[n],t)},t.prototype._onScroll=function(){return this._scrollTimeout!==null&&(clearTimeout(this._scrollTimeout),this._scrollTimeout=null),this._scrollTimeout=setTimeout(d(this,this._loadNextPage),100),!1},t.prototype._loadNextPage=function(n){var t,i;if(n===void 0&&(n=!1),n||this._isCloseToBottom()){for(t=this._numItemsDisplayed;t<this._numItemsDisplayed+Math.min(this._items.length-this._numItemsDisplayed,this._options.pageSize);t++)this.searchMode!==k.None&&(i=this._itemsUIArr.pop()),this._itemsContainer.append(this._createItem(t)),i&&this._itemsUIArr.push(i);this._numItemsDisplayed+=Math.min(this._items.length-this._numItemsDisplayed,this._options.pageSize);this._numItemsDisplayed>0&&this._numItemsDisplayed<this._items.length&&this._$itemsStatus.text(r.format(f.MruIdentityPickerStatus,this._items.length))}this._scrollTimeout!==null&&(clearTimeout(this._scrollTimeout),this._scrollTimeout=null)},t.prototype._isCloseToBottom=function(){return this._itemsContainer.scrollTop()+this._itemsContainer.outerHeight()>=this._itemsContainer[0].scrollHeight-5},t.AVATAR_WIDTH=40,t.TEXT_MARGIN=25,t.MIN_WIDTH=250,t.enhancementTypeName="tfs.identityPickerListViewControl",t}(o.BaseControl);it=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getIdentityViewElement=function(n,i){var r=$("<div/>"),u=o.BaseControl.createIn(t,r,$.extend({identifier:n},i));return u.getElement()},t.renderIdentityCellContents=function(n,i,r,u,f,e,s,h,c){var l,v,a;return c===void 0&&(c=!1),l=n._drawCell(i,r,u,f,e,s,h),v=n.getColumnText(r,e,h),l&&(l.addClass("identity-grid-cell"),l.empty(),a=o.create(t,l,{identifier:v,showImage:c,showTooltip:!1}),a.tooltipInfo&&a.tooltipInfo.tooltipText&&(l.data("tooltipText",a.tooltipInfo.tooltipText),l.data("tooltipShowOnOverflow",a.tooltipInfo.showOnOverflow))),l},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"identity-view-control",showImage:!0},t))},t.prototype.initialize=function(){var u,l,f,c,o,s,h;n.prototype.initialize.call(this);this.tooltipInfo={tooltipText:"",showOnOverflow:!1};var t=this._options,e=this.getElement(),i=null;$.isPlainObject(t.identifier)?i=t.identifier:typeof t.identifier=="string"&&(i=v.IdentityHelper.parseUniquefiedIdentityName(t.identifier));u="";l=!1;i&&(u=i.displayName,f=v.IdentityHelper.getFriendlyDistinctDisplayName(i),c=r.localeIgnoreCaseComparer(u,f)!==0,t.showTooltip!==!1?b.RichContentTooltip.add(f,e,u===f?{onlyShowWhenOverflows:e}:undefined):f&&(this.tooltipInfo.tooltipText=f,this.tooltipInfo.showOnOverflow=!c));o=!1;t.showImage&&i&&(s=v.IdentityHelper.getIdentityImageUrl(i,undefined,t.size),s&&(o=!0,h=$("<img />").attr("src",s),h.appendTo(e),t.showTooltip!==!1&&b.RichContentTooltip.add(u,h)));o||e.addClass("no-image");$("<span/>").text(u).appendTo(e)},t}(o.Control);t.IdentityViewControl=it});

/*!
 * jQuery UI Keycode 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/keycode",["jquery","./version"],e):e(jQuery)}(function(e){"use strict";return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Presentation/Scripts/TFS/TFS.UI.Widgets",["require","exports","VSS/Resources/VSS.Resources.Platform","VSS/Utils/UI","jQueryUI/keycode","jQueryUI/widget","VSS/LoaderPlugins/Css!widget"],function(n,t,i,r){function u(n,t){return n.keyCode===t.keyCode&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey?!0:!1}function f(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return n.Dropdown.apply(n,i)}function e(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return n.DropdownList.apply(n,i)}Object.defineProperty(t,"__esModule",{value:!0});t.DropdownList=t.Dropdown=void 0;$.widget("TFS.Dropdown",{options:{dynamicSearch:!1,filterList:!1,id:null,initialValue:"",listSize:8,showDelete:!1,showListOnKeystroke:!0,_elements:{_autoComplete:null,_container:null,_control:null,_input:null,_search:null,_list:null,_searching:null},_autoCompleteValue:null,_previousValue:null,_valueList:[],_searchActive:!1,_searchResult:!1,_stateIcon:null,_addStackDepth:0},_create:function(){this.options._control_id=Math.random();this.element.append('<div class="dropdown-input-control"><div class="dropdown-input-main"><div class="dropdown-input-inputarea"><input autocomplete="off" class="dropdown-input-text dropdown-input-autocomplete" readonly tabIndex="-1" type="text" /><div class="dropdown-input-blank"><\/div><input autocomplete="off" class="dropdown-input-text dropdown-input-name" spellcheck="false" type="text" /><\/div><div class="dropdown-input-search" tabindex="0" role="button"><\/div><\/div><div class="dropdown-popup"><div class="dropdown-input-list-container boxshadow"><ul class="dropdown-input-list"><\/ul><div class="dropdown-input-list-searching status-text"><\/div><div class="dropdown-input-list-no-results status-text"><\/div><\/div><\/div><\/div>');this.options._elements._control=this.element.find(".dropdown-input-main");this.options._elements._autoComplete=this.element.find(".dropdown-input-autocomplete");this.options._elements._input=this.element.find(".dropdown-input-name");this.options._elements._search=this.element.find(".dropdown-input-search");this.options._elements._container=this.element.find(".dropdown-input-list-container");this.options._elements._list=this.element.find(".dropdown-input-list");this.options._elements._searching=this.element.find(".dropdown-input-list-searching").text(i.Searching);this.options._elements._noResults=this.element.find(".dropdown-input-list-no-results").text(i.NoSearchResults);this.options.id&&(this.options._elements._input.attr("id",this.options.id),this.options._elements._input.attr("name",this.options.id));this.options.initialValue&&this.setValue(this.options.initialValue);this.options.watermarkText&&r.Watermark(this.options._elements._input,{watermarkText:this.options.watermarkText});this._updateControlState();this.options._elements._search.on("click",this,function(n){n.data._handleClick()});this.options._elements._search.on("keydown",this,function(n){(n.keyCode===$.ui.keyCode.SPACE||n.keyCode===$.ui.keyCode.ENTER)&&n.data._handleClick()});this.options._elements._input.on("keydown",this,function(n){n.data._handleKeyDown(n)});this.options._elements._input.on("keydown",this,function(n){n.data._alignValue()});this.options._elements._input.on("keyup",this,function(n){n.data._handleTextChange()});this.options._elements._input.on("focusin",this,function(n){n.data.options._elements._autoComplete.show()});this.options._elements._input.on("focusout",this,function(n){n.data.options._elements._autoComplete.hide()});this.options._elements._input.on("mousedown",this,function(n){$(document).on("mousemove.Dropdown",n.data,function(n){n.data._alignValue()});$(document).on("mouseup",n.data,function(n){n.data._alignValue();$(document).off("mousemove.Dropdown");$(document).off(n)})});this.element.on("startSearch",this,function(n,t){n.data._startSearch(n,t)});this.element.on("completeSearch",this,function(n,t){n.data._completeSearch(n,t)});this.element.on("cancelSearch",this,function(n,t){n.data._cancelSearch(n,t)});this.options._elements._list.on("mousemove",this,function(n){n.data._trackMousePosition(n)});this.element.on("removeItem",this,function(n,t){n.data._removeItem(n,t)})},add:function(n,t){if(this.options._addStackDepth++,jQuery.isArray(n))for(t=0;t<n.length;t++)this.add(n[t]);else typeof n=="function"?this.add(n()):this._addItem(n,t);this.options._addStackDepth--;this.options._addStackDepth===0&&this._updateControlState()},clear:function(){this.options._elements._list.find(".dropdown-input-listitem").remove();this.options._valueList=[];this._updateControlState()},remove:function(n){this.element.trigger("removeItem",{value:n})},hideList:function(n){this.options._elements._control.removeClass("dropdown-active");this.options._elements._container.hide();n&&(this.options._elements._input.focus(),this.options._elements._autoComplete.show());$(document).off("mousedown.Dropdown"+this.options._control_id);this._updateStateIcon();this.element.trigger("listHidden")},showList:function(n){this.options._elements._container.width(this.element.outerWidth()-(this.options._elements._container.outerWidth(!0)-this.options._elements._container.width())-parseInt(this.element.css("padding-left"),10)-parseInt(this.element.css("border-left-width"),10));this.options._elements._control.addClass("dropdown-active");this.options._elements._container.show();r.Positioning.position(this.options._elements._container,this.element,{elementAlign:"right-top",baseAlign:"right-bottom"});n&&(this.options._elements._input.focus(),this.options._elements._autoComplete.show());$(document).on("mousedown.Dropdown"+this.options._control_id,this,function(n){$(n.target).parents(".dropdown-input-control").parent().get(0)!==n.data.element.get(0)&&n.data.hideList(!1)});this._updateControlState();this.element.trigger("listShown")},ensureVisible:function(n){var t=this.getListItem(n);t&&this._ensureVisible(t)},getControlState:function(){return this.options._searchActive?"searching":this.options._elements._list.is(":visible")?"active":"inactive"},getListItem:function(n){var f,e,i,r,t,u;if(isNaN(n)){for(e=n.toLowerCase(),r=0,u=this.options._valueList.length-1;r<=u;)if(t=Math.round((r+u)/2),e<this.options._valueList[t].lowerValue)i=-1,u=t-1;else if(e>this.options._valueList[t].lowerValue)i=1,r=t+1;else{i=0;break}i===0&&(f=this.options._valueList[t])}else f=this.options._valueList[n];return f},highlight:function(n){var i,t=this.getListItem(n);t&&(t.value!==this.highlightedValue()&&(i=this.options._elements._list.find(".highlighted"),i.removeClass("highlighted"),t.element.addClass("highlighted")),this._ensureVisible(t))},highlightedValue:function(){var n=this.options._elements._list.find(".dropdown-input-listitem.highlighted");return n.length>0?n.text():null},select:function(n,t){var i=this.getListItem(n),r;return i?(r={item:i.item,canceled:!1},this.element.trigger("itemSelecting",r),r.canceled?(this.hideList(t),!1):(this.setValue(i.value),this.hideList(t),this.element.trigger("itemSelected",{item:i.item}),!0)):!1},getValue:function(){return this.options._elements._input.val()},setValue:function(n){this.options._elements._input.val(n);this._handleTextChange()},cancelSearch:function(n){this.element.trigger("cancelSearch",{focusControl:n})},completeSearch:function(){this.element.trigger("completeSearch")},startSearch:function(n){this.element.trigger("startSearch",{focusControl:n})},_addItem:function(n,t){var u="",r=null,f=null,e=n.text===undefined?n:n.text,s=e.toLowerCase(),o=0,h=0,i=0,c=this.options._valueList.length-1,l=e,a={deny:null,item:n};if(this.element.trigger("filterItem",a),!a.deny){if(t===undefined||t===null){while(h<=c)if(i=Math.round((h+c)/2),s<this.options._valueList[i].lowerValue)o=-1,c=i-1;else if(s>this.options._valueList[i].lowerValue)o=1,h=i+1;else{o=0;break}o>0&&i++}else i=t,l=t;i<this.options._valueList.length&&(f=this.options._valueList[i].element);u=this.options.showDelete?'<li class="dropdown-input-listitem deletable"><div class="dropdown-input-listitem-value"><\/div><div class="dropdown-input-listitem-delete"><\/div><\/li>':'<li class="dropdown-input-listitem"><div class="dropdown-input-listitem-value"><\/li>';f?(f.before(u),r=f.prev()):(this.options._elements._list.append(u),r=this.options._elements._list.children().last());r.children(".dropdown-input-listitem-value").text(e);this.options._valueList.splice(i,0,{element:r,lowerValue:s,markup:u,value:e,item:n,visible:!0});r.on("click",this,function(n){n.data.select(l,!0)});r.on("mousemove",this,function(n){!$(this).hasClass("highlighted")&&n.data._trackMousePosition(n)&&n.data.highlight(l)});if(this.options.showDelete)r.find(".dropdown-input-listitem-delete").on("click",this,function(n){n.data.element.trigger("removeItem",{value:$(this).parents(".dropdown-input-listitem").text()});n.preventDefault();n.stopPropagation()})}},_removeItem:function(n,t){var i=this.getListItem(t.value);i&&(this.options._valueList.splice(i.element.index(),1),i.element.remove(),this.options._elements._list.find(".dropdown-input-listitem").length===0&&this.cancelSearch(),this._updateControlState(!0),this.element.trigger("itemRemoved",{value:t.value}))},_alignValue:function(){this.options._elements._autoComplete.scrollLeft(this.options._elements._input.scrollLeft())},_ensureVisible:function(n){for(var t,i,u,f,e,o=0,r=0;r<this.options._valueList.length;r++)if(e=this.options._valueList[r],e.visible){if(e.element===n.element){t=o;break}o++}t===undefined&&(t=-1);f=n.element.outerHeight(!0);i=t*f;u=i+f;i<this.options._elements._list.scrollTop()?this.options._elements._list.scrollTop(i):u-this.options._elements._list.height()>this.options._elements._list.scrollTop()&&this.options._elements._list.scrollTop(u-this.options._elements._list.height())},_trackMousePosition:function(n){return this.options._lastMouseX!==n.pageX||this.options._lastMouseY!==n.pageY?(this.options._lastMouseX=n.pageX,this.options._lastMouseY=n.pageY,!0):!1},_updateControlState:function(n){var f,o,i=this.options._elements._input.val(),e,r=0,s=2048,u,t;for(this.options._autoCompleteValue=null,f=i.toLowerCase(),u=0;u<this.options._valueList.length;u++)t=this.options._valueList[u],(e=t.lowerValue.indexOf(f))===-1?(t.element.hasClass("highlighted")&&t.element.removeClass("highlighted"),this.options.filterList?(t.element.hide(),t.visible=!1):r++):(e<s&&i.length>0&&(n||(this.options._autoCompleteValue=t.value),s=e),this.options.filterList&&(t.element.show(),t.visible=!0),r++);this.options._autoCompleteValue&&this.options._autoCompleteValue.toLowerCase().indexOf(f)===0?(o=i+this.options._autoCompleteValue.substring(i.length),this.options._elements._autoComplete.val(o)):this.options._elements._autoComplete.val("");r>0?(this.options._elements._noResults.hide(),this.options._elements._list.show(),r<=this.options.listSize?(this.options._elements._list.removeClass("overflow"),this.options._elements._list.height("")):(this.options._elements._list.addClass("overflow"),this.options._elements._list.height(Math.min(r,this.options.listSize)*this.options._elements._list.find(".dropdown-input-listitem").last().outerHeight(!0)))):(this.options._elements._list.height(Math.max(20,this.options._elements._list.find(".dropdown-input-listitem").first().outerHeight(!0))),this.options._elements._searching.is(":visible")?(this.options._elements._noResults.hide(),this.options._elements._list.show()):(this.options._elements._noResults.show(),this.options._elements._list.hide()));this.options._autoCompleteValue?this.highlight(this.options._autoCompleteValue):i.length===0&&this.highlight(0);this._updateStateIcon()},_updateStateIcon:function(){this.options._stateIcon&&this.options._elements._search.removeClass(this.options._stateIcon);this.options._searchActive?this.options._stateIcon="img_redx":this.options._searchResult?this.options._stateIcon="img_grayx":this.options.dynamicSearch?(this.options._stateIcon="img_magnify",this.options._elements._search.attr("aria-label",i.IdentityPicker_PlaceholderTextUser)):this.options._stateIcon=this.options._elements._container.is(":visible")?"img_collapse":"img_expand";this.options._elements._search.addClass(this.options._stateIcon)},_handleClick:function(){this.options._searchActive||this.options._searchResult?this.cancelSearch(!0):this.options._elements._list.is(":visible")?this.hideList(!0):this.startSearch(!0)},_handleFocusOut:function(){this.getControlState()!=="inactive"&&this.hideList(!1)},_handleKeyDown:function(n){var i=!1,t;this.options.searchHotkey&&u(this.options.searchHotkey,n)&&(this.startSearch(!0),i=!0);n.keyCode===9?((this.getControlState()==="active"||this.options._elements._autoComplete.is(":visible")&&this.options._autoCompleteValue)&&this.select(this.options._autoCompleteValue,!1),this.getControlState()!=="inactive"&&this.hideList(!1)):n.keyCode===13?this.getControlState()==="active"&&this.select(this.highlightedValue(),!0)&&(i=!0):n.keyCode===27?this.getControlState()!=="inactive"&&(this.hideList(!0),i=!0):n.keyCode===38?(t=this.getListItem(this.highlightedValue()),t&&(t=t.element.prevAll().filter(":visible").first(),t.length>0&&this.highlight(t.text())),i=!0):n.keyCode===40?(this.getControlState()==="inactive"?this.options._searchResult?this.showList(!0):this.startSearch(!0):(t=this.getListItem(this.highlightedValue()),t?(t=t.element.nextAll().filter(":visible").first(),t.length>0&&this.highlight(t.text())):this.highlight(0)),i=!0):this.options.comboOnly&&(i=!0);i&&(n.preventDefault(),n.stopPropagation())},_handleTextChange:function(){var n;n=this.options._elements._input.val();n!==this.options._previousValue&&(n.length>0&&this.options.showListOnKeystroke&&this.options._valueList.length>0&&this.getControlState()==="inactive"&&this.showList(!0),this._updateControlState(),this.element.trigger("valueUpdated",{value:n}),this.options._previousValue=n);this._alignValue()},_cancelSearch:function(n,t){this.options._searchActive=!1;this.options._searchResult=!1;this.options.dynamicSearch&&this.clear();this.hideList(t&&t.focusControl)},_completeSearch:function(n,t){this.options._searchActive=!1;this.options._elements._searching.hide();this.options.dynamicSearch&&(this.options._searchResult=!0);t&&t.focusControl&&(this.options._elements._input.focus(),this.options._elements._autoComplete.show());this._updateControlState()},_startSearch:function(n,t){this.getControlState()!=="searching"&&(this.options._searchActive=!0,this.options.dynamicSearch?(this.clear(),this.options._elements._searching.show()):this.completeSearch(),this.showList(t&&t.focusControl),this.options.dynamicSearch&&n.data.element.trigger("querySearch",{value:n.data.getValue()}))}});$.widget("TFS.DropdownList",{options:{items:[]},_create:function(){var n=$.extend({dynamicSearch:!1,filterList:!1},this.options);this.options._dropdownControl=this.element.Dropdown(n).data("TFS-Dropdown");this.options._dropdownControl.add(this.options.items)}});t.Dropdown=f;t.DropdownList=e});

define("VSS/Contributions/RestClient",["require","exports","VSS/Contributions/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function tt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&g[window.VSS.VssSDKRestVersion]?r.getClient(g[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(c,undefined,undefined,undefined,n)}var o,s,e,f,h,c,l,a,v,y,p,w,b,k,d,nt,g;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.ContributionsHttpClient=t.ContributionsHttpClient2=t.ContributionsHttpClient2_1=t.ContributionsHttpClient2_2=t.ContributionsHttpClient2_3=t.ContributionsHttpClient3=t.ContributionsHttpClient3_1=t.ContributionsHttpClient3_2=t.ContributionsHttpClient4=t.ContributionsHttpClient4_1=t.ContributionsHttpClient5=t.ContributionsHttpClient5_1=t.CommonMethods3_1To5_1=t.CommonMethods2_2To5_1=t.CommonMethods2_1To5_1=t.CommonMethods2To5_1=void 0;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getInstalledExtensions=function(n,t,r){var u={contributionIds:n&&n.join(";"),includeDisabledApps:t,assetTypes:r&&r.join(":")};return this._beginRequest({httpMethod:"GET",area:"Contribution",locationId:"2648442b-fd63-4b9a-902f-0c913510f139",resource:"InstalledApps",routeTemplate:"_apis/{area}/{resource}/{extensionId}",responseType:i.TypeInfo.InstalledExtension,responseIsCollection:!0,queryParams:u,apiVersion:this.installedAppsApiVersion})},t}(u.VssHttpClient);t.CommonMethods2To5_1=o;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getInstalledExtensionByName=function(n,t,r){var u={assetTypes:r&&r.join(":")};return this._beginRequest({httpMethod:"GET",area:"Contribution",locationId:"3e2f6668-0798-4dcb-b592-bfe2fa57fde2",resource:"InstalledApps",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}",responseType:i.TypeInfo.InstalledExtension,routeValues:{publisherName:n,extensionName:t},queryParams:u,apiVersion:this.installedAppsApiVersion_3e2f6668})},t}(o);t.CommonMethods2_1To5_1=s;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryDataProviders=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Contribution",locationId:"738368db-35ee-4b85-9f94-77ed34af2b0d",resource:"dataProvidersQuery",routeTemplate:"_apis/{area}/dataProviders/query/{scopeName}/{scopeValue}",routeValues:{scopeName:t,scopeValue:i},apiVersion:this.dataProvidersQueryApiVersion,data:n})},t}(s);t.CommonMethods2_2To5_1=e;f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryContributionNodes=function(n){return this._beginRequest({httpMethod:"POST",area:"Contribution",locationId:"db7f2146-2309-4cee-b39c-c767777a1c55",resource:"ContributionNodeQuery",routeTemplate:"_apis/{area}/nodes/query",requestType:i.TypeInfo.ContributionNodeQuery,apiVersion:this.contributionNodeQueryApiVersion,data:n})},t}(e);t.CommonMethods3_1To5_1=f;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="5.1-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient5_1=h;c=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="5.0-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient5=c;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="4.1-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient4_1=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="4.0-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient4=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="3.2-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient3_2=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="3.1-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient3_1=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="3.0-preview.1",r}return __extends(t,n),t}(e);t.ContributionsHttpClient3=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="2.3-preview.1",r}return __extends(t,n),t}(e);t.ContributionsHttpClient2_3=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="2.2-preview.1",r}return __extends(t,n),t}(e);t.ContributionsHttpClient2_2=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="2.1-preview.1",r}return __extends(t,n),t}(s);t.ContributionsHttpClient2_1=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.installedAppsApiVersion="2.0-preview.1",r}return __extends(t,n),t}(o);t.ContributionsHttpClient2=d;nt=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(h);t.ContributionsHttpClient=nt;g={"5.1":h,"5.0":c,"4.1":l,"4.0":a,"3.2":v,"3.1":y,"3.0":p,"2.3":w,"2.2":b,"2.1":k,"2.0":d};t.getClient=tt});

define("TfsCommon/Scripts/Team/Services",["require","exports","VSS/Diag","VSS/Service","VSS/Utils/String","VSS/VSS","VSS/Error","VSS/Contributions/LocalPageData","VSS/Contributions/RestClient"],function(n,t,i,r,u,f,e,o,s){var h,c;Object.defineProperty(t,"__esModule",{value:!0});t.PageTeamService=t.TeamPermissionService=void 0;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._teamPermissions={},t}return __extends(t,n),t.prototype.beginGetTeamPermissions=function(n,t){var c=this,h={currentUserHasTeamAdminPermission:!1,currentUserHasTeamPermission:!1},r;if(!n||!t)return i.Debug.fail("BeginGetTeamPermissions: Cannot fetch teamPermissions without projectId and teamId"),Promise.resolve(h);if(r=this._getCacheKey(n,t),this._teamPermissions[r])return Promise.resolve(this._teamPermissions[r]);var l="ms.vss-tfs.team-permissions-data-provider",v={context:{properties:{pageSource:{project:{id:n},team:{id:t}}}},contributionIds:[l]},a=o.getDataProviderScope(),y=a.name,p=a.value?n:null,w=this.getConnection().getHttpClient(s.ContributionsHttpClient);return w.queryDataProviders(v,y,p).then(function(n){if(n.exceptions)return h;var t=n.data[l]||{},i=Boolean(t&&t.permissions&&t.permissions.CurrentUserHasTeamAdminPermission),u=Boolean(t&&t.permissions&&t.permissions.CurrentUserHasTeamPermission);return c._teamPermissions[r]={currentUserHasTeamPermission:u,currentUserHasTeamAdminPermission:i},c._teamPermissions[r]},function(n){return n.name=u.format("{0}.QueryDataProvidersError",n.name||""),n.message="queryDataProviders() failed in TeamPermissionService.beginGetTeamPermissions: "+f.getErrorMessage(n),e.publishErrorToTelemetry(n),h})},t.prototype._getCacheKey=function(n,t){return"".concat(n.toLowerCase(),"/").concat(t.toLowerCase())},t}(r.VssService);t.TeamPermissionService=h;c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getPageTeam=function(){},t}(r.VssService);t.PageTeamService=c});

define("TestManagement/Scripts/TFS.TestManagement.AssignTesters",["require","exports","Presentation/Scripts/TFS/TFS.IdentityImage","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.OM.Identities","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/FeatureRef/TFS.TeamAwarenessService","VSS/Context","WorkItemTracking/Scripts/Utils/WitIdentityImages","TestManagement/Scripts/Resources/TFS.Resources.TestManagement","VSS/Identities/Picker/Controls","VSS/Controls","VSS/Controls/Dialogs","VSS/Diag","VSS/Identities/Picker/Services","VSS/Service","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.Accessories","jQueryUI/button","jQueryUI/dialog"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){function tt(n,t){a.preventClickingDisabledButtons(n,t);n.dialog("option","buttons",t)}var g,nt,it;Object.defineProperty(t,"__esModule",{value:!0});t.AssignTestersChildItems=t.AssignTesterIdentityPickerDialog=void 0;g=b.domElem;nt=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._constructDialog();var t=$.Event("");t.type=c.IdentityPickerSearchControl.INVALID_INPUT_EVENT;this._setSaveButtonState(t);this._addEvents();this._addDialogOptions()},t.prototype._constructDialog=function(){var i=this,n,u,r,o="Identities_Picker"+l.getId(),f,e;this._saveButton={id:t.CSS_OK_BUTTON,text:w.htmlEncode(h.SaveText),click:function(){i._onSaveClick()}};this._cancelButton={id:t.CSS_CANCEL_BUTTON,text:w.htmlEncode(h.CancelText),click:function(){i._onCancelClick()}};this._closeButton={id:t.CSS_CLOSE_BUTTON,text:w.htmlEncode(h.CloseText),click:function(){i._onCloseClick()}};tt(this._element,[this._saveButton,this._cancelButton]);this._element.css("height",t.DIALOG_HEIGHT-100);this._$data=$(g("div")).css("height","100%").addClass(t.CSS_IDENTITY_DIALOG);this._$wrapper=$(g("div")).append(this._$data).addClass(t.CSS_ASSIGN_TESTER_DIALOG).css("height","100%");this._element.html(this._$wrapper);this.setTitle(h.AssignTesterDialogTitle);this._$dataDiv=$(g("div")).appendTo(this._$data).attr("id","main-context");this._$contentDescriptionElement=$(g("div")).appendTo(this._$dataDiv).addClass(t.CSS_DESCRIPTION).text(h.AssignTesterDialogDescription||"");u=$(g("table")).appendTo(this._$dataDiv).addClass(t.CSS_MAIN_TABLE).innerWidth(t.DIALOG_WIDTH-100);r=$(g("tr")).appendTo(u);n=$(g("td")).appendTo(r).outerWidth(150);$(g("label")).appendTo(n).attr("for",o).addClass(t.CSS_ADD_ENTITY).text(h.UserLabel);n=$(g("td")).addClass(t.CSS_SEARCH_CONTAINER).appendTo(r);f={IMS:!0};e={User:!0};this._identityPickerSearchControl=l.create(c.IdentityPickerSearchControl,n,{operationScope:f,identityType:e,multiIdentitySearch:!1,showContactCard:!0,consumerId:t.AssignTesterSearchControl,pageSize:5});this._identityPickerSearchControl.focusOnSearchInput();$(n).find(".identity-picker-input").attr("role","textbox").attr("aria-label",h.UserLabel)},t.prototype.saveIdentities=function(){var n=this._identityPickerSearchControl.getIdentitySearchResult(),t;n.resolvedEntities&&n.resolvedEntities.length===1&&(t=this._options.saveCallback,t&&(t(n.resolvedEntities,[]),this.close(),v.logTracePoint("AssignTesterIdentityPickerDialog.SaveChanges.Success"),v.logTracePoint("AssignTesterIdentityPickerDialog.CloseDialog")))},t.prototype._addDialogOptions=function(){var n=this;this._element.dialog("option","beforeClose",function(){return!n._requestContext||n._requestContext.isComplete})},t.prototype._addEvents=function(){var n=this;this._bind("focusout",function(t){n._setSaveButtonState(t)});this._bind(c.IdentityPickerSearchControl.INVALID_INPUT_EVENT,function(t){n._setSaveButtonState(t)});this._bind(c.IdentityPickerSearchControl.VALID_INPUT_EVENT,function(t){n._setSaveButtonState(t)})},t.prototype._onCloseClick=function(){this.close();v.logTracePoint("AssignTesterIdentityPickerDialog.CloseDialog")},t.prototype._onCancelClick=function(){v.logTracePoint("AssignTesterIdentityPickerDialog.CancelDialog");this.close()},t.prototype._onSaveClick=function(){v.logTracePoint("AssignTesterIdentityPickerDialog.SaveChanges.Click.Start");this.saveIdentities()},t.prototype._setSaveButtonState=function(n){var t=this._identityPickerSearchControl.getIdentitySearchResult();n&&n.type===c.IdentityPickerSearchControl.VALID_INPUT_EVENT?(this._element.siblings(".ui-dialog-buttonpane").find("#"+this._saveButton.id).button("enable"),this._element.siblings(".ui-dialog-buttonpane").find("#"+this._saveButton.id).focus(),this._element.siblings(".ui-dialog-buttonpane").find("#"+this._saveButton.id).select()):!n||n.type!=="focusout"||t&&t.resolvedEntities&&t.resolvedEntities.length!==0?n&&n.type===c.IdentityPickerSearchControl.INVALID_INPUT_EVENT&&this._element.siblings(".ui-dialog-buttonpane").find("#"+this._saveButton.id).button("disable"):this._element.siblings(".ui-dialog-buttonpane").find("#"+this._saveButton.id).button("disable")},t.DIALOG_WIDTH=700,t.DIALOG_HEIGHT=350,t.CSS_OK_BUTTON="dialog-main-ok-button",t.CSS_CANCEL_BUTTON="dialog-main-cancel-button",t.CSS_CLOSE_BUTTON="dialog-main-close-button",t.CSS_ASSIGN_TESTER_DIALOG="assign-single-tester-dialog",t.CSS_IDENTITY_DIALOG="assign-tester-identity-dialog",t.CSS_SEARCH_CONTAINER="dialog-search-container",t.CSS_MAIN_TABLE="main-table",t.CSS_ADD_ENTITY="add-user",t.CSS_DESCRIPTION="description",t.AssignTesterSearchControl="B3D83617-FEEA-40E6-B225-BB06E9AE0B50",t}(a.ModalDialogO);t.AssignTesterIdentityPickerDialog=nt,function(n){function t(n,t,a){var g=o.getDefaultWebContext(),b=g.team?g.team.id:null,nt=function(n){t.executeAction?t.executeAction(n):k.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.BulkEdit"],function(i){i.bulkUpdateWorkItems(n.tfsContext,n.selectedWorkItems,[{fieldName:f.CoreFieldRefNames.AssignedTo,value:c.EntityFactory.isStringEntityId(n.identity.entityId)?null:u.IdentityHelper.getUniquefiedIdentityName(n.identity)}],t,a)})},tt=function(n){var t={id:d.CommonContextMenuItems.ASSIGN_TO_ACTION_NAME,action:nt,arguments:{identity:n}},i=$("<span/>"),r={identityType:{User:!0},operationScope:{Source:!0},item:n,friendlyDisplayName:n.displayName,size:c.IdentityPickerControlSize.Large,turnOffHover:!0,consumerId:"063390F7-A7AA-4B34-90DC-700B688D7857"};return l.BaseControl.create(c.IdentityDisplayControl,i,r),$.extend(t,{html:i,showText:!1,noIcon:!0}),t},it=function(){var n={id:d.CommonContextMenuItems.ASSIGN_TO_ACTION_NAME,action:nt,arguments:{identity:null}},t=$("<span/>"),i=$("<text>").attr("type","text").text(h.SearchUserChildMenuLabel).appendTo(t);return b?i.addClass("old-context-menu-text"):i.addClass("new-context-menu-text"),$.extend(n,{html:t,showText:!1,icon:"bowtie-icon bowtie-search"}),n};return function(f,o,l){var ft,g,nt,rt,ut;v.logTracePoint("CommonContextMenuItems._getChildItems.start");ft=Date.now();g=[];t.addSearchUserChildMenu&&(g.push(it()),g.push({separator:!0}));b?(nt=r.ProjectCollection.getConnection(n).getService(e.TeamAwarenessService),rt=t.maxTeamSize?t.maxTeamSize:20,nt.beginGetTeamMembers(b,!1,rt).then(function(r){function s(n){t.executeAction?t.executeAction(n):k.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.BulkEdit"],function(i){i.bulkUpdateWorkItems(n.tfsContext,n.selectedWorkItems,[{fieldName:"System.AssignedTo",value:u.IdentityHelper.getUniquefiedIdentityName(n.identity)}],t,a)})}function f(t){var r={id:d.CommonContextMenuItems.ASSIGN_TO_ACTION_NAME,action:s,arguments:{identity:t}};return $.extend(r,{text:t.displayName,title:u.IdentityHelper.getFriendlyDistinctDisplayName(t),icon:function(){return i.identityImageElement(n,t.id,null,"small",null,"")},cssClass:"people"}),r}var e=!0;g.push(f({displayName:h.UnassignedTester,id:"00000000-0000-0000-0000-000000000000"}));g.push(f(n.currentIdentity));$.each(r,function(t,i){i.id!==n.currentIdentity.id&&(e&&(g.push({separator:!0}),e=!1),g.push(f(i)))});o(g);v.logTracePoint("CommonContextMenuItems.getAssignedToContextMenuItem.Complete")},typeof a=="function"?a:l)):(ut=p.getService(y.MruService),ut.getMruIdentities({IMS:!0},y.MruService.DEFAULT_IDENTITY_ID,y.MruService.DEFAULT_FEATURE_ID).then(function(n){var r=c.EntityFactory.createStringEntity(h.UnassignedTester,s.WitIdentityImages.UnassignedImageUrl),t,i,u;for(r.localId="00000000-0000-0000-0000-000000000000",g.push(tt(r)),n=n.filter(function(n){return n.active!==!1&&w.ignoreCaseComparer(n.entityType,y.ServiceHelpers.UserEntity)===0}),t=0,i=n;t<i.length;t++)u=i[t],g.push(tt(u));o(g);v.logTracePoint("CommonContextMenuItems.getAssignedToContextMenuItem.Complete")},typeof a=="function"?a:l))}}n.getAssignTesterChildItems=t}(it=t.AssignTestersChildItems||(t.AssignTestersChildItems={}))});

define("TestManagement/Scripts/TFS.TestManagement.PageHelper",["require","exports","VSS/Diag","TestManagement/Scripts/TFS.TestManagement"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.defaultPageSize=t.PageHelper=void 0;var u=function(){function n(n,t,i){this._objectIds=n;this._initPageSize=t||25;this._pageSize=i||10;this._pageIndex=0;this._pageCount=this._objectIds.length<this._initPageSize?1:1+Math.ceil((n.length-this._initPageSize)/this._pageSize)}return n.prototype.setStartingPage=function(n){this._pageIndex=n},n.prototype.getPageCount=function(){return this._pageCount},n.prototype.getPageIndex=function(){return this._pageIndex},n.prototype.canPage=function(){return this._pageIndex>=this._pageCount?!1:!0},n.prototype.getIdsToFetch=function(){var n,t;return i.logVerbose("[PageHelper]Fetching page "+this._pageIndex+" of "+this._pageCount),this._pageIndex===0?(n=0,t=this._initPageSize):(n=this._initPageSize+(this._pageIndex-1)*this._pageSize,t=n+this._pageSize),i.logVerbose("[PageHelper]startIndex = "+n+" endIndex = "+t+" fetching 0 test cases"),this._pageIndex===this._pageCount-1?this._objectIds.slice(n):this._objectIds.slice(n,t)},n.prototype.pageFetchComplete=function(){this._pageIndex++},n.getPageSize=function(){return t.defaultPageSize},n}();t.PageHelper=u;t.defaultPageSize=r.PageConstants.defaultPageSize});

define("VSS/Controls/EditableGrid",["require","exports","VSS/Controls/Combos","VSS/Controls","VSS/Diag","VSS/Controls/Grids","VSS/Resources/VSS.Resources.Platform","VSS/Controls/TreeView","VSS/Utils/Core","VSS/Utils/Html","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var y,b,k,tt,d,g,p;Object.defineProperty(t,"__esModule",{value:!0});t.EditableGrid=t.RowHeightInfo=t.CellInfo=t.ComboCellEditor=t.PlainTextCellEditor=t.RichTextCellEditor=t.TextCellEditor=t.CellEditor=void 0;var rt=u.log,ut=u.LogVerbosity.Verbose,v=s.delegate,it=h.HtmlNormalizer,nt=l.domElem,w=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this)},t.prototype.getValue=function(){return""},t.prototype.getDisplayValue=function(){return this.getValue()},t.prototype.setValue=function(){},t.prototype.clearValue=function(){},t.prototype.setSize=function(){},t.prototype.dispose=function(){this._element&&this._element.remove()},t.prototype.setPosition=function(){this._attachEvents();this._inEditMode=!0},t.prototype.getHeight=function(){return 0},t.prototype.focus=function(){},t.prototype.fireEndEdit=function(n){this._inEditMode&&(this._resetPosition(),this.endEdit&&this.endEdit(n),this._inEditMode=!1)},t.prototype.beginEdit=function(n){this._initValue=n},t.prototype._attachEvents=function(){},t.prototype._detachEvents=function(){},t.prototype._fireChangedIfNeeded=function(){var n=this.getValue();this._prevValue!==n&&(this._prevValue=n,this.valueChanged&&this.valueChanged())},t.prototype._handleKeydown=function(n){var i=l.KeyCode,t=!1;switch(n.keyCode){case i.ESCAPE:u.logVerbose("[EditableGrid._handleKeyDown]Escape pressed. Reverting the value of the cell to "+this._initValue);this._initValue?this.setValue(this._initValue):this.clearValue();this.fireEndEdit(n);t=!0;break;case i.TAB:this.fireEndEdit(n);t=!0;break;case i.ENTER:n.shiftKey||this.fireEndEdit(n);t=!0;break;case 83:l.KeyUtils.isExclusivelyCtrl(n)&&(this.fireEndEdit(n),n.preventDefault(),n.stopPropagation(),t=!0);break;case 80:n.altKey&&(this.fireEndEdit(n),n.preventDefault(),n.stopPropagation(),t=!0)}return t},t.prototype._insertNewLineAtCursor=function(){},t.prototype._setCaretPositionToEnd=function(){},t.prototype._decorateElement=function(){this._options.id&&this._element.attr("id",this._options.id)},t.prototype._resetPosition=function(){this._detachEvents()},t}(r.BaseControl);t.CellEditor=w;y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._editableArea=this._element.closest("."+this._options.cssClass);this._editableArea.length===0&&(this._editableArea=this._element);this._editableArea.css({top:0,left:-1e5,position:"fixed"});this._editableArea.attr("tabIndex","-1")},t.prototype.setPosition=function(t,i){this._editableArea[0].style.top=t+"px";this._editableArea[0].style.left=i+"px";this._editableArea[0].style.position="absolute";n.prototype.setPosition.call(this,t,i)},t.prototype.getHeight=function(){return this._editableArea.outerHeight()},t.prototype.focus=function(){l.tryFocus(this._editableArea);this.getValue()!=="&nbsp;"&&this._setCaretPositionToEnd(this._editableArea)},t.prototype._attachEvents=function(){var n=this;this._bind(this._editableArea,"keydown",function(t){var i=n._handleKeydown(t);i&&t.stopPropagation()})},t.prototype._detachEvents=function(){this._unbind(this._editableArea,"keydown")},t.prototype._handleKeydown=function(t){var r=l.KeyCode,i=!1;switch(t.keyCode){case r.ENTER:t.shiftKey&&(t.preventDefault(),t.stopPropagation(),this._insertNewLineAtCursor(),i=!0)}return i||n.prototype._handleKeydown.call(this,t)},t.prototype._resetPosition=function(){this._editableArea.css({top:0,left:-1e5,position:"fixed"});n.prototype._resetPosition.call(this)},t}(w);t.TextCellEditor=y;b=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getValue=function(){var n,t,i;return l.BrowserCheckUtils.isIEVersion(11)&&(i=this._editableArea.clone(),n=this._getLastHtmlTag(i),this._hasNonbreakingSpaceAtEnd(n))?(t=n.html(),n.html(t.substring(0,t.length-6)),i.html()):this._editableArea.html()},t.prototype._getLastHtmlTag=function(n){n||(n=this._editableArea);var t=n.find("p").last();return t.length===0&&(t=n.find("div").last(),t.length===0&&(t=n)),t},t.prototype._hasNonbreakingSpaceAtEnd=function(n){var t=n.html(),i=t.length;return i>=6&&t.substr(i-6)==="&nbsp;"},t.prototype.setValue=function(n,t){var i;this._editableArea.html(n);l.BrowserCheckUtils.isIEVersion(11)&&(i=this._getLastHtmlTag(),this._hasNonbreakingSpaceAtEnd(i)||i.append("&nbsp;"));t||(this._prevValue=this.getValue())},t.prototype.clearValue=function(n){n?this.setValue(""):this.setValue("&nbsp;")},t.prototype.setSize=function(n){this._editableArea.width(n.width())},t.prototype._insertNewLineAtCursor=function(){l.HtmlInsertionUtils.pasteHtmlAtCaret("<br/>")},t.prototype._attachEvents=function(){var t=this;n.prototype._attachEvents.call(this);this._bind(this._editableArea,"blur paste keyup drop",function(n){if(n.type==="drop"){n.stopPropagation();n.preventDefault();return}t._fireChangedIfNeeded();n.type==="blur"&&t.fireEndEdit()})},t.prototype._detachEvents=function(){n.prototype._detachEvents.call(this);this._unbind(this._editableArea,"blur paste keyup drop")},t.prototype._createElement=function(){n.prototype._createElement.call(this);this._decorateElement()},t.prototype._decorateElement=function(){n.prototype._decorateElement.call(this);this._element.attr("contenteditable","true")},t.prototype._handleKeydown=function(t){var i=n.prototype._handleKeydown.call(this,t);return this.getValue()==="&nbsp;"&&this.setValue(""),i},t.prototype._setCaretPositionToEnd=function(n){var a,v,i,r,c,o,u,e,t,f;if(l.BrowserCheckUtils.isIEVersion(11)){a=this._getLastHtmlTag();i=a[0].lastChild;try{i&&(document.createRange?(t=document.createRange(),f=window.getSelection(),v=$(i).text().length,t.setStart(i,v-1),t.collapse(!0),f.removeAllRanges(),f.addRange(t)):s.documentSelection&&s.documentSelection.createRange&&(s.documentSelection.empty(),t=s.documentSelection.createRange(),t.collapse(!1),t.select()))}catch(h){if(!(h instanceof DOMException))throw h;}}else{for(i=n[0],r=n.children("div").first(),c=n[0].innerText,u=n.children();u.length===1&&r.length===1&&r[0].innerText===c;)if(e=r.children("p"),o=e.first(),u=r.children(),u.length===1&&o.length===1&&o[0].innerText===c){i=o[0];break}else if(u.length===e.length&&e.text()===n.text()){i=e.last()[0];break}else r=r.children("div").first(),u=r.children();try{i&&(document.createRange?(t=document.createRange(),t.selectNodeContents(i),f=window.getSelection(),t.collapse(!1),f.removeAllRanges(),f.addRange(t)):s.documentSelection&&s.documentSelection.createRange&&(s.documentSelection.empty(),t=s.documentSelection.createRange(),t.collapse(!1),t.select()))}catch(h){if(!(h instanceof DOMException))throw h;}}},t}(y);t.RichTextCellEditor=b;k=function(n){function t(t){return n.call(this,$.extend({tagName:"input"},t))||this}return __extends(t,n),t.prototype.getValue=function(){return this._editableArea.val()},t.prototype.setValue=function(n,t){this._editableArea.val(n);t||(this._prevValue=this.getValue())},t.prototype.clearValue=function(){this.setValue("")},t.prototype.setSize=function(n){this._editableArea.width(n.outerWidth()-1);this._editableArea.height(n.outerHeight())},t.prototype._createElement=function(){n.prototype._createElement.call(this);n.prototype._decorateElement.call(this)},t.prototype._attachEvents=function(){var t=this;n.prototype._attachEvents.call(this);this._bind(this._editableArea,"blur input change keyup",function(n){t._fireChangedIfNeeded();n.type==="blur"&&t.fireEndEdit()})},t.prototype._detachEvents=function(){n.prototype._detachEvents.call(this);this._unbind(this._editableArea,"blur input change keyup")},t.prototype._setCaretPositionToEnd=function(n){var i=n.val().length,t=n[0],r;t.createTextRange?(r=t.createTextRange(),r.move("character",i),r.select()):t.selectionStart>=0&&t.setSelectionRange(i,i)},t}(y);t.PlainTextCellEditor=k;tt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return t.label&&(i._label=t.label),i}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._resetPosition()},t.prototype._populateUINodes=function(n,t){this._comboControl.setType("tree");this._comboControl.setMode("drop");var i,f,r=n.children,u;if(t?(u=o.TreeNode.create(n.name),t.add(u),t=u):t=o.TreeNode.create(n.name),r)for(i=0,f=r.length;i<f;i++)n=r[i],this._populateUINodes(n,t);return t},t.prototype._updateEditControl=function(n,t){var r=this,i;c.localeIgnoreCaseComparer("tree",t)===0?this._comboControl.setSource(function(){return i=r,$.map(n,function(n){return i._populateUINodes(n,null)})}):(u.logVerbose("updatingEditControl "+n.length),this._comboControl.setType("list"),n&&n.length>0?(this._comboControl.setMode("drop"),this._comboControl.setSource(n)):(this._comboControl.setMode("text"),this._comboControl.setSource([])))},t.prototype.getComboControl=function(){return this._comboControl},t.prototype.createIn=function(t){var u=this;n.prototype.createIn.call(this,t);this._comboControl=r.BaseControl.createIn(i.Combo,this._element,{mode:"text",change:function(){u._fireChangedIfNeeded()},label:this._label});this._resetPosition()},t.prototype._attachEvents=function(){var n=this;this._bind(this._comboControl.getElement(),"keydown blur ",function(t){t.type==="keydown"?n._handleKeydown(t)?t.stopPropagation():n._fireChangedIfNeeded():(n._fireChangedIfNeeded(),n.fireEndEdit())})},t.prototype._detachEvents=function(){this._unbind(this._comboControl.getElement(),"blur keydown")},t.prototype.setSize=function(n){this._comboControl.getElement().width(n.outerWidth()-1);this._comboControl.getElement().height(n.outerHeight())},t.prototype.setPosition=function(t,i){this._comboControl.getElement().css({top:t,left:i,position:"absolute"});n.prototype.setPosition.call(this,t,i)},t.prototype.getHeight=function(){return this._comboControl.getElement().outerHeight()},t.prototype.focus=function(){l.tryFocus(this._comboControl.getInput(),20)},t.prototype._resetPosition=function(){this._comboControl&&(this._comboControl.getElement().css({top:0,left:-1e5,position:"fixed"}),n.prototype._resetPosition.call(this))},t.prototype.getValue=function(){return this._comboControl.getInputText()},t.prototype.setValue=function(n,t){var i=!0,r,u;this._comboControl.getMode()==="drop"&&(r=this._comboControl.getBehavior().getDataSource(),u=r.getItems(),this._comboControl.getComboType()==="list"?$.inArray(n.toString(),u)<0&&(i=!1):this._comboControl.getComboType()==="tree"&&(r.root.findNode(n,"\\")||(i=!1)));i&&(this._comboControl.setInputText(n,!1),t||(this._prevValue=this.getValue()))},t.prototype.clearValue=function(){this._comboControl.setText("");this._prevValue=""},t.prototype._createElement=function(){n.prototype._createElement.call(this);n.prototype._decorateElement.call(this)},t}(w);t.ComboCellEditor=tt;d=function(){function n(n,t,i,r){this.rowInfo=n;this.columnInfo=i;this.dataIndex=t;this.columnOrder=r}return n}();t.CellInfo=d;g=function(){function n(n){this.height=n;this.isInvalid=!1}return n}();t.RowHeightInfo=g;p=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._gettingRowIntoView=!1,i._columnResizeInProgress=!1,i._selectCellOnLayoutComplete=!1,i._editableHeaderColumnClassName=".grid-header-column.editable",i._$selectedCell=null,i._inEditMode=!1,i._editRowIndex=-1,i}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._element.addClass("editable-grid");this._element.attr("aria-readonly","false")},t.prototype.initializeOptions=function(t){var i={items:v(this,this._getContextMenuItems),updateCommandStates:v(this,this._updateContextMenuCommandStates),executeAction:v(this,this._onContextMenuItemClick)};n.prototype.initializeOptions.call(this,$.extend({contextMenu:i},t))},t.prototype.getPinAndFocusElementForContextMenu=function(n){var r=this._getClickedColumnIndex(n.event),u=n.rowInfo,t,i;return t=u.row.children().eq(r),i=t.children().length>0?t.children().eq(0):this._canvas,{pinElement:t,focusElement:i}},t.prototype._getClickedColumnIndex=function(n){var t=this._getCellInfoFromEvent(n,".grid-cell");return t?t.columnOrder:0},t.prototype._onHeaderKeyDown=function(t){var i=l.KeyCode;if(t.keyCode===i.F2){this._onHeaderDblClick(t);t.preventDefault();t.stopPropagation();return}if(t.keyCode===i.DELETE){this._onDeleteHeader(t);t.preventDefault();t.stopPropagation();return}n.prototype._onHeaderKeyDown.call(this,t)},t.prototype._getNextHeaderElement=function(n){return n.next(this._editableHeaderColumnClassName)},t.prototype._getPreviousHeaderElement=function(n){return n.prev(this._editableHeaderColumnClassName)},t.prototype._getFocusableHeaderElement=function(){return this._getHeaderSortColumn(this._editableHeaderColumnClassName)},t.prototype._shouldAttachContextMenuEvents=function(){return this._options.contextMenu},t.prototype.onContextMenu=function(n){this._currentCellEditor&&this._currentCellEditor.fireEndEdit();this._showContextMenu(n)},t.prototype._getContextMenuItems=function(){return[{rank:9,id:t.Commands.CMD_INSERT_ROW,text:e.InsertRowText,title:e.InsertRowText,showText:!0},{rank:10,id:t.Commands.CMD_DELETE_ROWS,text:e.DeleteRowText,title:e.DeleteRowText,showText:!0},{rank:11,id:t.Commands.CMD_CLEAR_ROWS,text:e.ClearRowText,title:e.ClearRowText,showText:!0},]},t.prototype._updateContextMenuCommandStates=function(){},t.prototype._onContextMenuItemClick=function(n){var i=n.get_commandName(),r=this.getSelectedDataIndices(),u=this.getSelectedRowIndices();i===t.Commands.CMD_INSERT_ROW?this._onInsertRow(r,u):i===t.Commands.CMD_DELETE_ROWS?this._onDeleteRows(r,u):i===t.Commands.CMD_CLEAR_ROWS&&this._onClearRows(r,u)},t.prototype._onInsertRow=function(){},t.prototype._onDeleteRows=function(){},t.prototype._onClearRows=function(){},t.prototype.getSelectedRowIndices=function(){var n,t=this._selectedRows,i=[];if(t)for(n in t)t.hasOwnProperty(n)&&i.push(n);return i},t.prototype._drawCell=function(t,i,r,u,f,e,o){var a=this,s=n.prototype._drawCell.call(this,t,i,r,u,f,e,o),c=new d(t,i,f,o),h,l;return h=this.getColumnValue(i,f.index,o),f.isRichText?(f.isHyperLink&&h?(s.html(""),l=$("<a/>").attr("title",h).attr("id","link-"+f.index+"-"+i).text(h).click(function(){a.onHyperLinkClick(i,f.index)}),s.append(l)):this._setCellValue(s,h,!0),s.addClass("rich-text-cell")):f.getCellEditor||(s.addClass("plain-text-cell"),s.attr("title",h)),s.data("cellInfo",c),s.attr("role","gridcell"),this._areCellInfoEqual(c,this._selectedCellInfo)&&this._selectCell(s,!1,this._inEditMode,!1,!1,!0),s},t.prototype.onHyperLinkClick=function(){},t.prototype.onBeginCellEdit=function(n){this._inEditMode=!0;this._editRowIndex=n},t.prototype.onEndCellEdit=function(){this._inEditMode=!1;this.focus(10)},t.prototype.canEditCell=function(){return!0},t.prototype.onCellChanged=function(n,t,i){this._dataSource[n][t]=i},t.prototype._appendRow=function(){},t.prototype._applyColumnSizing=function(t,i,r){this._columnResizeInProgress=!0;try{n.prototype._applyColumnSizing.call(this,t,i,r);this._invalidateRowHeights()}finally{this._columnResizeInProgress=!1}},t.prototype._invalidateRowHeights=function(){},t.prototype.ensureRowSelectionWhenLayoutComplete=function(n,i){n===t.Commands.CMD_APPEND?this._onEnterKey():(i||(i=[],i.push(this._selectedIndex)),this._validateIndicesToSelect(i),this._setSelection(i),this._handleCellSelectionAfterViewPortUpdate(),n===t.Commands.CMD_INSERT_COLUMNS&&this._selectNextOrPrevCell(!0));this._dataSource.length>0?this._canvas.attr({tabIndex:"0"}):this._canvas.removeAttr("tabIndex")},t.prototype._onDeleteHeader=function(){},t.prototype._focusGrid=function(){this.focus(10)},t.prototype.whenLayoutComplete=function(n,t){this.ensureRowSelectionWhenLayoutComplete(n,t);this._focusGrid()},t.prototype._setSelection=function(n){var t;if(length=n.length,length===1)this.setSelectedRowIndex(n[0]);else for(t=0;t<length;t++)this._addSelection(n[t])},t.prototype._validateIndicesToSelect=function(n){var t;for(length=n.length,t=0;t<length;t++)n[t]<0?n[t]=0:n[t]>=this._count&&(n[t]=this._count-1)},t.prototype.onLayoutComplete=function(n,t){var i=this;this._bind("updateViewPortCompleted",function(){var r=i._rows[i._count-1];r&&i._isScrolledIntoView(r.row)&&i._onLastRowVisible(r.rowIndex);i.whenLayoutComplete(n,t);i._unbind("updateViewPortCompleted")})},t.prototype._getRowHeightInfo=function(){return new g(0)},t.prototype._setRowHeight=function(){},t.prototype._setCellValue=function(n,t,i,r){var u;t?i?(t=it.normalize(t),u=$("<div>"+t+"<\/div>").text(),n.html(t),u.trim()&&u.trim()!="&nbsp;"?n.attr("title",r||u):n.removeAttr("title"),n.find("a").attr("target","_blank")):(n.text(t),t.trim()?n.attr("title",r||t):n.removeAttr("title")):n.html("&nbsp;")},t.prototype._setColumnInfo=function(t,i){var r;n.prototype._setColumnInfo.call(this,t,i);this._columnIndexToEditorMap[t.index]||(r=t.getCellEditor?t.getCellEditor(t.index,t.text):t.isRichText?new b({cssClass:"rich-text-cell-editor-"+t.index,coreCssClass:"rich-text-cell-editor"}):new k({cssClass:"plain-text-cell-editor-"+t.index,coreCssClass:"plain-text-cell-editor"}),r&&(r.createIn(this._element),this._columnIndexToEditorMap[t.index]=r))},t.prototype.getCellEditorForColumn=function(n){return this._columnIndexToEditorMap[n]},t.prototype.getCurrentEditRowIndex=function(){return this._editRowIndex},t.prototype.layout=function(){if(!this._isLayoutInProgress){this._isLayoutInProgress=!0;try{var n;this._currentCellEditor&&this._inEditMode&&this._currentCellEditor.fireEndEdit();this._layoutInternal();this._selectedCellInfo||(n=this._element.find(".grid-cell").first(),n.length===1&&this._selectRowAndCell(n))}finally{this._isLayoutInProgress=!1;this._handleCellSelectionAfterViewPortUpdate();this.handleHeaderSelectionAfterViewPortUpdate()}}},t.prototype._layoutInternal=function(){this._measureCanvasSize();this._cleanUpRows();this._layoutContentSpacer();this._updateViewport();this._layoutHeader();this._drawHeader();this._fixScrollPos();this._setRole();u.logTracePoint("Grid.layout.complete")},t.prototype._getSelectedCellInfo=function(){return this._selectedCellInfo},t.prototype._onContainerMouseDown=function(t){this._inEditMode||n.prototype._onContainerMouseDown.call(this,t)},t.prototype._setRole=function(){var n=this.getElement();n&&this.getElement().attr("role","grid")},t.prototype._setCellEditor=function(n,t){var o=this;if(!n||!n.data("cellInfo")){u.logError("[EditableGrid/_setCellEditor] Could not find the current cell or data information for the current cell");return}var i,r=n.data("cellInfo"),f=r.columnInfo,y=r.columnOrder,p=r.rowInfo,c=r.dataIndex,e=n.offset(),s=this._element.offset(),h=e.left-s.left,l=h+n.width(),a=this._canvas[0].clientWidth,v=this._canvas.scrollLeft();if(u.logVerbose("[_setCellEditor]Start positioning the cell editor "),this._columnIndexToEditorMap[f.index])this._currentCellEditor=this._columnIndexToEditorMap[f.index];else return;return i=this.getColumnValue(c,f.index,y),this._currentCellEditor.beginEdit(i),i&&!t?this._currentCellEditor.setValue(i):this._currentCellEditor.clearValue(t),this._ignoreScroll=!0,l>a?this._canvas.scrollLeft(v+l-a):h<0&&this._canvas.scrollLeft(v+h),this._ignoreScroll=!1,e=n.offset(),this._currentCellEditor.setPosition(e.top-s.top-1,e.left-s.left),this._currentCellEditor.setSize(n),n.html("&nbsp"),n.addClass("grid-cell-edit"),this._currentCellEditor.valueChanged=function(){var n=o._currentCellEditor.getValue();o.onCellChanged(c,f.index,n)},this._currentCellEditor.endEdit=function(t){o._handleEditorEndEdit(t,n)},u.logVerbose("[_setCellEditor]Finish positioning the cell editor "),n},t.prototype._handleEditorEndEdit=function(n,t){this._handleEndEdit(t,n&&n.type==="keydown"&&n.keyCode===l.KeyCode.ESCAPE);n&&n.type==="keydown"&&this._onKeyDown(n)},t.prototype._handleEndEdit=function(n,t){var i=n.data("cellInfo"),r,u,s;i||(n=this._$selectedCell,i=this._selectedCellInfo);var o=i.columnInfo,f=i.dataIndex,h=i.columnOrder,e=this._getRowFromCell(n);this._allowCellResize(e);n.removeClass("grid-cell-edit");s=this._currentCellEditor.getHeight();r=this._currentCellEditor.getDisplayValue();u=this._currentCellEditor.getValue();this._setCellValue(n,r,o.isRichText,u);this._setRowHeight(f,e.height());this._resizeCellsInRowToHeight(e,f);this._currentCellEditor.clearValue();this.onEndCellEdit(f,o.index,r,t,u);this._inEditMode=!1;this._editRowIndex=-1},t.prototype._allowCellResize=function(n){n.find(".grid-cell").css("height","")},t.prototype._resizeCellsInRowToHeight=function(n,t){var i=this._getRowHeightInfo(t).height;i&&n.find(".grid-cell").css("height",i)},t.prototype._onKeyDown=function(t){var i;this._inEditMode||(n.prototype._onKeyDown.call(this,t),this._$selectedCell&&(t.keyCode===l.KeyCode.IME_INPUT?(i=this._$selectedCell.data("cellInfo"),this._canEdit(i)?this._editCell(this._$selectedCell,!1,!0):(t.preventDefault(),t.stopPropagation())):t.keyCode===l.KeyCode.F2&&this._editCell(this._$selectedCell,!0,!1)))},t.prototype._createFocusElement=function(){var t=n.prototype._createFocusElement.call(this);return l.BrowserCheckUtils.isIE()&&t.attr("contenteditable","true").css({top:0,left:-1e5,position:"fixed"}),t},t.prototype._selectCellForSelectedRowIndex=function(n){var i,r,t;return this._rows[this._selectedIndex]?(u.logVerbose("[_selectCellForSelectedRowIndex]Selecting cell for row index "+this._selectedIndex),i=this._rows[this._selectedIndex].row,this._$selectedCell&&(t=this._getCellForRow(i,this._selectedCellInfo.columnInfo.index),t&&(r=t.data("cellInfo"),r.dataIndex!==this._selectedCellInfo.dataIndex&&this._selectCell(t,!1,!1,!1,n))),!0):(u.logError("[_selectCellForSelectedRowIndex]The row for cell selection is not valid."),!1)},t.prototype._getCellForRow=function(n,t){var i;return n.find(".grid-cell").each(function(){var n=$(this).data("cellInfo");if(n.columnInfo.index===t)return i=$(this),!1}),i},t.prototype._onUpKey=function(t,i){n.prototype._onUpKey.call(this,t,i);this._handleCellSelectionAfterViewPortUpdate()},t.prototype._onDownKey=function(t,i){n.prototype._onDownKey.call(this,t,i);this._handleCellSelectionAfterViewPortUpdate()},t.prototype._onRightKey=function(t){n.prototype._onRightKey.call(this,t);this._selectNextOrPrevCell(!0)},t.prototype._onLeftKey=function(t){n.prototype._onLeftKey.call(this,t);this._selectNextOrPrevCell(!1)},t.prototype._selectNextOrPrevCell=function(n,t){var i;return this._$selectedCell?(i=n?this._$selectedCell.next(".grid-cell"):this._$selectedCell.prev(".grid-cell"),i.length===1?(this._selectCell(i,!1,!1,t),!0):!1):!1},t.prototype._getRowsPerPage=function(n){var u=l.KeyCode,i=this._canvas[0].clientHeight,f=this._selectedIndex,r=0,t=0;if(n.keyCode===u.PAGE_DOWN)for(t=f;t<this._count;t++){if(i-=this._getOuterRowHeight(t),i<0)break;r++}else if(n.keyCode===u.PAGE_UP)for(t=f;t>=0;t--){if(i-=this._getOuterRowHeight(t),i<0)break;r++}return r},t.prototype._onPageUpPageDownKey=function(t,i){var u=this._selectedIndex,f=l.KeyCode,r=!1;this._gettingRowIntoView||(n.prototype._onPageUpPageDownKey.call(this,t,i),t.keyCode===f.PAGE_DOWN?t.shiftKey||(r=this._scrollCanvasDown(u,this._selectedIndex-1)):t.shiftKey||(r=this._scrollCanvasUp(this._selectedIndex+1,u)),this._gettingRowIntoView=r,r?this._selectCellOnLayoutComplete=!0:this._selectCellForSelectedRowIndex())},t.prototype._onHomeKey=function(t,i){n.prototype._onHomeKey.call(this,t,i);this._handleCellSelectionAfterViewPortUpdate()},t.prototype._onEndKey=function(t,i){n.prototype._onEndKey.call(this,t,i);this._handleCellSelectionAfterViewPortUpdate()},t.prototype._handleCellSelectionAfterViewPortUpdate=function(){this._getRowIntoView(this._selectedIndex)?this._selectCellOnLayoutComplete=!0:(this.getSelectedRowIntoView(),this._selectCellForSelectedRowIndex(),this.getSelectedCellIntoView())},t.prototype.handleHeaderSelectionAfterViewPortUpdate=function(){},t.prototype._onEnterKey=function(n,t){var r=t?Math.min(this._selectedIndex+1,t.hi):Math.min(this._selectedIndex+1,this._count-1),i;if(this._isHyperLinkCell(this._selectedCellInfo)){i=this._selectedCellInfo.columnInfo;this.onHyperLinkClick(this._selectedCellInfo.dataIndex,i.index);n.preventDefault();n.stopPropagation()}else this._count===this._selectedIndex+1?(this._appendRow(),this.focus(10)):(this._clearSelection(),this._addSelection(r),this._selectCellForSelectedRowIndex(!0),this.getSelectedRowIntoView(),this.focus(10))},t.prototype._isHyperLinkCell=function(n){var t;return n?(t=n.columnInfo,t.isHyperLink?this.getColumnValue(n.dataIndex,t.index,n.columnOrder):!1):!1},t.prototype._onBackSpaceKey=function(n){if(this._$selectedCell&&this._canEdit(this._selectedCellInfo)&&!this._inEditMode){this._clearSelection();this.onCellChanged(this._selectedCellInfo.dataIndex,this._selectedCellInfo.columnInfo.index,"");this._selectRowAndCell(this._$selectedCell);this._editCell(this._$selectedCell,!0,!0)}n.preventDefault();n.stopPropagation()},t.prototype._onDeleteKey=function(){if(this._$selectedCell&&this._canEdit(this._selectedCellInfo)){this._$selectedCell.html("&nbsp;");this.onCellChanged(this._selectedCellInfo.dataIndex,this._selectedCellInfo.columnInfo.index,"");this.onEndCellEdit(this._selectedCellInfo.dataIndex,this._selectedCellInfo.columnInfo.index,"")}},t.prototype.cacheRows=function(n,t){this._lastVisibleRange=t},t.prototype._drawRows=function(n,t){var i,f=this._rows,e=n.length,s=this._canvas[0],o=!1,r=this._gridRowHolder[0];o=!f[n[0][1]]&&f[n[e-1][1]];u.logVerbose("[_drawRows]Drawing "+e+"no of rows in dom");i=this._drawRowsInternal(n,t);this._contentSpacer.height(this._heightForUpperContentSpacer);this._belowContentSpacer.height(this._heightForLowerContentSpacer);o?r.insertBefore(i.rowsFragment,r.firstChild):r.appendChild(i.rowsFragment)},t.prototype.setHeightForLowerContentSpacer=function(n){this._heightForLowerContentSpacer=n},t.prototype.setHeightForUpperContentSpacer=function(n){this._heightForUpperContentSpacer=n},t.prototype._includeNewlyInsertedRowsInViewport=function(n){var i,r,t,f=0,e=n?n.length:0;if(this._lastVisibleRange&&this._lastVisibleRange.length&&e>0){for(t=this._lastVisibleRange.length,u.logVerbose("[_includeNewlyInsertedRowsInViewport]Start: range of rows to draw = "+this._lastVisibleRange[0][1]+" to "+this._lastVisibleRange[t-1][1]),i=this._lastVisibleRange[t-1][0]+1,r=this._lastVisibleRange[t-1][1]+1;f<e;r++,i++,f++)this._lastVisibleRange[this._lastVisibleRange.length]=[i,r,];t=this._lastVisibleRange.length;u.logVerbose("[_includeNewlyInsertedRowsInViewport]Finish: range of rows to draw = "+this._lastVisibleRange[0][1]+" to "+this._lastVisibleRange[t-1][1])}},t.prototype._adjustContentSpacerHeightsPostDelete=function(){u.logVerbose("[BulkEditTestsGrid._adjustContentSpacerHeightsPostDelete] HeightDifference post delete : "+this._rowHeightsDifferencePostDelete);u.logVerbose("[BulkEditTestsGrid._adjustContentSpacerHeightsPostDelete]Start height now for upperContentspacr  : "+this._heightForUpperContentSpacer+"lowerContentSpacer : "+this._heightForLowerContentSpacer);this._rowHeightsDifferencePostDelete>0&&(this._heightForUpperContentSpacer>0&&(this._heightForUpperContentSpacer>=this._rowHeightsDifferencePostDelete?(this.setHeightForUpperContentSpacer(this._heightForUpperContentSpacer-this._rowHeightsDifferencePostDelete),this._rowHeightsDifferencePostDelete=0):(this._rowHeightsDifferencePostDelete-=this._heightForUpperContentSpacer,this.setHeightForUpperContentSpacer(0))),this._heightForLowerContentSpacer>0&&this._rowHeightsDifferencePostDelete>0&&(this._heightForLowerContentSpacer>=this._rowHeightsDifferencePostDelete?(this.setHeightForLowerContentSpacer(this._heightForLowerContentSpacer-this._rowHeightsDifferencePostDelete),this._rowHeightsDifferencePostDelete=0):(this._rowHeightsDifferencePostDelete-=this._heightForLowerContentSpacer,this.setHeightForLowerContentSpacer(0))));u.logVerbose("[BulkEditTestsGrid._adjustContentSpacerHeightsPostDelete]Finish height now for upperContentspacr  : "+this._heightForUpperContentSpacer+"lowerContentSpacer : "+this._heightForLowerContentSpacer)},t.prototype._calculateHeightForUpperContentSpacer=function(n,t){for(var i=n,f,e=this._borderHeight,r,i=1;i<=this._options.extendViewportBy;i++)r=n-i,r>=0&&(f=this._getOuterRowHeight(r),t-=f);r<=0?this.setHeightForUpperContentSpacer(0):this.setHeightForUpperContentSpacer(t);u.logVerbose("[_calculateHeightForUpperContentSpacer]The height for upper content spacer is "+this._heightForUpperContentSpacer)},t.prototype._calculateHeightForLowerContentSpacer=function(n,t,i){for(var r=n,f,e,r=1;r<=this._options.extendViewportBy;r++)f=n+r,f<this._count&&(e=this._getOuterRowHeight(f),t+=e);f<this._count&&i>t?this.setHeightForLowerContentSpacer(i-t):this.setHeightForLowerContentSpacer(0);u.logVerbose("[_calculateHeightForLowerContentSpacer]The height for lower content spacer is "+this._heightForLowerContentSpacer)},t.prototype._getOuterRowHeight=function(n){var t=this._getRowHeightInfo(n).height;return t?t+=this._borderHeight:t=this._emptyRowOuterHeight,t},t.prototype._addSpacingElements=function(){n.prototype._addSpacingElements.call(this);this._gridRowHolder=$(nt("div","grid-row-holder"));this._belowContentSpacer=$(nt("div","grid-content-spacer-below"));this._canvas.append(this._gridRowHolder);this._canvas.append(this._belowContentSpacer)},t.prototype.getSelectedCellIntoView=function(){if(this._getSelectedCellInfo()&&this._columns.length>0){for(var s=this._canvas[0].scrollHeight,r=this._scrollLeft,o=this._getSelectedCellInfo().columnInfo.index,f=r+this._canvas[0].clientWidth,t=0,u=0,n,i=0,e=this._columns.length;i<e;i++)if(n=this._columns[i],n.width&&n.index!==o)t+=n.width;else break;if(u=t+n.width,t<r)return this._canvas[0].scrollLeft=t,!0;if(u>f)return this._canvas[0].scrollLeft=r+u-f,!0}return!1},t.prototype._getVisibleRowIndices=function(){return this._getVisibleRowIndicesAndDoCalculations()},t.prototype._getVisibleRowIndicesAndDoCalculations=function(){var f=this._scrollTop,e=this._canvas[0].scrollHeight,t,s=f+this._canvas[0].clientHeight,r=-1,o=-1,i,h=this._borderHeight,n;if(!this._isLayoutInProgress){for(t=0,n=0;n<this._count;n++){if(i=this._getOuterRowHeight(n),r==-1&&t+i>=f)r=n,this._calculateHeightForUpperContentSpacer(n,t);else if(n===this._count-1||t+i>=s){o=n;this._calculateHeightForLowerContentSpacer(n,t+i,e);break}t+=i}u.logVerbose("[_getVisibleRowIndicesAndDoCalculations]Total height"+e+",sum of height of all rows till in view "+t)}return{first:r,last:o}},t.prototype._layoutContentSpacer=function(){for(var n=0,r=this._columns,i,t=0,u=r.length;t<u;t++)r[t].hidden||(n+=(r[t].width||20)+this._cellOffset);n=n+2;this._contentSpacer.width(n);this._ignoreScroll=!0;try{i=Math.max(0,Math.min(this._scrollLeft,n-this._canvasWidth));i!==this._scrollLeft&&(this._scrollLeft=i,this._canvas[0].scrollLeft=i)}finally{this._ignoreScroll=!1}this._contentSize.width=n},t.prototype._onCanvasScroll=function(n){return this._currentCellEditor&&this._currentCellEditor.fireEndEdit(),this.cancelDelayedFunction("onScroll"),this.delayExecute("onScroll",10,!0,v(this,this._onScroll,n)),!1},t.prototype._onScroll=function(t){u.logVerbose("[_onScroll]Delayed execution start");var r=n.prototype._onCanvasScroll.call(this,t),i=this._rows[this._count-1];return i&&this._isScrolledIntoView(i.row)&&this._onLastRowVisible(i.rowIndex),u.logVerbose("[_onScroll]Delayed execution finished"),r},t.prototype._onLastRowVisible=function(){},t.prototype._isScrolledIntoView=function(n){var t=$(window).scrollTop(),r=t+$(window).height(),i=n.offset().top,u=i+n.height();return u<=r&&i>=t},t.prototype._tryFinishColumnSizing=function(t){this._currentCellEditor&&this._currentCellEditor.fireEndEdit();n.prototype._tryFinishColumnSizing.call(this,t)},t.prototype._onContainerResize=function(t){this._currentCellEditor&&this._currentCellEditor.fireEndEdit();n.prototype._onContainerResize.call(this,t)},t.prototype._selectRowAndCell=function(n,t){var r=this._getRowFromCell(n),i;i=n.data("cellInfo");this._selectRow(i.rowInfo.rowIndex,i.dataIndex);this._selectCell(n,!1,!1,t)},t.prototype.getSelectedCell=function(){return this._$selectedCell},t.prototype.selectSameRowNthCell=function(n,t){var i,r;return(i=this._$selectedCell.parent(".grid-row"),i.length===1&&(r=i.children(".grid-cell").eq(n),r.length>0))?(this._selectRowAndCell(r,t),!0):!1},t.prototype._selectNextRowNthCell=function(n,t){var i,r;return i=this._$selectedCell.parent(".grid-row").next(".grid-row"),i.length===1?(r=i.children(".grid-cell").eq(n),this._selectRowAndCell(r,t),!0):!1},t.prototype._selectPrevRowLastCell=function(n){var t,i;return t=this._$selectedCell.parent(".grid-row").prev(".grid-row"),t.length===1?(i=t.children(".grid-cell").last(),this._selectRowAndCell(i,n),!0):!1},t.prototype._selectNextRowFirstCell=function(n){return this._selectNextRowNthCell(0,n)},t.prototype._areEqual=function(n,t){var i,r;return!n||!t?!1:(i=n.data("cellInfo"),r=t.data("cellInfo"),!i||!r)?!1:i.dataIndex===r.dataIndex&&i.columnInfo.index===r.columnInfo.index},t.prototype._onKeyPress=function(n){if(this._$selectedCell&&!this._inEditMode&&this._isChar(n)){var t=this._$selectedCell.data("cellInfo");this._canEdit(t)?this._editCell(this._$selectedCell,!1,!0,n.charCode):(n.preventDefault(),n.stopPropagation())}},t.prototype._isChar=function(n){return n.which===null||n.which>0&&n.charCode>0&&n.charCode!==l.KeyCode.ENTER&&!n.ctrlKey&&!n.altKey},t.prototype._onRowDoubleClick=function(t){var i=this._getCellFromEvent(t,".grid-cell");this._inEditMode||(n.prototype._onRowDoubleClick.call(this,t),i.length>0&&this._editCell(i,!0,!1))},t.prototype._cleanUpGrid=function(){this.cancelDelayedFunction("onScroll");this._cleanUpRows();this._currentCellEditor=null;this.setHeightForUpperContentSpacer(0);this.setHeightForLowerContentSpacer(0);this._contentSpacer.height(this._heightForUpperContentSpacer);this._belowContentSpacer.height(this._heightForLowerContentSpacer);this._lastVisibleRange=[];this._emptyRowOuterHeight=0;this._borderHeight=0;this._deleteEditors()},t.prototype._deleteEditors=function(){for(var t,n=0,i=this._columns.length;n<i;n++)t=this.getCellEditorForColumn(this._columns[n].index),t&&t.dispose();this._columnIndexToEditorMap={}},t.prototype._editCell=function(n,t,i,r){var e=this,f;if(!n){u.logError("[EditableGrid/_editCell] could not find the current cell");return}f=n.data("cellInfo");this._canEdit(f)&&(t?(this._getRowIntoView(f.dataIndex),this.getSelectedCellIntoView(),s.delay(this,50,function(){e._editCellInternal(n,f,i,r)})):this._editCellInternal(n,f,i,r))},t.prototype._editCellInternal=function(n,t,i,r){this.onBeginCellEdit(t.dataIndex,t.columnInfo.index);this._setCellEditor(n,i);i&&r&&l.BrowserCheckUtils.isFirefox()&&this._currentCellEditor.setValue(String.fromCharCode(r),!0);this._currentCellEditor.focus()},t.prototype._canEdit=function(n){return n&&n.columnInfo.canEdit&&this.canEditCell(n.dataIndex,n.columnInfo.index)},t.prototype._onRowMouseDown=function(t){var i=this,r=this._getCellFromEvent(t,".grid-cell"),u=this._getRowFromEvent(t,".grid-row");n.prototype._onRowMouseDown.call(this,t);this.focus();s.delay(this,0,function(){i._selectCell(r,!0,!1,!1,!1,!(t.which===1))})},t.prototype._onRowClick=function(){},t.prototype._getRowFromCell=function(n){return n.closest(".grid-row")},t.prototype._getRowFromEvent=function(n,t){return $(n.target).closest(t)},t.prototype._areCellInfoEqual=function(n,t){return!n||!t?!1:n.dataIndex===t.dataIndex&&n.columnInfo.index===t.columnInfo.index},t.prototype.onCellSelectionChanged=function(n,t){var i=n?n.data("cellInfo"):this._getSelectedCellInfo(),r,u;i&&(r=i.columnInfo.index,u=this.getCellEditorForColumn(r),i.columnInfo.editOnSelect&&this._editCell(n,t,!1))},t.prototype._selectCell=function(n,t,i,r,u,f){var e;if(n.length>0&&n.data("cellInfo")&&(this._currentCellEditor&&this._inEditMode&&!i&&this._currentCellEditor.fireEndEdit(),this._$selectedCell&&this._$selectedCell.removeClass("grid-cell-selected"),n.addClass("grid-cell-selected"),this._$selectedCell=n,this._selectedCellInfo=n.data("cellInfo"),t||this.getSelectedRowIntoView(),r||(e=this.getSelectedCellIntoView()),!f))this.onCellSelectionChanged(n,u||e)},t.prototype._getCellFromEvent=function(n,t){return $(n.target).closest(t)},t.prototype._getCellInfoFromEvent=function(n,t){return this._getCellFromEvent(n,t).data("cellInfo")},t.prototype._updateViewport=function(t){this._isLayoutInProgress?this._lastVisibleRange&&this._lastVisibleRange.length&&this._drawRows(this._lastVisibleRange,t):n.prototype._updateViewport.call(this,t);this._fire("updateViewPortCompleted",{});this.postUpdateViewPort()},t.prototype.postUpdateViewPort=function(){this._selectCellOnLayoutComplete&&(u.logVerbose("[EditableGrid._updateViewPort]Selecting cell after the layout is complete."),this._selectCellForSelectedRowIndex()&&(this._selectCellOnLayoutComplete=!1));this._gettingRowIntoView=!1},t.prototype._ensureRowDrawn=function(n){var t,i=0,r,e=this._borderHeight,u,f;if(n>=0&&n<this._count&&!this._rows[n]){for(u=this._canvas[0].scrollHeight,f=this._canvas[0].clientHeight,t=0;t<n;t++)r=this._getOuterRowHeight(t),i+=r;return this._canvas[0].scrollTop=Math.min(i,u-f),!0}return!1},t.prototype._getRowIntoView=function(n){var u,t,i,r=!1;if(!this._gettingRowIntoView)return u=this._getVisibleRowIndices(),t=u.first,i=u.last,(n<=t||n>=i)&&(n<=t&&t>=0?r=this._scrollCanvasUp(n,t):n>=i&&i>=0&&(r=this._scrollCanvasDown(i,n))),this._gettingRowIntoView=r,r},t.prototype._getRowHeightBetweenRows=function(n,t){for(var i=0,r=0,i=n;i<=t;i++)r+=this._getOuterRowHeight(i);return r},t.prototype._scrollCanvasUp=function(n,t){var i=this._getRowHeightBetweenRows(n,t),r=this._canvas[0].scrollTop;return this._canvas[0].scrollTop-=i,this._canvas[0].scrollTop!==r},t.prototype._scrollCanvasDown=function(n,t){var i=this._getRowHeightBetweenRows(n,t),r=this._canvas[0].scrollTop;return this._canvas[0].scrollTop+=i,this._canvas[0].scrollTop!==r},t.prototype.updateRows=function(n){var t,i;for(n||(n=this.getSelectedDataIndices()),i=n.length,t=0;t<i;t++)this._rows[n[t]]&&this._updateRow(this._rows[n[t]],n[t],n[t],null,null)},t.prototype._updateRow=function(n,t,i,r,u,f,e){var o,l,v,s,y,a,h,p=!1,c;for(v=this._indentIndex,o=n.row,o.empty(),l=o.get(0),l.style.width=isNaN(this._contentSize.width)?"":this._contentSize.width+1+"px",a=this._columns,s=0,y=a.length;s<y;s++)(h=a[s],h.hidden)||(c=h.getCellContents.apply(this,[n,i,r,u,h,v,s,]),c&&(l.appendChild(c[0]),this._isCellEmpty(c)||(p=!0)));p?this._updateRowAndCellHeights(i,o,e):this._emptyRowOuterHeight||this._getEmptyRowOuterHeight(i,o);this._resizeCellsInRowToHeight(o,i);this._updateRowSelectionStyle(n,this._selectedRows,this._selectedIndex);this._updateRowStyle(n)},t.prototype._updateRowStyle=function(){},t.prototype._isCellEmpty=function(n){return n.text().trim()||n.html()!="&nbsp;"?!1:!0},t.prototype._getEmptyRowOuterHeight=function(n,t){var i=t.clone(),r;i[0].style.visibility="hidden";this._canvas.append(i);r=i.outerHeight();this._emptyRowOuterHeight=r;this._borderHeight||(this._borderHeight=Math.ceil(r-i.height()));i.remove()},t.prototype._updateRowAndCellHeights=function(n,t,i){var r=t.clone(),u;(!this._getRowHeightInfo(n).height||this._getRowHeightInfo(n).isInvalid||this._columnResizeInProgress||i)&&(r[0].style.visibility="hidden",this._canvas.append(r),u=r.height(),this._setRowHeight(n,u),this._borderHeight||(this._borderHeight=Math.ceil(r.outerHeight()-u)),r.remove())},t.prototype._clearSelections=function(){n.prototype._clearSelection.call(this);this._selectedIndex=0;this._$selectedCell=null;this._selectedCellInfo=null},t.prototype._fireEndEdit=function(){this._currentCellEditor&&this._currentCellEditor.fireEndEdit()},t.Commands={CMD_APPEND:"append-rows",CMD_CUT:"cut-rows",CMD_COPY:"copy-rows",CMD_PASTE:"paste-rows",CMD_INSERT_ROW:"insert-row",CMD_DELETE_ROWS:"delete-rows",CMD_CLEAR_ROWS:"clear-rows",CMD_INSERT_COLUMNS:"insert-columns",CMD_DELETE_COLUMNS:"delete-columns",CMD_RENAME_COLUMN:"rename-column"},t}(f.GridO);t.EditableGrid=p;a.initClassPrototype(p,{_columnIndexToEditorMap:{}});r.Enhancement.registerJQueryWidget(p,"editableGrid");a.tfsModuleLoaded("VSS.UI.Controls.EditableGrid",t)});

define("Presentation/Scripts/TFS/Controls/IdentityPickerCellEditors",["require","exports","VSS/Controls","VSS/Controls/EditableGrid","VSS/Identities/Picker/Controls","VSS/Utils/Core","VSS/Utils/UI"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.CommonIdentityPickerCellEditor=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.getPreDropdownRender=null,t.getCustomTooltip=null,t}return __extends(t,n),t.prototype.getScope=function(){return null},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._resetPosition()},t.prototype.getIdentityPickerControl=function(){return this._identityPickerControl},t.prototype._getPrevDisplayName=function(n){if(n){var t=n.indexOf("<");t>1&&(n=n.substring(0,t-1))}return n},t.prototype.createIn=function(r){var f=this,e,o;n.prototype.createIn.call(this,r);e={IMS:!0};o={User:!0};this._rootDiv=$("<div/>").addClass("common-identity-picker-cell-editor").appendTo(this._element).css("position","fixed");this._identityPickerControl=i.create(u.IdentityPickerSearchControl,this._rootDiv,{container:this._rootDiv,operationScope:e,identityType:o,multiIdentitySearch:!1,showContactCard:!1,showMruTriangle:!1,consumerId:this.getIdentityPickerConsumerId(),callbacks:{onInputBlur:function(){var n=f._identityPickerControl.getElement().children().val(),i=f._getPrevDisplayName(f._prevValue);n!==i&&(f._prevValue="",f._fire(t.INPUT_CHANGED_EVENT,null))},preDropdownRender:this.getPreDropdownRender,getCustomTooltip:this.getCustomTooltip},getFilterByScope:function(){return f.getScope()}});this._resetPosition()},t.prototype.setSize=function(n){this._rootDiv.width(n.outerWidth()-1);this._rootDiv.height(n.outerHeight())},t.prototype.setPosition=function(t,i){this._rootDiv.css({top:t,left:i,position:"absolute"});n.prototype.setPosition.call(this,t,i)},t.prototype.getHeight=function(){return this._rootDiv.outerHeight()},t.prototype._resetPosition=function(){this._identityPickerControl&&(this._rootDiv.css({top:0,left:-1e5,position:"fixed"}),n.prototype._resetPosition.call(this))},t.prototype.getValue=function(){var n=this._identityPickerControl.getIdentitySearchResult();if(n&&n.resolvedEntities&&n.resolvedEntities.length>0){var t=n.resolvedEntities[0].signInAddress,i=n.resolvedEntities[0].displayName,r=n.resolvedEntities[0].scopeName;return t.indexOf("@")===-1&&r?i+" <"+r+"\\"+t+">":i+" <"+t+">"}return this._prevValue},t.prototype.getDisplayValue=function(){var n=this._identityPickerControl.getIdentitySearchResult();return n&&n.resolvedEntities&&n.resolvedEntities.length>0?n.resolvedEntities[0].displayName:this._getPrevDisplayName(this._prevValue)},t.prototype.setValue=function(n){this._prevValue=n;this._identityPickerControl.getElement().children().val(this._getPrevDisplayName(n));this.focus()},t.prototype.clearValue=function(){this._identityPickerControl.clear();this._prevValue=""},t.prototype._attachEvents=function(){var n=this;this._bind(this._identityPickerControl.getElement(),"keydown ",function(t){t.type==="keydown"?f.delay(n,100,function(){n._handleKeydown(t)}):(n._fireChangedIfNeeded(),n.fireEndEdit())})},t.prototype._detachEvents=function(){this._unbind(this._identityPickerControl.getElement(),"keydown")},t.prototype.focus=function(){this._identityPickerControl.getElement().children().on("focus",function(){$(this).select()});this._identityPickerControl.getElement().children().on("mouseup",function(n){return n.preventDefault()});e.tryFocus(this._identityPickerControl.getElement().children(),20)},t.prototype._createElement=function(){n.prototype._createElement.call(this);n.prototype._decorateElement.call(this)},t.INPUT_CHANGED_EVENT="identity-picker-input_changed",t}(r.CellEditor);t.CommonIdentityPickerCellEditor=o});

define("TestManagement/Scripts/TFS.TestManagement.BulkEditTestsViewModel",["require","exports","Presentation/Scripts/TFS/Generated/TFS.TestManagement.Constants","Presentation/Scripts/TFS/TFS.Core.Utils","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.UI.Controls.Identities","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","TestManagement/Scripts/TFS.TestManagement.PageHelper","TestManagement/Scripts/Resources/TFS.Resources.TestManagement","TestManagement/Scripts/TFS.TestManagement","TestManagement/Scripts/TFS.TestManagement.Utils","VSS/Controls","VSS/Diag","VSS/Controls/EditableGrid","VSS/Events/Document","VSS/Events/Handlers","VSS/Identities/Picker/Controls","VSS/Identities/Picker/Services","VSS/Controls/Menus","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","VSS/Controls/Dialogs","Presentation/Scripts/TFS/Controls/IdentityPickerCellEditors","VSS/Utils/Html","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemManager","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){var wt,ht,yt,pt,kt;Object.defineProperty(t,"__esModule",{value:!0});t.BulkEditTestsGrid=t.WorkItemFieldCommonIdentityPickerCellEditor=t.WorkItemFieldComboCellEditor=t.BulkEditTestsViewModel=t.ClipboardDataInfo=t.RowViewModel=void 0;var at=g.delegate,dt=c.TestCaseCategoryUtils,vt=c.WorkItemUtils,lt=h.DAUtils,ct=function(){function n(n,t,i,r,u,f,e,o,s){this.testCaseTitle=n||"";this.action=i||"";this.expectedResult=r||"";this.additionalFields=s||{};this.actionId=t;this.isTestCase=f;this.testCase=u||null;this.isSharedStep=e;this.refId=o}return n.prototype.canEdit=function(n){return this.testCase?n==="testCaseTitle"?this.isTestCase:n==="action"||n==="expectedResult"?!this.isTestCase&&!this.isSharedStep:this.isTestCase:!0},n.prototype.isEmptyRow=function(){return!this.testCaseTitle&&!this.action&&!this.expectedResult},n.prototype.getValue=function(n){var t,i,r;return n==="id"?this.testCase&&this.isTestCase&&this.testCase.getId()>0?this.testCase.getId():"":n==="action"||n==="expectedResult"?(t=this[n],t&&t.trim()&&(i=$(h.HtmlUtils.wrapInDiv(ft.HtmlNormalizer.normalize(t))),i.text().trim()!==""&&(r=i.find("p"),r.length>1)))?(h.HtmlUtils.replaceEmptyParagraphTagsWithNbsp(r),i.html()):t:this.additionalFields.hasOwnProperty(n)?this.additionalFields[n]:this[n]},n.prototype.setRowHeight=function(n){this._rowHeight?(this._rowHeight.height=n,this._rowHeight.isInvalid=!1):this._rowHeight=new v.RowHeightInfo(n)},n.prototype.getRowHeightInfo=function(){return this._rowHeight?this._rowHeight:new v.RowHeightInfo(0)},n.prototype.invalidateRowHeight=function(){this._rowHeight||(this._rowHeight=new v.RowHeightInfo(0));this._rowHeight.isInvalid=!0},n}();t.RowViewModel=ct;wt=function(){function n(n){this._gridColumns=n}return n.prototype.getData=function(){return this._clipboardData.slice(0)},n.prototype.setData=function(n){for(var i=[],r,u=n.length,t=0;t<u;t++)r=new ct(n[t].testCaseTitle,n[t].actionId,n[t].action,n[t].expectedResult,n[t].testCase,n[t].isTestCase,n[t].isSharedStep,n[t].refId,n[t].additionalFields),i.push(r);this._clipboardData=i},n.prototype.toPlainText=function(t,i){var c,r,l,u,o,h,a=this._hasTestCaseRow(),f="",e;if(this._clipboardData)for(c=this._clipboardData.length,e=0;e<c;e++)e>0&&(f+="\r\n"),r=this._clipboardData[e],u=this._getTextContent(r.getValue("id")),u!==""&&(u=nt.format("{0}:{1}",s.IdColumnName,u)),l=r.getValue("testCaseTitle"),o=this._getTextContent(r.getValue("action")),o=n._formatStringInExcelFormat(o),h=this._getTextContent(r.getValue("expectedResult")),h=n._formatStringInExcelFormat(h),a&&i&&(f+=u+"\t"),f+=l+"\t"+o+"\t"+h,(r.isTestCase||!r.isTestCase&&!r.testCase)&&t&&t.length>0&&(f+=this._getTextForAdditionalProps(r,t));return f},n.prototype._getTextForAdditionalProps=function(n,t){for(var u="",i,r=0,r=0,f=t.length;r<f;r++)i=n.getValue(t[r]),i===0||i||(i=""),u+="\t"+i;return u},n._formatStringInExcelFormat=function(n){var t=n;return t=t.replace(/\r\n/g,"\n"),t.indexOf("\n")>=0&&(t=t.replace(/"/g,'""'),t='"'+t+'"'),t},n._getInnerTextFromHtmlElement=function(n){var t;try{t=$(n)[0].innerText}catch(i){t=$(h.HtmlUtils.wrapInDiv(ft.HtmlNormalizer.normalize(n)))[0].innerText}return t},n.prototype._getTextContent=function(t){return/^<div*>/i.test(t)?n._getInnerTextFromHtmlElement(t):$(h.HtmlUtils.wrapInDiv(ft.HtmlNormalizer.normalize(t)))[0].innerText},n.prototype.hasTitleRow=function(){for(var t,i=this._clipboardData.length,n=0;n<i;n++)if(t=this._clipboardData[n],t.getValue("testCaseTitle")!=="")return!0;return!1},n.prototype.setGridColumns=function(n){this._gridColumns=n},n.prototype.hasData=function(){return this._clipboardData&&this._clipboardData.length>0},n.prototype.getClipboardDataFromPlainText=function(t,i){var h=[],f,e,r,o,u;if(a.logVerbose("[ClipboardDataInfo.getClipboardDataFromPlainText] clipboardText = "+t),t){if(u=t.split("\r\n"),e=u.length,e>201)return alert(s.ClipboardDataPasteInChunks),null;for(r=0;r<e;r++)if(u[r]!=="")if(f=this._createRowViewModelFromClipboardText(u[r],i),f)h.push(f);else return alert(s.ClipboardDataInvalidFormat),null;return o=new n(this._gridColumns),o.setData(h),o}},n.prototype._createRowViewModelFromClipboardText=function(n,t){var i,f=new ct,e,s,r,u,o;if(a.logVerbose("[ClipboardDataInfo._createRowViewModelFromClipboardText] clipboardText = "+n),a.logVerbose("[ClipboardDataInfo._createRowViewModelFromClipboardText] columnOrder = "+t.columnOrder),i=n.split("\t"),i){if(o=i.length,o>this._getColumnsFromCurrentExcludingIdColumn(t.columnOrder)+1)return null;for(s=t.columnOrder,r=0;r<o;r++)i[r].indexOf("\n")>=0&&i[r][0]==='"'&&i[r][i[r].length-1]==='"'&&(i[r]=i[r].substr(1,i[r].length-2),i[r]=i[r].replace(/""/g,'"'));for(r=s,u=0;u<o&&r<this._gridColumns.length;r++)this._isIdColumn(this._gridColumns[r].index)||(this._gridColumns[r].isMultiLine||(i[u]=i[u].replace(/\n/g," ")),this._gridColumns[r].isRichText&&(i[u]=nt.htmlEncode(i[u]),i[u]=i[u].replace(/\n/g,"<br />")),e=this._gridColumns[r].index,f.hasOwnProperty(e)?f[e]=i[u++]:f.additionalFields[e]=i[u++]);return f}return null},n.prototype._isIdColumn=function(n){return kt._idColumn.index===n},n.prototype._getColumnsFromCurrentExcludingIdColumn=function(n){for(var r=this._gridColumns.length,i=0,t=n;t<r;t++)this._isIdColumn(this._gridColumns[t].index)||i++;return i},n.prototype._hasTestCaseRow=function(){var n,t,i;if(this._clipboardData)for(t=this._clipboardData.length,n=0;n<t;n++)if(i=this._clipboardData[n],i.getValue("id")!=="")return!0;return!1},n}();t.ClipboardDataInfo=wt;var bt=function(){function n(n,t){this._bulkEditViewModel=n;this._clipboardData=t}return n.prototype._canPerform=function(){return!0},n.prototype._copyToClipboard=function(n){var t=$.map(this._bulkEditViewModel.getAdditionalWorkItemFields(),function(n){return n.referenceName}),i;a.logVerbose("[ClipboardAction._copyToClipboard] Started copying data to clipboard");i=it.globalProgressIndicator.actionStarted("copyToClipboard");window.clipboardData?window.clipboardData.setData("Text",this._clipboardData.toPlainText(t,n.altKey)):n.originalEvent.clipboardData?n.originalEvent.clipboardData.setData("Text",this._clipboardData.toPlainText(t,n.altKey)):navigator&&navigator.clipboard?navigator.clipboard.writeText(this._clipboardData.toPlainText(t,n.altKey)):this.copyToClipboardDirectly(this._clipboardData.toPlainText(t,n.altKey));it.globalProgressIndicator.actionCompleted(i);a.logVerbose("[ClipboardAction._copyToClipboard] Done with copying data to clipboard");n&&(n.preventDefault(),n.stopPropagation())},n.prototype.copyToClipboardDirectly=function(n){if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=n;t.style.position="fixed";document.body.appendChild(t);t.select();try{return document.execCommand("copy")}catch(i){return!1}finally{document.body.removeChild(t)}}},n}(),gt=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.copy=function(n,t){for(var u=n.length,f=this._bulkEditViewModel.getDataSource(),r=[],i=0;i<u;i++)r.push(f[n[i]]);this._clipboardData.setData(r);this._copyToClipboard(t)},t}(bt),ni=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype._canPerform=function(n){for(var r=n.length,i,u=this._bulkEditViewModel.getDataSource(),t=0;t<r;t++)if(i=u[n[t]],i.isTestCase&&i.getValue("id")!=="")return!1;return!0},t.prototype.cut=function(n,t){if(this._canPerform(n)){for(var u=n.length,i=void 0,f=this._bulkEditViewModel.getDataSource(),r=[],i=0;i<u;i++)r.push(f[n[i]]);this._clipboardData.setData(r);this._bulkEditViewModel.deleteRows(n);this._copyToClipboard(t)}},t}(bt),ti=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype._canPerform=function(n,t){var i=!1,r=!1;return this._clipboardData.hasData()&&n.length===1&&(t.isTestCaseSelected&&this._clipboardData.hasTitleRow()?(i=!1,r=!0):t.isTestStepSelected&&this._bulkEditViewModel.isTestStep(n[0]+1)&&this._clipboardData.hasTitleRow()?(i=!1,r=!0):i=!0),!i&&r&&alert(s.BulkEditPasteError),i},t.prototype.paste=function(n,t,i,r){var c=this,f,p=this._bulkEditViewModel.getDataSource(),l=p[n[0]],e,o,s,h=[],y=!1,u;if(y=this._setClipboardDataIfChanged(i,r),y)return!1;if(this._canPerform(n,t)){for(a.logVerbose("[ClipboardAction._copyToClipboard] Started pasting data from clipboard"),f=this._clipboardData.getData(),s=f.length,o=function(n,t){a.logVerbose("[ClipboardAction._copyToClipboard] Completed pasting data from clipboard");c._bulkEditViewModel.updated&&c._bulkEditViewModel.updated(n,t)},e=l.isEmptyRow()?n[0]-1:n[0],u=0;u<s;u++)h.push(e+u+1);if(t.isTestStepSelected&&this._bulkEditViewModel.isTestStep(n[0]+1)||t.isTestCaseSelected)this._bulkEditViewModel.insertTestSteps(e+1,f,l.testCase,!0,function(){o(ht.insertTestStep,h)});else{for(u=0;u<s;u++)this._bulkEditViewModel.insertRow(e+u+1,!1,1,f[u],!0);o(v.EditableGrid.Commands.CMD_INSERT_ROW,h);this._bulkEditViewModel.setRowsDirty()}return!0}return!1},t.prototype._setClipboardDataIfChanged=function(n,t){var r,u,i,f=$.map(this._bulkEditViewModel.getAdditionalWorkItemFields(),function(n){return n.referenceName});return(t&&t.clipboardDataText?i=t.clipboardDataText:window.clipboardData?i=window.clipboardData.getData("Text"):t&&(i=t.originalEvent.clipboardData.getData("Text")),r=this._clipboardData.getClipboardDataFromPlainText(i,n),r===null)?!0:(u=this._clipboardData.toPlainText(f),a.logVerbose("[_setClipboardDataIfChanged] New ClipboardData "+i),a.logVerbose("[_setClipboardDataIfChanged] Current ClipboardData "+u),i&&r&&i!==u&&this._clipboardData.setData(r.getData()),!1)},t}(bt),ii=function(){function n(){this._doNotRaiseWorkItemChangedEvent=!1;this._minRowCount=100;this._refreshInProgress=!1;this._pagingInProgress=!1;this._isTestCaseDialogOpen=!1;this._refreshOnStartup=!1;this._workItemType=null;this._sharedStepCache={};this._sessionId=0;this._additonalWorkItemFields=[];this._totalTestsInSuite=0}return n.prototype.initialize=function(n,t,r,u,f,o,s,h,l,a){var y=this,v;c.CommonIdentityPickerHelper.getFeatureFlagState();this._plan=t;this._currentTeamFieldInfo=r;this._suite=u;this._isSuiteLevel=f;this._testCaseHasTeamField=h;this._testCaseDataToPage=[e.CoreFieldRefNames.Id,e.CoreFieldRefNames.Rev,e.CoreFieldRefNames.Title,e.CoreFieldRefNames.AreaPath,i.WorkItemFieldNames.Actions];this._additonalWorkItemFields=s||[];this._totalTestsInSuite=o;this._totalTestsShown=n.length;this._isDirtyCallback=l;this._refreshOnStartup=a;this._initialTestCases=n;s&&(this.onColumnOptionsAdded(),this._mergeFixedAndAdditionalFieldsList());this._beginPopulateGrid(n);v=ot.WorkItemManager.get(vt.getWorkItemStore());this._workItemType===null&&(dt.getDefaultWorkItemTypeInfoForTestCaseCategory(function(n){y._workItemType=n;y._dummyWorkItem=v.createWorkItem(n);v.removeWorkItem(y._dummyWorkItem)}),vt.getWorkItemStore().beginGetLinkTypes(function(){}));v.attachWorkItemChanged(at(this,this._workItemChanged))},n.prototype.getTotalTestsShown=function(){return this._totalTestsShown},n.prototype.getTotalTestsInSuite=function(){return this._totalTestsInSuite},n.prototype._mergeFixedAndAdditionalFieldsList=function(){for(var t=this._testCaseDataToPage.length,n=0,t=this._additonalWorkItemFields.length;n<t;n++)this._testCaseDataToPage.push(this._additonalWorkItemFields[n].referenceName);this._testCaseDataToPage=d.unique(this._testCaseDataToPage)},n.prototype.getAdditionalWorkItemFields=function(){return this._additonalWorkItemFields},n.prototype.setRequirement=function(n){this._requirement=n},n.prototype._beginPopulateGrid=function(n,t,i){var u=this;this._records=[];this._cachedTestCases=[];this._testCases=[];this._setIsDirtyState(!1);this._showParamDeleteWarning=!0;this._sharedStepIdToTitleMap=new r.Dictionary;this._pagingInProgress=!1;this._sessionId++;this._pageHelper=null;this._doNotRaiseWorkItemChangedEvent=!1;n&&n.length!==0?(lt.trackAction("BulkEditWithTestCases","/BulkEntry",{testCaseCount:n.length}),this._pageHelper=new o.PageHelper(n),this._records=[],a.logVerbose("Fetching first page"),this._beginPageTestCases(function(){a.logVerbose("First page is fetched");u.initialized&&u.initialized();u._beginAppendCachedTestCases(t)},i)):(lt.trackAction("BulkEntryWithNoTestCases","/BulkEntry"),this._populateDefaultGridData(),this.initialized&&this.initialized(),this.updated&&this.updated(ht.pageTestCases),t&&t())},n.prototype._appendEmptyRowsIfNeeded=function(n){var t=this._records.length;if(t<this._minRowCount){for(a.logVerbose("[_appendEmptyRowsIfNeeded]There are fewer than "+this._minRowCount+". Appending the extra rows");t<this._minRowCount;t++)this._records.push(new ct);this.updated&&!n&&this.updated(ht.pageTestCases)}},n.prototype._beginPageTestCases=function(n,t){var i=this,r;if(this._pagingInProgress){a.logVerbose("[_beginPageTestCases]There is a paging currently in progress. Will not attempt paging.");return}this._pageHelper&&this._pageHelper.canPage()&&(lt.trackAction("PageTestCases","/BulkEntry"),r=this._pageHelper.getIdsToFetch(),this._pagingInProgress=!0,this._beginFetchTestCases(r,this._plan.id,this._suite.id,this._sessionId,function(t){var r=0,u=t.length;try{for(a.logVerbose("[_beginPageTestCases]Fetched "+t.length+" test cases"),r=0;r<u;r++)a.logVerbose("[_beginPageTestCases]Testcase "+t[r].getId()+" fetched"),t[r].paramDeleteEvent=at(i,i._handleParameterDeletion),i._cachedTestCases.push(t[r]);i._pageHelper&&i._pageHelper.pageFetchComplete();n&&n();i.pageFetched&&i.pageFetched()}finally{i._pagingInProgress=!1}},function(n){i._pagingInProgress=!1;i.showError&&i.showError(it.getErrorMessage(n));t&&t(n)}))},n.prototype._beginFetchTestCases=function(n,t,i,r,u,f){var e=this;c.TestCaseUtils.beginGetTestCases(n,this._testCaseDataToPage,function(n){if(e._plan.id===t&&e._suite.id===i&&e._sessionId===r){for(var o=n.length,f=0;f<o;f++)n[f].setSharedStepWorkItemInTestCase();u&&u(n)}},f)},n.prototype._beginAppendCachedTestCases=function(n){var t=this,i;this._cachedTestCases.length>0?(a.logVerbose("[_beginAppendCachedTestCases]Test cases available in the cache."),i=d.clone(this._cachedTestCases),this._cachedTestCases=[],this._beginAppendGridData(i,function(){t._pageHelper&&!t._pageHelper.canPage()?(a.logVerbose("[_beginAppendCachedTestCases]All pages have been fetched."),t._appendEmptyRowsIfNeeded()):(a.logVerbose("[_beginAppendCachedTestCases]Fetch the next page."),t._beginPageTestCases());t.updated&&t.updated(ht.pageTestCases);n&&n()})):a.logVerbose("[_beginAppendCachedTestCases]No test cases in the cache")},n.prototype.refreshGridData=function(n){var t=this,i;if(lt.trackAction("RefreshGrid","/BulkEntry"),this._refreshInProgress){a.logVerbose("[refreshGridData]A refresh is currently happening. Ignoring the current refresh request");return}return this._suite||(this._suite=n),a.logVerbose("[refreshGridData]Refreshing test cases in the grid"),this.cleanup()?(this._refreshInProgress=!0,c.getTestPlanManager().getTestCaseIdsInTestSuite(this._suite.id,function(n){t._totalTestsInSuite=n.length;t._isSuiteLevel?(a.logVerbose("[refreshGridData]Refreshing grid with all test cases in the suite."),t._totalTestsShown=n.length,n.sort(function(n,t){return n-t}),t._beginPopulateGrid(n,function(){a.logVerbose("[refreshGridData]Refreshed grid with all test cases in the suite.");t._refreshInProgress=!1},function(){t._refreshInProgress=!1})):(a.logVerbose("[refreshGridData]Refreshing just the test cases in the grid."),t._refreshOnStartup?(i=t._initialTestCases,t._refreshOnStartup=!1):i=t._getTestCaseIdsInGrid(),t._beginPopulateGrid(i,function(){a.logVerbose("[refreshGridData]Refreshed grid with just the test cases in the grid.");t._refreshInProgress=!1},function(){t._refreshInProgress=!1}))},function(n){var i=it.getErrorMessage(n);a.logError("[refreshGridData]Error in refreshing test cases. Detailed error: "+i);t.showError&&t.showError(i);t._refreshInProgress=!1}),this.refresh&&this.refresh(),!0):(a.logVerbose("[refreshGridData]Refresh canceled"),!1)},n.prototype._getTestCaseIdsInGrid=function(){for(var t=0,r=this._records?this._records.length:0,i=[],n,t=0;t<r;t++)n=this._records[t],n&&n.isTestCase&&n.testCase.getId()>0&&i.push(n.testCase.getId());return i},n.prototype.onHyperLinkClick=function(n,t){var u=this,i,r;a.logVerbose("[onHyperLinkClick]Hyperlink click called on dataIndex = "+n+" and property = "+t);t==="id"&&(i=this.getId(n),i&&(r=this._records[n].testCase,this.prepareTestCaseForEdit(r,function(){u._openTestCase(r,parseInt(i),n)})))},n.prototype.setRowsDirty=function(){this._areRowsDirty=!0},n.prototype._openTestCase=function(n,t,i){var r=this,f=0,s,h=0,o,e=0,c=i;this._isTestCaseDialogOpen=!0;k.menuManager.executeCommand(new p.CommandEventArgs("open-work-item",{id:t,tfsContext:u.TfsContext.getDefault(),options:{close:function(){try{for(f=i,e=r._records.length;f<e;f++)if(s=r._records[f],s.testCase===n)h++;else break;r._records.splice(i,h);n.beginRefresh(function(){for(r._setParameterInfoForTestCase(n),o=r._createRowViewModelsForTestCase(n),f=0,e=o.length;f<e;f++,i++)r._records.splice(i,0,o[f]);r._evaluateIsDirty();r.updated&&r.updated(ht.refreshRecords,[c])},function(n){var t=it.getErrorMessage(n);a.logError("[beginRefresh]Error in refersh. Detailed error: "+t);r.showError&&r.showError(t)})}finally{r.commandComplete&&r.commandComplete(ht.refreshRecords);r._isTestCaseDialogOpen=!1}}}},null))},n.prototype._evaluateIsDirty=function(){var n=0,i=this._testCases.length,t=!1;if(this._areRowsDirty)t=!0;else for(n=0;n<i;n++)if(this._testCases[n].getIsDirty()){t=!0;break}this._setIsDirtyState(t)},n.prototype._createRowViewModelsForTestCase=function(n){var i=0,o=n.getTitle(),c=n.getId(),r=n.getTestSteps(),l=r.length,u,t,f=[],e;for(f.push(new ct(o,0,"","",n,!0,!1,0,n.getProperties())),i=0;i<l;i++)r[i]instanceof h.TestStep?(u=r[i],f.push(new ct("",u.id,u.action,u.expectedResult,n,!1))):(t=r[i],e=new ct("",t.id,s.NewSharedStep,"",n,!1,!0,t.ref),e.action=nt.format(s.BulkEntryGridSharedStepTitleFormat,t.ref,t.getTitle()),this._sharedStepIdToTitleMap.containsKey(t.ref)||this._sharedStepIdToTitleMap.set(t.ref,t.getTitle()),f.push(e)),c=undefined;return f},n.prototype.fetchMoreTests=function(){var n=this;a.logVerbose("Requesting to fetch more tests");this._cachedTestCases.length>0?(a.logVerbose("[fetchMoreTests]There are "+this._cachedTestCases.length+" in the cache"),this._beginAppendCachedTestCases()):this._pagingInProgress?(a.logVerbose("[fetchMoreTests]Paging is in progress. Queue the request to page complete."),this.pageFetched=function(){n.pageFetched=null;n._beginAppendCachedTestCases()}):(a.logVerbose("[fetchMoreTests]Fetch more test cases from the server."),this._beginPageTestCases(function(){n._beginAppendCachedTestCases()}))},n.prototype._workItemChanged=function(n,t){var i;i=t.workItem;this.workItemChanged&&!this._doNotRaiseWorkItemChangedEvent&&this.workItemChanged(n,t)},n.prototype._populateDefaultGridData=function(){var n=0;for(this._records=[],n=0;n<this._minRowCount;n++)this._records.push(new ct)},n.prototype._beginAppendGridData=function(n,t){for(var i=0,f=0,y=0,w=n.length,p,c,e,o,u,l=new r.Dictionary,v,i=0;i<w;i++)for(this._testCases.push(n[i]),p=n[i].getTitle(),e=n[i].getTestSteps(),y=e.length,c=n[i].getId(),a.logVerbose("[_beginAppendGridData]Adding testcase "+c+" to records"),this._records.push(new ct(p,0,"","",n[i],!0,!1,0,n[i].getProperties())),f=0;f<y;f++)e[f]instanceof h.TestStep?(o=e[f],this._records.push(new ct("",o.id,o.action,o.expectedResult,n[i],!1))):(u=e[f],v=new ct("",u.id,s.NewSharedStep,"",n[i],!1,!0,u.ref),this._sharedStepIdToTitleMap.containsKey(u.ref)?v.action=nt.format(s.BulkEntryGridSharedStepTitleFormat,u.ref,this._sharedStepIdToTitleMap.get(u.ref)):l.set(this._records.length,u.ref),this._records.push(v)),c=undefined;l.keys().length===0?t&&t():(a.logVerbose("[_beginAppendGridData]Shared steps are found in the test case. Fetching the titles for them."),this._beginFetchSharedStepsAndUpdateTitle(l,t))},n.prototype._beginFetchSharedStepsAndUpdateTitle=function(n,t){var i=this;c.SharedStepUtils.beginGetSharedStepsIdToTitleMap(n.values(),function(r){var o=n.keys(),u,f,l=o.length,h,e,c;for(i._updateSharedStepTitleCache(r),u=0;u<l;u++)f=parseInt(o[u],10),e=n.get(f),c=nt.htmlEncode(r.get(e)),h=nt.format(s.BulkEntryGridSharedStepTitleFormat,e,c),i._records[f].action=h,a.logVerbose("[_beginFetchSharedStepsAndUpdateTitle]Shared step "+f+" fetched.");t&&t()},function(n){alert(it.getErrorMessage(n))})},n.prototype._updateSharedStepTitleCache=function(n){for(var r=n.keys(),u=r.length,i,t=0;t<u;t++)i=parseInt(r[t],10),this._sharedStepIdToTitleMap.set(i,n.get(i))},n.prototype.canInsertRow=function(){return!0},n.prototype.insertRow=function(n,t,i,r,u){var f,e=0;if(t)this.insertTestStep(n,i);else if(a.logVerbose("[insertRow]Inserting "+i+" rows at "+n),lt.trackAction("InsertRow","/BulkEntry"),n>=0&&n<this._records.length)if(r)f=new ct(r.testCaseTitle,null,r.action,r.expectedResult,null,r.isTestCase,r.isSharedStep,r.refId,r.additionalFields),this._insertRecord(n,f,v.EditableGrid.Commands.CMD_INSERT_ROW,u),this._setIsDirtyState(!0);else{for(e=0;e<i;e++)f=new ct,this._insertRecord(n,f,v.EditableGrid.Commands.CMD_INSERT_ROW,!0);this.updated&&this.updated(v.EditableGrid.Commands.CMD_INSERT_ROW,[n])}},n.prototype.insertTestStep=function(n,t){var r=this,u,i,f=0,e,o,s;a.logVerbose("[insertRow]Inserting "+t+" test steps at "+n);lt.trackAction("InsertTestStep","/BulkEntry");n>=0&&n<this._records.length&&(u=this._records[n],i=u.testCase,e=u.actionId,f=i.getIndexForActionId(e),this.prepareTestCaseForEdit(i,function(){for(var u=0,u=0;u<t;u++)i.insertStepAt(f),o=i.getTestSteps()[f],s=new ct("",o.id,"","",i,!1),r._insertRecord(n,s,ht.insertTestStep,!0);r.updated&&r.updated(ht.insertTestStep,[n]);r._setIsDirtyState(!0)}))},n.prototype.insertTestSteps=function(n,t,i,r,u){var e=this,v,s=0,h,l,f,c,a,y=t.length,o;lt.trackAction("InsertTestSteps","/BulkEntry");this.prepareTestCaseForEdit(i,function(){for(c=0;c<y;c++)f=t[c],a=e._records.length,n>=0&&n<=a&&(n===a&&e._records.push(new ct),v=e._records[n],h=v.actionId,h||(h=-1),s=i.getIndexForActionId(h),f.isSharedStep?i.insertSharedStepsAtIndex(s,[f.refId]):i.insertStepAt(s),l=i.getTestSteps()[s],o=new ct(f.testCaseTitle,i.getLastActionId(),f.action,f.expectedResult,i,f.isTestCase,f.isSharedStep,f.refId,f.additionalFields),o.isSharedStep||(l.setAction(o.action),l.setExpectedResult(o.expectedResult)),e._setIsDirtyState(!0),e._insertRecord(n,o,ht.insertTestStep,r)),n++;u&&u()})},n.prototype._insertRecord=function(n,t,i,r){this._records.splice(n,0,t);this.updated&&!r&&this.updated(i)},n.prototype.canDeleteRows=function(){return!0},n.prototype.getTestCaseAtIndex=function(n){var t;return n>=0&&n<this._records.length?(t=this._records[n],t.testCase):null},n.prototype.deleteTestCase=function(n){this._deleteTestCaseRows(n,!0)},n.prototype.deleteRows=function(n){var t=this;lt.trackAction("DeleteRows","/BulkEntry");this._ensureTestCasesFetchedAndPerformOperation(n,function(){t._deleteTestCaseRows(n)})},n.prototype.canHandleShortCutKeys=function(){return!this._isTestCaseDialogOpen},n.prototype._ensureTestCasesFetchedAndPerformOperation=function(n,t){var i=0,u,h=this._records.length,o,f,r,s={},e=[],c=function(n,t){return t-n};if(n){for(n.sort(c),u=n.length,f=u,i=0;i<u;i++)n[i]>=0&&n[i]<h&&(o=this._records[n[i]],r=o.testCase,r&&(s[r.getId()]||(e.push(r),s[r.getId()]=!0)));if(u=e.length,f=u,u>0)for(i=0;i<u;i++)r=e[i],this.prepareTestCaseForEdit(r,function(){r.processTestStepAttachments();f--;f===0&&t&&t(n)});else t&&t(n)}},n.prototype._confirmStepsDelete=function(n){for(var i=0,e=n.length,h=this._records.length,u,r,t,o=s.ConfirmParameterDeletionWithoutParamDetails,f=[],i=0;i<e;i++)if(n[i]>=0&&n[i]<h&&(u=this._records[n[i]],r=u.testCase,r&&(t||(t=r),t.getId()===r.getId()&&f.push(u.actionId),t.getId()!==r.getId()||i+1===e))){if(t.willParametersBeDeletedOnDeletingSteps(f))return o=t.isUsingSharedParameters()?s.ConfirmParameterDeletionWithoutParamDetailsForTcUsingSP:s.ConfirmParameterDeletionWithoutParamDetails,c.ParametersHelper.confirmParamsDelete(t.getParameters(),t,o,!1);t=r;f=[];f.push(u.actionId)}return!0},n.prototype._deleteTestCaseRows=function(n,t){t===void 0&&(t=!1);var e=this._records.length,i,f=[],r,u,o=function(n,t){return t-n};if(n){u=n.length;this._showParamDeleteWarning=!1;try{if(this._confirmStepsDelete(n)){for(n.sort(o),i=0;i<u;i++)n[i]>=0&&n[i]<e&&(r=this._records[n[i]],r.isTestCase?this._removeTestCaseFromModel(r.testCase,n[i]):r.testCase&&(r.testCase.removeStep(r.actionId,0),t||this._setIsDirtyState(!0)),this._records.splice(n[i],1));f.push(n[0]-u+1);this._appendEmptyRowsIfNeeded(!0);this.updated(v.EditableGrid.Commands.CMD_DELETE_ROWS,f)}}finally{this._showParamDeleteWarning=!0}}},n.prototype.removeSelectedTestCase=function(n){var t=this;return(lt.trackAction("DeleteTest","/BulkEntry"),n.length===1)?c.removeSelectedTestCases([this.getId(n[0])],c.getTestPlanManager(),this._suite,function(n){n&&c.getTestPlanManager().getTestCaseIdsInTestSuite(t._suite.id,function(n){t._totalTestsInSuite=n.length;t._totalTestsShown-=1;t.onTestsInSuiteCountUpdated();t.refresh&&t.refresh()})},function(n){t.showError(it.getErrorMessage(n))}):!1},n.prototype._removeTestCaseFromModel=function(n,t){for(var i=0,r=this._testCases.length,u=this._records.length,i=0;i<r;i++)if(this._testCases[i]===n){this._testCases.splice(i,1);break}for(i=t;i<u;i++)if(this._records[i].testCase===n)this._records[i].testCase=null;else break;n&&(n.reset(),this._removeWorkItemFromCacheIfNeeded(n))},n.prototype._removeWorkItemFromCacheIfNeeded=function(n){var t=vt.getWorkItemStore();n.getId()<=0&&n.getWorkItemWrapper()&&(a.logVerbose("[BulkEditTestsViewModel._removeWorkItemFromCacheIfNeeded] Removing work item from cache"),ot.WorkItemManager.get(t).removeWorkItem(n.getWorkItemWrapper().getWorkItem()))},n.prototype.canClearRows=function(){return!0},n.prototype.clearRows=function(n){var t=this;lt.trackAction("ClearRows","/BulkEntry");this._ensureTestCasesFetchedAndPerformOperation(n,function(){t._clearTestCaseRows(n)})},n.prototype._clearTestCaseRows=function(n){var r=n.length,u=this._records.length,i,t;this._showParamDeleteWarning=!1;try{if(this._confirmStepsDelete(n)){for(t=0;t<r;t++)n[t]>=0&&n[t]<u&&(i=this._records[n[t]],i.testCase?(i.isTestCase&&this._removeTestCaseFromModel(i.testCase,n[t]),this._clearTestStepAtIndex(n[t]),i.isSharedStep=!1):this._records[n[t]]=new ct);this.updated(v.EditableGrid.Commands.CMD_CLEAR_ROWS)}}finally{this._showParamDeleteWarning=!0}},n.prototype._clearTestStepAtIndex=function(n){this.setValue(n,"action","");this.setValue(n,"expectedResult","");this.setValue(n,"testCaseTitle","");this.clearRowHeight(n);this.clearAdditionalProps(n)},n.prototype.canEdit=function(n,t){return this._records[n]?this._records[n].canEdit(t):!1},n.prototype.canAppendRows=function(){return this._pageHelper?!this._pageHelper.canPage():!0},n.prototype.isSharedStep=function(n){return this._records[n]?this._records[n].isSharedStep:!1},n.prototype.isDirty=function(n){var t=this._records[n];return t&&t.isTestCase&&t.testCase?t.testCase.getIsDirty():!1},n.prototype.isInvalid=function(n){var t=this._records[n];return t&&t.isTestCase&&t.testCase?t.testCase.isInvalid():!1},n.prototype.getError=function(n){var t=this._records[n];return t&&t.isTestCase&&t.testCase?t.testCase.getError():null},n.prototype.appendRows=function(n){var t=0;for(lt.trackAction("AppendRows","/BulkEntry"),t=0;t<n;t++)this._records.push(new ct);this.updated&&this.updated(v.EditableGrid.Commands.CMD_APPEND)},n.prototype.getValue=function(n,t){var i;if(this._records[n])if(t==="id"){if(i=this.getId(n),i)return this.isDirty(n)?i+"*":i}else return this._records[n].getValue(t)},n.prototype.getId=function(n){if(this._records[n])return this._records[n].getValue("id")},n.prototype._isPropertyInAdditionalFields=function(n){for(var i=this._additonalWorkItemFields.length,t=0;t<i;t++)if(this._additonalWorkItemFields[t].referenceName===n)return!0;return!1},n.prototype.setValue=function(n,t,i,r){var e=this,f,u=this._records[n],s,o,c=this._isDirty;if(!u){r&&r();return}f=this._records[n].testCase;s=this._isPropertyInAdditionalFields(t)?u.additionalFields[t]:u[t];s!==i&&(this._setIsDirtyState(!0),f?this.prepareTestCaseForEdit(f,function(){var n;t==="action"?(n=f.getTestAction(u.actionId,0),n instanceof h.SharedSteps?u.actionId=f.replaceStep(u.actionId):o=f.setAction(u.actionId,0,i)):t==="expectedResult"?o=f.setExpectedResult(u.actionId,0,i):t==="testCaseTitle"?f.setTitle(i):e._isPropertyInAdditionalFields(t)&&(o=f.setProperty(t,i));o===!1?(e._setIsDirtyState(c),e.updated&&e.updated()):u.hasOwnProperty(t)?u[t]=i:u.additionalFields[t]=i;r&&r()}):(t==="testCaseTitle"||t==="expectedResult"||t==="action"?u[t]=i:u.additionalFields[t]=i,this._areRowsDirty=!0,r&&r(),this._dummyWorkItem.setFieldValue(t==="testCaseTitle"?"System.Title":t,i)))},n.prototype.prepareTestCaseForEdit=function(n,t){var i=this;if(n.getWorkItemWrapper()){t&&t();n.preSave();this.onWorkItemFetched(n.getWorkItemWrapper().getWorkItem())}else a.logVerbose("[prepareTestCaseForEdit]Test case with id "+n.getId()+" is being fetched."),n.beginSetupWorkItemForTestCase(this._sharedStepCache,function(){a.logVerbose("[prepareTestCaseForEdit]Test case with id "+n.getId()+" fetch complete");i._setParameterInfoForTestCase(n);n.setIsDirty(!1);t&&t();n.preSave();i.onWorkItemFetched(n.getWorkItemWrapper().getWorkItem())},function(n){var t=it.getErrorMessage(n);a.logError("[prepareTestCaseForEdit]Error in preparing test case for edit. Detailed error: "+t);i.showError&&i.showError(t)})},n.prototype._setParameterInfoForTestCase=function(n){var t=n.getWorkItemWrapper().getWorkItem(),o=t.getField(i.WorkItemFieldNames.Parameters).fieldDefinition.id,s=t.getField(i.WorkItemFieldNames.DataField).fieldDefinition.id,l=t.getFieldValue(o),r=t.getFieldValue(s),u=h.ParameterCommonUtils.parseParameters($(g.parseXml(l||""))),f=h.TestCaseParameterDataInfo.parseTestCaseParametersData(r),e=[];f||(e=c.ParametersHelper.parseParametersData($(g.parseXml(r||"")),u));a.logVerbose("Setting parameter info for test case with id "+n.getId());n.initializeParameterInfo(u,e,f,r);this._readAndMergeSharedStepParameters(n)},n.prototype._readAndMergeSharedStepParameters=function(n){var r=n.getTestSteps(),y=r.length,f,u,e,o,s,l,v,t;for(a.logVerbose("Merging shared step parameters for test case with id "+n.getId()),n.setSharedStepParameters([]),t=0;t<y;t++)r[t]instanceof h.SharedSteps&&(f=r[t],e=f.getSharedStep(),u=e.getWorkItemWrapper().getWorkItem(),o=u.getField(i.WorkItemFieldNames.Parameters).fieldDefinition.id,s=u.getFieldValue(o),l=h.ParameterCommonUtils.parseParameters($(g.parseXml(s||""))),n.mergeSharedStepParameters(l));n.isUsingSharedParameters()||(v=$(g.parseXml(n.getWorkItemWrapper().getWorkItem().getFieldValue(i.WorkItemFieldNames.DataField))),c.ParametersHelper.setTestCaseParametersDataFromXml(n,v,!1))},n.prototype.clearAdditionalProps=function(n){var t=this._records[n];t.additionalFields={}},n.prototype.beginSave=function(n,t){var w=this,i=0,y=this._records.length,r,u,h,f=!1,e=[],c,l,o=0,p=!1,v=!1;for(this._testCaseRowIndices=[],this._doNotRaiseWorkItemChangedEvent=!0,a.logVerbose("[beginSave]Saving all test cases"),i=0;i<y;i++)r=this._records[i],(r.testCaseTitle||"").trim()?(u?f&&(o++,this._beginAddTestSteps(u,e,function(){o--;o===0&&p&&(a.logVerbose("[beginSave]All records processsed."),w._onTestRecordsProcessingCompleted(u,f,e,v,n,t))})):f&&(this.showError&&this.showError(s.TestStepsWithNoTestCaseError),v=!0,f=!1,e=[]),r.testCase?(a.logVerbose("[beginSave]A test case with id: "+r.testCase.getId()+" already exists at index: "+i),u=r.testCase,this._testCaseRowIndices.push(i)):(a.logVerbose("[beginSave]New test case found at record index: "+i),h=this._createTestCase(r),u=h.testCase,this._testCases.push(u),this._testCaseRowIndices.push(i),l=h.record,l&&(a.logVerbose("[beginSave]Steps were added in the same record as title for index: "+i+". Will add a new record."),this._records.splice(i+1,0,l),y++,i++),r.testCase=u),f=!1,e=[]):r.testCase||(c=this._isBlankStep(r),f=f||!c,c||(r.additionalFields={}),e.push(r));p=!0;o===0&&(a.logVerbose("[beginSave]All records processsed."),this._onTestRecordsProcessingCompleted(u,f,e,v,n,t))},n.prototype._onTestRecordsProcessingCompleted=function(n,t,i,r,u,f){var e=this;if(n&&t)this.prepareTestCaseForEdit(n,function(){e._addTestSteps(n,i);e._beginSaveTestCases(r,u,f)});else{if(t){this.showError&&this.showError(s.TestStepsWithNoTestCaseError);return}this._beginSaveTestCases(r,u,f)}},n.prototype.getDataSource=function(){return this._records},n.prototype.canSaveAllTestCases=function(){return this._isDirty},n.prototype.canRefreshTestCases=function(){return!0},n.prototype.getMessage=function(n){var t,i;return this._isDirty&&(i=y.getRunningDocumentsTable(),i.isModified(null)?(t=i.getUnsavedItemsMessage(),n||(t=t+"\r\n\r\n"+s.ContinueAndLoseChanges)):t=s.UnsavedChanges+" "+s.ContinueAndLoseChanges),t},n.prototype.cleanup=function(){var t,n=!1;return this.preCleanUp&&this.preCleanUp(),t=this.getMessage(),t?confirm(t)?(this._resetDirtyTests(),n=!0):n=!1:n=!0,n&&(ot.WorkItemManager.get(vt.getWorkItemStore()).detachWorkItemChanged(at(this,this._workItemChanged)),this._setIsDirtyState(!1),this._areRowsDirty=!1,this._pagingInProgress=!1,this._pageHelper=null,this._areRowsDirty=!1,this.cleanedUp&&this.cleanedUp()),n},n.prototype.getRowHeightInfo=function(n){return this._records[n]?this._records[n].getRowHeightInfo():new v.RowHeightInfo(0)},n.prototype.setRowHeight=function(n,t){this._records[n]&&this._records[n].setRowHeight(t)},n.prototype.clearRowHeight=function(n){this.setRowHeight(n,0)},n.prototype.invalidateRowHeights=function(){for(var n=0,t=this._records.length,n=0;n<t;n++)this._records[n].invalidateRowHeight()},n.prototype.isValidTestCase=function(n){var t=this._records[n];return t&&t.isTestCase&&t.testCase!==null&&t.testCase.getId()>0},n.prototype.isTestStep=function(n){return!this._records[n].isTestCase&&this._records[n].testCase!==null},n.prototype.beginEdit=function(n){var t;if(n>=0&&n<this._records.length)if(t=this._records[n],t.testCase)this.prepareTestCaseForEdit(t.testCase);else this.onWorkItemFetched(this._dummyWorkItem)},n.prototype.getMinRowCount=function(){return this._minRowCount},n.prototype._resetDirtyTests=function(){for(var n=0,t=this._testCases.length,n=0;n<t;n++)this._testCases[n].getIsDirty()&&(this._testCases[n].reset(),this._removeWorkItemFromCacheIfNeeded(this._testCases[n]))},n.prototype._beginGetWorkItemsForTestCasesIfNeeded=function(n,t){for(var u=this._testCases.length,r,f=[],s,e=[],o={},i=0;i<u;i++)r=this._testCases[i],r.getIsDirty()&&!r.getWorkItemWrapper()&&(f.push(r.getId()),e.push(r));f&&f.length>0?c.WorkItemUtils.getWorkItemStore().beginGetWorkItems(f,function(t){if(t){for(u=t.length,i=0;i<u;i++)o[t[i].id]=t[i];for(u=e.length,i=0;i<u;i++)r=e[i],o[r.getId()]&&(s=o[r.getId()],r.setWorkItemWrapper(new h.WorkItemWrapper(s),!0));n&&n()}},t):n()},n.prototype._updateRecordsForTestCasePostSave=function(){for(var n=0,r=this._testCaseRowIndices.length,t,i;n<r;n++)t=this._records[this._testCaseRowIndices[n]],i=t.testCase,i.setProperties(this._testCaseDataToPage),t.additionalFields=i.getProperties()},n.prototype._handleParameterDeletion=function(n,t){var i=!0,r=s.ConfirmParameterDeletionWithoutParamDetails;return t.isUsingSharedParameters()&&(r=s.ConfirmParameterDeletionWithoutParamDetailsForTcUsingSP),this._showParamDeleteWarning&&(i=c.ParametersHelper.confirmParamsDelete(n,t,r,!1)),i&&c.ParametersHelper.deleteParametersData(n,t,!1),i},n.prototype._beginSaveTestCases=function(n,t,r){var u=this,f=0,h=this._testCases.length,o,v=[],e,y=[],l=[],s=[],p=[],a=[];this._beginGetWorkItemsForTestCasesIfNeeded(function(){for(f=0;f<h;f++)o=u._testCases[f],o.getIsDirty()&&(o.preSave(),e=o.getWorkItemWrapper().getWorkItem(),e.isNew()&&e.isValid()&&y.push(e),e.isNew()||o.isLatestRevision()?e.isValid()?(s.push(e),p.push(o)):a.push(e):v.push(e));s.length>0?(c.getTestPlanManager().updateSqmPoint(i.TcmProperty.UsedWebGridViewForAuthoring,s.length),lt.trackAction("SaveExistingWorkItems","/BulkEntry",{numWorkItems:s.length}),vt.getWorkItemStore().beginSaveWorkItemsBatch(s,function(){for(f=0,h=p.length;f<h;f++)u._onTestCaseSaved(p[f]);for(f=0,h=y.length;f<h;f++)l.push(y[f].id);a.length!==0||v.length!==0||n?v.length>0?u._handleStaleWorkItemsSaveError(r):u._handleInvalidWorkItems(a,r):(u._setIsDirtyState(!1),u._areRowsDirty=!1);u._updateRecordsForTestCasePostSave();l.length>0&&(u._totalTestsInSuite+=l.length,u._totalTestsShown+=l.length,lt.trackAction("SaveNewWorkItems","/BulkEntry",{newWorkItemCount:y.length}),c.TestSuiteUtils.beginAddTestCasesToSuite(l,u._plan.id,u._suite,function(n){u.testCasesAdded&&u.testCasesAdded(n);c.getTestPlanManager().getTestCaseIdsInTestSuite(u._suite.id,function(n){u._totalTestsInSuite=n.length;u.onTestsInSuiteCountUpdated()})},r));u._finalizeSave(t,!0)},function(n){u._updateGridForSavedTestCases(p,n)&&u._finalizeSave(t,!0);u._handleBulkSaveTestCaseError(n,s,r);u._doNotRaiseWorkItemChangedEvent=!1})):v.length>0?(u._handleStaleWorkItemsSaveError(r),u._finalizeSave(t,!0)):a.length>0?(u._handleInvalidWorkItems(a,r),u._finalizeSave(t,!0)):(n||(u._setIsDirtyState(!1),u._areRowsDirty=!1),u._finalizeSave(t,!1))})},n.prototype._finalizeSave=function(n,t){this._doNotRaiseWorkItemChangedEvent=!1;n&&n(t)},n.prototype._updateGridForSavedTestCases=function(n,t){var u={},r,e=n.length,i,f=!1,o=this;if(t&&t.name===et.Exceptions.WorkItemBulkSaveException){for(r=0;r<e;r++)i=n[r],u[i.getId()]=i;$.each(t.results,function(){this.error||(i=u[this.workItem.id],i&&(f=!0,o._onTestCaseSaved(i)))})}return f},n.prototype._onTestCaseSaved=function(n){n.setIsDirty(!1);n.updateLocalRevision();n.paramDeleteEvent||(n.paramDeleteEvent=at(this,this._handleParameterDeletion))},n.prototype._handleInvalidWorkItems=function(n,t){var i=this;n.length>0&&vt.getWorkItemStore().beginSaveWorkItemsBatch(n,$.noop,function(r){i._handleBulkSaveTestCaseError(r,n,t)})},n.prototype._handleStaleWorkItemsSaveError=function(){this.showError&&this.showError(s.BulkEntryTestUpdatedError)},n.prototype._handleBulkSaveTestCaseError=function(n,t,i){if(n&&n.name===et.Exceptions.WorkItemBulkSaveException){var r=c.getBulkSaveErrorMessageHtml(n,t.length);this.showError&&this.showError(r)}else i&&i(n)},n.prototype._isBlankStep=function(n){return h.HtmlUtils.isEmptyText(n.action)&&h.HtmlUtils.isEmptyText(n.expectedResult)},n.prototype._updateTestCaseWorkItemFieldsFromRecord=function(n,t){var r=n.getWorkItemWrapper();for(var i in t.additionalFields)t.additionalFields[i]&&h.FieldUtils.isFieldEditable(this._workItemType.getFieldDefinition(i))&&r.setFieldValue(i,t.additionalFields[i]);r.setTitle(t.testCaseTitle)},n.prototype._createTestCase=function(n){var t,r,u=vt.getWorkItemStore(),i=ot.WorkItemManager.get(u).createWorkItem(this._workItemType);return this._requirement===undefined||this._requirement===null||this._requirement.project.id!==i.project.id?vt.setAreaAndIterationPaths(i,this._plan.areaPath,this._plan.iteration):vt.setAreaAndIterationPaths(i,this._requirement.getFieldValue(e.CoreField.AreaPath),this._requirement.getFieldValue(e.CoreField.IterationPath)),this._currentTeamFieldInfo&&this._currentTeamFieldInfo.isConfigured&&this._testCaseHasTeamField&&i.setFieldValue(this._currentTeamFieldInfo.refName,this._currentTeamFieldInfo.value),t=new h.TestCase(0,0,n.testCaseTitle,[],[],null,"",this._plan.areaPath,n.additionalFields),t.setWorkItemWrapper(new h.WorkItemWrapper(i)),this._updateTestCaseWorkItemFieldsFromRecord(t,n),t.setIsDirty(!0),n.isTestCase=!0,this._isBlankStep(n)||(this._addTestStep(t,n,1),r=new ct("",n.actionId,n.action,n.expectedResult,t,!1),n.action="",n.expectedResult="",n.setRowHeight(0)),{testCase:t,record:r}},n.prototype._beginAddTestSteps=function(n,t,i){var r=this;this.prepareTestCaseForEdit(n,function(){r._addTestSteps(n,t);i&&i()})},n.prototype._addTestSteps=function(n,t){for(var i=0,e=t.length,u=0,f=n.getLastActionId(),r,i=e-1;i>=0;i--)if(!this._isBlankStep(t[i])){u=i;break}for(i=0;i<=u;i++)r=t[i],f++,this._addTestStep(n,r,f),this._clearAdditionalFieldsFromRecord(r),r.testCase=n},n.prototype._clearAdditionalFieldsFromRecord=function(n){n.additionalFields={}},n.prototype._addTestStep=function(n,t,i){var r;t.isSharedStep?(n.insertSharedStepsAtIndex(n.getTestSteps().length,[t.refId]),t.actionId=i+1):(r=h.TestStep.createStep(i,this._getStepType(t),t.action,t.expectedResult,!0),n.addStep(r),t.actionId=i)},n.prototype._getStepType=function(n){return h.HtmlUtils.isEmptyText(n.expectedResult)?h.TestStepTypes.Action:h.TestStepTypes.Validate},n.prototype._setIsDirtyState=function(n){this._isDirty=n;this._isDirtyCallback&&this._isDirtyCallback(n)},n}();t.BulkEditTestsViewModel=ii;ht=function(){function n(){}return n.saveAllTestCases="save-all-testcases",n.refreshTestCases="refresh-testcases",n.insertTestStep="insert-test-step",n.pageTestCases="page-testcases",n.refreshRecords="refresh-records",n}();yt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._fieldName=t.fieldName,i}return __extends(t,n),t.prototype.getField=function(){return this._workItem?this._workItem.getField(this._fieldName):null},t.prototype.bind=function(t){var i,r;this._workItem=t;this._field=this.getField();this._field&&(a.logVerbose("[WorkItemFieldComboCellEditorbind] called for field"+this._field.fieldDefinition.name),this._field.fieldDefinition.id===e.CoreField.AreaPath?i=this._field.workItem.project.nodesCacheManager.getAreaNode():this._field.fieldDefinition.id===e.CoreField.IterationPath&&(i=this._field.workItem.project.nodesCacheManager.getIterationNode()),i?(r=n.prototype._populateUINodes.call(this,i,null),r.text=this._field.workItem.project.name,this.getComboControl().setSource([r])):n.prototype._updateEditControl.call(this,this._field.getAllowedValues(),this._field.fieldDefinition.type))},t}(v.ComboCellEditor);t.WorkItemFieldComboCellEditor=yt;pt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.getPreDropdownRender=function(n){var e=[],r,u,t,f;return i.getScope()==null?n:(r=i.getScope(),u=n,r.excludeGroups&&(u=n.filter(function(n){return!nt.equals(n.entityType,b.ServiceHelpers.GroupEntity,!0)})),t=r.nonIdentities,t&&t.length>0&&(f=i._identityPickerControl.getDropdownPrefix(),$.each(t,function(n,t){var i=w.EntityFactory.createStringEntity(t);f!=null&&i.displayName&&i.displayName.trim().toLowerCase().indexOf(f)===0&&e.push(i)})),e.concat(u))},i.getCustomTooltip=function(){var n=i.getScope();return n&&nt.format(n.displayNames.length<=10?st.ScopedIdentityTooltip:st.ScopedIdentityTooltipWithSuffix,n.displayNames.join(", "))},i._fieldName=t.fieldName,i}return __extends(t,n),t.prototype.getField=function(){return this._workItem?this._workItem.getField(this._fieldName):null},t.prototype.bind=function(n){this._workItem=n;this._field=this.getField()},t.prototype.getScope=function(){return this.getField()?this.getField().filterByScope:null},t.prototype.getIdentityPickerConsumerId=function(){return"d4f43f12-b78c-4669-89d9-7851f54ac200"},t}(ut.CommonIdentityPickerCellEditor);t.WorkItemFieldCommonIdentityPickerCellEditor=pt;kt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._rowIndexToScrollAfterFetch=-1,i._viewModelInitialized=!1,i._currentlyCopying=!1,i._cellMinWidth=25,i._bulkEditTestsViewModel.initialized=function(){i._clearSelections();i._cleanUpRows();i._viewModelInitialized=!0},i._bulkEditTestsViewModel.onTestsInSuiteCountUpdated=function(){i._updateCountText()},i._bulkEditTestsViewModel.onWorkItemFetched=function(n){var u,t,r=i._currentlyEditingColumnIndex?i.getCellEditorForColumn(i._currentlyEditingColumnIndex):null;i._inEditMode&&r&&(r instanceof yt||r instanceof pt)&&(u=i._bulkEditTestsViewModel.getTestCaseAtIndex(i.getCurrentEditRowIndex()),r instanceof yt?t=r:r instanceof pt&&(t=r,t._bind(w.IdentityPickerSearchControl.VALID_INPUT_EVENT,function(){i._handleIdentityPickerInputChange(t)}),t._bind(ut.CommonIdentityPickerCellEditor.INPUT_CHANGED_EVENT,function(){i._handleIdentityPickerInputChange(t)})),(i._areSameWorkItems(u,n)||i._isUnsavedTestCaseAndNewWorkItem(u,n))&&t.bind(n))},i._bulkEditTestsViewModel.updated=function(n,t){n===v.EditableGrid.Commands.CMD_CLEAR_ROWS?(i.updateRows(),a.logTracePoint("BulkEntry.Grid.Clear.Complete")):i._refreshGrid(n,t);i._updateToolbarCommandStates()},i._bulkEditTestsViewModel.onColumnOptionsAdded=function(){i._options.columns=i._getColumnInfo();i.initializeDataSource(!0);i._drawHeader();i._layoutContentSpacer();i._clipboardDataModel.setGridColumns(i._columns)},i._bulkEditTestsViewModel.workItemChanged=function(n,t){i._workItemChanged(n,t)},i._bulkEditTestsViewModel.commandComplete=function(n){var t=i;n===ht.refreshRecords&&setTimeout(function(){t.focus()},10)},i._bulkEditTestsViewModel.showError=function(n){rt.MessageDialog.showMessageDialog(n,{title:s.Error,buttons:[rt.MessageDialog.buttons.ok]})},i._bulkEditTestsViewModel.cleanedUp=function(){i._rowIndexToScrollAfterFetch=0;i._scrollTop=0;i._scrollLeft=0;i._layoutHeader();i._canvas[0].scrollTop=0;i._savedSelectedRows=null;i._cleanUpGrid();i._viewModelInitialized=!1},i._bulkEditTestsViewModel.preCleanUp=function(){i._fireEndEdit()},i}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._clipboardDataModel=new wt(this._columns);this._copyAction=new gt(this._bulkEditTestsViewModel,this._clipboardDataModel);this._cutAction=new ni(this._bulkEditTestsViewModel,this._clipboardDataModel);this._pasteAction=new ti(this._bulkEditTestsViewModel,this._clipboardDataModel);$(window).on("beforeunload",at(this._bulkEditTestsViewModel,this._bulkEditTestsViewModel.getMessage,!0))},t.prototype._attachEvents=function(){var t=window.navigator.userAgent.toLowerCase();n.prototype._attachEvents.call(this);(t.indexOf("chrome")!==-1||t.indexOf("mozilla")!==-1)&&(this._bind(document,"copy",at(this,this._copyToClipboard)),this._bind(document,"cut",at(this,this._cutToClipboard)),this._bind(document,"paste",at(this,this._pasteFromClipboard)))},t.prototype._areSameWorkItems=function(n,t){return n&&n.getId()===t.getUniqueId()},t.prototype._isUnsavedTestCaseAndNewWorkItem=function(n,t){return(!n||n.getId()<=0)&&t.isNew()},t.prototype._selectClosestNavigableCell=function(t,i){var u=n.prototype._getSelectedCellInfo.call(this),r=!0,f=!0;this._gettingRowIntoView=!0;do r=this._selectNextOrPrevCell(t,!0),r||(r=t?this._selectNextRowFirstCell(!0):this._selectPrevRowLastCell(!0)),u=this._getSelectedCellInfo(),f=r&&u?i?!this._canEdit(u):!this._canNavigate(u):!1;while(f);return this.getSelectedCellIntoView(),this.cancelDelayedFunction("onCellSelectionChanged"),this.delayExecute("onCellSelectionChanged",10,!0,at(this,this.onCellSelectionChanged,this.getSelectedCell())),this._gettingRowIntoView=!1,r},t.prototype._canNavigate=function(t){return t?this._canEdit(t)?!0:n.prototype._isHyperLinkCell.call(this,t):!1},t.prototype._onInsertComplete=function(){var n=this;g.delay(this,50,function(){a.logVerbose("[BulkEditGrid._onInsertComplete]Delayed execution start updating viewport after inserting rows ");n._updateViewport();n._pasteActionProgressId&&n._pasteActionProgressId>0&&(it.globalProgressIndicator.actionCompleted(n._pasteActionProgressId),a.logVerbose("[BulkEditTestsGrid._onInsertComplete]Finish progressIndicator id : "+n._pasteActionProgressId),n._pasteActionProgressId=-1);a.logVerbose("[BulkEditGrid._onInsertComplete]Delayed execution finished updating viewport after inserting rows ")})},t.prototype.whenLayoutComplete=function(t,i){var r,u=n.prototype._getSelectedCellInfo.call(this),f=this;a.logVerbose("[BulkEditGrid.whenLayoutComplete]Layout complete called with command "+t);this.hideBusyOverlay();t!==ht.pageTestCases&&t!==ht.saveAllTestCases?(n.prototype.whenLayoutComplete.call(this,t,i),(t===v.EditableGrid.Commands.CMD_INSERT_ROW||t===ht.insertTestStep)&&(u&&!this._canEdit(u)&&this._selectClosestNavigableCell(!0,!0),this._onInsertComplete())):t===ht.pageTestCases?(this._rowIndexToScrollAfterFetch>=0&&(this._getRowIntoView(this._rowIndexToScrollAfterFetch),this._rowIndexToScrollAfterFetch=-1),this._restoreRowSelection()):t===ht.saveAllTestCases&&this._restoreRowSelection();this.ensureRowSelectionWhenLayoutComplete(t,i);setTimeout(function(){f.focus()},10);u||(r=this._element.find(".grid-cell").eq(1),r.length===1&&n.prototype._selectRowAndCell.call(this,r));a.logTracePoint("BulkEntry.Grid.Layout.Complete")},t.prototype.initializeOptions=function(t){t!=null&&(this._bulkEditTestsViewModel=t.bulkEditTestsViewModel,this._parentElement=t.parent,this._containerClassName=t.containerClassName);n.prototype.initializeOptions.call(this,$.extend({sharedMeasurements:!1,cssClass:"bulk-edit-tests-grid",allowMoveColumns:!1,allowMultiSelect:!0,keepSelection:!0,extendViewportBy:10,columns:this._getColumnInfo()},t));this._createMenuBar()},t.prototype._getColumnInfo=function(){var n=[],i=this._bulkEditTestsViewModel.getAdditionalWorkItemFields();return n.push(t._idColumn),n.push(t._titleColumn),n.push(t._actionColumn),n.push(t._expectedResultColumn),i&&this._appendAdditionalColumns(n,i),n},t.prototype._appendAdditionalColumns=function(n,t){for(var s=t.length,u,r,e,o,c=function(n,t,i,r,u,e,o){return f.IdentityViewControl.renderIdentityCellContents(this,n,t,i,r,u,e,o,!1)},i=0;i<s;i++)r=t[i].referenceName,e=t[i].name,o=t[i].isIdentity,u=h.FieldUtils.isFieldEditable(t[i]),nt.ignoreCaseComparer(r,"System.Tags")===0?n.push({index:r,text:e,canSortBy:!1,width:100,canEdit:u,editOnSelect:t[i].rules,isMultiLine:!1,isRichText:!1}):o?n.push({index:r,text:e,canSortBy:!1,width:200,canEdit:u,editOnSelect:!0,getCellContents:c,getCellEditor:function(n,t){return new pt({cssClass:"identity-picker-cell-editor-"+n,coreCssClass:"identity-picker-cell-editor",fieldName:t})}}):n.push({index:r,text:e,canSortBy:!1,width:100,canEdit:u,editOnSelect:t[i].rules,getCellEditor:function(n,t){return this.canEdit?new yt({cssClass:"combo-cell-editor-"+n,coreCssClass:"combo-cell-editor",fieldName:t,label:t}):null}})},t.prototype._updateValueInModel=function(t,i,r,u,f){var e=this;this._valueChanged&&!u?(a.logVerbose("[BulkEditVM.onEndCellEdit]End cell edit triggered with value "+r),this._bulkEditTestsViewModel.setValue(t,i,r,function(){e._updateToolbarCommandStates();f||n.prototype.onEndCellEdit.call(e,t,i,r,u);e._valueChanged=!1})):(n.prototype.onEndCellEdit.call(this,t,i,r,u),this._valueChanged=!1)},t.prototype.onEndCellEdit=function(n,t,i,r,u){this._updateValueInModel(n,t,u,r)},t.prototype.onCellChanged=function(n,t,i){this._valueChanged=!0;var r=this.getCellEditorForColumn(t);this._inEditMode&&r&&(r instanceof yt||r instanceof pt)&&this._updateValueInModel(n,t,i,!1,!0)},t.prototype.getColumnValue=function(n,t){var i=this._bulkEditTestsViewModel.getValue(n,t.toString());return this.getCellEditorForColumn(t)?i:this._bulkEditTestsViewModel.isValidTestCase(n)?i:""},t.prototype.show=function(){var n=this._parentElement.find(".hub-pivot-toolbar");this._parentElement.find(this._containerClassName).show();this._menuBar.showElement();this._toolbarMargin=n.css("margin-left");n.css("margin-left","0px")},t.prototype.hide=function(){var n=this._parentElement.find(".hub-pivot-toolbar");this._parentElement.find(this._containerClassName).hide();this._menuBar.hideElement();n.css("margin-left",this._toolbarMargin)},t.prototype._drawCell=function(t,i,r,u,f,e,o){var s=n.prototype._drawCell.call(this,t,i,r,u,f,e,o),h=s.data("cellInfo");return f.index==="id"?s.addClass("grid-id-cell"):!h||h.columnInfo.canEdit&&this.canEditCell(h.dataIndex,h.columnInfo.index)||s.addClass("grid-cell-uneditable"),this.isSharedStepTitleCell(h.dataIndex,f.index)?s.addClass("grid-cell-shared-step-title"):s.removeClass("grid-cell-shared-step-title"),f.index==="testCaseTitle"&&s.addClass("grid-testCaseTitle-cell"),s},t.prototype._appendRow=function(){return this._bulkEditTestsViewModel.canAppendRows(20)?(this._bulkEditTestsViewModel.appendRows(20),!0):!1},t.prototype.onHyperLinkClick=function(n,t){this._bulkEditTestsViewModel.onHyperLinkClick(n,t)},t.prototype._createMenuBar=function(){var n=this._parentElement.find(".hub-pivot-toolbar");this._menuBar=l.BaseControl.createIn(k.MenuBar,n,{items:this._createMenubarItems(),executeAction:at(this,this._onMenubarItemClick),cssClass:"bulk-edit-tests-toolbar"});this._updateToolbarCommandStates()},t.prototype._createMenubarItems=function(){var n=[];return n.push({id:ht.saveAllTestCases,title:s.SaveTestsText,showText:!1,icon:"bowtie-icon bowtie-save-all"}),n.push({id:ht.refreshTestCases,title:s.RefreshToolTip,showText:!1,icon:"bowtie-icon bowtie-navigate-refresh"}),n},t.prototype._onMenubarItemClick=function(n){a.logTracePoint("BulkEntry.ToolBarMenuItem.Click");var t=n.get_commandName();if(tt.BrowserCheckUtils.isFirefox()&&this._fireEndEdit(),t===ht.saveAllTestCases)this._saveAllTestCases();else if(t===ht.refreshTestCases){this.showBusyOverlay();try{this._bulkEditTestsViewModel.refreshGridData()}finally{this.hideBusyOverlay()}}},t.prototype._saveAllTestCases=function(){var n=this;this._bulkEditTestsViewModel.beginSave(function(t){t&&n._refreshGrid(ht.saveAllTestCases);n._updateToolbarCommandStates();it.using(["TestManagement/Scripts/TFS.TestManagement.Telemetry"],function(n){n.TelemetryService.publishEvents(n.TelemetryService.featureTestCaseGrid_SaveTestCases,{})});a.logTracePoint("BulkEntry.SaveAll.Complete")},function(n){alert(it.getErrorMessage(n))})},t.prototype._refreshGrid=function(n,t){this.onLayoutComplete(n,t);this._options.source=this._bulkEditTestsViewModel.getDataSource();(n===ht.pageTestCases||n===ht.saveAllTestCases)&&this._saveRowSelection();n===ht.pageTestCases||n===v.EditableGrid.Commands.CMD_APPEND?(this.setDataSource(this._options.source,this._options.expandStates,this._options.columns,this._options.sortOrder,0,!0),this._updateViewportForNewlyPagedData(),a.logTracePoint("BulkEntry.Grid.NewlyPagedData.Complete")):(n===v.EditableGrid.Commands.CMD_DELETE_ROWS?this._adjustContentSpacerHeightsPostDelete():(n===ht.insertTestStep||n===v.EditableGrid.Commands.CMD_INSERT_ROW)&&this._includeNewlyInsertedRowsInViewport(t),this.setDataSource(this._options.source,this._options.expandStates,this._options.columns,this._options.sortOrder));this._updateCountText()},t.prototype._cleanUpGrid=function(){this._removeCountText();n.prototype._cleanUpGrid.call(this)},t.prototype._updateCountText=function(){this._$countTextSpan||(this._$countTextSpan=$("<span class='bulk-edit-test-count hub-title-right' />").insertBefore(".hub-title"));this._$countTextSpan.text(nt.format(s.BulkEditCountText,this._bulkEditTestsViewModel.getTotalTestsShown(),this._bulkEditTestsViewModel.getTotalTestsInSuite()))},t.prototype._removeCountText=function(){this._$countTextSpan&&(this._$countTextSpan.remove(),this._$countTextSpan=null)},t.prototype._saveRowSelection=function(){this._savedSelectedRows=this._selectedRows},t.prototype._restoreRowSelection=function(){var n;if(this._savedSelectedRows){for(n in this._savedSelectedRows)this._savedSelectedRows.hasOwnProperty(n)&&this._addSelection(parseInt(n,10),this._savedSelectedRows[n],{doNotFireEvent:!0,keepSelectionStart:!0});this._savedSelectedRows=null}},t.prototype._updateToolbarCommandStates=function(){this._menuBar.updateCommandStates([{id:ht.refreshTestCases,disabled:!this._bulkEditTestsViewModel.canRefreshTestCases()},{id:ht.saveAllTestCases,disabled:!this._bulkEditTestsViewModel.canSaveAllTestCases()}])},t.prototype._workItemChanged=function(t,i){var r=this,f,u;(f=i.workItem,u=f.getUniqueId(),u<=0)||(this._updateToolbarCommandStates(),g.delay(this,250,function(){var i,f,t;if(f=r._getDataRowsForWorkItem(u),f.length>0)for(i=0;i<f.length;i++)t=f[i],t&&r._updateRowStyle(t),g.delay(r,100,function(){n.prototype._updateRow.call(r,t,t.rowIndex,t.dataIndex,!1,0,null,!0)})}))},t.prototype._updateTestCaseCellSeparator=function(n){var t=this._dataSource[n.dataIndex],i=n.row,r=i.children();$.each(r,function(i,r){$(r).removeClass("testcase-title-cell");t&&t.isTestCase&&n.dataIndex>0&&$(r).addClass("testcase-title-cell")})},t.prototype._updateRowStyle=function(n){var i,t;n&&n.row&&(t=n.row,t.removeClass("dirty-workitem-row invalid-workitem-row"),t.attr("title",""),this._updateTestCaseCellSeparator(n),this._bulkEditTestsViewModel.isDirty(n.dataIndex)&&(t.addClass("dirty-workitem-row"),this._bulkEditTestsViewModel.isInvalid(n.dataIndex)&&(t.addClass("invalid-workitem-row"),i=this._bulkEditTestsViewModel.getError(n.dataIndex),i&&t.attr("title",i.message))))},t.prototype._getDataRowsForWorkItem=function(n){var t=this._rows,u=[],r,i;if(t)for(r in t)t.hasOwnProperty(r)&&(i=t[r],this._dataSource[i.dataIndex]&&this._dataSource[i.dataIndex].getValue("id")===n&&u.push(i));return u},t.prototype._handleEditorEndEdit=function(t,i){var u=this,r=this._getCurrentTestCase();r&&t&&tt.KeyUtils.isExclusivelyCtrl(t)&&String.fromCharCode(t.keyCode).toLowerCase()==="s"?this._bulkEditTestsViewModel.prepareTestCaseForEdit(r,function(){n.prototype._handleEditorEndEdit.call(u,t,i)}):n.prototype._handleEditorEndEdit.call(this,t,i)},t.prototype._onKeyDown=function(t){var r=tt.KeyCode,i=!1;if(this._viewModelInitialized&&this._bulkEditTestsViewModel.canHandleShortCutKeys()){t.keyCode===67&&t.ctrlKey||n.prototype._onKeyDown.call(this,t);switch(t.keyCode){case 83:if(tt.KeyUtils.isExclusivelyCtrl(t))this._saveAllTestCases(),i=!0;else return;break;case 67:if(window.clipboardData||t.altKey)if(t.ctrlKey)this._copyToClipboard(t);else return;break;case 86:if(window.clipboardData)if(t.ctrlKey)this._pasteFromClipboard(),i=!0;else return;break;case 88:if(window.clipboardData)if(t.ctrlKey)this._cutToClipboard();else return;break;case 80:t.altKey&&this._handleInsertShortCutKey()}i&&(t.preventDefault(),t.stopPropagation())}},t.prototype._getCurrentTestCase=function(){var n=this._getSelectedCellInfo();return n?this._bulkEditTestsViewModel.getTestCaseAtIndex(n.dataIndex):null},t.prototype._copyToClipboard=function(n){this._viewModelInitialized&&(this._inEditMode||this._bulkEditTestsViewModel.canHandleShortCutKeys()&&(this._currentlyCopying||(this._currentlyCopying=!0,a.logVerbose("[BulkEditTestsGrid._copyToClipboard] Selected data indices : "+this.getSelectedDataIndices()),this._copyAction.copy(this.getSelectedDataIndices(),n),this._currentlyCopying=!1)))},t.prototype._pasteFromClipboard=function(n,t){var r=this.getSelectedDataIndices(),i;this._viewModelInitialized&&(this._inEditMode||this._bulkEditTestsViewModel.canHandleShortCutKeys()&&(a.logVerbose("[BulkEditTestsGrid._pasteFromClipboard] Selected data indices : "+r),$.extend(n,{clipboardDataText:t}),i=this._getSelectionInfo(r),a.logVerbose("[BulkEditTestsGrid._pasteFromClipboard] Test case selected : "+i.isTestCaseSelected+" Test step selected "+i.isTestStepSelected),(!this._pasteActionProgressId||this._pasteActionProgressId<0)&&(this._pasteActionProgressId=it.globalProgressIndicator.actionStarted("pasteFromClipboard",!0),a.logVerbose("[BulkEditTestsGrid._pasteFromClipboard]Start progressIndicator id : "+this._pasteActionProgressId),this._pasteAction.paste(this.getSelectedDataIndices(),i,this._getSelectedCellInfo(),n)||(it.globalProgressIndicator.actionCompleted(this._pasteActionProgressId),a.logVerbose("[BulkEditTestsGrid._pasteFromClipboard]Finish progressIndicator id : "+this._pasteActionProgressId),this._pasteActionProgressId=-1))))},t.prototype._cutToClipboard=function(n){this._viewModelInitialized&&(this._inEditMode||this._bulkEditTestsViewModel.canHandleShortCutKeys()&&(a.logVerbose("[BulkEditTestsGrid._cutToClipboard] Selected data indices : "+this.getSelectedDataIndices()),this._cutAction.cut(this.getSelectedDataIndices(),n)))},t.prototype._handleInsertShortCutKey=function(){var t=this.getSelectedRowIndices(),n=this.getSelectedDataIndices(),i=this._getSelectionInfo(n);this._onInsertRow(n,t)},t.prototype._handleIdentityPickerInputChange=function(n){this._valueChanged=!0;n.getValue();n.setValue(n.getDisplayValue())},t.prototype._invalidateRowHeights=function(){this._bulkEditTestsViewModel.invalidateRowHeights()},t.prototype._onInsertRow=function(n){var r=this._getSelectedCellInfo(),t=this._getSelectionInfo([n[0]]),i=n.length;this._bulkEditTestsViewModel.insertRow(n[0],t.isTestStepSelected,i)},t.prototype._onDeleteRows=function(n){var r=n.length,t,i,f=this._getSelectionInfo(n),u;if(this._rowHeightsDifferencePostDelete=0,f.isSingleTestCaseSelected){if(!this._bulkEditTestsViewModel.removeSelectedTestCase(n))return;for(u=this._dataSource[n[0]].testCase._testSteps.length,r=u+1,t=0;t<u;t++)n.push(n[0]+t)}if(i=this._bulkEditTestsViewModel.getMinRowCount()-(this._count-r),a.logVerbose("[BulkEditTestsGrid._onDeleteRows]New empty rows to be added post delete  : "+i),this._bulkEditTestsViewModel.canDeleteRows(n)){for(t=0;t<r;t++)this._rowHeightsDifferencePostDelete+=this._getOuterRowHeight(n[t]);i>0&&(this._rowHeightsDifferencePostDelete-=i*this._emptyRowOuterHeight);f.isSingleTestCaseSelected?this._bulkEditTestsViewModel.deleteTestCase(n):this._bulkEditTestsViewModel.deleteRows(n)}},t.prototype._onClearRows=function(n){this._bulkEditTestsViewModel.canClearRows(n)&&this._bulkEditTestsViewModel.clearRows(n)},t.prototype._onDeleteKey=function(t){var i=n.prototype._getSelectedCellInfo.call(this),r=this.getSelectedDataIndices(),u=this.getSelectedRowIndices();i&&i.columnInfo.index==="id"?this._bulkEditTestsViewModel.isValidTestCase(i.dataIndex)||this._onClearRows(r,u):n.prototype._onDeleteKey.call(this,t)},t.prototype._updateViewportForNewlyPagedData=function(){var f=this,i,t,r,n,u;for(this._lastVisibleRange&&this._lastVisibleRange.length?(r=this._lastVisibleRange.length,i=this._lastVisibleRange[r-1][0]+1,t=this._lastVisibleRange[r-1][1]+1,n=this._lastVisibleRange):(n=[],t=0,i=0),a.logVerbose("[_updateViewportForNewlyPagedData]Number of rows ofdata now = "+this._count);t<this._count;t++,i++)n[n.length]=[i,t];u=it.globalProgressIndicator.actionStarted("updateViewPortForNewlyPagedData");a.logVerbose("[_updateViewportForNewlyPagedData]Starting drawing rows from "+n[0][1]+"to "+n[n.length-1][1]);this.setHeightForLowerContentSpacer(0);this._drawRows(n,!1);this._measureCanvasSize();a.logVerbose("[_updateViewportForNewlyPagedData]Finsished drawing rows from "+n[0][1]+"to "+n[n.length-1][1]);g.delay(this,50,function(){a.logVerbose("[_updateViewportForNewlyPagedData]Started delayed execution of updating viewport post getting more tests");f._updateViewport();it.globalProgressIndicator.actionCompleted(u);a.logVerbose("[_updateViewportForNewlyPagedData]Finished delayed execution of updating viewport post getting more tests")})},t.prototype.onBeginCellEdit=function(t,i){this._currentlyEditingColumnIndex=i;n.prototype.onBeginCellEdit.call(this,t,i);this._bulkEditTestsViewModel.beginEdit(t)},t.prototype._updateContextMenuCommandStates=function(t){var i=this._getSelectionInfo(this.getSelectedDataIndices()),r=i.isSingleTestCaseSelected||!i.isTestCaseSelected;t.updateCommandStates([{id:v.EditableGrid.Commands.CMD_DELETE_ROWS,disabled:!r},{id:v.EditableGrid.Commands.CMD_CLEAR_ROWS,disabled:i.isTestCaseSelected}]);n.prototype._updateContextMenuCommandStates.call(this,t)},t.prototype._onContextMenuItemClick=function(t){a.logTracePoint("BulkEntry.Grid.ContextMenu.Click");n.prototype._onContextMenuItemClick.call(this,t);this._updateToolbarCommandStates()},t.prototype._getSelectionInfo=function(n){for(var t=0,r=n.length,i=!1,u=!1,f=!1,t=0;t<r;t++)this._bulkEditTestsViewModel.isValidTestCase(n[t])?i=!0:this._bulkEditTestsViewModel.isTestStep(n[t])&&(u=!0);return f=i&&r===1,{isTestCaseSelected:i,isTestStepSelected:u,isSingleTestCaseSelected:f}},t.prototype._getRowHeightInfo=function(n){return this._bulkEditTestsViewModel.getRowHeightInfo(n)},t.prototype._setRowHeight=function(n,t){this._bulkEditTestsViewModel.setRowHeight(n,t)},t.prototype._onLastRowVisible=function(n){var t=this;a.logTracePoint("BulkEntry.Grid.LastRow.Visible");this._rowIndexToScrollAfterFetch=n;a.logVerbose("[_onLastRowVisible]Last row of grid is visible. Fetch more tests. Index to scroll to after fetch = "+n);this.delayExecute("fetchMoreTests",1,!0,function(){a.logVerbose("[_onLastRowVisible]Last row visible. Starting to get more tests");t._bulkEditTestsViewModel.fetchMoreTests()})},t.prototype.canEditCell=function(n,t){return this._bulkEditTestsViewModel.canEdit(n,t)},t.prototype.isSharedStepTitleCell=function(n,t){return this._bulkEditTestsViewModel.isSharedStep(n)&&t==="action"},t.enhancementTypeName="tfs.tcm.bulkEditTestsGrid",t._idColumn={index:"id",text:s.TestPointGridColumnID,canSortBy:!1,width:75,isMultiLine:!1,canEdit:!1,isRichText:!0,editOnSelect:!1,isHyperLink:!0},t._titleColumn={index:"testCaseTitle",text:s.TestPointGridColumnTitle,canSortBy:!1,width:300,isMultiLine:!1,canEdit:!0,editOnSelect:!1,isRichText:!1},t._actionColumn={index:"action",text:s.BulkEditActionColumnTitle,canSortBy:!1,width:300,canEdit:!0,isMultiLine:!0,editOnSelect:!1,isRichText:!0},t._expectedResultColumn={index:"expectedResult",text:s.BulkEditExpectedColumnTitle,canSortBy:!1,width:300,canEdit:!0,isMultiLine:!0,editOnSelect:!1,isRichText:!0},t}(v.EditableGrid);t.BulkEditTestsGrid=kt;it.tfsModuleLoaded("TFS.TestManagement.BulkEditTestsViewModel",t)});

define("TestManagement/Scripts/TFS.TestManagement.TreeView",["require","exports","Presentation/Scripts/TFS/Generated/TFS.TestManagement.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","TestManagement/Scripts/Resources/TFS.Resources.TestManagement","TestManagement/Scripts/Utils/TFS.TestManagement.LicenseAndFeatureFlagUtils","TestManagement/Scripts/TFS.TestManagement.Telemetry","TestManagement/Scripts/TFS.TestManagement","TestManagement/Scripts/TFS.TestManagement.Utils","VSS/Controls/TreeView","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","q","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.WebSettingsService"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var k,nt;Object.defineProperty(t,"__esModule",{value:!0});t.TestSuitesTree=t.Constants=t.NewSuiteCommandIds=void 0;var it=r.TfsContext,g=c.delegate,ut=a.domElem,rt=o.DAUtils,d=e.TelemetryService,tt=f.LicenseAndFeatureFlagUtils,b=function(){function n(){}return n.newStaticSuite="new-static-suite",n.newRequirementSuite="new-requirement-suite",n.newQueryBasedSuite="new-query-based-suite",n}();t.NewSuiteCommandIds=b;k=function(){function n(){}return n.DragSuiteLineClass="drag-suite-line",n.DragSuiteLineSelector=".drag-suite-line",n.DragSuiteTileClass="drag-suite-tile",n.DragNotDroppableClass="drag-not-droppable-icon",n.DragNotDroppableSelector=".drag-not-droppable-icon",n.DragDroppableClass="drag-droppable",n.DragDroppableSelector=".drag-droppable",n.DragSuiteNoFillIcon="bowtie-icon bowtie-status-no-fill",n}();t.Constants=k;nt=function(n){function t(t){var i=this,r;t&&(t.useArrowKeysForNavigation=!0);i=__construct(this,n,[t]);for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._assignTesterToSuite=null,i}return __extends(t,n),t.prototype.initializeOptions=function(t){var i;i={arguments:function(n){return{item:n.item}},executeAction:g(this,this.OnContextMenuItemClick),updateCommandStates:g(this,this._updateContextMenuCommandStates),contributionIds:["ms.vss-test-web.test-plans-suites-context"]};tt.AreAdvancedTestManagementFeaturesEnabled()&&this._enableDragDrop(t);this._isFilterApplied=t&&t.isFilterAppliedDelegate?t.isFilterAppliedDelegate:function(){return!1};n.prototype.initializeOptions.call(this,$.extend({cssClass:"testmanagement-suites-tree",contextMenu:i,showIcons:!0},t))},t.prototype.initialize=function(){var t;n.prototype.initialize.call(this);t=$(this._element).parents(".test-hub-view");this._element.on("selectionchanged",g(this,this._onSelectedSuiteChanged));this._bind("dblclick",g(this,this._beginEdit));this.$renameInputElem=$("<input type='text' class='testmanagement-suite-rename'/>").prependTo(t);this.$renameInputElem.hide();this._bind(this.getElement(),"scroll",g(this,this._onScroll));this._selectedSuiteId=0;this._treeOffsetFromTop=this._element.offset().top},t.prototype.setData=function(n){this._updateSuitesExpansionData();this.setSelectedNode(null);this._plan=n.plan;this._suites=n.suites;this._populate()},t.prototype.GetDisplaySuites=function(){return this._suites},t.prototype._onScroll=function(){this._editInProgress||this._endEdit()},t.prototype.getSelectedSuite=function(){var n=this.getSelectedNode();return n&&n.suite},t.prototype.setSelectedNode=function(t,i){var r={suite:t&&t.suite,canceled:!1};this._fire("selectedSuiteChanging",r);r.canceled||(this._supressNodeChangedEvent=i===!0,n.prototype.setSelectedNode.call(this,t),this._supressNodeChangedEvent=!1)},t.prototype.setSelectedSuite=function(n,t){var i,r=null;if(n){if(i=this.getSelectedSuite(),i&&i.id===n)return;a.walkTree.call(this.rootNode,function(t){t.suite&&t.suite.id===n&&(r=t)})}else r=this._rootSuiteNode;this.setSelectedNode(r,t);this.focus()},t.prototype.makeSelectedSuiteEditable=function(){this._makeEditable(this.getSelectedNode())},t.prototype.onShowPopupMenu=function(t,i){i=$.extend({},i,{items:this._getContextMenuItems(t)});n.prototype.onShowPopupMenu.call(this,t,i)},t.prototype._getContextMenuItems=function(n){var i=[],r;return tt.AreAdvancedTestManagementFeaturesEnabled()?n?(i=[{rank:5,id:t.TestSuitesTreeCommands.CMD_RUN,text:u.RunText,title:u.RunActiveTests,icon:"bowtie-icon bowtie-media-play-fill",showIcon:!0,showText:!0,groupId:"execute"}],i.push({rank:5,id:t.TestSuitesTreeCommands.CMD_RUN_WITH_OPTIONS,text:u.RunTestWithOptionsText,title:u.RunTestWithOptionsTooltip,icon:"bowtie-icon bowtie-media-play-fill",showIcon:!0,showText:!0,groupId:"execute"}),i.push({rank:6,separator:!0}),i.push({rank:8,id:b.newStaticSuite,text:u.NewStaticSuiteTitle,title:u.CreateStaticSuite,showText:!0,icon:"bowtie-icon bowtie-folder",showIcon:!0}),i.push({rank:9,id:b.newRequirementSuite,text:u.NewRequirementSuite,title:u.CreateRequirementSuite,showText:!0,icon:"bowtie-icon bowtie-tfvc-change-list",showIcon:!0}),i.push({rank:10,id:b.newQueryBasedSuite,text:u.NewQueryBasedSuiteTitle,title:u.CreateQueryBasedSuiteTitle,showText:!0,icon:"bowtie-icon bowtie-folder-query",showIcon:!0}),i.push({rank:11,separator:!0}),n.parent.id>0?(i.push({rank:12,id:t.TestSuitesTreeCommands.CMD_OPENSUITE,text:u.OpenTestSuite,icon:"bowtie-icon bowtie-arrow-open",showIcon:!0,showText:!0}),i.push({rank:13,id:t.TestSuitesTreeCommands.CMD_RENAME,text:u.RenameText,title:u.RenameSuite,icon:"bowtie-icon bowtie-edit-rename",showIcon:!0,showText:!0}),i.push({rank:14,id:t.TestSuitesTreeCommands.CMD_DELETE,text:u.PermanentlyDeleteText,title:u.PermanentlyDeleteSuite,icon:"bowtie-icon bowtie-edit-delete",showIcon:!0,showText:!0}),i.push({rank:15,separator:!0})):(i.push({rank:12,id:t.TestSuitesTreeCommands.CMD_OPENINCLIENT,text:u.OpenInClient,title:u.OpenInClientTooltip,icon:"bowtie-icon bowtie-brand-mtm bowtie-icon-large",showIcon:!0,showText:!0}),i.push({rank:13,id:t.TestSuitesTreeCommands.CMD_OPENPLAN,text:u.OpenTestPlan,icon:"bowtie-icon bowtie-arrow-open",showIcon:!0,showText:!0}),i.push({rank:14,id:t.TestSuitesTreeCommands.CMD_DELETE_PLAN,text:u.PermanentlyDeleteText,title:u.PermanentlyDeletePlan,icon:"bowtie-icon bowtie-edit-delete",showIcon:!0,showText:!0}),i.push({rank:15,separator:!0})),i.push({rank:16,id:t.TestSuitesTreeCommands.CMD_EXPORT,text:u.ExportHtml,title:u.ExportHtmlTooltip,icon:"bowtie-icon bowtie-print",showIcon:!0,showText:!0}),i.push({rank:17,separator:!0}),i.push({rank:18,id:t.TestSuitesTreeCommands.CMD_ASSIGN_TESTERS_TO_SUITE,text:u.AssignTestersToSuite,title:u.AssignTestersToSuiteToolTip,icon:"bowtie-icon bowtie-users",showIcon:!0,showText:!0}),r=u.AssignConfigurationsToPlan,parseInt(n.parent.id)!==0&&(r=u.AssignConfigurationsToSuite),i.push({rank:20,id:t.TestSuitesTreeCommands.CMD_ASSIGN_CONFIGURATIONS_TO_SUITE,text:r,title:u.AssignConfigurationsToSuiteToolTip,icon:"bowtie-icon bowtie-server-remote",showIcon:!0,showText:!0}),n.parent.root&&(i.push({rank:21,separator:!0}),i.push({rank:22,id:t.TestSuitesTreeCommands.CMD_SET_TESTOUTCOME_SETTINGS,text:u.ConfigureTestOutcomeSettings,title:u.ConfigureTestOutcomeSettings,icon:"bowtie-icon bowtie-settings-gear",showIcon:!0,showText:!0})),i):void 0:(i.push({rank:5,id:t.TestSuitesTreeCommands.CMD_RUN,text:u.RunText,title:u.RunActiveTests,icon:"bowtie-icon bowtie-media-play-fill",showIcon:!0,showText:!0,groupId:"execute"}),i)},t.prototype._createNewSuiteSubMenuItems=function(){var n=[];return n.push({id:b.newStaticSuite,text:u.StaticSuiteTitle,title:u.CreateStaticSuite,showText:!0,icon:"bowtie-icon bowtie-folder",showIcon:!0}),n.push({id:b.newRequirementSuite,text:u.RequirementSuite,title:u.CreateRequirementSuite,showText:!0,icon:"bowtie-icon bowtie-tfvc-change-list",showIcon:!0}),n.push({id:b.newQueryBasedSuite,text:u.QueryBasedSuiteTitle,title:u.CreateQueryBasedSuiteTitle,showText:!0,icon:"bowtie-icon bowtie-folder-query",showIcon:!0}),n},t.prototype.OnContextMenuItemClick=function(n){var i=n.get_commandName(),u=n.get_commandArgument(),r=u.item;i===t.TestSuitesTreeCommands.CMD_RENAME?this._makeEditable(r):i===t.TestSuitesTreeCommands.CMD_DELETE?this.deleteTestSuiteDelegate(r.suite):i===t.TestSuitesTreeCommands.CMD_DELETE_PLAN?this.deleteTestPlanDelegate():i===t.TestSuitesTreeCommands.CMD_RUN?this.runTestSuiteDelegate(r.suite,!1):i===t.TestSuitesTreeCommands.CMD_RUN_WITH_OPTIONS?this.runTestSuiteDelegate(r.suite,!0):i===t.TestSuitesTreeCommands.CMD_OPENINCLIENT?this.openTestPlanInClientDelegate():i===t.TestSuitesTreeCommands.CMD_EXPORT?this.launchExportHtmlDialogDelegate(r.suite):i===b.newStaticSuite||i===b.newRequirementSuite||i===b.newQueryBasedSuite?this.createNewSuiteDelegate(r.suite,i):i===t.TestSuitesTreeCommands.CMD_OPENPLAN?this.openTestPlanDelegate():i===t.TestSuitesTreeCommands.CMD_OPENSUITE?this.openTestSuiteDelegate(r.suite):i===t.TestSuitesTreeCommands.CMD_ASSIGN_TESTERS_TO_SUITE?this._openAssignTesterToSuiteDialog(r.suite):i===t.TestSuitesTreeCommands.CMD_ASSIGN_CONFIGURATIONS_TO_SUITE?this.assignConfigurationsToSuiteDelegate(r):i===t.TestSuitesTreeCommands.CMD_SET_TESTOUTCOME_SETTINGS&&this._launchTestOutcomeSettingsDialog(r)},t.prototype._launchTestOutcomeSettingsDialog=function(n){var t=this;v.using(["TestManagement/Scripts/TFS.TestManagement.Controls"],function(i){var r=function(t){var r={enabled:t,planId:n.plan.id,planName:n.plan.name};i.TestDialogs.configureOutcomeSettings(r)};t.beginGetTestOutcomeSettings(n.plan.id).then(r)})},t.prototype.beginGetTestOutcomeSettings=function(n){var t=this._getTestOutcomeSettingsRegistryKey(n);return this._beginReadProjectSettings(t).then(function(n){return n.value?n.value==="true":!1})},t.prototype.checkIfThresholdExceededForExportFeature=function(){var n=!1,t=this.getSelectedNode(),r=this.getChildSuitesCountToExceedThresholdForExport(t);return r>i.ExportHtml.TestSuitesLimit&&(n=!0),n},t.prototype.getChildSuitesCountToExceedThresholdForExport=function(n){var t=1,f,u,r;if(!n)return 0;if(f=n.children||[],u=f.length,u===0)return 1;for(r=0;r<u;r++)if(t+=this.getChildSuitesCountToExceedThresholdForExport(n.children[r]),t>i.ExportHtml.TestSuitesLimit)return t;return t},t.prototype._getTestOutcomeSettingsRegistryKey=function(n){return l.format("MS.VS.TestManagement/TestOutcomeSettings/TestPlan/{0}",n)},t.prototype._beginReadProjectSettings=function(n){var t=y.defer(),i=p.ProjectCollection.getConnection(it.getDefault()).getService(w.WebSettingsService);return i.beginReadSetting(n,w.WebSettingsScope.Project,t.resolve,t.reject),t.promise},t.prototype._updateContextMenuCommandStates=function(n){var f,u,r;f=this._getPopupMenuContextInfo(n);u=f.item.suite;r=u&&u.type===i.TestSuiteType.StaticTestSuite;n.updateCommandStates([{id:t.TestSuitesTreeCommands.CMD_NEWSUITE,disabled:!r},{id:b.newStaticSuite,disabled:!r},{id:b.newRequirementSuite,disabled:!r},{id:b.newQueryBasedSuite,disabled:!r}])},t.prototype._getPopupMenuContextInfo=function(n){for(var t=n;t&&!t._options.contextInfo;)t=t._parent;return t._options.contextInfo},t.prototype._makeEditable=function(n){var u=this;try{this._editInProgress=!0;var r=this._getNodeElement(n),f=r.find(".tree-node-img").first(),c=f.offset().left+f.outerWidth(!0),i=this.$renameInputElem,e=r.offset(),o=r.find("a").first(),h=r.find(".node-context-menu.icon").first();e.left=c;n&&n.parent.id>0&&i.data(t._editingSuiteIdData)!==n.suite.id&&(i.val(n.suite.title),i.data(t._editingSuiteOldNameData,n.suite.title),i.data(t._editingNodeAnchorData,o),i.data(t._editingNodeContextMenuData,h),i.data(t._editingSuiteIdData,n.suite.id),o.css("visibility","hidden"),h.css("visibility","hidden"),i.show(),i.offset(e),this._bind(i,"blur",g(this,this._endEdit)),this._bind(i,"keydown",function(n){if(n.which===a.KeyCode.ENTER||n.which===a.KeyCode.ESCAPE)return u._endEdit(n,n.which===a.KeyCode.ESCAPE),!1}),this.delayExecute("makeEditable",10,!0,function(){i.focus();s.setTextSelection(i[0],0,n.suite.title.length);u._editInProgress=!1}))}catch(l){this._editInProgress=!1}},t.prototype.focus=function(){if(this._selectedNode)try{this._getNodeElement(this._selectedNode).children(".node-link").get(0).focus()}catch(n){}},t.prototype._onBlur=function(){n.prototype._clearFocusOnElement.call(this)},t.prototype._beginEdit=function(n){this._endEdit();var i=$(n.target).closest("li.node"),t;t=this._getNode(i);t&&t.selected&&this._makeEditable(t)},t.prototype._endEdit=function(n,i){var s=this,c,f,r=this.$renameInputElem,h=r.data(t._editingSuiteOldNameData),e=r.val(),v=function(n,t){n.suite.title=t;n.text=s._getNodeText(n.suite);n.title=s._getNodeTitle(n.suite);s.updateNode(n)},o=r.data(t._editingNodeAnchorData),l=r.data(t._editingNodeContextMenuData);rt.trackAction("RenameSuite","/SuiteManagement");o&&l&&(r.hide(),c=o.closest("li.node"),f=this._getNode(c),o.css("visibility","visible"),l.css("visibility","visible"),r.data(t._editingSuiteIdData,0),r.data(t._editingNodeAnchorData,null),r.data(t._editingNodeContextMenuData,null),i||typeof this.renameTestSuiteDelegate!="function"||h===e?n&&n.type!=="blur"&&a.tryFocus(o,10):e.trim()?(v(f,e),this.renameTestSuiteDelegate(f.suite,e,function(n,t){return function(){n&&(n.text=h,n.suite.title=h,t.updateNode(n))}}(f,this))):alert(u.SuiteNameCannotBeEmpty))},t.prototype.onItemClick=function(t,i,r){if(r&&r.target){var u=$(r.target),f=t.parent;if(u.hasClass("node-remove"))if(parseInt(f.id)===0){if(typeof this.deleteTestPlanDelegate=="function")return this.deleteTestPlanDelegate(),!1}else if(typeof this.deleteTestSuiteDelegate=="function")return this.deleteTestSuiteDelegate(t.suite),!1}return n.prototype.onItemClick.call(this,t,i,r),!1},t.prototype._onInputKeyDown=function(t){if(t.keyCode===113){this._beginEdit(t);return}n.prototype._onInputKeyDown.call(this,t)},t.prototype._toggle=function(t,i){this._endEdit();n.prototype._toggle.call(this,t,i)},t.prototype._updateNode=function(t,i,r){var f=n.prototype._updateNode.call(this,t,i,r);return tt.AreAdvancedTestManagementFeaturesEnabled()&&(r>0?$("<span />").addClass("node-remove").attr("title",u.PermanentlyDeleteSuite).addClass("bowtie-icon bowtie-edit-delete").appendTo(f):$("<span />").addClass("node-remove").attr("title",u.PermanentlyDeletePlan).addClass("bowtie-icon bowtie-edit-delete").appendTo(f)),f},t.prototype.expandAll=function(){var n=this,t;a.walkTree.call(this.rootNode,function(i){t=n._getNodeElement(i);n._setNodeExpansion(i,t,!0)})},t.prototype.collapseAll=function(){var n=this,t;a.walkTree.call(this.rootNode,function(i){t=n._getNodeElement(i);n._setNodeExpansion(i,t,!1)})},t.prototype.getUniqueNameIndexInCurrentSuite=function(n,t){var r=this.getSelectedNode(),i=0,u;if(r)do if(i++,u=i===1?n:l.format(t,n,i.toString()),!r.findNode(u))break;while(1);return i},t.prototype.clearTreeView=function(){this.rootNode.clear();this._draw()},t.prototype._populate=function(){this.rootNode.clear();this._addRootSuite(this._plan,this._suites,this.rootNode);this._draw()},t.prototype._getNodeHeight=function(){var i=this._getVisibleNodesInOrder(),r,n=i.length,t;if(n>0&&(t=this._element.find(".tree-children div.node-content"),t&&t.length>0)){var f=t[0].offsetHeight,e=this._getNodeElement(i[0]),u=e.height(),o=(u-n*f)/(n-1);r=(u+o)/n}return r},t.prototype._onSelectedSuiteChanged=function(){var i=this,n=this.getSelectedSuite(),r=this.getSelectedNode(),t=this._getNodeElement(r).children(".node-link").first();this._supressNodeChangedEvent||this._selectedSuiteId===n.id||this._fire("selectedSuiteChanged",{suite:this.getSelectedSuite()});this._selectedSuiteId=n.id;t&&!t.is(":focus")&&this.delayExecute("focusSelectedSuite",50,!0,function(){i.focus()})},t.prototype.updateSelectedSuite=function(){var n=this.getSelectedNode();n.text=this._getNodeText(n.suite);n.title=this._getNodeTitle(n.suite);this.$renameInputElem.data(t._editingSuiteIdData)!==n.suite.id&&this.updateNode(n)},t.prototype._enableDragDrop=function(n){var i=this;n.draggable=$.extend({scroll:!1,scrollables:[".testmanagement-suites-tree"],scope:t.DropScope,appendTo:document.body,distance:20,helper:function(n){return i._draggableHelper(this,n)},cursorAt:{left:-20,top:0},containment:".testmanagement-suites-tree",start:function(n,t){i._draggableStart(this,n,t)},stop:function(n){i._draggableStop(n)},drag:function(n,t){i._draggableDrag(this,n,t)}},n.draggable);n.droppable=$.extend({classes:{"ui-droppable-hover":"droppable-hover"},scope:t.DropScope,tolerance:"pointer",accept:function(n){return i._droppableAccept(this,n)},drop:function(n,t){return i._droppableDrop(this,n,t)},over:function(n,t){i._droppableOver($(this),n,t)},greedy:!0},n.droppable)},t.prototype._isSuiteDraggedOnNonStaticSuite=function(n,t){var r=n.hasClass("tree-drag-tile");return r&&t.type!==i.TestSuiteType.StaticTestSuite},t.prototype._areTestCasesDraggedOnQueryBasedSuite=function(n,t){var r=!n.hasClass("tree-drag-tile");return r&&t.type===i.TestSuiteType.DynamicTestSuite},t.prototype._draggableStart=function(n,t,i){var f=$(n).data(h.TreeView.NODE_DATA_NAME),r,u;if(!f.suite)return!1;this._nodeHeight||(this._nodeHeight=this._getNodeHeight());r=this._element.scrollTop();u=(i.offset.top+r-this._treeOffsetFromTop)/this._nodeHeight;this._dragStartInfo={top:i.offset.top,nodeIndex:u}},t.prototype._draggableStop=function(){this._dragStartInfo=null;this._lastDropTarget=null;this._resetSuiteDragDroppable()},t.prototype._draggableDrag=function(n,t,i){var s,u;if(this._dragStartInfo){s=$(n).data(h.TreeView.NODE_DATA_NAME);this._lastDropTarget=this._getDropTargetInfo(i.offset,s);var f=i.helper,r=f.find(k.DragDroppableSelector),e=f.find(k.DragNotDroppableSelector),o=f.find(k.DragSuiteLineSelector);this._lastDropTarget?(u=this._lastDropTarget.destNode,this._clearFocus(),u&&u.suite&&(this._isSuiteDraggedOnNonStaticSuite(r,u.suite)||this._areTestCasesDraggedOnQueryBasedSuite(r,u.suite)?this._hideSuiteDraggerAndShowNotDroppableStyle(r,e,o):this._showSuiteDragger(r,e,o))):this._hideSuiteDraggerAndShowNotDroppableStyle(r,e,o)}},t.prototype._showSuiteDragger=function(n,t,i){if(n.show(),t.hide(),this._lastDropTarget.overlap){i.hide();var r=this._getNodeElement(this._lastDropTarget.destNode);r.addClass("focus")}else i.show()},t.prototype._hideSuiteDraggerAndShowNotDroppableStyle=function(n,t,i){n.hide();t.show();i.hide()},t.prototype._droppableOver=function(n,t,i){var r=this._getNode(n),u=i.helper,f=u.find(k.DragDroppableSelector),e=u.find(k.DragNotDroppableSelector),o;r&&r.suite&&(this._areTestCasesDraggedOnQueryBasedSuite(f,r.suite)?(o=u.find(k.DragSuiteLineSelector),f.hide(),e.show(),o.hide()):(f.show(),e.hide()));this._removeDroppableHoverAndSelectedClass()},t.prototype._clearFocus=function(){$("ul.tree-children li.focus").removeClass("focus");this._removeDroppableHoverAndSelectedClass()},t.prototype._removeDroppableHoverAndSelectedClass=function(){$("ul.tree-children li.droppable-hover").removeClass("droppable-hover");$("ul.tree-children li.selected").removeClass("selected")},t.prototype._draggableHelper=function(n){var t=$.extend({},$(n).data(h.TreeView.NODE_DATA_NAME)),u=$(n).data(h.TreeView.LEVEL_DATA_NAME),i=$("<li />").addClass("tree-drag-tile drag-droppable"),f=this._getNode($(n)),r;return t.expanded=!1,t.selected=!1,t.droppable=!1,this._updateNode(i,t,u),r=$("<div />").addClass(k.DragSuiteLineClass).css("width",this._element.width()),i.css("width",n.clientWidth),$("<div />").addClass(k.DragSuiteTileClass).append($("<div />").addClass(k.DragNotDroppableClass).addClass(k.DragSuiteNoFillIcon)).append(r).append(i)},t.prototype._droppableAccept=function(n,t){var i=$(n).data(h.TreeView.NODE_DATA_NAME),r=t.data(h.TreeView.NODE_DATA_NAME);return r&&i&&i.suite?!0:this.testPointDroppableAcceptDelegate()?!0:!1},t.prototype._droppableDrop=function(n,t,r){var a=this,c=$(n),f=c.data(h.TreeView.NODE_DATA_NAME),s=r.draggable[0],e=s?$(s).data(h.TreeView.NODE_DATA_NAME):null,o;if(e&&e.suite){if(o=this._getDropTargetInfo(r.offset,e),!o)return!0;f=o.destNode;f&&f.suite&&e.suite.id!==f.suite.id&&f.suite.type===i.TestSuiteType.StaticTestSuite&&(e.text=l.format(u.DirtyText,e.suite.title),this.updateNode(e),this._moveTreeNode(e,f,o.position),d.publishEvents(d.featureSuiteReorder,{SourceSuiteType:e.suite.type,DestinationSuiteType:f.suite.type}))}else f.suite.type!==i.TestSuiteType.DynamicTestSuite&&(this.moveTestSuiteEntryDelegate(f.suite),d.publishEvents(d.featureTestCaseMove,{}));return!0},t.prototype._moveTreeNode=function(n,t,i){var r=n.parent.suite,u=t.suite,f=n.suite;r&&u&&f&&this.moveTestSuiteEntryDelegate(u,r,f,i,function(n,t){return function(){n&&(n.text=t._getNodeText(n.suite),t.updateNode(n))}}(n,this))},t.prototype.updateNodes=function(n,t){var r=this,i;a.walkTree.call(this.rootNode,function(u){i=u.suite;i&&(i.pointCount=n[i.id]?n[i.id]:0,i.totalPointCount=t[i.id]?t[i.id]:0,u.text=r._getNodeText(u.suite),u.title=r._getNodeTitle(u.suite),r.updateNode(u))})},t.prototype._updateSuitesExpansionData=function(){var n=this;this._suiteExpansionData={};this.rootNode&&a.walkTree.call(this.rootNode,function(t){t.expanded&&t.suite&&(n._suiteExpansionData[t.suite.id]=!0)})},t.prototype.updateSuitesRevisionAndPointCount=function(n){var i=this,t,r=n.length;this.rootNode&&r&&a.walkTree.call(this.rootNode,function(u){for(t=0;t<r;t++)if(u.suite&&u.suite.id===n[t].id&&(u.suite.revision=n[t].revision,n[t].pointCount)){u.suite.pointCount=n[t].pointCount;u.suite.totalPointCount=n[t].pointCount;u.text=i._getNodeText(u.suite);u.title=i._getNodeTitle(u.suite);i.updateNode(u);break}})},t.prototype._getSuiteType=function(n){var t=i.TestSuiteType;return n===t.StaticTestSuite?u.StaticSuiteTitle:n===t.RequirementTestSuite?u.RequirementBasedSuiteTitle:n===t.DynamicTestSuite?u.QueryBasedSuiteTitle:void 0},t.prototype._getIcon=function(n){var t=i.TestSuiteType;return n.type===t.RequirementTestSuite?"bowtie-icon bowtie-tfvc-change-list":n.type===t.DynamicTestSuite?"bowtie-icon bowtie-folder-query":"bowtie-icon bowtie-folder"},t.prototype._getNodeTitle=function(n){var t=s.TestSuiteUtils.getSuiteTypeString(n.type),r=n.title,i=r+l.newLine+(t?l.format(u.SuiteTypeFormatText,t):"");return this._isFilterApplied&&this._isFilterApplied()?i+l.newLine+l.format(u.TestSuiteVisiblePointCountText,n.pointCount?n.pointCount.toString():"0")+l.newLine+l.format(u.TestSuitePointCountText,n.totalPointCount?n.totalPointCount.toString():"0"):i+l.newLine+l.format(u.TestSuitePointCountText,n.totalPointCount?n.totalPointCount.toString():"0")},t.prototype._getNodeText=function(n){var t=n.title;return this._isFilterApplied&&this._isFilterApplied()?n.totalPointCount?l.format(u.SuiteTitleWithTotalPointCount,t,n.pointCount.toString(),n.totalPointCount.toString()):t:n.totalPointCount?l.format(u.SuiteTitleWithPointCount,t,n.totalPointCount.toString()):t},t.prototype._addRootSuite=function(n,t,i){var f=this,r,e=this._suiteExpansionData,u;n.rootSuiteId&&(u=t[n.rootSuiteId],u&&(u.title=n.name,r=this._createAndPrepareNode(u,!0),r.plan=n,r.expanded=!0,i.add(r),$.each(u.childSuiteIds,function(n,i){f._addSuiteNode(i,t,r)})))},t.prototype._createAndPrepareNode=function(n,t){var i;return i=h.TreeNode.create(this._getNodeText(n)),t||(i.draggable=!0),i.droppable=!0,i.suite=n,i.title=this._getNodeTitle(n),i.getContributionContext=this._getSuiteContributionContextFunc.bind(this,i),t||(i.icon=this._getIcon(n)),i},t.prototype._getSuiteContributionContextFunc=function(n){for(var i=n.suite,t=n.plan;!t&&n.parent;)n=n.parent,t=n.plan;return{suite:i,plan:t}},t.prototype._addSuiteNode=function(n,t,i){var f=this,u=t[n],r=null;u&&(r=this._createAndPrepareNode(u),this._suiteExpansionData[n]&&(r.expanded=!0),i.add(r),$.each(u.childSuiteIds,function(n,i){f._addSuiteNode(i,t,r)}))},t.prototype._openAssignTesterToSuiteDialog=function(n){var t=this;v.using(["TestManagement/Scripts/TFS.TestManagement.AssignTestersToSuite"],function(i){null===t._assignTesterToSuite&&(t._assignTesterToSuite=new i.AssignTestersToSuite);t._assignTesterToSuite.AssignTesters(t._plan.id,n,c.delegate(t,t._assignTesterToSuiteDialogClosed),t.showErrorDelegate);d.publishEvent(d.featureAssignTester,d.assignTester,1)})},t.prototype._assignTesterToSuiteDialogClosed=function(){this._fire("selectedSuiteUpdated")},t.prototype._resetSuiteDragDroppable=function(){$(k.DragDroppableSelector,this._element).remove()},t.prototype._getDropTargetInfo=function(n,t){var u=!1,s=this._element.scrollTop(),f={top:n.top+s-this._treeOffsetFromTop},r,e,o,i;return f.top<=0?null:(r=Math.floor(f.top/this._nodeHeight),e=f.top%this._nodeHeight,r===this._dragStartInfo.nodeIndex)?null:(e>0&&e<15&&(u=!0),o=this._getVisibleNodesInOrder(),i=this._getAdjacentTreeNodeInfo(o,r),!(i.previousNode||i.nextNode))?null:u?{position:0,destNode:i.previousNode,overlap:u}:this._getTargetInfo(i,t,r)},t.prototype._getTargetInfo=function(n,t,i){var f=0,e=0,u,r;return n.previousNode&&(e=n.previousNode.level(!1)),n.nextNode&&(f=n.nextNode.level(!1)),e>f?(u=n.previousNode.parent,r=n.previousNode.order,t.parent.id!=u.id&&(r=r+1)):e<f?(u=n.nextNode.parent,r=n.nextNode.order):(u=n.nextNode.parent,r=n.nextNode.order,t.parent.id==u.id&&this._dragStartInfo.nodeIndex<i&&(r=n.previousNode.order)),{position:r,destNode:u,overlap:!1}},t.prototype._getAdjacentTreeNodeInfo=function(n,t){var i=n.length,r,u;return i>=t&&(r=n[t],t<i&&(u=n[t+1])),{previousNode:r,nextNode:u}},t.prototype._getVisibleNodesInOrder=function(){var t=[],n;return this.rootNode&&(n=this.rootNode.children[0],n.order=0,t.push(n),this._populateExpandedTreeNodeWithOrder(n,t)),t},t.prototype._populateExpandedTreeNodeWithOrder=function(n,t){var u,i,f,r;if(n.expanded)for(u=n.children,i=0,f=u.length;i<f;i++)r=u[i],r.order=i,t.push(r),this._populateExpandedTreeNodeWithOrder(r,t)},t._editingNodeAnchorData="nodeAnchor",t._editingNodeContextMenuData="nodeContextMenu",t._editingSuiteIdData="editSuiteId",t._editingSuiteOldNameData="oldName",t.enhancementTypeName="tfs.testmanagement.TestSuitesTree",t.DropScope="Suite",t.TestSuitesTreeCommands={CMD_RENAME:"rename-suite",CMD_DELETE:"delete-suite",CMD_DELETE_PLAN:"delete-plan",CMD_RUN:"run-suite",CMD_RUN_WITH_OPTIONS:"run-with-options",CMD_OPENINCLIENT:"open-in-client",CMD_NEWSUITE:"create-new-suite",CMD_OPENPLAN:"open-plan",CMD_OPENSUITE:"open-suite",CMD_EXPORT:"export-to-html",CMD_ASSIGN_TESTERS_TO_SUITE:"assign-testers-to-suite",CMD_ASSIGN_CONFIGURATIONS_TO_SUITE:"assign-configurations-to-suite",CMD_SET_TESTOUTCOME_SETTINGS:"set-test-outcome-settings"},t}(h.TreeView);t.TestSuitesTree=nt;v.initClassPrototype(nt,{_plan:0,_suites:null,_selectedSuiteId:0,_tfsContext:null,_initialSuiteId:0,deleteTestSuiteDelegate:null,renameTestSuiteDelegate:null,moveTestSuiteEntryDelegate:null,runTestSuiteDelegate:null,createNewSuiteDelegate:null,openTestPlanDelegate:null,_supressNodeChangedEvent:!1,$renameInputElem:null,_rootSuiteNode:null,_suiteExpansionData:null});v.classExtend(nt,it.ControlExtensions)});

define("TestManagement/Scripts/TFS.TestManagement.TestHubShortcutsControls",["require","exports","TfsCommon/Scripts/KeyboardShortcuts","TestManagement/Scripts/Utils/TFS.TestManagement.LicenseAndFeatureFlagUtils","TestManagement/Scripts/Resources/TFS.Resources.TestManagement"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.TestHubCommonShortcutGroup=void 0;var f=r.LicenseAndFeatureFlagUtils,e=function(n){function t(i){var r=n.call(this,u.HubNavigationShortcutGroupText)||this;return r.allowAction=i?i:function(){return!0},r.registerPageNavigationShortcut("n",{description:u.GotoTestplanHubKeyboardShortcutText,action:function(){return r._performAction(function(){r.navigateToAction("",t.testManagemnetController)})},allowPropagation:!0}),f.AreAdvancedTestManagementFeaturesEnabled()&&r.registerPageNavigationShortcut("m",{description:u.GotoParametersHubKeyboardShortcutText,action:function(){return r._performAction(function(){r.navigateToAction("sharedParameters",t.testManagemnetController)})},allowPropagation:!0}),r.registerPageNavigationShortcut("r",{description:u.GotoRunsHubKeyboardShortcutText,action:function(){return r._performAction(function(){r.navigateToAction("runs",t.testManagemnetController)})},allowPropagation:!0}),r.registerPageNavigationShortcut("h",{description:u.GotoMachinesHubKeyboardShortcutText,action:function(){return r._performAction(function(){r.navigateToAction("",t.machinesController)})},allowPropagation:!0}),r}return __extends(t,n),t.prototype._performAction=function(n){this.allowAction&&this.allowAction()&&n()},t.testManagemnetController="testManagement",t.machinesController="machines",t.testManagementLiteController="plans",t}(i.ShortcutGroupDefinition);t.TestHubCommonShortcutGroup=e});

/*!
 * Knockout JavaScript library v3.5.1
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

(function() {(function(n){var A=this||(0,eval)("this"),w=A.document,R=A.navigator,v=A.jQuery,H=A.JSON;v||"undefined"===typeof jQuery||(v=jQuery);(function(n){"function"===typeof define&&define.amd?define("knockout",["exports","require"],n):"object"===typeof exports&&"object"===typeof module?n(module.exports||exports):n(A.ko={})})(function(S,T){function K(a,c){return null===a||typeof a in W?a===c:!1}function X(b,c){var d;return function(){d||(d=a.a.setTimeout(function(){d=n;b()},c))}}function Y(b,c){var d;return function(){clearTimeout(d);
d=a.a.setTimeout(b,c)}}function Z(a,c){c&&"change"!==c?"beforeChange"===c?this.pc(a):this.gb(a,c):this.qc(a)}function aa(a,c){null!==c&&c.s&&c.s()}function ba(a,c){var d=this.qd,e=d[r];e.ra||(this.Qb&&this.mb[c]?(d.uc(c,a,this.mb[c]),this.mb[c]=null,--this.Qb):e.I[c]||d.uc(c,a,e.J?{da:a}:d.$c(a)),a.Ja&&a.gd())}var a="undefined"!==typeof S?S:{};a.b=function(b,c){for(var d=b.split("."),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c};a.L=function(a,c,d){a[c]=d};a.version="3.5.1";a.b("version",
a.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1};a.a=function(){function b(a,b){for(var c in a)f.call(a,c)&&b(c,a[c])}function c(a,b){if(b)for(var c in b)f.call(b,c)&&(a[c]=b[c]);return a}function d(a,b){a.__proto__=b;return a}function e(b,c,d,e){var l=b[c].match(q)||[];a.a.D(d.match(q),function(b){a.a.Na(l,b,e)});b[c]=l.join(" ")}var f=Object.prototype.hasOwnProperty,g={__proto__:[]}instanceof Array,h="function"===typeof Symbol,m={},k={};m[R&&/Firefox\/2/i.test(R.userAgent)?
"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];m.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(m,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)k[b[c]]=a});var l={propertychange:!0},p=w&&function(){for(var a=3,b=w.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:n}(),q=/\S+/g,t;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],
D:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a)},A:"function"==typeof Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},Lb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d];return n},Pa:function(b,c){var d=a.a.A(b,c);0<d?b.splice(d,1):0===d&&b.shift()},wc:function(b){var c=[];b&&a.a.D(b,function(b){0>a.a.A(c,b)&&c.push(b)});return c},Mb:function(a,
b,c){var d=[];if(a)for(var e=0,l=a.length;e<l;e++)d.push(b.call(c,a[e],e));return d},jb:function(a,b,c){var d=[];if(a)for(var e=0,l=a.length;e<l;e++)b.call(c,a[e],e)&&d.push(a[e]);return d},Nb:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},Na:function(b,c,d){var e=a.a.A(a.a.bc(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},Ba:g,extend:c,setPrototypeOf:d,Ab:g?d:c,P:b,Ga:function(a,b,c){if(!a)return a;var d={},e;for(e in a)f.call(a,e)&&(d[e]=
b.call(c,a[e],e,a));return d},Tb:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},Yb:function(b){b=a.a.la(b);for(var c=(b[0]&&b[0].ownerDocument||w).createElement("div"),d=0,e=b.length;d<e;d++)c.appendChild(a.oa(b[d]));return c},Ca:function(b,c){for(var d=0,e=b.length,l=[];d<e;d++){var k=b[d].cloneNode(!0);l.push(c?a.oa(k):k)}return l},va:function(b,c){a.a.Tb(b);if(c)for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])},Xc:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],
l=e.parentNode,k=0,f=c.length;k<f;k++)l.insertBefore(c[k],e);k=0;for(f=d.length;k<f;k++)a.removeNode(d[k])}},Ua:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);for(;1<a.length&&a[a.length-1].parentNode!==b;)a.length--;if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)a.push(c),c=c.nextSibling;a.push(d)}}return a},Zc:function(a,b){7>p?a.setAttribute("selected",b):a.selected=b},Db:function(a){return null===a||a===n?"":a.trim?
a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},vd:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(1!==a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Sb:function(b){return a.a.vd(b,b.ownerDocument.documentElement)},kd:function(b){return!!a.a.Lb(b,a.a.Sb)},R:function(a){return a&&
a.tagName&&a.tagName.toLowerCase()},Ac:function(b){return a.onError?function(){try{return b.apply(this,arguments)}catch(c){throw a.onError&&a.onError(c),c;}}:b},setTimeout:function(b,c){return setTimeout(a.a.Ac(b),c)},Gc:function(b){setTimeout(function(){a.onError&&a.onError(b);throw b;},0)},B:function(b,c,d){var e=a.a.Ac(d);d=l[c];if(a.options.useOnlyNativeEvents||d||!v)if(d||"function"!=typeof b.addEventListener)if("undefined"!=typeof b.attachEvent){var k=function(a){e.call(b,a)},f="on"+c;b.attachEvent(f,
k);a.a.K.za(b,function(){b.detachEvent(f,k)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else b.addEventListener(c,e,!1);else t||(t="function"==typeof v(b).on?"on":"bind"),v(b)[t](c,e)},Fb:function(b,c){if(!b||!b.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var d;"input"===a.a.R(b)&&b.type&&"click"==c.toLowerCase()?(d=b.type,d="checkbox"==d||"radio"==d):d=!1;if(a.options.useOnlyNativeEvents||!v||d)if("function"==typeof w.createEvent)if("function"==
typeof b.dispatchEvent)d=w.createEvent(k[c]||"HTMLEvents"),d.initEvent(c,!0,!0,A,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d);else throw Error("The supplied element doesn't support dispatchEvent");else if(d&&b.click)b.click();else if("undefined"!=typeof b.fireEvent)b.fireEvent("on"+c);else throw Error("Browser doesn't support triggering events");else v(b).trigger(c)},f:function(b){return a.O(b)?b():b},bc:function(b){return a.O(b)?b.v():b},Eb:function(b,c,d){var l;c&&("object"===typeof b.classList?
(l=b.classList[d?"add":"remove"],a.a.D(c.match(q),function(a){l.call(b.classList,a)})):"string"===typeof b.className.baseVal?e(b.className,"baseVal",c,d):e(b,"className",c,d))},Bb:function(b,c){var d=a.a.f(c);if(null===d||d===n)d="";var e=a.h.firstChild(b);!e||3!=e.nodeType||a.h.nextSibling(e)?a.h.va(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.Ad(b)},Yc:function(a,b){a.name=b;if(7>=p)try{var c=a.name.replace(/[&<>'"]/g,function(a){return"&#"+a.charCodeAt(0)+";"});a.mergeAttributes(w.createElement("<input name='"+
c+"'/>"),!1)}catch(d){}},Ad:function(a){9<=p&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},wd:function(a){if(p){var b=a.style.width;a.style.width=0;a.style.width=b}},Pd:function(b,c){b=a.a.f(b);c=a.a.f(c);for(var d=[],e=b;e<=c;e++)d.push(e);return d},la:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},Da:function(a){return h?Symbol(a):a},Zd:6===p,$d:7===p,W:p,Lc:function(b,c){for(var d=a.a.la(b.getElementsByTagName("input")).concat(a.a.la(b.getElementsByTagName("textarea"))),
e="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},l=[],k=d.length-1;0<=k;k--)e(d[k])&&l.push(d[k]);return l},Nd:function(b){return"string"==typeof b&&(b=a.a.Db(b))?H&&H.parse?H.parse(b):(new Function("return "+b))():null},hc:function(b,c,d){if(!H||!H.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return H.stringify(a.a.f(b),c,d)},Od:function(c,d,e){e=e||{};var l=e.params||{},k=e.includeFields||this.Jc,f=c;if("object"==typeof c&&"form"===a.a.R(c))for(var f=c.action,h=k.length-1;0<=h;h--)for(var g=a.a.Lc(c,k[h]),m=g.length-1;0<=m;m--)l[g[m].name]=g[m].value;d=a.a.f(d);var p=w.createElement("form");p.style.display="none";p.action=f;p.method="post";for(var q in d)c=w.createElement("input"),c.type="hidden",c.name=q,c.value=a.a.hc(a.a.f(d[q])),p.appendChild(c);b(l,function(a,b){var c=w.createElement("input");
c.type="hidden";c.name=a;c.value=b;p.appendChild(c)});w.body.appendChild(p);e.submitter?e.submitter(p):p.submit();setTimeout(function(){p.parentNode.removeChild(p)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.D);a.b("utils.arrayFirst",a.a.Lb);a.b("utils.arrayFilter",a.a.jb);a.b("utils.arrayGetDistinctValues",a.a.wc);a.b("utils.arrayIndexOf",a.a.A);a.b("utils.arrayMap",a.a.Mb);a.b("utils.arrayPushAll",a.a.Nb);a.b("utils.arrayRemoveItem",a.a.Pa);a.b("utils.cloneNodes",a.a.Ca);a.b("utils.createSymbolOrString",
a.a.Da);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.Jc);a.b("utils.getFormFields",a.a.Lc);a.b("utils.objectMap",a.a.Ga);a.b("utils.peekObservable",a.a.bc);a.b("utils.postJson",a.a.Od);a.b("utils.parseJson",a.a.Nd);a.b("utils.registerEventHandler",a.a.B);a.b("utils.stringifyJson",a.a.hc);a.b("utils.range",a.a.Pd);a.b("utils.toggleDomNodeCssClass",a.a.Eb);a.b("utils.triggerEvent",a.a.Fb);a.b("utils.unwrapObservable",a.a.f);a.b("utils.objectForEach",a.a.P);a.b("utils.addOrRemoveItem",
a.a.Na);a.b("utils.setTextContent",a.a.Bb);a.b("unwrap",a.a.f);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this;if(1===arguments.length)return function(){return c.apply(a,arguments)};var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice(0);e.push.apply(e,arguments);return c.apply(a,e)}});a.a.g=new function(){var b=0,c="__ko__"+(new Date).getTime(),d={},e,f;a.a.W?(e=function(a,e){var f=a[c];if(!f||"null"===f||!d[f]){if(!e)return n;f=a[c]="ko"+b++;d[f]=
{}}return d[f]},f=function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1}):(e=function(a,b){var d=a[c];!d&&b&&(d=a[c]={});return d},f=function(a){return a[c]?(delete a[c],!0):!1});return{get:function(a,b){var c=e(a,!1);return c&&c[b]},set:function(a,b,c){(a=e(a,c!==n))&&(a[b]=c)},Ub:function(a,b,c){a=e(a,!0);return a[b]||(a[b]=c)},clear:f,Z:function(){return b++ +c}}};a.b("utils.domData",a.a.g);a.b("utils.domData.clear",a.a.g.clear);a.a.K=new function(){function b(b,c){var d=a.a.g.get(b,e);
d===n&&c&&(d=[],a.a.g.set(b,e,d));return d}function c(c){var e=b(c,!1);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](c);a.a.g.clear(c);a.a.K.cleanExternalData(c);g[c.nodeType]&&d(c.childNodes,!0)}function d(b,d){for(var e=[],l,f=0;f<b.length;f++)if(!d||8===b[f].nodeType)if(c(e[e.length]=l=b[f]),b[f]!==l)for(;f--&&-1==a.a.A(e,b[f]););}var e=a.a.g.Z(),f={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{za:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");b(a,!0).push(c)},yb:function(c,
d){var f=b(c,!1);f&&(a.a.Pa(f,d),0==f.length&&a.a.g.set(c,e,n))},oa:function(b){a.u.G(function(){f[b.nodeType]&&(c(b),g[b.nodeType]&&d(b.getElementsByTagName("*")))});return b},removeNode:function(b){a.oa(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){v&&"function"==typeof v.cleanData&&v.cleanData([a])}}};a.oa=a.a.K.oa;a.removeNode=a.a.K.removeNode;a.b("cleanNode",a.oa);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.K);a.b("utils.domNodeDisposal.addDisposeCallback",
a.a.K.za);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.K.yb);(function(){var b=[0,"",""],c=[1,"<table>","</table>"],d=[3,"<table><tbody><tr>","</tr></tbody></table>"],e=[1,"<select multiple='multiple'>","</select>"],f={thead:c,tbody:c,tfoot:c,tr:[2,"<table><tbody>","</tbody></table>"],td:d,th:d,option:e,optgroup:e},g=8>=a.a.W;a.a.ua=function(c,d){var e;if(v)if(v.parseHTML)e=v.parseHTML(c,d)||[];else{if((e=v.clean([c],d))&&e[0]){for(var l=e[0];l.parentNode&&11!==l.parentNode.nodeType;)l=l.parentNode;
l.parentNode&&l.parentNode.removeChild(l)}}else{(e=d)||(e=w);var l=e.parentWindow||e.defaultView||A,p=a.a.Db(c).toLowerCase(),q=e.createElement("div"),t;t=(p=p.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&f[p[1]]||b;p=t[0];t="ignored<div>"+t[1]+c+t[2]+"</div>";"function"==typeof l.innerShiv?q.appendChild(l.innerShiv(t)):(g&&e.body.appendChild(q),q.innerHTML=t,g&&q.parentNode.removeChild(q));for(;p--;)q=q.lastChild;e=a.a.la(q.lastChild.childNodes)}return e};a.a.Md=function(b,c){var d=a.a.ua(b,
c);return d.length&&d[0].parentElement||a.a.Yb(d)};a.a.fc=function(b,c){a.a.Tb(b);c=a.a.f(c);if(null!==c&&c!==n)if("string"!=typeof c&&(c=c.toString()),v)v(b).html(c);else for(var d=a.a.ua(c,b.ownerDocument),e=0;e<d.length;e++)b.appendChild(d[e])}})();a.b("utils.parseHtmlFragment",a.a.ua);a.b("utils.setHtml",a.a.fc);a.aa=function(){function b(c,e){if(c)if(8==c.nodeType){var f=a.aa.Uc(c.nodeValue);null!=f&&e.push({ud:c,Kd:f})}else if(1==c.nodeType)for(var f=0,g=c.childNodes,h=g.length;f<h;f++)b(g[f],
e)}var c={};return{Xb:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},bd:function(a,b){var f=c[a];if(f===n)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return f.apply(null,b||[]),!0}finally{delete c[a]}},cd:function(c,e){var f=
[];b(c,f);for(var g=0,h=f.length;g<h;g++){var m=f[g].ud,k=[m];e&&a.a.Nb(k,e);a.aa.bd(f[g].Kd,k);m.nodeValue="";m.parentNode&&m.parentNode.removeChild(m)}},Uc:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.aa);a.b("memoization.memoize",a.aa.Xb);a.b("memoization.unmemoize",a.aa.bd);a.b("memoization.parseMemoText",a.aa.Uc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.aa.cd);a.na=function(){function b(){if(f)for(var b=f,c=0,d;h<f;)if(d=e[h++]){if(h>b){if(5E3<=
++c){h=f;a.a.Gc(Error("'Too much recursion' after processing "+c+" task groups."));break}b=f}try{d()}catch(p){a.a.Gc(p)}}}function c(){b();h=f=e.length=0}var d,e=[],f=0,g=1,h=0;A.MutationObserver?d=function(a){var b=w.createElement("div");(new MutationObserver(a)).observe(b,{attributes:!0});return function(){b.classList.toggle("foo")}}(c):d=w&&"onreadystatechange"in w.createElement("script")?function(a){var b=w.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;w.documentElement.removeChild(b);
b=null;a()};w.documentElement.appendChild(b)}:function(a){setTimeout(a,0)};return{scheduler:d,zb:function(b){f||a.na.scheduler(c);e[f++]=b;return g++},cancel:function(a){a=a-(g-f);a>=h&&a<f&&(e[a]=null)},resetForTesting:function(){var a=f-h;h=f=e.length=0;return a},Sd:b}}();a.b("tasks",a.na);a.b("tasks.schedule",a.na.zb);a.b("tasks.runEarly",a.na.Sd);a.Ta={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.$({read:b,write:function(e){clearTimeout(d);d=a.a.setTimeout(function(){b(e)},
c)}})},rateLimit:function(a,c){var d,e,f;"number"==typeof c?d=c:(d=c.timeout,e=c.method);a.Hb=!1;f="function"==typeof e?e:"notifyWhenChangesStop"==e?Y:X;a.ub(function(a){return f(a,d,c)})},deferred:function(b,c){if(!0!==c)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");b.Hb||(b.Hb=!0,b.ub(function(c){var e,f=!1;return function(){if(!f){a.na.cancel(e);e=a.na.zb(c);try{f=!0,b.notifySubscribers(n,"dirty")}finally{f=
!1}}}}))},notify:function(a,c){a.equalityComparer="always"==c?null:K}};var W={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Ta);a.ic=function(b,c,d){this.da=b;this.lc=c;this.mc=d;this.Ib=!1;this.fb=this.Jb=null;a.L(this,"dispose",this.s);a.L(this,"disposeWhenNodeIsRemoved",this.l)};a.ic.prototype.s=function(){this.Ib||(this.fb&&a.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)};a.ic.prototype.l=function(b){this.Jb=b;a.a.K.za(b,this.fb=this.s.bind(this))};
a.T=function(){a.a.Ab(this,D);D.qb(this)};var D={qb:function(a){a.U={change:[]};a.sc=1},subscribe:function(b,c,d){var e=this;d=d||"change";var f=new a.ic(e,c?b.bind(c):b,function(){a.a.Pa(e.U[d],f);e.hb&&e.hb(d)});e.Qa&&e.Qa(d);e.U[d]||(e.U[d]=[]);e.U[d].push(f);return f},notifySubscribers:function(b,c){c=c||"change";"change"===c&&this.Gb();if(this.Wa(c)){var d="change"===c&&this.ed||this.U[c].slice(0);try{a.u.xc();for(var e=0,f;f=d[e];++e)f.Ib||f.lc(b)}finally{a.u.end()}}},ob:function(){return this.sc},
Dd:function(a){return this.ob()!==a},Gb:function(){++this.sc},ub:function(b){var c=this,d=a.O(c),e,f,g,h,m;c.gb||(c.gb=c.notifySubscribers,c.notifySubscribers=Z);var k=b(function(){c.Ja=!1;d&&h===c&&(h=c.nc?c.nc():c());var a=f||m&&c.sb(g,h);m=f=e=!1;a&&c.gb(g=h)});c.qc=function(a,b){b&&c.Ja||(m=!b);c.ed=c.U.change.slice(0);c.Ja=e=!0;h=a;k()};c.pc=function(a){e||(g=a,c.gb(a,"beforeChange"))};c.rc=function(){m=!0};c.gd=function(){c.sb(g,c.v(!0))&&(f=!0)}},Wa:function(a){return this.U[a]&&this.U[a].length},
Bd:function(b){if(b)return this.U[b]&&this.U[b].length||0;var c=0;a.a.P(this.U,function(a,b){"dirty"!==a&&(c+=b.length)});return c},sb:function(a,c){return!this.equalityComparer||!this.equalityComparer(a,c)},toString:function(){return"[object Object]"},extend:function(b){var c=this;b&&a.a.P(b,function(b,e){var f=a.Ta[b];"function"==typeof f&&(c=f(c,e)||c)});return c}};a.L(D,"init",D.qb);a.L(D,"subscribe",D.subscribe);a.L(D,"extend",D.extend);a.L(D,"getSubscriptionsCount",D.Bd);a.a.Ba&&a.a.setPrototypeOf(D,
Function.prototype);a.T.fn=D;a.Qc=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.T);a.b("isSubscribable",a.Qc);a.S=a.u=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{xc:b,end:c,cc:function(b){if(e){if(!a.Qc(b))throw Error("Only subscribable things can act as dependencies");e.od.call(e.pd,b,b.fd||(b.fd=++f))}},G:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},qa:function(){if(e)return e.o.qa()},
Va:function(){if(e)return e.o.Va()},Ya:function(){if(e)return e.Ya},o:function(){if(e)return e.o}}}();a.b("computedContext",a.S);a.b("computedContext.getDependenciesCount",a.S.qa);a.b("computedContext.getDependencies",a.S.Va);a.b("computedContext.isInitial",a.S.Ya);a.b("computedContext.registerDependency",a.S.cc);a.b("ignoreDependencies",a.Yd=a.u.G);var I=a.a.Da("_latestValue");a.ta=function(b){function c(){if(0<arguments.length)return c.sb(c[I],arguments[0])&&(c.ya(),c[I]=arguments[0],c.xa()),this;
a.u.cc(c);return c[I]}c[I]=b;a.a.Ba||a.a.extend(c,a.T.fn);a.T.fn.qb(c);a.a.Ab(c,F);a.options.deferUpdates&&a.Ta.deferred(c,!0);return c};var F={equalityComparer:K,v:function(){return this[I]},xa:function(){this.notifySubscribers(this[I],"spectate");this.notifySubscribers(this[I])},ya:function(){this.notifySubscribers(this[I],"beforeChange")}};a.a.Ba&&a.a.setPrototypeOf(F,a.T.fn);var G=a.ta.Ma="__ko_proto__";F[G]=a.ta;a.O=function(b){if((b="function"==typeof b&&b[G])&&b!==F[G]&&b!==a.o.fn[G])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");
return!!b};a.Za=function(b){return"function"==typeof b&&(b[G]===F[G]||b[G]===a.o.fn[G]&&b.Nc)};a.b("observable",a.ta);a.b("isObservable",a.O);a.b("isWriteableObservable",a.Za);a.b("isWritableObservable",a.Za);a.b("observable.fn",F);a.L(F,"peek",F.v);a.L(F,"valueHasMutated",F.xa);a.L(F,"valueWillMutate",F.ya);a.Ha=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.ta(b);a.a.Ab(b,
a.Ha.fn);return b.extend({trackArrayChanges:!0})};a.Ha.fn={remove:function(b){for(var c=this.v(),d=[],e="function"!=typeof b||a.O(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var g=c[f];if(e(g)){0===d.length&&this.ya();if(c[f]!==g)throw Error("Array modified during remove; cannot remove item");d.push(g);c.splice(f,1);f--}}d.length&&this.xa();return d},removeAll:function(b){if(b===n){var c=this.v(),d=c.slice(0);this.ya();c.splice(0,c.length);this.xa();return d}return b?this.remove(function(c){return 0<=
a.a.A(b,c)}):[]},destroy:function(b){var c=this.v(),d="function"!=typeof b||a.O(b)?function(a){return a===b}:b;this.ya();for(var e=c.length-1;0<=e;e--){var f=c[e];d(f)&&(f._destroy=!0)}this.xa()},destroyAll:function(b){return b===n?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.A(b,c)}):[]},indexOf:function(b){var c=this();return a.a.A(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.ya(),this.v()[d]=c,this.xa())},sorted:function(a){var c=this().slice(0);
return a?c.sort(a):c.sort()},reversed:function(){return this().slice(0).reverse()}};a.a.Ba&&a.a.setPrototypeOf(a.Ha.fn,a.ta.fn);a.a.D("pop push reverse shift sort splice unshift".split(" "),function(b){a.Ha.fn[b]=function(){var a=this.v();this.ya();this.zc(a,b,arguments);var d=a[b].apply(a,arguments);this.xa();return d===a?this:d}});a.a.D(["slice"],function(b){a.Ha.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.Pc=function(b){return a.O(b)&&"function"==typeof b.remove&&"function"==
typeof b.push};a.b("observableArray",a.Ha);a.b("isObservableArray",a.Pc);a.Ta.trackArrayChanges=function(b,c){function d(){function c(){if(m){var d=[].concat(b.v()||[]),e;if(b.Wa("arrayChange")){if(!f||1<m)f=a.a.Pb(k,d,b.Ob);e=f}k=d;f=null;m=0;e&&e.length&&b.notifySubscribers(e,"arrayChange")}}e?c():(e=!0,h=b.subscribe(function(){++m},null,"spectate"),k=[].concat(b.v()||[]),f=null,g=b.subscribe(c))}b.Ob={};c&&"object"==typeof c&&a.a.extend(b.Ob,c);b.Ob.sparse=!0;if(!b.zc){var e=!1,f=null,g,h,m=0,
k,l=b.Qa,p=b.hb;b.Qa=function(a){l&&l.call(b,a);"arrayChange"===a&&d()};b.hb=function(a){p&&p.call(b,a);"arrayChange"!==a||b.Wa("arrayChange")||(g&&g.s(),h&&h.s(),h=g=null,e=!1,k=n)};b.zc=function(b,c,d){function l(a,b,c){return k[k.length]={status:a,value:b,index:c}}if(e&&!m){var k=[],p=b.length,g=d.length,h=0;switch(c){case "push":h=p;case "unshift":for(c=0;c<g;c++)l("added",d[c],h+c);break;case "pop":h=p-1;case "shift":p&&l("deleted",b[h],h);break;case "splice":c=Math.min(Math.max(0,0>d[0]?p+d[0]:
d[0]),p);for(var p=1===g?p:Math.min(c+(d[1]||0),p),g=c+g-2,h=Math.max(p,g),U=[],L=[],n=2;c<h;++c,++n)c<p&&L.push(l("deleted",b[c],c)),c<g&&U.push(l("added",d[n],c));a.a.Kc(L,U);break;default:return}f=k}}}};var r=a.a.Da("_state");a.o=a.$=function(b,c,d){function e(){if(0<arguments.length){if("function"===typeof f)f.apply(g.nb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}g.ra||
a.u.cc(e);(g.ka||g.J&&e.Xa())&&e.ha();return g.X}"object"===typeof b?d=b:(d=d||{},b&&(d.read=b));if("function"!=typeof d.read)throw Error("Pass a function that returns the value of the ko.computed");var f=d.write,g={X:n,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:d.read,nb:c||d.owner,l:d.disposeWhenNodeIsRemoved||d.l||null,Sa:d.disposeWhen||d.Sa,Rb:null,I:{},V:0,Ic:null};e[r]=g;e.Nc="function"===typeof f;a.a.Ba||a.a.extend(e,a.T.fn);a.T.fn.qb(e);a.a.Ab(e,C);d.pure?(g.wb=!0,g.J=!0,a.a.extend(e,da)):
d.deferEvaluation&&a.a.extend(e,ea);a.options.deferUpdates&&a.Ta.deferred(e,!0);g.l&&(g.jc=!0,g.l.nodeType||(g.l=null));g.J||d.deferEvaluation||e.ha();g.l&&e.ja()&&a.a.K.za(g.l,g.Rb=function(){e.s()});return e};var C={equalityComparer:K,qa:function(){return this[r].V},Va:function(){var b=[];a.a.P(this[r].I,function(a,d){b[d.Ka]=d.da});return b},Vb:function(b){if(!this[r].V)return!1;var c=this.Va();return-1!==a.a.A(c,b)?!0:!!a.a.Lb(c,function(a){return a.Vb&&a.Vb(b)})},uc:function(a,c,d){if(this[r].wb&&
c===this)throw Error("A 'pure' computed must not be called recursively");this[r].I[a]=d;d.Ka=this[r].V++;d.La=c.ob()},Xa:function(){var a,c,d=this[r].I;for(a in d)if(Object.prototype.hasOwnProperty.call(d,a)&&(c=d[a],this.Ia&&c.da.Ja||c.da.Dd(c.La)))return!0},Jd:function(){this.Ia&&!this[r].rb&&this.Ia(!1)},ja:function(){var a=this[r];return a.ka||0<a.V},Rd:function(){this.Ja?this[r].ka&&(this[r].sa=!0):this.Hc()},$c:function(a){if(a.Hb){var c=a.subscribe(this.Jd,this,"dirty"),d=a.subscribe(this.Rd,
this);return{da:a,s:function(){c.s();d.s()}}}return a.subscribe(this.Hc,this)},Hc:function(){var b=this,c=b.throttleEvaluation;c&&0<=c?(clearTimeout(this[r].Ic),this[r].Ic=a.a.setTimeout(function(){b.ha(!0)},c)):b.Ia?b.Ia(!0):b.ha(!0)},ha:function(b){var c=this[r],d=c.Sa,e=!1;if(!c.rb&&!c.ra){if(c.l&&!a.a.Sb(c.l)||d&&d()){if(!c.jc){this.s();return}}else c.jc=!1;c.rb=!0;try{e=this.zd(b)}finally{c.rb=!1}return e}},zd:function(b){var c=this[r],d=!1,e=c.wb?n:!c.V,d={qd:this,mb:c.I,Qb:c.V};a.u.xc({pd:d,
od:ba,o:this,Ya:e});c.I={};c.V=0;var f=this.yd(c,d);c.V?d=this.sb(c.X,f):(this.s(),d=!0);d&&(c.J?this.Gb():this.notifySubscribers(c.X,"beforeChange"),c.X=f,this.notifySubscribers(c.X,"spectate"),!c.J&&b&&this.notifySubscribers(c.X),this.rc&&this.rc());e&&this.notifySubscribers(c.X,"awake");return d},yd:function(b,c){try{var d=b.Wc;return b.nb?d.call(b.nb):d()}finally{a.u.end(),c.Qb&&!b.J&&a.a.P(c.mb,aa),b.sa=b.ka=!1}},v:function(a){var c=this[r];(c.ka&&(a||!c.V)||c.J&&this.Xa())&&this.ha();return c.X},
ub:function(b){a.T.fn.ub.call(this,b);this.nc=function(){this[r].J||(this[r].sa?this.ha():this[r].ka=!1);return this[r].X};this.Ia=function(a){this.pc(this[r].X);this[r].ka=!0;a&&(this[r].sa=!0);this.qc(this,!a)}},s:function(){var b=this[r];!b.J&&b.I&&a.a.P(b.I,function(a,b){b.s&&b.s()});b.l&&b.Rb&&a.a.K.yb(b.l,b.Rb);b.I=n;b.V=0;b.ra=!0;b.sa=!1;b.ka=!1;b.J=!1;b.l=n;b.Sa=n;b.Wc=n;this.Nc||(b.nb=n)}},da={Qa:function(b){var c=this,d=c[r];if(!d.ra&&d.J&&"change"==b){d.J=!1;if(d.sa||c.Xa())d.I=null,d.V=
0,c.ha()&&c.Gb();else{var e=[];a.a.P(d.I,function(a,b){e[b.Ka]=a});a.a.D(e,function(a,b){var e=d.I[a],m=c.$c(e.da);m.Ka=b;m.La=e.La;d.I[a]=m});c.Xa()&&c.ha()&&c.Gb()}d.ra||c.notifySubscribers(d.X,"awake")}},hb:function(b){var c=this[r];c.ra||"change"!=b||this.Wa("change")||(a.a.P(c.I,function(a,b){b.s&&(c.I[a]={da:b.da,Ka:b.Ka,La:b.La},b.s())}),c.J=!0,this.notifySubscribers(n,"asleep"))},ob:function(){var b=this[r];b.J&&(b.sa||this.Xa())&&this.ha();return a.T.fn.ob.call(this)}},ea={Qa:function(a){"change"!=
a&&"beforeChange"!=a||this.v()}};a.a.Ba&&a.a.setPrototypeOf(C,a.T.fn);var N=a.ta.Ma;C[N]=a.o;a.Oc=function(a){return"function"==typeof a&&a[N]===C[N]};a.Fd=function(b){return a.Oc(b)&&b[r]&&b[r].wb};a.b("computed",a.o);a.b("dependentObservable",a.o);a.b("isComputed",a.Oc);a.b("isPureComputed",a.Fd);a.b("computed.fn",C);a.L(C,"peek",C.v);a.L(C,"dispose",C.s);a.L(C,"isActive",C.ja);a.L(C,"getDependenciesCount",C.qa);a.L(C,"getDependencies",C.Va);a.xb=function(b,c){if("function"===typeof b)return a.o(b,
c,{pure:!0});b=a.a.extend({},b);b.pure=!0;return a.o(b,c)};a.b("pureComputed",a.xb);(function(){function b(a,f,g){g=g||new d;a=f(a);if("object"!=typeof a||null===a||a===n||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var h=a instanceof Array?[]:{};g.save(a,h);c(a,function(c){var d=f(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":h[c]=d;break;case "object":case "undefined":var l=g.get(d);h[c]=l!==
n?l:b(d,f,g)}});return h}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function d(){this.keys=[];this.values=[]}a.ad=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.O(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.ad(b);return a.a.hc(b,c,d)};d.prototype={constructor:d,save:function(b,c){var d=a.a.A(this.keys,
b);0<=d?this.values[d]=c:(this.keys.push(b),this.values.push(c))},get:function(b){b=a.a.A(this.keys,b);return 0<=b?this.values[b]:n}}})();a.b("toJS",a.ad);a.b("toJSON",a.toJSON);a.Wd=function(b,c,d){function e(c){var e=a.xb(b,d).extend({ma:"always"}),h=e.subscribe(function(a){a&&(h.s(),c(a))});e.notifySubscribers(e.v());return h}return"function"!==typeof Promise||c?e(c.bind(d)):new Promise(e)};a.b("when",a.Wd);(function(){a.w={M:function(b){switch(a.a.R(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?
a.a.g.get(b,a.c.options.$b):7>=a.a.W?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.w.M(b.options[b.selectedIndex]):n;default:return b.value}},cb:function(b,c,d){switch(a.a.R(b)){case "option":"string"===typeof c?(a.a.g.set(b,a.c.options.$b,n),"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__,b.value=c):(a.a.g.set(b,a.c.options.$b,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===
typeof c?c:"");break;case "select":if(""===c||null===c)c=n;for(var e=-1,f=0,g=b.options.length,h;f<g;++f)if(h=a.w.M(b.options[f]),h==c||""===h&&c===n){e=f;break}if(d||0<=e||c===n&&1<b.size)b.selectedIndex=e,6===a.a.W&&a.a.setTimeout(function(){b.selectedIndex=e},0);break;default:if(null===c||c===n)c="";b.value=c}}}})();a.b("selectExtensions",a.w);a.b("selectExtensions.readValue",a.w.M);a.b("selectExtensions.writeValue",a.w.cb);a.m=function(){function b(b){b=a.a.Db(b);123===b.charCodeAt(0)&&(b=b.slice(1,
-1));b+="\n,";var c=[],d=b.match(e),p,q=[],h=0;if(1<d.length){for(var x=0,B;B=d[x];++x){var u=B.charCodeAt(0);if(44===u){if(0>=h){c.push(p&&q.length?{key:p,value:q.join("")}:{unknown:p||q.join("")});p=h=0;q=[];continue}}else if(58===u){if(!h&&!p&&1===q.length){p=q.pop();continue}}else if(47===u&&1<B.length&&(47===B.charCodeAt(1)||42===B.charCodeAt(1)))continue;else 47===u&&x&&1<B.length?(u=d[x-1].match(f))&&!g[u[0]]&&(b=b.substr(b.indexOf(B)+1),d=b.match(e),x=-1,B="/"):40===u||123===u||91===u?++h:
41===u||125===u||93===u?--h:p||q.length||34!==u&&39!==u||(B=B.slice(1,-1));q.push(B)}if(0<h)throw Error("Unbalanced parentheses, braces, or brackets");}return c}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},
h={};return{Ra:[],wa:h,ac:b,vb:function(e,f){function l(b,e){var f;if(!x){var k=a.getBindingHandler(b);if(k&&k.preprocess&&!(e=k.preprocess(e,b,l)))return;if(k=h[b])f=e,0<=a.a.A(c,f)?f=!1:(k=f.match(d),f=null===k?!1:k[1]?"Object("+k[1]+")"+k[2]:f),k=f;k&&q.push("'"+("string"==typeof h[b]?h[b]:b)+"':function(_z){"+f+"=_z}")}g&&(e="function(){return "+e+" }");p.push("'"+b+"':"+e)}f=f||{};var p=[],q=[],g=f.valueAccessors,x=f.bindingParams,B="string"===typeof e?b(e):e;a.a.D(B,function(a){l(a.key||a.unknown,
a.value)});q.length&&l("_ko_property_writers","{"+q.join(",")+" }");return p.join(",")},Id:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},eb:function(b,c,d,e,f){if(b&&a.O(b))!a.Za(b)||f&&b.v()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.b("expressionRewriting",a.m);a.b("expressionRewriting.bindingRewriteValidators",a.m.Ra);a.b("expressionRewriting.parseObjectLiteral",a.m.ac);a.b("expressionRewriting.preProcessBindings",a.m.vb);a.b("expressionRewriting._twoWayBindings",
a.m.wa);a.b("jsonExpressionRewriting",a.m);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.m.vb);(function(){function b(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function d(d,e){for(var f=d,h=1,g=[];f=f.nextSibling;){if(c(f)&&(a.a.g.set(f,k,!0),h--,0===h))return g;g.push(f);b(f)&&h++}if(!e)throw Error("Cannot find closing comment tag to match: "+d.nodeValue);return null}function e(a,b){var c=d(a,b);return c?
0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=w&&"\x3c!--test--\x3e"===w.createComment("test").text,g=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,m={ul:!0,ol:!0},k="__ko_matchedEndComment__";a.h={ea:{},childNodes:function(a){return b(a)?d(a):a.childNodes},Ea:function(c){if(b(c)){c=a.h.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Tb(c)},va:function(c,d){if(b(c)){a.h.Ea(c);for(var e=
c.nextSibling,f=0,k=d.length;f<k;f++)e.parentNode.insertBefore(d[f],e)}else a.a.va(c,d)},Vc:function(a,c){var d;b(a)?(d=a.nextSibling,a=a.parentNode):d=a.firstChild;d?c!==d&&a.insertBefore(c,d):a.appendChild(c)},Wb:function(c,d,e){e?(e=e.nextSibling,b(c)&&(c=c.parentNode),e?d!==e&&c.insertBefore(d,e):c.appendChild(d)):a.h.Vc(c,d)},firstChild:function(a){if(b(a))return!a.nextSibling||c(a.nextSibling)?null:a.nextSibling;if(a.firstChild&&c(a.firstChild))throw Error("Found invalid end comment, as the first child of "+
a);return a.firstChild},nextSibling:function(d){b(d)&&(d=e(d));if(d.nextSibling&&c(d.nextSibling)){var f=d.nextSibling;if(c(f)&&!a.a.g.get(f,k))throw Error("Found end comment without a matching opening comment, as child of "+d);return null}return d.nextSibling},Cd:b,Vd:function(a){return(a=(f?a.text:a.nodeValue).match(g))?a[1]:null},Sc:function(d){if(m[a.a.R(d)]){var f=d.firstChild;if(f){do if(1===f.nodeType){var k;k=f.firstChild;var h=null;if(k){do if(h)h.push(k);else if(b(k)){var g=e(k,!0);g?k=
g:h=[k]}else c(k)&&(h=[k]);while(k=k.nextSibling)}if(k=h)for(h=f.nextSibling,g=0;g<k.length;g++)h?d.insertBefore(k[g],h):d.appendChild(k[g])}while(f=f.nextSibling)}}}}})();a.b("virtualElements",a.h);a.b("virtualElements.allowedBindings",a.h.ea);a.b("virtualElements.emptyNode",a.h.Ea);a.b("virtualElements.insertAfter",a.h.Wb);a.b("virtualElements.prepend",a.h.Vc);a.b("virtualElements.setDomNodeChildren",a.h.va);(function(){a.ga=function(){this.nd={}};a.a.extend(a.ga.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=
b.getAttribute("data-bind")||a.j.getComponentNameForNode(b);case 8:return a.h.Cd(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.j.tc(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.j.tc(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.h.Vd(b);default:return null}},
parseBindingsString:function(b,c,d,e){try{var f=this.nd,g=b+(e&&e.valueAccessors||""),h;if(!(h=f[g])){var m,k="with($context){with($data||{}){return{"+a.m.vb(b,e)+"}}}";m=new Function("$context","$element",k);h=f[g]=m}return h(c,d)}catch(l){throw l.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+l.message,l;}}});a.ga.instance=new a.ga})();a.b("bindingProvider",a.ga);(function(){function b(b){var c=(b=a.a.g.get(b,z))&&b.N;c&&(b.N=null,c.Tc())}function c(c,d,e){this.node=c;this.yc=
d;this.kb=[];this.H=!1;d.N||a.a.K.za(c,b);e&&e.N&&(e.N.kb.push(c),this.Kb=e)}function d(a){return function(){return a}}function e(a){return a()}function f(b){return a.a.Ga(a.u.G(b),function(a,c){return function(){return b()[c]}})}function g(b,c,e){return"function"===typeof b?f(b.bind(null,c,e)):a.a.Ga(b,d)}function h(a,b){return f(this.getBindings.bind(this,a,b))}function m(b,c){var d=a.h.firstChild(c);if(d){var e,f=a.ga.instance,l=f.preprocessNode;if(l){for(;e=d;)d=a.h.nextSibling(e),l.call(f,e);
d=a.h.firstChild(c)}for(;e=d;)d=a.h.nextSibling(e),k(b,e)}a.i.ma(c,a.i.H)}function k(b,c){var d=b,e=1===c.nodeType;e&&a.h.Sc(c);if(e||a.ga.instance.nodeHasBindings(c))d=p(c,null,b).bindingContextForDescendants;d&&!u[a.a.R(c)]&&m(d,c)}function l(b){var c=[],d={},e=[];a.a.P(b,function ca(f){if(!d[f]){var k=a.getBindingHandler(f);k&&(k.after&&(e.push(f),a.a.D(k.after,function(c){if(b[c]){if(-1!==a.a.A(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));
ca(c)}}),e.length--),c.push({key:f,Mc:k}));d[f]=!0}});return c}function p(b,c,d){var f=a.a.g.Ub(b,z,{}),k=f.hd;if(!c){if(k)throw Error("You cannot apply bindings multiple times to the same element.");f.hd=!0}k||(f.context=d);f.Zb||(f.Zb={});var g;if(c&&"function"!==typeof c)g=c;else{var p=a.ga.instance,q=p.getBindingAccessors||h,m=a.$(function(){if(g=c?c(d,b):q.call(p,b,d)){if(d[t])d[t]();if(d[B])d[B]()}return g},null,{l:b});g&&m.ja()||(m=null)}var x=d,u;if(g){var J=function(){return a.a.Ga(m?m():
g,e)},r=m?function(a){return function(){return e(m()[a])}}:function(a){return g[a]};J.get=function(a){return g[a]&&e(r(a))};J.has=function(a){return a in g};a.i.H in g&&a.i.subscribe(b,a.i.H,function(){var c=(0,g[a.i.H])();if(c){var d=a.h.childNodes(b);d.length&&c(d,a.Ec(d[0]))}});a.i.pa in g&&(x=a.i.Cb(b,d),a.i.subscribe(b,a.i.pa,function(){var c=(0,g[a.i.pa])();c&&a.h.firstChild(b)&&c(b)}));f=l(g);a.a.D(f,function(c){var d=c.Mc.init,e=c.Mc.update,f=c.key;if(8===b.nodeType&&!a.h.ea[f])throw Error("The binding '"+
f+"' cannot be used with virtual elements");try{"function"==typeof d&&a.u.G(function(){var a=d(b,r(f),J,x.$data,x);if(a&&a.controlsDescendantBindings){if(u!==n)throw Error("Multiple bindings ("+u+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");u=f}}),"function"==typeof e&&a.$(function(){e(b,r(f),J,x.$data,x)},null,{l:b})}catch(k){throw k.message='Unable to process binding "'+f+": "+g[f]+'"\nMessage: '+k.message,
k;}})}f=u===n;return{shouldBindDescendants:f,bindingContextForDescendants:f&&x}}function q(b,c){return b&&b instanceof a.fa?b:new a.fa(b,n,n,c)}var t=a.a.Da("_subscribable"),x=a.a.Da("_ancestorBindingInfo"),B=a.a.Da("_dataDependency");a.c={};var u={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(b){return a.c[b]};var J={};a.fa=function(b,c,d,e,f){function k(){var b=p?h():h,f=a.a.f(b);c?(a.a.extend(l,c),x in c&&(l[x]=c[x])):(l.$parents=[],l.$root=f,l.ko=a);l[t]=q;g?f=l.$data:(l.$rawData=
b,l.$data=f);d&&(l[d]=f);e&&e(l,c,f);if(c&&c[t]&&!a.S.o().Vb(c[t]))c[t]();m&&(l[B]=m);return l.$data}var l=this,g=b===J,h=g?n:b,p="function"==typeof h&&!a.O(h),q,m=f&&f.dataDependency;f&&f.exportDependencies?k():(q=a.xb(k),q.v(),q.ja()?q.equalityComparer=null:l[t]=n)};a.fa.prototype.createChildContext=function(b,c,d,e){!e&&c&&"object"==typeof c&&(e=c,c=e.as,d=e.extend);if(c&&e&&e.noChildContext){var f="function"==typeof b&&!a.O(b);return new a.fa(J,this,null,function(a){d&&d(a);a[c]=f?b():b},e)}return new a.fa(b,
this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)},e)};a.fa.prototype.extend=function(b,c){return new a.fa(J,this,null,function(c){a.a.extend(c,"function"==typeof b?b(c):b)},c)};var z=a.a.g.Z();c.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)};c.prototype.sd=function(b){a.a.Pa(this.kb,b);!this.kb.length&&this.H&&this.Cc()};c.prototype.Cc=function(){this.H=!0;this.yc.N&&!this.kb.length&&(this.yc.N=
null,a.a.K.yb(this.node,b),a.i.ma(this.node,a.i.pa),this.Tc())};a.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(b,c,d,e,f){var k=a.a.g.Ub(b,z,{});k.Fa||(k.Fa=new a.T);f&&f.notifyImmediately&&k.Zb[c]&&a.u.G(d,e,[b]);return k.Fa.subscribe(d,e,c)},ma:function(b,c){var d=a.a.g.get(b,z);if(d&&(d.Zb[c]=!0,d.Fa&&d.Fa.notifySubscribers(b,c),c==a.i.H))if(d.N)d.N.Cc();else if(d.N===n&&d.Fa&&d.Fa.Wa(a.i.pa))throw Error("descendantsComplete event not supported for bindings on this node");
},Cb:function(b,d){var e=a.a.g.Ub(b,z,{});e.N||(e.N=new c(b,e,d[x]));return d[x]==e?d:d.extend(function(a){a[x]=e})}};a.Td=function(b){return(b=a.a.g.get(b,z))&&b.context};a.ib=function(b,c,d){1===b.nodeType&&a.h.Sc(b);return p(b,c,q(d))};a.ld=function(b,c,d){d=q(d);return a.ib(b,g(c,d,b),d)};a.Oa=function(a,b){1!==b.nodeType&&8!==b.nodeType||m(q(a),b)};a.vc=function(a,b,c){!v&&A.jQuery&&(v=A.jQuery);if(2>arguments.length){if(b=w.body,!b)throw Error("ko.applyBindings: could not find document.body; has the document been loaded?");
}else if(!b||1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");k(q(a,c),b)};a.Dc=function(b){return!b||1!==b.nodeType&&8!==b.nodeType?n:a.Td(b)};a.Ec=function(b){return(b=a.Dc(b))?b.$data:n};a.b("bindingHandlers",a.c);a.b("bindingEvent",a.i);a.b("bindingEvent.subscribe",a.i.subscribe);a.b("bindingEvent.startPossiblyAsyncContentBinding",a.i.Cb);a.b("applyBindings",a.vc);a.b("applyBindingsToDescendants",a.Oa);
a.b("applyBindingAccessorsToNode",a.ib);a.b("applyBindingsToNode",a.ld);a.b("contextFor",a.Dc);a.b("dataFor",a.Ec)})();(function(b){function c(c,e){var k=Object.prototype.hasOwnProperty.call(f,c)?f[c]:b,l;k?k.subscribe(e):(k=f[c]=new a.T,k.subscribe(e),d(c,function(b,d){var e=!(!d||!d.synchronous);g[c]={definition:b,Gd:e};delete f[c];l||e?k.notifySubscribers(b):a.na.zb(function(){k.notifySubscribers(b)})}),l=!0)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a,
c)}):b(null,null)})}function e(c,d,f,l){l||(l=a.j.loaders.slice(0));var g=l.shift();if(g){var q=g[c];if(q){var t=!1;if(q.apply(g,d.concat(function(a){t?f(null):null!==a?f(a):e(c,d,f,l)}))!==b&&(t=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else e(c,d,f,l)}else f(null)}var f={},g={};a.j={get:function(d,e){var f=Object.prototype.hasOwnProperty.call(g,d)?g[d]:b;f?f.Gd?a.u.G(function(){e(f.definition)}):
a.na.zb(function(){e(f.definition)}):c(d,e)},Bc:function(a){delete g[a]},oc:e};a.j.loaders=[];a.b("components",a.j);a.b("components.get",a.j.get);a.b("components.clearCachedDefinition",a.j.Bc)})();(function(){function b(b,c,d,e){function g(){0===--B&&e(h)}var h={},B=2,u=d.template;d=d.viewModel;u?f(c,u,function(c){a.j.oc("loadTemplate",[b,c],function(a){h.template=a;g()})}):g();d?f(c,d,function(c){a.j.oc("loadViewModel",[b,c],function(a){h[m]=a;g()})}):g()}function c(a,b,d){if("function"===typeof b)d(function(a){return new b(a)});
else if("function"===typeof b[m])d(b[m]);else if("instance"in b){var e=b.instance;d(function(){return e})}else"viewModel"in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}function d(b){switch(a.a.R(b)){case "script":return a.a.ua(b.text);case "textarea":return a.a.ua(b.value);case "template":if(e(b.content))return a.a.Ca(b.content.childNodes)}return a.a.Ca(b.childNodes)}function e(a){return A.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function f(a,b,c){"string"===typeof b.require?
T||A.require?(T||A.require)([b.require],function(a){a&&"object"===typeof a&&a.Xd&&a["default"]&&(a=a["default"]);c(a)}):a("Uses require, but no AMD loader is present"):c(b)}function g(a){return function(b){throw Error("Component '"+a+"': "+b);}}var h={};a.j.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.j.tb(b))throw Error("Component "+b+" is already registered");h[b]=c};a.j.tb=function(a){return Object.prototype.hasOwnProperty.call(h,a)};a.j.unregister=function(b){delete h[b];
a.j.Bc(b)};a.j.Fc={getConfig:function(b,c){c(a.j.tb(b)?h[b]:null)},loadComponent:function(a,c,d){var e=g(a);f(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,f){b=g(b);if("string"===typeof c)f(a.a.ua(c));else if(c instanceof Array)f(c);else if(e(c))f(a.a.la(c.childNodes));else if(c.element)if(c=c.element,A.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)f(d(c));else if("string"===typeof c){var h=w.getElementById(c);h?f(d(h)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+
c);else b("Unknown template value: "+c)},loadViewModel:function(a,b,d){c(g(a),b,d)}};var m="createViewModel";a.b("components.register",a.j.register);a.b("components.isRegistered",a.j.tb);a.b("components.unregister",a.j.unregister);a.b("components.defaultLoader",a.j.Fc);a.j.loaders.push(a.j.Fc);a.j.dd=h})();(function(){function b(b,e){var f=b.getAttribute("params");if(f){var f=c.parseBindingsString(f,e,b,{valueAccessors:!0,bindingParams:!0}),f=a.a.Ga(f,function(c){return a.o(c,null,{l:b})}),g=a.a.Ga(f,
function(c){var e=c.v();return c.ja()?a.o({read:function(){return a.a.f(c())},write:a.Za(e)&&function(a){c()(a)},l:b}):e});Object.prototype.hasOwnProperty.call(g,"$raw")||(g.$raw=f);return g}return{$raw:{}}}a.j.getComponentNameForNode=function(b){var c=a.a.R(b);if(a.j.tb(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+b||8>=a.a.W&&b.tagName===c))return c};a.j.tc=function(c,e,f,g){if(1===e.nodeType){var h=a.j.getComponentNameForNode(e);if(h){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');
var m={name:h,params:b(e,f)};c.component=g?function(){return m}:m}}return c};var c=new a.ga;9>a.a.W&&(a.j.register=function(a){return function(b){return a.apply(this,arguments)}}(a.j.register),w.createDocumentFragment=function(b){return function(){var c=b(),f=a.j.dd,g;for(g in f);return c}}(w.createDocumentFragment))})();(function(){function b(b,c,d){c=c.template;if(!c)throw Error("Component '"+b+"' has no template");b=a.a.Ca(c);a.h.va(d,b)}function c(a,b,c){var d=a.createViewModel;return d?d.call(a,
b,c):b}var d=0;a.c.component={init:function(e,f,g,h,m){function k(){var a=l&&l.dispose;"function"===typeof a&&a.call(l);q&&q.s();p=l=q=null}var l,p,q,t=a.a.la(a.h.childNodes(e));a.h.Ea(e);a.a.K.za(e,k);a.o(function(){var g=a.a.f(f()),h,u;"string"===typeof g?h=g:(h=a.a.f(g.name),u=a.a.f(g.params));if(!h)throw Error("No component name specified");var n=a.i.Cb(e,m),z=p=++d;a.j.get(h,function(d){if(p===z){k();if(!d)throw Error("Unknown component '"+h+"'");b(h,d,e);var f=c(d,u,{element:e,templateNodes:t});
d=n.createChildContext(f,{extend:function(a){a.$component=f;a.$componentTemplateNodes=t}});f&&f.koDescendantsComplete&&(q=a.i.subscribe(e,a.i.pa,f.koDescendantsComplete,f));l=f;a.Oa(d,e)}})},null,{l:e});return{controlsDescendantBindings:!0}}};a.h.ea.component=!0})();var V={"class":"className","for":"htmlFor"};a.c.attr={update:function(b,c){var d=a.a.f(c())||{};a.a.P(d,function(c,d){d=a.a.f(d);var g=c.indexOf(":"),g="lookupNamespaceURI"in b&&0<g&&b.lookupNamespaceURI(c.substr(0,g)),h=!1===d||null===
d||d===n;h?g?b.removeAttributeNS(g,c):b.removeAttribute(c):d=d.toString();8>=a.a.W&&c in V?(c=V[c],h?b.removeAttribute(c):b[c]=d):h||(g?b.setAttributeNS(g,c,d):b.setAttribute(c,d));"name"===c&&a.a.Yc(b,h?"":d)})}};(function(){a.c.checked={after:["value","attr"],init:function(b,c,d){function e(){var e=b.checked,f=g();if(!a.S.Ya()&&(e||!m&&!a.S.qa())){var k=a.u.G(c);if(l){var q=p?k.v():k,z=t;t=f;z!==f?e&&(a.a.Na(q,f,!0),a.a.Na(q,z,!1)):a.a.Na(q,f,e);p&&a.Za(k)&&k(q)}else h&&(f===n?f=e:e||(f=n)),a.m.eb(k,
d,"checked",f,!0)}}function f(){var d=a.a.f(c()),e=g();l?(b.checked=0<=a.a.A(d,e),t=e):b.checked=h&&e===n?!!d:g()===d}var g=a.xb(function(){if(d.has("checkedValue"))return a.a.f(d.get("checkedValue"));if(q)return d.has("value")?a.a.f(d.get("value")):b.value}),h="checkbox"==b.type,m="radio"==b.type;if(h||m){var k=c(),l=h&&a.a.f(k)instanceof Array,p=!(l&&k.push&&k.splice),q=m||l,t=l?g():n;m&&!b.name&&a.c.uniqueName.init(b,function(){return!0});a.o(e,null,{l:b});a.a.B(b,"click",e);a.o(f,null,{l:b});
k=n}}};a.m.wa.checked=!0;a.c.checkedValue={update:function(b,c){b.value=a.a.f(c())}}})();a.c["class"]={update:function(b,c){var d=a.a.Db(a.a.f(c()));a.a.Eb(b,b.__ko__cssValue,!1);b.__ko__cssValue=d;a.a.Eb(b,d,!0)}};a.c.css={update:function(b,c){var d=a.a.f(c());null!==d&&"object"==typeof d?a.a.P(d,function(c,d){d=a.a.f(d);a.a.Eb(b,c,d)}):a.c["class"].update(b,c)}};a.c.enable={update:function(b,c){var d=a.a.f(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.c.disable=
{update:function(b,c){a.c.enable.update(b,function(){return!a.a.f(c())})}};a.c.event={init:function(b,c,d,e,f){var g=c()||{};a.a.P(g,function(g){"string"==typeof g&&a.a.B(b,g,function(b){var k,l=c()[g];if(l){try{var p=a.a.la(arguments);e=f.$data;p.unshift(e);k=l.apply(e,p)}finally{!0!==k&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.c.foreach={Rc:function(b){return function(){var c=b(),d=a.a.bc(c);
if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.ba.Ma};a.a.f(c);return{foreach:d.data,as:d.as,noChildContext:d.noChildContext,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.ba.Ma}}},init:function(b,c){return a.c.template.init(b,a.c.foreach.Rc(c))},update:function(b,c,d,e,f){return a.c.template.update(b,a.c.foreach.Rc(c),d,e,f)}};a.m.Ra.foreach=!1;a.h.ea.foreach=
!0;a.c.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var f=b.ownerDocument;if("activeElement"in f){var g;try{g=f.activeElement}catch(l){g=f.body}e=g===b}f=c();a.m.eb(f,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);a.a.B(b,"focus",f);a.a.B(b,"focusin",f);a.a.B(b,"blur",g);a.a.B(b,"focusout",g);b.__ko_hasfocusLastValue=!1},update:function(b,c){var d=!!a.a.f(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===
d||(d?b.focus():b.blur(),!d&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),a.u.G(a.a.Fb,null,[b,d?"focusin":"focusout"]))}};a.m.wa.hasfocus=!0;a.c.hasFocus=a.c.hasfocus;a.m.wa.hasFocus="hasfocus";a.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.fc(b,c())}};(function(){function b(b,d,e){a.c[b]={init:function(b,c,h,m,k){var l,p,q={},t,x,n;if(d){m=h.get("as");var u=h.get("noChildContext");n=!(m&&u);q={as:m,noChildContext:u,exportDependencies:n}}x=(t=
"render"==h.get("completeOn"))||h.has(a.i.pa);a.o(function(){var h=a.a.f(c()),m=!e!==!h,u=!p,r;if(n||m!==l){x&&(k=a.i.Cb(b,k));if(m){if(!d||n)q.dataDependency=a.S.o();r=d?k.createChildContext("function"==typeof h?h:c,q):a.S.qa()?k.extend(null,q):k}u&&a.S.qa()&&(p=a.a.Ca(a.h.childNodes(b),!0));m?(u||a.h.va(b,a.a.Ca(p)),a.Oa(r,b)):(a.h.Ea(b),t||a.i.ma(b,a.i.H));l=m}},null,{l:b});return{controlsDescendantBindings:!0}}};a.m.Ra[b]=!1;a.h.ea[b]=!0}b("if");b("ifnot",!1,!0);b("with",!0)})();a.c.let={init:function(b,
c,d,e,f){c=f.extend(c);a.Oa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.let=!0;var Q={};a.c.options={init:function(b){if("select"!==a.a.R(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.jb(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,d){if(x&&l)a.i.ma(b,a.i.H);else if(t.length){var e=
0<=a.a.A(t,a.w.M(d[0]));a.a.Zc(d[0],e);x&&!e&&a.u.G(a.a.Fb,null,[b,"change"])}}var h=b.multiple,m=0!=b.length&&h?b.scrollTop:null,k=a.a.f(c()),l=d.get("valueAllowUnset")&&d.has("value"),p=d.get("optionsIncludeDestroyed");c={};var q,t=[];l||(h?t=a.a.Mb(e(),a.w.M):0<=b.selectedIndex&&t.push(a.w.M(b.options[b.selectedIndex])));k&&("undefined"==typeof k.length&&(k=[k]),q=a.a.jb(k,function(b){return p||b===n||null===b||!a.a.f(b._destroy)}),d.has("optionsCaption")&&(k=a.a.f(d.get("optionsCaption")),null!==
k&&k!==n&&q.unshift(Q)));var x=!1;c.beforeRemove=function(a){b.removeChild(a)};k=g;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(k=function(b,c){g(0,c);a.u.G(d.get("optionsAfterRender"),null,[c[0],b!==Q?b:n])});a.a.ec(b,q,function(c,e,g){g.length&&(t=!l&&g[0].selected?[a.w.M(g[0])]:[],x=!0);e=b.ownerDocument.createElement("option");c===Q?(a.a.Bb(e,d.get("optionsCaption")),a.w.cb(e,n)):(g=f(c,d.get("optionsValue"),c),a.w.cb(e,a.a.f(g)),c=f(c,d.get("optionsText"),g),
a.a.Bb(e,c));return[e]},c,k);if(!l){var B;h?B=t.length&&e().length<t.length:B=t.length&&0<=b.selectedIndex?a.w.M(b.options[b.selectedIndex])!==t[0]:t.length||0<=b.selectedIndex;B&&a.u.G(a.a.Fb,null,[b,"change"])}(l||a.S.Ya())&&a.i.ma(b,a.i.H);a.a.wd(b);m&&20<Math.abs(m-b.scrollTop)&&(b.scrollTop=m)}};a.c.options.$b=a.a.g.Z();a.c.selectedOptions={init:function(b,c,d){function e(){var e=c(),f=[];a.a.D(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.w.M(b))});a.m.eb(e,d,"selectedOptions",
f)}function f(){var d=a.a.f(c()),e=b.scrollTop;d&&"number"==typeof d.length&&a.a.D(b.getElementsByTagName("option"),function(b){var c=0<=a.a.A(d,a.w.M(b));b.selected!=c&&a.a.Zc(b,c)});b.scrollTop=e}if("select"!=a.a.R(b))throw Error("selectedOptions binding applies only to SELECT elements");var g;a.i.subscribe(b,a.i.H,function(){g?e():(a.a.B(b,"change",e),g=a.o(f,null,{l:b}))},null,{notifyImmediately:!0})},update:function(){}};a.m.wa.selectedOptions=!0;a.c.style={update:function(b,c){var d=a.a.f(c()||
{});a.a.P(d,function(c,d){d=a.a.f(d);if(null===d||d===n||!1===d)d="";if(v)v(b).css(c,d);else if(/^--/.test(c))b.style.setProperty(c,d);else{c=c.replace(/-(\w)/g,function(a,b){return b.toUpperCase()});var g=b.style[c];b.style[c]=d;d===g||b.style[c]!=g||isNaN(d)||(b.style[c]=d+"px")}})}};a.c.submit={init:function(b,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.B(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?
a.preventDefault():a.returnValue=!1)}})}};a.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Bb(b,c())}};a.h.ea.text=!0;(function(){if(A&&A.navigator){var b=function(a){if(a)return parseFloat(a[1])},c=A.navigator.userAgent,d,e,f,g,h;(d=A.opera&&A.opera.version&&parseInt(A.opera.version()))||(h=b(c.match(/Edge\/([^ ]+)$/)))||b(c.match(/Chrome\/([^ ]+)/))||(e=b(c.match(/Version\/([^ ]+) Safari/)))||(f=b(c.match(/Firefox\/([^ ]+)/)))||(g=a.a.W||b(c.match(/MSIE ([^ ]+)/)))||
(g=b(c.match(/rv:([^ )]+)/)))}if(8<=g&&10>g)var m=a.a.g.Z(),k=a.a.g.Z(),l=function(b){var c=this.activeElement;(c=c&&a.a.g.get(c,k))&&c(b)},p=function(b,c){var d=b.ownerDocument;a.a.g.get(d,m)||(a.a.g.set(d,m,!0),a.a.B(d,"selectionchange",l));a.a.g.set(b,k,c)};a.c.textInput={init:function(b,c,k){function l(c,d){a.a.B(b,c,d)}function m(){var d=a.a.f(c());if(null===d||d===n)d="";L!==n&&d===L?a.a.setTimeout(m,4):b.value!==d&&(y=!0,b.value=d,y=!1,v=b.value)}function r(){w||(L=b.value,w=a.a.setTimeout(z,
4))}function z(){clearTimeout(w);L=w=n;var d=b.value;v!==d&&(v=d,a.m.eb(c(),k,"textInput",d))}var v=b.value,w,L,A=9==a.a.W?r:z,y=!1;g&&l("keypress",z);11>g&&l("propertychange",function(a){y||"value"!==a.propertyName||A(a)});8==g&&(l("keyup",z),l("keydown",z));p&&(p(b,A),l("dragend",r));(!g||9<=g)&&l("input",A);5>e&&"textarea"===a.a.R(b)?(l("keydown",r),l("paste",r),l("cut",r)):11>d?l("keydown",r):4>f?(l("DOMAutoComplete",z),l("dragdrop",z),l("drop",z)):h&&"number"===b.type&&l("keydown",r);l("change",
z);l("blur",z);a.o(m,null,{l:b})}};a.m.wa.textInput=!0;a.c.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.c.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.c.uniqueName.rd;a.a.Yc(b,d)}}};a.c.uniqueName.rd=0;a.c.using={init:function(b,c,d,e,f){var g;d.has("as")&&(g={as:d.get("as"),noChildContext:d.get("noChildContext")});c=f.createChildContext(c,g);a.Oa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.using=!0;a.c.value={init:function(b,c,d){var e=a.a.R(b),f="input"==
e;if(!f||"checkbox"!=b.type&&"radio"!=b.type){var g=[],h=d.get("valueUpdate"),m=!1,k=null;h&&("string"==typeof h?g=[h]:g=a.a.wc(h),a.a.Pa(g,"change"));var l=function(){k=null;m=!1;var e=c(),f=a.w.M(b);a.m.eb(e,d,"value",f)};!a.a.W||!f||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.A(g,"propertychange")||(a.a.B(b,"propertychange",function(){m=!0}),a.a.B(b,"focus",function(){m=!1}),a.a.B(b,"blur",function(){m&&l()}));a.a.D(g,function(c){var d=l;a.a.Ud(c,"after")&&
(d=function(){k=a.w.M(b);a.a.setTimeout(l,0)},c=c.substring(5));a.a.B(b,c,d)});var p;p=f&&"file"==b.type?function(){var d=a.a.f(c());null===d||d===n||""===d?b.value="":a.u.G(l)}:function(){var f=a.a.f(c()),g=a.w.M(b);if(null!==k&&f===k)a.a.setTimeout(p,0);else if(f!==g||g===n)"select"===e?(g=d.get("valueAllowUnset"),a.w.cb(b,f,g),g||f===a.w.M(b)||a.u.G(l)):a.w.cb(b,f)};if("select"===e){var q;a.i.subscribe(b,a.i.H,function(){q?d.get("valueAllowUnset")?p():l():(a.a.B(b,"change",l),q=a.o(p,null,{l:b}))},
null,{notifyImmediately:!0})}else a.a.B(b,"change",l),a.o(p,null,{l:b})}else a.ib(b,{checkedValue:c})},update:function(){}};a.m.wa.value=!0;a.c.visible={update:function(b,c){var d=a.a.f(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};a.c.hidden={update:function(b,c){a.c.visible.update(b,function(){return!a.a.f(c())})}};(function(b){a.c[b]={init:function(c,d,e,f,g){return a.c.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");
a.ca=function(){};a.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.ca.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||w;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.C.F(d)}if(1==b.nodeType||8==b.nodeType)return new a.C.ia(b);throw Error("Unknown template type: "+b);};a.ca.prototype.renderTemplate=
function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d,e)};a.ca.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.ca.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.ca);a.kc=function(){function b(b,c,d,h){b=a.m.ac(b);for(var m=a.m.Ra,k=0;k<b.length;k++){var l=b[k].key;if(Object.prototype.hasOwnProperty.call(m,
l)){var p=m[l];if("function"===typeof p){if(l=p(b[k].value))throw Error(l);}else if(!p)throw Error("This template engine does not support the '"+l+"' binding within its templates");}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.m.vb(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return h.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,
d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.kc.Ld(b,c)},d)},Ld:function(a,f){return a.replace(c,function(a,c,d,e,l){return b(l,c,d,f)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",f)})},md:function(b,c){return a.aa.Xb(function(d,h){var m=d.nextSibling;m&&m.nodeName.toLowerCase()===c&&a.ib(m,b,h)})}}}();a.b("__tr_ambtns",a.kc.md);(function(){a.C={};a.C.F=function(b){if(this.F=b){var c=
a.a.R(b);this.ab="script"===c?1:"textarea"===c?2:"template"==c&&b.content&&11===b.content.nodeType?3:4}};a.C.F.prototype.text=function(){var b=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[b];var c=arguments[0];"innerHTML"===b?a.a.fc(this.F,c):this.F[b]=c};var b=a.a.g.Z()+"_";a.C.F.prototype.data=function(c){if(1===arguments.length)return a.a.g.get(this.F,b+c);a.a.g.set(this.F,b+c,arguments[1])};var c=a.a.g.Z();a.C.F.prototype.nodes=function(){var b=this.F;
if(0==arguments.length){var e=a.a.g.get(b,c)||{},f=e.lb||(3===this.ab?b.content:4===this.ab?b:n);if(!f||e.jd){var g=this.text();g&&g!==e.bb&&(f=a.a.Md(g,b.ownerDocument),a.a.g.set(b,c,{lb:f,bb:g,jd:!0}))}return f}e=arguments[0];this.ab!==n&&this.text("");a.a.g.set(b,c,{lb:e})};a.C.ia=function(a){this.F=a};a.C.ia.prototype=new a.C.F;a.C.ia.prototype.constructor=a.C.ia;a.C.ia.prototype.text=function(){if(0==arguments.length){var b=a.a.g.get(this.F,c)||{};b.bb===n&&b.lb&&(b.bb=b.lb.innerHTML);return b.bb}a.a.g.set(this.F,
c,{bb:arguments[0]})};a.b("templateSources",a.C);a.b("templateSources.domElement",a.C.F);a.b("templateSources.anonymousTemplate",a.C.ia)})();(function(){function b(b,c,d){var e;for(c=a.h.nextSibling(c);b&&(e=b)!==c;)b=a.h.nextSibling(e),d(e,b)}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],g=e.parentNode,h=a.ga.instance,m=h.preprocessNode;if(m){b(e,f,function(a,b){var c=a.previousSibling,d=m.call(h,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e)return;e===f?c.push(e):
(c.push(e,f),a.a.Ua(c,g))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.vc(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.aa.cd(b,[d])});a.a.Ua(c,g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,h,m){m=m||{};var n=(b&&d(b)||f||{}).ownerDocument,B=m.templateEngine||g;a.kc.xd(f,B,n);f=B.renderTemplate(f,h,m,n);if("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)throw Error("Template engine must return an array of DOM nodes");n=!1;switch(e){case "replaceChildren":a.h.va(b,
f);n=!0;break;case "replaceNode":a.a.Xc(b,f);n=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e);}n&&(c(f,h),m.afterRender&&a.u.G(m.afterRender,null,[f,h[m.as||"$data"]]),"replaceChildren"==e&&a.i.ma(b,a.i.H));return f}function f(b,c,d){return a.O(b)?b():"function"===typeof b?b(c,d):b}var g;a.gc=function(b){if(b!=n&&!(b instanceof a.ca))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.dc=function(b,c,h,m,t){h=h||{};if((h.templateEngine||g)==
n)throw Error("Set a template engine before calling renderTemplate");t=t||"replaceChildren";if(m){var x=d(m);return a.$(function(){var g=c&&c instanceof a.fa?c:new a.fa(c,null,null,null,{exportDependencies:!0}),n=f(b,g.$data,g),g=e(m,t,n,g,h);"replaceNode"==t&&(m=g,x=d(m))},null,{Sa:function(){return!x||!a.a.Sb(x)},l:x&&"replaceNode"==t?x.parentNode:x})}return a.aa.Xb(function(d){a.dc(b,c,h,d,"replaceNode")})};a.Qd=function(b,d,g,h,m){function x(b,c){a.u.G(a.a.ec,null,[h,b,u,g,r,c]);a.i.ma(h,a.i.H)}
function r(a,b){c(b,v);g.afterRender&&g.afterRender(b,a);v=null}function u(a,c){v=m.createChildContext(a,{as:z,noChildContext:g.noChildContext,extend:function(a){a.$index=c;z&&(a[z+"Index"]=c)}});var d=f(b,a,v);return e(h,"ignoreTargetNode",d,v,g)}var v,z=g.as,w=!1===g.includeDestroyed||a.options.foreachHidesDestroyed&&!g.includeDestroyed;if(w||g.beforeRemove||!a.Pc(d))return a.$(function(){var b=a.a.f(d)||[];"undefined"==typeof b.length&&(b=[b]);w&&(b=a.a.jb(b,function(b){return b===n||null===b||
!a.a.f(b._destroy)}));x(b)},null,{l:h});x(d.v());var A=d.subscribe(function(a){x(d(),a)},null,"arrayChange");A.l(h);return A};var h=a.a.g.Z(),m=a.a.g.Z();a.c.template={init:function(b,c){var d=a.a.f(c());if("string"==typeof d||"name"in d)a.h.Ea(b);else if("nodes"in d){d=d.nodes||[];if(a.O(d))throw Error('The "nodes" option must be a plain, non-observable array.');var e=d[0]&&d[0].parentNode;e&&a.a.g.get(e,m)||(e=a.a.Yb(d),a.a.g.set(e,m,!0));(new a.C.ia(b)).nodes(e)}else if(d=a.h.childNodes(b),0<d.length)e=
a.a.Yb(d),(new a.C.ia(b)).nodes(e);else throw Error("Anonymous template defined, but no template content was provided");return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c();c=a.a.f(g);d=!0;e=null;"string"==typeof c?c={}:(g="name"in c?c.name:b,"if"in c&&(d=a.a.f(c["if"])),d&&"ifnot"in c&&(d=!a.a.f(c.ifnot)),d&&!g&&(d=!1));"foreach"in c?e=a.Qd(g,d&&c.foreach||[],c,b,f):d?(d=f,"data"in c&&(d=f.createChildContext(c.data,{as:c.as,noChildContext:c.noChildContext,exportDependencies:!0})),
e=a.dc(g,d,c,b)):a.h.Ea(b);f=e;(c=a.a.g.get(b,h))&&"function"==typeof c.s&&c.s();a.a.g.set(b,h,!f||f.ja&&!f.ja()?n:f)}};a.m.Ra.template=function(b){b=a.m.ac(b);return 1==b.length&&b[0].unknown||a.m.Id(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.h.ea.template=!0})();a.b("setTemplateEngine",a.gc);a.b("renderTemplate",a.dc);a.a.Kc=function(a,c,d){if(a.length&&c.length){var e,f,g,h,m;for(e=f=0;(!d||e<d)&&(h=a[f]);++f){for(g=0;m=c[g];++g)if(h.value===
m.value){h.moved=m.index;m.moved=h.index;c.splice(g,1);e=g=0;break}e+=g}}};a.a.Pb=function(){function b(b,d,e,f,g){var h=Math.min,m=Math.max,k=[],l,p=b.length,q,n=d.length,r=n-p||1,v=p+n+1,u,w,z;for(l=0;l<=p;l++)for(w=u,k.push(u=[]),z=h(n,l+r),q=m(0,l-1);q<=z;q++)u[q]=q?l?b[l-1]===d[q-1]?w[q-1]:h(w[q]||v,u[q-1]||v)+1:q+1:l+1;h=[];m=[];r=[];l=p;for(q=n;l||q;)n=k[l][q]-1,q&&n===k[l][q-1]?m.push(h[h.length]={status:e,value:d[--q],index:q}):l&&n===k[l-1][q]?r.push(h[h.length]={status:f,value:b[--l],index:l}):
(--q,--l,g.sparse||h.push({status:"retained",value:d[q]}));a.a.Kc(r,m,!g.dontLimitMoves&&10*p);return h.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<d.length?b(a,d,"added","deleted",e):b(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.Pb);(function(){function b(b,c,d,h,m){var k=[],l=a.$(function(){var l=c(d,m,a.a.Ua(k,b))||[];0<k.length&&(a.a.Xc(k,l),h&&a.u.G(h,null,[d,l,m]));k.length=0;a.a.Nb(k,l)},null,{l:b,Sa:function(){return!a.a.kd(k)}});
return{Y:k,$:l.ja()?l:n}}var c=a.a.g.Z(),d=a.a.g.Z();a.a.ec=function(e,f,g,h,m,k){function l(b){y={Aa:b,pb:a.ta(w++)};v.push(y);r||F.push(y)}function p(b){y=t[b];w!==y.pb.v()&&D.push(y);y.pb(w++);a.a.Ua(y.Y,e);v.push(y)}function q(b,c){if(b)for(var d=0,e=c.length;d<e;d++)a.a.D(c[d].Y,function(a){b(a,d,c[d].Aa)})}f=f||[];"undefined"==typeof f.length&&(f=[f]);h=h||{};var t=a.a.g.get(e,c),r=!t,v=[],u=0,w=0,z=[],A=[],C=[],D=[],F=[],y,I=0;if(r)a.a.D(f,l);else{if(!k||t&&t._countWaitingForRemove){var E=
a.a.Mb(t,function(a){return a.Aa});k=a.a.Pb(E,f,{dontLimitMoves:h.dontLimitMoves,sparse:!0})}for(var E=0,G,H,K;G=k[E];E++)switch(H=G.moved,K=G.index,G.status){case "deleted":for(;u<K;)p(u++);H===n&&(y=t[u],y.$&&(y.$.s(),y.$=n),a.a.Ua(y.Y,e).length&&(h.beforeRemove&&(v.push(y),I++,y.Aa===d?y=null:C.push(y)),y&&z.push.apply(z,y.Y)));u++;break;case "added":for(;w<K;)p(u++);H!==n?(A.push(v.length),p(H)):l(G.value)}for(;w<f.length;)p(u++);v._countWaitingForRemove=I}a.a.g.set(e,c,v);q(h.beforeMove,D);a.a.D(z,
h.beforeRemove?a.oa:a.removeNode);var M,O,P;try{P=e.ownerDocument.activeElement}catch(N){}if(A.length)for(;(E=A.shift())!=n;){y=v[E];for(M=n;E;)if((O=v[--E].Y)&&O.length){M=O[O.length-1];break}for(f=0;u=y.Y[f];M=u,f++)a.h.Wb(e,u,M)}for(E=0;y=v[E];E++){y.Y||a.a.extend(y,b(e,g,y.Aa,m,y.pb));for(f=0;u=y.Y[f];M=u,f++)a.h.Wb(e,u,M);!y.Ed&&m&&(m(y.Aa,y.Y,y.pb),y.Ed=!0,M=y.Y[y.Y.length-1])}P&&e.ownerDocument.activeElement!=P&&P.focus();q(h.beforeRemove,C);for(E=0;E<C.length;++E)C[E].Aa=d;q(h.afterMove,D);
q(h.afterAdd,F)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.ec);a.ba=function(){this.allowTemplateRewriting=!1};a.ba.prototype=new a.ca;a.ba.prototype.constructor=a.ba;a.ba.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.a.W?0:b.nodes)?b.nodes():null)return a.a.la(c.cloneNode(!0).childNodes);b=b.text();return a.a.ua(b,e)};a.ba.Ma=new a.ba;a.gc(a.ba.Ma);a.b("nativeTemplateEngine",a.ba);(function(){a.$a=function(){var a=this.Hd=function(){if(!v||!v.tmpl)return 0;try{if(0<=v.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();
this.renderTemplateSource=function(b,e,f,g){g=g||w;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");h||(h=b.text()||"",h=v.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[e.$data];e=v.extend({koBindingContext:e},f.templateOptions);e=v.tmpl(h,b,e);e.appendTo(g.createElement("div"));v.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+
a+" })()) }}"};this.addTemplate=function(a,b){w.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(v.tmpl.tag.ko_code={open:"__.push($1 || '');"},v.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.$a.prototype=new a.ca;a.$a.prototype.constructor=a.$a;var b=new a.$a;0<b.Hd&&a.gc(b);a.b("jqueryTmplTemplateEngine",a.$a)})()})})();})();

// Copyright (C) Microsoft Corporation. All rights reserved.
define("TestManagement/Scripts/TFS.TestManagement.MessageArea",["require","exports","knockout","VSS/Controls/Notifications","VSS/Utils/Core","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e){var o,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.MessageAreaViewModel=t.MessageAreaView=void 0;o=u.delegate;s=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._disposalManager=new u.DisposalManager,i._messageAreaViewModel=t.viewModel,i._messageAreaViewModel.clearDelegate=o(i,i.clear),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({closeable:!0},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._subscribe()},t.prototype.dispose=function(){this.clear();this._disposalManager.dispose()},t.prototype._subscribe=function(){var n=this;this._disposalManager.addDisposable(this._messageAreaViewModel.logError.subscribe(function(t){t&&(n.setError(e.getErrorMessage(t)),n._messageAreaViewModel.logError(f.empty))}));this._disposalManager.addDisposable(this._messageAreaViewModel.logInfo.subscribe(function(t){t&&(n.setMessage(t,r.MessageAreaType.Info),n._messageAreaViewModel.logInfo(f.empty))}));this._disposalManager.addDisposable(this._messageAreaViewModel.logInfoJQuery.subscribe(function(t){t&&(n.setMessage(t,r.MessageAreaType.Info),n._messageAreaViewModel.logInfoJQuery(null))}))},t}(r.MessageAreaControl);t.MessageAreaView=s;h=function(){function n(){this.logError=i.observable(f.empty);this.logInfo=i.observable(f.empty);this.logInfoJQuery=i.observable(null)}return n.prototype.clear=function(){this.clearDelegate&&this.clearDelegate()},n}();t.MessageAreaViewModel=h;e.tfsModuleLoaded("TFS.TestManagement.MessageArea",t)});

define("TestManagement/Scripts/TFS.TestManagement.TestView",["require","exports","q","Presentation/Scripts/TFS/TFS.Legacy.Ajax","Presentation/Scripts/TFS/TFS.IdentityImage","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/Generated/TFS.TestManagement.Constants","Presentation/Scripts/TFS/FeatureRef/TFS.TeamAwarenessService","Presentation/Scripts/TFS/TFS.Core.Utils","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.WebSettingsService","Presentation/Scripts/TFS/TFS.OM.Identities","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","Presentation/Scripts/TFS/TFS.UI.Controls.Identities","Presentation/Scripts/TFS/TFS.UI.Widgets","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","TfsCommon/Scripts/Resources/TFS.Resources.TfsCommon","TfsCommon/Scripts/KeyboardShortcuts","TfsCommon/Scripts/Team/Services","Presentation/Scripts/TFS/FeatureRef/WorkItemTypeColorAndIconsProvider","WorkItemTracking/Scripts/Filtering/FilterManager","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemManager","WorkItemTracking/Scripts/RecycleBinConstants","WorkItemTracking/Scripts/Utils/WitControlMode","TestManagement/Scripts/TFS.TestManagement.AssignTesters","TestManagement/Scripts/TFS.TestManagement.BulkEditTestsViewModel","TestManagement/Scripts/TFS.TestManagement.PageHelper","TestManagement/Scripts/Resources/TFS.Resources.TestManagement","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","TestManagement/Scripts/TFS.TestManagement","TestManagement/Scripts/TFS.TestManagement.TreeView","TestManagement/Scripts/TFS.TestManagement.TestHubShortcutsControls","TestManagement/Scripts/TFS.TestManagement.Utils","TestManagement/Scripts/TFS.TestManagement.Telemetry","TestManagement/Scripts/Utils/TFS.TestManagement.LicenseAndFeatureFlagUtils","VSS/Controls","VSS/Diag","VSS/Controls/Dialogs","VSS/Events/Action","VSS/Events/Document","VSS/Events/Handlers","VSS/Events/Services","VSS/FeatureAvailability/Services","VSS/Controls/Grids","VSS/Controls/Menus","VSS/Controls/Navigation","VSS/Navigation/Services","VSS/Performance","VSS/Service","VSS/Controls/Splitter","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/String","VSS/Utils/UI","VSS/Utils/Url","VSS/VSS","VSS/Resources/VSS.Resources.Common","WorkItemTracking/Scripts/TFS.UI.Tags","WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.Accessories","WorkItemTracking/Scripts/TFS.WorkItemTracking","TFS/TestManagement/Contracts","VSS/Utils/Culture","TestManagement/Scripts/TFS.TestManagement.MessageArea"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,ir){var ar,gr,uu,lr,er,sr,pr,iu,nu,ru,tu,yr,ou,fu;Object.defineProperty(t,"__esModule",{value:!0});t.TeamHelper=t.CommonContextMenuItemsWithSearch=t.TestHubView=t.GridViewShortcutGroup=t.ListViewShortcutGroup=t.TestShortcutGroup=t.TestDetailsPaneGrid=t.GridAreaSelectors=t.FilterHelper=t.TestPointsGrid=t.TestsGridHtmlTableFormatter=t.TestPlanSelector=t.NewSuiteCommandIds=t.TestPivots=void 0;var br=h.TfsContext,ur=li.delegate,kr=yi.domElem,dr=vt.TestCaseCategoryUtils,hr=vt.WorkItemUtils,fr=ct.DAUtils,rr=yt.TelemetryService,wr=vt.TestHubColumnOption,eu=lt.TestSuitesTree,cr=pt.LicenseAndFeatureFlagUtils,vr=si.getLocalService(ti.EventService),or=function(){function n(){}return n.TESTS="tests",n.CHARTS="charts",n}();t.TestPivots=or;ar=function(){function n(){}return n.newStaticSuite="new-static-suite",n.newRequirementSuite="new-requirement-suite",n.newQueryBasedSuite="new-query-based-suite",n}();t.NewSuiteCommandIds=ar;gr=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);p.Dropdown(this._element,{watermarkText:st.SelectPlan});this._dropDownControl=this._element.data("TFS-Dropdown");this._dropDownControl.options._elements._noResults.text(st.NoPlansAvailable);this._element.on("itemSelected",ur(this,this._onSelectedPlanChanged));this._element.on("startSearch",ur(this,this._onSelectedPlanChanged));this._element.on("completeSearch",ur(this,this._onSelectedPlanChanged));this._element.on("cancelSearch",ur(this,this._onSelectedPlanChanged))},t.prototype.setData=function(n,t){var i;this._idToPlanTextMap={};this._setDisplayTextAndCreateIdToTextMap(n);t&&(i=this._idToPlanTextMap[t]);n&&(this._dropDownControl.add(n),i&&this._setSelectedPlan(i))},t.prototype.clearDropDown=function(){this._dropDownControl.clear();this._dropDownControl.setValue("")},t.prototype.updateData=function(n,t,i){n&&(this._setDisplayTextAndCreateIdToTextMap([n]),i&&this._dropDownControl.remove(i.text),this._dropDownControl._addItem(n),t&&this._setSelectedPlan(n));this._selectedPlan&&this._setSelectedPlan(this._selectedPlan)},t.prototype.selectPlanById=function(n){var t=this._idToPlanTextMap[n];return t&&this._setSelectedPlan(t),t},t.prototype.removeDeletedPlanAndSetSelectedPlan=function(n){var t=this._idToPlanTextMap[n],i,r;t&&(this._dropDownControl.remove(t.text),delete this._idToPlanTextMap[n]);for(r in this._idToPlanTextMap){i=this._idToPlanTextMap[r];break}return this._selectedPlan=i,this._selectedPlan?this._selectWithoutOpeningDropDown(this._selectedPlan.text):this.clearDropDown(),this._selectedPlan},t.prototype._selectWithoutOpeningDropDown=function(n){this._dropDownControl.options.showListOnKeystroke=!1;this._dropDownControl.select(n,!1);this._dropDownControl.options.showListOnKeystroke=!0},t.prototype._setSelectedPlan=function(n){this._selectedPlan=n;this._selectWithoutOpeningDropDown(this._selectedPlan.text)},t.prototype._setDisplayTextAndCreateIdToTextMap=function(n){var t,r=[],i;if(n)for(i=0;i<n.length;i++)t=n[i],r=t.iteration.split("\\"),t.text=vi.format(st.TestPlanTitleFormat,r[r.length-1],t.name,t.id),this._idToPlanTextMap[t.id]=t},t.prototype._onSelectedPlanChanged=function(){this._dropDownControl.options._elements._autoComplete.hide()},t.enhancementTypeName="tfs.testManagement.TestPlanSelector",t}(wt.BaseControl);t.TestPlanSelector=gr;wi.initClassPrototype(gr,{_selectedPlan:null,_idToPlanTextMap:null,_dropDownControl:null});wi.classExtend(gr,br.ControlExtensions);uu=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getFormattedColumnValue=function(n,t){if(n.isIdentity){var i=a.IdentityHelper.parseUniquefiedIdentityName(t);if(i)return i.displayName}return t},t}(ri.TabDelimitedTableFormatter);t.TestsGridHtmlTableFormatter=uu;lr=function(n){function t(t){var i=n.call(this,t)||this;return i._rowIndexToScrollAfterFetch=-1,i.testCaseModified=!1,i._workItemChangedDelegate=ur(i,i.workItemChanged),i._dirtyWorkItems=[],i.onMiddleRowVisible=t&&t.onMiddleRowVisible?t.onMiddleRowVisible:function(){},i}return __extends(t,n),t.prototype.initializeOptions=function(t){var r=this,i=!1;i={scope:eu.DropScope,scrollables:[".testmanagement-suites-tree"],cursorAt:{left:-20,top:0},dropBehaviour:!1,axis:"",appendTo:document.body,helper:function(n,t){return r._draggableHelper(n,t)}};n.prototype.initializeOptions.call(this,$.extend({sharedMeasurements:!1,allowMoveColumns:!1,keepSelection:!0,allowMultiSelect:!0,autoSort:!1,gutter:{contextMenu:!0},contextMenu:{items:ur(this,this.getContextMenuItems),updateCommandStates:ur(this,this._updateContextMenuCommandStates),executeAction:ur(this,this._onContextMenuItemClick),arguments:ur(this,this._getDefaultActionArguments),contributionIds:["ms.vss-test-web.test-run-grid-menu"],contextInfo:{item:{getContributionContext:this.getContributionContext.bind(this)}}},cssClass:"testcases-grid",initialSelection:!1,draggable:i},t))},t.prototype.initialize=function(){var t=this,r=h.TfsContext.getDefault(),i;si.getService(d.TeamPermissionService).beginGetTeamPermissions(r.navigation.projectId,r.navigation.teamId).then(function(n){t._teamPermissions=n});vt.CommonIdentityPickerHelper.getFeatureFlagState();n.prototype.initialize.call(this);this.startTrackingWorkItems();this._bind("keydown",function(n){n.altKey&&n.ctrlKey&&n.which===88&&(vt.getTestPlanManager().updateColumnOptions([],!0),vt.getTestPlanManager().updateColumnSortOrder({index:"",order:""}),t.resetFiltersEvent&&t.resetFiltersEvent())});i=this._parseUrlToGetTestCaseId();i&&this._openWorkItem(i,null,null)},t.prototype._parseUrlToGetTestCaseId=function(){var n=ei.getHistoryService().getCurrentState(),t;return n.hasOwnProperty("testCaseId")?(t=n.testCaseId,delete n.testCaseId,ei.getHistoryService().updateHistoryEntry(n.action,n,!0,!1,vi.empty,!0),t):undefined},t.prototype.startTrackingWorkItems=function(){it.WorkItemManager.get(hr.getWorkItemStore()).attachWorkItemChanged(this._workItemChangedDelegate)},t.prototype.stopTrackingWorkItems=function(){it.WorkItemManager.get(hr.getWorkItemStore()).detachWorkItemChanged(this._workItemChangedDelegate)},t.prototype.copySelectedItems=function(t,i,r){n.prototype.copySelectedItems.call(this,t?t:uu,i,r)},t.prototype._onRowMouseDown=function(t){var i=this._getRowInfoFromEvent(t,".grid-row");i&&(this._selectedIndex!==i.rowIndex||!this._selectedRows.hasOwnProperty(i.rowIndex)||t.ctrlKey||t.shiftKey)&&n.prototype._onRowMouseDown.call(this,t)},t.prototype._onCanvasScroll=function(t){var u=n.prototype._onCanvasScroll.call(this,t),i=this._rows[this._count-this._count/2],r=this._rows[this._count-1];return r&&this._isScrolledIntoView(r.row)?this._onMiddleRowVisible(r.rowIndex):i&&this._isScrolledIntoView(i.row)&&this._onMiddleRowVisible(i.rowIndex),u},t.prototype._onMiddleRowVisible=function(n){var t=this;bt.logTracePoint("TestPoint.Grid.MiddlePoint.Visible");this._rowIndexToScrollAfterFetch=n;bt.logVerbose("[_onMiddleRowVisible]Middle point of grid is visible. Fetch more testspoints. Index to scroll to after fetch = "+n);this.delayExecute("fetchMoreTestPoints",1,!0,function(){bt.logVerbose("[_onMiddleRowVisible]Middle row visible. Starting to get more testpoints");t.onMiddleRowVisible&&t.onMiddleRowVisible()})},t.prototype.getVisibleRow=function(){var n=this._getVisibleRowIndices();return this._getRowIntoView(n.first),n.first},t.prototype._clearGrid=function(){var n=this._options;n.source=[];this.initializeDataSource()},t.prototype.getContributionContext=function(){return this.getSelectedTestPoints()},t.prototype._getDraggedRowsInfo=function(){var n=this._getSelectedTestCaseIds();return n&&n.length>0?n:null},t.prototype._isScrolledIntoView=function(n){var t=$(window).scrollTop(),r=t+$(window).height(),i=n.offset().top,u=i+n.height();return u<=r&&i>=t},t.prototype._draggableHelper=function(n,t){var i=t.draggingRowInfo?t.draggingRowInfo.length:0,r=$("<div/>"),u,f=vi.format(st.DraggedItemText,i);return i>1&&(f=vi.format(st.DraggedMultipleItemsText,i)),u=$("<div />").addClass("drag-testcase-tile drag-droppable").text(f),r.append("<div class='drag-not-droppable-icon bowtie-icon bowtie-status-no-fill'/>").append(u),r},t.getRemovableTestPointFields=function(){var n=[];return n.push(wr._testPointConfigurationField),n.push(wr._testPointTesterField),n.push(wr._testPointSuiteIdField),n.push(wr._testPointSuiteNameField),n.push(wr._testPointLastRunByField),n.push(wr._testPointLastRunDurationField),n.push(wr._testPointBuildField),n},t.prototype._createContextMenu=function(t,i){if(cr.AreAdvancedTestManagementFeaturesEnabled()){var r=i.items.length;ou.contributeTestPointsGrid(i,{tfsContext:h.TfsContext.getDefault(),enableTeamActions:!this._teamPermissions||this._teamPermissions.currentUserHasTeamPermission,executeAction:ur(this,this._assignTester),title:st.AssignTesterTitle,tooltip:st.AssignTesterTooltip,maxTeamSize:500,addSearchUserChildMenu:vt.CommonIdentityPickerHelper.featureFlagEnabled});r===i.items.length&&i.items.push({rank:13,separator:!0})}return i.getContributionContext=ur(this,this.getContributionContext),n.prototype._createContextMenu.call(this,t,i)},t.getFixedFields=function(){var t=[{id:w.CoreField.Id,text:st.TestPointGridColumnID,name:w.CoreFieldRefNames.Id},{id:w.CoreField.Title,text:st.TestPointGridColumnTitle,name:w.CoreFieldRefNames.Title}],n=[];return n.push(wr._testPointOutcomeField),n.push(wr._testPointOrderField),n.concat(t)},t.prototype.setSource=function(n,t,i){var r=this._options;if(r.source=n,this._originalDataSource=n.slice(0),this._unfilteredWorkItemIds=this.getWorkItemIdsFromDataSource(this._originalDataSource),this._customizeColumns(t),r.columns=t,r.sortOrder=this._getSortOrder(i),!this._filterApplied){this.initializeDataSource();this.onSort(r.sortOrder);n&&n.length>0&&this._selectRow(0)}},t.prototype.onSort=function(t,i){n.prototype.onSort.call(this,t,i);t&&t.length>0&&this._fire("sortOrderChanged",{index:t[0].index,order:t[0].order},!1)},t.prototype._getColumn=function(n){for(var i=this._columns,r=this._columns.length,t=0;t<r;t++)if(i[t].index===n)return i[t]},t.prototype._openWorkItem=function(n,t,i){var r=this,u=function(n){wi.errorHandler.showError(n)};vr.attachEvent(rt.RecycleBinConstants.EVENT_DELETE_SUCCEEDED,this.refreshSelectedTestSuiteEvent);vr.attachEvent(rt.RecycleBinConstants.EVENT_DELETE_FAILED,u);ui.menuManager.executeCommand(new ni.CommandEventArgs("open-work-item",{id:n,tfsContext:h.TfsContext.getDefault(),options:{save:function(){r.testCaseModified=!0},close:function(n){vr.detachEvent(rt.RecycleBinConstants.EVENT_DELETE_SUCCEEDED,r.refreshSelectedTestSuiteEvent);vr.detachEvent(rt.RecycleBinConstants.EVENT_DELETE_FAILED,u);try{var f=r;r.testCaseModified&&r.refreshTestPointsEvent&&t&&r.refreshTestPointsEvent([t]);setTimeout(function(){f.focus()},10);r.testCaseModified=!1}finally{r.isTestCaseDialogOpen=!1;i&&r._updateRowStyle(i,n);r._updatePageRow(n);r._updateDirtyStatus(n)}}}},null))},t.prototype.openSelectedTestCase=function(){if(cr.AreAdvancedTestManagementFeaturesEnabled()){var n=this.getSelectedTestPoint(),t=this._getSelectedRow();fr.trackAction("OpenTestCase","/SuiteManagement");this.getSelectionCount()===1&&n&&(this.isTestCaseDialogOpen=!0,this._openWorkItem(n.testCaseId,n,t));rr.publishEvents(rr.featureOpenTestCaseWIT,{})}},t.prototype.onOpenRowDetail=function(){return this.openSelectedTestCase(),!1},t.prototype.getSelectedTestPoint=function(){var n;if(this._selectedIndex>=0)return n=this._selectedRows[this._selectedIndex],typeof n=="number"?this._dataSource[n]:null},t.prototype.getSelectedTestPoints=function(){var n=[];for(var t in this._selectedRows)this._selectedRows.hasOwnProperty(t)&&n.push(this._dataSource[this._selectedRows[t]]);return n},t.prototype.getDirtyTests=function(){return this._dirtyWorkItems},t.prototype.selectedIndexChanged=function(t,i){var r;n.prototype.selectedIndexChanged.call(this,t,i);r=this._dataSource[i]?this._dataSource[i].testCaseId:0;this._fire("selectedTestChanged",[r||0])},t.prototype.workItemChanged=function(n,t){var r=this,i,u;(i=t.workItem,u=i.getUniqueId(),u<=0)||this.isTestCaseDialogOpen||t.change===tt.WorkItemChangeType.Opened||li.delay(this,250,function(){var n,t,f;if(t=r._getDataRowsForWorkItem(u),t.length>0)for(n=0;n<t.length;n++)f=t[n],r._updatePageRow(i),r._updateDirtyStatus(i),r._updateTestPointRow(f,f.rowIndex,f.dataIndex,i);else r._updatePageRow(i),r._updateDirtyStatus(i)})},t.prototype.getColumnValue=function(t,i,r){var u,f;return f=this._dataSource[t].testCaseId,u=this._pageData[f],u&&u[i]!==undefined?gi.Field.convertValueToDisplayString(u[i]):n.prototype.getColumnValue.call(this,t,i,r)},t.prototype.resetDirtyItems=function(){for(var n=0,t=ci.clone(this._dirtyWorkItems),n=0;n<t.length;n++)t[n].reset();this._dirtyWorkItems=[]},t.prototype._onColumnResize=function(n){vt.getTestPlanManager().updateColumnOptions([{refName:n.name,width:Math.round(n.width)}],!1)},t.getTestCaseIdsFromTestPoints=function(n){if(!n)return[];for(var r=[],i={},u=n.length,t=0;t<u;t++)i[n[t].testCaseId]=!0;for(t=0;t<u;t++)i[n[t].testCaseId]&&(r.push(n[t].testCaseId),i[n[t].testCaseId]=!1);return r},t.getTestCaseAndSuiteListFromTestPoints=function(n){var r;if(!n)return[];for(var i=[],u=n.length,f=function(n,t){var i=n.filter(function(n){return n.id===t.id&&n.suiteId===t.suiteId});return i.length>0},t=0;t<u;t++)r={id:n[t].testCaseId,suiteId:n[t].suiteId,suiteName:n[t].suiteName},f(i,r)||i.push(r);return i},t.prototype._customizeColumns=function(n){var e=this,u,o,t,i,r,f;n&&$.each(n,function(n,s){if(vi.ignoreCaseComparer(s.name,"TCM.TestPointOutcome")===0)s.getCellContents=function(n,t,i,r,u,f,o){return e._getOutcomeColumn(t,u,o)};else if(vi.ignoreCaseComparer(s.type,"System.Int32")===0||vi.ignoreCaseComparer(s.type,"System.DateTime")===0)s.comparer=function(n,t,i,r){return i[n.name]-r[n.name]};else if(vi.ignoreCaseComparer(s.name,"System.Tags")===0)wi.using(["WorkItemTracking/Scripts/TFS.UI.Tags"],function(){u=function(n,t,i,r,u,f,e){return ki.TagUtilities.renderTagCellContents(this,t,u,e)};o=function(n,u,e,o,s,c,l){if(t=this._drawCell(n,u,e,o,s,c,l),i=this.getWorkItemTypeNameByIndex(u),i){var a=h.TfsContext.getDefault().navigation.project,v=g.WorkItemTypeColorAndIconsProvider.getInstance();f=v.getColor(a,i);r=$("<div/>").addClass("work-item-color").css("background-color",f);r.html("&nbsp;");r.prependTo(t)}return t};s.canSortBy=!1;s.getCellContents=u});else if(s.isIdentity){var c=function(n,t,i,r,u,f,e){return y.IdentityViewControl.renderIdentityCellContents(this,n,t,i,r,u,f,e)};s.getCellContents=c}})},t.prototype.getWorkitemIdAtDataIndex=function(n){return this._dataSource[n]?this._dataSource[n].testCaseId:0},t.prototype._getDataRowsForWorkItem=function(n){var t=this._rows,u=[],i,r;if(t)for(i in t)t.hasOwnProperty(i)&&(r=t[i],this._dataSource[r.dataIndex].testCaseId===n&&u.push(r));return u},t.prototype._getSelectedRow=function(){if(this._rows&&this._selectedIndex>=0&&this._rows[this._selectedIndex])return this._rows[this._selectedIndex].row},t.prototype._updateTestPointRow=function(t,i,r,u){n.prototype._updateRow.call(this,t,i,r,null,null);this._updateRowStyle(t.row,u)},t.prototype._updateRow=function(t,i,r){var f=this,u=this._dataSource[r].testCaseId;n.prototype._updateRow.call(this,t,i,r,null,null);this._pageData[u]&&it.WorkItemManager.get(hr.getWorkItemStore()).beginGetWorkItem(u,function(n){f._updateRowStyle(t.row,n)})},t.prototype._updateRowStyle=function(n,t){n&&(n.removeClass("dirty-workitem-row invalid-workitem-row"),t&&t.isDirty()&&(n.addClass("dirty-workitem-row"),(!t.isValid()||t.hasError())&&n.addClass("invalid-workitem-row")))},t.prototype.onColumnsChanged=function(n){this._updatePagedData(n)},t.prototype._updatePagedData=function(n){var i,t,r=it.WorkItemManager.get(hr.getWorkItemStore());for(i in this._pageData)this._pageData.hasOwnProperty(i)&&(t=r.getWorkItem(i),t&&t.isDirty()&&this._updatePageRow(t,n))},t.prototype._updatePageRow=function(n,t){var i,o,r,u,f=n.id,s,e;for(this._pageData[f]||(this._pageData[f]=[]),s=this._pageData[f],r=this._columns,t&&(r=t),i=0,o=r.length;i<o;i++)e=r[i].name,u=n.getField(e),s[e]=u?u.fieldDefinition.id===w.CoreField.Id?n.getUniqueId():u.getValue():undefined},t.prototype._updateDirtyStatus=function(n){n&&(n.isDirty()?$.inArray(n,this._dirtyWorkItems)===-1&&this._dirtyWorkItems.push(n):(this._updateGridDataSourceForWorkItem(n.id),delete this._pageData[n.id],$.inArray(n,this._dirtyWorkItems)!==-1&&ci.remove(this._dirtyWorkItems,n)),this._fire("dirtytestcaseschanged"))},t.prototype._updateGridDataSourceForWorkItem=function(n){var f=this._getIndicesInDataSourceForWorkItem(n),u,t,i,r,e;if(this._pageData.hasOwnProperty(n.toString()))for(u=this._pageData[n],t=0;t<this._columns.length;t++)if(i=this._columns[t],u[i.index])for(r=0;r<f.length;r++)e=f[r],this._dataSource[e][i.index]=u[i.index]},t.prototype._getIndicesInDataSourceForWorkItem=function(n){for(var i=[],t=0,r=this._dataSource.length,t=0;t<r;t++)this._dataSource[t].testCaseId===n&&i.push(t);return i},t.prototype.getContextMenuItems=function(){var n=[];return cr.AreAdvancedTestManagementFeaturesEnabled()&&(n.push({rank:5,id:"open-test-case",text:st.OpenTestCaseCommandText,icon:"bowtie-icon bowtie-arrow-open",groupId:"action"},{rank:6,id:"remove-test-case",text:st.RemoveTestCaseText,icon:"bowtie-icon bowtie-edit-delete",groupId:"action"},{rank:7,separator:!0},{rank:16,id:"bulk-edit-testcases",text:st.BulkEditSelectedTestCases,title:st.BulkEditSelectedTestCasesTooltip,icon:"bowtie-icon bowtie-edit",groupId:"edit"},{rank:17,id:"bulk-edit-testcases-using-grid",text:st.EditTestCasesUsingGrid,title:st.EditTestCasesUsingGridTooltip,icon:"bowtie-icon bowtie-edit",groupId:"edit"},{rank:24,id:"assign-configuration-to-test-case",groupId:"modify",text:st.AssignConfigurationToTestCases,icon:"bowtie-icon bowtie-server-remote"}),n.push({rank:12,id:"run-test-points-with-options",text:st.RunTestWithOptionsText,title:st.RunTestWithOptionsTooltip,icon:"bowtie-icon bowtie-media-play-fill",groupId:"execute"})),n.push({rank:11,id:"run-test-points",text:st.Run,icon:"bowtie-icon bowtie-media-play-fill",groupId:"execute"},{rank:13,id:"resume-test-points",text:st.ResumeTestText,icon:"bowtie-icon bowtie-play-resume-fill",groupId:"execute"},{rank:18,separator:!0},{rank:19,id:"reset-tests",text:st.ResetTestText,icon:"bowtie-icon bowtie-edit-redo",groupId:"status"},{rank:20,id:"pass-tests",text:st.PassTestText,icon:"bowtie-icon bowtie-status-success",groupId:"status"},{rank:21,id:"fail-tests",text:st.FailTestText,icon:"bowtie-icon bowtie-status-failure",groupId:"status"},{rank:22,id:"block-tests",text:st.BlockTestText,icon:"bowtie-icon bowtie-math-minus-circle",groupId:"status"},{rank:23,id:"not-applicable-tests",text:st.TestOutcome_NotApplicable,icon:"bowtie-icon bowtie-status-no-fill bowtie-no-fill-not-applicable",groupId:"status"}),n},t.prototype._getDefaultActionArguments=function(){return{tfsContext:h.TfsContext.getDefault(),selectedTestPoints:this.getSelectedTestPointIds()}},t.prototype.getSelectedTestPointIds=function(){var n=[];for(var t in this._selectedRows)this._selectedRows.hasOwnProperty(t)&&n.push(this._dataSource[this._selectedRows[t]].testPointId);return n},t.prototype._assignTester=function(n){var i=this,t;n.identity?(t=new ct.ITesterModel(n.identity.id,n.identity.displayName,n.identity.uniqueName,a.IdentityHelper.getUniquefiedIdentityName(n.identity)),this.assignTesterEvent(n.selectedTestPoints,t)):vt.CommonIdentityPickerHelper.featureFlagEnabled&&(bt.logTracePoint("[AssignTestersToSuite.LaunchDialogue]: method called"),wi.using(["TestManagement/Scripts/TFS.TestManagement.AssignTesters"],function(r){kt.show(r.AssignTesterIdentityPickerDialog,$.extend({width:ft.AssignTesterIdentityPickerDialog.DIALOG_WIDTH,height:ft.AssignTesterIdentityPickerDialog.DIALOG_HEIGHT,tableLabel:st.AssignTesterTitle,contentHeader:st.AssignTesterTitle,contentDescription:st.AssignTesterDialogDescription,resizable:!1,saveCallback:function(r){if(r&&r.length>0)var u=new ct.ITesterModel(r[0].localId,r[0].displayName,r[0].signInAddress,r[0].signInAddress);i.assignTesterEvent(n.selectedTestPoints,t)}}))}))},t.prototype._getSortOrder=function(n){var t=[];return n&&t.push({index:n.index,order:n.order}),t},t.prototype._updateContextMenuCommandStates=function(n){var t=this.getSelectedTestPoint();n.updateCommandStates([{id:"assign-configuration-to-test-case",disabled:this.getSelectionCount()===0}]);n.updateCommandStates([{id:"open-test-case",disabled:!(t&&this.getSelectionCount()===1)}]);n.updateCommandStates([{id:"bulk-edit-testcases",disabled:this.getSelectionCount()===0}]);n.updateCommandStates([{id:"bulk-edit-testcases-using-grid",disabled:!(this.canShowRemoveTestsDelegate?this.canShowRemoveTestsDelegate()&&this.getSelectionCount()>0:!0)}]);n.updateCommandStates([{id:"remove-test-case",disabled:!(this.canRemoveTestsDelegate?this.canRemoveTestsDelegate():!0),hidden:!(this.canShowRemoveTestsDelegate?this.canShowRemoveTestsDelegate():!0)}]);n.updateCommandStates([{id:"run-test-points",disabled:!(this.canRunTestsDelegate?this.canRunTestsDelegate():!0)}]);n.updateCommandStates([{id:"run-test-points-using-client",disabled:!(this.canRunTestsDelegate?this.canRunTestsDelegate():!0)}]);n.updateCommandStates([{id:"run-test-points-with-options",disabled:!(this.canRunTestsDelegate?this.canRunTestsDelegate():!0)}]);n.updateCommandStates([{id:"pass-tests",disabled:!(this.canSetOutcomeDelegate?this.canSetOutcomeDelegate():!0)}]);n.updateCommandStates([{id:"fail-tests",disabled:!(this.canSetOutcomeDelegate?this.canSetOutcomeDelegate():!0)}]);n.updateCommandStates([{id:"block-tests",disabled:!(this.canRunTestsDelegate?this.canRunTestsDelegate():!0)}]);n.updateCommandStates([{id:"reset-tests",disabled:!(this.canResetTestPointsDelegate?this.canResetTestPointsDelegate():!0)}]);n.updateCommandStates([{id:"not-applicable-tests",disabled:!(this.isTestNotApplicableDelegate?this.isTestNotApplicableDelegate():!0)}]);n.updateCommandStates([{id:"resume-test-points",disabled:!(this.canResumeTestsDelegate?this.canResumeTestsDelegate():!0)}])},t.prototype._onContextMenuItemClick=function(n){var t=n.get_commandName();t==="assign-configuration-to-test-case"&&this.assignConfigurationToTestCases();t==="open-test-case"?this.openSelectedTestCase():t==="remove-test-case"?this._removeTestCase():t==="run-test-points"?this.runTestPointsEvent():t==="run-test-points-using-client"?this.runTestPointsUsingClientEvent():t==="run-test-points-with-options"?this.runTestPointsWithOptionsEvent():t==="pass-tests"?this._setOutcome(e.TestOutcome.Passed):t==="fail-tests"?this._setOutcome(e.TestOutcome.Failed):t==="block-tests"?this._setOutcome(e.TestOutcome.Blocked):t==="reset-tests"?this._resetTestPoints():t==="not-applicable-tests"?this._setOutcome(e.TestOutcome.NotApplicable):t==="bulk-edit-testcases"?this._bulkEditTestCases():t==="bulk-edit-testcases-using-grid"?this.bulkEditTestCasesUsingGridEvent(this._getSelectedTestCaseIds()):t==="resume-test-points"&&this.resumeTestPointsEvent()},t.prototype._bulkEditTestCases=function(){var n=this;wi.using(["TestManagement/Scripts/TFS.TestManagement.TestCaseBulkEdit"],function(t){dr.getAllWorkItemTypeForTestCaseCategory(function(i){var u=new t.BulkEditTestCases,r={};r[h.TfsContext.getDefault().navigation.project]=i;u._bulkEditTestCases(n._getSelectedTestCaseIds(),r)})})},t.prototype._getSelectedTestCaseIds=function(){var n=this.getSelectedTestPoints();return t.getTestCaseIdsFromTestPoints(n)},t.prototype._removeTestCase=function(){var n=this.getSelectedTestPoints();typeof this.removeTestCaseEvent=="function"&&this.removeTestCaseEvent(n)},t.prototype._setOutcome=function(n){var t=this.getSelectedTestPoints();t&&this.setOutcomeEvent&&this.setOutcomeEvent(t,n)},t.prototype._resetTestPoints=function(){var n=this.getSelectedTestPoints();n&&this.resetTestPointsEvent&&this.resetTestPointsEvent(n)},t.prototype._getOutcomeColumn=function(i,r,u){var f=$(kr("div","grid-cell")),o,e,s,h=Math.round(r.width)||20;return f.css("width",isNaN(h)?h:h+"px"),e=n.prototype.getColumnText.call(this,i,r,u),s=$(kr("span","outcome-text")),s.text(e).addClass("test-outcome-column-text").css("max-width",f.css("width")),o=$(kr("div","outcome-container")),o.addClass("testpoint-outcome-shade icon").addClass(t.getOutcomeShadeClassNameFromOutcomeText(e)),f.attr("title",e).append(o).append(s),f},t.getOutcomeShadeClassNameFromOutcomeText=function(n){var t;switch(n){case st.TestOutcome_Blocked:t="bowtie-icon bowtie-math-minus-circle bowtie-icon-small";break;case st.TestOutcome_Passed:case st.TestPointState_Completed:t="bowtie-icon bowtie-status-success bowtie-icon-small";break;case st.TestOutcome_Failed:case st.TestOutcome_Aborted:case st.TestOutcome_Error:case st.TestOutcome_NotExecuted:case st.TestOutcome_Timeout:case st.TestOutcome_Warning:t="bowtie-icon bowtie-status-failure bowtie-icon-small";break;case st.TestPointState_Ready:t="bowtie-icon bowtie-dot bowtie-icon-small";break;case st.TestPointState_InProgress:t="bowtie-icon bowtie-status-run bowtie-icon-small";break;case st.TestOutcome_NotApplicable:case st.TestOutcome_Inconclusive:t="bowtie-icon bowtie-status-no-fill bowtie-no-fill-not-applicable bowtie-icon-small";break;case st.TestPointState_Paused:t="bowtie-icon bowtie-status-pause bowtie-icon-small";break;default:t="bowtie-icon bowtie-dot bowtie-icon-small"}return t},t.prototype.assignConfigurationToTestCases=function(){var n=this.getSelectedTestPoints(),i;n&&this.assignConfigurationEvent&&(i=t.getTestCaseAndSuiteListFromTestPoints(n),this.assignConfigurationEvent(i))},t.prototype.bindFilterManager=function(n){this._filterManager=n;this.bindFilterManagerEvents(n)},t.prototype.bindFilterManagerEvents=function(n){var t=this;n.attachEvent(nt.FilterManager.EVENT_FILTER_CHANGED,function(){t.filterWorkItems(n.filter())});n.attachEvent(nt.FilterManager.EVENT_FILTER_CLEARED,function(){t.restoreUnfilteredState()})},t.prototype.filterWorkItems=function(n){var t;t=this._getFilteredTestPointsData(n);this._options.source=t;this._filterApplied=!0;this.initializeDataSourceAndSort()},t.prototype.restoreUnfilteredState=function(){this._filterApplied&&this._unfilteredWorkItemIds&&(this._reinstateUnfilteredData(),this.cleanUpTagsFilter(),this.initializeDataSourceAndSort())},t.prototype.initializeDataSourceAndSort=function(){this.sortOrder&&(this._options.sortOrder=this._getSortOrder(this.sortOrder));this.initializeDataSource();this.onSort(this._options.sortOrder)},t.prototype.cleanUpTagsFilter=function(){this._filterApplied=!1},t.prototype._reinstateUnfilteredData=function(){this._options.source=this._originalDataSource},t.prototype.getUnfilteredWorkItemIds=function(){return this._unfilteredWorkItemIds?this._unfilteredWorkItemIds.slice(0):[]},t.prototype.getWorkItemIdsFromDataSource=function(n){for(var r=n.length,i=[],t=0;t<r;t++)i.push(n[t].testCaseId);return i},t.prototype._getFilteredTestPointsData=function(n){var i=this,t={},r=this.getWorkItemIdsFromDataSource(this._originalDataSource);return n=ci.unique(n),$.each(n,function(n,i){t[i]=!0}),$.map(r,function(n,r){if(t[n])return i._originalDataSource[r]})},t.enhancementTypeName="tfs.testmanager.TestPointsGrid",t.hiddenRefNames=["System.History"],t}(ri.GridO);t.TestPointsGrid=lr;wi.initClassPrototype(lr,{_tfsContext:null,refreshTestPointsEvent:null,refreshSelectedTestSuiteEvent:null,setOutcomeEvent:null,resetTestPointsEvent:null,removeTestCaseEvent:null,canSetOutcomeDelegate:null,canResetTestPointsDelegate:null,canResumeTestsDelegate:null,canRunTestsDelegate:null,canRemoveTestsDelegate:null,testCaseModified:!1,runTestPointsEvent:null,runTestPointsUsingClientEvent:null,runTestPointsWithOptionsEvent:null,resetFiltersEvent:null,resumeTestPointsEvent:null,bulkEditTestCasesUsingGridEvent:null,assignTesterEvent:null,_workItemChangedDelegate:null,_pageData:{},_unfilteredWorkItemIds:null,_workItemIds:null,_filterApplied:!1,_originalDataSource:null});er=function(){function n(){}return n._getUniqueFilterValues=function(t,i,r,u){var f=[];return f=f.concat(u),r&&r!==n.ALL_FILTER&&$.inArray(r,f)===-1&&f.push(r),$(t).each(function(t,r){ci.contains(f,r[i])||(r[i]?f.push(r[i]):ci.contains(f,n.NONE_FILTER)||f.push(n.NONE_FILTER))}),f},n._removeUnwantedFilters=function(t){var i=[];return $(t).each(function(t,r){r.value!==n.ALL_FILTER&&(r.value===n.NONE_FILTER&&(r.value=null),i.push(r))}),i},n.getUniqueFilterValues=function(n,t,i,r){var u=[];return u=this._getUniqueFilterValues(n,t,i,r),this.getFilterItemsFromUniqueValues(u,i)},n.getFilterItemsFromUniqueValues=function(t,i){var r=[];return r.push({text:n.ALL_FILTER,value:n.ALL_FILTER,selected:!i||i===n.ALL_FILTER,title:n.ALL_FILTER}),t.sort(function(n,t){return vi.localeIgnoreCaseComparer(n,t)}),$(t).each(function(n,t){r.push({text:t,value:t,selected:i&&i===t?!0:!1,title:t})}),r},n.filter=function(n,t){var f=[],i=null,r=0,u=!0;return t?(i=this._removeUnwantedFilters(t),i.length===0)?n:($(n).each(function(n,t){for(u=!0,r=0;r<i.length;r++)if(u=u&&t[i[r].key]===i[r].value,!u)break;u&&f.push(t)}),f):n},n.ALL_FILTER=st.FilterItemAll,n.NONE_FILTER=st.NoneFilterValue,n}();t.FilterHelper=er;sr=function(){function n(){}return n.tester=".tester-filter",n.outcome=".testpoint-outcome-filter",n.configuration=".configuration-filter",n.workItemPanePosition=".work-items-pane-filter",n.view=".view-filter",n.pane=".pane-filter",n}();pr=function(){function n(){}return n.viewGrid=".test-view-grid-area",n.editGrid=".test-edit-grid-area",n}();t.GridAreaSelectors=pr;iu=function(n){function t(t){var i=n.call(this,t)||this;return i._tfscontext=t.tfscontext,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({sharedMeasurements:!1,allowMoveColumns:!1,keepSelection:!0,allowMultiSelect:!1,cssClass:"test-details-pane-grid",initialSelection:!1,draggable:!1},t))},t.prototype.initialize=function(){bt.logTracePoint("TestDetailsPaneGrid.initialize.start");n.prototype.initialize.call(this);this._testPlanManager=c.ProjectCollection.getConnection(this._tfscontext).getService(ct.TestPlanManager);this._testResultManager=c.ProjectCollection.getConnection(this._tfscontext).getService(ct.TestResultManager);this._testPointColumns=[ct.LatestTestOutcomeColumnIds.Outcome,ct.LatestTestOutcomeColumnIds.Tester,ct.LatestTestOutcomeColumnIds.Configuration,ct.LatestTestOutcomeColumnIds.RunBy,ct.LatestTestOutcomeColumnIds.ResultDate,ct.LatestTestOutcomeColumnIds.Duration,ct.LatestTestOutcomeColumnIds.BuildNumber];bt.logTracePoint("TestDetailsPaneGrid.initialize.end")},t.prototype.setSource=function(n,t){bt.logTracePoint("TestDetailsPaneGrid.setSource.start");var i=this._options;this._customizeColumns(t);i.columns=t;i.source=n;this.initializeDataSource();n&&n.length>0&&this._selectRow(0);bt.logTracePoint("TestDetailsPaneGrid.setSource.end")},t.prototype.getTestPointColumns=function(){return this._testPointColumns},t.prototype._customizeColumns=function(n){var t=this;n&&$.each(n,function(n,i){if(vi.ignoreCaseComparer(i.index,ct.ResultsPaneColumnIds.Outcome)===0||vi.ignoreCaseComparer(i.index,ct.SuitesPaneColumnIds.SuiteTitle)===0)i.getCellContents=function(n,i,r,u,f,e,o){return t._getColumnWithIcon(i,f,o)};else if(vi.ignoreCaseComparer(i.index,ct.ResultsPaneColumnIds.RunBy)===0){var r=function(n,t,i,r,u,f,e){return y.IdentityViewControl.renderIdentityCellContents(this,n,t,i,r,u,f,e)};i.getCellContents=r}(vi.ignoreCaseComparer(i.type,"System.Int32")===0||vi.ignoreCaseComparer(i.type,"System.DateTime")===0)&&(i.comparer=function(n,t,i,r){return i[n.index]-r[n.index]})})},t.prototype.onOpenRowDetail=function(){var n,t,i;return this._selectedIndex>=0&&(n=this._selectedRows[this._selectedIndex],t=this._dataSource[n].link,i=this._dataSource[n].openInNewTab,i?window.open(t,"_blank"):window.open(t,"_self")),!1},t.prototype._getColumnWithIcon=function(t,i,r){var u=$(kr("div","grid-cell")),e,f,o,s=Math.round(i.width)||20,h="",c;return u.css("width",isNaN(s)?s:s+"px"),f=n.prototype.getColumnText.call(this,t,i,r),o=$(kr("span","outcome-text")),o.text(f).addClass("test-outcome-column-text").css("max-width",u.css("width")),i.index==="outcome"?h=lr.getOutcomeShadeClassNameFromOutcomeText(f):i.index==="suiteTitle"&&(c=this._dataSource[t].suiteType,h=vt.getSuiteIcon(c)),e=$(kr("div","outcome-container")),e.addClass("testpoint-outcome-shade icon").addClass(h),u.attr("title",f).append(e).append(o),u},t.prototype.refreshList=function(n,i,r,u){var f=this;(u===void 0&&(u=!1),bt.logTracePoint("TestDetailsPaneGrid.refreshList invoked"),this._pane=i,r!=="off")&&(u||i!==this._lastPaneMode||r!==this._lastPanePosition||n!==this._lastTestCaseId?(bt.logTracePoint("TestDetailsPaneGrid.refreshList actually starting to refresh"),this._cleanupTestDetailsPaneGrid(),this._lastPaneMode=i,this._lastPanePosition=r,this._lastTestCaseId=n,i===yr.paneMode_suites?(bt.logTracePoint("TestDetailsPaneGrid.refreshList initializing Suites pane"),this._element.parent().parent().find(t.farRightPaneTitle).text(st.ReferencedTestSuitesPaneStatusTitle),n!==0&&(bt.logTracePoint("getSuitesForTestCase.begin"),this._testPlanManager.getSuitesForTestCase(n,function(t){bt.logTracePoint("getSuitesForTestCase.end");f.getSelectedTestCaseDelegate&&f.getSelectedTestCaseDelegate()===n&&f.getSelectedPaneModeDelegate&&f.getSelectedPaneModeDelegate()===yr.paneMode_suites&&(bt.logTracePoint("TestDetailsPaneGrid.refreshList starting to populate suites data"),f.populateGridData(t,i,n))},function(n){alert(wi.getErrorMessage(n))}))):i===yr.paneMode_results&&(bt.logTracePoint("TestDetailsPaneGrid.refreshList initializing Results pane"),this._element.parent().parent().find(t.farRightPaneTitle).text(st.TestResultsPaneTitle),n!=0&&(bt.logTracePoint("getTestCaseResultForTestCaseId.begin"),this._testResultManager.getTestCaseResultForTestCaseId(n,function(t){bt.logTracePoint("getTestCaseResultForTestCaseId.end");f.getSelectedTestCaseDelegate&&f.getSelectedTestCaseDelegate()===n&&f.getSelectedPaneModeDelegate&&f.getSelectedPaneModeDelegate()===yr.paneMode_results&&(bt.logTracePoint("TestDetailsPaneGrid.refreshList starting to populate results data"),f.populateGridData(t,i,n))},function(n){alert(wi.getErrorMessage(n))}))),this.updatePaneToolbarTooltipsDelegate&&this.updatePaneToolbarTooltipsDelegate()):this.layout())},t.prototype._cleanupTestDetailsPaneGrid=function(){this.setSource([],[]);this.updateOpenTestDetailCommandState(!0);this.updateRefreshTestDetailCommandState(!0);this._clearError()},t.prototype.populateGridData=function(n,i,r){var u,e,o,f,s=[],h;if(this.updateRefreshTestDetailCommandState(!1),n&&(o=n.length),i===yr.paneMode_results&&o===0&&r!==0){this._selectedIndex=-1;this.updateOpenTestDetailCommandState(!0);this.showError(st.NoTestResultForTestCase);return}if(this.updateOpenTestDetailCommandState(!1),this._clearError(),i===yr.paneMode_suites){for(u=0,e=o;u<e;u++)f=this._populateSuitePaneGridRow(n[u]),s.push(f);h=[t._testSuiteTitleColumn,t._testSuiteStatusColumn,t._testSuitePlanColumn,t._testSuiteProjectColumn]}else if(i===yr.paneMode_results){for(u=0,e=o;u<e;u++)f=this._populateResultsPaneGridRow(n[u]),f[ct.ResultsPaneColumnIds.Outcome]!==""&&s.push(f);h=[t._testResultOutcomeColumn,t._testResultConfigurationColumn,t._testResultRunByColumn,t._testResultDurationColumn,t._testResultDateColumn,t._testResultPlanIdColumn,t._testResultPlanNameColumn,t._testResultSuiteIdColumn,t._testResultSuiteNameColumn]}this.setSource(s,h)},t.prototype._populateSuitePaneGridRow=function(n){var i=vt.UrlHelper.getSuiteUrl(n.plan.id,n.id,!1,n.project.name),r=n.suiteType,t={};return t[ct.SuitesPaneColumnIds.SuiteTitle]=n.name,t[ct.SuitesPaneColumnIds.TestPlan]=n.plan.name,t[ct.SuitesPaneColumnIds.TeamProject]=n.project.name,t[ct.SuitesPaneColumnIds.Link]=i,t[ct.SuitesPaneColumnIds.SuiteType]=r,t[ct.SuitesPaneColumnIds.OpenInNewTab]=!0,t[ct.SuitesPaneColumnIds.SuiteStatus]=n.state,t},t.prototype._populateResultsPaneGridRow=function(n){var i=ct.UriHelper.getTestResultUri(n.testRunId,n.testResultId,0),t={};return t[ct.ResultsPaneColumnIds.Outcome]=vt.setResultOutcomeText(n.outcome,n.state),t[ct.ResultsPaneColumnIds.Configuration]=n.configurationName,t[ct.ResultsPaneColumnIds.Link]=i,t[ct.ResultsPaneColumnIds.OpenInNewTab]=!0,t[ct.ResultsPaneColumnIds.RunBy]=n.runByName,t[ct.ResultsPaneColumnIds.ResultDate]=n.dateStarted,t[ct.ResultsPaneColumnIds.Duration]=Math.round(n.duration/1e7),t[ct.ResultsPaneColumnIds.PlanId]=n.planId,t[ct.ResultsPaneColumnIds.PlanName]=n.planName,n.suiteId===0?(t[ct.ResultsPaneColumnIds.SuiteId]=st.DeletedSuiteIdText,t[ct.ResultsPaneColumnIds.SuiteName]=st.DeletedSuiteNameText):(t[ct.ResultsPaneColumnIds.SuiteId]=n.suiteId,t[ct.ResultsPaneColumnIds.SuiteName]=n.suiteName),t},t.prototype.showError=function(n){if(!this._$errorDiv){var t=this._element;this._$errorDiv=$("<div class='inline-error' />").text(n).insertBefore(t);t.hide()}},t.prototype._clearError=function(){var n=this._$errorDiv||this._element.find(".inline-error");n&&(n.remove(),this._$errorDiv=null);this._element.show()},t.enhancementTypeName="tfs.testmanager.TestDetailsPaneGrid",t._testSuiteTitleColumn={index:ct.SuitesPaneColumnIds.SuiteTitle,text:st.TestPointGridColumnTitle,width:180},t._testSuitePlanColumn={index:ct.SuitesPaneColumnIds.TestPlan,text:st.CreateTestPlanMenuItem,width:80},t._testSuiteProjectColumn={index:ct.SuitesPaneColumnIds.TeamProject,text:st.TestSuitePaneProjectColumnHeader,width:90},t._testSuiteStatusColumn={index:ct.SuitesPaneColumnIds.SuiteStatus,text:st.TestSuitePaneStatusColumnHeader,width:80},t._testResultConfigurationColumn={index:ct.ResultsPaneColumnIds.Configuration,text:st.TestPointGridColumnConfiguration,width:90},t._testResultOutcomeColumn={index:ct.ResultsPaneColumnIds.Outcome,text:st.TestPointGridColumnOutcome,width:80},t._testResultRunByColumn={index:ct.ResultsPaneColumnIds.RunBy,text:st.TestResultsPaneRunByColumnHeader,width:80},t._testResultPlanIdColumn={index:ct.ResultsPaneColumnIds.PlanId,text:st.PlanIdColumnHeader,type:"System.Int32",width:70},t._testResultPlanNameColumn={index:ct.ResultsPaneColumnIds.PlanName,text:st.PlanNameColumnHeader,width:90},t._testResultSuiteIdColumn={index:ct.ResultsPaneColumnIds.SuiteId,text:st.TestPointGridColumnSuiteId,type:"System.Int32",width:70},t._testResultSuiteNameColumn={index:ct.ResultsPaneColumnIds.SuiteName,text:st.TestPointGridColumnSuiteName,width:90},t._testResultDurationColumn={index:ct.ResultsPaneColumnIds.Duration,text:st.TestResultsPaneDurationColumnHeader,tooltip:st.TestResultsPaneDurationColumnHeaderTooltip,type:"System.Int32",width:80},t._testResultDateColumn={index:ct.ResultsPaneColumnIds.ResultDate,text:st.TestResultsPaneDateColumnHeader,type:"System.DateTime",width:140},t.farRightPaneTitle=".far-right-pane-title",t}(ri.GridO);t.TestDetailsPaneGrid=iu;wi.initClassPrototype(iu,{_tfsContext:null});nu=function(n){function t(t){var i=n.call(this,st.TestShortcutGroupName)||this;return i.view=t,i.registerPageNavigationShortcut("1",{description:st.TestsShortcutText,action:function(){return i._performAction(function(){i.navigateToUrl(vt.UrlHelper.getTestPlanHubUrl("tests",i.view.getCurrentPlanId(),i.view.getCurrentSuiteId()))})},allowPropagation:!0}),i.registerPageNavigationShortcut("2",{description:st.ChartsShortcutText,action:function(){return i._performAction(function(){i.navigateToUrl(vt.UrlHelper.getTestPlanHubUrl("charts",i.view.getCurrentPlanId(),i.view.getCurrentSuiteId()))})},allowPropagation:!0}),i}return __extends(t,n),t.prototype.removeGlobalShortcut=function(){this.shortcutManager.removeShortcutGroup(b.KeyboardShortcutGroup_Global)},t.prototype._performAction=function(n){this.view.allowKeyboardShortcuts()&&n()},t}(k.ShortcutGroupDefinition);t.TestShortcutGroup=nu;ru=function(n){function t(t){var i=n.call(this,st.TestShortcutGroupName)||this,r;return i.view=t,r=cr.AreAdvancedTestManagementFeaturesEnabled(),i.registerShortcut("e",{description:st.RunTestShortcutText,action:function(){return i.view.rightPaneOptions(i.view._testPointToolbarItemIds.runTestPoints)}}),i.registerShortcut("t b",{description:st.BlockTestsShortcutText,action:function(){return i.view.rightPaneOptions(i.view._testPointToolbarItemIds.blockTest)}}),i.registerShortcut("t f",{description:st.FailTestsShortcutText,action:function(){return i.view.rightPaneOptions(i.view._testPointToolbarItemIds.failTest)}}),i.registerShortcut("t n",{description:st.NotApplicableTestsShortcutText,action:function(){return i.view.rightPaneOptions(i.view._testPointToolbarItemIds.notApplicableTest)}}),i.registerShortcut("t p",{description:st.PassTestsShortcutText,action:function(){return i.view.rightPaneOptions(i.view._testPointToolbarItemIds.passTest)}}),i.registerShortcut("t r",{description:st.ResetTestsShortcutText,action:function(){return i.view.rightPaneOptions(i.view._testPointToolbarItemIds.resetTest)}}),r&&i.registerShortcut("v g",{description:st.GridViewShortcutText,action:function(){return i.view.handleViewFilter("grid")}}),i}return __extends(t,n),t}(k.ShortcutGroupDefinition);t.ListViewShortcutGroup=ru;tu=function(n){function t(t){var i=n.call(this,st.TestShortcutGroupName)||this;return i.view=t,i.registerShortcut("v l",{description:st.ListViewShortcutText,action:function(){return i.view.handleViewFilter("list")}}),i}return __extends(t,n),t}(k.ShortcutGroupDefinition);t.GridViewShortcutGroup=tu;yr=function(n){function t(t){var i=n.call(this,t)||this;return i._savedColumns=[],i._savedTestPointPaneColumns=[],i._wereColumnsChanged=!1,i._gridGroupName="grid",i._listGroupName="list",i._chartsGroupName="charts",i._currentView="list",i._showTestsFromChild=!1,i._pagingInProgress=!1,i._rowIndexToScrollAfterFetch=-1,i._outcomeFilterApplied=!1,i._testerFilterApplied=!1,i._configurationFilterApplied=!1,i._currentSuiteTestCaseIds=[],i._newTestCaseAddedToSuite=!1,i._messageAreaViewModel=new ir.MessageAreaViewModel,i}return __extends(t,n),t.prototype.initialize=function(){bt.logTracePoint("TestHubView.initialize.start");n.prototype.initialize.call(this);this._currentPlan={};this._testPlanManager=c.ProjectCollection.getConnection(this._options.tfsContext).getService(ct.TestPlanManager);this._testViewRightPaneGrid=this._element.find(".test-view-right-pane");this._webSettingsCollectionService=c.ProjectCollection.getConnection(this._options.tfsContext).getService(l.WebSettingsService);this._bindFocusOut();this._testPlanCreationHelper=new vt.PlanCreationHelper;this._teamHelper=new fu;this._createPlansDropDown();this._createTestPlansFilter();this._createPlansAndSuitesToolbar();this._createSuitesSection();this._enhancePaneSelectionFilter();this._testPointList=wt.BaseControl.createIn(lr,this._element.find(pr.viewGrid),{onMiddleRowVisible:ur(this,this.fetchMoreTestPoints)});this._createBulkEditGrid();this._createSuiteReferencePane();this._initializeEvents();this._createTestPointsToolbar();this._createTagFilterBar();this._createFilters();this._updateTesterFilterOnUrl();this._testhubCommonShortcutGroup=new at.TestHubCommonShortcutGroup(ur(this,this.allowKeyboardShortcuts));this._testShortcutGroup=new nu(this);this._listViewShortcutGroup=new ru(this);this._setupNavigation();$("<div />").addClass(vt.TcmPerfScenarios.LoadManualTestsPerfMarkerClass).click(function(){oi.getScenarioManager().endScenario(vt.TcmPerfScenarios.Area,vt.TcmPerfScenarios.LoadManualTests)}).appendTo(this.getElement());this._initializeEngagementControls();var t=$("<div />").addClass("error-message-holder");this._messageArea=wt.BaseControl.enhance(ir.MessageAreaView,t,{viewModel:this._messageAreaViewModel});t.insertBefore(".hub-content");bt.logTracePoint("TestHubView.initialize.complete")},t.prototype._initializeEngagementControls=function(){var t=ii.FeatureAvailabilityService.isFeatureEnabled(f.FeatureAvailabilityFlags.QuickStartXTPromotion2,!1),n;t&&(n=this._options.tfsContext||br.getDefault(),n.isHosted&&wi.using(["Engagement/Dispatcher","TestManagement/Scripts/TFS.TestManagement.Engagement.Registrations","Presentation/Scripts/TFS/TFS.Engagement.Registrations"],function(n,t,i){t.registerTestManagementQuickStart();t.registerXtQuickStart();i.registerNewFeature();n.Dispatcher.getInstance().start("TestHub")}))},t.prototype.allowKeyboardShortcuts=function(){var n=!0,t;return this._currentView===this._listGroupName||this._currentView===this._chartsGroupName?n=!0:this._currentView===this._gridGroupName&&(t=this._bulkEditGrid.getCurrentEditRowIndex(),n=t<0?!0:!1),n},t.prototype._bindFocusOut=function(){var n=this._element.find(".test-edit-grid-area");n.on("focusout",ur(this,this._enableGlobalShortcuts));n.on("focusin",ur(this,this._disableGlobalShortcuts))},t.prototype._enableGlobalShortcuts=function(){this._testShortcutGroup.removeShortcutGroup();this._testhubCommonShortcutGroup.removeShortcutGroup();new k.GlobalShortcutGroup;this._testhubCommonShortcutGroup=new at.TestHubCommonShortcutGroup(ur(this,this.allowKeyboardShortcuts));this._testShortcutGroup=new nu(this);this._gridViewShortcutGroup=new tu(this)},t.prototype._disableGlobalShortcuts=function(){this._testShortcutGroup.removeShortcutGroup();this._testhubCommonShortcutGroup.removeShortcutGroup();this._testShortcutGroup.removeGlobalShortcut()},t.prototype._beginGetAdditionalFieldsToShowAndCreateGridView=function(n,t){var r=this,i=[];this._getAvailableColumns(function(t){$.each(t,function(n,t){t.hasOwnProperty("referenceName")&&r._isSelectedInColumnOptions(t.referenceName)&&i.push(t)});n(i)},t)},t.prototype._isSelectedInColumnOptions=function(n){for(var i=this._savedColumns.length,t=0;t<i;t++)if(n===this._savedColumns[t].name)return!0;return!1},t.prototype._createBulkEditGrid=function(){var n=this;this._bulkEditTestsViewModel=new et.BulkEditTestsViewModel;this._bulkEditTestsViewModel.testCasesAdded=function(t){t&&n._testSuitesTree.updateSuitesRevisionAndPointCount([t]);n._refresh()};this._bulkEditTestsViewModel.refresh=function(){n._refresh()};this._bulkEditGrid=wt.BaseControl.createIn(et.BulkEditTestsGrid,this._element.find(pr.editGrid),{bulkEditTestsViewModel:this._bulkEditTestsViewModel,parent:this._element,containerClassName:pr.editGrid});this._bulkEditGrid.hide()},t.prototype._createGridForHubRefresh=function(){this._bulkEditTestsViewModel=new et.BulkEditTestsViewModel;this._bulkEditGrid=wt.BaseControl.createIn(et.BulkEditTestsGrid,$(".testplans-hub-refresh-grid-area"),{bulkEditTestsViewModel:this._bulkEditTestsViewModel,parent:$(".testplans-hub-refresh-author-pivot-for-grid"),containerClassName:"testplans-hub-refresh-grid-area"})},t.prototype._showGridForHubRefresh=function(n,t,i,r,u){var f=this,o=hr.getWorkItemStore();this._bulkEditGrid.show();this._bulkEditGrid.showBusyOverlay();dr.getAllTestCaseCategoryWorkItemFields(function(e){for(var y,o,h,p,c,l=[],a=[],s=0,v=e;s<v.length;s++)y=v[s],a.push(y.referenceName);for(o=0,h=r;o<h.length;o++)p=h[o],c=a.indexOf(p),c!==-1&&l.push(e[c]);f._bulkEditTestsViewModel.initialize(i,n,null,t,!1,i.length,l,undefined,u,!0);f._bulkEditTestsViewModel.refreshGridData(t);f._inEditMode=!0});t.type=t.suiteType;t&&t.suiteType===e.TestSuiteType.RequirementTestSuite&&it.WorkItemManager.get(o).beginGetWorkItem(t.requirementId,function(n){f._bulkEditTestsViewModel.setRequirement(n)})},t.prototype._closeGridForHubRefresh=function(){this._bulkEditTestsViewModel.cleanedUp()},t.prototype._setVisibility=function(n,t){var i=this._element.find(n);t?i.show():i.hide()},t.prototype.onSelectedTestCaseChanged=function(n,t){this._showWorkItemBasedOnSelection(t)},t.prototype._showWorkItemBasedOnSelection=function(n){var i=this._testPointList.getSelectionCount(),r=this._paneFilter.getSelectedItem().value;n=i>=1?n:0;r===t.paneMode_suites||r===t.paneMode_results?(n=i>1?0:n,this._showAssociatedNodes(n,r)):i===0?this._showWorkItem(0,!0):this._showWorkItem(n)},t.prototype.ensurePlansLoaded=function(n,t){var r=this,i=this,u=function(n){r.showError(wi.getErrorMessage(n))};wi.queueRequest(this,this,"_plansLoaded",t,u,function(t){i._testPlanManager.fetchTestPlansIncludingSpecifiedPlan(n,function(r){oi.getScenarioManager().split(vt.TcmPerfScenarios.AllPlansLoaded);n||(n=r.selectedTestPlan);i._selectedPlanIdAndSuiteId.selectedPlan=r.selectedTestPlan;i._selectedPlanIdAndSuiteId.selectedSuite=r.selectedTestSuite;i._plansSelector.setData(r.testPlans);typeof t=="function"&&t(i._selectedPlanIdAndSuiteId)},function(n){i.showError(wi.getErrorMessage(n))})})},t.prototype.parseStateInfo=function(n,t,i){var r=this,u,f=parseInt(n.planId,10),o,e;if(this._currentPlan&&this._currentPlan.plan&&this._currentPlan.plan.id&&this._currentPlan.selectedSuiteId){if(e=vi.format("planId={0}&suiteId={1}",this._currentPlan.plan.id,this._currentPlan.selectedSuiteId),o=ei.getHistoryService().getCurrentFragment(),o&&e&&o===e)return;if(this._shouldCancelPlanOrSuiteSelectionChange()){window.location.hash=e;return}if(this._checkAndNotifyUserAboutDirtyTests()){window.location.hash=e;return}}this._enableFilters(!1);this._clearError();this._clearIterationDatesSpan();t&&oi.getScenarioManager().split(vt.TcmPerfScenarios.LoadTestPlans);this.ensurePlansLoaded(f,function(e){var o,s;if(f||(f=e.selectedPlan,n.suiteId||(n.suiteId=e.selectedSuite),!f||f===0||!n.suiteId||n.suiteId===0||t||r._currentPlan.plan&&r._currentPlan.plan.id===f||ei.getHistoryService().addHistoryPoint(r._selectedPivot,{planId:f,suiteId:n.suiteId})),f)if(isNaN(f))r.showError(st.InvalidParameterPlanId);else if(r._currentPlan&&r._currentPlan.plan&&r._currentPlan.plan.id===f&&r._currentPlan.suites)bt.logTracePoint("TestHubView.SelectPlan.MessageShowsUp"),t&&r._selectedPivot===or.TESTS&&r._refreshAndPopulatetestPointList(r._currentPlan.plan.id,parseInt(n.suiteId,10),!0),i.call(r,n,t);else{if(bt.logTracePoint("TestHubView.SelectPlan.MessageShowsUp"),r.setViewTitle(""),u=r._plansSelector.selectPlanById(f),!u)return r.showError(vi.format(st.NoPlanWithIdExists,f)),!1;r._currentPlan.plan=u;u&&u.rootSuiteId===0?r._testPlanManager.beginCreateTestPlanFromWorkItem(u.id,function(u){r._currentPlan.plan.rootSuiteId=u.rootSuiteId;r._refreshTestSuitesForPlan(u.id,u.rootSuiteId,!1,function(){i.call(r,n,t)});t&&r._selectedPivot===or.TESTS&&r._refreshAndPopulatetestPointList(u.id,u.rootSuiteId,!0)},function(n){r.showError(wi.getErrorMessage(n))}):(o=0,t&&r._selectedPivot===or.TESTS&&(s=parseInt(n.suiteId,10),s||(s=u.rootSuiteId)),r._refreshTestSuitesForPlan(u.id,o,!1,function(){i.call(r,n,t)}),t&&r._selectedPivot===or.TESTS&&r._refreshAndPopulatetestPointList(u.id,o,!0));u&&r._testPlanManager.getTeamFieldForTestPlans([u.id],function(n){r._fetchAndUpdateTeamFieldInfoForPlan(n,u.id)},function(){r._currentTeamFieldInfo=null})}else r._currentPlan&&r._currentPlan.plan||r._showPlanHubTitle();try{(new vt.DelayedExecutionHelper).executeAfterLoadComplete(r,function(){hr.getDefaultWorkItemTypeNameForCategory("Microsoft.BugCategory",function(n){n&&(r._bugCategoryTypeName=n)})})}catch(h){}})},t.prototype._showPlanHubTitle=function(){var n=this;cr.AreAdvancedTestManagementFeaturesEnabled()&&(this.setViewTitleContent("",st.SelectPlanHubTitle),this._element.find(".create-test-plan-hyperlink").click(function(){n._onClickCreateNewTestPlan()}),this._element.find(".hub-title").attr("style","margin-right : 20px;"),bt.logTracePoint("TestHubView.SelectPlan.MessageShowsUp"),oi.getScenarioManager().abortScenario(vt.TcmPerfScenarios.Area,vt.TcmPerfScenarios.GotoTestHub))},t.prototype._fetchAndUpdateTeamFieldInfoForPlan=function(n,t,i,r){var u,f;n&&n.length===1&&n[0].ownerId===t?(u=n[0].teamFieldRefName,f=n[0].teamFieldValue,this._currentTeamFieldInfo=new ct.TeamFieldModel(u,f,!0),this._fetchAndUpdateTeamFieldInfoForTestCase(u,f,i,r)):(this._currentTeamFieldInfo=new ct.TeamFieldModel("","",!1),r&&r())},t.prototype._fetchAndUpdateTeamFieldInfoForTestCase=function(n,t,i,r){var f=this,e,u;dr.getAllTestCaseCategoryWorkItemFields(function(r){for(f._testCaseHasTeamField=!1,e=r.length,u=0;u<e;u++)if(vi.ignoreCaseComparer(r[u].referenceName,n)===0){f._testCaseHasTeamField=!0;break}i&&i(n,t)},function(){r&&r()})},t.prototype._refreshTestSuitesForPlan=function(n,t,i,r){var u=this,f;this._testPlanManager.getTestSuitesForPlan(n,t,function(n){n&&(vt.logSuiteTelemetry(n.testSuites),u._storeSuites(n.testSuites),u._loadFilters(n),u._testSuitesTree.setData(u._currentPlan),typeof r=="function"&&(r(),cr.AreAdvancedTestManagementFeaturesEnabled()&&(u._updateSuitesToolBarItems(),u._updateSuitesToolbarCommandStates())),t&&(u._testSuitesTree.setSelectedSuite(t),f=u._testSuitesTree.getSelectedSuite(),f&&u.setViewTitle(vi.format(st.TestPointsGridSuiteHeader,f.title,f.id))),i&&u._testSuitesTree.makeSelectedSuiteEditable(),u._showTestsFromChild&&u._refreshSuitePointCounts(null),oi.getScenarioManager().split(vt.TcmPerfScenarios.AllSuitesLoadedForPlan))})},t.prototype._loadFilters=function(n){this._testersInPlan=n.testers;this._configurationsInPlan=n.configurations;this._updateFilterSelection(this._testerFilter,"tester",a.IdentityHelper.getUniquefiedIdentityName(n.selectedTester));this._updateFilterSelection(this._testPointOutcomeFilter,"outcome",n.selectedOutcome);this._updateFilterSelection(this._configurationFilter,"configuration",this._getSelectedConfigurationName(n.selectedConfiguration))},t.prototype._getSelectedConfigurationName=function(n){var t="";return n&&(t=n.name),t},t.prototype.handleTestPointError=function(n,t){this.showError(vi.format("{0} {1}",n,wi.getErrorMessage(t)))},t.prototype.resetColumnSettings=function(){vt.getTestPlanManager().updateColumnOptions([],!0);vt.getTestPlanManager().updateColumnSortOrder({index:"",order:""})},t.prototype._getTestRunManager=function(){return this._testRunManager||(this._testRunManager=c.ProjectCollection.getConnection(this._options.tfsContext).getService(ct.TestRunManager)),this._testRunManager},t.prototype._consumerWorkitemForm=function(n){var t=this;this._workItemForm?n&&n():wi.using(["WorkItemTracking/Scripts/Controls/WorkItemForm"],function(i){var r=hr.getWorkItemStore();ut.WitFormModeUtility.ensureWitFormModeLoaded().then(function(){var r=t._splitter.rightPane.find(".work-item-form");t._workItemForm=wt.Enhancement.enhance(i.WorkItemForm,r,{tfsContext:t._options.tfsContext,toolbar:{inline:!0},close:function(){return!1}});n&&n()})})},t.prototype._createSuiteReferencePane=function(){var n=this;this._viewPaneForm=this._splitter.rightPane.find(".test-case-details-pane");this._viewPaneForm.hide();this._createSuiteReferencePaneToolbar();this._viewPaneList=wt.Enhancement.enhance(iu,this._viewPaneForm.find(".far-right-pane-view-explorer").find(".far-right-pane-list-container"),{tfscontext:this._options.tfsContext});this._savedTestPointPaneColumns=this._viewPaneList.getTestPointColumns();this._viewPaneList.getSelectedTestCaseDelegate=function(){var t=n._testPointList._getSelectedTestCaseIds();return t&&t.length>0?t[0]:0};this._viewPaneList.getSelectedPaneModeDelegate=function(){return n._paneFilter.getSelectedItem().value};this._viewPaneList.updatePaneToolbarTooltipsDelegate=function(){n._$testDetailsPaneOpenMenuItem&&n._$testDetailsPaneOpenMenuItem.attr("command")===n._testDetailsPaneToolbarItemIds.openTestDetailInNewTab&&(n._paneFilter.getSelectedItem().value===t.paneMode_results?(bt.logTracePoint("TestHubView._createSuiteReferencePane.updatePaneToolbarTooltipsDelegate for Results pane"),n._$testDetailsPaneOpenMenuItem.attr("title",st.Open)):n._paneFilter.getSelectedItem().value===t.paneMode_suites&&(bt.logTracePoint("TestHubView._createSuiteReferencePane.updatePaneToolbarTooltipsDelegate for Suites pane"),n._$testDetailsPaneOpenMenuItem.attr("title",st.OpenInNewTab)))};this._viewPaneList.updateOpenTestDetailCommandState=function(t){n._updateFarRightPaneOpenTestDetailCommandState(t)};this._viewPaneList.updateRefreshTestDetailCommandState=function(t){n._updateFarRightPaneRefreshTestDetailCommandState(t)}},t.prototype._createSuiteReferencePaneToolbar=function(){var t=this._viewPaneForm.find(".far-right-pane-view-explorer").find(".far-right-pane-toolbar"),n;this._farRightPaneToolbar=wt.BaseControl.createIn(ui.MenuBar,t,{items:this._createFarRightPaneMenubarItems(),executeAction:ur(this,this._onFarRightPaneToolbarItemClick)});n=t.find(".menu-bar li");n.length>1&&(this._$testDetailsPaneOpenMenuItem=$(n[1]))},t.prototype._createFarRightPaneMenubarItems=function(){var n=[];return n.push({id:this._testDetailsPaneToolbarItemIds.refreshTestDetailsPane,text:st.Refresh,title:st.RefreshToolTip,showText:!1,icon:"bowtie-icon bowtie-navigate-refresh"}),n.push({id:this._testDetailsPaneToolbarItemIds.openTestDetailInNewTab,text:st.OpenInNewTab,title:st.OpenInNewTab,showText:!1,icon:"bowtie-icon bowtie-arrow-open"}),n},t.prototype._updateFarRightPaneOpenTestDetailCommandState=function(n){n===void 0&&(n=!1);this._farRightPaneToolbar.updateCommandStates([{id:this._testDetailsPaneToolbarItemIds.openTestDetailInNewTab,disabled:n}])},t.prototype._updateFarRightPaneRefreshTestDetailCommandState=function(n){n===void 0&&(n=!1);this._farRightPaneToolbar.updateCommandStates([{id:this._testDetailsPaneToolbarItemIds.refreshTestDetailsPane,disabled:n}])},t.prototype._onFarRightPaneToolbarItemClick=function(n){var t=n.get_commandName();t===this._testDetailsPaneToolbarItemIds.refreshTestDetailsPane?(this._viewPaneList.refreshList(this._getSelectedTestCaseId(),this._paneFilter.getSelectedItem().value,this._workItemPaneMode,!0),rr.publishEvents(rr.featureDetailsPaneRefresh,{PaneFilter:this._paneFilter.getSelectedItem().value})):t===this._testDetailsPaneToolbarItemIds.openTestDetailInNewTab&&(this._viewPaneList.onOpenRowDetail(),rr.publishEvents(rr.featureDetailsPaneOpenInNewTab,{PaneFilter:this._paneFilter.getSelectedItem().value}))},t.prototype._enhancePaneSelectionFilter=function(){this._splitter=wt.Enhancement.ensureEnhancement(hi.Splitter,this._element.find(".right-hub-splitter"));this._splitter.removeExpand()},t.prototype._saveCurrentPanePosition=function(n){this._workItemPaneMode!==n&&(this._workItemPaneMode=n);n!=="off"&&(this._savedPanePosition=this._workItemPaneMode)},t.prototype._showWorkItemPane=function(n,t){var i,r=this._workItemPaneMode;(this._saveCurrentPanePosition(n),this._inEditMode)||(cr.AreAdvancedTestManagementFeaturesEnabled()||(n="off"),n!=="off"&&n!==this._positionFilter.getSelectedItem().value&&(i=this._positionFilter.getItem(n),this._positionFilter.setSelectedItem(i)),(!this._$farRightPaneHubPivot||this._$farRightPaneHubPivot.length<1)&&(this._$farRightPaneHubPivot=this._element.find(".far-right-pane-pivot")),this._showPane(r,n,t),this._saveUserSettingsForPane(r,n,t))},t.prototype._showPane=function(n,i,r){var u;i==="off"?(this._$farRightPaneHubPivot.css("display","none"),this._splitter.noSplit(),this._workItemForm&&(this._workItemForm.off(),this._workItemForm.hideElement()),this._viewPaneForm.off(),this._viewPaneForm.hide()):(i==="right"?(this._splitter.horizontal(),this._splitter.split()):(this._splitter.vertical(),this._splitter.split()),(this._savedPaneFilterItem!==r||n==="off")&&(u=this._getSelectedTestCaseId(),r===t.paneMode_suites||r===t.paneMode_results?(u=this._testPointList.getSelectionCount()<=1?u:0,this._showAssociatedNodes(u,r)):this._showWorkItem(u,!0)),this._$farRightPaneHubPivot.css("display","block"))},t.prototype._saveUserSettingsForPane=function(n,t,i){n&&n!==t&&(this._savePaneSetting("/PanePosition",t),t==="off"&&n&&(this._previousPaneOnPosition=n,this._savePaneSetting("/PreviousPaneOnPosition",n)));this._savedPaneFilterItem!==i&&(this._savePaneSetting("/PaneMode",i),this._savedPaneFilterItem=i)},t.prototype._savePaneSetting=function(n,t){var i=this;this._webSettingsService||(this._webSettingsService=c.Application.getConnection(this._options.tfsContext).getService(l.WebSettingsService));(new vt.DelayedExecutionHelper).executeAfterLoadComplete(this,function(){i._webSettingsService.beginWriteSetting(n,t)})},t.prototype._getSelectedTestCaseId=function(){var n=this._testPointList.getSelectedTestPoint();return n?n.testCaseId:0},t.prototype._showWorkItem=function(n,t){function r(n){i._workItemForm.beginShowWorkItem(n,function(){i.currentWorkItemId=n;i._testPointList.focus(300)})}this._viewPaneForm.hide();var i=this;(this.currentWorkItemId!==n||t)&&n>=0&&(this.currentWorkItemId=n,this._workItemPaneMode&&this._workItemPaneMode!=="off"&&(n!==0?(this._workItemForm.showElement(),r(n)):this._workItemForm&&(this._workItemForm.off(),this._workItemForm.hideElement())))},t.prototype._showAssociatedNodes=function(n,t){this._viewPaneForm.bind();this._viewPaneForm.show();this._workItemForm&&this._workItemForm.hideElement();this._workItemPaneMode&&this._workItemPaneMode!=="off"&&this._viewPaneList.refreshList(n,t,this._workItemPaneMode)},t.prototype._initializeEvents=function(){var n=this;it.WorkItemManager.get(hr.getWorkItemStore()).attachWorkItemChanged(ur(this,this._onNewTestCaseCreated));this._testPointList._bind("selectionchanged",ur(this,this._onTestPointSelectionChanged))._bind("deletekey",ur(this,this._onRemoveTestPoints))._bind("dirtytestcaseschanged",ur(this,this._updateTestPointsToolbarCommandStates))._bind("sortOrderChanged",ur(this,this._onSortOrderChanged))._bind("focus",ur(this,this._removeHighlightOnRefreshMenu));this._testPointList.refreshTestPointsEvent=function(t){t!==undefined&&t!==null&&t.length>0&&n._refreshTestPoints(t)};this._testPointList.refreshSelectedTestSuiteEvent=function(){n._refreshSelectedSuite()};this._testPointList.removeTestCaseEvent=function(t){n._removeSelectedTestCases(t)};this._testPointList.setOutcomeEvent=function(t,i){n._setOutcome(t,i)};this._testPointList.resetTestPointsEvent=function(t){n._resetTestPoints(t)};this._testPointList.runTestPointsEvent=function(){n._runTestPoints(n._testPointList.getSelectedTestPoints())};this._testPointList.runTestPointsUsingClientEvent=function(){n._runTestPointsUsingClient(n._testPointList.getSelectedTestPoints())};this._testPointList.runTestPointsWithOptionsEvent=function(){n._runTestPointsWithOptions(n._testPointList.getSelectedTestPoints())};this._testPointList.resumeTestPointsEvent=function(){n._resumeRun()};this._testPointList.bulkEditTestCasesUsingGridEvent=function(t){n._bulkEditTestCasesUsingGrid(t)};this._testPointList.assignTesterEvent=function(t,i){n._assignTesters(t,i)};this._testPointList.assignConfigurationEvent=function(t){n._assignConfigurationsToTestCases(t)};this._testPointList.canSetOutcomeDelegate=function(){return n._canSetOutcome()};this._testPointList.canResumeTestsDelegate=function(){return n._canResumeRun()};this._testPointList.canResetTestPointsDelegate=function(){return n._canResetTestPoints()};this._testPointList.canRunTestsDelegate=function(){return n._canRunTests()};this._testPointList.canRemoveTestsDelegate=function(){return n._canRemoveTestCase()};this._testPointList.canShowRemoveTestsDelegate=function(){return n._canShowAddAndRemoveTestCase()};this._testPointList.isTestNotApplicableDelegate=function(){return n._canSetOutcome()};this._testPointList.resetFiltersEvent=function(){n._resetFilters()};this._bind("keydown",ur(this,this._onKeyDown));this._testPointList._bind("selectedTestChanged",ur(this,this.onSelectedTestCaseChanged))},t.prototype._bulkEditTestCasesUsingGrid=function(n){var t=this;fr.trackAction("EditTestCasesWithGrid","/SuiteManagement");this._beginTryShowEditGrid(n,!1,function(){t._setViewFilter("grid")},function(){t._setViewFilter("list")})},t.prototype._onKeyDown=function(n){switch(n.keyCode){case 78:n.altKey&&this._canCreateTestCase()&&this._createNewTestCase();break;case 82:n.altKey&&this._canRunTests()&&this._runTestPoints(this._testPointList.getSelectedTestPoints())}},t.prototype._assignTesters=function(n,t){var i=this;n&&n.length!==0&&(vt.getTestPlanManager().assignTester(this._currentPlan.plan.id,n,t.id,function(){i._addToTestersInPlan(t);i._refresh()},function(n){i.showError(wi.getErrorMessage(n))}),rr.publishEvent(rr.featureAssignTester,rr.numberOfPointsSelected,n.length))},t.prototype._assignConfigurationsToTestCases=function(n){var t=this,i;n&&n.length!==0&&(i=this._testSuitesTree.getSelectedSuite(),wi.using(["TestManagement/Scripts/TFS.TestManagement.AssignConfigurationsToSuite"],function(r){var u=new r.AssignConfigurationsToSuite(t._currentPlan.plan.id,i);u.AssignConfigurationsToTestCases(n,t._showTestsFromChild,function(i,r){r&&(t._refreshAndPopulatetestPointList(t._currentPlan.plan.id,t._currentPlan.selectedSuiteId,!0),rr.publishEvent(rr.featureAssignConfiguration,rr.numberOfTestCases,n.length))},function(n){t.showError(wi.getErrorMessage(n))})}))},t.prototype._addToTestersInPlan=function(n){var t=$.map(this._testersInPlan,function(n){return n.id});ci.contains(t,n.id)||this._testersInPlan.push(n)},t.prototype._onNewTestCaseCreated=function(n,t){var i,r;(i=t.workItem,r=i.id,r<=0)||t.change===tt.WorkItemChangeType.SaveCompleted&&(this._addTestCaseToCurrentSuiteIfNeeded(i),rr.publishEvent(rr.featureCreateTestCase,rr.createTestCaseUsingWit,1))},t.prototype._addTestCaseToCurrentSuiteIfNeeded=function(n){var t=this;if(!this._isTestCaseInCurrentSuite(n.id)){if(this._isSuiteDynamicType()){this._refresh();return}dr.getAllWorkItemTypeForTestCaseCategory(function(i){$.inArray(n.workItemType.name,i)!==-1&&t._hasRelatedLinkToWorkItemInCurrentSuite(n)&&t._addtestCaseToCurrentSuite(n)})}},t.prototype._hasRelatedLinkToWorkItemInCurrentSuite=function(n){var r=hr.getWorkItemStore(),t=n.getLinks();if(r.linkTypes&&t&&t.length>0){for(var u=r.findLinkTypeEnd("System.LinkTypes.Related-Forward").id,i=void 0,f=lr.getTestCaseIdsFromTestPoints(this._cachedTestPointData),i=0;i<t.length;i++)if($.inArray(t[i].linkData.ID,f)!==-1&&t[i].linkData.LinkType===u)return!0;return!1}return!1},t.prototype._isTestCaseInCurrentSuite=function(n){var t=lr.getTestCaseIdsFromTestPoints(this._cachedTestPointData);return $.inArray(n,t)!==-1},t.prototype._createFilters=function(){var n=this,t,i;this._testPointOutcomeFilter=this._createFilter(sr.outcome);this._testerFilter=this._createFilter(sr.tester);this._configurationFilter=this._createFilter(sr.configuration);this._viewFilter=this._createFilter(sr.view);this._positionFilter=this._createFilter(sr.workItemPanePosition);this._positionFilter&&this._positionFilter.getElement().attr("title",st.PanePositionToolTip);this._paneFilter=this._createFilter(sr.pane);this._paneFilter&&this._paneFilter.getElement().attr("title",st.PaneToolTip);i=er.getFilterItemsFromUniqueValues(vt.TestOutcomes,"");this._testPointOutcomeFilter&&this._testPointOutcomeFilter.updateItems(i);this._webSettingsService||(this._webSettingsService=c.Application.getConnection(this._options.tfsContext).getService(l.WebSettingsService));this._readPanePosition(function(i){t=i&&i.value?i.value:"off";n._paneFilter&&n._consumerWorkitemForm(function(){n._showWorkItemPane(t,n._paneFilter.getSelectedItem().value)})})},t.prototype._readPanePosition=function(n){var t=li.parseJsonIsland($(document),".__panePositionSetting",!0),i;t&&n?(i={value:t},n(i)):this._webSettingsService.beginReadSetting("/PanePosition",l.WebSettingsScope.User,n)},t.prototype._createFilter=function(n){var i=this,r=wt.Enhancement.ensureEnhancement(fi.PivotFilter,$(n));return this._bind(this._element.find(n),"changed",function(r,u){i._filterValueChanged(n,u.value);u.value===t.paneMode_suites?rr.publishEvents(rr.featureDetailsPaneTestSuites,{}):u.value===t.paneMode_results?rr.publishEvents(rr.featureDetailsPaneTestResults,{}):rr.publishEvents(rr.featureDetailsPaneTestCases,{})}),r},t.prototype._filterValueChanged=function(n,t){var r=this,u,i;bt.logTracePoint("TestHub.Filter.Start");n===sr.tester||n===sr.outcome||n===sr.configuration?(this._clearAndHideTagsFilter(),this._updateIsFilterApplied(n,t),u=this._filter(this._cachedTestPointData),i=this._testSuitesTree.getSelectedSuite(),this._updatePointCountForSuite(i,u),this._currentPlan.plan&&this._currentPlan.plan.id&&this._currentPlan.selectedSuiteId&&this._refreshAndPopulatetestPointList(this._currentPlan.plan.id,this._currentPlan.selectedSuiteId,this._showTestsFromChild,null,null,function(){r._isFilterApplied()||r._refreshSuitePointCounts(i)}),n===sr.tester?fr.trackAction("TesterFilter","/SuiteManagement"):n===sr.outcome?fr.trackAction("OutcomeFilter","/SuiteManagement",{value:t}):fr.trackAction("ConfigurationFilter","/SuiteManagement",{value:t})):n===sr.view?(fr.trackAction("ViewFilter","/SuiteManagement",{value:t}),this._handleViewFilter(t)):n===sr.workItemPanePosition?(fr.trackAction("WorkItemPaneFilter","/SuiteManagement",{value:t}),this._showWorkItemPane(t,this._paneFilter.getSelectedItem().value)):n===sr.pane&&(fr.trackAction("PaneFilter","/SuiteManagement",{value:t}),this._showWorkItemPane(this._positionFilter.getSelectedItem().value,t));rr.publishEvents(rr.featureTestSuiteFilter,{FilterName:n,FilterValue:t});bt.logTracePoint("TestHub.Filter.Complete")},t.prototype._updateIsFilterApplied=function(n,t){n===sr.tester&&(this._testerFilterApplied=t===er.ALL_FILTER?!1:!0);n===sr.outcome&&(this._outcomeFilterApplied=t===er.ALL_FILTER?!1:!0);n===sr.configuration&&(this._configurationFilterApplied=t===er.ALL_FILTER?!1:!0)},t.prototype._tryShowViewGrid=function(n){return this._bulkEditTestsViewModel.cleanup()?(this._showViewGrid(n),this._fetchAndShowIterationDates(),this._currentView=this._listGroupName,!0):!1},t.prototype._hideViewGridFilters=function(){this._testPointOutcomeFilter.hideElement();this._testerFilter.hideElement();this._configurationFilter.hideElement();this._paneFilter.hideElement();this._positionFilter.hideElement();this._savedPaneFilterItem=this._paneFilter.getSelectedItem().value;this._savedPanePosition=this._workItemPaneMode;this._showWorkItemPane("off",this._savedPaneFilterItem)},t.prototype._showViewGridFilters=function(){this._testPointOutcomeFilter.showElement();this._testerFilter.showElement();this._configurationFilter.showElement();this._paneFilter.showElement();this._positionFilter.showElement()},t.prototype._hideTestViewFilters=function(){this._hideViewGridFilters();this._viewFilter.hideElement()},t.prototype._showTestViewFilters=function(){this._showViewGridFilters();cr.AreAdvancedTestManagementFeaturesEnabled()&&this._viewFilter.showElement()},t.prototype._hideTestView=function(){this._bulkEditGrid.hide();this._hideViewGrid()},t.prototype._hideViewGrid=function(){bt.logVerbose("[_hideViewGrid]Hide grid view called");this._testViewRightPaneGrid.hide();this._testPointsToolbar.hideElement();this._clearAndHideTagsFilter();this._setVisibility(pr.viewGrid,!1)},t.prototype._showViewGrid=function(n,t){var i=this;this._reRegisterShortcutGroup(this._listGroupName);bt.logVerbose("[_showViewGrid]Show grid view called");this._testPointList.resetDirtyItems();this._hideTestChartsView();this._bulkEditGrid.hide();this._disposeOrderTestCasesControl();this._testViewRightPaneGrid.show();this._setVisibility(pr.viewGrid,!0);this._testPointsToolbar.showElement();this._showTestViewFilters();this._testPointList.layout();this._inEditMode=!1;this._testPointList.startTrackingWorkItems();this._savedPanePosition&&this._savedPaneFilterItem&&this._consumerWorkitemForm(function(){i._showWorkItemPane(i._savedPanePosition,i._savedPaneFilterItem)});n&&(bt.logVerbose("[_showViewGrid]list filter is set."),this._setViewFilter("list"));t||this._refresh();this._testPlanAndSuitesMenubar.updateCommandStates([{id:this._testPlanAndSuitesCommandIds.showTestsFromChildSuites,toggled:this._showTestsFromChild}])},t.prototype._disposeOrderTestCasesControl=function(){this._orderTestsControl&&(this._orderTestsControl.dispose(),this._orderTestsControl=null);this._showTestViewFilters();this._testPlanAndSuitesMenubar.updateCommandStates([{id:this._testPlanAndSuitesCommandIds.showTestsFromChildSuites,toggled:this._showTestsFromChild,disabled:!1}])},t.prototype._getTestCaseIdsInSuite=function(){return lr.getTestCaseIdsFromTestPoints(this._cachedTestPointData)},t.prototype._isTestCaseInPaneEdited=function(){var n;return this._workItemPaneMode!=="off"?(this._testSuitesTree.focus(),n=it.WorkItemManager.get(hr.getWorkItemStore()).getWorkItem(this.currentWorkItemId),n&&n.isDirty()):!1},t.prototype._beginTryShowEditGrid=function(n,t,i,r){var u=this,f;this._checkAndNotifyUserAboutDirtyTests()?r&&r(null):(f=hr.getWorkItemStore(),this._hideTestChartsView(),this._hideViewGrid(),this._hideViewGridFilters(),this._testViewRightPaneGrid.show(),this._showTestsFromChild&&this._toggleShowTestsFromChildSuites(),this._gridViewShortcutGroup=new tu(this),this._bulkEditGrid.show(),this._bulkEditGrid.showBusyOverlay(),this._testPointList.stopTrackingWorkItems(),this._clearIterationDatesSpan(),this._testPlanAndSuitesMenubar.updateCommandStates([{id:this._testPlanAndSuitesCommandIds.showTestsFromChildSuites,toggled:this._showTestsFromChild,disabled:!0}]),this._beginGetAdditionalFieldsToShowAndCreateGridView(function(o){var s=u._testSuitesTree.getSelectedSuite();o=u._updateOrderAsColumns(o);s&&s.type===e.TestSuiteType.RequirementTestSuite?it.WorkItemManager.get(f).beginGetWorkItem(s.requirementId,function(r){u._bulkEditTestsViewModel.initialize(n,u._currentPlan.plan,u._currentTeamFieldInfo,s,t,u._getTestCaseIdsInSuite().length,o);u._bulkEditTestsViewModel.setRequirement(r);u._inEditMode=!0;i&&i(!0)},function(n){u.showError(wi.getErrorMessage(n));r&&r(n)}):(u._bulkEditTestsViewModel.initialize(n,u._currentPlan.plan,u._currentTeamFieldInfo,s,t,u._currentSuiteTestCaseIds.length,o),u._bulkEditTestsViewModel.setRequirement(null),u._inEditMode=!0,i&&i(!0));u._reRegisterShortcutGroup(u._gridGroupName);u._currentView=u._gridGroupName},function(n){u.showError(wi.getErrorMessage(n));r&&r(n)}))},t.prototype._updateOrderAsColumns=function(n){for(var u={},f=[],r,t=0,i=n.length;t<i;t++)u[n[t].referenceName]=n[t];for(t=0,i=this._savedColumns.length;t<i;t++)r=u[this._savedColumns[t].name],r&&f.push(r);return f},t.prototype._handleViewFilter=function(n){var t=this,i=[];n==="list"?this._tryShowViewGrid(!1)||this._setViewFilter("grid"):n==="grid"&&(this._showTestsFromChild?this._toggleShowTestsFromChildSuites(function(){i=t._currentSuiteTestCaseIds;t._beginTryShowEditGrid(i,!0,$.noop,function(){t._setViewFilter("list")})}):(i=this._currentSuiteTestCaseIds,this._beginTryShowEditGrid(i,!0,$.noop,function(){t._setViewFilter("list")})))},t.prototype._setViewFilter=function(n){var t=this._viewFilter.getItem(n);t&&this._viewFilter.setSelectedItem(t)},t.prototype._updatePointCountForSuite=function(n,t){return n?(n.pointCount=t,!0):!1},t.prototype._updateTotalPointCountForSuite=function(n,t){return n?(n.totalPointCount=t,!0):!1},t.prototype._updateQueryForSuite=function(n,t,i){n&&(n.queryText=t,n.revision=i)},t.prototype._getValueOfTesterFilter=function(){var n=this._getSelectedValueInFilter(this._testerFilter);return n===er.ALL_FILTER?n:this._getTesterFilterUniqueId(this._getTesterFilterValue())},t.prototype._refreshSuitePointCounts=function(n){var t=this,i=this._getOutcomeFilterValue(),u=this._getTesterFilterValue(),f=this._getValueOfTesterFilter(),r=this._getConfigurationFilterValue(),e=this._getIdOfConfigurationInFilter(r);this._currentPlan.plan&&vt.getTestPlanManager().fetchFilteredSuitesTestPointCountInPlan(this._currentPlan.plan.id,i,f,e,function(f){var e=t._getSelectedValueInFilter(t._testPointOutcomeFilter),o=t._getSelectedValueInFilter(t._testerFilter),s=t._getSelectedValueInFilter(t._configurationFilter),l=t._testSuitesTree.getSelectedSuite(),h,c;e===er.ALL_FILTER?e="":rr.publishEvents(rr.featureTesterFilter,{});o===er.ALL_FILTER?o="":rr.publishEvents(rr.featureOutcomeFilter,{});s!==er.ALL_FILTER&&rr.publishEvents(rr.featureConfigurationFilter,{});i===e&&u===o&&r===s&&(n=t._testSuitesTree.getSelectedSuite(),h=t._parseSuitePointCountData(f),c=t._parseSuiteTotalPointCountData(f),t._testSuitesTree.updateNodes(h,c))})},t.prototype._getpointCountRecursive=function(n,t,i){var r=0,f=this,u=t[n];return r=i[n]?i[n]:0,u.childSuiteIds.length>0&&$.each(u.childSuiteIds,function(n,u){r+=f._getpointCountRecursive(u,t,i)}),r},t.prototype._parseSuitePointCountData=function(n){var t={};return $.each(n,function(n,i){t[i.id]=i.pointCount}),this._getsuiteIdToPointCountMap(t)},t.prototype._parseSuiteTotalPointCountData=function(n){var t={};return $.each(n,function(n,i){t[i.id]=i.totalPointsCount}),this._getsuiteIdToPointCountMap(t)},t.prototype._getsuiteIdToPointCountMap=function(n){if(this._showTestsFromChild){var t=this._testSuitesTree.GetDisplaySuites(),i=this;$.each(t,function(r,u){var f=i._getpointCountRecursive(u.id,t,n);n[u.id]=f})}return n},t.prototype._filter=function(n,t,i){i===void 0&&(i=!0);var r=er.filter(n,[{key:"outcome",value:this._getSelectedValueInFilter(this._testPointOutcomeFilter)},{key:"tester",value:this._getSelectedValueInFilter(this._testerFilter)},{key:"configurationName",value:this._getSelectedValueInFilter(this._configurationFilter)}]),u=[],e=this._saveSelection(this._testPointList,u),f=this._testPointList.getVisibleRow();return this._testPointList.setSource(r,this._savedColumns,this._sortOrder),e&&this._restoreSelection(this._testPointList,u,t),i?(this._testPointList.getSelectedRowIntoView(),this._testPointList._getRowIntoView(f,!0)):this._testPointList._getRowIntoView(f+10,!0),r?r.length:0},t.prototype._getTesterFilterValue=function(){var n=this._getSelectedValueInFilter(this._testerFilter);return!n||n===er.ALL_FILTER?"":n},t.prototype._getTesterFilterUniqueId=function(n){if(n){var t=ci.findIndex(this._testersInPlan,function(t){return vi.ignoreCaseComparer(t.filterValue,n)===0});if(t>=0)return this._testersInPlan[t].id}else return"";return""},t.prototype._getOutcomeFilterValue=function(){var n=this._getSelectedValueInFilter(this._testPointOutcomeFilter);return n&&n!==er.ALL_FILTER||(n=""),n},t.prototype._getConfigurationFilterValue=function(){return this._getSelectedValueInFilter(this._configurationFilter)},t.prototype._saveSelection=function(n,t){var i=n.getSelectedTestPoints(),u=!1,r;if(i&&i.length>0){for(r=0;r<i.length;r++)i[r]&&i[r]!==null&&t.push(i[r].testPointId);u=!0}return u},t.prototype._restoreSelection=function(n,t,i){var r,f,u,e=!0;if(n._clearSelection(),!this._showTestsFromChild)for(r=0;r<n._dataSource.length;r++)f=n._dataSource[r],ci.contains(t,f.testPointId)&&(e?(n._selectRow(r),e=!1):n._addSelection(r,r,{doNotFireEvent:!0,keepSelectionStart:!0}),u=!0);u===!0&&(n._selectionChanged(),i||setTimeout(function(){n.focus()},10));!u&&n._dataSource.length>0&&(n._addSelection(0,0),i||setTimeout(function(){n.focus()},10))},t.prototype._getSelectedValueInFilter=function(n){var t=n.getSelectedItem();return t?t.id:null},t.prototype._updateFilterSelection=function(n,t,i){if(i){var r=n.getItem(i);r?n.setSelectedItem(r):(t==="tester"||t==="configuration")&&(n.updateItems([{text:i,value:i,selected:!0,title:i}]),t==="tester"&&i!==er.ALL_FILTER?this._testerFilterApplied=!0:t==="configuration"&&i!==er.ALL_FILTER&&(this._configurationFilterApplied=!0))}},t.prototype._resetFilters=function(){this._updateFilterSelection(this._testerFilter,"tester",er.ALL_FILTER);this._updateFilterSelection(this._testPointOutcomeFilter,"outcome",er.ALL_FILTER);this._updateFilterSelection(this._configurationFilter,"configuration",er.ALL_FILTER);this._updateFilterSelection(this._positionFilter,"PanePosition","right");this._updateFilterSelection(this._paneFilter,"PaneMode","testCasePane");this._showWorkItemPane("off",this._paneFilter.getSelectedItem().value)},t.prototype._showTestCharts=function(){bt.logVerbose("[_showTestCharts] _showTestCharts method called");this._hideTestView();this._hideTestViewFilters();var n=this._testSuitesTree.getSelectedSuite();n&&this.setViewTitle(vi.format(st.TestPointsGridSuiteHeader,n.title,n.id));this._testManagementChartsInfoBar.showElement();this._testManagementChartsView.showElement();this._reRegisterShortcutGroup(this._chartsGroupName);this._currentView=this._chartsGroupName;bt.logVerbose("[_showTestCharts] _showTestCharts method exit")},t.prototype.getCurrentSuiteId=function(){return this._currentPlan.selectedSuiteId},t.prototype.getCurrentPlanId=function(){return this._currentPlan.plan.id},t.prototype.handleViewFilter=function(n){this._handleViewFilter(n);this._setViewFilter(n)},t.prototype.showCharts=function(n){var t=this._testManagementChartsView;t&&t.showChart(n)},t.prototype.rightPaneOptions=function(n){n===this._testPointToolbarItemIds.toggleFilter?(this._filterBar.tagFilterProvider.toggleFilterActivation(),this._updateTestPointsToolbarCommandStates()):n===this._testPointToolbarItemIds.newTestCase?this._createNewTestCase():n===this._testPointToolbarItemIds.newTestCaseWithGrid?this._createNewTestCaseWithGrid():n===this._testPointToolbarItemIds.editQuery?this._editQuery():n===this._testPointToolbarItemIds.addTestCases?this._addTestCases():n===this._testPointToolbarItemIds.removeTestCase?this._removeSelectedTestCases(this._testPointList.getSelectedTestPoints()):n===this._testPointToolbarItemIds.refreshTestPoints?(this._refresh(li.delegate(this,this._resumeRunAfterExtensionInstallation)),rr.publishEvent(rr.featureTestSuite,rr.suiteActions,rr.refresh)):n===this._testPointToolbarItemIds.openTestCase?this._onOpenTestPointDetail():n===this._testPointToolbarItemIds.runTestPoints?this._runTestPoints(this._testPointList.getSelectedTestPoints()):n===this._testPointToolbarItemIds.runTestPointsUsingClient?this._runTestPointsUsingClient(this._testPointList.getSelectedTestPoints()):n===this._testPointToolbarItemIds.runTestPointsWithOptions?this._runTestPointsWithOptions(this._testPointList.getSelectedTestPoints()):n===this._testPointToolbarItemIds.passTest?this._setOutcome(this._testPointList.getSelectedTestPoints(),e.TestOutcome.Passed):n===this._testPointToolbarItemIds.failTest?this._setOutcome(this._testPointList.getSelectedTestPoints(),e.TestOutcome.Failed):n===this._testPointToolbarItemIds.blockTest?this._setOutcome(this._testPointList.getSelectedTestPoints(),e.TestOutcome.Blocked):n===this._testPointToolbarItemIds.notApplicableTest?this._setOutcome(this._testPointList.getSelectedTestPoints(),e.TestOutcome.NotApplicable):n===this._testPointToolbarItemIds.resetTest?this._resetTestPoints(this._testPointList.getSelectedTestPoints()):n===this._testPointToolbarItemIds.orderTests?this._createOrderTestCasesControl():n===this._testPointToolbarItemIds.columnOptions?(this._launchColumnOptionsDialog(),rr.publishEvents(rr.featureColumnOptionsForTestView,{})):n===this._testPointToolbarItemIds.saveTests?this._saveTests(this._testPointList.getDirtyTests()):n===this._testPointToolbarItemIds.resumeRun?this._resumeRun():n===this._testPointToolbarItemIds.toggleTestCaseDetailsPane&&this._toggleTestCaseDetailsPane()},t.prototype._resumeRunAfterExtensionInstallation=function(){window.sessionStorage.getItem("resumeTestSessionAfterClose")==="true"&&(window.sessionStorage.removeItem("resumeTestSessionAfterClose"),this._resumeRun())},t.prototype._createOrderTestCasesControl=function(){var n=this;wi.using(["TestManagement/Scripts/OrderTests/TFS.TestManagement.OrderTests.Control"],function(t){var i=n._element.find(".test-view-right-pane .leftPane"),r;i&&(n._setVisibility(pr.viewGrid,!1),n._hideTestViewFilters(),n._clearAndHideTagsFilter(),n._updateToolbarCommandStatesAfterOrderTests(),r=n.getCurrentSuiteId(),n._orderTestsControl&&n._disposeOrderTestCasesControl(),n._orderTestsControl=new t.OrderTestsControl({container:i,suiteId:r,orderTestControlDispose:ur(n,n._onOrderTestControlDispose),onError:ur(n,n._onOrderTestsControlError)}),n._getAdditionalWitColumnsForOrderTests().then(function(t){n._orderTestsControl._initialize(t)},function(){n._orderTestsControl._initialize()}).then(function(){n._orderTestsControl.render().then(function(){n._listViewShortcutGroup.removeShortcutGroup()}).fail(function(t){n.showError(wi.getErrorMessage(t))})}))})},t.prototype._getAdditionalWitColumnsForOrderTests=function(){var t=this,n=i.defer();return this._beginGetAdditionalFieldsToShowAndCreateGridView(function(i){var r=t._updateOrderAsColumns(i);return n.resolve(r)},function(){n.reject(null)}),n.promise},t.prototype._onOrderTestControlDispose=function(n){var i=this.getCurrentSuiteId(),t;this._disposeOrderTestCasesControl();this._setVisibility(pr.viewGrid,!0);n?this._onSortOrderChanged(this._testPointList,{index:"sequenceNumber",order:"asc"},!0):(t=this._testPointList._getVisibleRowIndices(),this._testPointList.initializeDataSource(),this._testPointList._getRowIntoView(t.last));this._reRegisterShortcutGroup(this._listGroupName)},t.prototype._onOrderTestsControlError=function(n){this.showError(wi.getErrorMessage(n))},t.prototype._updateToolbarCommandStatesAfterOrderTests=function(){var n=this,t,i;n._testPointsToolbar&&(t=n._testPointsToolbar.getElement(),t&&(i=t.children(),i.each(function(t,i){$(i).hasClass("invisible")||n._testPointsToolbar.updateCommandStates([{id:$(i).attr("command"),disabled:!0}])})));this._testPlanAndSuitesMenubar.updateCommandStates([{id:this._testPlanAndSuitesCommandIds.showTestsFromChildSuites,toggled:this._showTestsFromChild,disabled:!0}])},t.prototype._reRegisterShortcutGroup=function(n){var t=this;this._testShortcutGroup&&this._testShortcutGroup.removeShortcutGroup();this._testShortcutGroup=new nu(this);n===this._listGroupName?this._listViewShortcutGroup=new ru(this):n===this._gridGroupName?this._gridViewShortcutGroup=new tu(this):n===this._chartsGroupName&&wi.using(["TestManagement/Scripts/TFS.TestManagement.Controls.Charts"],function(n){t._testManagementChartsView.chartsShortcutGroup=new n.TestChartsShortcutGroup(t._testManagementChartsView)})},t.prototype._initializeAndShowTestCharts=function(){var n=this;wi.using(["TestManagement/Scripts/TFS.TestManagement.Controls.Charts"],function(t){bt.logVerbose("[_initializeAndShowTestCharts] _initializeAndShowTestCharts method called");n._testManagementChartsView?n._testManagementChartsView.setFilterContext(n._currentPlan.plan,n._testSuitesTree.getSelectedSuite()):(n._testManagementChartsView=wt.BaseControl.createIn(t.TestManagementChartsView,n._element.find(".hub-pivot-content"),{tfsContext:n._options.tfsContext,suite:n._testSuitesTree.getSelectedSuite(),plan:n._currentPlan.plan}),n._testManagementChartsView.hideElement());n._testManagementChartsInfoBar||(n._element.find(".hub-title").empty(),n._testManagementChartsInfoBar=wt.BaseControl.createIn(t.TestManagementChartsInfoBar,n._element.find(".hub-title").eq(0),{tfsContext:n._options.tfsContext}),n._testManagementChartsInfoBar.hideElement(),n._testManagementChartsInfoBar.bind(n._testManagementChartsView));n._showTestCharts();bt.logVerbose("[_initializeAndShowTestCharts] _initializeAndShowTestCharts method exit")})},t.prototype._hideTestChartsView=function(){bt.logVerbose("[_hideTestChartsView] hideTestChartsView method called");this._testManagementChartsView&&this._testManagementChartsView.hideElement();this._testManagementChartsInfoBar&&this._testManagementChartsInfoBar.hideElement();bt.logVerbose("[_hideTestChartsView] hideTestChartsView method exit")},t.prototype._setupNavigation=function(){var i=this,n=ei.getHistoryService(),t=n.getCurrentState();this._tabs=wt.Enhancement.ensureEnhancement(fi.PivotView,this._element.find(".test-items-tabs"));n.attachNavigate(or.TESTS,function(n,t){i._navigate(or.TESTS,t,!1)});n.attachNavigate(or.CHARTS,function(n,t){i._navigate(or.CHARTS,t,!1)});t.action==="charts"?this._navigate(or.CHARTS,t,!0):this._navigate(or.TESTS,t,!0)},t.prototype._navigate=function(n,t,i){var r,u;this._viewFilter&&this._viewFilter.getSelectedItem().value==="grid"&&this._bulkEditTestsViewModel&&!this._bulkEditTestsViewModel.cleanup()||(this._tabs&&(r=this._tabs.getView(or.TESTS),r.selected=n===or.TESTS?!0:!1,r=this._tabs.getView(or.CHARTS),r.selected=n===or.CHARTS?!0:!1,this._tabs.updateItems()),this._selectedPivot=n,n===or.TESTS&&(i?oi.getScenarioManager().startScenarioFromNavigation(vt.TcmPerfScenarios.Area,vt.TcmPerfScenarios.GotoTestHub,!0):this._testSuitesTree&&(u=this._testSuitesTree.getSelectedSuite())),this.parseStateInfo(t,i,ur(this,this._onParseStateInfoSuccess)))},t.prototype._updateTabUrls=function(n,t){var i,r,u;this._tabs&&(u=ei.getHistoryService(),r=u.getFragmentActionLink(or.TESTS),i=this._tabs.getView(or.TESTS),i.link=vt.UrlHelper.getPivotUrl(r,n,t),r=u.getFragmentActionLink(or.CHARTS),i=this._tabs.getView(or.CHARTS),i.link=vt.UrlHelper.getPivotUrl(r,n,t),this._tabs.updateItems())},t.prototype._parseTestCaseFieldsInTestPoints=function(n){var u=this,t,r,i;n=$.map(n,function(n){if(n.workItemProperties&&n.workItemProperties.length>0)for(t=0;t<n.workItemProperties.length;t++)r=n.workItemProperties[t].Key,i=n.workItemProperties[t].Value,(r===w.CoreFieldRefNames.AreaPath||r===w.CoreFieldRefNames.IterationPath)&&i&&(i=u._parseAreaAndIterationPathFields(i)),n[r]=i;return n})},t.prototype._parseAreaAndIterationPathFields=function(n){var t,i;for(n=n.trim(),t=0;t<n.length;t++)if(i=n.charAt(t),i!=="\\")break;return n.substr(t)},t.prototype._refreshAndPopulatetestPointList=function(n,t,i,r,u,f){var e=this,o;u===void 0&&(u=vt.maxPageSize);bt.logTracePoint("TestHubView._refreshAndPopulatetestPointList.start");this._enableFilters(!1);u=ot.PageHelper.getPageSize();var s=this._getOutcomeFilterValue(),h=this._getValueOfTesterFilter(),c=this._getIdOfConfigurationInFilter(this._getConfigurationFilterValue());this._testPlanManager.getTestPointsForSuite(n,t,i,this._createDisplayColumns(),s,h,c,function(n){var i=n.testPoints,s,h;e._modifySequenceNumber(i);e._pageHelper=new ot.PageHelper(n.sortedPointIds,u,u);e._pageHelper.setStartingPage(1);e._parseTestCaseFieldsInTestPoints(i);o=e._testSuitesTree.getSelectedSuite();e._currentSuiteTestCaseIds=n.testCaseIds;e._savedColumns=n.columnOptions;e._sortOrder=n.columnSortOrder;e._wereColumnsChanged=!1;e._cachedTestPointData=i;e._cachedTotalTestPointCount=n.totalPointsCount;s=e._cachedTotalTestPointCount;h=n.configurations;o&&t===o.id&&(e._showTestsFromChild||e._isFilterApplied()?e._updateTestPointsAndFilters(o,t,e._cachedTestPointData,s,r,!1,h):e._updateTestPointsAndFilters(o,t,e._cachedTestPointData,s,r,!0,h));e._showTestsFromChild?e._refreshSuitePointCounts(null):e._isFilterApplied()&&e._refreshSuitePointCounts(o);f&&f()},function(n){n.type&&n.type===ct.Exceptions.WiqlSyntaxException?(alert(wi.getErrorMessage(n)),e._updateTestPointsToolbarCommandStates()):e.showError(wi.getErrorMessage(n))},u,this._showTestsFromChild)},t.prototype._modifySequenceNumber=function(n){var i=[],t,r=n?n.length:0,u;if(n&&r>0){for(t=0;t<r;t++)i.indexOf(n[t].sequenceNumber)<0&&i.push(n[t].sequenceNumber);for(i.sort(function(n,t){return n-t}),u={},t=0;t<r;t++)u[i[t]]=t+1;for(t=0;t<r;t++)n[t].sequenceNumber=u[n[t].sequenceNumber]}},t.prototype._beginPageTestpoints=function(){var t,n;if(this._pagingInProgress){bt.logVerbose("[_beginPageTestPoints]There is a paging currently in progress. Will not attempt paging.");return}this._pageHelper&&this._pageHelper.canPage()&&(t=this._pageHelper.getIdsToFetch(),this._pagingInProgress=!0,n=this,this._fetchTestPoints(t,!1,null,function(){n._pagingInProgress=!1;n._pageHelper&&n._pageHelper.pageFetchComplete();n.pageFetched&&n.pageFetched()}))},t.prototype.fetchMoreTestPoints=function(){var n=this;bt.logVerbose("Requesting to fetch more test points");this._pagingInProgress?(bt.logVerbose("[fetchMoreTests]Paging is in progress. Queue the request to page complete."),this.pageFetched=function(){n.pageFetched=null;n._beginPageTestpoints()}):(bt.logVerbose("[fetchMoreTests]Fetch more test cases from the server."),this._beginPageTestpoints())},t.prototype._updateTestPointsAndFilters=function(n,t,i,r,u,f,e){this._updateTesterFilterValues(i);this._updateConfigurationFilterValues(e);var o=i.length,s=this._filter(i,u);f&&n&&this._updatePointCountForSuite(n,n.pointCount)&&(this._updateTotalPointCountForSuite(n,r),this._testSuitesTree.updateSelectedSuite());this._enableFilters(!0);this._removeHighlightOnRefreshMenu();oi.getScenarioManager().endScenario(vt.TcmPerfScenarios.Area,vt.TcmPerfScenarios.GotoTestHub);bt.logTracePoint("TestHubView._refreshAndPopulatetestPointList.complete")},t.prototype._removeHighlightOnRefreshMenu=function(){var n=vt.getRefreshMenuItem($(document));n&&n.removeClass("hover")},t.prototype._createDisplayColumns=function(){var n=[];return!this._savedColumns||this._savedColumns.length===0||!this._wereColumnsChanged?n:($.each(this._savedColumns,function(t,i){n.push({name:i.name,text:i.text,fieldId:i.id?i.id:i.fieldId,canSortBy:i.canSortBy?i.canSortBy:!1,width:Math.round(i.width),index:i.index?i.index:"",type:"",isIdentity:i.isIdentity})}),n)},t.prototype._enableFilters=function(n){this._enableFilter(this._testPointOutcomeFilter,n);this._enableFilter(this._testerFilter,n);this._enableFilter(this._configurationFilter,n);this._enableFilter(this._viewFilter,n);this._enableFilter(this._paneFilter,n)},t.prototype._enableFilter=function(n,t){n&&(t===!1?n.showBusyOverlay():n.hideBusyOverlay())},t.prototype._onTestPointSelectionChanged=function(){this._updateTestPointsToolbarCommandStates()},t.prototype._onRemoveTestPoints=function(){this._canRemoveTestCase()&&this._removeSelectedTestCases(this._testPointList.getSelectedTestPoints())},t.prototype._isSortOrderChanged=function(n,t){return t.index===n.index&&t.order===n.order?!1:!0},t.prototype._onSortOrderChanged=function(n,t,i){var r=this,u,f=this,e=this._sortOrder;(this._isSortOrderChanged(t,e)||i)&&(this._testPointList._clearGrid(),(new vt.DelayedExecutionHelper).executeAfterLoadComplete(this,function(){vt.getTestPlanManager().updateColumnSortOrder({index:t.index,order:t.order},function(){r._refreshAndPopulatetestPointList(f._currentPlan.plan.id,f._currentPlan.selectedSuiteId,!0,!1,vt.maxPageSize,function(){r._testPointList.setSelectedRowIndex(0);r._testPointList.getSelectedRowIntoView()})})}),this._sortOrder=t,this._testPointList.sortOrder=t,u=this._testPointList.getSelectedTestPoint(),this._showWorkItemBasedOnSelection(u?u.testCaseId:0))},t.prototype._canCreateTestCase=function(){return this._testSuitesTree.getSelectedSuite()&&this._testSuitesTree.getSelectedSuite().type!==e.TestSuiteType.DynamicTestSuite&&this._isAnySuiteSelected()},t.prototype._canOpenTestCase=function(){if(!this._testPointList)return!1;var n=this._testPointList.getSelectionCount();return n===1},t.prototype._isAnySuiteSelected=function(){return this._testSuitesTree&&this._testSuitesTree.getSelectedNode()},t.prototype._canRefreshTestPointList=function(){return this._isAnySuiteSelected()},t.prototype._canRunTests=function(){var n,t=0;return!this._testPointList||this._testPointList._dataSource.length===0?!1:(n=this._testPointList.getSelectedTestPoints(),t=this._testPointList.getSelectionCount(),n&&t>0?!0:!1)},t.prototype._canRemoveTestCase=function(){var n=this._testSuitesTree.getSelectedSuite();return this._isAnyTestPointSelectedValid()&&n&&n.type!==e.TestSuiteType.DynamicTestSuite},t.prototype._canShowAddAndRemoveTestCase=function(){return this._testSuitesTree.getSelectedSuite()?this._testSuitesTree.getSelectedSuite().type!==e.TestSuiteType.DynamicTestSuite:!0},t.prototype._areThereAutomatedTests=function(n){for(var t=0,i,t=0;t<n.length;t++)if(i=n[t],i.automated)return!0;return!1},t.prototype._canSetOutcome=function(){var n=this;return this._isAnyTestPointSelectedValid(function(t){return!n._isThereAnyTestPointInState(t,st.TestPointState_Paused)})},t.prototype._canResetTestPoints=function(){var n=this;return this._isAnyTestPointSelectedValid(function(t){return n._isThereAnyTestPointNotInState(t,st.TestPointState_Ready)})},t.prototype._isThereAnyTestPointNotInState=function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].outcome!==t)return!0;return!1},t.prototype._isThereAnyTestPointInState=function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].outcome===t)return!0;return!1},t.prototype._canSaveTests=function(){var n=this._testPointList.getDirtyTests(),t=n&&n.length>0;return!this._testPointList||this._testPointList._dataSource.length===0&&!t?!1:t},t.prototype._areTestCasesDirty=function(n){for(var i=this._testPointList.getDirtyTests(),r=i?i.length:0,t=0;t<r;t++)if(n.indexOf(i[t].id)!==-1)return!0;return!1},t.prototype._isAnyTestPointSelectedValid=function(n){if(!this._testPointList||this._testPointList._dataSource.length===0)return!1;var t;return t=this._testPointList.getSelectedTestPoints(),t&&t.length>0?n?n(t):!0:!1},t.prototype._isAnyTestPointPresent=function(){return this._testPointList&&this._testPointList._dataSource.length>0},t.prototype._updateTestPointsToolbarCommandStates=function(){this._testPointsToolbar.updateCommandStates([{id:this._testPointToolbarItemIds.newTestCaseDropDown,disabled:!this._canCreateTestCase(),hidden:!this._canShowAddAndRemoveTestCase()},{id:this._testPointToolbarItemIds.newTestCase,disabled:!this._canCreateTestCase(),hidden:!this._canShowAddAndRemoveTestCase()},{id:this._testPointToolbarItemIds.newTestCaseWithGrid,disabled:!this._canCreateTestCase(),hidden:!this._canShowAddAndRemoveTestCase()},{id:this._testPointToolbarItemIds.editQuery,hidden:this._canShowAddAndRemoveTestCase()},{id:this._testPointToolbarItemIds.addTestCases,disabled:!this._canCreateTestCase(),hidden:!this._canShowAddAndRemoveTestCase()},{id:this._testPointToolbarItemIds.removeTestCase,disabled:!this._canRemoveTestCase(),hidden:!this._canShowAddAndRemoveTestCase()},{id:this._testPointToolbarItemIds.refreshTestPoints,disabled:!this._canRefreshTestPointList(),hidden:!1},{id:this._testPointToolbarItemIds.openTestCase,disabled:!this._canOpenTestCase(),hidden:!1},{id:this._testPointToolbarItemIds.runTestDropMenu,disabled:!this._canRunTests(),hidden:!1},{id:this._testPointToolbarItemIds.runTestPoints,disabled:!this._canRunTests(),hidden:!1},{id:this._testPointToolbarItemIds.runTestPointsUsingClient,disabled:!this._canRunTests(),hidden:!1},{id:this._testPointToolbarItemIds.runTestPointsWithOptions,disabled:!this._canRunTests(),hidden:!1},{id:this._testPointToolbarItemIds.blockTest,disabled:!this._isAnyTestPointSelectedValid(),hidden:!1},{id:this._testPointToolbarItemIds.resetTest,disabled:!this._canResetTestPoints(),hidden:!1},{id:this._testPointToolbarItemIds.passTest,disabled:!this._canSetOutcome(),hidden:!1},{id:this._testPointToolbarItemIds.failTest,disabled:!this._canSetOutcome(),hidden:!1},{id:this._testPointToolbarItemIds.saveTests,disabled:!this._canSaveTests(),hidden:!1},{id:this._testPointToolbarItemIds.notApplicableTest,disabled:!this._canSetOutcome(),hidden:!1},{id:this._testPointToolbarItemIds.resumeRun,disabled:!this._canResumeRun(),hidden:!1},{id:this._testPointToolbarItemIds.columnOptions,disabled:!this._isAnySuiteSelected(),hidden:!1},{id:this._testPointToolbarItemIds.toggleTestCaseDetailsPane,toggled:this._isTestCaseDetailsPaneOn()},{id:this._testPointToolbarItemIds.toggleFilter,toggled:this._tagFilterProvider&&this._tagFilterProvider.isActive()}]);this._testPointsToolbar.updateCommandStates([{id:this._testPointToolbarItemIds.orderTests,disabled:this._showTestsFromChild||!this._isAnyTestPointPresent(),hidden:!1}])},t.prototype._isTestNotApplicable=function(){return this._testPointList.getSelectedTestPoints().length>0},t.prototype._updateTesterFilterValues=function(n){var f=this,e=this._getSelectedValueInFilter(this._testerFilter),t=[],i=new s.Dictionary,r;$.each(n,function(n,u){i.containsKey(u.assignedTo)||(i.add(u.assignedTo,u.tester),t.push(u.tester),r=ci.findIndex(f._testersInPlan,function(n){return vi.ignoreCaseComparer(n.id,u.assignedTo)===0}),r>=0&&(f._testersInPlan[r].filterValue=u.tester))});$.each(this._testersInPlan,function(n,r){i.containsKey(r.id)||(r.filterValue||(r.filterValue=a.IdentityHelper.getUniquefiedIdentityName(r)),t.push(r.filterValue))});t=er.getUniqueFilterValues([],"tester",e,t);$.each(t,function(n,t){if(t&&t.text){var i=a.IdentityHelper.parseUniquefiedIdentityName(t.text),r=function(){return u.identityImageElementByIdentifier(i,null,t.title,i.displayName)};t.id=t.text;t.text=i.displayName;t.icon=i.uniqueName?r:null}});this._testerFilter.updateItems(t,{showItemIcons:!0})},t.prototype._updateConfigurationFilterValues=function(n){var u=this,i=this._getSelectedValueInFilter(this._configurationFilter),r=[],f=[],e,t,o;for(r.push({text:er.ALL_FILTER,value:er.ALL_FILTER,selected:!i||i===er.ALL_FILTER,title:er.ALL_FILTER}),$.each(n,function(n,t){f.indexOf(t.name)===-1&&(f.push(t.name),e=ci.findIndex(u._configurationsInPlan,function(n){return n.id===t.id}),e<0&&u._configurationsInPlan.push({id:t.id,name:t.name,variables:null}))}),this._configurationsInPlan=this._configurationsInPlan.sort(function(n,t){return vi.localeIgnoreCaseComparer(n.name,t.name)}),t=0,o=this._configurationsInPlan.length;t<o;t++)r.push({text:this._configurationsInPlan[t].name,value:this._configurationsInPlan[t].name,selected:i&&i===this._configurationsInPlan[t].name?!0:!1,title:this._configurationsInPlan[t].name});this._configurationFilter.updateItems(r)},t.prototype._onOpenTestPointDetail=function(){this._testPointList.openSelectedTestCase()},t.prototype._removeSelectedTestCases=function(n){var t=this;if(this._showTestsFromChild){alert(st.CannotRemoveTestCases);return}n&&n.length!==0&&(fr.trackAction("DeleteTest","/SuiteManagement"),vt.removeSelectedTestCases(lr.getTestCaseIdsFromTestPoints(n),this._testPlanManager,this._testSuitesTree.getSelectedSuite(),function(n){n&&t._testSuitesTree.updateSuitesRevisionAndPointCount([n]);t._refreshAndPopulatetestPointList(t._currentPlan.plan.id,t._currentPlan.selectedSuiteId,!0)},function(n){t.showError(wi.getErrorMessage(n))}),rr.publishEvent(rr.featureRemoveTestsFromSuites,rr.numberOfPointsSelected,n.length))},t.prototype._refreshSelectedSuite=function(){this._refresh()},t.prototype._refreshTestPoints=function(n){var i,r,u=[],t=0;if(u=lr.getTestCaseIdsFromTestPoints(n),i=this._getTestPointsForTestCases(u,this._cachedTestPointData),r=this._getTestPointIds(i),this._savedColumns)for(t=0;t<this._savedColumns.length;t++)this._savedColumns[t].width=Math.round(this._savedColumns[t].width);this._fetchTestPoints(r,!0,i)},t.prototype._fetchTestPoints=function(n,t,i,r){var u=this,f;n&&n.length>0&&(f=this._testPointList.getLastRowDataIndex(),this._testPlanManager.fetchTestPoints(this._currentPlan.plan.id,n,this._savedColumns,function(n){var s=[];u._increaseSeqNumberToRemoveZeroIndex(n);var h=u._saveSelection(u._testPointList,s),e=u._testSuitesTree.getSelectedSuite(),o=!1;u._parseTestCaseFieldsInTestPoints(n);t?(u._updateTestPointInfoList(i,n),u._updateTestPointsData(i,u._cachedTestPointData),o=!0):(u._cachedTestPointData=u._cachedTestPointData.concat(n),o=!1);u._modifySequenceNumber(u._cachedTestPointData);u._updateTesterFilterValues(u._cachedTestPointData);var c=u._filter(u._cachedTestPointData,undefined,o),l=f-c,a=t?e.pointCount-l:e.pointCount;u._updatePointCountForSuite(e,a);u._testSuitesTree.updateSelectedSuite();u._enableFilters(!0);u._viewPaneList.refreshList(u._getSelectedTestCaseId(),u._paneFilter.getSelectedItem().value,u._workItemPaneMode,!0);r&&r();h&&u._restoreSelection(u._testPointList,s)},function(n){u.showError(wi.getErrorMessage(n))}))},t.prototype._increaseSeqNumberToRemoveZeroIndex=function(n){for(var t=0,i=n.length;t<i;t++)n[t].sequenceNumber=n[t].sequenceNumber+1},t.prototype._populateAndGetTestRunDetails=function(n,t){var i=this._currentPlan.plan,r=this._testSuitesTree.getSelectedSuite(),f=n?n:i.buildUri,u={owner:this._options.tfsContext.currentIdentity.id,title:r?vi.format(st.BulkMarkRunTitle,r.title):"",iteration:i.iteration,buildUri:f,state:e.TestRunState.InProgress,isAutomated:!1,testPlanId:i.id};return t>0&&(u.testSettingsId=t),u},t.prototype._populateAndGetTestSession=function(n,t){var r=this._currentPlan.plan,f=this._testSuitesTree.getSelectedSuite(),u=r.areaPath,i={area:{name:u,id:"",url:""},comment:null,endDate:null,id:0,lastUpdatedBy:null,lastUpdatedDate:null,owner:null,project:null,propertyBag:null,revision:0,source:nr.TestSessionSource.XTDesktop2,startDate:null,state:nr.TestSessionState.NotStarted,title:"Session - "+ai.localeFormat(new Date,tr.getDateTimeFormat().FullDateTimePattern,!0),url:null};return i.propertyBag={bag:{}},i.propertyBag.bag[e.TestSessionPropertyBagKeys.testSettingsId]=t.toString(),i.propertyBag.bag[e.TestSessionPropertyBagKeys.requirementId]=n.toString(),i.propertyBag.bag[e.TestSessionPropertyBagKeys.testPlanId]=r.id,i},t.prototype._setOutcome=function(n,t){var i=this,u=this._currentPlan.plan,f=this._testSuitesTree.getSelectedSuite(),r=this._getTestPointIdsFromTestPoints(n);fr.trackAction("SetOutcome","/Execution",{outcome:t,testPointCount:r.length});this._enableFilters(!1);this._testPlanManager.bulkMarkTestPoints(u.id,f.id,r,t,function(){n.length>0&&i._refreshTestPoints(n);bt.logTracePoint("TestHub.SetOutCome.Complete")},function(n){i.handleTestPointError(st.BulkMarkError,n)});rr.publishEvents(rr.featureBulkMarkOutcome,{Outcome:t,NumberOfPoints:n.length})},t.prototype._resetTestPoints=function(n){var i=this,t=this._filterOutActiveTestPoints(n),r;fr.trackAction("ResetTests","/Execution");t.length>0&&(r=this._getTestPointIdsFromTestPoints(t),this._testPlanManager.resetTestPoints(this._currentPlan.plan.id,r,function(){i._refreshTestPoints(t)},function(n){i.handleTestPointError(st.ResetTestError,n)}),rr.publishEvents(rr.featureBulkResetPointsToActive,{NumberOfPoints:n.length}))},t.prototype._filterOutActiveTestPoints=function(n){for(var i=[],t=0,r=n.length,t=0;t<r;t++)n[t].outcome!==st.TestPointState_Ready&&i.push(n[t]);return i},t.prototype._saveTests=function(n){var t=this;this._saving||n.length>0&&(this._saving=!0,hr.getWorkItemStore().beginSaveWorkItemsBatch(n,function(){t._saving=!1},function(i){t._saving=!1;t._handleBulkSaveTestCaseError(i,n)}))},t.prototype._handleBulkSaveTestCaseError=function(n,t){if(n&&n.name===tt.Exceptions.WorkItemBulkSaveException){var i=vt.getBulkSaveErrorMessageHtml(n,t.length);kt.MessageDialog.showMessageDialog($(i),{title:ht.TriageViewSaveErrorTitle,buttons:[kt.MessageDialog.buttons.ok]})}else this.showError(wi.getErrorMessage(n))},t.prototype._getTestPointIdsFromTestPoints=function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t].testPointId);return i},t.prototype._canResumeRun=function(){return this._isAnyTestPointSelectedValid(function(n){return n.length===1&&n[0].state===e.TestPointState.InProgress&&(n[0].lastResultState===e.TestResultState.Paused||n[0].mostRecentResultOutcome===e.TestOutcome.Paused)})},t.prototype._resumeRun=function(){var n=this,t=this._testPointList.getSelectedTestPoints(),i=new vt.WebRunner;fr.trackAction("ResumeRun","/Execution");i._checkForExistingMtrWindow()&&vt.getTestRunManager().getTestRun(t[0].mostRecentRunId,t[0],t,function(t){t=vt.TestCaseResultUtils.getIterationAndStepResultAttachments(t);t.bugCategoryName=n._bugCategoryTypeName;i._openRunInNewWindow(t,n._testSuitesTree.getSelectedSuite())},function(t){n.showError(vi.format("{0} {1}",st.TestRunnerStartResumeError,wi.getErrorMessage(t)))})},t.prototype._runTestPoints=function(n,t){var i=this,r=new vt.WebRunner,u,f;fr.trackAction("RunTestUsingWeb","/Execution");r._checkForExistingMtrWindow()&&(u=yi.BrowserCheckUtils.isChrome(),f=u?st.ChromeBrowserSettingsName:st.NonChromeBrowserSettingsName,oi.getScenarioManager().startScenario(vt.TcmPerfScenarios.Area,vt.TcmPerfScenarios.LoadManualTests),this._createTestSettings(f,[],function(u){i._createTestRun(n,t,u,function(n){n.bugCategoryName=i._bugCategoryTypeName;r._openRunInNewWindow(n,i._testSuitesTree.getSelectedSuite())},function(n){i.handleTestPointError(st.TestRunError,n)})}),rr.publishEvents(rr.featureRunTest,{}))},t.prototype._createTestRun=function(n,t,i,r,u){if(this._validateSelectedTestPoints(n)){var f=this._populateAndGetTestRunDetails(t,i);vt.getTestRunManager().create(f,n,r,u)}},t.prototype._createXTClientSession=function(n,t,i,r){var u=this._populateAndGetTestSession(n,t);vt.getTestSessionManager().createTestSession(u).then(function(n){i(n)},function(n){r(n)})},t.prototype._runTestPointsUsingClient=function(n){var r=[],i,t,u;if(this._validateSelectedTestPoints(n,!0)){for(fr.trackAction("RunTestUsingClient","/Execution"),t=0,u=n.length;t<u;t++)r.push(n[t].testPointId);i=ct.UriHelper.getClientMTRUri(r,this._currentPlan.plan.id);pi.isSafeProtocol(i)&&dt.getService().performAction(dt.CommonActions.ACTION_WINDOW_OPEN,{url:i,target:"_self"});rr.publishEvents(rr.featureRunTestUsingClient,{})}},t.prototype._runXT=function(n,t){var i=this,r;fr.trackAction("RunTestUsingClient","/Execution");r=t&&t.length>0?t.join(st.CommaSeparator+" "):st.EmptyDataCollectorsSettings;this._createTestSettings(r,t,function(t){i._createXTClientSession(n,t,function(n){var i=n.id,t=ct.UriHelper.getNewXTClientUri(i);pi.isSafeProtocol(t)&&dt.getService().performAction(dt.CommonActions.ACTION_WINDOW_OPEN,{url:t,target:"_self"})},function(n){i.showError(wi.getErrorMessage(n))})});rr.publishEvents(rr.featureExploreUsingXTClient,{})},t.prototype._runTestPointsUsingNewClient=function(n,t,i){var r=this,u;fr.trackAction("RunTestUsingClient","/Execution");u=i&&i.length>0?i.join():st.EmptyDataCollectorsSettings;this._createTestSettings(u,i,function(i){r._createTestRun(n,t,i,function(n){var i=n.testRun.testRunId,t=ct.UriHelper.getNewClientMTRUri(i);pi.isSafeProtocol(t)&&dt.getService().performAction(dt.CommonActions.ACTION_WINDOW_OPEN,{url:t,target:"_self"})},function(n){r.handleTestPointError(st.TestRunError,n)})});rr.publishEvents(rr.featureRunTestUsingClient,{})},t.prototype._createTestSettings=function(n,t,i){var r=this;wi.using(["TestManagement/Scripts/TFS.TestManagement.TestSettingsHelper"],function(u){var f=new u.TestSettingsManager;f.createTestSettings(r._currentPlan.plan.areaPath,t,n).then(function(n){i(n)},function(n){r.handleTestPointError(st.TestRunError,n)})})},t.prototype._runTestPointsWithOptions=function(n,t,i){var r=this;t===void 0&&(t=-1);i===void 0&&(i=!1);wi.using(["TestManagement/Scripts/TFS.TestManagement.RunTestsWithOptions"],function(u){r._runWithOptionsDialog=kt.show(u.RunWithOptionsDialog,{requirementId:t,showXTRunner:i,testPoints:n,oldmtrCallBack:ur(r,r._launchOldMtrWithOptions),newmtrCallBack:ur(r,r._launchNewMtrWithOptions),webRunnerCallBack:ur(r,r._launchWebRunnerWithOptions),xtRunnerCallBack:ur(r,r._launchXTRunnerWithOptions)})})},t.prototype._launchXTRunnerWithOptions=function(n){var t=n.getRequirementId(),i=n.getEnabledDataCollectors();this._runXT(t,i)},t.prototype._launchWebRunnerWithOptions=function(n){var t=n.getBuildUri(),i=n.testPoints;this._runTestPoints(i,t)},t.prototype._launchOldMtrWithOptions=function(n){var t=n.testPoints;this._runTestPointsUsingClient(t)},t.prototype._launchNewMtrWithOptions=function(n){var t=n.getBuildUri(),i=n.testPoints,r=n.getEnabledDataCollectors();this._runTestPointsUsingNewClient(i,t,r)},t.prototype._validateSelectedTestPoints=function(n,t){if(n.length>100)return confirm(st.TestCasesOverLoadError),!1;if(this._areThereAutomatedTests(n)){if(t)return confirm(st.RunContainsAutomatedPointsError),!1;if(!confirm(st.RunContainsAutomatedPointsWarning))return!1}return!0},t.prototype._getTestPointsForTestCases=function(n,t){for(var f={},i=0,r,u,i=0;i<t.length;i++)for(r=t[i],u=0;u<n.length;u++)r.testCaseId===n[u]&&(f[r.testPointId]={testPoint:r,rowIndex:i});return f},t.prototype._updateTestPointInfoList=function(n,t){for(var i=0;i<t.length;i++)n[t[i].testPointId].testPoint=t[i]},t.prototype._updateTestPointsData=function(n,t){var r;for(var i in n)n.hasOwnProperty(i)&&(r=n[i].rowIndex,t[r]=n[i].testPoint)},t.prototype._getTestPointIds=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(i);return t},t.prototype._refresh=function(n){this._currentPlan&&this._currentPlan.plan&&this._refreshAndPopulatetestPointList(this._currentPlan.plan.id,this._currentPlan.selectedSuiteId,!0,null,vt.maxPageSize,n);this._viewPaneList.refreshList(this._getSelectedTestCaseId(),this._paneFilter.getSelectedItem().value,this._workItemPaneMode,!0)},t.prototype._createNewTestCase=function(){var n=this;wi.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls"],function(t){var i=n,s=h.TfsContext.getDefault(),r=n._getNewTestCaseOptions(),u=hr.getWorkItemStore(),f,o;fr.trackAction("NewTestCase","/SuiteManagement");dr.getDefaultWorkItemTypeInfoForTestCaseCategory(function(n){var l=this,s=it.WorkItemManager.get(u).createWorkItem(n),c=i._testSuitesTree.getSelectedSuite(),h;c&&c.type===e.TestSuiteType.RequirementTestSuite?it.WorkItemManager.get(u).beginGetWorkItem(c.requirementId,function(n){hr.setAreaAndIterationPaths(s,n.getFieldValue(w.CoreField.AreaPath),n.getFieldValue(w.CoreField.IterationPath))}):(h=i._currentPlan.plan,hr.setAreaAndIterationPaths(s,h.areaPath,h.iteration));i._currentTeamFieldInfo?i._currentTeamFieldInfo.isConfigured?i._testCaseHasTeamField===undefined?i._fetchAndUpdateTeamFieldInfoForTestCase(f,o,function(n,u){i._testCaseHasTeamField&&(s.setFieldValue(n,u),t.WorkItemFormDialog.showWorkItem(s,r))},function(){t.WorkItemFormDialog.showWorkItem(s,r)}):(i._testCaseHasTeamField&&s.setFieldValue(i._currentTeamFieldInfo.refName,i._currentTeamFieldInfo.value),t.WorkItemFormDialog.showWorkItem(s,r)):t.WorkItemFormDialog.showWorkItem(s,r):i._testPlanManager.getTeamFieldForTestPlans([i._currentPlan.plan.id],function(n){i._fetchAndUpdateTeamFieldInfoForPlan(n,i._currentPlan.plan.id,function(n,u){i._testCaseHasTeamField&&(s.setFieldValue(n,u),t.WorkItemFormDialog.showWorkItem(s,r))},function(){t.WorkItemFormDialog.showWorkItem(s,r)})},function(){l._currentTeamFieldInfo=null;t.WorkItemFormDialog.showWorkItem(s,r)})})})},t.prototype._createNewTestCaseWithGrid=function(){var n=this;fr.trackAction("NewTestCaseWithGrid","/SuiteManagement");this._beginTryShowEditGrid([],!1,function(){n._setViewFilter("grid");rr.publishEvent(rr.featureCreateTestCase,rr.createTestCaseUsinfeatureExploreUsingClientgGrid,1)},function(){n._setViewFilter("list")})},t.prototype._createNewSharedStep=function(){var n=this;wi.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls"],function(t){var r=h.TfsContext.getDefault(),i=hr.getWorkItemStore();fr.trackAction("CreateSharedStep","/SuiteManagement");vt.SharedStepCreationHelper.getDefaultWorkItemTypeInfoForSharedStepCategory(function(r){var f=it.WorkItemManager.get(i).createWorkItem(r),u;u=n._currentPlan.plan;hr.setAreaAndIterationPaths(f,u.areaPath,u.iteration);t.WorkItemFormDialog.showWorkItem(f,{close:function(t){t.getUniqueId()>0&&(n._showSharedStepLink(t),rr.publishEvent(rr.featureSharedSteps,rr.addSharedSteps,1))}})})})},t.prototype._addtestCaseToCurrentSuite=function(n){this._addTestCasesToSelectedSuite([n.id])},t.prototype._getNewTestCaseOptions=function(){var n=this;return{save:function(t){n._newTestCaseAddedToSuite||(n._addtestCaseToCurrentSuite(t),n._newTestCaseAddedToSuite=!0)},close:function(){n._newTestCaseAddedToSuite=!1}}},t.prototype._createTestPointsToolbar=function(){this._$toolbar=this._element.find(".hub-pivot-toolbar");this._testPointsToolbar=wt.BaseControl.createIn(ui.MenuBar,this._$toolbar,{items:this._createTestPointsToolbarItems(),executeAction:ur(this,this._onTestPointsToolbarItemClick),cssClass:"testpoints-toolbar",contributionIds:["ms.vss-test-web.test-run-toolbar-menu"],contextInfo:{item:{getContributionContext:this.getContributionContext.bind(this)}}});this._updateTestPointsToolbarCommandStates()},t.prototype.getContributionContext=function(n){var r;if(n===void 0&&(n=!1),n&&this._testSuitesTree){for(var u=this._testSuitesTree.getSelectedSuite(),t=this._testSuitesTree.getSelectedNode(),i=t.plan;!i&&t.parent;)t=t.parent,i=t.plan;return{suite:u,plan:i}}return this._testPointList?(r=this._testPointList.getSelectedTestPoints(),r?r:[]):[]},t.prototype._createTagFilterBar=function(){var n=this;wi.using(["TestManagement/Scripts/TFS.TestManagement.TestViewFilterBar"],function(t){var i=n._element.find(".test-view-filter-bar");n._filterBar=wt.BaseControl.createIn(t.TestViewFilterBar,i);n._filterManager=n._filterBar.filterManager;n._tagFilterProvider=n._filterBar.tagFilterProvider;n._testPointList.bindFilterManager(n._filterManager);n._filterManager.attachEvent(nt.FilterManager.EVENT_FILTER_CHANGED,function(){n._updateTestPointsToolbarCommandStates()});n._filterManager.attachEvent(nt.FilterManager.EVENT_FILTER_CLEARED,function(){n._updateTestPointsToolbarCommandStates()})})},t.prototype._createTestPlanAndSuitesMenubarItems=function(){var n=[];return cr.AreAdvancedTestManagementFeaturesEnabled()&&(n.push({id:"create-new-suite-plan",text:st.NewTestCaseCommandText,title:st.NewTestCaseCommandText,showText:!1,icon:"bowtie-icon bowtie-math-plus-heavy bowtie-icon-small",childItems:this._createNewPlanSuiteSubMenuItems()}),n.push({separator:!0})),n.push({id:this._testPlanAndSuitesCommandIds.showTestsFromChildSuites,title:st.ShowTestsRecursive,showText:!1,icon:"bowtie-icon bowtie-row-child"}),n.push({id:this._testPlanAndSuitesCommandIds.expand,title:st.ExpandSuites,showText:!1,icon:"bowtie-icon bowtie-toggle-expand-all"}),n.push({id:this._testPlanAndSuitesCommandIds.collapse,title:st.CollapseSuites,showText:!1,icon:"bowtie-icon bowtie-toggle-collapse"}),cr.AreAdvancedTestManagementFeaturesEnabled()&&(n.push({id:this._testPlanAndSuitesCommandIds.openInClient,title:st.OpenInClientTooltip,showText:!1,icon:"bowtie-icon bowtie-brand-mtm bowtie-icon-large"}),n.push({id:this._testPlanAndSuitesCommandIds.exportHtml,title:st.ExportHtmlTooltip,showText:!1,icon:"bowtie-icon bowtie-print",showIcon:!0}),n.push({id:this._testPlanAndSuitesCommandIds.openTestPlanOrSelectedSuite,title:st.OpenTestPlan,showText:!1,icon:"bowtie-icon bowtie-arrow-open"})),n},t.prototype._createNewPlanSuiteSubMenuItems=function(){var n=[];return n.push({id:this._testPlanAndSuitesCommandIds.newTestPlan,text:st.CreateTestPlanMenuItem,title:st.CreateTestPlanDialogTitle,showText:!0,showIcon:!0,icon:"bowtie-icon bowtie-folder-plan"}),n.push({separator:!0}),n.push({id:ar.newStaticSuite,text:st.StaticSuiteTitle,title:st.CreateStaticSuite,showText:!0,icon:"bowtie-icon bowtie-folder",showIcon:!0}),n.push({id:ar.newRequirementSuite,text:st.RequirementSuite,title:st.CreateRequirementSuite,showText:!0,icon:"bowtie-icon bowtie-tfvc-change-list",showIcon:!0}),n.push({id:ar.newQueryBasedSuite,text:st.QueryBasedSuiteTitle,title:st.CreateQueryBasedSuiteTitle,showText:!0,icon:"bowtie-icon bowtie-folder-query",showIcon:!0}),n.push({separator:!0}),n.push({id:this._testPlanAndSuitesCommandIds.newSharedStep,text:st.NewSharedStep,title:st.CreateSharedStep,showText:!0,showIcon:!0,icon:"bowtie-icon bowtie-step-shared"}),n},t.prototype._onPlansAndSuitesMenubarItemClick=function(n){var i=this,t=n.get_commandName(),r=this._testSuitesTree.getSelectedSuite();if(t===this._testPlanAndSuitesCommandIds.expand)this._testSuitesTree.expandAll(),rr.publishEvent(rr.featureTestSuite,rr.suiteActions,rr.expand);else if(t===this._testPlanAndSuitesCommandIds.collapse)this._testSuitesTree.collapseAll(),rr.publishEvent(rr.featureTestSuite,rr.suiteActions,rr.collapse);else if(t===this._testPlanAndSuitesCommandIds.newSharedStep)this._createNewSharedStep();else if(t===this._testPlanAndSuitesCommandIds.openInClient)this._openTestPlanInClient();else if(t===this._testPlanAndSuitesCommandIds.exportHtml)wi.using(["TestManagement/Scripts/TFS.TestManagement.HtmlDocumentGenerator"],function(n){var t=i._testSuitesTree.checkIfThresholdExceededForExportFeature();i._exportHtmlWindow=new n.HtmlDocumentGenerator({columnOptions:i._savedColumns,testPointPaneColumnOptions:i._savedTestPointPaneColumns,plan:i._currentPlan,suiteHierarchy:i._testSuitesTree.rootNode});i._exportHtmlWindow.launchExportHtmlDialog(r,t)});else if(t===this._testPlanAndSuitesCommandIds.openTestPlanOrSelectedSuite)r.parentSuiteId>0?this._openTestSuite(r):this._openTestPlan();else if(t===this._testPlanAndSuitesCommandIds.showTestsFromChildSuites)this._toggleShowTestsFromChildSuites();else{if(this._shouldCancelPlanOrSuiteSelectionChange())return;t===this._testPlanAndSuitesCommandIds.newTestPlan?this._onClickCreateNewTestPlan():(t===ar.newStaticSuite||t===ar.newRequirementSuite||t===ar.newQueryBasedSuite)&&this._createNewSuite(r,t)}},t.prototype._toggleShowTestsFromChildSuites=function(n){this._showTestsFromChild=this._showTestsFromChild?!1:!0;this._refreshSuitePointCounts(null);this._refreshAndPopulatetestPointList(this._currentPlan.plan.id,this._currentPlan.selectedSuiteId,!0,!1,0,n);this._testPlanAndSuitesMenubar.updateCommandStates([{id:this._testPlanAndSuitesCommandIds.showTestsFromChildSuites,toggled:this._showTestsFromChild}])},t.prototype._shouldCancelPlanOrSuiteSelectionChange=function(){return this._inEditMode?!this._bulkEditTestsViewModel.cleanup():this._orderTestsControl&&this._orderTestsControl.isDirty()?!this._orderTestsControl.continueAndLoseOrderTestsGridChange():this._checkAndNotifyUserAboutDirtyTests()},t.prototype._createTestPointsToolbarItems=function(){var n=[];return cr.AreAdvancedTestManagementFeaturesEnabled()?(n.push({id:this._testPointToolbarItemIds.toggleTestCaseDetailsPane,text:st.TestCaseDetailsPaneToggleButtonTitle,title:st.TestDetailPaneToggleButtonTooltip,showText:!1,icon:"bowtie-icon bowtie-details-pane",cssClass:"right-align",groupId:"actions"}),n.push({id:this._testPointToolbarItemIds.toggleFilter,text:bi.Filter,title:bi.FilterToolTip,showText:!1,icon:"bowtie-icon bowtie-search-filter",cssClass:"right-align toggle-filter-bar",groupId:"actions"}),n.push({id:this._testPointToolbarItemIds.editQuery,text:st.EditQuery,title:st.EditQuery,showText:!0,icon:"icon-tfs-query-edit",groupId:"actions"}),n.push({id:this._testPointToolbarItemIds.newTestCaseDropDown,text:st.NewText,title:st.CreateTestCases,showText:!0,icon:"bowtie-icon bowtie-math-plus-heavy bowtie-icon-small",groupId:"actions",childItems:this._createNewTestCaseSubMenuItems()}),n.push({id:this._testPointToolbarItemIds.addTestCases,text:st.Add,title:st.AddExistingTestCases,showText:!0,noIcon:!0,groupId:"actions"}),n.push({id:this._testPointToolbarItemIds.removeTestCase,title:st.RemoveTestCaseText,showText:!1,icon:"bowtie-icon bowtie-edit-delete",groupId:"actions"}),n.push({id:this._testPointToolbarItemIds.saveTests,text:st.SaveTestsText,title:st.SaveTestsText,showText:!1,icon:"bowtie-icon bowtie-save-all",groupId:"actions"}),n.push({id:this._testPointToolbarItemIds.refreshTestPoints,text:st.Refresh,title:st.RefreshToolTip,showText:!1,icon:"bowtie-icon bowtie-navigate-refresh",groupId:"actions"}),n.push({id:this._testPointToolbarItemIds.openTestCase,text:st.OpenTestCaseCommandText,title:st.OpenTestCaseToolTip,showText:!1,icon:"bowtie-icon bowtie-arrow-open",groupId:"actions"})):(n.push({id:this._testPointToolbarItemIds.refreshTestPoints,text:st.Refresh,title:st.RefreshToolTip,showText:!1,icon:"bowtie-icon bowtie-navigate-refresh",groupId:"actions"}),n.push({id:this._testPointToolbarItemIds.toggleFilter,text:bi.Filter,title:bi.FilterToolTip,showText:!1,icon:"bowtie-icon bowtie-search-filter",cssClass:"right-align toggle-filter-bar",groupId:"actions"})),n.push({id:this._testPointToolbarItemIds.runTestDropMenu,text:st.RunText,title:vi.format(st.TooltipTitleShortcutFormat,st.Run,st.RunShortcut),showText:!0,icon:"bowtie-icon bowtie-media-play-fill",groupId:"execute",childItems:this._createRunTestsSubMenuItems()}),n.push({id:this._testPointToolbarItemIds.resumeRun,title:st.ResumeTooltip,text:st.ResumeTestText,showText:!1,icon:"bowtie-icon bowtie-play-resume-fill",groupId:"execute"}),n.push({id:this._testPointToolbarItemIds.resetTest,text:st.ResetTestText,title:st.ResetTestText,showText:!1,icon:"bowtie-icon bowtie-edit-redo",groupId:"analyze"}),n.push({id:this._testPointToolbarItemIds.passTest,text:st.PassTestText,title:st.PassTestText,showText:!1,icon:"bowtie-icon bowtie-status-success",groupId:"analyze"}),n.push({id:this._testPointToolbarItemIds.failTest,text:st.FailTestText,title:st.FailTestText,showText:!1,icon:"bowtie-icon bowtie-status-failure",groupId:"analyze"}),n.push({id:this._testPointToolbarItemIds.blockTest,text:st.BlockTestText,title:st.BlockTestText,showText:!1,icon:"bowtie-icon bowtie-math-minus-circle",groupId:"analyze"}),n.push({id:this._testPointToolbarItemIds.notApplicableTest,text:st.TestOutcome_NotApplicable,title:st.TestOutcome_NotApplicable,showText:!1,icon:"bowtie-icon bowtie-status-no-fill bowtie-no-fill-not-applicable",groupId:"analyze"}),cr.AreAdvancedTestManagementFeaturesEnabled()&&n.push({id:this._testPointToolbarItemIds.orderTests,title:st.OrderTests,text:st.OrderTests,showText:!0,icon:"bowtie-icon bowtie-format-list-ordered",groupId:"orderTests"}),n.push({id:this._testPointToolbarItemIds.columnOptions,title:st.Columnoptions,text:st.Columnoptions,noIcon:!0,groupId:"options"}),n},t.prototype._createRunTestsSubMenuItems=function(){var n=[];return n.push({id:this._testPointToolbarItemIds.runTestPoints,text:st.Run,title:vi.format(st.TooltipTitleShortcutFormat,st.Run,st.RunShortcut),showText:!0,icon:"bowtie-icon bowtie-media-play-fill"}),cr.AreAdvancedTestManagementFeaturesEnabled()&&n.push({id:this._testPointToolbarItemIds.runTestPointsWithOptions,text:st.RunTestWithOptionsText,title:st.RunTestWithOptionsTooltip,showText:!0,icon:"bowtie-icon bowtie-media-play-fill"}),n},t.prototype._createNewTestCaseSubMenuItems=function(){var n=[];return n.push({id:this._testPointToolbarItemIds.newTestCase,text:st.NewTestCaseText,title:vi.format(st.TooltipTitleShortcutFormat,st.NewTestCaseCommandTooltip,st.NewTestCaseCommandShortcut),showText:!0,icon:"bowtie-icon bowtie-math-plus-heavy bowtie-icon-small"}),n.push({id:this._testPointToolbarItemIds.newTestCaseWithGrid,text:st.NewUsingGrid,title:st.CreateTestCasesUsingGrid,showText:!0,icon:"bowtie-icon bowtie-math-plus-heavy bowtie-icon-small"}),n},t.prototype._onTestPointsToolbarItemClick=function(n){var t=n.get_commandName();bt.logTracePoint("TestHub.testPointsToolbarItemClick.Start");this.rightPaneOptions(t)},t.prototype._toggleTestCaseDetailsPane=function(){var n=this;(!this._$farRightPaneHubPivot||this._$farRightPaneHubPivot.length<1)&&(this._$farRightPaneHubPivot=this._element.find(".far-right-pane-pivot"));this._isTestCaseDetailsPaneOn()?(this._showWorkItemPane("off",this._paneFilter.getSelectedItem().value),this._savedPanePosition=this._workItemPaneMode):this._previousPaneOnPosition?this._showWorkItemPane(this._previousPaneOnPosition,this._paneFilter.getSelectedItem().value):this._webSettingsService.beginReadSetting("/PreviousPaneOnPosition",l.WebSettingsScope.User,function(t){n._previousPaneOnPosition=t&&t.value?t.value:"right";n._showWorkItemPane(n._previousPaneOnPosition,n._paneFilter.getSelectedItem().value)});this._updateTestPointsToolbarCommandStates()},t.prototype._isTestCaseDetailsPaneOn=function(){return this._workItemPaneMode&&this._workItemPaneMode!=="off"?!0:!1},t.prototype._addTestCases=function(){var n=this;if(this._showTestsFromChild){alert(st.CannotAddExistingTestCases);return}fr.trackAction("AddExistingTestCases","/SuiteManagement");wi.using(["TestManagement/Scripts/TFS.TestManagement.SelectWorkItemView"],function(t){kt.show(t.SelectWorkItemsDialog,{width:$(window).width()*.8,height:$(window).height()*.8,attachResize:!0,okText:st.AddTestCases,okCallback:function(t){n._addTestCasesToSelectedSuite(t);rr.publishEvent(rr.featureAddExistingTestCases,rr.numberOfTestCases,t.length)},title:st.AddTestCasesToSuite.toLocaleUpperCase(),workItemCategories:[ct.WorkItemCategories.TestCase],hideQueryType:!1,persistenceId:t.PersistenceIds.ADD_TEST_CASES_ID,supportWorkItemOpen:!0,areaPath:n._currentPlan.plan.areaPath})})},t.prototype._isSuiteDynamicType=function(){var n=this._testSuitesTree.getSelectedSuite();if(n&&n.type===e.TestSuiteType.DynamicTestSuite)return!0},t.prototype._addTestCasesToSelectedSuite=function(n){for(var i=this,f=lr.getTestCaseIdsFromTestPoints(this._cachedTestPointData),t=0,r=f.length,e={},u=[],t=0;t<r;t++)e[f[t]]=!0;for(t=0,r=n.length;t<r;t++)e[n[t]]||u.push(n[t]);u.length>0&&vt.TestSuiteUtils.beginAddTestCasesToSuite(u,this._currentPlan.plan.id,this._testSuitesTree.getSelectedSuite(),function(n){n&&i._testSuitesTree.updateSuitesRevisionAndPointCount([n]);i._refreshAndPopulatetestPointList(i._currentPlan.plan.id,i._currentPlan.selectedSuiteId,!0)},function(n){n.type&&n.type===ct.Exceptions.TestObjectNotFoundException?i.showError(vi.format(st.TestCannotBeAddedToSuite,i._currentPlan.selectedSuiteId)):i.showError(wi.getErrorMessage(n))})},t.prototype._launchColumnOptionsDialog=function(){var n=this;fr.trackAction("LaunchColumnOptions","/SuiteManagement");t.showColumnOptions({tfsContext:this._options.tfsContext,simpleMode:!0,allowSort:!1,displayColumns:this._getDisplayColumns(),getAvailableColumns:ur(this,this._getAvailableColumns),okCallback:function(t){n._saveColumns(t.display,ur(n,n._refresh))}})},t.showColumnOptions=function(n){wi.using(["TestManagement/Scripts/TFS.TestManagement.ColumnOptions"],function(t){kt.show(t.TestManagementColumnOptionsDialog,$.extend(n,{width:560,minHeight:300,height:350,simpleMode:!0,getAvailableColumns:n.getAvailableColumns,cssClass:"column-options-host simple",initialFocusSelector:"select",okCallback:n.okCallback,url:n.tfsContext.getActionUrl("columnOptions","wit",{area:"api",simpleMode:!0,includeLanguage:!0})}))})},t.prototype._getDisplayColumns=function(){var n=this,t=this._testPointList.getColumns();return $.map(t,function(t){if(!t.hidden&&!n._isFixedField(t))return t})},t.prototype._getAvailableColumns=function(n,t){var r,i,u=this;dr.getAllTestCaseCategoryWorkItemFields(function(t){r=lr.getRemovableTestPointFields();i=$.map(t,function(n){return n.fieldId=n.id,!u._isFixedField(n)&&!u._isHiddenField(n)?n:void 0});i=r.concat(i);n(i)},t)},t.prototype._saveColumns=function(n,t){var i=this;this._savedColumns=n;this._wereColumnsChanged=!0;this._testPointList.onColumnsChanged(this._savedColumns);t()},t.prototype._isFixedField=function(n){for(var i=lr.getFixedFields(),t=0;t<i.length;t++)if(n.fieldId===i[t].id)return!0;return!1},t.prototype._isHiddenField=function(n){var t,i=lr.hiddenRefNames.length;if(n.type===w.FieldType.Html)return!0;for(t=0;t<i;t++)if(n.referenceName===lr.hiddenRefNames[t])return!0;return!1},t.prototype._clearError=function(){var n=this._$errorDiv||this._element.find(".inline-error");n&&(n.remove(),this._$errorDiv=null);this._element.find(".hub-title, .right-hub-content").show()},t.prototype._showIterationDates=function(n){var i=this,r=st.NoIterationDatesSet,t;this._createIterationDatesDOMElements();n.getStartDate()&&n.getEndDate()&&(r=vi.format(st.IterationDurationFormat,ai.localeFormat(n.getStartDate(),"M",!0),ai.localeFormat(n.getEndDate(),"M",!0)),t=this._testPlanCreationHelper.getIterationId(this._currentPlan.plan.iteration),this._teamHelper.beginGetTeamCapacity(t,function(){i._teamHelper.getAndshowRemainingWorkDaysInIteration(t,n.getStartDate(),n.getEndDate(),i._$iterationDatesSpan,i._teamHelper.todayIsInCurrentIteration(t,n.getStartDate(),n.getEndDate()))}));this._populateIterationDatesSpan(r)},t.prototype._clearIterationDatesSpan=function(){var n;this._$iterationDatesSpan&&(this._$iterationDatesSpan.removeClass("hub-title-right"),n=this._$iterationDatesSpan.find(".test-plan-iteration-dates"),n.removeAttr("title"),n.text(""),n=this._$iterationDatesSpan.find(".test-plan-iteration-remaining-days"),n.removeAttr("title"),n.text(""))},t.prototype._createIterationDatesDOMElements=function(){this._$iterationDatesSpan||(this._$iterationDatesSpan=$("<span class='test-plan-iteration-dates-info' />").append("<div class='test-plan-iteration-dates' />").append("<div class='test-plan-iteration-remaining-days' />").insertBefore(".hub-title"))},t.prototype._populateIterationDatesSpan=function(n){var t;this._$iterationDatesSpan&&(this._$iterationDatesSpan.addClass("hub-title-right"),t=this._$iterationDatesSpan.find(".test-plan-iteration-dates"),t.attr("title",n).text(n))},t.prototype.showError=function(n){this._$errorDiv||(this._$errorDiv=$("<div class='inline-error' />").text(n).insertBefore(this._element.find(".hub-title")[0]),this._element.find(".hub-title, .right-hub-content").hide());this._$requirementToolBar&&this._$requirementToolBar.hide()},t.prototype._storeSuites=function(n){var t=this;this._currentPlan.suites={};$.each(n,function(n,i){t._currentPlan.suites[i.id]||(i.totalPointCount=i.pointCount,t._currentPlan.suites[i.id]=i)})},t.prototype._onParseStateInfoSuccess=function(n,t){n.suiteId?(isNaN(n.suiteId)&&this.showError(st.InvalidParameterSuiteId),this._loadSuite(parseInt(n.suiteId,10),t)):this._currentPlan&&this._currentPlan.plan&&this._loadSuite(this._currentPlan.plan.rootSuiteId,!1);this._fetchAndShowIterationDates();this._loadSelectedPivotView(t)},t.prototype._loadSelectedPivotView=function(n){var r,t,i;bt.logTracePoint("TestHubView._loadSelectedPivotView.started");this._updateTabUrls(this._currentPlan.plan.id,this._currentPlan.selectedSuiteId);r=this._testSuitesTree.getSelectedSuite();switch(this._selectedPivot){case or.CHARTS:this._initializeAndShowTestCharts();bt.logTracePoint("TestHubView._loadSelectedPivotView.Charts.Loaded");break;case or.TESTS:default:n?this._cachedTestPointData&&(t=this._testSuitesTree.getSelectedSuite(),i=this._cachedTotalTestPointCount,this._updateTestPointsAndFilters(t,t.id,i,this._cachedTotalTestPointCount,!0,!0)):this._showViewGrid(!0)}bt.logTracePoint("TestHubView._loadSelectedPivotView.exit")},t.prototype._fetchAndShowIterationDates=function(){var n=this;(new vt.DelayedExecutionHelper).executeAfterLoadComplete(this,function(){n._testPlanCreationHelper.beginGetIterationsData(function(){n._currentPlan&&n._currentPlan.plan&&n._showIterationDates(n._testPlanCreationHelper.getIterationDates(n._currentPlan.plan.iteration))})})},t.prototype._loadSuite=function(n){var t;this._testSuitesTree.setSelectedSuite(n,!0);t=this._testSuitesTree.getSelectedSuite();t&&t.id===n?(this._currentPlan.selectedSuiteId=t.id,this._inEditMode&&(bt.logVerbose("[_loadSuite]Show grid view called on load suite"),this._showViewGrid(!0,!0)),this.setViewTitle(vi.format(st.TestPointsGridSuiteHeader,t.title,t.id)),this._element.find("#testsuite-requirementid").remove(),t.requirementId>0?this._showRequirement(t.requirementId):this._$requirementToolBar&&this._$requirementToolBar.hide(),this._updateViewFilter(t)):this.showError(vi.format(st.NoSuiteWithIdExists,n))},t.prototype._showRequirement=function(n){this._requirementId=n;this._$requirementToolBar?this._$requirementToolBar.show():this._$requirementToolBar=this._createRequirementIdToolBar()},t.prototype._createRequirementIdToolBar=function(){var i=$("<span class='requirement-toolbar' />").append("<div class='requirement-icon' />").insertBefore(".hub-title"),n=[],t,r;return n.push({id:"show-requirement",title:st.OpenRequirement,showTitle:!1,icon:"icon-tfs-query-flat"}),t=this._element.find(".requirement-icon"),r=wt.BaseControl.createIn(ui.MenuBar,t,{items:n,executeAction:ur(this,this._launchRequirementWorkItem)}),i},t.prototype._launchRequirementWorkItem=function(){this._requirementId&&ui.menuManager.executeCommand(new ni.CommandEventArgs("open-work-item",{id:this._requirementId,tfsContext:this._options.tfsContext},null))},t.prototype._showSharedStepLink=function(n){var i=this._element.find(".views"),t,r,u,f,e;i.find("div.shared-step-link").remove();t=$("<div/>").addClass("shared-step-link");r=$("<span/>").text(n.workItemType.name);f=$("<a/>").text(vi.format(" {0} ",n.getField(w.CoreFieldRefNames.Title).getValue())).attr("title",vi.format("{0}",n.getField(w.CoreFieldRefNames.Title).getValue())).attr("href","#").attr("Id","shared-step-link").click(ur(this,this._workItemLinkClick,n.id));u=$("<span/>").text(st.SharedStepCreatedText.toLowerCase());t.append(r);t.append(f);t.append(u);e=r.text()+f.text()+u.text();t.attr("title",e);i.append(t);i.find(".shared-step-link").fadeOut(1e4)},t.prototype._workItemLinkClick=function(n,t){return ui.menuManager.executeCommand(new ni.CommandEventArgs("open-work-item",{id:t,tfsContext:this._options.tfsContext},null)),!1},t.prototype._createPlansDropDown=function(){var n=this._element.find(".testmanagement-plans-combo");this._plansSelector=wt.Enhancement.enhance(gr,n);this._bind("itemSelected",ur(this,this._onSelectedPlanChanged));this._bind("itemSelecting",ur(this,this._onSelectedPlanChanging))},t.prototype._createTestPlansFilter=function(){var t=this,n=this._element.find(".testmanagement-testplans-filter");this._testPlanFilterMenubar=wt.BaseControl.createIn(ui.MenuBar,n,{items:this._createFilterMenubarItems(),executeAction:ur(this,this._testPlansFilterQuery)});(new vt.DelayedExecutionHelper).executeAfterLoadComplete(this,function(){t._updateTestPlanFilterButton()})},t.prototype._createFilterMenubarItems=function(){var n=[];return n.push({id:this._testPlansFilterIds.testPlansFilter,text:st.FilterTestPlans,title:st.FilterTestPlans,showText:!1,icon:"bowtie-icon bowtie-search-filter-fill",cssClass:"right-align testplan-filter"}),n},t.prototype._testPlansFilterQuery=function(){var n=this,t;this._currentPlan.plan&&(t=this._currentPlan.plan.areaPath);wi.using(["TestManagement/Scripts/TFS.TestManagement.SelectWorkItemView"],function(i){kt.show(i.FilterTestPlansDialog,{width:$(window).width()*.8,height:$(window).height()*.8,minWidth:$(window).width()*.2,attachResize:!0,okText:st.OkText,okCallback:function(t){n._filterPlans(t)},title:st.FilterTestPlans.toLocaleUpperCase(),workItemCategories:[ct.WorkItemCategories.TestPlan],hideQueryType:!0,persistenceId:i.PersistenceIds.SELECT_TEST_PLANS_ID,supportWorkItemOpen:!0,areaPath:t,callback:function(){n._resetTestPlansFilter()}})})},t.prototype._filterPlans=function(n){this.setTestPlanFilterStateAndPopulateDropDown(n);rr.publishEvents(rr.featureTestPlansFilter,{})},t.prototype._resetTestPlansFilter=function(){rr.publishEvents(rr.featureTestPlansResetFilter,{})},t.prototype.setTestPlanFilterStateAndPopulateDropDown=function(n){var t=this,i=this;this._testPlanManager.saveAndFetchTestPlansByQueryFilter(n,function(n){t._plansSelector.clearDropDown();t._plansSelector.setData(n.testPlans,n.selectedTestPlan);t._updateTestPlanFilterButton();n.testPlans.length<1&&t._updatePage()},function(n){i.showError(wi.getErrorMessage(n))})},t.prototype._updatePage=function(){this._resetState();this._resetTreeViewPane();this._resetTestPointPane();this._resetChildSuiteSelection()},t.prototype._resetState=function(){var n,t;this._tryShowViewGrid(!0);n=vt.UrlHelper.getTestManagementUrl();window.history.replaceState(null,null,n);t=ei.getHistoryService();t.addHistoryPoint(this._selectedPivot,null);this._currentPlan={};this._selectedPlanIdAndSuiteId&&(this._selectedPlanIdAndSuiteId.selectedPlan=0,this._selectedPlanIdAndSuiteId.selectedSuite=0)},t.prototype._resetTestPointPane=function(){this._testManagementChartsView&&this._testManagementChartsView.hideElement();this._setVisibility(pr.viewGrid,!1);this._testPointList&&this._testPointList._clearGrid();this._updateTestPointsToolbarCommandStates();this._enableFilters(!1);this._clearIterationDatesSpan();this._clearError();this._showPlanHubTitle();this._updateTabUrls(NaN,NaN)},t.prototype._resetTreeViewPane=function(){this._testSuitesTree&&(this._testSuitesTree._selectedNode=null,this._testSuitesTree.clearTreeView());cr.AreAdvancedTestManagementFeaturesEnabled()&&this._updateSuitesToolbarCommandStates()},t.prototype._resetChildSuiteSelection=function(){this._showTestsFromChild&&(this._showTestsFromChild=!1,this._testPlanAndSuitesMenubar.updateCommandStates([{id:this._testPlanAndSuitesCommandIds.showTestsFromChildSuites,toggled:this._showTestsFromChild}]))},t.prototype._updateTestPlanFilterButton=function(){var n=this,t=this;this._testPlanManager.getConvertedFilteredTestPlanQueryFromRegistry(ct.TestPlanSelectionHelper.getDefaultQuery(),function(t){t&&t.toUpperCase()!==ct.TestPlanSelectionHelper.getDefaultQuery().toUpperCase()?n._setTestPlanFilterState(!0):n._setTestPlanFilterState(!1)},function(n){t._setTestPlanFilterState(!1);t.showError(wi.getErrorMessage(n))})},t.prototype._setTestPlanFilterState=function(n){this._testPlanFilterMenubar.updateCommandStates([{id:this._testPlansFilterIds.testPlansFilter,toggled:n}])},t.prototype._createPlansAndSuitesToolbar=function(){var n=this._element.find(".test-plans-suites-toolbar");this._testPlanAndSuitesMenubar=wt.BaseControl.createIn(ui.MenuBar,n,{items:this._createTestPlanAndSuitesMenubarItems(),executeAction:ur(this,this._onPlansAndSuitesMenubarItemClick),contributionIds:["ms.vss-test-web.test-plans-suites-toolbar"],contextInfo:{item:{getContributionContext:this.getContributionContext.bind(this,!0)}}});cr.AreAdvancedTestManagementFeaturesEnabled()&&(this._updateSuitesToolBarItems(),this._updateSuitesToolbarCommandStates())},t.prototype._createSuitesSection=function(){var n=this,t;t=this._element.find(".testmanagement-suites-tree");this._testSuitesTree=wt.Enhancement.enhance(eu,t,{isFilterAppliedDelegate:ur(this,this._isFilterApplied)});this._testSuitesTree.deleteTestSuiteDelegate=function(t){n.deleteTestSuite(t.parentSuiteId,0,t.id,t.type)};this._testSuitesTree.renameTestSuiteDelegate=function(t,i,r){n.renameTestSuite(t,i,r)};this._testSuitesTree.moveTestSuiteEntryDelegate=function(t,i,r,u,f){i&&r?n.moveTestSuite(i,t,r,u,f):n.moveTestCase(t)};this._testSuitesTree.testPointDroppableAcceptDelegate=function(){return n.isTestPointBeingDragged()};this._testSuitesTree.openTestPlanInClientDelegate=ur(this,this._openTestPlanInClient);this._testSuitesTree.deleteTestPlanDelegate=ur(this,this._deleteTestPlan);this._testSuitesTree.assignConfigurationsToSuiteDelegate=ur(this,this._assignConfigurationsToSuite);this._testSuitesTree.runTestSuiteDelegate=function(t,i){fr.trackAction("RunTestSuite","/Execution");n._testPlanManager.getTestPointsForSuite(n._currentPlan.plan.id,t.id,!1,n._createDisplayColumns(),n._getOutcomeFilterValue(),n._getTesterFilterUniqueId(n._getTesterFilterValue()),n._getIdOfConfigurationInFilter(n._getConfigurationFilterValue()),function(r){var u=[];$.each(r.testPoints,function(n,t){t.outcome===st.TestPointState_Ready&&u.push(t)});u.length>0?i?n._runTestPointsWithOptions(u,t.requirementId,t.type===e.TestSuiteType.RequirementTestSuite):n._runTestPoints(u):confirm(st.NoActiveTestPointsInSuite)},function(t){n.showError(wi.getErrorMessage(t))},ot.PageHelper.getPageSize(),n._showTestsFromChild)};this._testSuitesTree.launchExportHtmlDialogDelegate=function(t){wi.using(["TestManagement/Scripts/TFS.TestManagement.HtmlDocumentGenerator"],function(i){var r=n._testSuitesTree.checkIfThresholdExceededForExportFeature();n._exportHtmlWindow=new i.HtmlDocumentGenerator({columnOptions:n._savedColumns,testPointPaneColumnOptions:n._savedTestPointPaneColumns,plan:n._currentPlan,suiteHierarchy:n._testSuitesTree.rootNode});n._exportHtmlWindow.launchExportHtmlDialog(t,r);n._exportHtmlWindow.setErrorDelegate(ur(n,n.showError))})};this._testSuitesTree.createNewSuiteDelegate=function(t,i){n._shouldCancelPlanOrSuiteSelectionChange()||n._createNewSuite(t,i)};this._testSuitesTree.openTestPlanDelegate=ur(this,this._openTestPlan);this._testSuitesTree.openTestSuiteDelegate=ur(this,this._openTestSuite);this._testSuitesTree.showErrorDelegate=ur(this,this.showError);this._bind("selectedSuiteChanged",ur(this,this._onSelectedSuiteChanged));this._bind("selectedSuiteChanging",ur(this,this._onSelectedSuiteChanging));this._bind("selectedSuiteUpdated",ur(this,this._onSelectedSuiteUpdated))},t.prototype._isFilterApplied=function(){return this._outcomeFilterApplied||this._testerFilterApplied||this._configurationFilterApplied},t.prototype._createNewSuite=function(n,t){t===ar.newStaticSuite?this._createNewStaticSuite(n):t===ar.newRequirementSuite?this._createNewRequirementSuite(n):t===ar.newQueryBasedSuite&&this._createNewQueryBasedSuite(n)},t.prototype.isTestPointBeingDragged=function(){var n=this._testPointList.getDraggingRowInfo();return n&&n.length>0?!0:!1},t.prototype.moveTestSuite=function(n,t,i,r,u){var f=this;vt.getTestPlanManager().moveTestSuiteEntry(this._currentPlan.plan.id,n.id,n.revision,t.id,t.revision,[i.id],!1,r,function(){f._refreshTestSuitesForPlan(f._currentPlan.plan.id,f._currentPlan.selectedSuiteId)},function(n){typeof u=="function"&&u(n);f._showErrorOnSuiteHeirarchyUpdated(i.id,n)})},t.prototype.moveTestCase=function(n){var t=this,r=this._testSuitesTree.getSelectedSuite(),i=this._testPointList.getDraggingRowInfo(),u=vt.WorkItemUtils.getWorkItemStore();if(this._showTestsFromChild){alert(st.CannotMoveTestCases);return}if(i&&i.length>0){if(this._areTestCasesDirty(i)){alert(st.DragDirtyTestCases);return}vt.getTestPlanManager().moveTestSuiteEntry(this._currentPlan.plan.id,r.id,r.revision,n.id,n.revision,i,!0,0,function(f){var o=it.WorkItemManager.get(u);t._testSuitesTree.updateSuitesRevisionAndPointCount(f);t._refreshAndPopulatetestPointList(t._currentPlan.plan.id,t._currentPlan.selectedSuiteId,!1,!0);(r.type===e.TestSuiteType.RequirementTestSuite||n.type===e.TestSuiteType.RequirementTestSuite)&&o.invalidateCache(i);o.invalidateCache([r.requirementId,n.requirementId])},function(n){n.type===ct.Exceptions.TestObjectNotFoundException?(t._refreshAndPopulatetestPointList(t._currentPlan.plan.id,t._currentPlan.selectedSuiteId,!1,!0),alert(st.SuiteEntryMoveFailed)):t.showError(wi.getErrorMessage(n))})}},t.prototype._createNewStaticSuite=function(n){var t=this,r=this._testSuitesTree.getUniqueNameIndexInCurrentSuite(st.NewSuite,st.NewSuiteDefaultFormat),i={startIndex:r,title:st.NewSuite,parentSuiteId:n.id,parentSuiteRevision:n.revision};fr.trackAction("CreateStaticSuite","/SuiteManagement");n.type===e.TestSuiteType.StaticTestSuite&&vt.getTestPlanManager().createStaticTestSuite(i,function(n){t._refreshTestSuitesForPlan(t._currentPlan.plan.id,n,!0);rr.publishEvent(rr.featureTestSuite,rr.addStaticSuite,1)},function(n){t._showErrorOnSuiteHeirarchyUpdated(i.parentSuiteId,n)})},t.prototype._createNewRequirementSuite=function(n){var t=this;rr.publishEvents(rr.featureOpenRequirementWIT,{});wi.using(["TestManagement/Scripts/TFS.TestManagement.SelectWorkItemView"],function(i){kt.show(i.SelectWorkItemsDialog,{width:$(window).width()*.8,height:$(window).height()*.8,attachResize:!0,okText:st.CreateSuites,okCallback:function(i){t._createRequirementSuites(new ct.IdAndRevision(n.id,n.revision),i)},title:st.CreateRequirementSuite.toLocaleUpperCase(),workItemCategories:[ct.WorkItemCategories.Requirement,ct.WorkItemCategories.Bug,ct.WorkItemCategories.Feature,ct.WorkItemCategories.Epic],hideQueryType:!1,persistenceId:i.PersistenceIds.ADD_REQUIREMENTS_ID,supportWorkItemOpen:!0,areaPath:t._currentPlan.plan.areaPath})})},t.prototype._createRequirementSuites=function(n,t){var i=this;fr.trackAction("CreateRequirementSuites","/SuiteManagement",{requirementsCount:t.length});vt.getTestPlanManager().createRequirementSuites(n,t,function(n){n!==0&&(i._refreshTestSuitesForPlan(i._currentPlan.plan.id,n,!1),rr.publishEvent(rr.featureTestSuite,rr.addRequirementBasedSuite,1))},function(t){i._showErrorOnSuiteHeirarchyUpdated(n.id,t)})},t.prototype._createNewQueryBasedSuite=function(n){var t=this;wi.using(["TestManagement/Scripts/TFS.TestManagement.SelectWorkItemView"],function(i){kt.show(i.CreateQueryBasedSuiteDialog,{width:$(window).width()*.8,height:$(window).height()*.8,attachResize:!0,okText:st.CreateSuite,okCallback:function(i,r){t._createQueryBasedSuite(n,i,r)},title:st.CreateQueryBasedSuiteTitle.toLocaleUpperCase(),workItemCategories:[ct.WorkItemCategories.TestCase],hideQueryType:!1,persistenceId:i.PersistenceIds.CREATE_QUERY_BASED_SUITE_ID,supportWorkItemOpen:!0,newSuiteMode:!0,areaPath:t._currentPlan.plan.areaPath})})},t.prototype._createQueryBasedSuite=function(n,t,i){var r=this,f=this._testSuitesTree.getUniqueNameIndexInCurrentSuite(t,st.NewSuiteDefaultFormat),u={startIndex:f,title:t,parentSuiteId:n.id,parentSuiteRevision:n.revision,queryText:i};fr.trackAction("CreateQueryBasedSuite","/SuiteManagement");n.type===e.TestSuiteType.StaticTestSuite&&vt.getTestPlanManager().createQueryBasedSuite(u,function(n){n!==0&&(r._refreshTestSuitesForPlan(r._currentPlan.plan.id,n,!1),rr.publishEvent(rr.featureTestSuite,rr.addQueryBasedSuite,1))},function(n){r._showErrorOnSuiteHeirarchyUpdated(u.parentSuiteId,n)})},t.prototype._editQuery=function(){var n=this,t=this._testSuitesTree.getSelectedSuite();wi.using(["TestManagement/Scripts/TFS.TestManagement.SelectWorkItemView"],function(i){kt.show(i.CreateQueryBasedSuiteDialog,{width:$(window).width()*.8,height:$(window).height()*.8,attachResize:!0,okText:st.SaveQueryText,okCallback:function(i,r){n._saveQueryForSuite(t,r)},title:st.EditQuery.toLocaleUpperCase(),workItemCategories:[ct.WorkItemCategories.TestCase],hideQueryType:!1,persistenceId:i.PersistenceIds.CREATE_QUERY_BASED_SUITE_ID,supportWorkItemOpen:!0,queryText:t.queryText,areaPath:n._currentPlan.plan.areaPath})})},t.prototype._saveQueryForSuite=function(n,t){var i=this;fr.trackAction("EditQueryForQuerBasedSuite","/SuiteManagement");vt.getTestPlanManager().updateQueryBasedSuite(n,t,function(r){i._updateQueryForSuite(n,t,r);r===vt.conflictRevisionNumber?(i._refreshTestSuitesForPlan(i._currentPlan.plan.id,n.id),alert(st.SuiteRenameErrorMessage)):i._refreshAndPopulatetestPointList(i._currentPlan.plan.id,i._currentPlan.selectedSuiteId,!0)},function(n){i.showError(wi.getErrorMessage(n))})},t.prototype.deleteTestSuite=function(n,t,i,r){this.deleteTestSuiteV2(n,t,i,r);return},t.prototype.deleteTestSuiteV2=function(n,t,i){var r=this,u=!0;fr.trackAction("DeleteTestSuite","/SuiteManagement");this._inEditMode||(u=!this._checkAndNotifyUserAboutDirtyTests());u&&wi.using(["WorkItemTracking/Scripts/TestWorkItemDelete/TFS.TestWorkItemDelete.Dialog"],function(t){var o=r._options.tfsContext||br.getDefault(),f=new t.TestSuiteDeleteConfirmationDialog({projectId:o.navigation.projectId}),e=i,s=function(){r._onTestSuiteDeletionSuccess(n,i)},h=function(t){r._showErrorOnSuiteHeirarchyUpdated(n,t)};f.showDialog(e,function(){r._inEditMode&&(u=r._bulkEditTestsViewModel.cleanup());u&&f.deleteTestWorkItem(yt.TelemetryService.testHubPage,yt.TelemetryService.areaTestManagement,e,!1,s,h)})})},t.prototype.renameTestSuite=function(n,t,i){var r=this;vt.getTestPlanManager().renameTestSuite(n,t,function(t){r._refreshTestSuitesForPlan(r._currentPlan.plan.id,n.id);t==vt.conflictRevisionNumber&&alert(st.SuiteRenameErrorMessage);rr.publishEvent(rr.featureTestSuite,rr.renameSuite,1)},function(t){typeof i=="function"&&i(t);r._showErrorOnSuiteHeirarchyUpdated(n.id,t)})},t.prototype._onTestSuiteDeletionSuccess=function(n,t){this._refreshTestSuitesForPlan(this._currentPlan.plan.id,n);this._testManagementChartsView&&this._testManagementChartsView.deleteChart(this._currentPlan.plan.id,t);rr.publishEvent(rr.featureTestSuite,rr.deleteSuite,1)},t.prototype._showErrorOnSuiteHeirarchyUpdated=function(n,t){t.type===ct.Exceptions.TestObjectNotFoundException?(this._refreshTestSuitesForPlan(this._currentPlan.plan.id,n),alert(st.SuiteRenameErrorMessage)):this.showError(wi.getErrorMessage(t))},t.prototype._onSelectedPlanChanged=function(n,t){var u=this,i,r;t.item&&(this._selectedPlanIdAndSuiteId&&this._selectedPlanIdAndSuiteId.selectedPlan===0||this._currentPlan&&this._currentPlan.plan&&this._currentPlan.plan.id!==t.item.id)&&(i=ei.getHistoryService(),r=i.getCurrentState(),r&&parseInt(r.planId,10)===t.item.id||(t.item.rootSuiteId===0?this._testPlanManager.beginCreateTestPlanFromWorkItem(t.item.id,function(n){t.item.rootSuiteId=n.rootSuiteId;i.addHistoryPoint(u._selectedPivot,{planId:t.item.id,suiteId:t.item.rootSuiteId})},function(n){u.showError(wi.getErrorMessage(n))}):i.addHistoryPoint(this._selectedPivot,{planId:t.item.id,suiteId:t.item.rootSuiteId})))},t.prototype._onSelectedPlanChanging=function(n,t){t&&this._currentPlan.plan&&t.item.id!==this._currentPlan.plan.id&&(t.canceled=this._shouldCancelPlanOrSuiteSelectionChange())},t.prototype._onClickCreateNewTestPlan=function(){var n=this;fr.trackAction("CreateTestPlan","/SuiteManagement");wi.using(["TestManagement/Scripts/TFS.TestManagement.Controls"],function(t){t.TestDialogs.createTestPlan({owner:n._options.tfsContext.currentIdentity.id,planCreationHelper:n._testPlanCreationHelper,onCreate:ur(n._testPlanManager,n._testPlanManager.createTestPlan),onSucceeded:ur(n._plansSelector,n._plansSelector.updateData),onFailed:function(t){n.showError(wi.getErrorMessage(t));n._plansSelector.updateData(null);n._clearIterationDatesSpan()}})})},t.prototype._updateSuitesToolBarItems=function(){var n=this._testSuitesTree?this._testSuitesTree.getSelectedSuite():null,t=this._testPlanAndSuitesMenubar.getItem(this._testPlanAndSuitesCommandIds.openTestPlanOrSelectedSuite);n&&n.parentSuiteId>0?t.updateTitle(st.OpenTestSuite):t.updateTitle(st.OpenTestPlan)},t.prototype._updateSuitesToolbarCommandStates=function(){var n=this._testSuitesTree?this._testSuitesTree.getSelectedSuite():null,t=n&&n.type===e.TestSuiteType.StaticTestSuite;this._testPlanAndSuitesMenubar&&this._testPlanAndSuitesMenubar.updateCommandStates([{id:ar.newStaticSuite,disabled:!t},{id:ar.newRequirementSuite,disabled:!t},{id:ar.newQueryBasedSuite,disabled:!t},{id:this._testPlanAndSuitesCommandIds.newSharedStep,disabled:!n}])},t.prototype._onSelectedSuiteChanged=function(n,t){var i=t.suite;this._clearAndHideTagsFilter();cr.AreAdvancedTestManagementFeaturesEnabled()&&(this._updateSuitesToolBarItems(),this._updateSuitesToolbarCommandStates());this._updateTestPointsToolbarCommandStates();i&&(ei.getHistoryService().addHistoryPoint(this._selectedPivot,{planId:this._currentPlan.plan.id,suiteId:i.id}),this._updateViewFilter(i))},t.prototype._onSelectedSuiteUpdated=function(){this._currentPlan&&this._currentPlan.plan&&this._refreshAndPopulatetestPointList(this._currentPlan.plan.id,this._currentPlan.selectedSuiteId,!0)},t.prototype._clearAndHideTagsFilter=function(){this._tagFilterProvider&&this._tagFilterProvider.deactivateFilter(!0);this._testPointList.cleanUpTagsFilter();this._filterBar&&this._filterBar.hideElement()},t.prototype._updateViewFilter=function(n){this._viewFilter&&(n.type!==e.TestSuiteType.DynamicTestSuite&&this._selectedPivot!==or.CHARTS&&cr.AreAdvancedTestManagementFeaturesEnabled()?this._viewFilter.showElement():this._viewFilter.hideElement())},t.prototype._onSelectedSuiteChanging=function(n,t){t&&t.suite&&t.suite.id!==this._currentPlan.selectedSuiteId&&(t.canceled=this._shouldCancelPlanOrSuiteSelectionChange())},t.prototype._checkAndNotifyUserAboutDirtyTests=function(){var n="";return this._canSaveTests()||this._isTestCaseInPaneEdited()?(n=si.getLocalService(gt.RunningDocumentsTable).getUnsavedItemsMessage()+"\r\n\r\n"+st.ContinueAndLoseChanges,confirm(n)?(this._testPointList.resetDirtyItems(),!1):!0):!1},t.prototype._openTestPlanInClient=function(){var n=this._currentPlan.plan.clientUrl;fr.trackAction("OpenInClient","/SuiteManagement");pi.isSafeProtocol(n)&&(rr.publishEvents(rr.featureOpenInMTM,{}),dt.getService().performAction(dt.CommonActions.ACTION_WINDOW_OPEN,{url:n,target:"_self"}))},t.prototype._deleteTestPlan=function(){var n=this;this._deleteTestPlanV2();return},t.prototype._deleteTestPlanV2=function(){var n=this,t=!0;fr.trackAction("DeleteTestPlan","/SuiteManagement");this._inEditMode||(t=!this._checkAndNotifyUserAboutDirtyTests());t&&wi.using(["WorkItemTracking/Scripts/TestWorkItemDelete/TFS.TestWorkItemDelete.Dialog"],function(i){var f=n._options.tfsContext||br.getDefault(),r=new i.TestPlanDeleteConfirmationDialog({projectId:f.navigation.projectId}),u=n._currentPlan.plan.id,e=li.delegate(n,n._onPlanDeletionSuccess),o=function(t){n.showError(wi.getErrorMessage(t))};r.showDialog(u,function(){n._inEditMode&&(t=n._bulkEditTestsViewModel.cleanup());t&&r.deleteTestWorkItem(rr.testHubPage,rr.areaTestManagement,u,!1,e,o)})})},t.prototype._onPlanDeletionSuccess=function(){var n=this._plansSelector.removeDeletedPlanAndSetSelectedPlan(this._currentPlan.plan.id);n||(this._currentPlan={},this._selectedPlanIdAndSuiteId&&(this._selectedPlanIdAndSuiteId.selectedPlan=0,this._selectedPlanIdAndSuiteId.selectedSuite=0),this._updatePage());rr.publishEvent(rr.featureDeleteTestPlan,rr.deleteTestPlan,1)},t.prototype._HandleFailure=function(n){this.showError(n)},t.prototype._openTestPlan=function(){var n=this,i=this._currentPlan.plan,r=!1,u={},f={},t,e;vr.attachEvent(rt.RecycleBinConstants.EVENT_DELETE_SUCCEEDED,this._onPlanDeletionSuccess);vr.attachEvent(rt.RecycleBinConstants.EVENT_DELETE_FAILED,this._HandleFailure);ui.menuManager.executeCommand(new ni.CommandEventArgs("open-work-item",{id:i.id,tfsContext:h.TfsContext.getDefault(),options:{save:function(){r=!0},close:function(){vr.detachEvent(rt.RecycleBinConstants.EVENT_DELETE_SUCCEEDED,n._onPlanDeletionSuccess);vr.detachEvent(rt.RecycleBinConstants.EVENT_DELETE_FAILED,n._HandleFailure);r&&n._testPlanManager.getTestPlansById([i.id],function(r){r&&r.length===1&&(n._currentPlan.plan=r[0],n._plansSelector.updateData(r[0],!0,i),t=n._testSuitesTree.rootNode.children[0],t.suite.title=r[0].name,u[t.suite.id]=t.suite.pointCount,f[t.suite.id]=t.suite.totalPointCount,n._testSuitesTree.updateNodes(u,f),e=n._testSuitesTree.getSelectedSuite(),e.id===t.suite.id&&n.setViewTitle(vi.format(st.TestPointsGridSuiteHeader,t.suite.title,t.suite.id)),n._testPlanManager.getTeamFieldForTestPlans([n._currentPlan.plan.id],function(t){n._currentTeamFieldInfo=t&&t.length===1&&t[0].ownerId===n._currentPlan.plan.id?new ct.TeamFieldModel(t[0].teamFieldRefName,t[0].teamFieldValue,!0):new ct.TeamFieldModel("","",!1)},function(){n._currentTeamFieldInfo=null}))});r=!1}}},null));try{rr.publishEvents(rr.featureOpenTestPlanWIT,{})}catch(o){bt.logError(vi.format("[TestHubView._openTestPlan]: Error in logging Customer Intelligence data. Error: {0}",o.message))}},t.prototype._openTestSuite=function(n){var t=this,i=!1,r=function(){t._onTestSuiteDeletionSuccess(n.parentSuiteId,n.id)},u=function(){t._showErrorOnSuiteHeirarchyUpdated(n.parentSuiteId,n.id)};vr.attachEvent(rt.RecycleBinConstants.EVENT_DELETE_SUCCEEDED,r);vr.attachEvent(rt.RecycleBinConstants.EVENT_DELETE_FAILED,u);ui.menuManager.executeCommand(new ni.CommandEventArgs("open-work-item",{id:n.id,tfsContext:h.TfsContext.getDefault(),options:{save:function(){i=!0},close:function(){vr.detachEvent(rt.RecycleBinConstants.EVENT_DELETE_SUCCEEDED,r);vr.detachEvent(rt.RecycleBinConstants.EVENT_DELETE_FAILED,u);i&&t._refreshTestSuitesForPlan(t._currentPlan.plan.id,n.id);i=!1}}},null));try{rr.publishEvents(rr.featureOpenTestSuiteWIT,{})}catch(f){bt.logError(vi.format("[TestHubView._openTestSuite]: Error in logging Customer Intelligence data. Error: {0}",f.message))}},t.prototype._updateTesterFilterOnUrl=function(){var n=this,i=ei.getHistoryService().getCurrentState(),r=!1,t;i.action===ct.TestViewActions.FilterByTester&&(t=br.getDefault().currentIdentity,vt.getTestPlanManager().getTestersAssignedToSuite(i.suiteId,function(i){for(var u=0,f=i.length;u<f;u++)if(t.id===i[u].id){r=!0;t.uniqueName=i[u].uniqueName;break}r?n._updateFilterSelection(n._testerFilter,"tester",a.IdentityHelper.getUniquefiedIdentityName(t)):n._updateFilterSelection(n._testerFilter,"tester",er.ALL_FILTER)}))},t.prototype._assignConfigurationsToSuite=function(n){var t=this;wi.using(["TestManagement/Scripts/TFS.TestManagement.AssignConfigurationsToSuite"],function(i){var r=new i.AssignConfigurationsToSuite(t._currentPlan.id,n.suite);r.AssignConfigurations(function(i,r){r&&(n.suite.configurations=i,t._refreshSuitePointCounts(null),t._refreshAndPopulatetestPointList(t._currentPlan.plan.id,t._currentPlan.selectedSuiteId,!0),rr.publishEvent(rr.featureAssignConfiguration,rr.assignConfiguration,1))},function(n){t.showError(wi.getErrorMessage(n))})})},t.prototype._getNameOfConfigurationInFilter=function(n){if(!n)return"";for(var t=0,i=this._configurationsInPlan.length;t<i;t++)if(this._configurationsInPlan[t].id===n)return this._configurationsInPlan[t].name},t.prototype._getIdOfConfigurationInFilter=function(n){if(!n)return null;if(n===er.ALL_FILTER)return-1;for(var t=0,i=this._configurationsInPlan.length;t<i;t++)if(this._configurationsInPlan[t].name===n)return this._configurationsInPlan[t].id},t.enhancementTypeName="tfs.testManager.TestHubView",t.paneMode_suites="referencedSuites",t.paneMode_results="resultsPane",t}(fi.NavigationView);t.TestHubView=yr;wi.initClassPrototype(yr,{_currentPlan:null,_testPlanAndSuitesCommandIds:{newTestPlan:"new-test-plan",newSharedStep:"new-shared-step",collapse:"collapse-all",expand:"expand-all",openInClient:"open-in-client",openTestPlanOrSelectedSuite:"open-test-plan-or-selected-suite",exportHtml:"export-to-html",showTestsFromChildSuites:"show-tests-from-child-suites"},_testPointToolbarItemIds:{newTestCaseDropDown:"new-test-case-dropdown-menu-item",newTestCase:"new-test-case",newTestCaseWithGrid:"new-test-case-with-grid",editQuery:"edit-suite-query",addTestCases:"add-test-cases",removeTestCase:"remove-test-case",refreshTestPoints:"refresh-test-points",openTestCase:"open-test-case",runTestPoints:"run-test-points",runTestPointsUsingClient:"run-test-points-using-client",runTestPointsWithOptions:"run-test-points-with-options",blockTest:"block-tests",resetTest:"reset-tests",passTest:"pass-tests",failTest:"fail-tests",saveTests:"save-tests",notApplicableTest:"not-applicable-tests",columnOptions:"column-options-test",resumeRun:"resume-run",toggleTestCaseDetailsPane:"toggle-testcase-details-pane",toggleFilter:"toggle-filter",runTestDropMenu:"run-test-points-dropdown-menu-item",orderTests:"order-tests"},_testDetailsPaneToolbarItemIds:{refreshTestDetailsPane:"refresh-test-details-pane-list",openTestDetailInNewTab:"open-test-detail-item"},_testPlansFilterIds:{testPlansFilter:"test-plans-filter"},_testPointList:null,_plansSelector:null,_testPlanManager:null,_testRunManager:null,_testResultManager:null,_$errorDiv:null,_testSuitesTree:null,_testPointsToolbar:null,_testPointOutcomeFilter:null,_testerFilter:null,_cachedTestPointData:null,_splitter:null,_workItemForm:null,_viewPaneForm:null,_workItemPaneMode:null,_previousPaneOnPosition:null,_webSettingsService:null,_webSettingsCollectionService:null,_positionFilter:null,_paneFilter:null,_selectedPlanIdAndSuiteId:{},currentWorkItemId:null,_inEditMode:!1,_$farRightPaneHubPivot:null,_farRightPaneToolbar:null}),function(n){function t(n,t,i){return{id:di.CommonContextMenuItems.ASSIGN_TO_ACTION_NAME,rank:t.assignedToRank||1,text:t.title?t.title:v.TeamAwarenessAssignTo,title:t.tooltip?t.tooltip:v.TeamAwarenessAssignToTooltip,icon:"bowtie-icon bowtie-users",childItems:ft.AssignTestersChildItems.getAssignTesterChildItems(n,t,i),groupId:"modify"}}function i(t,i){o.TeamAwarenessService.contextSupports(i.tfsContext)&&i.enableTeamActions&&(t.items=t.items.concat([n.getAssignToContextMenuItem(i.tfsContext,i),{rank:2,separator:!0}]))}n.getAssignToContextMenuItem=t;n.contributeTestPointsGrid=i}(ou=t.CommonContextMenuItemsWithSearch||(t.CommonContextMenuItemsWithSearch={}));fu=function(){function n(){this._iterationTeamDaysOffData=[]}return n.prototype.beginGetTeamCapacity=function(n,t,i){var f=this,u;this._iterationTeamDaysOffData[n]&&typeof t=="function"&&t(this._iterationTeamDaysOffData[n]);u=h.TfsContext.getDefault().getActionUrl("getteamdaysoffforiteration","testManagement",{area:"api"});r.getMSJSON(u,{iterationId:n},function(i){f._iterationTeamDaysOffData[n]=i;typeof t=="function"&&t(i)},i)},n.prototype.getAndshowRemainingWorkDaysInIteration=function(n,t,i,r,u){var f=this;wi.using(["Agile/Scripts/Common/Agile"],function(e){var o=f._getCurrentDateInIteration(n,t,i),c,s,h;f._iterationTeamDaysOffData[n]&&o&&(s=void 0,h=void 0,s=e.CapacityDateUtils.getMergedDateRangeList(f._iterationTeamDaysOffData[n].TeamDaysOffDates||[],[],o,i),h=e.CapacityDateUtils.getDateBreakdown(o,i,s,f._iterationTeamDaysOffData[n].Weekends||[]),c=h.workingDays);f._showRemainingWorkDaysInIteration(c,r,u)})},n.prototype._showRemainingWorkDaysInIteration=function(n,t,i){var r=vi.empty,f,u=vi.empty;n===1?u=i?st.IterationDayRemainingFormat:st.IterationWorkDayFormat:n>1&&(u=i?st.IterationDaysRemainingFormat:st.IterationWorkDaysFormat);r=vi.format(u,n);t&&(f=t.find(".test-plan-iteration-remaining-days"),f.attr("title",r).addClass("hub-title-right-secondary").text(r))},n.prototype.todayIsInCurrentIteration=function(n,t,i){var r=ai.stripTimeFromDate(new Date);return r>=t&&r<=i},n.prototype._getCurrentDateInIteration=function(n,t,i){return this.todayIsInCurrentIteration(n,t,i)?ai.stripTimeFromDate(new Date):t},n}();t.TeamHelper=fu;wi.classExtend(yr,br.ControlExtensions);wt.Enhancement.registerEnhancement(yr,".test-hub-view");wi.tfsModuleLoaded("TFS.TestManagement.TestView",t)});

define("TestManagement/Scripts/Shared/GridViewProxyComponent",["require","exports","react","TestManagement/Scripts/TFS.TestManagement.TestView","VSS/LWP"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=new r.TestHubView,e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",null)},t.prototype.componentDidMount=function(){this.props.gridOption===1?f._createGridForHubRefresh():this.props.gridOption===2?f._showGridForHubRefresh(this.props.plan,this.props.selectedSuite,this.props.testCaseIds,this.props.columnOptions,this.props.isDirtyCallback):f._closeGridForHubRefresh()},t}(i.Component);u.registerLWPComponent("grid-view-proxy-component",e)});

define("Presentation/Scripts/TFS/FeatureRef/TFS.WatchDogService",["require","exports","VSS/Service","VSS/Utils/Core","VSS/ClientTrace/Services","VSS/Context","VSS/ClientTrace/Contracts","VSS/Diag"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.WatchDogService=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._scenarioToDelayedFuncMap={},t}return __extends(t,n),t.prototype.startWatchScenario=function(n,t,i,u,f,e){var o,h,c,s;if(this.endWatchScenario(n),h=o=Date.now(),t&&(c="navigationStart",o=window.performance&&window.performance.timing&&window.performance.timing[c]||null),o){s=i+o-h;s<=0?this.fireClientTrace(n,i,u,f,e):this._scenarioToDelayedFuncMap[n]=r.delay(null,s,this.fireClientTrace,[n,i,u,f,e]);return}},t.prototype.endWatchScenario=function(n){var t=this._scenarioToDelayedFuncMap[n];t&&(t.cancel(),delete this._scenarioToDelayedFuncMap[n]);return},t.prototype.fireClientTrace=function(n,t,i,r,s){var h=f.getPageContext(),c=window.navigator.userAgent,l=h&&h.diagnostics&&h.diagnostics.sessionId||"",a={userAgent:c,sessionId:l,backgroundTab:document.hidden,debugMode:o.getDebugMode()},v="Scenario ".concat(n," reached timeout of ").concat(t,"ms"),y={area:i,component:r,feature:s,exceptionType:null,level:e.Level.Error,message:v,method:null,properties:a};u.trace(y);return},t}(i.VssService);t.WatchDogService=s});

define("WorkItemTracking/Scripts/Controls/WorkItemThrottleControl",["require","exports","VSS/VSS","VSS/Controls","Presentation/Scripts/TFS/TFS.Host.TfsContext"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemThrottleControl=void 0;var f=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype._dispose=function(){this.unbind(!0);this.cancelDelayedFunction("update");n.prototype._dispose.call(this)},t.prototype.bind=function(n){var t=this;this.unbind(!0);n&&(this.changedDelegate||(this.changedDelegate=function(n,i){t.updateThrottle(i)}),n.attachWorkItemChanged(this.changedDelegate),this.workItem=n,this.updateThrottle())},t.prototype.unbind=function(n){this.workItem&&(this.changedDelegate&&this.workItem.detachWorkItemChanged(this.changedDelegate),this.workItem=null,n||this.updateThrottle())},t.prototype.update=function(n){this.updateInternal(n)},t.prototype.updateThrottle=function(n){this.delayExecute("update",200,!0,function(){this.updateInternal(n)})},t.prototype.updateInternal=function(n){if(typeof this._options.update=="function")return this._options.update.call(this,this,n)},t.prototype._getTfsContext=function(){return this.workItem?this.workItem.store.getTfsContext():u.TfsContext.getDefault()},t}(r.BaseControl);t.WorkItemThrottleControl=f;i.initClassPrototype(f,{workItem:null,changedDelegate:null,previouslyModified:!1})});

define("WorkItemTracking/Scripts/Utils/WorkItemsHubIdHelper",["require","exports"],function(n,t){function i(){return"ms.vss-work-web.new-work-items-hub"}Object.defineProperty(t,"__esModule",{value:!0});t.getWorkItemsHubId=void 0;t.getWorkItemsHubId=i});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemInfoBar",["require","exports","VSS/Controls","VSS/Controls/StatusIndicator","VSS/VSS","VSS/Events/Services","VSS/Utils/Core","Presentation/Scripts/TFS/Components/WorkItemTypeIcon","VSS/Controls/PopupContent","VSS/Navigation/HubsService","VSS/Service","VSS/Utils/String","WorkItemTracking/Scripts/Controls/WorkItemThrottleControl","WorkItemTracking/Scripts/Utils/WorkItemsHubIdHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemInfoBar=void 0;var w=e.delegate,y=f.getService(),p=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.bind=function(i){var r=this;n.prototype.bind.call(this,i);i&&(this._showInfoMessageDelegate||(this._showInfoMessageDelegate=function(n,t){i.id===t.workItemId&&r.updateThrottle(t.info)}),y.attachEvent(t.ACTION_INFOBAR_SHOW_INFO,this._showInfoMessageDelegate))},t.prototype.unbind=function(i){n.prototype.unbind.call(this,i);this._showInfoMessageDelegate&&(y.detachEvent(t.ACTION_INFOBAR_SHOW_INFO,this._showInfoMessageDelegate),this._showInfoMessageDelegate=null);this._infoTextWrapper&&this._infoTextWrapper.length&&o.unmountWorkItemTypeIcon(this._infoTextWrapper[0])},t.prototype.initializeOptions=function(t){t&&t.showTitle&&(this._showTitle=t.showTitle);n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"workitem-info-bar workitem-header-bar"},t))},t.prototype.initialize=function(){this._workItemsNavigator=this._options.workItemsNavigator;this._workItemsNavigator&&this._workItemsNavigator.attachEvent("navigate-index-changed",w(this,this._onNavigated))},t.prototype.updateInternal=function(t){var u=this.workItem,e=this.getElement(),p,f,d,a,w,g,b,k,y;if(n.prototype.updateInternal.call(this)===!1)return!1;w=e.find(".info-text");w.length===1&&(g=w.text());this._clearElement();u?(this._infoTextWrapper=$("<div/>").addClass("info-text-wrapper"),o.renderWorkItemTypeIcon(this._infoTextWrapper[0],u.workItemType.name,u.project.name),u.isNew()||u.isDeleted()?a=$("<span/>"):(b=this._getTfsContext(),k=b.contextData.project,p=b.getActionUrl("edit","workitems",{project:u.project.name,team:null,area:"",parameters:[u.id]}),a=$("<a/>").attr("href",p),k&&l.equals(u.project.guid,k.id,!0)&&a.click(c.getLocalService(h.HubsService).getHubNavigateHandler(v.getWorkItemsHubId(),p))),a.text(u.getCaption(!0,!0)),a.addClass("caption"),this._infoTextWrapper.append(a),f=t&&t.text&&t.invalid?t:u.getInfoText(),f.invalid?e.addClass("invalid"):e.removeClass("invalid"),y=void 0,(this._showTitle||f.invalid)&&(y=$("<span><\/span>").addClass("info-text").text(f.text||""),f.text&&s.RichContentTooltip.addIfOverflow(f.text,y),this._infoTextWrapper.append(y)),u.isSaving()&&(d=i.BaseControl.createIn(r.StatusIndicator,this._infoTextWrapper),d.start()),e.append(this._infoTextWrapper),f.invalid&&(e.data("readErrorText")||y&&g!==f.text)&&this._alertScreenreadersToText(y)):e.removeClass("invalid")},t.prototype._alertScreenreadersToText=function(n){n.hide();n.attr("role","alert");n.css("display","inline");this.getElement().data("readErrorText",!1)},t.prototype.showLoadingIndicator=function(){this._isLoadingTriageDetails=!0;this._updateTriageDetails()},t.prototype.hideLoadingIndicator=function(){this._isLoadingTriageDetails=!1;this._updateTriageDetails()},t.prototype._onNavigated=function(){this._updateTriageDetails()},t.prototype._updateTriageDetails=function(){this._triageDetails&&(this._isLoadingTriageDetails?(this._triageDetails.empty(),this._triageDetails.addClass(t.TRIAGE_DETAILS_LOADING_CSS_CLASS)):(this._triageDetails.removeClass(t.TRIAGE_DETAILS_LOADING_CSS_CLASS),this._triageDetails.text(this._workItemsNavigator.getStatusText()||"")))},t.prototype._clearElement=function(){this._infoTextWrapper&&this._infoTextWrapper.length&&o.unmountWorkItemTypeIcon(this._infoTextWrapper[0]);this.getElement().empty()},t.TRIAGE_DETAILS_LOADING_CSS_CLASS="loading",t.ACTION_INFOBAR_SHOW_INFO="workitem-infobar-show-info",t}(a.WorkItemThrottleControl);t.WorkItemInfoBar=p;u.initClassPrototype(p,{_workItemsNavigator:null,_triageDetails:null})});

define("WorkItemTracking/Scripts/Extensions/TFS.WorkItemTracking.Extensions",["require","exports","q","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Service","VSS/Context","VSS/Utils/String","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u,f,e,o,s){var h,c;Object.defineProperty(t,"__esModule",{value:!0});t.ContributionService=t.Contributions=void 0,function(n){n.WORK_WEB="ms.vss-work-web.";n.WORKITEM_FORM_CONTRIBUTION="work-item-form";n.WORKITEM_FORM_CONTRIBUTION_SERVICE=n.WORK_WEB+n.WORKITEM_FORM_CONTRIBUTION;n.WORKITEM_FORM_SERVICE_CONTRIBUTION_TYPE=n.WORK_WEB+"work-item-notifications"}(h=t.Contributions||(t.Contributions={}));c=function(){function n(){}return n.getServiceContributions=function(t){return n._getServiceContributions(t)},n.getContribution=function(n){return f.getService(u.ExtensionService).getContribution(n)},n.getControlContributionInstance=function(n,t){return n.getRegisteredInstance(t,e.getDefaultWebContext()).then(function(i){return{host:n,objectId:t,contribution:null,uri:null,source:i}},function(){throw new Error(o.format(s.CannotGetRegisteredInstance,t));})},n._getServiceContributions=function(t){return t&&t.length?f.getService(u.ExtensionService).getContributionsForTargets(t).then(function(t){var r=i.defer(),u=[];return t.forEach(function(t){if(o.ignoreCaseComparer(t.type,h.WORKITEM_FORM_SERVICE_CONTRIBUTION_TYPE)===0){var i=n._getServiceContributionWithSource(t);i&&u.push(i)}}),i.allSettled(u).then(function(n){var t=[];n.forEach(function(n){n.value&&t.push(n.value)});r.resolve(t)},r.reject),r.promise}):i.resolve([])},n._getServiceContributionWithSource=function(t){return n._getContributionWithSource(t,function(n,t,i){return r.getBackgroundHost(n).then(function(r){return r.getRegisteredInstance(t,e.getDefaultWebContext()).then(function(u){return{host:r,objectId:t,contribution:n,uri:i,source:u}},function(){throw new Error(o.format(s.CannotGetRegisteredInstance,t));})})})},n._getContributionWithSource=function(t,r){var f=t.id||"",h;if(f&&t.properties.uri)return h=u.ExtensionHelper.resolveUriTemplateProperty(t,e.getDefaultWebContext()),i.timeout(h.then(function(n){return r(t,f,n)}),n._contributionSourceTimeout,o.format(s.ContributionTimedOut,f));throw new Error(o.format(s.MissingUri,f));},n._contributionSourceTimeout=1e4,n}();t.ContributionService=c});

define("WorkItemTracking/Scripts/Utils/InitialValueHelper",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/TFS.WorkItemTracking"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.InitialValueHelper=void 0;var u;(function(n){function t(n,t){var e,u,o,f,s;for(e in t)t.hasOwnProperty(e)&&(u=decodeURIComponent(e),o=null,u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?o=u.substring(1,u.length-1):u.charAt(0)==="$"&&(o=u.substr(1)),o&&(f=n.getField(o),f&&f.isEditable()&&(s=f.fieldDefinition.type===i.FieldType.Html||f.fieldDefinition.type===i.FieldType.History?r.Field.normalizeHtmlValue(t[e]):t[e],f.setValue(s||""))))}function u(n){var t;return t={},t.parameters=n.workItemType.name,$.each(n.getTemplateFieldValues(),function(n,i){t["["+n+"]"]=i===undefined||i===null?"":i}),n.store.getTfsContext().getPublicActionUrl("create","workItems",t)}n.assignInitialValues=t;n.generateInitialValueUrl=u})(u=t.InitialValueHelper||(t.InitialValueHelper={}))});

define("WorkItemTracking/Scripts/Utils/WorkItemDocument",["require","exports","VSS/Artifacts/Services","VSS/Artifacts/Constants","VSS/VSS"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemDocument=void 0;var f=function(){function n(n){this._workItem=n}return n.prototype.save=function(n,t){this._workItem.beginSave(n,t)},n.prototype.getMoniker=function(){return i.LinkingUtilities.encodeUri({tool:r.ToolNames.WorkItemTracking,type:r.ArtifactTypeNames.WorkItem,id:this._workItem.id.toString()})},n.prototype.getWorkItem=function(){return this._workItem},n}();t.WorkItemDocument=f;u.initClassPrototype(f,{_workItem:null})});

define("WorkItemTracking/Scripts/Controls/WorkItemFormBase",["require","exports","Presentation/Scripts/TFS/FeatureRef/TFS.WatchDogService","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","VSS/Artifacts/Constants","VSS/Artifacts/Services","VSS/Contributions/Services","VSS/Controls","VSS/Controls/Dialogs","VSS/Controls/Navigation","VSS/FeatureAvailability/Services","VSS/Performance","VSS/Telemetry/Services","VSS/User/Services","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/UI","WorkItemTracking/Scripts/ActionUrls","WorkItemTracking/Scripts/Controls/WorkItemForm/LoadingSpinnerOverlay","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/Scripts/Extensions/TFS.WorkItemTracking.Extensions","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemManager","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Utils/InitialValueHelper","WorkItemTracking/Scripts/Utils/PerfScenarioManager","WorkItemTracking/Scripts/Utils/TelemetryUtils","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper","WorkItemTracking/Scripts/Utils/WorkItemControlsActions","WorkItemTracking/Scripts/Utils/WorkItemDocument","q","VSS/Diag","VSS/Events/Document","VSS/Events/Services","VSS/Utils/String","VSS/VSS","VSS/Resources/VSS.Resources.Common","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Service","VSS/LWP","VSS/LoaderPlugins/Css!WorkItemArea","WorkItemTracking/Scripts/Utils/WorkItemPermissionDataHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni){function fi(n,t){return n.path()+(t?"_DeletedView":"")}var ii;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemFormBase=void 0;var ri="form-dark-theme",ui="themeChanged",ei=bt.getErrorMessage,ti=pt.getService();ii=function(n){function t(t){var i=__construct(this,n,[t]);for(var f in i)i.hasOwnProperty(f)&&(this[f]=i[f]);return i._servicesContributionIds=[it.Contributions.WORKITEM_FORM_CONTRIBUTION_SERVICE],i._handleThemeChangedEvent=function(n){var t=n.detail;t&&t.isDark?i._element.addClass(ri):i._element.removeClass(ri)},i._shouldWorkItemBeUpdated=function(){return i._workItem.isSaving()||i._workItem.isDirty(!0,[u.CoreField.History])?!1:!0},i._onWorkItemUpdated=function(n){var e=n.changeType,o=n.id,s=n.linkOnlyUpdate,h=n.revision,t=n.isCommentReactionUpdate,c=n.commentId,l=v.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.EnableLiveReloadForWorkItemLinks,!1);if(i._workItem&&o===i._workItem.id&&((l?s:!1)||t||!(i._workItem.revision>=h))&&i._shouldWorkItemBeUpdated())if(t)i._workItem.DiscussionCommentUpdated(c);else{var u=Date.now(),f=e==="delete",a=i._workItem.project.guid,y=i._workItem.workItemType.referenceName;i._workItem.beginRefresh(function(){i._workItem&&(f?(i.bind(i._workItem,!0),i.showNotification(dt.LiveReloadWorkItemDeleteNotificationMessage)):wt.equals(a,i._workItem.project.guid,!0)?wt.equals(y,i._workItem.workItemType.referenceName,!0)||i.showNotification(dt.WorkItemTypeChangedNotificationMessage):i.showNotification(dt.WorkItemProjectChangedNotificationMessage),p.publishEvent(new p.TelemetryEventData(tt.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,tt.WITPerformanceScenario.WORKITEM_SIGNALR_REFRESHCOMPLETE,{project:i._workItem&&i._workItem.project.name,workItemSessionId:i._workItem&&i._workItem.sessionId,workItemId:i._workItem&&i._workItem.id},u)))},function(n){p.publishEvent(new p.TelemetryEventData(tt.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,tt.WITPerformanceScenario.WORKITEM_SIGNALR_REFRESHERROR,{project:i._workItem&&i._workItem.project.name,workItemSessionId:i._workItem&&i._workItem.sessionId,workItemId:i._workItem&&i._workItem.id,error:n},u))},f,!0)}},i.views={},i._onWorkItemStatusChangedDelegate=b.delegate(i,i._onWorkItemStatusChanged),i}return __extends(t,n),t.prototype.initializeOptions=function(t){var i="work-item-form work-item-form-main",r,u;this._isDarkThemeColorRemapEnabled()&&(r=ni.getLWPService("IVssThemeService"),u=r?r.getCurrentTheme():null,u&&u.isDark&&(i="".concat(i," ").concat(ri)));n.prototype.initializeOptions.call(this,$.extend({coreCssClass:i,readOnly:!1},t))},t.prototype.initialize=function(){var t=this,i;if(ot.PerfScenarioManager.addSplitTiming(tt.PerformanceEvents.WORKITEMFORMBASE_INITIALIZE,!0),this._isDarkThemeColorRemapEnabled()&&document.body.addEventListener(ui,this._handleThemeChangedEvent),this._previousDocument=this._getActiveDocument(),l.Dialog._dialogActionInProgress=!1,n.prototype.initialize.call(this),this._options)if(this._options.action===g.ActionUrl.ACTION_EDIT)this.beginShowWorkItem(this._options.id,function(){t._options.sourceView==="IDE"&&(y.getScenarioManager().recordPageLoadScenario(tt.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,tt.WITPerformanceScenario.WORKITEM_OPENIDE_NEWLAYOUT),t._options.sourceView=null)},bt.handleError);else if(this._options.action===g.ActionUrl.ACTION_NEW){if(!this._options.witd)throw new Error(wt.format(kt.InvalidParameter,"witd"));i=e.ProjectCollection.getConnection(this._options.tfsContext).getService(ft.WorkItemStore);i.beginGetProject(this._options.tfsContext.navigation.projectId,function(n){n.beginGetWorkItemType(t._options.witd,function(n){var i=ut.WorkItemManager.get(n.store).createWorkItem(n);t._options.id&&(i.tempId=-t._options.id);et.InitialValueHelper.assignInitialValues(i,t._options.initialValues);t.bind(i);t._setActiveDocument(i)},bt.handleError)},bt.handleError)}ot.PerfScenarioManager.addSplitTiming(tt.PerformanceEvents.WORKITEMFORMBASE_INITIALIZE,!1)},t.prototype._dispose=function(){if(this._previousDocument?this._setActiveDocument(this._previousDocument.getWorkItem()):this._setActiveDocument(null),this.unbind(!1,!0),this.views){for(var t in this.views)this.views.hasOwnProperty(t)&&this.views[t].dispose();this.views={}}this._loadingOverlay&&(this._loadingOverlay.dispose(),this._loadingOverlay=null);this._isDarkThemeColorRemapEnabled()&&document.body.removeEventListener(ui,this._handleThemeChangedEvent);n.prototype._dispose.call(this)},t.prototype.bind=function(n,t){var i=this,r,u;if(!this.isDisposed())return this._workItem!==n||t?(this.unbind(),this._disposed)?at.resolve(null):(r=at.defer(),ot.PerfScenarioManager.addSplitTiming(tt.PerformanceEvents.WORKITEMFORM_BINDWORKITEM,!0),this._servicesContributionPromise||(this._servicesContributionPromise=it.ContributionService.getServiceContributions(this._servicesContributionIds)),this._workItem=n,ut.WorkItemManager.get(n.store).pin(n),n.attachWorkItemChanged(this._onWorkItemStatusChangedDelegate),n.isSaving()&&this.showBusyOverlay(),u=function(){i._setActiveDocument(n);i._fireEventToContributions(function(t){if(typeof t.onLoaded=="function"){var i={id:n.id,isNew:n.isNew(),isReadOnly:n.isReadOnly()};t.onLoaded(i)}});i.currentView.bind(n);i.onBind(n);i._onWorkItemDeleteErrorDelegate||(i._onWorkItemDeleteErrorDelegate=function(n,t){i._workItem&&(i._needToClearDeleteError=!0,i._workItem.setError(t))},ti.attachEvent(ct.WorkItemActions.WORKITEM_DELETE_ERROR,i._onWorkItemDeleteErrorDelegate));i._showBusyFormDelegate&&i._hideBusyFormDelegate||(i._showBusyFormDelegate=function(){i.showBusyOverlay()},i._hideBusyFormDelegate=function(){i.hideBusyOverlay()});ti.attachEvent(ct.WorkItemActions.ACTION_SHOW_WORKITEM_FORM_BUSY,i._showBusyFormDelegate);ti.attachEvent(ct.WorkItemActions.ACTION_HIDE_WORKITEM_FORM_BUSY,i._hideBusyFormDelegate);ot.PerfScenarioManager.addSplitTiming(tt.PerformanceEvents.WORKITEMFORM_BINDWORKITEM,!1);i._fire("onBind");i._connectSignalR();i._showNotificationMessage(n);r.resolve(null)},this._beginAttachView(n.workItemType,u,n.isDeleted()),r.promise):at.resolve(null)},t.prototype.unbind=function(n,t){if(this.hideBusyOverlay(),this.clearNotification(),this._workItem){ot.PerfScenarioManager.addSplitTiming(tt.PerformanceEvents.WORKITEMFORM_UNBINDWORKITEM,!0);this._disconnectSignalR();var i=this._workItem.id;this._fireEventToContributions(function(n){if(typeof n.onUnloaded=="function")n.onUnloaded({id:i})});this._workItem.detachWorkItemChanged(this._onWorkItemStatusChangedDelegate);this._onWorkItemDeleteErrorDelegate&&(ti.detachEvent(ct.WorkItemActions.WORKITEM_DELETE_ERROR,this._onWorkItemDeleteErrorDelegate),this._onWorkItemDeleteErrorDelegate=null);(this._showBusyFormDelegate||this._hideBusyFormDelegate)&&(ti.detachEvent(ct.WorkItemActions.ACTION_SHOW_WORKITEM_FORM_BUSY,this._showBusyFormDelegate),this._showBusyFormDelegate=null,ti.detachEvent(ct.WorkItemActions.ACTION_HIDE_WORKITEM_FORM_BUSY,this._hideBusyFormDelegate),this._hideBusyFormDelegate=null);this.currentView&&(this.currentView.unbind(t),n&&this.currentView.detachLayout());this._needToClearDeleteError===!0&&(this._needToClearDeleteError=!1,this._workItem.clearError());ht.WIFormCIDataHelper.workItemDisposed(this._workItem.sessionId);ut.WorkItemManager.get(this._workItem.store).unpin(this._workItem);this._workItem=null;this.onUnbind();ot.PerfScenarioManager.addSplitTiming(tt.PerformanceEvents.WORKITEMFORM_UNBINDWORKITEM,!1)}},t.prototype.showLoadingIndicator=function(n){this._loadingOverlay||(this._loadingOverlay=new nt.LoadingSpinnerOverlay(this._element[0]));this._loadingOverlay.show(n)},t.prototype.hideLoadingIndicator=function(){this._loadingOverlay&&this._loadingOverlay.hide()},t.prototype.onBind=function(){},t.prototype.onUnbind=function(){},t.prototype.showNotification=function(){},t.prototype.clearNotification=function(){},t.prototype._onLinksChanged=function(){},t.prototype.suppressFieldUpdates=function(n){n===void 0&&(n=!0);this.currentView&&this.currentView.suppressFieldUpdates(n)},t.prototype.showWorkItem=function(n){var t=this,r;return this._cancelable&&(this._cancelable.cancel(),this._cancelable=null),this._hideError(),this.hideLoadingIndicator(),r=function(){var u=n.store.getWorkItemTypesEtagForCI(),f,e,o,s;ot.PerfScenarioManager.endScenario(tt.WITPerformanceScenario.QUERIESHUB_TRIAGEVIEW_OPENWORKITEM,{WorkItemTypesMetadataStamp:u});ot.PerfScenarioManager.endScenario(tt.WITPerformanceScenario.QUERY_OPENRESULTS,{WorkItemTypesMetadataStamp:u});f=n.isNew()?tt.WITPerformanceScenario.WORKITEM_OPENFORM_CREATE_NEWLAYOUT:tt.WITPerformanceScenario.WORKITEM_OPENFORM_NEWLAYOUT;ot.PerfScenarioManager.endScenario(f,{WorkItemType:"[NonEmail: "+n.workItemType.name+"]",Project:n.project.name,WorkItemTypesMetadataStamp:u,linkDetails:st.TelemetryUtils.getWorkItemLinkTelemetryDetails(n)});gt.getService(i.WatchDogService,t._getTfsContext().contextData).endWatchScenario(f);ot.PerfScenarioManager.startScenario(tt.WITUserScenarioActions.WORKITEM_CREATEOREDIT,!1);try{e={numberOfFields:t.currentView.controls.filter(function(n){return n.getControlType()!=="LinksControl"}).length,customFields:t.currentView.controls.filter(function(n){return n._fieldName&&n.getControlType()!=="LinksControl"&&t._isCustomField(n)}).length,fieldTypeFrequencyMap:t._getFieldTypeMap(t.currentView.controls,n)}}catch(h){}o=t._getTfsContext().navigation.currentController;s=t._getTfsContext().navigation.currentAction;p.publishEvent(new p.TelemetryEventData(tt.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,tt.WITPerformanceScenario.WORKITEM_OPENFORM,__assign({workItemType:"[NonEmail: "+n.workItemType.name+"]",project:n.project.name,isNew:n.isNew(),workItemSessionId:n.sessionId,originArea:o+"/"+s,workItemId:n.id,action:n.isNew()?"Create":"Edit"},e),Date.now()));t._unbind("onBind",r)},this._bind("onBind",r),this.bind(n)},t.prototype._isCustomField=function(n){return n._fieldName&&!n._fieldName.toLowerCase().startsWith("system.")&&!n._fieldName.toLowerCase().startsWith("microsoft.vsts.")},t.prototype._getFieldTypeMap=function(n,t){var r=this,i={};return n.forEach(function(n){var e=n._fieldName&&t.store.getFieldDefinition(n._fieldName),f;e&&(f=u.FieldType[e.type],f&&(i[f]||(i[f]={custom:0,oob:0}),n.getControlType()!=="LinksControl"&&(r._isCustomField(n)?i[f].custom=i[f].custom+1:i[f].oob=i[f].oob+1)))}),i},t.prototype.focus=function(n){(n&&n.force||this._workItem.isNew())&&$("input:visible:not([disabled])",this._element).first().focus(200)},t.prototype.isFocused=function(){return $(":focus",this._element).length===1},t.prototype.beginShowWorkItem=function(n,t,i,r,u){var f=this,o=250,l=e.ProjectCollection.getConnection(this._options.tfsContext).getService(ft.WorkItemStore),s=ut.WorkItemManager.get(l),v=function(n,r){var e=0,h,c;vt.logTracePoint("WorkItemForm.showWorkItem.start");h=Date.now();f._cancelable&&f._cancelable.cancel();f._workItemIdBeingFetched=n;f.cancelDelayedFunction("bind");h-f._lastShow<300&&(e=o);f._lastShow=h;c=function(){f._cancelable=new b.Cancelable(f);f.showLoadingIndicator(o);ot.PerfScenarioManager.addSplitTiming(tt.PerformanceEvents.WORKITEMFORM_GETWORKITEM,!0);s.beginGetWorkItem(n,f._cancelable.wrap(function(n){ot.PerfScenarioManager.addSplitTiming(tt.PerformanceEvents.WORKITEMFORM_GETWORKITEM,!1);f._cancelable=null;f.hideLoadingIndicator();f.showWorkItem(n);typeof t=="function"&&t.call(f,f,n);f._workItemIdBeingFetched=0}),f._cancelable.wrap(function(n){f._cancelable=null;f.hideLoadingIndicator();f._workItemIdBeingFetched=0;a.FullScreenHelper.getFullScreen()&&a.FullScreenHelper.setFullScreen(!1,!0);typeof i=="function"?i.call(f,n):f.showError(n)}),r,u)};e===0?c():f.delayExecute("bind",e,!0,c)},y=r&&r.forceShow,p=this._workItemIdBeingFetched&&this._workItemIdBeingFetched===n,h=this._workItem&&this._workItem.id===n&&this.currentView&&this.currentView.workItem===this._workItem,c=s.getWorkItem(n);!this._workItemIdBeingFetched&&h&&c||p||!y&&h&&c||v(n,r&&r.isDeleted)},t.prototype.showError=function(n){this._clearCanvas();this.hideLoadingIndicator();this.unbind();this._errorSection=$(d.domElem("div","error"));this._errorSection.text(ei(n)||"Unknown error happened while accessing work item.");this._element.append(this._errorSection)},t.prototype._setActiveDocument=function(n){var t=null;n&&(t=new lt.WorkItemDocument(n));yt.getService().setActiveDocument(t)},t.prototype._getActiveDocument=function(){return yt.getService().getActiveDocument()},t.prototype._beginAttachView=function(n,t,i){var e=this,u=fi(n,i),r=this.views[u],f;r||(f={workItemType:n,form:this,readOnly:this._options.readOnly,isDeletedView:i},r=c.BaseControl.createIn(this._options.formViewType,this._element,$.extend(f,this._options&&this._options.formViewOptions)),this.views[u]=r);this.currentView&&fi(this.currentView.workItemType,this.currentView.isDeletedView)!==u&&this.currentView.detachLayout();r.beginAttachLayout(function(){e.currentView=r;t&&t()})},t.prototype._publishSavingTelemetry=function(n){var t,f,e,o;try{var s=[],h=[],r=void 0;for(t=0,f=n.getDirtyFields();t<f.length;t++){var i=f[t],c=i.fieldDefinition.referenceName,l=i.fieldDefinition.type;s.push(c);i.isUserChange()&&(h.push(c),l!==u.FieldType.DateTime||r||(r=i.fieldDefinition.id))}e={fieldsChanged:"[NonEmail:".concat(s.join(),"]"),fieldsChangedByUser:"[NonEmail:".concat(h.join(),"]"),workItemSessionId:n.sessionId,action:"Save"};o=this._buildDateTimeCIData(n,r);o&&$.extend(e,o);p.publishEvent(new p.TelemetryEventData(ht.WIFormCIDataHelper.getArea(),tt.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_SAVING,e,this._saveStartTime))}catch(a){}},t.prototype._buildDateTimeCIData=function(n,t){if(!t)return null;var u=n.getFieldValue(t,!0),f=n.getFieldValue(t),r=u?k.convertClientTimeToUserTimeZone(u,!0):null,i=f?k.convertClientTimeToUserTimeZone(f,!0):null,e=!1,o=!1,s=!1;return i&&(e=r?k.daysBetweenDates(r,i,!0)!==0:!0,o=r?r.getHours()!==i.getHours()||r.getMinutes()!==i.getMinutes():i.getHours()!==0||i.getMinutes()!==0,s=k.isGivenDayToday(i)),{dtDateChanged:e,dtTimeChanged:o,dtIsToday:s,dtIsCleared:i===null}},t.prototype._publishSavedTelemetry=function(n,t){var i,r={};t.change===rt.WorkItemChangeType.Saved?(i="WorkItem.Save",r.projectChanged=t.projectChanged,r.typeChanged=t.typeChanged):i="WorkItem.SaveCompleted";p.publishEvent(new p.TelemetryEventData(ht.WIFormCIDataHelper.getArea(),i,r,this._saveStartTime))},t.prototype._onWorkItemStatusChanged=function(n,t){var i,r;t.change===rt.WorkItemChangeType.Saving?(this._saveStartTime=Date.now(),this.showBusyOverlay(),this._publishSavingTelemetry(n)):t.change===rt.WorkItemChangeType.Saved||t.change===rt.WorkItemChangeType.SaveCompleted?(this.hideBusyOverlay(),this.clearNotification(),this._publishSavedTelemetry(n,t),t.change===rt.WorkItemChangeType.Saved&&t.firstSave&&this._connectSignalR()):t.change===rt.WorkItemChangeType.Discarded?typeof this._options.close=="function"&&this._options.close.call(this):t.change===rt.WorkItemChangeType.TypeChanging||t.change===rt.WorkItemChangeType.ProjectChanging?this._workItem&&this.currentView&&this.currentView.unbind():(t.change===rt.WorkItemChangeType.TypeChanged||t.change===rt.WorkItemChangeType.ProjectChanged)&&this.bind(n,!0);typeof this._options.workItemChanged=="function"&&this._options.workItemChanged.call(this,t);t.change===rt.WorkItemChangeType.FieldChange&&(i=this._extractFieldChanges(n,t.changedFields),r=[u.CoreFieldRefNames.ExternalLinkCount,u.CoreFieldRefNames.RelatedLinkCount,u.CoreFieldRefNames.HyperLinkCount,u.CoreFieldRefNames.AttachedFileCount],i&&r.some(function(n){return i.hasOwnProperty(n)})&&this._onLinksChanged(n));this._fireEventToContributions(function(r){switch(t.change){case rt.WorkItemChangeType.FieldChange:if(i&&typeof r.onFieldChanged=="function")r.onFieldChanged({id:n.id,changedFields:i});break;case rt.WorkItemChangeType.SaveCompleted:if(typeof r.onSaved=="function"&&!t.workItem.getError())r.onSaved({id:n.id});break;case rt.WorkItemChangeType.Reset:if(typeof r.onReset=="function")r.onReset({id:n.id});break;case rt.WorkItemChangeType.Refresh:if(typeof r.onRefreshed=="function")r.onRefreshed({id:n.id})}});this._getTfsContext().isEmbedded()&&this.delayExecute("notify-modify",200,!0,function(){var t=n.isDirty(!0);t!==this._previouslyModified&&(this._previouslyModified=t,pt.getService().fire("tfs-document-modified-change",n,{modified:t,moniker:s.LinkingUtilities.encodeUri({tool:o.ToolNames.WorkItemTracking,type:o.ArtifactTypeNames.WorkItem,id:n.id.toString()})}))})},t.prototype._extractFieldChanges=function(n,t){var r={},u,f,i;if(t)for(u in t)f=t[u],i=f.fieldDefinition.referenceName,r[i]=n.getFieldValue(i);return r},t.prototype._fireEventToContributions=function(n){this._fireEventToServiceContribution(n);this.currentView&&this.currentView.fireEventToControlContributions(n)},t.prototype._fireEventToServiceContribution=function(n){this._servicesContributionPromise&&this._servicesContributionPromise.then(function(t){t.forEach(function(t){t.source&&n(t.source)})},function(n){p.publishEvent(new p.TelemetryEventData(tt.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"WorkItem.ContributionNotFound",{error:n}))})},t.prototype._hideCurrentView=function(){this.currentView&&this.currentView.detachLayout()},t.prototype._getTfsContext=function(){return this._workItem?this._workItem.store.getTfsContext():f.TfsContext.getDefault()},t.prototype._hideError=function(){this._errorSection&&(this._errorSection.remove(),this._errorSection=null)},t.prototype._clearCanvas=function(){this.hideBusyOverlay();this.hideLoadingIndicator();this._hideCurrentView();this._hideError()},t.prototype._showNotificationMessage=function(n){if(this._isMoveOrTypeChangeInProgress(n)){var t=this._generateProjectMoveOrTypeChangeMessage(n);this.showNotification(t)}this._showUnfollowNotificationMessage(n)},t.prototype._generateProjectMoveOrTypeChangeMessage=function(n){var t,i;return n&&n.isDirty()&&(n.hasTeamProjectChanged()?(i="bowtie-work-item-move",t=n.hasError()||!n.isValid()?dt.WorkItemMoveInProgressWithErrors:dt.WorkItemMoveInProgress):n.hasWorkItemTypeChanged()&&(i="bowtie-switch",t=n.hasError()||!n.isValid()?dt.WorkItemTypeChangeInProgressWithErrors:dt.WorkItemTypeChangeInProgress)),t&&(t='<span class="icon bowtie-icon '+i+'"><\/span> &nbsp;'+t),t},t.prototype._isMoveOrTypeChangeInProgress=function(n){return n&&n.isDirty()?n.hasTeamProjectChanged()||n.hasWorkItemTypeChanged():!1},t.prototype._showUnfollowNotificationMessage=function(n){var i=b.parseJsonIsland($(document),".work-item-unfollow-data",!0),r,t,f;i?this._displayUnfollowStatus(i,n):(r=gt.getService(h.WebPageDataService),t=r.getPageData(rt.ExtensionConstants.UnfollowsDataProvider),t&&(f=u.UnfollowResultStatus[t],this._displayUnfollowStatus(f,n)))},t.prototype._displayUnfollowStatus=function(n,t){if(n===u.UnfollowResultStatus.unfollowSuccess)this.showNotification(dt.SuccessfulUnfollowFromEmail,"icon bowtie-icon bowtie-watch-eye");else if(n===u.UnfollowResultStatus.unfollowFailed){var i=new Error(dt.FailedUnfollowFromEmail);t.setError(i)}},t.prototype._isDarkThemeColorRemapEnabled=function(){return v.FeatureAvailabilityService.isFeatureEnabled("WebAccess.WorkItemTracking.Form.DarkThemeColorRemap",!1)},t.prototype._disconnectSignalR=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return(n=this._tryGetSignalRServiceSync(),!n||!this._workItem||this._workItem.isNew())?[2]:[4,n.endWatch(this._workItem.id)];case 1:return t.sent(),[2]}})})},t.prototype._connectSignalR=function(){return __awaiter(this,void 0,void 0,function(){var n,t=this;return __generator(this,function(){return(n=v.FeatureAvailabilityService.isFeatureEnabled("WebAccess.WorkItemTracking.Form.SignalR.Enabled",!1),!n||!this._workItem||this._workItem.isDeleted()||this._workItem.isNew())?[2]:(window.setTimeout(function(){t._watchWorkItem()},0),[2])})})},t.prototype._watchWorkItem=function(){return __awaiter(this,void 0,void 0,function(){var n,t;return __generator(this,function(i){switch(i.label){case 0:return[4,this._tryGetSignalRServiceAsync()];case 1:return(n=i.sent(),!n||!this._workItem||this._workItem.isDeleted()||this._workItem.isNew())?[2]:(t=v.FeatureAvailabilityService.isFeatureEnabled("WebAccess.SignalR.AppPool",!1),[4,n.watch(this._workItem.id,this._onWorkItemUpdated,t)]);case 2:return i.sent(),[2]}})})},t.prototype._shouldLoadSignalRService=function(){var n=w.getService(),t=n.hasClaim(w.UserClaims.Member);return this._workItem&&t&&v.FeatureAvailabilityService.isFeatureEnabled("WebAccess.WorkItemTracking.Form.SignalR.Enabled",!1)},t.prototype._tryGetSignalRServiceSync=function(){if(!this._shouldLoadSignalRService())return null;try{return ni.getLWPService("ms.vss-work-web.work-item-signalr-service")}catch(n){return null}},t.prototype._tryGetSignalRServiceAsync=function(){return __awaiter(this,void 0,void 0,function(){var n,t,i;return __generator(this,function(r){switch(r.label){case 0:if(!this._shouldLoadSignalRService())return[2,null];if(n=this._tryGetSignalRServiceSync(),!!n)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),t=ni.getLWPService("IVssContributionService"),[4,t.getService("ms.vss-work-web.work-item-signalr-service")];case 2:return n=r.sent(),[3,4];case 3:return i=r.sent(),[3,4];case 4:return n||p.publishEvent(new p.TelemetryEventData(tt.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,tt.WITPerformanceScenario.WORKITEM_SIGNALR_ERROR,{project:this._workItem&&this._workItem.project.name,workItemSessionId:this._workItem&&this._workItem.sessionId,workItemId:this._workItem&&this._workItem.id,message:"Unable to get SignalR service or watch a work item"})),[2,n]}})})},t}(c.BaseControl);t.WorkItemFormBase=ii;bt.initClassPrototype(ii,{_options:null,views:null,currentView:null,_workItem:null,_onWorkItemStatusChangedDelegate:null,_cancelable:null,_lastShow:0,_statusControl:null,_errorSection:null,_workItemIdBeingFetched:0});bt.classExtend(ii,f.TfsContext.ControlExtensions)});

define("WorkItemTracking/Scripts/WorkItemFormShortcutGroup",["require","exports","TfsCommon/Scripts/KeyboardShortcuts","VSS/Utils/UI","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.KeyboardShortcuts=t.WorkItemFormShortcutGroup=void 0;f=function(n){function t(t){var i=this,f=!!t.dialogOptions,r;return i=n.call(this,u.KeyboardShortcutGroup_WorkItemForm,f)||this,i._preserveState=f,r=t.workItemFormView.workItem.isReadOnly(),r||i.registerShortcut("alt+i",{description:u.KeyboardShortcutDescription_AssignToMe,action:function(){return t.workItemFormView.assignItemToCurrentIdentity()},globalCombos:["alt+i"]}),i.registerShortcut("mod+shift+d",{description:u.KeyboardShortcutDescription_Discussion,action:function(){return t.workItemFormView.navigateToAndFocusOnDiscussion()},globalCombos:["mod+shift+d"]}),r||i.registerShortcut("mod+s",{description:u.KeyboardShortcutDescription_Save,action:function(){return!0}}),i.registerShortcut("shift+alt+c",{description:u.KeyboardShortcutDescription_CopyWorkItemTitle,action:function(){return t.copyControl.copyWorkItemLink()},globalCombos:["shift+alt+c"]}),i.registerShortcut("mod+shift+,",{description:u.KeyboardShortcutDescription_LeftTab,action:function(){return t.tabsControl.navigateTabs(u.KeyboardShortcutDescription_LeftTab)},globalCombos:["mod+shift+,"]}),i.registerShortcut("mod+shift+.",{description:u.KeyboardShortcutDescription_RightTab,action:function(){return t.tabsControl.navigateTabs(u.KeyboardShortcutDescription_RightTab)},globalCombos:["mod+shift+."]}),t.dialogOptions&&(i.registerShortcut("z",{description:u.KeyboardShortcutDescription_ToggleFullScreen,action:function(){return t.dialogOptions.maximizeToggle()}},!0),r||i.registerShortcut("mod+enter",{description:u.KeyboardShortcutDescription_SaveAndClose,action:function(){return!0}})),i}return __extends(t,n),t}(i.ShortcutGroupDefinition);t.WorkItemFormShortcutGroup=f,function(n){n.AltShortcuts=[r.KeyCode.I];n.CtrlShortcuts=[r.KeyCode.D,r.KeyCode.S]}(e=t.KeyboardShortcuts||(t.KeyboardShortcuts={}))});

define("WorkItemTracking/Scripts/Form/Models",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.PageLayoutMode=t.PageType=void 0,function(n){n[n.custom=1]="custom";n[n.history=2]="history";n[n.links=3]="links";n[n.attachments=4]="attachments";n[n.header=5]="header"}(i=t.PageType||(t.PageType={})),function(n){n[n.firstColumnWide=1]="firstColumnWide";n[n.equalColumns=2]="equalColumns"}(r=t.PageLayoutMode||(t.PageLayoutMode={}))});

define("WorkItemTracking/Scripts/Form/Grids",["require","exports","VSS/Controls","WorkItemTracking/Scripts/Form/Models","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Utils/String"],function(n,t,i,r,u,f){var o,e,s,h,c,l,a;Object.defineProperty(t,"__esModule",{value:!0});t.TwoOneOneOneSectionFormGrid=t.ThreeOneSectionFormGrid=t.TwoOneOneSectionFormGrid=t.SingleSectionFormGrid=t.LeftSectionPrimaryFormGrid=t.FormGrid=t.GridSizeMode=void 0,function(n){n[n.MultipleColumns=0]="MultipleColumns";n[n.SingleColumn=1]="SingleColumn"}(o=t.GridSizeMode||(t.GridSizeMode={}));e=function(n){function t(t){var i=__construct(this,n,[t]);for(var u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);return i._sectionContainer=$("<div />").addClass("section-container"),i._useFixedLayout=t&&t.useFixedLayout,i._sectionsMap={},i.mode=o.MultipleColumns,i.layoutMode=t?t.layoutMode:r.PageLayoutMode.firstColumnWide,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"form-grid"},t))},t.prototype.initialize=function(){if(this._prepareSections(),this.addSections(),this._useFixedLayout){var t=this.getMinWidthForFullLayout();this._element.css("min-width",t+"px")}this.setAttribute("tabindex",-1);n.prototype.initialize.call(this)},t.prototype.adjustGridSections=function(){},t.prototype.handleSectionResize=function(){},t.prototype.getSection=function(n){return n===t.BottomSection?$("."+n.toLowerCase(),this._element):this._sectionsMap[n]?this._sectionsMap[n]:this._getNextSection(n)},t.prototype.show=function(){this._element.show()},t.prototype.hide=function(){this._element.hide()},t.prototype.addToSection=function(n,t){var i=this.getSection(t);i.append(n)},t.prototype.addSections=function(){this._element.append(this._sectionContainer)},t.prototype.getSectionContainer=function(){return this._sectionContainer},t.prototype.getSectionContainerWidth=function(){var n=this.getPreciseWidth(this._sectionContainer);return Math.max(n,t.SmallFormWidth)},t.prototype.getMinWidthForFullLayout=function(){return t.LargeFormWidth},t.prototype.getPreciseWidth=function(n){return n.length>=1?this.roundValue(n[0].getBoundingClientRect().width):0},t.prototype.getPreciseHeight=function(n){return n.length>=1?this.roundValue(n[0].getBoundingClientRect().height):0},t.prototype.createSectionElement=function(n){return $("<div />").addClass(n).addClass("section")},t.prototype.roundValue=function(n){return Math.round(n*1e3)/1e3},t.prototype._getNextSection=function(n){for(var i,r,t=0;t<this._sectionsData.length;t++)if(i=this._sectionsData[t],r=i.selectionElement,i.isEmptySection)return i.isEmptySection=!1,this._sectionsMap[n]=r,r;return null},t.prototype._prepareSections=function(){var n=this;this._sectionsData=[];this._sectionElements.forEach(function(t){n._sectionsData.push({selectionElement:t,isEmptySection:!0})})},t.FormWidthMargin=2,t.ExtraLargeFormWidth=1200+t.FormWidthMargin*5,t.LargeFormWidth=960+t.FormWidthMargin*4,t.MediumFormWidth=720+t.FormWidthMargin*3,t.MediumFormWidthEqualColums=500+t.FormWidthMargin*3,t.SmallFormWidth=480+t.FormWidthMargin*2,t.LargeSectionWidth=480,t.SmallSectionWidth=240,t.BottomSection="bottom-section",t}(i.BaseControl);t.FormGrid=e;s=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initialize=function(){var u,t,i,f,o,s;for(this._wrappingSectionsContainer=$("<div />").addClass("wrapping-container"),this._sectionElements=[],u=this.getNumberOfSections(),t=0;t<u;t++)i=t+1,f="section".concat(i," form-section"),i==1&&this.layoutMode===r.PageLayoutMode.firstColumnWide&&(f+=" wide-section"),i==u&&(f+=" last-section"),o=this._getLabelFromSectionNumber(i),this._sectionElements[t]=this.createSectionElement(f,o);this._sectionElements[u-1].css("float","right");s=this.layoutMode===r.PageLayoutMode.equalColumns?e.BottomSection+" equal-sections":e.BottomSection;this._bottomSection=this.createSectionElement(s,"");this._clearFloatDiv=$("<div />").css("clear","left");n.prototype.initialize.call(this)},t.prototype.adjustGridSections=function(){this.updateLayout();this.handleSectionResize()},t.prototype.handleSectionResize=function(){var n,t;this._sectionElements.length&&(this.mode===o.SingleColumn?(this._bottomSection.css("width","100%"),this._clearFloatDiv.next().length===0&&this._clearFloatDiv.insertBefore(this._bottomSection)):(n=$(this._sectionElements[0]).prop("style").width,n&&n.indexOf("%")===n.length-1&&(n=n.replace("%",""),t=parseInt(n),this._bottomSection.css("width",t+"%"))))},t.prototype.updateLayout=function(){},t.prototype.addSections=function(){var i=this,u=this._getSectionElements(),t=this.getSectionContainer(),r=t;$.each(u,function(n,u){r.append(u);n==0&&(t.append(i._wrappingSectionsContainer),r=i._wrappingSectionsContainer)});t.append(this._clearFloatDiv);t.append(this._bottomSection);n.prototype.addSections.call(this)},t.prototype.getNumberOfSections=function(){return 0},t.prototype.updateWidths=function(n,t){var r=this,i=this._getSectionElements();$.each(i,function(u,f){if(u===0){f.css("width",n+"%");var e=100-n;e===0&&i.length>1&&(e=100);r._wrappingSectionsContainer.width(e+"%")}else f.css("width",t+"%")})},t.prototype.getSectionWidths=function(n,t){var r=this,i=0,u=this._getSectionElements();return n--,t--,$.each(u,function(u){u>=n&&u<=t&&(i=r.roundValue(i+r._getSectionWidth(u)))}),i},t.prototype.getMinWidthForFullLayout=function(){var n=e.LargeFormWidth,t=this.getNumberOfSections();return t>0&&(n=e.LargeSectionWidth+e.FormWidthMargin*2+(t-1)*(e.SmallSectionWidth+e.FormWidthMargin)),n},t.prototype._getSectionElements=function(){return this._sectionElements},t.prototype._getLabelFromSectionNumber=function(n){return f.format(u.FormGridSectionLabel,n)},t.prototype._getSectionWidth=function(n){var t=this._getSectionElements();return n>=0&&n<t.length?this.getPreciseWidth(t[n]):0},t.prototype.getMediumFormWidth=function(){return this.layoutMode===r.PageLayoutMode.equalColumns?e.MediumFormWidthEqualColums:e.MediumFormWidth},t}(e);t.LeftSectionPrimaryFormGrid=s;h=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.updateLayout=function(){this.mode=o.SingleColumn;this.updateWidths(100,0)},t.prototype.getNumberOfSections=function(){return 1},t}(s);t.SingleSectionFormGrid=h;c=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getNumberOfSections=function(){return 3},t.prototype.updateLayout=function(){this.layoutMode===r.PageLayoutMode.equalColumns?this.updateWidths(34,50):this.updateWidths(50,50);this.mode=o.MultipleColumns;var n=this.getSectionContainerWidth();n<e.LargeFormWidth&&n>=this.getMediumFormWidth()?this._resizeToMediumGrid(n):n<this.getMediumFormWidth()&&this._resizeToSmallGrid(n)},t.prototype._resizeToMediumGrid=function(n){this.layoutMode===r.PageLayoutMode.equalColumns?this.updateWidths(50,100):this.updateWidths(67,100);this.mode=o.MultipleColumns;var t=this.getSectionContainerWidth(),i=this.getSectionWidths(1,2);i>t&&this._resizeToSmallGrid(n)},t.prototype._resizeToSmallGrid=function(){this.layoutMode===r.PageLayoutMode.equalColumns?this.updateWidths(100,100):this.updateWidths(100,50);this.mode=o.SingleColumn},t}(s);t.TwoOneOneSectionFormGrid=c;l=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getNumberOfSections=function(){return 2},t.prototype.getMinWidthForFullLayout=function(){return Math.ceil((e.SmallSectionWidth+e.FormWidthMargin)/.33)},t.prototype.updateLayout=function(){this.layoutMode===r.PageLayoutMode.equalColumns?this.updateWidths(50,100):this.updateWidths(67,100);this.mode=o.MultipleColumns;var n=this.getSectionContainerWidth();n<this.getMediumFormWidth()&&this._resizeToSmallGrid(n)},t.prototype._resizeToSmallGrid=function(){this.updateWidths(100,100);this.mode=o.SingleColumn},t}(s);t.ThreeOneSectionFormGrid=l;a=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getNumberOfSections=function(){return 4},t.prototype.updateLayout=function(){this.layoutMode===r.PageLayoutMode.equalColumns?this.updateWidths(25,33):this.updateWidths(40,33);this.mode=o.MultipleColumns;var n=this.getSectionContainerWidth();n<e.ExtraLargeFormWidth&&n>=e.LargeFormWidth?this._resizeToLargeGrid():n<e.LargeFormWidth&&n>=this.getMediumFormWidth()?this._resizeToMediumGrid():n<this.getMediumFormWidth()&&this._resizeToSmallGrid()},t.prototype._resizeToLargeGrid=function(){this.layoutMode===r.PageLayoutMode.equalColumns?this.updateWidths(34,50):this.updateWidths(50,50);this.mode=o.MultipleColumns;var n=this.getSectionContainerWidth(),t=this.getSectionWidths(1,3);t>n&&this._resizeToMediumGrid()},t.prototype._resizeToMediumGrid=function(){this.layoutMode===r.PageLayoutMode.equalColumns?this.updateWidths(50,100):this.updateWidths(60,100);this.mode=o.MultipleColumns;var n=this.getSectionContainerWidth(),t=this.getSectionWidths(1,2);t>n&&this._resizeToSmallGrid()},t.prototype._resizeToSmallGrid=function(){this.layoutMode===r.PageLayoutMode.equalColumns?this.updateWidths(100,100):this.updateWidths(100,50);this.mode=o.SingleColumn},t}(s);t.TwoOneOneOneSectionFormGrid=a});

define("WorkItemTracking/Scripts/Form/Contributions",["require","exports","VSS/Contributions/Controls","VSS/Events/Services","WorkItemTracking/Scripts/Extensions/TFS.WorkItemTracking.Extensions","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Form/Events","VSS/Utils/UI","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence","VSS/Controls/Notifications","VSS/Controls","VSS/Service","WorkItemTracking/Scripts/Form/UserLayoutSettings"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function y(n,t,o,a,v,y,b){var k=function(n){window.console&&window.console.warn&&window.console.warn(n||f.ContributionNotFound);s.publishEvent(new s.TelemetryEventData(h.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"WorkItem.ContributionNotFound",{id:t}));l.BaseControl.createIn(c.MessageAreaControl,a,{message:{header:n||f.ContributionNotFound,type:c.MessageAreaType.Error},closeable:!1,showIcon:!0,showDetailsLink:!1})},d;if(v)a.on(i.ExternalContentHostEvents.EXTENSION_HOST_RESIZED,function(n,t){var i,u,f;t&&t.height?a.height(t.height):(f=(u=(i=n.originalEvent)===null||i===void 0?void 0:i.detail)===null||u===void 0?void 0:u.height,f&&a.height(f));r.getService().fire(e.FormEvents.ControlResizedEvent(),null)});return b=b||{},b.slowWarningDurationMs=p,b.maxHandshakeDurationMs=w,d=i.createExtensionHost(a,t,__assign(__assign({},y),{instanceId:"work-item-form-contribution-".concat(o)}),undefined,undefined,undefined,undefined,undefined,b),d.then(function(i){i&&n.addPromise(u.ContributionService.getControlContributionInstance(i,t))},k).catch(k)}function b(n,t,i){var r=$(o.domElem("div","page-extension-container"));return t&&t.contribution&&t.contribution.contributionId&&y(n,t.contribution.contributionId,t.contribution.layoutInstanceId,r,!1,undefined,{callbacks:i}),r}function k(n,t,r){var u=$(o.domElem("div","group-extension-container")),f;return t&&t.contribution&&t.contribution.contributionId&&(f=t.height||t.contribution.height,f&&u.height(f),y(n,t.contribution.contributionId,t.contribution.layoutInstanceId,u,!0,undefined,{resizeOptions:i.ResizeOptions.FixedWidth,callbacks:r})),u}function d(n,t,r){var u=$(o.domElem("div","control-extension-container")),s,f,e;return u.data("contribution",t.contribution),t&&t.contribution&&t.contribution.contributionId&&(t.label&&(s=$(o.domElem("div","workitemlabel label-control")).appendTo(u),s.append($(o.domElem("label","workitemcontrol-label")).text(t.label))),f=$(o.domElem("div","control-extension-content")).appendTo(u),e=t.height||t.contribution.height,e&&f.height(e),y(n,t.contribution.contributionId,t.contribution.layoutInstanceId,f,!0,{witInputs:t.contribution.inputs,defaultHeight:f.height(),showFieldBorder:a.getService(v.WorkItemFormUserLayoutSettingsService).fieldChromeBorder},{resizeOptions:i.ResizeOptions.FixedWidth,callbacks:r})),u}function g(n){return n&&n.isContribution}Object.defineProperty(t,"__esModule",{value:!0});t.isContribution=t.createControlContribution=t.createGroupContribution=t.createPageContribution=void 0;var p=3e4,w=2e4;t.createPageContribution=b;t.createGroupContribution=k;t.createControlContribution=d;t.isContribution=g});

define("WorkItemTracking/Scripts/Form/ContributionLoadedCallbacks",["require","exports","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence","VSS/Service","VSS/Contributions/Services"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.ContributionLoadedCallbacks=void 0;var e=function(){function n(n){var c=this,i,r,o,l,u,s,t,f,h,e;if(this.page=n,this.startTime=(new Date).getTime(),this.formContributions=[],this.contributionLookup={},i=function(n){c.formContributions.push(n.event);var t=n.formObject.id;c.contributionLookup[t]=n},n.contribution){i({event:{type:"page",id:n.contribution.contributionId,time:-1,status:"pending"},formObject:n});return}for(r=0,o=n.sections;r<o.length;r++)for(l=o[r],u=0,s=l.groups;u<s.length;u++){if(t=s[u],t.contribution){i({event:{type:"group",id:t.contribution.contributionId,time:-1,status:"pending"},formObject:t});continue}for(f=0,h=t.controls;f<h.length;f++)e=h[f],e.contribution&&i({event:{type:"control",id:e.contribution.contributionId,time:-1,status:"pending"},formObject:e})}}return n.prototype.getCallBacks=function(n){var f=this,u=this.contributionLookup[n.id].event,t=function(n){return __awaiter(f,void 0,void 0,function(){var t,f;return __generator(this,function(e){switch(e.label){case 0:return(u.status=n,u.time=(new Date).getTime()-this.startTime,!(this.formContributions.filter(function(n){var t=n.status;return t==="pending"}).length===0))?[3,2]:[4,this.getToolbarContributions()];case 1:t=e.sent();f=this.formContributions;i.publishEvent(new i.TelemetryEventData(r.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,r.WITCustomerIntelligenceFeature.WI_FORM_CONTRIBUTION,{toolbarContributions:t,formContributions:f}));e.label=2;case 2:return[2]}})})};return{failure:function(){return t("failure")},success:function(){return t("success")},slow:function(){return t("slow")}}},n.prototype.getToolbarContributions=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return[4,u.getService(f.ExtensionService).queryContributions(["ms.vss-work-web.work-item-context-menu","ms.vss-work-web.work-item-context-menu-owp","ms.vss-work-web.work-item-toolbar-menu"],f.ContributionQueryOptions.IncludeDirectTargets)];case 1:return n=t.sent(),[2,n.map(function(n){return{id:n.id,type:n.type}})]}})})},n}();t.ContributionLoadedCallbacks=e});

define("WorkItemTracking/Scripts/Form/Tabs",["require","exports","VSS/Controls","WorkItemTracking/Scripts/Form/Models","VSS/Utils/UI","VSS/Utils/String","VSS/Controls/Menus","VSS/Events/Services","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper","WorkItemTracking/Scripts/Form/Contributions","WorkItemTracking/Scripts/Utils/WorkItemControlsActions","VSS/Controls/PopupContent","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Form/ContributionLoadedCallbacks"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p,k,w,b;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemFormTab=t.WorkItemFormTabEvents=t.WorkItemFormTabsControl=void 0;p=o.getService();k=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onToolbarItemClickCallback=function(n){if(n){var t=n.get_commandSource()._item,i=t.tab;i._element.click()}},i._workItemFormResizedCallback=function(){i.resize()},i._tabsWrapper=$("<ul />").attr("role","tablist"),i._tabs=[],i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"work-item-form-tabs"},t))},t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this);this._element.append(this._tabsWrapper);this._buildTabDropDownToolBar();this._element.keydown(function(n){t._onKeyDown(n)});p.attachEvent(l.WorkItemActions.WORKITEM_MAXIMIZE_STATE_CHANGED,this._workItemFormResizedCallback)},t.prototype.resize=function(){var i=this,u=this._getAvailableWidth(),t=[],n;this._toolbarContainer.show();this._toolbarContainer.css("display","inline-block");n=this._toolbarContainer[0].getBoundingClientRect().width;n+=this._activeTab?this._activeTab.width():0;$.each(this._tabs,function(t,u){u!==i._activeTab&&u.page.pageType!==r.PageType.custom&&(u.show(),n+=u.width())});$.each(this._tabs,function(f,e){e!==i._activeTab&&e.page.pageType===r.PageType.custom&&(e.show(),n+=e.width(),n>=u&&(n-=e.width(),e.hide(),t.push(e)))});t.length>0?this._updateToolbarItems(t):this._toolbarContainer.hide()},t.prototype.getTabs=function(){return this._tabs},t.prototype.setActiveTab=function(n){for(var r,i=0;i<this._tabs.length;i++)r=this._tabs[i],r.formGrid.hide(),r.setSelected(!1),r.setTabPosition(i+1,this._tabs.length);n.setSelected(!0);this._activeTab=n;this.resize();p.fire(t.TAB_ACTIVATED_EVENT,this);h.WIFormCIDataHelper.workItemTabClick(n.page.label,{})},t.prototype.addTab=function(n,t,r,u){var e={pageIndex:t,page:n,renderer:u,formGrid:r,tabsControl:this},f=i.BaseControl.createIn(b,this._tabsWrapper,e);return this._tabs.push(f),this._tabsWrapper.append(this._toolbarContainer),f},t.prototype.getResponsiveToolbarItems=function(n){var t=[],i=[];return $.each(n||[],function(n,i){i.page.pageType!==r.PageType.custom?t.push({id:i.page.label,showText:!0,text:i.page.label,title:i.page.label,hidden:!1,tab:i,icon:i.getIconName()}):t.push({id:i.page.label,showText:!0,text:i.page.label,title:i.page.label,hidden:!1,tab:i})}),i.push({id:"actions",idIsAction:!1,icon:"bowtie-icon bowtie-ellipsis",hideDrop:!0,showText:!1,childItems:t,extraOptions:{align:"right-bottom"},ariaLabel:v.AriaLabelForActions}),i},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype.getToolbar=function(){return this._toolbar},t.prototype._dispose=function(){var t,i,r;if(p.detachEvent(l.WorkItemActions.WORKITEM_MAXIMIZE_STATE_CHANGED,this._workItemFormResizedCallback),this._tabs){for(t=0,i=this._tabs;t<i.length;t++)r=i[t],r.dispose();this._tabs=null;this._activeTab=null}n.prototype._dispose.call(this)},t.prototype.navigateTabs=function(n){var t=this.getTabs(),i=this,u,f;if(t&&t.length>0)switch(n){case v.KeyboardShortcutDescription_LeftTab:u=t.indexOf(this.getActiveTab());u>0?this.setActiveTab(t[u-1]):this.setActiveTab(t[t.length-1]);this.getActiveTab().getElement().click();break;case v.KeyboardShortcutDescription_RightTab:f=t.indexOf(this.getActiveTab());this.getActiveTab().focus();f<t.length-1?this.setActiveTab(t[f+1]):this.setActiveTab(t[0]);this.getActiveTab().getElement().click();break;case v.KeyboardShortcutDescription_HistoryTab:t.some(function(n){if(n.page.pageType==r.PageType.history)return i.setActiveTab(n),!0});break;case v.KeyboardShortcutDescription_LinksTab:t.some(function(n){if(n.page.pageType==r.PageType.links)return i.setActiveTab(n),!0});break;case v.KeyboardShortcutDescription_AttachmentsTab:t.some(function(n){if(n.page.pageType==r.PageType.attachments)return i.setActiveTab(n),!0})}},t.prototype._getAvailableWidth=function(){var n=0;return this._options.getAvailableWidth&&(n=this._options.getAvailableWidth(),n=n-t.FORM_TAB_MARGIN_RIGHT-t.FORM_TAB_BUFFER,n=n>0?n:0),n},t.prototype._buildTabDropDownToolBar=function(){this._toolbarContainer=$("<li />").addClass("work-item-form-tabs-toolbar").attr("role","list");this._element.append(this._toolbarContainer);this._toolbar=i.BaseControl.createIn(e.MenuBar,this._toolbarContainer,{hideTimeout:100,items:this.getResponsiveToolbarItems(this._tabs),executeAction:this._onToolbarItemClickCallback});this._tabsWrapper.append(this._toolbarContainer)},t.prototype._onKeyDown=function(n){var t;n.ctrlKey||n.keyCode!==u.KeyCode.LEFT||(t=this._tabs.indexOf(this._activeTab),t>0&&(this.setActiveTab(this._tabs[t-1]),n.preventDefault()));n.ctrlKey||n.keyCode!==u.KeyCode.RIGHT||(t=this._tabs.indexOf(this._activeTab),t>-1&&t<this._tabs.length-1&&(this.setActiveTab(this._tabs[t+1]),n.preventDefault()))},t.prototype._updateToolbarItems=function(n){this._toolbar.updateItems(this.getResponsiveToolbarItems(n))},t.TAB_ACTIVATED_EVENT="work-item-form-tab-activated",t.FORM_TAB_MARGIN_RIGHT=17,t.FORM_TAB_BUFFER=10,t}(i.Control);t.WorkItemFormTabsControl=k;w=function(){function n(){}return n.WorkItemFormTabSelected="wiTabSelected",n}();t.WorkItemFormTabEvents=w;b=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.tabLabel=$("<span />").addClass("page-button"),i._pageIndex=t.pageIndex,i.formGrid=t.formGrid,i.page=t.page,i._tabsControl=t.tabsControl,i.renderer=t.renderer,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"work-item-form-tab",tagName:"li"},t))},t.prototype.getIconName=function(){switch(this.page.pageType){case r.PageType.history:return"bowtie-icon bowtie-navigate-history";case r.PageType.links:return"bowtie-icon bowtie-link";case r.PageType.attachments:return"bowtie-icon bowtie-attach"}return""},t.prototype.getCountingTabClass=function(){switch(this.page.pageType){case r.PageType.links:return"link-count";case r.PageType.attachments:return"attachment-count"}return""},t.prototype.setIsValid=function(n){this._element.toggleClass("invalid",!n);n?this._element.attr("aria-label",this.page.label):this._element.attr("aria-label",f.format(s.TabErrorAriaLabel,this.page.label))},t.prototype.initialize=function(){var e=this,t,o,h;if(n.prototype.initialize.call(this),this._element.attr("tabindex",0),t=i.getId(),this._element.attr("role","tab"),this.tabLabel.appendTo(this._element),this.tabLabel.attr("id",t),o=i.getId(),h=$("<span/>").addClass(this.getCountingTabClass()).appendTo(this._element).attr("id",o),this.page.pageType!==r.PageType.custom){this.tabLabel.addClass("icon");this.tabLabel.addClass(this.getIconName());h.addClass("icon-tab");switch(this.page.label){case s.WorkItemLogControlHistoryHeader:case s.WorkItemLogControlAttachmentsHeader:case s.WorkItemLogControlLinksHeader:a.RichContentTooltip.add(f.format(s.TabHeaderTooltip,this.page.label),this._element)}this._element.addClass("icon-tab")}else this.tabLabel.text(this.page.label),this._element.attr("aria-labelledby",t);this.page.visible||this.hide();this._element.click(function(){e._tabsControl.setActiveTab(e)});u.accessible(this._element)},t.prototype.show=function(){this.page&&this.page.visible===!0&&(this._element.show(),this._element.css("display","inline-block"))},t.prototype.hide=function(){this._element.hide()},t.prototype.width=function(){return this._element[0].getBoundingClientRect().width},t.prototype.setSelected=function(n){this._setSelectedState(n);n===!0&&(this._initializeTab(),this._element.focus(),this.formGrid.show(),this.formGrid.adjustGridSections(),this.formGrid.getElement().find(".work-item-control").trigger(w.WorkItemFormTabSelected),this.show())},t.prototype.setTabPosition=function(n,t){this._element.attr("aria-posinset",n);this._element.attr("aria-setsize",t)},t.prototype.setTabContentRenderer=function(n){this._tabContentRenderer=n},t.prototype.isBodyDrawn=function(){return $(".control",this.formGrid.getElement()).length>0},t.prototype._initializeTab=function(){if(!this._isInitialized&&(this._isInitialized=!0,this._tabContentRenderer&&this._tabContentRenderer(),this.page.isContribution)){var n=new y.ContributionLoadedCallbacks(this.page).getCallBacks(this.page);this.formGrid._element.append(c.createPageContribution(this.renderer.getContributionManager(),this.page,n))}},t.prototype._setSelectedState=function(n){n===!0?(this._element.attr("aria-selected","true"),this._element.addClass("selected-tab"),this._element.attr("tabindex","0")):(this._element.attr("aria-selected","false"),this._element.removeClass("selected-tab"),this._element.removeAttr("tabindex"))},t.prototype.dispose=function(){this._options=null;this.renderer=null;n.prototype.dispose.call(this)},t}(i.BaseControl);t.WorkItemFormTab=b});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/PlainTextControl",["require","exports","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemControl","VSS/Utils/UI"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.PlainTextControl=void 0;var u=function(n){function t(t,i,r){var u=__construct(this,n,[t,i,r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._isHidden=!1,u}return __extends(t,n),t.prototype._init=function(){n.prototype._init.call(this);this._options.hyperlink?this._control=$("<a />").attr("target","_blank").appendTo(this._container):(this._control=$("<span><\/span>").appendTo(this._container),this._options.ariaLabel&&this._control.attr("aria-label",this._options.ariaLabel))},t.prototype.invalidate=function(t){if(n.prototype.invalidate.call(this,t),!t){var i=this._getField();i&&this._renderFieldValue(i)}},t.prototype._renderFieldValue=function(n){var f=n.getValue(),t=this._getFieldTextValue(),i=typeof this._options.textFormatter=="function"?this._options.textFormatter(n,t,f):t,u;this._control.text(i);r.tooltipIfOverflow(this._control[0],{titleText:t});this._options.hyperlink&&(u=typeof this._options.hyperlink=="function"?this._options.hyperlink(n.workItem):this._options.hyperlink,this._control.attr("href",u));i?(this._isHidden&&this._container.show(),this._isHidden=!1):(this._container.hide(),this._isHidden=!0,this._control.attr("href",""))},t.prototype._getControlValue=function(){return this._control.text()},t.prototype.clear=function(){this._control.text("");this._control.attr("href","");this._container.hide();this._isHidden=!0},t}(i.WorkItemControl);t.PlainTextControl=u});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/FreshnessIndicatorControl",["require","exports","react","react-dom","VSSUI/Ago","WorkItemTracking/Scripts/Controls/WorkItemForm/PlainTextControl","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u,f,e,o){var s,h;Object.defineProperty(t,"__esModule",{value:!0});t.FreshnessIndicatorControl=t.FreshnessIndicatorDisplayMode=void 0,function(n){n[n.None=0]="None";n[n.Minimal=1]="Minimal";n[n.Full=2]="Full"}(s=t.FreshnessIndicatorDisplayMode||(t.FreshnessIndicatorDisplayMode={}));h=function(n){function t(t,i,r){var u=__construct(this,n,[t,i,r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._fullIndicatorWidth=0,u._minimalIndicatorWidth=0,u}return __extends(t,n),t.prototype._init=function(){n.prototype._init.call(this);this._control=$("<div />").addClass("freshness-indicator").appendTo(this._container);this._fullIndicator=$("<span />").appendTo(this._control);this._minimalIndicator=$("<span />").appendTo(this._control);this._control.append(":&nbsp;");this._timestamp=$("<span />").appendTo(this._control)},t.prototype._renderFieldValue=function(){var h,n,t;if(this._workItem.isNew()){this._adjustDisplay(!0);return}var c=o.LastUpdatedDateLabel,f=o.LastUpdatedLabel,l=this._workItem.getField(e.CoreFieldRefNames.ChangedBy),s=l.getIdentityValue();s&&(f+=s.displayName);h=this._workItem.getField(e.CoreFieldRefNames.ChangedDate);n=h.getValue();r.unmountComponentAtNode(this._timestamp[0]);n&&r.render(i.createElement(u.Ago,{date:n}),this._timestamp[0]);this._control.show();t=this._timestamp.outerWidth();this._fullIndicator.text(f);this._fullIndicatorWidth=this._fullIndicator.outerWidth()+t;this._minimalIndicator.text(c);this._minimalIndicatorWidth=this._minimalIndicator.outerWidth()+t;this._adjustDisplay()},t.prototype.onControlResized=function(){this._adjustDisplay(this._workItem.isNew())},t.prototype._adjustDisplay=function(n){var t=s.None;this._options&&typeof this._options.getDisplayMode=="function"&&(t=this._options.getDisplayMode(this._fullIndicatorWidth,this._minimalIndicatorWidth));n&&this._control.hide();t===s.Full?(this._control.show(),this._fullIndicator.show(),this._minimalIndicator.hide()):t===s.Minimal?(this._control.show(),this._fullIndicator.hide(),this._minimalIndicator.show()):this._control.hide()},t.prototype.clear=function(){r.unmountComponentAtNode(this._timestamp[0]);this._fullIndicator.text("");this._minimalIndicator.text("");this._fullIndicatorWidth=0;this._minimalIndicatorWidth=0},t}(f.PlainTextControl);t.FreshnessIndicatorControl=h});

define("WorkItemTracking/Scripts/Form/FormGroup",["require","exports","VSS/Controls","VSS/Controls/Panels","VSS/Controls/PopupContent","VSS/Utils/String","VSS/Utils/UI","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper","VSS/Context"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.FormGroup=void 0;var l=e.domElem,a=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"grid-group-container"},t))},t.prototype.appendContent=function(n){this._collapsibleGroup.appendContent(n)},t.prototype.initialize=function(){var n=this;this.model=this._options.model;this._isMaximizable=this._options.isMaximizable;this._isCollapsible=this._options.isCollapsible;this._hasTooltip=this._options.hasTooltip;this._fireToggleEvent=!0;this._collapsibleGroup=i.BaseControl.createIn(r.CollapsiblePanel,this._element,{cssClass:"grid-group",collapsed:!1,headerCss:t.FORM_GROUP_HEADER_CLASS,iconCollapseCss:"bowtie-icon bowtie-chevron-down",iconExpandCss:"bowtie-icon bowtie-chevron-up",headerNotFocusable:!0,onToggleCallback:function(t){if(n._collapsibleHeaderText.attr("aria-expanded",String(t)),h.WIFormCIDataHelper.groupPanelCollapsed(t,{groupName:n.model.label}),typeof n._options.onToggleCallback=="function")n._options.onToggleCallback(t);if(n._headerTitleElement){var i=f.format(t?o.FormGroupCollapseAriaLabel:o.FormGroupExpandAriaLabel,n.model.label);n._headerTitleElement.attr("aria-label",i)}n._groupElement.toggleClass("collapsed",!t)}});this._isMaximizable&&this._collapsibleGroup.prependHeader(this._createMaximizableButton());this._collapsibleHeaderText=this._createHeaderElement();this._collapsibleGroup.prependHeader(this._collapsibleHeaderText);this._collapsibleGroup.setDisabled(!this._isCollapsible);this._groupElement=this._element.find(".grid-group");this._groupElement.focusin(function(){n._groupElement.addClass("focus")});this._groupElement.focusout(function(){n._groupElement.removeClass("focus")})},t.prototype._createHeaderElement=function(){var n=this,i=this.model.controls&&this.model.controls.length?this.model.controls[0].controlOptions:null;return this._headerTitleElement=$("<span />").attr({role:"button","aria-label":f.format(o.FormGroupCollapseAriaLabel,this.model.label)}).data("witOptions",i).uniqueId().text(this.model.label),this._hasTooltip&&this._headerTitleElement.data("witOptions",i).addClass("headerlabel"),this._screenReaderText=$("<div />").attr({role:"heading","aria-level":2,"class":"screenreader"}).uniqueId().text(this.model.label),this._headerContainer=$("<span />").addClass(t.COLLAPSABLE_HEADER_CLASS).attr({tabIndex:0,"aria-labelledby":this._headerTitleElement.attr("id")}).focus(function(t){var i,r;n._collapsibleHeaderText.closest(".tfs-collapsible-header").addClass("focus");i=t.originalEvent;i.type==="focus"&&c.isHighContrastMode()&&(r=e.getFocusRingFocusHandler(),r(i))}).blur(function(){n._collapsibleHeaderText.closest(".tfs-collapsible-header").removeClass("focus")}).keydown(function(t){if((t.keyCode===e.KeyCode.ENTER||t.keyCode===e.KeyCode.SPACE)&&!e.KeyUtils.isModifierKey(t))return n._collapsibleGroup.toggleExpandedState()}),this._headerContainer.append(this._screenReaderText),this._headerContainer.append(this._headerTitleElement),this._headerContainer},t.prototype.setIsValid=function(n){if(this._headerContainer.toggleClass("invalid",!n),n)this._screenReaderText.text(this.model.label);else{var t=f.format(o.GroupErrorAriaLabel,this.model.label);this._screenReaderText.text(t)}},t.prototype.setIsHidden=function(n){n?this._element.hide():this._element.show()},t.prototype.collapse=function(){this._groupElement.addClass("collapsed");this._fireToggleEvent=!1;this._collapsibleGroup.collapse();this._fireToggleEvent=!0},t.prototype.expand=function(){this._groupElement.removeClass("collapsed");this._fireToggleEvent=!1;this._collapsibleGroup.expand();this._fireToggleEvent=!0},t.prototype.isExpanded=function(){return this._collapsibleGroup.isExpanded()},t.prototype.shouldFireToggleEvent=function(){return this._fireToggleEvent},t.prototype.getGroupId=function(){return this.model.id},t.prototype.maximize=function(n){var i,r,o,e;this._isMaximized||(i=this._groupElement.parents(".witform-layout"),i.addClass("workitem-form-grid-maximized-mode"),this._groupElement.addClass("maximized-grid-group"),i.resize(),this._isMaximized=!0,r=f.format(s.RichEditorRestoreName,this.model.label),this._maximizeButton.removeClass(t.MAXIMIZE_GROUP_CLASS).addClass(t.RESTORE_GROUP_CLASS).attr("aria-label",r),u.RichContentTooltip.add(r,this._maximizeButton),this._maximizeButton.find(".bowtie-icon").removeClass(t.MAXIMIZE_ICON_CLASS).addClass(t.RESTORE_ICON_CLASS),this._collapsibleGroup.expand(),this._collapsibleGroup.setDisabled(!0),o=this._groupElement.find("."+t.FORM_GROUP_HEADER_CLASS).outerHeight(!0)+5,e=this._groupElement.find(".work-item-control").last().data("witControl"),e.maximizeInPlace&&e.maximizeInPlace(o),this._groupElement.find(".control").slice(0,-1).hide(),n&&this._maximizeButton.focus())},t.prototype.restore=function(n){var i,r,o,e;this._isMaximized&&(i=this._groupElement.parents(".witform-layout"),i.removeClass("workitem-form-grid-maximized-mode"),this._groupElement.removeClass("maximized-grid-group"),i.resize(),this._isMaximized=!1,r=f.format(s.RichEditorMaximizeName,this.model.label),this._maximizeButton.removeClass(t.RESTORE_GROUP_CLASS).addClass(t.MAXIMIZE_GROUP_CLASS).attr("aria-label",r),u.RichContentTooltip.add(r,this._maximizeButton),this._maximizeButton.find(".bowtie-icon").removeClass(t.RESTORE_ICON_CLASS).addClass(t.MAXIMIZE_ICON_CLASS),this._collapsibleGroup.expand(),this._collapsibleGroup.setDisabled(!this._isCollapsible),this._isCollapsible&&(o=this._groupElement.find(".tfs-collapsible-collapse.bowtie-icon"),o.css("display","")),e=this._groupElement.find(".work-item-control").last().data("witControl"),e.restoreInPlace&&e.restoreInPlace(),this._groupElement.find(".control").slice(0,-1).show(),n&&this._maximizeButton.focus())},t.prototype._toggleMaximized=function(n){this._isMaximizable&&(this._isMaximized?this.restore(n):this.maximize(n))},t.prototype._createMaximizableButton=function(){var n=this,o=function(){return n._toggleMaximized(!1),!1},h=function(t){if(t.keyCode===e.KeyCode.ENTER)return n._toggleMaximized(!0),!1},c=function(n){n.preventDefault()},a=$(l("div","bowtie-icon "+t.MAXIMIZE_ICON_CLASS)),i=$(l("button","richeditor-toolbar-button "+t.MAXIMIZE_GROUP_CLASS)),r=f.format(s.RichEditorMaximizeName,this.model.label);return i.on("mousedown",c).on("click",o).on("keypress",h).focus(function(){n._groupElement.addClass("focus")}).blur(function(){n.isExpanded()&&n._groupElement.removeClass("focus")}).attr({unselectable:"on","aria-label":r}).append(a),u.RichContentTooltip.add(r,i),this._maximizeButton=i,i},t.FORM_GROUP_HEADER_CLASS="wit-form-group-header",t.MAXIMIZE_GROUP_CLASS="workitem-group-maximize",t.RESTORE_GROUP_CLASS="workitem-group-restore",t.MAXIMIZE_ICON_CLASS="bowtie-view-full-screen",t.RESTORE_ICON_CLASS="bowtie-view-full-screen-exit",t.COLLAPSABLE_HEADER_CLASS="tfs-collapsible-text",t}(i.Control);t.FormGroup=a});

define("WorkItemTracking/Scripts/Form/Breakpoints",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemFormBreakpoints=t.Small=t.Medium=t.Large=void 0;var i=1050,r=800;t.Large={minWidth:i,className:"large"};t.Medium={maxWidth:i,minWidth:r,className:"medium"};t.Small={maxWidth:r,className:"small"};t.WorkItemFormBreakpoints=[t.Large,t.Medium,t.Small]});

define("WorkItemTracking/Scripts/Form/Header/Header",["require","exports","react","OfficeFabric/Utilities","VSSUI/Util","VSSUI/ResponsiveViewport","VSS/Events/Services","VSS/Utils/Array","WorkItemTracking/Scripts/Form/Breakpoints","WorkItemTracking/Scripts/Form/Events","VSS/LoaderPlugins/Css!WorkItemTracking/Form/Header/Header"],function(n,t,i,r,u,f,e,o,s,h){var l;Object.defineProperty(t,"__esModule",{value:!0});t.ResponsiveHeader=void 0;l=function(n){function t(t){var i=__construct(this,n,[t]),r,u;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return u=50,i.asyncResize=i._async.throttle(i.asyncResize,u),i.state={fullFreshnessIndicatorWidth:0},i}return __extends(t,n),t.prototype.render=function(){var u=this,n=this.props,t=n.freshnessIndicator,e=n.tabs,h=n.headerPage,l=n.createFormControl,r=this.state.fullFreshnessIndicatorWidth;return i.createElement(f.ResponsiveViewport,{className:"work-item-responsive-viewport",breakPoints:s.WorkItemFormBreakpoints,ref:function(n){return u.viewport=n},onRenderContent:function(n){var u=o.contains(n,s.Large);return i.createElement("div",{className:"work-item-responsive-header"},i.createElement("div",{className:"work-item-responsive-header-left",style:{maxWidth:u&&"calc(100% - ".concat(r,"px)")||""}},i.createElement(a,{page:h,createFormControl:l}),i.createElement(c,{className:"work-item-responsive-freshness minimal",element:t.minimal}),i.createElement(c,{className:"work-item-responsive-freshness full",element:t.full})),i.createElement("div",{className:"work-item-responsive-header-right",style:{minWidth:u&&"".concat(r,"px")}},i.createElement(c,{className:"work-item-responsive-header-tabs",element:e})))}})},t.prototype.measure=function(){this.asyncResize()},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);$(window).on("resize",this.asyncResize);var t=this.props.formViewId;e.getService().attachEvent(h.FormEvents.LayoutResizedEvent(t),this.asyncResize)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);$(window).off("resize",this.asyncResize);var t=this.props.formViewId;e.getService().detachEvent(h.FormEvents.LayoutResizedEvent(t),this.asyncResize)},t.prototype._measureFreshnessIndicator=function(){var n=this.props.freshnessIndicator,t=n&&n.full&&n.full.outerWidth();t>0&&this.setState({fullFreshnessIndicatorWidth:t})},t.prototype.asyncResize=function(){this.viewport.measure();this._measureFreshnessIndicator()},t.prototype.resolveViewport=function(n){this.viewport=n},__decorate([r.autobind],t.prototype,"resolveViewport",null),t}(r.BaseComponent);t.ResponsiveHeader=l;var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props,t=n.page,r=n.createFormControl,f=n.className;return i.createElement("div",{className:u.css("work-item-header-page",f)},t&&t.sections.filter(function(n){return n.calculatedVisible}).map(function(n){return i.createElement(v,{key:n.id,section:n,createFormControl:r})}))},t}(i.PureComponent),v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props,t=n.section,r=n.className,f=n.createFormControl;return i.createElement("div",{className:u.css("work-item-header-section",r)},t&&t.groups.filter(function(n){return n.calculatedVisible}).map(function(n){return i.createElement(y,{key:n.id,group:n,createFormControl:f})}))},t}(i.PureComponent),y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var t=this,n=this.props.group;return i.createElement("div",{className:"work-item-header-group"},n&&n.controls.map(function(n){return t.renderControl(n)}))},t.prototype.renderControl=function(n){var t=this.props.createFormControl;return i.createElement(p,{key:n.id,createFormControl:t,control:n})},t}(i.PureComponent),p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.componentDidMount=function(){if(this.controlContainer){var n=this.props,t=n.createFormControl,i=n.control;t($(this.controlContainer),i.controlOptions)}},t.prototype.render=function(){return i.createElement("div",{className:"work-item-header-control-container",ref:this.resolveContainer})},t.prototype.resolveContainer=function(n){this.controlContainer=n},__decorate([r.autobind],t.prototype,"resolveContainer",null),t}(i.PureComponent),c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props.className;return i.createElement("div",{className:n,ref:this.resolveRoot})},t.prototype.componentDidMount=function(){var n=this.props.element;this.element&&n&&this.element.appendChild(n[0])},t.prototype.resolveRoot=function(n){this.element=n},__decorate([r.autobind],t.prototype,"resolveRoot",null),t}(i.Component)});

define("WorkItemTracking/Scripts/Form/Layout",["require","exports","VSS/Error","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Utils/String","WorkItemTracking/Scripts/Utils/FormRendererHelpers"],function(n,t,i,r,u,f){var h,c,o,s,e;Object.defineProperty(t,"__esModule",{value:!0});t.ControlRules=t.LayoutInformation=t.WorkItemFormLayoutTransformationResult=t.GroupOrientation=t.LayoutConstants=void 0,function(n){n.StateGraphControlGroupName="StateGraphControl"}(h=t.LayoutConstants||(t.LayoutConstants={})),function(n){n[n.Vertical=0]="Vertical";n[n.Horizontal=1]="Horizontal"}(c=t.GroupOrientation||(t.GroupOrientation={})),function(n){n[n.None=0]="None";n[n.LayoutChanged=1]="LayoutChanged"}(o=t.WorkItemFormLayoutTransformationResult||(t.WorkItemFormLayoutTransformationResult={}));s=function(){function n(n,t,i){var u,r,f,e;if(this.layout=n,this._defaultControlOptions=t,this._buildLayout(),u=!1,i)for(r=0,f=i;r<f.length;r++)e=f[r],e.apply(this.layout)===o.LayoutChanged&&(u=!0);u&&this._buildLayout()}return n.buildUniqueControlId=function(){return"witc_".concat(++n.controlId)},n.prototype.numberOfSectionsWithContent=function(n){return n.sections.filter(function(n){return n&&n.groups&&n.groups.length&&u.startsWith(n.id,"Section")&&n.calculatedVisible}).length},n.prototype._buildLayout=function(){var n,i,f,t,r,u,e;if(this.layout.systemControls)for(n=0,i=this.layout.systemControls;n<i.length;n++)f=i[n],this._mapControl(f);for(this._calculateVisibility(this.layout.pages),t=0,r=this.layout.pages;t<r.length;t++)u=r[t],e=this._hasOnlyOneVisibleGroupInPage(u),this._mapPage(u,e);this.layout.headerPage&&this._buildHeaderPage()},n.prototype._buildHeaderPage=function(){this._calculateVisibility([this.layout.headerPage]);this._mapPage(this.layout.headerPage,!1)},n.prototype._calculateVisibility=function(n){for(var t,i,f,a,e,o,s,v,r,h,c,y,p,u=0,l=n;u<l.length;u++)if(t=l[u],i=!1,t.visible){for(f=0,a=t.sections;f<a.length;f++){for(e=a[f],o=t===n[0]&&e===t.sections[0],s=0,v=e.groups;s<v.length;s++){for(r=v[s],h=!1,c=0,y=r.controls;c<y.length;c++)if(p=y[c],p.visible){h=!0;o=!0;i=!0;break}r.isContribution&&r.visible&&(o=!0,i=!0,h=!0);r.calculatedVisible=h}e.calculatedVisible=o}t.isContribution&&(i=!0);t.visible=i}},n.prototype._hasOnlyOneVisibleGroupInPage=function(n){var t=0,i,u,f,r,e,o;if(n.sections)for(i=0,u=n.sections;i<u.length;i++){if(f=u[i],f.groups)for(r=0,e=f.groups;r<e.length;r++)if(o=e[r],o.controls&&o.calculatedVisible&&t++,t>1)break;if(t>1)break}return t===1},n.prototype._mapPage=function(n,t){for(var u,i=0,r=n.sections;i<r.length;i++)u=r[i],this._mapSection(u,t)},n.prototype._mapSection=function(n,t){for(var u,i=0,r=n.groups;i<r.length;i++)u=r[i],this._mapGroup(u,n,t)},n.prototype._mapGroup=function(n,t,i){var h=this._isMaximizableGroup(n),c,u,o,f,s;if(n.isMaximizable=h,n.isCollapsible=!i&&n.isCollapsible!==!1,n.hasTooltip=this._isMultilineField(n),!n.isContribution)for(c=h||n.controls&&n.controls.length===1&&(e.isOfType(n.controls[0],r.WellKnownControlNames.TestStepsControl)||e.isOfType(n.controls[0],r.WellKnownControlNames.AttachmentsControl)||n.controls[0].hideLabel),u=0,o=n.controls;u<o.length;u++)f=o[u],f.visible&&(s=!1,f===n.controls[n.controls.length-1]&&(s=c),this._mapControl(f,n,t,i,s))},n.prototype._isMultilineField=function(n){if(n.controls&&n.controls.length>0){var t=n.controls[0];return e.isHtmlControl(t)}return!1},n.prototype._isMaximizableGroup=function(n){var i,t;if(n.controls&&n.controls.length>0&&(i=n.controls[n.controls.length-1],e.isMaximizableControl(i))){if(n.controls.slice(0,n.controls.length-1).some(function(n){return!e.isLabelControl(n)}))return!1;for(t=0;t<n.controls.length-1;t++)if(!e.isLabelControl(n.controls[t]))return!1;return!0}return!1},n.prototype._mapControl=function(t,r,u,o,s){o===void 0&&(o=!1);s===void 0&&(s=!1);var h=__assign({controlType:t.controlType||"FieldControl",controlId:t.controlOptions&&t.controlOptions.contributionId||n.buildUniqueControlId(),hideWhenReadOnlyAndEmpty:this._defaultControlOptions.hideReadOnlyEmptyFields,fieldName:t.id,refName:t.id,readOnly:t.readonly?"True":"False",groupLabel:r&&r.label,autoFitFormHeight:o,labelPosition:"top",hideLabel:s,emptyText:t.watermark},t.controlOptions);if(t.hideLabel=s,t.hideLabel!==!0?h.label=t.label:(h.label="",h.ariaLabel=t.label),!t.isContribution&&t.metadata)try{f.readControlOptions($.parseXML(t.metadata),h)}catch(c){i.publishErrorToTelemetry(c)}e.isCustomHeightControl(t)&&(h.height=t.height&&t.height>0?t.height:u&&u.groups.length>1?200:300);t.controlOptions=h},n._buildUniqueSectionId=function(n,t){return n.concat(t)},n.controlId=0,n}();t.LayoutInformation=s,function(n){function f(n){return t(n,r.WellKnownControlNames.LabelControl)}function i(n){return t(n,r.WellKnownControlNames.HtmlControl)}function e(n){return i(n)||t(n,r.WellKnownControlNames.WebpageControl)||t(n,r.WellKnownControlNames.LinksControl)}function o(n){return i(n)||t(n,r.WellKnownControlNames.WebpageControl)||t(n,r.WellKnownControlNames.WorkItemDiscussionControl)||t(n,r.WellKnownControlNames.TestStepsControl)||t(n,r.WellKnownControlNames.LinksControl)}function t(n,t){return u.localeIgnoreCaseComparer(n.controlType,t)===0}n.isLabelControl=f;n.isHtmlControl=i;n.isCustomHeightControl=e;n.isMaximizableControl=o;n.isOfType=t}(e=t.ControlRules||(t.ControlRules={}))});

define("WorkItemTracking/Scripts/Utils/WorkItemTitleUtils",["require","exports","VSS/Utils/String","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Utils/WorkItemRichTextHelper","VSS/Controls/Navigation","VSS/Utils/Clipboard"],function(n,t,i,r,u,f,e,o){function s(n,t){var f,u;return n?(f=n.getCaption(!0),u=n.getTitle(),t>0&&u&&u.length>t&&(u=u.substr(0,t)+"..."),i.format(r.WorkItemEditorWindowTitle,f,u)):""}function h(n){if(n&&!n.isNew()){var t=n.getFieldValue(u.CoreFieldRefNames.Id),r=i.htmlEncode(n.getFieldValue(u.CoreFieldRefNames.Title)),s=n.store.getTfsContext().getActionUrl("edit","workitems",$.extend({project:n.project.name,team:null,area:"",parameters:[n.id]},e.FullScreenHelper.getUrlData())),h=i.format("<span style='font-size:11pt; background-color: inherit; color: inherit;'><a href='{0}' target='_blank' rel='noopener noreferrer'>{1} {2}<\/a><span style='font-size:11pt; background-color: inherit; color: inherit;'>: {3}<\/span><\/span>",s,n.workItemType.name,t,r);o.copyToClipboard(h,{copyAsHtml:!0,copyDialogOptions:{pageHtml:f.WorkItemRichTextHelper.getPageHtml()}})}}Object.defineProperty(t,"__esModule",{value:!0});t.copyWorkItemTitleToClipboard=t.getWorkItemEditorTitle=t.DefaultUpdateDelayMs=t.DefaultUpdateDelayEventName=t.DefaultTrimmedWorkItemEditorLength=void 0;t.DefaultTrimmedWorkItemEditorLength=128;t.DefaultUpdateDelayEventName="updateWitDocumentTitle";t.DefaultUpdateDelayMs=300;t.getWorkItemEditorTitle=s;t.copyWorkItemTitleToClipboard=h});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/CopyWorkItemLinkControl",["require","exports","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Controls","VSS/Telemetry/Services","VSS/Utils/UI","VSS/Utils/Core","VSS/Resources/VSS.Resources.Platform","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/Utils/WorkItemTitleUtils","WorkItemTracking/Scripts/CustomerIntelligence"],function(n,t,i,r,u,f,e,o,s,h,c){return function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"copy-workitem-title-container"},t))},t.prototype.initialize=function(){var n=this;this._boundControl=this._options.boundControl;this._iconControl=$("<span/>").addClass("bowtie-icon bowtie-edit-copy").appendTo(this._element);this._element.on("focusin mouseenter",function(t){n.showElement()&&(n._element.attr("role","button"),n._element.addClass("copy-enabled"),n._element.attr("aria-label",i.CopyWorkItemTitle),n._element.click(function(){n.copyWorkItemLink()}),f.accessible(n._element),n._element.addClass("bowtie-tooltipped bowtie-tooltipped-sw"),n._element.addClass(t.type==="focusin"?"focus":"hover"),n._element.attr("aria-label",i.CopyWorkItemTitle),n._boundControl&&n._boundControl.addClass(t.type==="focusin"?"copy-focus":"copy-hover"))}).on("focusout mouseleave",function(t){n._element.off("click");n._element.removeClass("copy-enabled");n._element.removeClass("bowtie-tooltipped bowtie-tooltipped-sw bowtie-tooltipped-transient");n._element.removeClass(t.type==="focusout"?"focus":"hover");n.hideElement();n._boundControl&&n._boundControl.removeClass(t.type==="focusout"?"copy-focus":"copy-hover")});if(this._boundControl)this._boundControl.on("focusin mouseenter",function(t){n.showElement()&&n._boundControl.addClass(t.type==="focusin"?"copy-focus":"copy-hover")}).on("focusout mouseleave",function(t){n._boundControl.removeClass(t.type==="focusout"?"copy-focus":"copy-hover");n.hideElement()})},t.prototype.copyWorkItemLink=function(){var n=this;h.copyWorkItemTitleToClipboard(this._workItem);e.delay(this,0,function(){n._element.focus();n._element.attr("aria-label",o.CopiedContentDialogTitle);n._element.addClass("bowtie-tooltipped-transient")});u.publishEvent(new u.TelemetryEventData(c.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,c.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_COPY_WORKITEM_LINK,{Action:"Copy the link of work item"}))},t.prototype.showElement=function(){return this._workItem&&!this._workItem.isNew()&&!this._workItem.isReadOnly()?(this._iconControl.css("display","block"),!0):!1},t.prototype.hideElement=function(){var n=this;e.delay(this,0,function(){n._element.hasClass("hover")||n._element.hasClass("focus")||n._boundControl&&(n._boundControl.hasClass("copy-hover")||n._boundControl.hasClass("copy-focus"))||n._iconControl.hide()})},t.prototype.bind=function(n){var t=this;this._workItemChangedDelegate||(this._workItemChangedDelegate=function(n,i){i.change===s.WorkItemChangeType.SaveCompleted&&t._element.attr("tabindex","0")});this._workItem&&this._workItem.detachWorkItemChanged(this._workItemChangedDelegate);this._workItem=n;this._workItem.attachWorkItemChanged(this._workItemChangedDelegate);!this._workItem||this._workItem.isNew()||this._workItem.isReadOnly()?this._element.removeAttr("tabindex"):this._element.attr("tabindex","0")},t.prototype.unbind=function(){this._workItem&&this._workItemChangedDelegate&&this._workItem.detachWorkItemChanged(this._workItemChangedDelegate);this._workItem=null},t}(r.BaseControl)});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/DiscussionAdornmentControl",["require","exports","VSS/Diag","VSS/Controls","VSS/Telemetry/Services","VSS/Utils/UI","VSS/Utils/String","q","VSS/Controls/PopupContent","VSS/VSS","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/CustomerIntelligence"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var y="WorkItemTracking/Scripts/Controls/WorkItemForm/Comments/CommentsCacheService",v=null;return function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._calculateAndSetNumberOfComments=function(){var n=i._workItem;i._calculateNumberOfComments().then(function(t){i._workItem==n&&i._setNumberOfComments(t)},function(){i._workItem==n&&i._setNumberOfComments(-1)})},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"discussion-adornment-control"},t))},t.prototype.initialize=function(){this._element.attr("role","button");this._iconControl=$("<span/>").addClass("bowtie-icon bowtie-comment-discussion").appendTo(this._element);this._numberControl=$("<span/>").addClass("text").appendTo(this._element);this._element.click(function(){u.publishEvent(new u.TelemetryEventData(a.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"WorkItem.DiscussionAdornment",{URL:location.href}))});f.accessible(this._element);this._calculateAndSetNumberOfComments()},t.prototype.onClick=function(n){this._element.off("click",n);this._element.click(n)},t.prototype.bind=function(n){var t=this,i;if(this._workItemChangedDelegate||(this._workItemChangedDelegate=function(n,i){(i.change===c.WorkItemChangeType.SaveCompleted||i.change===c.WorkItemChangeType.Refresh)&&t._calculateAndSetNumberOfComments()}),this._workItem&&(this._workItem.detachWorkItemChanged(this._workItemChangedDelegate),v&&(i=v.CommentsCacheService.getStore(this._workItem),i.removeChangedListener(this._calculateAndSetNumberOfComments))),this._workItem=n,this._workItem){this._workItem.attachWorkItemChanged(this._workItemChangedDelegate);h.using([y],function(i){if(v=i,!t.isDisposed()){var r=i.CommentsCacheService.getStore(n);r.addChangedListener(t._calculateAndSetNumberOfComments);t._calculateAndSetNumberOfComments()}});return}this._calculateAndSetNumberOfComments()},t.prototype.unbind=function(){var t=this,n;this._workItem&&this._workItemChangedDelegate&&(this._workItem.detachWorkItemChanged(this._workItemChangedDelegate),n=this._workItem,h.using([y],function(i){var r=i.CommentsCacheService.getStore(n);r.removeChangedListener(t._calculateAndSetNumberOfComments)}));this._workItem=null;this._calculateAndSetNumberOfComments()},t.prototype._calculateNumberOfComments=function(){var n,t;return this._workItem?(n=0,v&&(t=v.CommentsCacheService.getStore(this._workItem),n=t.getTotalComments()),o(n)):o(0)},t.prototype._setNumberOfComments=function(n){if(this._element&&this._numberControl){var i,r,u=f.KeyUtils.shouldUseMetaKeyInsteadOfControl();n>=0?(i=n==1?l.WorkItemDiscussionAdornmentTooltipSingular:e.format(l.WorkItemDiscussionAdornmentTooltip,n),i+=" "+(u?l.GoToDiscussionShortcutWithCommand:l.GoToDiscussionShortcutWithControl),r=n>t.MAXIMUM_DISPLAY_NUMBER?e.format(l.WorkItemDiscussionAdornmentOverLimitNumberDisplay,t.MAXIMUM_DISPLAY_NUMBER):n===1?l.DiscussionViewNumberOfCommentsSingle:e.format(l.DiscussionViewNumberOfComments,n)):(i="",r="");s.RichContentTooltip.add(i,this._element);this._element.data("title",i);this._element.attr("aria-label",i);this._numberControl.text(r)}},t.MAXIMUM_DISPLAY_NUMBER=9999,t}(r.BaseControl)});

define("WorkItemTracking/Scripts/Form/Renderer",["require","exports","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","react","react-dom","VSS/FeatureAvailability/Services","VSS/Service","WorkItemTracking/Scripts/Controls/WorkItemForm/FreshnessIndicatorControl","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/Scripts/Form/ContributionLoadedCallbacks","WorkItemTracking/Scripts/Form/Contributions","WorkItemTracking/Scripts/Form/FormGroup","WorkItemTracking/Scripts/Form/Header/Header","WorkItemTracking/Scripts/Form/Layout","WorkItemTracking/Scripts/Form/UserLayoutSettings","WorkItemTracking/Scripts/Utils/PerfScenarioManager","VSS/Controls","VSS/Diag","WorkItemTracking/Scripts/Form/Grids","WorkItemTracking/Scripts/Form/Events","WorkItemTracking/Scripts/Form/Tabs","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Utils/UI","WorkItemTracking/Scripts/Controls/WorkItemForm/CopyWorkItemLinkControl","WorkItemTracking/Scripts/Controls/WorkItemForm/DiscussionAdornmentControl","VSS/Events/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft){Object.defineProperty(t,"__esModule",{value:!0});t.FormRenderer=void 0;var et=it.domElem,ot=ft.getService(),st=function(){function n(n,t,r,u,e){this._layoutInformation=new v.LayoutInformation(t,{hideReadOnlyEmptyFields:t.showEmptyReadOnlyFields!==!0},r);this._layout=this._layoutInformation.layout;this._formViewId=e;this._workItemTypeRefName=n;this._contributionManager=u;this._populateControlIdMapping();this._formContainer=$("<div/>").addClass("witform-layout");this._formScrollableFrame=$("<div/>").addClass("witform-layout-scrollable-frame").appendTo(this._formContainer);this._formContentContainer=$("<div/>").addClass("witform-layout-content-container").appendTo(this._formScrollableFrame);this._header=$("<div/>").addClass("work-item-form-main-header").appendTo(this._formContentContainer);this._core=$("<div/>").addClass("work-item-form-main-core").appendTo(this._formContentContainer);this._formBody=$("<div/>").addClass("form-body").appendTo(this._formContentContainer);f.FeatureAvailabilityService.isFeatureEnabled(i.FeatureAvailabilityFlags.WorkItemTrackingNewFormMoreSpaceInHeader)&&this._core.addClass("core-left-column-more-space")}return n.prototype.dispose=function(){this._responsiveHeader&&u.unmountComponentAtNode(this._responsiveHeader[0])},n.prototype.getWorkItemForm=function(){return this._formContainer[0]},n.prototype.drawLayout=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return p.PerfScenarioManager.addSplitTiming(s.PerformanceEvents.WORKITEMSVIEW_CREATELAYOUT,!0),this._buildHeaderContent(),[4,this._buildResponsiveCore(this._core)];case 1:return n=t.sent(),p.PerfScenarioManager.addSplitTiming(s.PerformanceEvents.WORKITEMSVIEW_CREATELAYOUT,!1),[2,{layout:this._formContainer,groups:n}]}})})},n.prototype.fillPage=function(n,t){for(var u,e,o=new h.ContributionLoadedCallbacks(n),i=[],r=0,f=n.sections;r<f.length;r++)u=f[r],u.calculatedVisible&&(e=this._fillSection(u,t,o),i.push.apply(i,e));return{groups:i}},n.prototype.getTabsControl=function(){return this._tabsControl},n.prototype.getContributionManager=function(){return this._contributionManager},n.prototype._buildHeaderContent=function(){var n=$("<div/>").addClass("work-item-form-headerContent").appendTo(this._header),r,u,f;this._createFormControl(n,this._getSystemControlOptions(nt.CoreFieldRefNames.Id,{controlCss:"work-item-form-id",controlType:"PlainTextControl",ariaLabel:tt.IdField}));r=this._getSystemControlEmptyText(nt.CoreFieldRefNames.Title)||tt.TitleEmptyText;u=this._createFormControl(n,this._getSystemControlOptions(nt.CoreFieldRefNames.Title,{controlCss:"work-item-form-title",emptyText:r,ariaLabel:tt.TitleField,chromeBorder:!1}));w.BaseControl.createIn(rt,n,{boundControl:u});var t=$("<div/>").addClass("work-item-form-headerContent flex-row").appendTo(this._header),i=$("<div/>").addClass("work-item-form-header-controls-container").appendTo(t),e=this._getSystemControlEmptyText(nt.CoreFieldRefNames.AssignedTo)||tt.AssignedToEmptyText,o=this._getSystemControlLabel(nt.CoreFieldRefNames.AssignedTo)||tt.AssignedToLabel;this._createFormControl(i,this._getSystemControlOptions(nt.CoreFieldRefNames.AssignedTo,{controlCss:"work-item-form-assignedTo",emptyText:e,label:o,showUnsetImage:!0,hideLabel:!0,ariaLabel:tt.AssignedToField,chromeBorder:!1}));f=$("<div/>").addClass("discussion-adornment-container").appendTo(i);w.BaseControl.createIn(ut,f);this._createFormControl(i,this._getSystemControlOptions(nt.CoreFieldRefNames.Tags,{controlCss:"work-item-form-tags",controlType:"TagFieldControl",hideLabel:!0}));$("<div/>").addClass("work-item-form-toolbar-container").appendTo(t);$("<div/>").addClass("clearfix").appendTo(t)},n.prototype._buildResponsiveCore=function(n){return __awaiter(this,void 0,void 0,function(){var t,e,i,f,s=this;return __generator(this,function(h){switch(h.label){case 0:return this._responsiveHeader=$("<div/>").addClass("work-item-form-responsive-header").appendTo(n),t=$("<div/>"),e=this._buildTabs(t,function(){return s._responsiveHeader.width()-20}),f=function(){i&&i.measure()},[4,u.render(r.createElement(a.ResponsiveHeader,{formViewId:this._formViewId,headerPage:this._layoutInformation.layout.headerPage,tabs:t,freshnessIndicator:{full:this._createStaticFreshnessIndicatorControl(o.FreshnessIndicatorDisplayMode.Full,f),minimal:this._createStaticFreshnessIndicatorControl(o.FreshnessIndicatorDisplayMode.Minimal,f)},createFormControl:this._createFormControl}),this._responsiveHeader[0])];case 1:return i=h.sent(),[2,e]}})})},n.prototype._createStaticFreshnessIndicatorControl=function(n,t){var i=$("<div/>").addClass("work-item-form-coreContent-lastUpdatedContainer");return this._createFormControl(i,this._getSystemControlOptions(nt.CoreFieldRefNames.ChangedBy,{controlCss:"work-item-form-changedby",controlType:nt.WellKnownControlNames.FreshnessIndicatorControl,isReadOnlyIconHidden:!0,getDisplayMode:function(){return t&&t(),n}})),i},n.prototype._getSystemControlLabel=function(n){var t=this._controlIdMap[n];return t&&t.label?t.label:null},n.prototype._getSystemControlEmptyText=function(n){var t=this._controlIdMap[n];return t&&t.watermark?t.watermark:null},n.prototype._getSystemControlOptions=function(n,t){var r=this._controlIdMap[n]&&this._controlIdMap[n].controlOptions||{},i=$.extend(!0,{fieldName:n,controlType:nt.WellKnownControlNames.FieldControl},r,t);return i.controlId||(i.controlId=v.LayoutInformation.buildUniqueControlId()),i},n.prototype._populateControlIdMapping=function(){var t,i,n;if(this._controlIdMap={},this._layout.systemControls)for(t=0,i=this._layout.systemControls;t<i.length;t++)n=i[t],n.replacesFieldReferenceName?this._controlIdMap[n.replacesFieldReferenceName]=n:this._controlIdMap[n.id]=n},n.prototype._buildTabs=function(n,t){return this._tabsControl=w.Control.createIn(g.WorkItemFormTabsControl,n,{getAvailableWidth:t}),this._buildTabsContent(),this._setActiveTab()},n.prototype._setActiveTab=function(){for(var i,n,t=0,r=this._tabsControl.getTabs();t<r.length;t++)i=r[t],!n&&i.page.visible&&(n=i);return this._tabsControl.setActiveTab(n),this.fillPage(n.page,n.formGrid).groups},n.prototype._buildTabsContent=function(){var n=this;$.each(this._layout.pages,function(t,i){i.visible&&n._buildTabContent(i,t)})},n.prototype._buildTabContent=function(n,t){var i=this._getGrid(n,this._formBody);i.hide();this._tabsControl.addTab(n,t,i,this)},n.prototype._getGrid=function(n,t){var i=this._layoutInformation.numberOfSectionsWithContent(n),r={coreCssClass:"form-grid",layoutMode:n.layoutMode};return i<=1?w.BaseControl.createIn(k.SingleSectionFormGrid,t,r):i===2?w.BaseControl.createIn(k.ThreeOneSectionFormGrid,t,r):i===3?w.BaseControl.createIn(k.TwoOneOneSectionFormGrid,t,r):w.BaseControl.createIn(k.TwoOneOneOneSectionFormGrid,t,r)},n.prototype._createFormControl=function(n,t){var i=$("<div/>"),r;return i.addClass("workitemlabel"),t.labelCss?i.addClass(t.labelCss):i.addClass("label-control"),t.hideLabel&&i.hide(),i.data("witOptions",t),i.appendTo(n),r=$(et("div","workitemcontrol work-item-control")),t.controlCss&&r.addClass(t.controlCss),t.chromeBorder===undefined&&(t.chromeBorder=e.getService(y.WorkItemFormUserLayoutSettingsService).fieldChromeBorder?!0:undefined),t.chromeBorder&&r.addClass("chromeBorder"),r.data("witOptions",t),r.appendTo(n),r},n.prototype._fillSection=function(n,t,i,r){var h=t.getSection(n.id),s=[],u,f,e,o;if(h)for(u=0,f=n.groups;u<f.length;u++)e=f[u],e.calculatedVisible&&(o=this._createGroup(t,e,n,i,r),s.push(o),t.addToSection(o._element.parent(),n.id));return s},n.prototype._createGroup=function(n,t,i,r){var v=this,y=$(et("div")),u=l.FormGroup.createIn(l.FormGroup,y,{model:t,isMaximizable:t.isMaximizable,isCollapsible:t.isCollapsible,hasTooltip:t.hasTooltip,onToggleCallback:function(n){if(u.shouldFireToggleEvent()){var i={group:t,isExpanded:n,groupElement:u.getElement(),witRefName:v._workItemTypeRefName};ot.fire(d.FormEvents.GroupExpandStateChangedEvent(),u,i)}}}),a,o,s,h,f,e;if(c.isContribution(t))e=r.getCallBacks(t),a=c.createGroupContribution(this._contributionManager,t,e),u.appendContent(a);else for(o=$(et("div","group-controls")),u.appendContent(o),s=0,h=t.controls;s<h.length;s++)f=h[s],f.visible&&(f.isContribution?(e=r.getCallBacks(f),o.append(c.createControlContribution(this._contributionManager,f,e))):o.append(this._createControl(f,t,i)));return u},n.prototype._createControl=function(n){var t=$(et("div","control"));return this._createFormControl(t,n.controlOptions),t},n.MINIMAL_CORE_FIELDS_WIDTH=690,n.MAXIMUM_CORE_FIELDS_WIDTH=920,n}();t.FormRenderer=st});

define("WorkItemTracking/Scripts/Form/WorkItemViewContributionManager",["require","exports"],function(){return function(){function n(){this._disposed=!1;this._controlContributionPromises=[];this._controlContributionHosts=[]}return n.prototype.addPromise=function(n){var t=this,i;this._controlContributionPromises.push(n);i=!!this._workItem;n.then(function(n){if(!t._disposed&&(n.host&&t._controlContributionHosts.push(n.host),i&&n.source&&t._workItem&&typeof n.source.onLoaded=="function")){var r={id:t._workItem.id,isNew:t._workItem.isNew(),isReadOnly:t._workItem.isReadOnly()};n.source.onLoaded(r)}})},n.prototype.bind=function(n){this._workItem=n},n.prototype.unbind=function(){this._workItem=null},n.prototype.dispose=function(){this._disposed||(this.unbind(),this._controlContributionHosts.forEach(function(n){n.dispose()}),this._disposed=!0)},n.prototype.getPromises=function(){return this._controlContributionPromises},n}()});

define("WorkItemTracking/Scripts/ControlRegistration",["require","exports","q","VSS/VSS","VSS/Diag","VSS/LWP"],function(n,t,i,r,u,f){function c(n,t,i,r){n=n.toUpperCase();s(n,{controlType:t,requiredModule:i,requiredContributions:r,renderType:o.JQuery,previewConfiguration:null})}function l(n,t){n=n.toUpperCase();e[n]=t}function s(n,t){n=n.toUpperCase();e[n]=t}function a(n){return e[n.toUpperCase()]}function v(n,t){var s=null,a=null,v=null,i,c,y,l,p,w,b;if(typeof n=="string"?(c=n,y={controlName:n}):(c=n.controlName,y=n),c&&(c=c.toUpperCase(),l=e[c],typeof l=="object"?i=l:typeof l=="function"&&(i=l(y.controlOptions,y.workItemType)),i&&(s=i.controlType,a=i.requiredModule,v=i.requiredContributions),p=function(){r.using([a],function(n){var r,u;typeof s=="string"?n[s]?(r=n[s],t({renderType:i.renderType,controlType:r,previewConfiguration:i.previewConfiguration})):(u="Could not find work item control '".concat(c,"' in module '").concat(a,"'"),h(u)):t({renderType:i.renderType,controlType:s,previewConfiguration:i.previewConfiguration})})},s&&a)){v&&v.length>0?(w=f.getLWPService("IVssContributionService"),w.getContributionsAsync(v).then(p)):p();return}s&&typeof s!="string"?t({renderType:i.renderType,controlType:s,previewConfiguration:i.previewConfiguration}):(b="Could not find type for work item control: '".concat(c,"'. Legacy extensions are no longer supported in new work item form."),h(b),t({renderType:o.JQuery,controlType:null,previewConfiguration:null}))}function y(n){if(!n.requiredModule)return i(n.previewType);if(typeof n.previewType=="string"){var t=n.previewType;return r.requireModules([n.requiredModule]).spread(function(n){return n[t]})}throw new Error("Work item preview component not found");}function h(n){window.console&&window.console.warn&&window.console.warn(n)}var o,e;Object.defineProperty(t,"__esModule",{value:!0});t.beginGetPreviewComponent=t.beginGetWorkItemControl=t.getWorkItemControlRegistration=t.registerWorkItemControlAdvanced=t.registerWorkItemControlTypeFactory=t.registerWorkItemFormControl=t.RenderType=void 0,function(n){n[n.JQuery=0]="JQuery";n[n.React=1]="React"}(o=t.RenderType||(t.RenderType={}));e={};t.registerWorkItemFormControl=c;t.registerWorkItemControlTypeFactory=l;t.registerWorkItemControlAdvanced=s;t.getWorkItemControlRegistration=a;t.beginGetWorkItemControl=v;t.beginGetPreviewComponent=y});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/UndoableWorkItemControl",["require","exports","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/FeatureAvailability/Services","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemControl"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.UndoableWorkItemControl=void 0;var f=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t.prototype._smartFlush=function(n,t,u){var f;if(!this.isReadOnly()&&(f=this._getField(),f))try{this._flushing=!0;var e=u===null||u===undefined?this._getControlValue():u,o=r.FeatureAvailabilityService.isFeatureEnabled(i.FeatureAvailabilityFlags.UseSaveCommentsPermission,!1),s=o&&this._workItem&&this._workItem.isCommentingAvailable();f.setValue(e,t,undefined,undefined,s)}finally{this._flushing=!1}},t}(u.WorkItemControl);t.UndoableWorkItemControl=f});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/MaximizableWorkItemControl",["require","exports","VSS/Utils/Core","VSS/Utils/UI","VSS/Navigation/Services","WorkItemTracking/Scripts/Controls/WorkItemForm/UndoableWorkItemControl","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence"],function(n,t,i,r,u,f,e,o){var s,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.MaximizableWorkItemControl=void 0;s=u.getHistoryService();h=i.delegate;c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype._createMaximizedWorkItemControl=function(){throw new Error("MaximizableWorkItemControl._createMaximizedWorkItemControl is abstract and must be overridden by derived class");},t.prototype._onMaximized=function(){},t.prototype._onRestored=function(){},t.prototype._onBeforeRestore=function(){},t.prototype.focus=function(){},t.prototype.unbind=function(t){this._maximizedControl&&this._maximizedControl._restore(!1);n.prototype.unbind.call(this,t)},t.prototype.restore=function(n){this._maximizedControl?this._maximizedControl._restore(n):this._restore(n)},t.prototype.restoreOrMaximizeControl=function(){this.isMaximized()?this._restore():this._maximize()},t.prototype.isMaximized=function(){return this._options&&this._options.isMaximized===!0||this._originalControl==null&&this._maximizedControl!=null},t.prototype.maximize=function(){this._maximize()},t.prototype._maximize=function(){var v=this,c,t,i,n,u,f,l,a;if(!this.isMaximized()){if(c={fieldName:this._fieldName,readOnly:this._options.readOnly,isMaximized:!0},t=$("<div><\/div>").addClass("workitem-control-maximized-container"),t.addClass("witform-maximized-container"),i=$("<div><\/div>").addClass("workitemcontrol-maximized").appendTo(t),i.height("100%"),n=this._createMaximizedWorkItemControl(i,c,this._workItemType),n.bind(this._workItem),n._originalControl=this,this._maximizedControl=n,u=$("<input/>").addClass("disabled").attr("tabindex",0).attr("readonly","readonly").appendTo(this._container),u.focus(),u.remove(),f=$(document.body),l=$(".main-container .main"),!l.length)return;$(".work-item-form-main-core").css("display","none");$(".form-body").css("display","none");this._container.parents(".witform-layout").append(t);f.on("keydown.maximizedControl",function(t){var i=!0;return t instanceof jQuery.Event?i=t.isDefaultPrevented():t instanceof KeyboardEvent&&(i=t.defaultPrevented),t.keyCode===r.KeyCode.ESCAPE&&!i?(v._restore.call(n),f.off(t),!1):void 0});n._navigateHandler=h(n,n._onNavigate);s.attachNavigate(n._navigateHandler);n._onMaximized();a={MaximizedFieldName:this._fieldName,WorkItemTypeName:this._workItemType.name};e.publishEvent(new e.TelemetryEventData(o.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,o.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_MAXIMIZE_RICH_EDITOR,a))}},t.prototype._onNavigate=function(){this._restore()},t.prototype._restore=function(){var n=this._container.parents(".workitem-control-maximized-container"),t,u,i,r;n.length!==0&&(this._maximizedControl?this._maximizedControl._onBeforeRestore():this._onBeforeRestore(),t=$(document.body),u=$(this._container).parents(".ui-dialog-content"),this.unbind(),$(".work-item-form-main-core").css("display",""),$(".form-body").css("display",""),this._container.parents(".witform-layout").detach(".workitem-control-maximized-container"),n.length&&(n.off("keydown"),i=n.find("iframe"),i.length&&i.attr("src","about:blank"),n.remove()),t.removeClass("workitem-control-maximized-mode"),t.off("keydown.maximizedControl"),s.detachNavigate(this._navigateHandler),r=$(".workitem-control-maximized-hidden-dialog"),r.length&&r.removeClass("workitem-control-maximized-hidden-dialog"),$(".witform-layout").resize(),u.length||(this._originalControl._maximizedControl=null,this._originalControl._onRestored()))},t.prototype.maximizeInPlace=function(n){this._container.find(".richeditor-container").css("top",n);this.focus()},t.prototype.restoreInPlace=function(){this._container.find(".richeditor-container").css("top","");this.focus()},t}(f.UndoableWorkItemControl);t.MaximizableWorkItemControl=c});

define("WorkItemTracking/Scripts/Utils/LinkSetting",["require","exports","VSS/VSS","VSS/Utils/String","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Identities"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.LinkSetting=void 0;var e=function(){function n(n){this._options=n}return n.prototype.getUrl=function(n,t){var i,r,f;return this._notConfigured=null,i=this._getRootUrl(t||{}),r=this._getUrlPath(n),this._notConfigured&&(f=n?n.store.getTfsContext():u.TfsContext.getDefault(),i=f.getActionUrl("notConfigured","workItems"),r="?type="+this._notConfigured),this._combineUrl(i,r)},n.prototype._getRootUrl=function(t){var u=this,r=this._options.link,i=null;return $.each(n.macros,function(){if(r.urlRoot==="@"+this)return t[this]?i=t[this]:u._notConfigured=this,!1}),i||(i=r.urlRoot),i},n.prototype._getUrlPath=function(n){var f=this,e=this,i,t,u=this._options.link;if(i=u.urlPath||"",Array.isArray(u.params)){t=[i];$.each(u.params,function(i,r){var u;r&&(u=n.getField(r.value),t[t.length]=u?u.fieldDefinition.isIdentity?f._removeBrackets(u.getValue(r.original)):u.getValue(r.original):"")});try{i=r.format.apply(String,t)}catch(o){e._notConfigured="InvalidParameterFormat"}}return i},n.prototype._removeBrackets=function(n){var t=f.IdentityHelper.parseUniquefiedIdentityName(n);return t?t.displayName:""},n.prototype._combineUrl=function(n,t){return(n&&(n=n.trim()),t&&(t=t.trim()),!n&&!t)?"":n?t?n.charAt(n.length-1)==="/"&&t.charAt(0)==="/"?n+t.substring(1,t.length):n.charAt(n.length-1)==="/"||t.charAt(0)==="/"?n+t:n+"/"+t:n:t},n.macros=["PortalPage","ProcessGuidance","ReportManagerUrl","ReportServiceSiteUrl"],n}();t.LinkSetting=e;i.initClassPrototype(e,{_options:null,_notConfigured:null})});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/LabelControl",["require","exports","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Controls","VSS/Controls/PopupContent","VSS/Utils/String","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemControl","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Utils/LinkSetting"],function(n,t,i,r,u,f,e,o,s,h){var c,l,a;Object.defineProperty(t,"__esModule",{value:!0});t.LabelControl=t.WorkItemLabel=void 0;c=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,__assign({coreCssClass:"label-text-control"},t))},t.prototype.initialize=function(){var t,i,r;if(this._data=this._options.textData,this._data.link&&(this._linkSetting=new h.LinkSetting({link:this._data.link}),Array.isArray(this._data.link.params)&&this._data.link.params.length))for(this._params={},t=0,i=this._data.link.params;t<i.length;t++)r=i[t],this._params[r.value]=r;n.prototype.initialize.call(this);this._draw()},t.prototype.setUrl=function(n,t){this._a&&this._a.attr("href",this._linkSetting.getUrl(n,t))},t.prototype.needRefresh=function(n){var r=this,u=!1,f,t,i;if(this._params)for(f in n)if(t=n[f],t&&(i=r._params[t.fieldDefinition.name]||r._params[t.fieldDefinition.referenceName],i&&!i.original))return u=!0,!1;return u},t.prototype._draw=function(){this._data.link?(this._a=$("<a />").attr("href","#").attr("target","_blank").appendTo(this._element),this._data.label?this._data.label.appendTo(this._a):this._a.text(this._data.content)):$("<span><\/span>").appendTo(this._element).text(this._data.content)},t.enhancementTypeName="tfs.labelTextControl",t}(r.Control);l=function(){function n(n,t,i){this._options=t;this._workItemType=i;this._labelHost=n;this.initialize()}return n.prototype.initialize=function(){var n,t,i,u;if(this._textControls=[],this._shouldCreateLabel()&&this._createLabel(),this._options.labelData)for(this._labelHost.css("display","inherit"),n=0,t=this._options.labelData;n<t.length;n++)i=t[n],this._$label&&(i.label=this._$label),u={textData:i},this._textControls.push(r.BaseControl.createIn(c,this._labelHost,u))},n.prototype.bind=function(n){var t=this;this._workItem=n;this._options.labelData&&(this._workItemChangedDelegate=function(n,i){var u=!1,r,f,e;if(i.change===o.WorkItemChangeType.Saved)u=!0;else if(i.change===o.WorkItemChangeType.FieldChange)for(r=0,f=t._textControls;r<f.length;r++)if(e=f[r],e.needRefresh(i.changedFields)){u=!0;break}u&&t.invalidate()},n.attachWorkItemChanged(this._workItemChangedDelegate))},n.prototype.unbind=function(){this._workItemChangedDelegate&&(this._workItem.detachWorkItemChanged(this._workItemChangedDelegate),delete this._workItemChangedDelegate)},n.prototype.invalidate=function(){var r=this,u=this._workItem.project.extras.resourceLocations,n,t,i;if(this._workItem&&this._textControls)for(n=0,t=this._textControls;n<t.length;n++)i=t[n],i.setUrl(r._workItem,u)},n.prototype._shouldCreateLabel=function(){var i=!1,n,t,r;if(this._options.labelData)for(n=0,t=this._options.labelData;n<t.length;n++)if(r=t[n],r.content){i=!0;break}return this._options.label&&this._workItemType&&!i},n.prototype.getLabelData=function(){var n=this._options.label,i,r,t;return n&&(t=n.indexOf("&"),t>=0?(r=n.substr(t+1,1),i=n.replace("&",""),n=f.htmlEncode(n.substr(0,t))+"<u>"+f.htmlEncode(n.substr(t+1,1))+"<\/u>"+f.htmlEncode(n.substr(t+2))):(i=n,n=f.htmlEncode(n))),{labelText:i,label:n,accessKey:r}},n.prototype._createLabel=function(){var n,t=this.getLabelData(),o=t.labelText,e=t.label,i=t.accessKey,r;this._$label=this._options.labelData?$("<span/>"):$("<label/>").addClass("workitemcontrol-label");this._$label.attr({"for":this._options.controlId+"_txt"}).html(e);this._options.labelFontSize&&this._$label.addClass("wit-font-size-"+this._options.labelFontSize);this._options.fieldName&&(n=this._workItemType.getFieldDefinition(this._options.fieldName),n&&!this._options.suppressTooltip&&(r=$("<span/>").append($("<span/>").text(n.helpText)).append($("<br>")).append($("<span/>").text(f.format(s.WorkItemFieldLabelTitleFormat,n.name))),u.RichContentTooltip.add(r,this._$label)));i&&this._$label.attr({accesskey:i,"aria-label":null});this._labelHost.append(this._$label)},n.prototype.setFieldIsValid=function(n){var t=this.getLabelData().labelText,r;this._$screenReaderLabel&&(n?this._$screenReaderLabel.text(t):(r=f.format(i.FieldErrorAriaLabel,t),this._$screenReaderLabel.text(r)))},n}();t.WorkItemLabel=l;a=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t}(e.WorkItemControl);t.LabelControl=a});

define("WorkItemTracking/Scripts/Utils/FollowsUtils",["require","exports","q","VSS/Artifacts/Constants","VSS/Events/Services","Presentation/Scripts/TFS/TFS.OM.Common","Notifications/Services","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper"],function(n,t,i,r,u,f,e,o){function h(n){return n.configuration&&n.configuration.getMailSettings().enabled}function c(n){var u;if(!n)return i.reject();var t=n.workItemType.store.getTfsContext(),o=f.ProjectCollection.getConnection(t).getService(e.FollowsService),h=n.id,r=s(n);return r?(u=t.currentIdentity?t.currentIdentity.id:null,o.getSubscription(r,u)):i.reject()}function s(n){return n&&!n.isNew()&&!n.isDeleted()?{subscriptionId:0,artifactId:n.id.toString(),artifactType:r.ArtifactTypeNames.WorkItem}:null}function l(n){var t=u.getService();t.attachEvent(e.FollowsService.FOLLOWS_STATE_CHANGED,n)}function a(n){var t=u.getService();t.attachEvent(e.FollowsService.FOLLOWS_STATE_CHANGING,n)}function v(n){var t=u.getService();t.detachEvent(e.FollowsService.FOLLOWS_STATE_CHANGED,n)}function y(n){var t=u.getService();t.detachEvent(e.FollowsService.FOLLOWS_STATE_CHANGING,n)}function p(n,t,r,u){var l=n.workItemType.store.getTfsContext(),a=f.ProjectCollection.getConnection(l).getService(e.FollowsService),h=s(n),c,v;return h?(c={area:o.WIFormCIDataHelper.getArea(),layer:u,customProperties:{}},c.customProperties.workItem={id:n.id,state:n.getState(),type:{name:n.workItemType.name,referenceName:n.workItemType.referenceName}},t?(h.description=r,a.followArtifact(h,c)):(v=l.currentIdentity?l.currentIdentity.id:null,a.unfollowArtifact(h,v,c))):i.reject()}function w(n){var i=n.workItemType.store.getTfsContext(),r=f.ProjectCollection.getConnection(i).getService(e.FollowsService),t=s(n);t&&r.refresh(t)}Object.defineProperty(t,"__esModule",{value:!0});t.FollowType=t.clearFollowState=t.setFollowState=t.detachFollowsChanging=t.detachFollowsChanged=t.attachFollowsChanging=t.attachFollowsChanged=t.getFollowableArtifact=t.getFollowsState=t.isFollowsEnabled=void 0;t.isFollowsEnabled=h;t.getFollowsState=c;t.getFollowableArtifact=s;t.attachFollowsChanged=l;t.attachFollowsChanging=a;t.detachFollowsChanged=v;t.detachFollowsChanging=y;t.setFollowState=p;t.clearFollowState=w;var b;(function(n){n.All="All";n.Custom="Custom";n.None="None"})(b=t.FollowType||(t.FollowType={}))});

define("WorkItemTracking/Scripts/Controls/WorkItemMenuBar",["require","exports","VSS/Controls/Menus"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemMenuBar=void 0;var r=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype._updateItemsWithContributions=function(n,t){var r,e,u,f;n||(n=[]);r=this.getItem("actions");e=!1;r&&r.hasSubMenu()&&(e=r.getSubMenu()._visible);Array.isArray(n)&&t&&t.length&&(u=n.filter(function(n){return n.id==="actions"}),u&&u[0]&&Array.isArray(u[0].childItems)&&(f=u[0].childItems.filter(function(n){return!n.isContribution}),f=i.sortMenuItems(f.concat(t)),u[0].childItems=f));this._contributedItems=t;this._updateCombinedSource(n);e&&(r=this.getItem("actions"),r&&r.hasSubMenu()&&r.showSubMenu({immediate:!0}))},t.prototype.getMenuItemAlignment=function(){return"right-bottom"},t}(i.MenuBar);t.WorkItemMenuBar=r});

define("WorkItemTracking/Scripts/Services/WorkItemTemplateService",["require","exports","Presentation/Scripts/TFS/TFS.Service","q","TFS/WorkItemTracking/RestClient","VSS/Context","VSS/Contributions/Services","VSS/Events/Services","VSS/Service","VSS/Utils/String","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemTemplateService=void 0;var l=o.getService(),a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._projectOwnerCache={},t._projectWorkItemTypeCache={},t._templateCache={},t}return __extends(t,n),t.prototype.getWorkItemTemplate=function(n,t,i){return this._templateCache[i]||(this._templateCache[i]=this._getHttpClient().getTemplate(n,t,i)),this._templateCache[i]},t.prototype.getWorkItemTemplateReferences=function(n,i){var u=this,r=t._getCacheKey(n,i);return this._projectOwnerCache[r]||(this._projectOwnerCache[r]=this._getHttpClient().getTemplates(n,i).then(function(n){for(var e,i,r,o,s,t={},f=0,h=n;f<h.length;f++)e=h[f],i=u._getNormalizedWorkItemTypeName(e.workItemTypeName),t[i]||(t[i]=[]),t[i].push(e);for(r=0,o=Object.keys(t);r<o.length;r++)s=o[r],t[s]=t[s].sort(function(n,t){return u._compareTemplate(n,t)});return t})),this._projectOwnerCache[r]},t.prototype.getWorkItemTemplatesForType=function(n,t,i){var r=this;return this.getWorkItemTemplateReferences(n,t).then(function(n){var t=r._getNormalizedWorkItemTypeName(i);return n[t]||[]})},t.prototype.getMyWorkItemTemplatesForWorkItemType=function(n){var o=this,i=t._getCacheKey(f.getDefaultWebContext().project.id,n),u,r;return this._projectWorkItemTypeCache[i]?this._projectWorkItemTypeCache[i]:(u=[{id:t.ContributionDataProviderId,properties:{serviceInstanceType:c.ServiceInstanceTypes.TFS}}],r=s.getService(e.WebPageDataService),this._projectWorkItemTypeCache[i]=r.ensureDataProvidersResolved(u,!0,{workItemTypeName:n}).then(function(){var n=r.getPageData(t.ContributionDataProviderId);return n.sort(function(n,t){return o._compareTemplate(n,t)})}),this._projectWorkItemTypeCache[i])},t.prototype.replaceWorkItemTemplate=function(n,t,i,r){var u=this,f=this._getHttpClient().replaceTemplate(r,n,t,i);return f.then(function(i){u._resetProviderCache(n,t,i.workItemTypeName);u._updateCache(n,t,i)}),f},t.prototype.createWorkItemTemplate=function(n,t,i){var r=this;return this._getHttpClient().createTemplate(i,n,t).then(function(i){return r._resetProviderCache(n,t,i.workItemTypeName),r._updateCache(n,t,i),i})},t.prototype.deleteWorkItemTemplate=function(n,t,i){this._resetProviderCache(n,t,i.workItemTypeName);var r={};return r[i.id]=!0,this._clearFromCache(n,t,r),this._getHttpClient().deleteTemplate(n,t,i.id)},t.prototype._getHttpClient=function(){return this._httpClient||(this._httpClient=this.tfsConnection.getHttpClient(u.WorkItemTrackingHttpClient)),this._httpClient},t._getCacheKey=function(n,t){return"".concat(n.toLowerCase(),"/").concat(t.toLowerCase())},t.prototype._getNormalizedWorkItemTypeName=function(n){return n.toLowerCase()},t.prototype._updateCache=function(n,i,u){this._templateCache[u.id]=r(u);l.fire(t.EVENT_TEMPLATES_UPDATED)},t.prototype._clearFromCache=function(n,t,i){for(var f,r=0,u=Object.keys(i);r<u.length;r++)f=u[r],delete this._templateCache[f]},t.prototype._resetProviderCache=function(n,i,r){var f=t._getCacheKey(n,i),u;this._projectOwnerCache[f]=null;u=t._getCacheKey(n,r);this._projectWorkItemTypeCache[u]=null},t.prototype._compareTemplate=function(n,t){var i=h.localeIgnoreCaseComparer(n.name,t.name);return i!==0?i:h.localeIgnoreCaseComparer(n.id,t.id)},t.prototype._binarySearchTemplates=function(n,t){if(n&&n.length>0){for(var r=0,u=n.length-1,i,f;r<=u;)if(i=Math.floor(r+(u-r)/2),f=this._compareTemplate(n[i],t),f<0)r=i+1;else if(f>0)u=i-1;else return i;return u}return-1},t.EVENT_TEMPLATES_UPDATED="workitem-template-updated",t.ContributionDataProviderId="ms.vss-work-web.work-item-templates-data-provider",t}(i.TfsService);t.WorkItemTemplateService=a});

define("WorkItemTracking/Scripts/Controls/WorkItemToolbar",["require","exports","VSS/Artifacts/Constants","WorkItemTracking/Scripts/CustomerIntelligence","VSS/Controls","VSS/Diag","VSS/Controls/Dialogs","VSS/Events/Action","VSS/Events/Handlers","VSS/Events/Services","WorkItemTracking/Scripts/Utils/FollowsUtils","VSS/Controls/Menus","VSS/Controls/Navigation","VSS/Navigation/Services","VSS/Controls/Notifications","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","VSS/FeatureAvailability/Services","VSS/Resources/VSS.Resources.Platform","WorkItemTracking/Scripts/ActionUrls","WorkItemTracking/Scripts/Controls/WorkItemMenuBar","WorkItemTracking/Scripts/Controls/WorkItemThrottleControl","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/RecycleBinConstants","WorkItemTracking/Scripts/Services/WorkItemTemplateService","WorkItemTracking/Scripts/Utils/PerfScenarioManager","WorkItemTracking/Scripts/Utils/UseWitDialog","WorkItemTracking/Scripts/Utils/WorkItemControlsActions","WorkItemTracking/Scripts/Utils/WorkItemPermissionDataHelper","WorkItemTracking/Scripts/Utils/WorkItemTitleUtils","WorkItemTracking/Scripts/Utils/WorkItemViewActions","VSS/Controls/KeyboardShortcuts","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/Telemetry/Services","Presentation/Scripts/TFS/TFS.OM.Identities","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","VSS/Resources/VSS.Resources.Common","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Utils/WitControlMode","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemToolbar=void 0;var ri=o.getService(),ni=h.getService(),ii=vt.delegate,fi=wt.getErrorMessage,ti=v.getHistoryService(),ui=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._areContributionIdsInReadonlyMode=!0,i._areToolbarItemsReadonly=!1,i}return __extends(t,n),t.prototype.bind=function(t){var i,r;n.prototype.bind.call(this,t);i=this.workItem.isReadOnly();this.toolbar&&(this._areContributionIdsInReadonlyMode!==i&&(r=null,r=t.isReadOnly()?[]:this._options.contributionIds?this._options.contributionIds:["ms.vss-work-web.work-item-context-menu","ms.vss-work-web.work-item-context-menu-owp","ms.vss-work-web.work-item-toolbar-menu"],this.toolbar.setContributedItemOptions(r)),this._areToolbarItemsReadonly!==i&&(this._isResponsive?this.toolbar.updateItems(this.getResponsiveToolbarItems()):this.toolbar.updateItems(this.getToolbarItems())));this._areContributionIdsInReadonlyMode=i;this._areToolbarItemsReadonly=i;this.changedDelegate&&ni.attachEvent(it.WorkItemTemplateService.EVENT_TEMPLATES_UPDATED,this.changedDelegate);this._initializeFollowsMenuState()},t.prototype.unbind=function(t){this.changedDelegate&&ni.detachEvent(it.WorkItemTemplateService.EVENT_TEMPLATES_UPDATED,this.changedDelegate);n.prototype.unbind.call(this,t)},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"toolbar",isResponsive:!1},t))},t.prototype.initialize=function(){var i=this,n=$.extend({contributionIds:[],arguments:function(){return{workItem:i.workItem,telemetry:{area:r.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,feature:r.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_TOOLBAR_CLICK}}},contextInfo:{item:{getContributionContext:this._getContributionContext.bind(this)}},suppressInitContributions:!0,contributionSourceTimeoutMs:t.WIT_CONTRIBUTION_SOURCE_TIMEOUT,executeAction:ii(this,this.onToolbarItemClick)},this._options);this._isResponsive=this._options.isResponsive;this._isDialog=this._options.isDialog===!0;this._discardWorkItemDelegate=this._options.discardWorkItemDelegate;this._isDialog&&this._options.closeWorkItemFormDialogDelegate&&typeof this._options.closeWorkItemFormDialogDelegate=="function"&&(this._closeWorkItemFormDialogDelegate=this._options.closeWorkItemFormDialogDelegate);this._workItemsNavigator=this._options.workItemsNavigator;this._element.addClass("workitem-tool-bar");this.toolbar=this._isResponsive?u.BaseControl.createIn(d.WorkItemMenuBar,this._element,$.extend({items:this.getResponsiveToolbarItems()},n)):u.BaseControl.createIn(l.MenuBar,this._element,$.extend({items:this.getToolbarItems()},n));this._attachEvents();this._attachKeyDownHandler()},t.prototype.resize=function(){this._isResponsive&&this._options.onResized&&this._options.onResized()},t.prototype.dispose=function(){this._detachEvents();this._detachKeyDownHandler();n.prototype.dispose.call(this)},t.prototype.getToolbarItems=function(){var i=this,n=[],r=w.FeatureAvailabilityService.isFeatureEnabled(ct.FeatureAvailabilityFlags.WebaccessProcessHierarchy),f=r||w.FeatureAvailabilityService.isFeatureEnabled(ct.FeatureAvailabilityFlags.WorkItemTrackingMove),e=r||w.FeatureAvailabilityService.isFeatureEnabled(ct.FeatureAvailabilityFlags.WorkItemTrackingChangeWorkItemType),u=w.FeatureAvailabilityService.isFeatureEnabled(ct.FeatureAvailabilityFlags.EnableCustomFollows,!1),o=pt.KeyUtils.shouldUseMetaKeyInsteadOfControl();return this._options.showWorkItemMenus!==!1&&(this._options.inline&&(n.push({id:t.SAVE_WORK_ITEM,text:this._getSaveWorkItemTitleText(),showText:!1,icon:"bowtie-icon bowtie-save",hidden:!0,groupId:"core"}),n.push({id:t.DISCARD_NEW_WORK_ITEM,showText:!1,text:gt.DiscardWorkItem,icon:"bowtie-icon bowtie-edit-delete",hidden:!0,groupId:"core"})),n.push({id:t.REFRESH_WORK_ITEM,showText:!1,text:gt.Refresh,icon:"bowtie-icon bowtie-navigate-refresh",hidden:!0,groupId:"core"}),n.push({id:t.REVERT_WORK_ITEM,showText:!1,text:gt.WorkItemRevert,icon:"bowtie-icon bowtie-edit-undo",hidden:!0,groupId:"core"}),n.push({id:t.COPY_WORK_ITEM_TITLE,text:gt.CopyToClipboard,showText:!1,icon:"bowtie-icon bowtie-edit-copy",hidden:!0,groupId:"core"}),this._getTfsContext().standardAccessMode===!0&&n.push({id:t.LINK_TO_NEW_WORK_ITEM,showText:!1,text:gt.NewLinkedWorkItem,icon:"bowtie-icon bowtie-work-item",hidden:!0,groupId:"core"}),e&&n.push({id:t.CHANGE_WORK_ITEM_TYPE,showText:!1,text:gt.ChangeType,icon:"bowtie-icon bowtie-switch",hidden:!0,groupId:"core"}),f&&n.push({id:t.MOVE_WORK_ITEM,showText:!1,text:gt.MoveWorkItem,icon:"bowtie-icon bowtie-work-item-move",hidden:!0,groupId:"core"}),n.push({id:t.COPY_WORK_ITEM,showText:!1,text:gt.CreateCopyOfWorkItem,icon:"bowtie-icon bowtie-edit-copy",hidden:!0,groupId:"core"}),n.push({id:t.EMAIL_WORK_ITEM,showText:!1,text:gt.EmailWorkItem,icon:"bowtie-icon bowtie-mail-message",hidden:!0,groupId:"core"}),dt.isFollowWorkItemEnabled(this._getTfsContext())&&(n.push({id:t.FOLLOW_WORK_ITEM,showText:!0,text:gt.FollowWorkItem,title:gt.FollowWorkItem,icon:t.FOLLOW_WORK_ITEM_ICON,groupId:"core",cssClass:u?t.FOLLOW_MENU_ITEM_CSS_GRAY:t.FOLLOW_MENU_ITEM_CSS,hidden:!1,disabled:!0,setTitleOnlyOnOverflow:!0}),n.push({id:t.UNFOLLOW_WORK_ITEM,showText:!0,text:gt.FollowingWorkItem,title:gt.FollowingWorkItem,icon:t.UNFOLLOW_WORK_ITEM_ICON,groupId:"core",cssClass:u?t.FOLLOW_MENU_ITEM_CSS_GRAY:t.FOLLOW_MENU_ITEM_CSS,hidden:!0,setTitleOnlyOnOverflow:!0})),n.push({id:t.DESTROY_WORK_ITEM,text:gt.DestroyWorkItemDeleteButtonText,showText:!1,icon:"bowtie-icon bowtie-edit-delete",hidden:!0,groupId:"core"}),n.push({id:t.RESTORE_WORK_ITEM,text:gt.RestoreWorkItemDeleteButtonText,showText:!1,icon:"bowtie-icon bowtie-recycle-bin-restore",hidden:!0,groupId:"core"}),n.push({id:t.CUSTOMIZE,showText:!1,text:gt.Customize,icon:"icon-customize-process",action:function(n,t){var u=i.workItem.store.getTfsContext().getActionUrl("_process","admin",{project:""}),f=t.ctrlKey,r;i.workItem.project.process.isInherited?(r=v.getHistoryService().getFragmentActionLink("layout",{"process-id":i.workItem.project.process.id,"type-id":i.workItem.workItemType.referenceName}),i._navigateToNewNav(u+r,!0,f)):(r=v.getHistoryService().getFragmentActionLink("all",{"launch-wizard":!0,"wizard-project-id":i.workItem.project.guid,"wizard-process-id":i.workItem.project.process.id,"wizard-wit-ref-name":i.workItem.workItemType.referenceName,"wizard-project-name":i.workItem.project.name}),i._navigateToNewNav(u+r,!1,f))},hidden:!0,groupId:t.CUSTOMIZE_GROUPID,rank:t.MAX_RANK}),n.push({id:t.KEYBOARD_SHORTCUTS,rank:t.MAX_RANK,text:b.KeyboardShortcutDialogTitle,showText:!1,icon:"bowtie-icon  bowtie-status-info-outline",hidden:!0,groupId:"keyboardShortcuts"})),this._isDialog||this._options.showFullScreenMenu===!1||n.push({id:t.TOGGLE_FULL_SCREEN,showText:!1,title:a.FullScreenHelper.getFullScreen()?p.ExitFullScreenModeTooltip:p.EnterFullScreenModeTooltip,icon:a.FullScreenHelper.getFullScreen()?"bowtie-icon bowtie-view-full-screen-exit":"bowtie-icon bowtie-view-full-screen",cssClass:"right-align",groupId:"core",hidden:!0}),n},t.prototype._navigateToNewNav=function(n,t,i){var u={};u.reusedExistingCustomProcess=t;lt.publishEvent(new lt.TelemetryEventData(r.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING_NEWNAV,r.WITCustomerIntelligenceFeature.CUSTOMIZE_WORKITEM,u));lt.flush().then(function(){i?window.open(n,"_blank"):location.href=n})},t.prototype.getResponsiveToolbarItems=function(){var i=this.getToolbarItems(),r=w.FeatureAvailabilityService.isFeatureEnabled(ct.FeatureAvailabilityFlags.EnableCustomFollows,!1),n=[];return this._options.showWorkItemMenus!==!1&&(this._addSaveToolbarButtons(n),dt.isFollowWorkItemEnabled(this._getTfsContext())&&(n.push({id:t.FOLLOW_WORK_ITEM,showText:!0,text:gt.FollowWorkItem,title:gt.FollowWorkItem,icon:t.FOLLOW_WORK_ITEM_ICON,cssClass:r?t.FOLLOW_MENU_ITEM_CSS_GRAY:t.FOLLOW_MENU_ITEM_CSS,hidden:!1,disabled:!0,setTitleOnlyOnOverflow:!0}),n.push({id:t.UNFOLLOW_WORK_ITEM,showText:!0,text:gt.FollowingWorkItem,title:gt.FollowingWorkItem,icon:t.UNFOLLOW_WORK_ITEM_ICON,cssClass:r?t.FOLLOW_MENU_ITEM_CSS_GRAY:t.FOLLOW_MENU_ITEM_CSS,hidden:!0,setTitleOnlyOnOverflow:!0}),r&&n.push({id:t.CUSTOM_FOLLOW_WORK_ITEM,showText:!1,title:gt.CustomFollowWorkItem,icon:t.CUSTOM_FOLLOW_WORK_ITEM_ICON,hidden:!1,disabled:!0,setTitleOnlyOnOverflow:!0,cssClass:t.CUSTOM_FOLLOW_MENU_ITEM_CSS})),n.push({id:t.REFRESH_WORK_ITEM,showText:!1,text:gt.Refresh,title:gt.Refresh,icon:"bowtie-icon bowtie-navigate-refresh",hidden:!0}),n.push({id:t.REVERT_WORK_ITEM,showText:!1,text:gt.WorkItemRevert,title:gt.WorkItemRevert,icon:"bowtie-icon bowtie-edit-undo",hidden:!0}),n.push({id:t.DESTROY_WORK_ITEM,text:gt.DestroyWorkItemDeleteButtonText,title:gt.DestroyWorkItemDeleteButtonText,showText:!1,icon:"bowtie-icon bowtie-edit-delete",hidden:!0}),n.push({id:t.RESTORE_WORK_ITEM,text:gt.RestoreWorkItemDeleteButtonText,title:gt.RestoreWorkItemDeleteButtonText,showText:!1,icon:"bowtie-icon bowtie-recycle-bin-restore ",hidden:!0})),i=$.map(i,function(i){return n.length>0&&(i.id===t.SAVE_WORK_ITEM||i.id===t.REFRESH_WORK_ITEM||i.id===t.REVERT_WORK_ITEM||i.id===t.RESTORE_WORK_ITEM||i.id===t.DESTROY_WORK_ITEM||i.id===t.FOLLOW_WORK_ITEM||i.id===t.UNFOLLOW_WORK_ITEM)?null:(i.noIcon=!1,i.showText=!0,i)}),n.push({id:t.ACTIONS,title:bt.ActionsTitle,idIsAction:!1,icon:"bowtie-icon bowtie-ellipsis",hideDrop:!0,showText:!1,childItems:l.sortMenuItems(i)}),n},t.prototype._addSaveToolbarButtons=function(n){var i=this._getSaveWorkItemTitleText(),r=this._getSaveAndCloseWorkItemTitleText();this._options.inline&&(this._isDialog?n.push({id:t.SAVE_AND_CLOSE_WORK_ITEM,text:gt.SaveAndCloseWorkItemText,title:r,showText:!0,icon:"bowtie-icon bowtie-save-close bowtie-white",hidden:!0,cssClass:"drop-down-save",childItems:[{id:t.SAVE_WORK_ITEM,text:gt.Save,title:i,showText:!0,icon:"bowtie-icon bowtie-save",hidden:!0,cssClass:"save-work-item-menu-item"}],splitDropOptions:{id:t.SAVEACTIONS,cssClass:"drop-down-chevron",title:gt.MoreSaveOptions,hidden:!0,noIcon:!0,extraOptions:{align:"left-bottom"}}}):n.push({id:t.SAVE_WORK_ITEM,text:gt.Save,title:i,showText:!0,icon:"bowtie-icon bowtie-save bowtie-white",hidden:!0,cssClass:"drop-down-save save-only"}))},t.prototype._getContributionContext=function(){if(this.workItem){var n=this.workItem.getFieldValue(kt.CoreField.TeamProject,!0)!==this.workItem.project.name;return{workItemId:this.workItem.id,workItemTypeName:this.workItem.workItemType.name,workItemAvailable:this.workItem.id>0,workItemDirty:this.workItem.isDirty(),hideDelete:this.workItem.id<0||this.workItem.isDeleted(),tfsContext:this.workItem.store.getTfsContext(),closeWorkItemFormDialogDelegate:this._closeWorkItemFormDialogDelegate,currentProjectName:this.workItem.project.name,currentProjectGuid:this.workItem.project.guid,movedToNewProject:n}}return{workItemId:0,workItemAvailable:!1}},t.prototype.updateInternal=function(n){var h=0,f=!1,s=!1,e=!0,c=!1,l=!1,a=!1,y=!1,o=!1,p=w.FeatureAvailabilityService.isFeatureEnabled(ct.FeatureAvailabilityFlags.WebaccessProcessHierarchy);n&&n.change===nt.WorkItemChangeType.FieldChange||this.toolbar.refreshContributedItems();var r=!1,u=!0,i=!0;this.workItem&&(h=this.workItem.getUniqueId(),u=h<=0,f=this.workItem.isDirty(),s=this.workItem.isSaving(),e=this.workItem.isValid(),o=this.workItem.hasAttachmentsPendingUpload(),this.workItem.project.process&&(c=this.workItem.project.process.isInherited,l=this.workItem.project.process.isSystem,a=!c&&!l,y=this.workItem.project.process.canEditProcess),r=this.workItem.isDeleted(),i=this.workItem.isReadOnly());var v=et.WorkItemPermissionDataHelper.isPopulated(),b=!(v&&et.WorkItemPermissionDataHelper.hasWorkItemDeletePermission()),k=!(v&&et.WorkItemPermissionDataHelper.hasWorkItemDestroyPermission()),d=[{id:t.SAVE_WORK_ITEM,disabled:!f||!e||o,hidden:i},{id:t.SAVE_AND_CLOSE_WORK_ITEM,disabled:!f||!e||o,hidden:i},{id:t.SAVEACTIONS,disabled:!f||!e||o||i,hidden:r},{id:t.DISCARD_NEW_WORK_ITEM,hidden:!u||i},{id:t.REFRESH_WORK_ITEM,disabled:u,hidden:r},{id:t.REVERT_WORK_ITEM,disabled:u||!f||s,hidden:r||i},{id:t.COPY_WORK_ITEM_TITLE,hidden:!i},{id:t.LINK_TO_NEW_WORK_ITEM,disabled:u,hidden:r||i},{id:t.COPY_WORK_ITEM,disabled:u,hidden:r||i},{id:t.MOVE_WORK_ITEM,disabled:u||f,hidden:r||i},{id:t.CHANGE_WORK_ITEM_TYPE,disabled:u,hidden:r||i},{id:t.EMAIL_WORK_ITEM,disabled:u||s,hidden:r||i},{id:t.KEYBOARD_SHORTCUTS,hidden:r},{id:t.CUSTOMIZE,hidden:r||!this.workItem||!p||a||i},{id:t.TOGGLE_FULL_SCREEN,hidden:this._isFullScreenIconHidden()},{id:t.RESTORE_WORK_ITEM,hidden:b||!r||u||i},{id:t.DESTROY_WORK_ITEM,hidden:k||!r||u||i},{id:"ms.vss-code-web.create-branch-menu",hidden:r||u||i},{id:t.ACTIONS,hidden:r}];n&&n.firstSave&&n.change===nt.WorkItemChangeType.SaveCompleted&&this._initializeFollowsMenuState();this.toolbar.updateCommandStates(d);this._workItemsNavigator&&this._updateCommandStates()},t.prototype.executeMenuItem=function(n){var t=this.toolbar.getItem(n);t&&t.isEnabled()&&t.hasAction()&&t.execute()},t.prototype.onToolbarItemClick=function(n){var u=this,i=this.workItem,c=this.getTypeName(),p=typeof this._options.beginSaveCallback=="function"?this._options.beginSaveCallback:$.noop,w=typeof this._options.workItemSaveCallback=="function"?this._options.workItemSaveCallback:$.noop,b=typeof this._options.saveErrorCallback=="function"?this._options.saveErrorCallback:$.noop,o=function(n,t){var f=u._getTfsContext().navigation.currentController,e=u._getTfsContext().navigation.currentAction;lt.publishEvent(new lt.TelemetryEventData(r.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,r.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_TOOLBAR_CLICK,{action:n,originArea:f+"/"+e,workItemSessionId:i.sessionId}),t)},k,l,s,h,v;if(i){k=n.get_commandName();switch(k){case t.SAVE_WORK_ITEM:return i.isDirty()&&!i.isSaving()&&(p(!1),i.beginSave(w,b,"ToolbarSave"),o("Save work item")),!1;case t.SAVE_AND_CLOSE_WORK_ITEM:return i.isDirty()&&!i.isSaving()&&(p(!0),i.beginSave(function(){w();u._closeWorkItemFormDialogDelegate&&u._closeWorkItemFormDialogDelegate();f.logTracePoint(c+".saveCloseComplete")},b,"ToolbarSaveAndClose"),o("Save and close work item")),!1;case t.REFRESH_WORK_ITEM:return l=function(){i.beginRefresh(function(){f.logTracePoint(c+".refreshComplete")},function(n){alert(fi(n))});u._refreshFollowState()},i.isDirty(!0)?e.MessageDialog.showMessageDialog(gt.ConfirmWorkItemRefresh).then(l):l(),o("Refresh work item"),!1;case t.REVERT_WORK_ITEM:return e.MessageDialog.showMessageDialog(gt.ConfirmWorkItemRevert).then(function(){i.reset();f.logTracePoint(c+".refreshComplete")}),o("Revert work item changes"),!1;case t.DISCARD_NEW_WORK_ITEM:return o("Discard new work item",!0),ri.performAction(ft.WorkItemActions.ACTION_WORKITEM_DISCARD_IF_NEW,{workItem:i,action:function(){var n=!0;u._closeWorkItemFormDialogDelegate&&(u._closeWorkItemFormDialogDelegate(!0),n=!1);u._discardWorkItemDelegate&&(u._discardWorkItemDelegate(),n=!1);n&&u._navigatePreviousOrDefault()}}),!1;case t.COPY_WORK_ITEM_TITLE:return ot.copyWorkItemTitleToClipboard(i),o("copy work item title to clipboard"),!1;case t.LINK_TO_NEW_WORK_ITEM:return ut.useWITDialogs().then(function(n){return n.newLinkedWorkItem(i,[i.id],{tfsContext:u._getTfsContext()})}),o("New linked work item"),!1;case t.COPY_WORK_ITEM:return ut.useWITDialogs().then(function(n){return n.createCopyOfWorkItem(i,{tfsContext:u._getTfsContext()})}),o("Create copy of work item"),!1;case t.MOVE_WORK_ITEM:return ut.useWITDialogs().then(function(n){return n.moveWorkItem({workItemIds:[i.id],tfsContext:u._getTfsContext()})}),o("Move work item"),!1;case t.CHANGE_WORK_ITEM_TYPE:return ut.useWITDialogs().then(function(n){return n.changeWorkItemType({workItemIds:[i.id],tfsContext:u._getTfsContext()})}),o("Change work item type"),!1;case t.EMAIL_WORK_ITEM:return s=[],s.push(i.getField(kt.CoreFieldRefNames.Id).fieldDefinition.name),s.push(i.getField(kt.CoreFieldRefNames.WorkItemType).fieldDefinition.name),s.push(i.getField(kt.CoreFieldRefNames.Title).fieldDefinition.name),s.push(i.getField(kt.CoreFieldRefNames.AssignedTo).fieldDefinition.name),s.push(i.getField(kt.CoreFieldRefNames.State).fieldDefinition.name),s.push(i.getField(kt.CoreFieldRefNames.Tags).fieldDefinition.name),h=i.getFieldValue(kt.CoreFieldRefNames.AssignedTo,!0,!0),h&&h.length>0&&(h=at.IdentityHelper.parseUniquefiedIdentityName(h).uniqueName),wt.requireModules(["Admin/Scripts/TFS.Admin.SendMail","WorkItemTracking/Scripts/Dialogs/Models/EmailWorkItems"]).spread(function(n,t){var r={workItems:[i.id],fields:s,store:i.project,projectId:i.project.guid};n.Dialogs.sendMail(new t.EmailWorkItemsDialogModel({defaultTo:h,subject:i.id+" - "+i.getFieldValue(kt.CoreFieldRefNames.Title,!0,!0),workItemSelectionOption:r,workItem:i}));o("Email work item")}),!1;case t.TOGGLE_FULL_SCREEN:return v=!a.FullScreenHelper.getFullScreen(),a.FullScreenHelper.setFullScreen(v,!0),this._updateFullScreenButtonIcon(),v?o(gt.FullscreenEnterIconText):o(gt.FullscreenExitIconText),!1;case t.RESTORE_WORK_ITEM:return wt.requireModules(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.RecycleBin"]).spread(function(n){n.RestoreConfirmationDialog.showDialog(function(){u._closeWorkItemFormDialogDelegate&&u._closeWorkItemFormDialogDelegate();var t=i.id,r=i.store.getTfsContext();n.RecycleBin.beginRestoreWorkItems(tt.RecycleBinTelemetryConstants.TOOLBAR,tt.RecycleBinTelemetryConstants.WORK_ITEMS_FORM_SOURCE,r,[t],$.noop,function(n){ni.fire(st.WorkItemViewActions.WORKITEM_VIEW_MESSAGE_CHANGE,u,{message:n.message,messageType:y.MessageAreaType.Error})});o("Restore work item")})}),!1;case t.DESTROY_WORK_ITEM:return wt.requireModules(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.RecycleBin"]).spread(function(n){n.DestroyConfirmationDialog.showDialog(function(){u._closeWorkItemFormDialogDelegate&&u._closeWorkItemFormDialogDelegate();var t=i.id,r=i.store.getTfsContext();n.RecycleBin.beginDestroyWorkItems(tt.RecycleBinTelemetryConstants.TOOLBAR,tt.RecycleBinTelemetryConstants.WORK_ITEMS_FORM_SOURCE,r,[t],$.noop,function(n){ni.fire(st.WorkItemViewActions.WORKITEM_VIEW_MESSAGE_CHANGE,u,{message:n.message,messageType:y.MessageAreaType.Error})});o("Destroy work item")})}),!1;case t.FOLLOW_WORK_ITEM:return this._setFollowState(!0),o("Follow work item"),!1;case t.UNFOLLOW_WORK_ITEM:return this._setFollowState(!1),o("Unfollow work item"),!1;case t.CUSTOM_FOLLOW_WORK_ITEM:return ut.useWITDialogs().then(function(n){return n.customFollowWorkItem(i,{tfsContext:u._getTfsContext()})}),o("Custom Follow Dialog"),!1;case t.KEYBOARD_SHORTCUTS:return o("Keyboard shortcuts"),ht.ShortcutManager.getInstance().showShortcutDialog(),!1}}},t.prototype._getApiLocation=function(n,t){return this._getTfsContext().getActionUrl(n||"","wit",$.extend({area:"api"},t))},t.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},t.prototype._fireEvent=function(n,t,i){if(this._events){var r=!1;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},t.prototype.attachEvent=function(n,t){this._events||(this._events=new s.NamedEventCollection);this._events.subscribe(n,t)},t.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},t.prototype._attachKeyDownHandler=function(){var n=this;this._onKeyDownDelegate=function(t){if(t.keyCode===pt.KeyCode.ESCAPE)return n._updateFullScreenButtonIcon(),!1};$(window).bind("keydown",this._onKeyDownDelegate)},t.prototype._detachKeyDownHandler=function(){this._onKeyDownDelegate&&($(window).off("keydown",this._onKeyDownDelegate),this._onKeyDownDelegate=null)},t.prototype._attachEvents=function(){var n=this;this._updateCommandStatesDelegate=ii(this,this._updateCommandStates);this._updateFullScreenButtonIconDelegate=ii(this,this._updateFullScreenButtonIcon);this._workItemsNavigator&&(this._workItemsNavigator.attachEvent("navigate-index-changed",this._updateCommandStatesDelegate),this._workItemsNavigator.attachEvent("navigate-query-results",this._updateCommandStatesDelegate),ti.attachNavigate(this._updateCommandStatesDelegate));a.FullScreenHelper.attachFullScreenUrlUpdateEvent(this._updateFullScreenButtonIconDelegate);ni.attachEvent(et.WorkItemPermissionActions.PERMISSION_DATA_AVAILABLE,this._updateCommandStatesDelegate);dt.isFollowWorkItemEnabled(this._getTfsContext())&&this._options.showWorkItemMenus!==!1&&(this._followsChangedDelegate=function(t,r){n.workItem&&r.artifact.artifactType===i.ArtifactTypeNames.WorkItem&&r.artifact.artifactId===n.workItem.id.toString()&&n._updateFollowsMenuState(!0)},c.attachFollowsChanged(this._followsChangedDelegate),this._followsChangingDelegate=function(t,r){n.workItem&&r.artifact.artifactType===i.ArtifactTypeNames.WorkItem&&r.artifact.artifactId===n.workItem.id.toString()&&n._disableFollowsMenuItems()},c.attachFollowsChanging(this._followsChangingDelegate))},t.prototype._detachEvents=function(){this._updateCommandStatesDelegate&&(this._workItemsNavigator&&(this._workItemsNavigator.detachEvent("navigate-index-changed",this._updateCommandStatesDelegate),this._workItemsNavigator.detachEvent("navigate-query-results",this._updateCommandStatesDelegate)),ti.detachNavigate(this._updateCommandStatesDelegate),ni.detachEvent(et.WorkItemPermissionActions.PERMISSION_DATA_AVAILABLE,this._updateCommandStatesDelegate));this._updateFullScreenButtonIconDelegate&&a.FullScreenHelper.detachFullScreenUrlUpdateEvent(this._updateFullScreenButtonIconDelegate);this._followsChangedDelegate&&c.detachFollowsChanged(this._followsChangedDelegate);this._followsChangingDelegate&&c.detachFollowsChanging(this._followsChangingDelegate)},t.prototype._updateCommandStates=function(){var h=this._workItemsNavigator&&this._workItemsNavigator.getProvider(),n=!1,i=!0,f=!1,r=0;this.workItem&&(r=this.workItem.getUniqueId(),i=r<=0,f=this.workItem.isDirty(),n=this.workItem.isDeleted());var u=et.WorkItemPermissionDataHelper.isPopulated(),e=!(u&&et.WorkItemPermissionDataHelper.hasWorkItemDeletePermission()),o=!(u&&et.WorkItemPermissionDataHelper.hasWorkItemDestroyPermission()),s=[{id:t.RESTORE_WORK_ITEM,hidden:e||!n||i},{id:t.DESTROY_WORK_ITEM,hidden:o||!n||i}];this.toolbar&&this.toolbar.updateCommandStates(s);this.resize()},t.prototype._updateFullScreenButtonIcon=function(){var n,i;this.toolbar&&(n=this.toolbar.getItem(t.TOGGLE_FULL_SCREEN),n&&(i=n._item,i.hidden=this._isFullScreenIconHidden(),i.icon=a.FullScreenHelper.getFullScreen()?"bowtie-icon bowtie-view-full-screen-exit":"bowtie-icon bowtie-view-full-screen",i.title=a.FullScreenHelper.getFullScreenTooltip(),n.update(i),n.removeHighlight()))},t.prototype._isFullScreenIconHidden=function(){var n=ti.getCurrentState();return n&&yt.localeIgnoreCaseComparer(n.action,k.ActionUrl.ACTION_EDIT)!==0&&yt.localeIgnoreCaseComparer(n.action,k.ActionUrl.ACTION_NEW)!==0&&yt.localeIgnoreCaseComparer(n.action,k.ActionUrl.ACTION_VSOPEN)!==0},t.prototype._navigatePreviousOrDefault=function(){document.referrer===""?ti.addHistoryPoint("query",{path:gt.AssignedToMeQuery,witd:null,id:null,project:null,triage:null}):window.history.go(-1)},t.prototype._initializeFollowsMenuState=function(){var i=w.FeatureAvailabilityService.isFeatureEnabled(ct.FeatureAvailabilityFlags.EnableCustomFollows,!1),n=[{id:t.FOLLOW_WORK_ITEM,disabled:!0,hidden:!1},{id:t.UNFOLLOW_WORK_ITEM,disabled:!0,hidden:!0}];i&&n.push({id:t.CUSTOM_FOLLOW_WORK_ITEM,disabled:!0,hidden:!1});this.toolbar.updateCommandStates(n);this._updateFollowsMenuState()},t.prototype._getSaveWorkItemTitleText=function(){if(this.workItem&&this.workItem.isReadOnly())return gt.ReadonlyWorkItemSaveButtonTooltip;var n=pt.KeyUtils.shouldUseMetaKeyInsteadOfControl();return n?gt.SaveHotkeyWithCommand:gt.SaveHotkeyWithControl},t.prototype._getSaveAndCloseWorkItemTitleText=function(){if(this.workItem&&this.workItem.isReadOnly())return gt.ReadonlyWorkItemSaveButtonTooltip;var n=pt.KeyUtils.shouldUseMetaKeyInsteadOfControl();return n?gt.SaveAndCloseHotkeyWithCommand:gt.SaveAndCloseHotkeyWithControl},t.prototype._updateFollowsMenuState=function(n){var i=this,r,u;if(n===void 0&&(n=!1),dt.isFollowWorkItemEnabled(this._getTfsContext())){if(r=c.getFollowableArtifact(this.workItem),!r){this._disableFollowsMenuItems(!0);return}u=this.workItem.id;c.getFollowsState(this.workItem).then(function(r){var o,e,s,f;i.workItem&&i.workItem.id===u&&(o=w.FeatureAvailabilityService.isFeatureEnabled(ct.FeatureAvailabilityFlags.EnableCustomFollows,!1),e=[{id:t.FOLLOW_WORK_ITEM,disabled:r!==null,hidden:r!==null},{id:t.UNFOLLOW_WORK_ITEM,disabled:r===null,hidden:r===null}],o&&e.push({id:t.CUSTOM_FOLLOW_WORK_ITEM,disabled:!1,hidden:!1}),s=r===null?t.FOLLOW_WORK_ITEM:t.UNFOLLOW_WORK_ITEM,i.toolbar.updateCommandStates(e),n&&(f=i.toolbar.getItem(s),f&&(f.select(),f.removeFocus())))},function(){i._disableFollowsMenuItems()})}},t.prototype._disableMenuItem=function(n,t){var i=this.toolbar.getCommandState(n),r=[{id:n,disabled:!0,hidden:t||(i&l.MenuItemState.Hidden)===l.MenuItemState.Hidden}];this.toolbar.updateCommandStates(r)},t.prototype._disableFollowsMenuItems=function(n){var i=w.FeatureAvailabilityService.isFeatureEnabled(ct.FeatureAvailabilityFlags.EnableCustomFollows,!1);this._disableMenuItem(t.FOLLOW_WORK_ITEM,n);this._disableMenuItem(t.UNFOLLOW_WORK_ITEM,n);i&&this._disableMenuItem(t.CUSTOM_FOLLOW_WORK_ITEM,n)},t.prototype._setFollowState=function(n){var t=rt.PerfScenarioManager.startScenario(n?r.WITPerformanceScenario.WORKITEMFORM_FOLLOWS_ACTION_FOLLOW:r.WITPerformanceScenario.WORKITEMFORM_FOLLOWS_ACTION_UNFOLLOW,!1);c.setFollowState(this.workItem,n,"","WorkItem.Form.Toolbar").then(function(){t&&t.end()},function(){t&&t.end()})},t.prototype._refreshFollowState=function(){c.clearFollowState(this.workItem);this._disableFollowsMenuItems();this._updateFollowsMenuState()},t.SAVE_AND_CLOSE_WORK_ITEM="save-and-close-work-item",t.SAVE_WORK_ITEM="save-work-item",t.REFRESH_WORK_ITEM="refresh-work-item",t.REVERT_WORK_ITEM="revert-work-item",t.DISCARD_NEW_WORK_ITEM="discard-new-work-item",t.LINK_TO_NEW_WORK_ITEM="link-to-new-work-item",t.COPY_WORK_ITEM="copy-work-item",t.MOVE_WORK_ITEM="move-work-item",t.CHANGE_WORK_ITEM_TYPE="change-work-item-type",t.EMAIL_WORK_ITEM="email-work-item",t.CUSTOMIZE="customize",t.TOGGLE_FULL_SCREEN="toggle-full-screen",t.RESTORE_WORK_ITEM="restore-work-item",t.DESTROY_WORK_ITEM="destroy-work-item",t.FOLLOW_WORK_ITEM="work-item-follow",t.UNFOLLOW_WORK_ITEM="work-item-unfollow",t.FOLLOW_WORK_ITEM_ICON="bowtie-icon bowtie-watch-eye",t.UNFOLLOW_WORK_ITEM_ICON="bowtie-icon bowtie-watch-eye-fill",t.CUSTOM_FOLLOW_WORK_ITEM="custom-follow-work-item",t.CUSTOM_FOLLOW_WORK_ITEM_ICON="bowtie-icon bowtie-settings-gear-outline",t.FOLLOW_MENU_ITEM_CSS="follow-item-menu-item",t.FOLLOW_MENU_ITEM_CSS_GRAY="follow-item-menu-item-gray",t.CUSTOM_FOLLOW_MENU_ITEM_CSS="custom-follow-item-menu-item",t.KEYBOARD_SHORTCUTS="keyboard-shortcuts",t.ACTIONS="actions",t.SAVEACTIONS="save-actions",t.CUSTOMIZE_GROUPID="customization",t.LAYOUT_CUSTOMIZATION_VIEW="layout",t.COPY_WORK_ITEM_TITLE="copy-work-item-title",t.MAX_RANK=1e4,t.WIT_CONTRIBUTION_SOURCE_TIMEOUT=1e4,t}(g.WorkItemThrottleControl);t.WorkItemToolbar=ui;wt.initClassPrototype(ui,{_workItemsNavigator:null,toolbar:null,_events:null});ri.registerActionWorker(ft.WorkItemActions.ACTION_WORKITEM_DISCARD_IF_NEW,function(n){var t=n.workItem,i=n.action;if(t&&t.isNew()){if(t.isDirty(!0)){e.MessageDialog.showMessageDialog(gt.ConfirmWorkItemDiscardNew).then(function(){t.discardIfNew();i()});return}t.discardIfNew()}i();return})});

define("WorkItemTracking/Scripts/Form/LayoutTransformations/LayoutTransformations",["require","exports","WorkItemTracking/Scripts/Form/Models","WorkItemTracking/Scripts/Form/Layout","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Form/Grids","WorkItemTracking/Scripts/Form/Models","VSS/LWP"],function(n,t,i,r,u,f,e,o,s){var h,c,l,a,v,y;Object.defineProperty(t,"__esModule",{value:!0});t.DeploymentControlTransformation=t.GroupLabelTransformation=t.HistoryControlGroupTransformation=t.HistoryControlTransformation=t.DiscussionLayoutTransformation=t.DeletedViewTransformation=void 0;h=function(){function n(n){this._isDeletedView=n}return n.prototype.apply=function(n){for(var t,h,u,f,i,e,c,o=!1,s=n.pages.length-1;s>=0;s--){if(t=n.pages[s],t&&t.isContribution&&!t.contribution.showOnDeletedWorkItem===this._isDeletedView){n.pages.splice(s,1);o=!0;continue}if(t&&t.sections)for(h=0;h<t.sections.length;h++)if(u=t.sections[h],u&&u.groups)for(f=u.groups.length-1;f>=0;f--){if(i=u.groups[f],i&&i.isContribution&&!i.contribution.showOnDeletedWorkItem===this._isDeletedView){u.groups.splice(f,1);o=!0;continue}if(i.controls)for(e=i.controls.length-1;e>=0;e--)c=i.controls[e],c&&c.isContribution&&!c.contribution.showOnDeletedWorkItem===this._isDeletedView&&(i.controls.splice(e,1),o=!0)}}return o?r.WorkItemFormLayoutTransformationResult.LayoutChanged:r.WorkItemFormLayoutTransformationResult.None},n}();t.DeletedViewTransformation=h;c=function(){function n(){}return n.prototype.apply=function(n){var t={id:u.CoreFieldRefNames.History,controlType:"WorkItemDiscussionControl",label:f.WorkItemDiscussionLabel,readonly:!1,visible:!0,watermark:void 0,metadata:void 0,order:0,hideLabel:!0,inherited:!1,controlOptions:{enableContactCard:!0},contribution:null,height:null,isContribution:!1},o={label:f.WorkItemDiscussionLabel,visible:!0,controls:[t],id:"discussionControl",order:0,inherited:!1,calculatedVisible:!0,isMaximizable:!0,isCollapsible:!0};return n.pages.some(function(n){return n.pageType===i.PageType.custom&&!n.isContribution?(n.sections.push({id:e.FormGrid.BottomSection,groups:[o],calculatedVisible:!0}),!0):!1})?r.WorkItemFormLayoutTransformationResult.LayoutChanged:r.WorkItemFormLayoutTransformationResult.None},n}();t.DiscussionLayoutTransformation=c;l=function(){function n(){}return n.prototype.apply=function(n){for(var e,s,i,h,o,c,t,a={id:u.CoreFieldRefNames.History,controlType:"WorkItemStateGraphControl",label:f.WorkItemLogControlStateGraphTitle,readonly:!1,visible:!0,watermark:void 0,metadata:void 0,order:0,hideLabel:!0,inherited:!1,controlOptions:{showSpinner:!0,showErrors:!0,showPin:!1}},v={label:f.WorkItemLogControlStateGraphTitle,visible:!0,controls:[a],id:r.LayoutConstants.StateGraphControlGroupName,order:0,inherited:!1,calculatedVisible:!0,isMaximizable:!1,isCollapsible:!0,isExpanded:!0},l=0;l<n.pages.length;l++)if(e=n.pages[l],e&&e.sections)for(s=0;s<e.sections.length;s++)if(i=e.sections[s],i&&i.groups)for(h=0;h<i.groups.length;h++)if(o=i.groups[h],o&&o.controls)for(c=0;c<o.controls.length;c++)if(t=o.controls[c],t.controlType===u.WellKnownControlNames.WorkItemLogControl||t.controlOptions&&t.controlOptions.controlType===u.WellKnownControlNames.WorkItemLogControl)return t.controlType=u.WellKnownControlNames.WorkItemHistoryControl,t.controlOptions&&(t.controlOptions.controlType=u.WellKnownControlNames.WorkItemHistoryControl),i.groups.unshift(v),r.WorkItemFormLayoutTransformationResult.LayoutChanged;return r.WorkItemFormLayoutTransformationResult.None},n}();t.HistoryControlTransformation=l;a=function(){function n(){}return n.prototype.apply=function(n){for(var l,f,h,a,e,c,t,i=0,s=n.pages.filter(function(n){return n.pageType===o.PageType.history});i<s.length;i++)for(l=s[i],f=0,h=l.sections;f<h.length;f++)for(a=h[f],e=0,c=a.groups;e<c.length;e++)t=c[e],t.controls&&t.controls.length===1&&t.controls[0].controlType===u.WellKnownControlNames.WorkItemHistoryControl&&(t.isCollapsible=!1);return r.WorkItemFormLayoutTransformationResult.LayoutChanged},n}();t.HistoryControlGroupTransformation=a;v=function(){function n(){}return n.prototype.apply=function(n){for(var c,t,e,l,i,o,u,s=!1,f=0,h=n.pages;f<h.length;f++)for(c=h[f],t=0,e=c.sections;t<e.length;t++)for(l=e[t],i=0,o=l.groups;i<o.length;i++)u=o[i],u.label.indexOf("&")!==-1&&(u.label=u.label.replace("&",""),s=!0);return s?r.WorkItemFormLayoutTransformationResult.LayoutChanged:r.WorkItemFormLayoutTransformationResult.None},n}();t.GroupLabelTransformation=v;y=function(){function n(){}return n.prototype.apply=function(n){var v=s.getLWPService("IVssContributionService"),l=!1,o,i,h,f,c,t,e,a;if(!v)for(o=0;o<n.pages.length;o++)if(i=n.pages[o],i&&i.sections)for(h=0;h<i.sections.length;h++)if(f=i.sections[h],f&&f.groups)for(c=0;c<f.groups.length;c++)if(t=f.groups[c],t&&t.controls)for(e=0;e<t.controls.length;e++)if(a=t.controls[e],a.controlType===u.WellKnownControlNames.DeploymentsControl){t.controls.splice(e,1);l=!0;continue}return l?r.WorkItemFormLayoutTransformationResult.LayoutChanged:r.WorkItemFormLayoutTransformationResult.None},n}();t.DeploymentControlTransformation=y});

define("WorkItemTracking/Scripts/Form/FormFieldEventHandler",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.FormFieldEventHandler=void 0;var i=function(){function n(n,t,i,r){var u,f;this.workItem=n;this.isPassing=t;this.updateStatus=i;this._changeDelegate=this.onFieldChanged.bind(this);this._fieldStatus={};for(u in r)f=r[u],f&&(this._fieldStatus[u]=this.isPassing(f)),this.workItem.attachFieldChange(u,this._changeDelegate);this.emitStatuses()}return n.prototype.onFieldChanged=function(n,t){if(t){var i=t.fieldDefinition.referenceName;this._fieldStatus[i]=this.isPassing(t)}this.emitStatuses()},n.prototype.emitStatuses=function(){this.updateStatus(this.areAllPassing())},n.prototype.areAllPassing=function(){for(var n in this._fieldStatus)if(!this._fieldStatus[n])return!1;return!0},n.prototype.detachFields=function(){this.updateStatus(!0);for(var n in this._fieldStatus)this.workItem.detachFieldChange(n,this._changeDelegate)},n}();t.FormFieldEventHandler=i});

define("WorkItemTracking/Scripts/Form/LayoutTransformations/InjectHeaderPageTransformation",["require","exports","VSS/Utils/Array","VSS/Utils/String","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Form/Models","WorkItemTracking/Scripts/Form/Layout"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.InjectHeaderPageTransformation=void 0;var s=function(){function n(){}return n.prototype.apply=function(n){var i=[],l=this._getSystemControl(n,u.CoreFieldRefNames.State,f.StateLabel,u.WellKnownControlNames.FieldControl,f.StateEmptyText),r,t,s,h,c;return i.push(l),r=this._getSystemControl(n,u.CoreFieldRefNames.Reason,f.ReasonLabel,u.WellKnownControlNames.FieldControl,null),r&&i.push(r),t=[],s=this._getSystemControl(n,u.CoreFieldRefNames.AreaPath,f.AreaLabel,u.WellKnownControlNames.ClassificationControl,null),s&&t.push(s),h=this._getSystemControl(n,u.CoreFieldRefNames.IterationPath,f.IterationLabel,u.WellKnownControlNames.ClassificationControl,null),h&&t.push(h),c={label:"",id:"Header",visible:!0,pageType:e.PageType.header,layoutMode:e.PageLayoutMode.firstColumnWide,inherited:!1,locked:!0,sections:[{id:"Header-Section1",groups:[this._getHeaderGroup("Header-Section1-Group1",i)]},{id:"Header-Section2",groups:[this._getHeaderGroup("Header-Section2-Group1",t)]}]},n.headerPage=c,o.WorkItemFormLayoutTransformationResult.LayoutChanged},n.prototype._getHeaderGroup=function(n,t){return{id:n,label:"",controls:t,visible:!0,order:1,inherited:!1}},n.prototype._getSystemControl=function(n,t,i,r,u){var f=this._getServerOrDefaultSystemControl(n,t,i,r,u),e;return f.visible===!1?null:(e=__assign(__assign({},f.controlOptions),{chromeBorder:!1}),__assign(__assign({},f),{controlOptions:e}))},n.prototype._getServerOrDefaultSystemControl=function(n,t,u,f,e){var o=i.first(n.systemControls,function(n){return r.equals(n.id,t,!0)}),s;return(o||(o=this._getDefaultSystemControl(t,u,f,e)),s=i.first(n.systemControls,function(n){return r.equals(n.replacesFieldReferenceName,t,!0)}),s)?s:o},n.prototype._getDefaultSystemControl=function(n,t,i,r){return{id:n,controlType:i||u.WellKnownControlNames.FieldControl,metadata:null,order:-1,visible:!0,hideLabel:!1,readonly:!1,inherited:!0,watermark:r,label:t,controlOptions:{}}},n}();t.InjectHeaderPageTransformation=s});

define("WorkItemTracking/Scripts/Form/React/Components/DropTargetComponent",["require","exports","OfficeFabric/Utilities","VSSUI/Util","react","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","OfficeFabric/Icon","WorkItemTracking/Scripts/TFS.WorkItemTracking.Helpers","VSS/LoaderPlugins/Css!WorkItemTracking/Form/React/Components/DropTargetComponent"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.DropTargetComponent=void 0;var s=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._dragCount=0,r._isValidDraggable=function(n){var i,t,r,u;if(!n||!n.dataTransfer||!n.dataTransfer.types)return!1;for(i=!1,t=0,r=n.dataTransfer.types;t<r.length;t++)if(u=r[t],u==="Files"||u==="application/x-moz-file"){i=!0;break}return i},r._onBodyDragOver=function(n){r._isValidDraggable(n)&&(r._overlayTimeout&&clearTimeout(r._overlayTimeout),r._overlayTimeout=setTimeout(function(){r._hide()},200))},r._onBodyDragEnter=function(n){r._isValidDraggable(n)&&(r._dragCount++,r._show())},r._onBodyDragLeave=function(n){r._isValidDraggable(n)&&(r._dragCount--,r._dragCount===0&&r._hide())},r._show=function(){r.setState({isHidden:!1})},r._hide=function(){r.setState({isHidden:!0})},r._processFiles=function(n){n.preventDefault();var t=n.dataTransfer.files;r._hide();r._dragCount=0;r._showProgressNotification();o.WITFileHelper.uploadFiles(t,r.state.workItem).then(r._showSuccessNotification,r._rejectNotification)},r._removeNotification=function(){r.props.form.clearNotification()},r._rejectNotification=function(){r._timeoutId=r._async.setTimeout(r._removeNotification,1)},r._showProgressNotification=function(){r.props.form.showNotification(f.AttachmentUploadProgressNotification)},r._showSuccessNotification=function(){r.props.form.showNotification(f.AttachmentUploadSuccessNotification);r._timeoutId=r._async.setTimeout(r._removeNotification,2e3)},r._onDragEnter=function(n){r._isValidDraggable(n)&&(n.preventDefault(),r.setState({isFocused:!0}))},r._onDragOver=function(n){n.preventDefault()},r._onDragLeave=function(){r.setState({isFocused:!1})},r._async=new i.Async(r),r.state={isFocused:!1,isHidden:!0,workItem:r.props.workItem},r}return __extends(t,n),t.prototype.componentDidMount=function(){document.body.addEventListener("dragover",this._onBodyDragOver);document.body.addEventListener("dragenter",this._onBodyDragEnter);document.body.addEventListener("dragleave",this._onBodyDragLeave)},t.prototype.componentWillUnmount=function(){document.body.removeEventListener("dragover",this._onBodyDragOver);document.body.removeEventListener("dragenter",this._onBodyDragEnter);document.body.removeEventListener("dragleave",this._onBodyDragLeave);this._async.dispose()},t.prototype.componentDidCatch=function(){this.setState({isHidden:!0})},t.prototype.updateWorkItem=function(n){this._async.clearTimeout(this._timeoutId);this.setState({workItem:n})},t.prototype.render=function(){return this.state.isHidden?null:u.createElement("div",{className:"focused-background absolute-fill drop-target-overlay"},u.createElement("div",{className:r.css("drop-target-component",this.state.isFocused&&"target-focus"),onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDrop:this._processFiles},u.createElement("div",{className:"drop-target-component-icon"},u.createElement(e.Icon,{iconName:"Upload"}),u.createElement("h2",null,f.AttachmentDropMessageHeader),f.AttachmentDropMessage)))},t}(u.Component);t.DropTargetComponent=s});

define("WorkItemTracking/Scripts/ControlRegistration/Form",["require","exports","WorkItemTracking/Scripts/ControlRegistration","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r){function e(){return u}function o(n){u=n}var f,u;Object.defineProperty(t,"__esModule",{value:!0});t.setFormRegistrationMode=t.getFormRegistrationMode=t.FormRegistrationMode=void 0,function(n){n[n.Default=0]="Default";n[n.Mobile=1]="Mobile"}(f=t.FormRegistrationMode||(t.FormRegistrationMode={}));u=f.Default;t.getFormRegistrationMode=e;t.setFormRegistrationMode=o;i.registerWorkItemFormControl(r.WellKnownControlNames.WorkItemHistoryControl,"WorkItemHistoryControl","WorkItemTracking/Scripts/Controls/WorkItemForm/HistoryControl/WorkItemHistoryControl");i.registerWorkItemFormControl(r.WellKnownControlNames.WorkItemStateGraphControl,"WorkItemStateGraphControl","WorkItemTracking/Scripts/Controls/WorkItemForm/StateTransitionGraphControl");i.registerWorkItemFormControl(r.WellKnownControlNames.PlainTextControl,"PlainTextControl","WorkItemTracking/Scripts/Controls/WorkItemForm/PlainTextControl");i.registerWorkItemControlAdvanced(r.WellKnownControlNames.HtmlControl,{renderType:i.RenderType.JQuery,controlType:"HtmlFieldControl",requiredModule:"WorkItemTracking/Scripts/Controls/WorkItemForm/HtmlFieldControl",previewConfiguration:{requiredModule:"WorkItemTracking/Scripts/Form/React/Components/LongTextFieldPreview",previewType:"LongTextFieldPreview",renderType:i.RenderType.React}});i.registerWorkItemControlAdvanced(r.WellKnownControlNames.WebpageControl,{renderType:i.RenderType.JQuery,controlType:"WebpageControl",requiredModule:"WorkItemTracking/Scripts/Controls/WorkItemForm/WebpageControl"});i.registerWorkItemFormControl(r.WellKnownControlNames.DateControl,"DateTimeControl","WorkItemTracking/Scripts/Controls/WorkItemForm/DateTimeControl");i.registerWorkItemControlAdvanced(r.WellKnownControlNames.ClassificationControl,{renderType:i.RenderType.JQuery,controlType:"WorkItemClassificationControl",requiredModule:"WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemClassificationControl",previewConfiguration:{requiredModule:"WorkItemTracking/Scripts/Form/React/Components/LongTextFieldPreview",previewType:"LongTextFieldPreview",renderType:i.RenderType.React}});i.registerWorkItemFormControl(r.WellKnownControlNames.LabelControl,"LabelControl","WorkItemTracking/Scripts/Controls/WorkItemForm/LabelControl");i.registerWorkItemControlAdvanced(r.WellKnownControlNames.FieldControl,{renderType:i.RenderType.JQuery,controlType:"FieldControl",requiredModule:"WorkItemTracking/Scripts/Controls/WorkItemForm/FieldControl",previewConfiguration:{previewType:"FieldControlPreview",requiredModule:"WorkItemTracking/Scripts/Form/React/Components/FieldControlPreview",renderType:i.RenderType.React}});i.registerWorkItemFormControl(r.WellKnownControlNames.WorkItemDiscussionControl,"WorkItemDiscussionControl","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemDiscussionControl");i.registerWorkItemFormControl(r.WellKnownControlNames.TestStepsControl,"TestStepsControl","TestManagement/Scripts/TFS.TestManagement.Controls");i.registerWorkItemFormControl(r.WellKnownControlNames.AssociatedAutomationControl,"AssociatedAutomationControl","TestManagement/Scripts/Controls/TFS.TestManagement.AssociatedAutomationControl");i.registerWorkItemFormControl(r.WellKnownControlNames.StageControl,"StageControl","ReleasePipeline/Scripts/TFS.ReleasePipeline.Controls");i.registerWorkItemFormControl(r.WellKnownControlNames.StageBuildControl,"StageBuildControl","ReleasePipeline/Scripts/TFS.ReleasePipeline.Controls");i.registerWorkItemFormControl(r.WellKnownControlNames.ReleaseBuildControl,"ReleaseBuildControl","ReleasePipeline/Scripts/TFS.ReleasePipeline.Controls");i.registerWorkItemFormControl(r.WellKnownControlNames.AcceptanceCriteriaControl,"AcceptanceCriteriaControl","ReleasePipeline/Scripts/TFS.ReleasePipeline.Controls");i.registerWorkItemFormControl(r.WellKnownControlNames.LinksControl,"LinksControl","WorkItemTracking/Scripts/Controls/Links/Control");i.registerWorkItemFormControl(r.WellKnownControlNames.AttachmentsControl,"AttachmentsControl","WorkItemTracking/Scripts/Controls/WorkItemForm/AttachmentsControl/AttachmentsControl")});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/TextWorkItemControl",["require","exports","WorkItemTracking/Scripts/TFS.WorkItemTracking","VSS/Utils/Core","VSS/Utils/UI","VSS/Controls/Combos","VSS/Controls","WorkItemTracking/Scripts/OM/WorkItemConstants","q","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.TextWorkItemControl=void 0;var c=r.delegate,l=function(){function n(t,o,l){var a=this,v,y;this._disableShowOnFocus=!1;this._showDrop=!0;this._onWorkItemChangedDelegate=c(this,this._onWorkItemChanged);this._showComboTimeout=null;this._isEmptyBorder=null;this._isReadOnly=null;this._isInvalid=null;this._workItemControl=t;this._control=e.BaseControl.createIn(f.Combo,t._container,$.extend({mode:"text",disableTextSelectOnFocus:!0,maxAutoExpandDropWidth:n.CONTROL_MAX_WIDTH,setTitleOnlyOnOverflow:!0,isFocusableWhenDisabled:!0,change:function(){return a._control.delayExecute("combo change",150,!0,function(){t&&!a._control.isDisposed()&&t.flush()}),!1},id:t._options.controlId,focus:function(){a._setEmptyBorder(!1);a._showDropPopup()},blur:function(){a._setEmptyBorder();a._cancelDropShowTimeout();a._showDrop=!1;r.delay(a,n.COMBO_SHOW_HIDE_TIMEOUT,function(){a._showDrop=!0})}},l));this._control._bind("dropDownToggled",function(){a._disableShowOnFocus=!0;r.delay(a,n.COMBO_SHOW_HIDE_TIMEOUT,function(){a._disableShowOnFocus=!1})});this._control.getInput().click(function(){a._showDropPopup()});t._options.emptyText&&u.Watermark($("input",this._control.getElement()),{watermarkText:t._options.emptyText});this._setEmptyBorder();v=this._workItemControl.getFieldDefinition(this._workItemControl._fieldName);v&&(v.type===h.FieldType.Html||v.type===h.FieldType.PlainText)||(y=Math.min(t._options.maxLength||i.WorkItem.MAX_TITLE_LENGTH,i.WorkItem.MAX_TITLE_LENGTH),$("input",this._control.getElement()).attr("maxlength",y));l&&l.ariaLabel&&$("input",this._control.getElement()).attr("aria-label",l.ariaLabel);this._options=$.extend({dropSourceGeneratorAsync:function(n){return n.hasList()?s(function(){return n.getAllowedValues().map(function(t){return n.fieldDefinition.type===h.FieldType.Integer?r.convertValueToDisplayString(parseInt(t)):n.fieldDefinition.type===h.FieldType.Double?r.convertValueToDisplayString(parseFloat(t)):t})}):s(null)}},o);o&&o.disableSpellCheck&&$("input",this._control.getElement()).attr("spellcheck","false")}return n.prototype.dispose=function(){this._control&&(this._control.dispose(),this._control=null)},n.prototype.onResize=function(){this._control.hideDropPopup()},n.prototype._setEmptyBorder=function(n){if(n===void 0&&(n=null),n==null){var t=this._workItemControl._getFieldTextValue();n=t.trim()===""}this._isEmptyBorder!==n&&(this._isEmptyBorder=n,this._control.getElement().toggleClass("emptyBorder",n))},n.prototype._setReadOnly=function(n){this._isReadOnly!==n&&(this._isReadOnly=n,this._control.getElement().toggleClass("readonly",n))},n.prototype._setMode=function(n){this._control.getMode()!==n&&this._control.setMode(n)},n.prototype._cancelDropShowTimeout=function(){this._showComboTimeout&&(clearTimeout(this._showComboTimeout),this._showComboTimeout=null)},n.prototype._showDropPopup=function(){var t=this;this._workItemControl.isReadOnly()||this._control.getMode()!=="drop"||this._control.getComboType()==="date-time"||this._control.isDropVisible()||!this._showDrop||(this._cancelDropShowTimeout(),this._showComboTimeout=setTimeout(function(){t._disableShowOnFocus||t._control.showDropPopup()},n.COMBO_SHOW_HIDE_TIMEOUT))},n.prototype._updateDropSource=function(n){var i=this,t=this._control;this._options.dropSourceGeneratorAsync&&this._options.dropSourceGeneratorAsync(n).then(function(n){t&&!t.isDisposed()&&(n?(i._setMode("drop"),t.setSource(n)):i._setMode("text"))})},n.prototype.invalidate=function(n,t){var f=this._workItemControl,r,i,u,e;t?(r=this._options.allowEmpty?!t.isValidValueOrEmpty():!t.isValid(),n?this.setInvalid(r):(i=f.isReadOnly(),!i&&this._options.dropSourceGeneratorAsync?this._updateDropSource(t):this._setMode("text"),this._setReadOnly(i),u=f._getFieldTextValue(t),e=this.getValue().trim()==="",this.setValue(u),this.setInvalid(r),this.setEnabled(!i),u.trim()===""&&(e||this._control.getInput().trigger("blur")),this._setEmptyBorder())):(this._setMode("text"),this.clear(),this.setEnabled(!1))},n.prototype.getValue=function(){return this._control.getText()},n.prototype.setValue=function(n){return this._control.setText(n)},n.prototype.clear=function(){this.getValue()!==""&&(this.setValue(""),this._control.getInput().trigger("blur"))},n.prototype.setInvalid=function(n){this._isInvalid!==n&&(this._isInvalid=n,this._control.setInvalid(n))},n.prototype.setEnabled=function(n){this._control.getEnabled()!==n&&this._control.setEnabled(n)},n.prototype.setAdditionalValues=function(){},n.prototype.onBind=function(){this._workItemControl._workItem.attachWorkItemChanged(this._onWorkItemChangedDelegate)},n.prototype.onUnbind=function(){this._workItemControl._workItem.detachWorkItemChanged(this._onWorkItemChangedDelegate)},n.prototype._onWorkItemChanged=function(n,t){if(t&&t.change===o.WorkItemChangeType.PreSave&&this._control.isDropVisible()&&this._control.hideDropPopup(),t&&t.change===o.WorkItemChangeType.FieldAllowedValuesChange){var i=this._workItemControl,r=i._fieldName,u=i.isReadOnly();!u&&t.changedFields.hasOwnProperty(r)&&this._updateDropSource(t.changedFields[r])}},n.CONTROL_MAX_WIDTH=300,n.COMBO_SHOW_HIDE_TIMEOUT=100,n}();t.TextWorkItemControl=l});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemStateControl",["require","exports","WorkItemTracking/Scripts/Controls/WorkItemForm/TextWorkItemControl","WorkItemTracking/Scripts/TFS.WorkItemTracking.Helpers"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemStateControl=void 0;var u=function(n){function t(t,i,r){var u=__construct(this,n,[t,i,r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._projectName=t._workItemType.project.name,u._workItemTypeName=t._workItemType.name,t._workItemType.stateColors&&(t._container.addClass("state-coloring-enabled"),u._stateColorCircle=$("<div><\/div>").addClass("state-circle").prependTo(t._container)),u}return __extends(t,n),t.prototype.invalidate=function(t,i){n.prototype.invalidate.call(this,t,i);i&&this._stateColorCircle&&r.WITStateCircleColors.setStateColorsOnElement(this._stateColorCircle,this.getValue(),this._workItemControl._workItemType)},t}(i.TextWorkItemControl);t.WorkItemStateControl=u});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/FieldControl",["require","exports","VSS/VSS","VSS/Utils/Core","VSS/Utils/Core","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemControl","WorkItemTracking/Scripts/Controls/WorkItemForm/TextWorkItemControl","VSS/Utils/Core","VSS/Utils/String","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Identities/Picker/Controls","WorkItemTracking/Scripts/TFS.WorkItemTracking","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/TFS.WorkItemTracking.Helpers","VSS/Events/Services","VSS/Controls","WorkItemTracking/Scripts/Utils/WitIdentityImages","WorkItemTracking/Scripts/Utils/Events","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemStateControl","TfsCommon/Scripts/WITIdentityHelpers","VSS/Controls/PopupContent","VSS/Resources/VSS.Resources.Platform","react","react-dom","OfficeFabric/Toggle","WorkItemTracking/Scripts/Utils/WorkItemIdentityHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut){var st,ft,et,ot;Object.defineProperty(t,"__esModule",{value:!0});t.FieldControl=void 0;st=y.getService();ft=function(){function n(n){this._workItemControl=n;this._control=$("<div/>").appendTo(this._workItemControl._container);this._render(!1,!0)}return n.prototype.invalidate=function(n,t){var i=t.getValue(),r=this._workItemControl.isReadOnly();this._render(i,r)},n.prototype.getValue=function(){return this._checked},n.prototype.setValue=function(n,t){this._render(n,!!t)},n.prototype.clear=function(){this._checked=!1},n.prototype._onChanged=function(n){this._workItemControl._getField().setValue(n)},n.prototype._render=function(t,i){var r,f,e,o,s={className:n.CHECKBOX_CLASSNAME,checked:t,disabled:i,onAriaLabel:(f=(r=this._workItemControl)===null||r===void 0?void 0:r._options)===null||f===void 0?void 0:f.label,offAriaLabel:(o=(e=this._workItemControl)===null||e===void 0?void 0:e._options)===null||o===void 0?void 0:o.label,onChanged:u.delegate(this,this._onChanged),onText:h.BooleanFieldTrueValue,offText:h.BooleanFieldFalseValue};it.render(tt.createElement(rt.Toggle,s),this._control[0]);this._checked=t},n.prototype.setInvalid=function(){},n.prototype.setEnabled=function(){},n.prototype.setAdditionalValues=function(){},n.prototype.onBind=function(){},n.prototype.onUnbind=function(){},n.prototype.onResize=function(){},n.CHECKBOX_CLASSNAME="toggle-control",n}();i.initClassPrototype(ft,{_workItemControl:null,_control:null});et=function(){function n(n,t,i,u){var f=this,s,l,e;this.allowEmpty=i;this._flushing=!1;this._workItemControl=n;this._nonIdentityValues=[];this._dontLayer=u;this._fullScreen=t;this._isInvalid=null;this._isEnabled=null;s=function(){return f._nonIdentityValues};n._container.addClass("identity-picker-container");(this._fullScreen||this._dontLayer)&&(l=function(){return f._workItemControl._container});e=v.WITIdentityControlHelpers.setupCommonIdentityPickerOptions(!1,!0,s,function(t){ut.createWorkItemIdentityRefFromEntity(t);n.flush(!0);f._fullScreen&&r.delay(null,450,function(){return st.fire(b.FullScreenEvents.EXIT_FULL_SCREEN)})},function(){return f._control.getDropdownPrefix()},function(){return f._workItemControl._getField()&&f._workItemControl._getField().filterByScope});$.extend(e,{ariaLabel:n._options.ariaLabel,elementId:n._options.controlId+"_txt",placeholderText:n._options.emptyText,dropdownContainer:l,consumerId:v.WITIdentityControlHelpers.IdentityPickerConsumerId,forceOpen:this._fullScreen,showMruTriangle:!this._fullScreen,showContactCard:!this._fullScreen,useRemainingSpace:this._fullScreen,smallScreenRender:this._fullScreen,pageSize:this._fullScreen?40:undefined,size:this._fullScreen?c.IdentityPickerControlSize.Large:undefined,watermark:c.EntityFactory.createStringEntity(h.AssignedToEmptyText,w.WitIdentityImages.UnassignedImageUrl)});$.extend(e.callbacks,{onInputBlur:function(){!f._fullScreen&&f._inputText.val()&&n.flush(!0);n._container.removeClass("focus")}});this._control=p.BaseControl.createIn(c.IdentityPickerSearchControl,n._container,e);this._inputText=this._control.getElement().find("input");n._container.focus(function(){f._isEnabled&&n._container.addClass("focus")});this._inputText.on("keyup",function(){f._inputText.val()||n.flush(!0)});this._fullScreen&&(this._control._bind(c.IdentityPickerSearchControl.RESOLVED_INPUT_REMOVED_EVENT,function(){o.delay(null,0,function(){var t=f.getValue();t||n.flush(!1)})}),this._control.focusOnSearchInput())}return n.prototype.dispose=function(){this._control&&(this._control.dispose(),this._control=null)},n.prototype.invalidate=function(n,t){var e=this._workItemControl,r,u,o,i,f;this._flushing=!0;t?(u=this.allowEmpty?!t.isValidValueOrEmpty():!t.isValid(),n?this.setInvalid(u):(r=e.isReadOnly(),o=e._getFieldTextValue(t),this.setValue(o),this.setInvalid(u),this.setEnabled(!r),r||(i=this._workItemControl&&this._workItemControl._getField(),f=i&&i.filterByScope&&i.filterByScope.excludeGroups?nt.IdentityPicker_PlaceholderTextUser:nt.IdentityPicker_PlaceholderTextUserGroup,$("input",this._control.getElement()).attr({placeholder:f,"aria-label":f})))):(this.clear(),this.setEnabled(!1));this._flushing=!1},n.prototype.getValue=function(){var i=this._control.getIdentitySearchResult(),n=i.resolvedEntities,t=i.unresolvedQueryTokens;return n&&n.length===1?d.WITIdentityHelpers.getUniquefiedIdentityName(n[0]):t&&t.length===1?t[0]:this._inputText.val()},n.prototype.setAdditionalValues=function(n){this._nonIdentityValues=n},n.prototype.setValue=function(n){if(n){var t=d.WITIdentityHelpers.parseUniquefiedIdentityName(n),i=d.WITIdentityHelpers.getEntityIdentifier(t);s.equals(n,this.getValue(),!0)||(this.clear(),i?this._control.setEntities([],[i]):this._control.setEntities([t],[]))}else this.clear()},n.prototype.clear=function(){var n,t;if(this._workItemControl._workItem&&this.getValue()===""&&!this._control.hasPendingRequests()){n=this._workItemControl._getField();n&&n.filterByScope&&(t=v.WITIdentityControlHelpers.getCustomTooltip(n.filterByScope),g.RichContentTooltip.add(t,this._control.getElement().find(".identity-picker-resolved")));return}this._control.clear()},n.prototype.onResize=function(){},n.prototype.setInvalid=function(n){this._isInvalid!==n&&(this._isInvalid=n,this._workItemControl._container.toggleClass("invalid",n))},n.prototype.setEnabled=function(n){this._isEnabled!==n&&(this._isEnabled=n,n?(this._control.disableReadOnlyMode(),this._workItemControl._container.removeClass("readonly"),this._workItemControl._container.find(".identity-picker-search-box").removeClass("readonly")):(this._control.enableReadOnlyMode(),this._workItemControl._container.addClass("readonly"),this._workItemControl._container.find(".identity-picker-search-box").addClass("readonly")))},n.prototype.onBind=function(){},n.prototype.onUnbind=function(){},n}();ot=function(n){function t(t,i,r,u){return n.call(this,t,i,r,u)||this}return __extends(t,n),t.prototype._init=function(){var i=this,t;n.prototype._init.call(this);t=this.getFieldDefinition(this._fieldName);this._setInvalidDelegate=function(){i._setInvalid(!0)};this._setValidDelegate=function(){i._setInvalid(!1)};this._fieldName&&this._workItemType&&t.type===a.FieldType.Boolean?(this._control=new ft(this),this._controlType="CheckboxControl"):l.isIdentityPickerSupportedForField(t)&&this._workItemType.project?(this._control=new et(this,this._options.fullScreen,this._options.allowEmpty,this._options.dontLayer),this._controlType="CommonIdentityWorkItemControl"):t.referenceName===a.CoreFieldRefNames.State?(this._control=new k.WorkItemStateControl(this,{allowEmpty:this._options.allowEmpty},{cssClass:this._options.comboCssClass,fullScreen:this._options.fullScreen,ariaLabel:h.StateField}),this._controlType="WorkItemStateControl"):(this._control=new e.TextWorkItemControl(this,{allowEmpty:this._options.allowEmpty},{ariaLabel:t.referenceName===a.CoreFieldRefNames.Reason?h.ReasonField:this._options.ariaLabel||t.name||"",cssClass:this._options.comboCssClass,fullScreen:this._options.fullScreen}),this._controlType="TextWorkItemControl")},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._control&&this._control.dispose&&this._control.dispose();this._control=null},t.prototype.invalidate=function(t){n.prototype.invalidate.call(this,t);this._control.invalidate(t,this._getField())},t.prototype.getControlType=function(){return this._controlType},t.prototype._getControlValue=function(){return this._control.getValue()},t.prototype.clear=function(){this._control.clear()},t.prototype.onControlResized=function(){this._control.onResize()},t.prototype.bind=function(t,i){var u=this,f,r,e,o;if(n.prototype.bind.call(this,t,i),t){f=this.getFieldDefinition(this._fieldName);r=t.getError();this._fieldName&&t.attachEvent("field-error:"+this._fieldName,this._setInvalidDelegate);t.attachEvent(l.WorkItem.FIELD_ERRORS_CLEARED,this._setValidDelegate);r&&r.fieldReferenceName&&s.localeIgnoreCaseComparer(this._fieldName,r.fieldReferenceName)===0?this._setInvalid(!0):this._setInvalid(!1);e=this._getField();t.isReadOnly()||!l.isIdentityPickerSupportedForField(f)||e&&e.filterByScope||(o=t.workItemType.project,t.store.beginGetAllowedValues(f.id,o.guid,t.workItemType.name,function(n){u._workItem&&t.id===u._workItem.id&&u._control.setAdditionalValues(n)}));this._control.onBind(t)}},t.prototype.unbind=function(t){this._workItem&&(this._fieldName&&this._workItem.detachEvent("field-error:"+this._fieldName,this._setInvalidDelegate),this._workItem.detachEvent(l.WorkItem.FIELD_ERRORS_CLEARED,this._setValidDelegate),this._control.onUnbind());n.prototype.unbind.call(this,t)},t.prototype.shouldClearOnUnbind=function(){return this._control instanceof et},t.prototype._setInvalid=function(n){var t=this._getField();t.isValid()&&this._control.setInvalid(n)},t}(f.WorkItemControl);t.FieldControl=ot;i.initClassPrototype(ot,{_control:null,_setInvalidDelegate:null,_setValidDelegate:null})});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/TagFieldControl",["require","exports","VSS/Controls","VSS/Utils/UI","VSS/Utils/Core","VSS/Utils/String","VSS/Error","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/FeatureRef/TFS.TagService","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemControl","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemManager","WorkItemTracking/Scripts/Utils/TagUtils","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper","WorkItemTracking/Scripts/TFS.UI.Tags","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/FeatureAvailability/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){Object.defineProperty(t,"__esModule",{value:!0});t.TagFieldControl=void 0;var d=u.delegate,g=function(n){function t(t,r,u){var f=n.call(this,t,r,u)||this;return f._$container=$(t),f._onTagControlLayoutChanged=r?r.onTagControlLayoutChanged:null,f._tagControl=i.BaseControl.createIn(y.TagControl,t,{tagLabel:r&&r.hideLabel?"":w.TagsLabelText,addButtonText:w.AddTagText,addTagTextOnChange:w.AddTagPlusText,readOnly:!0,selectable:!0,useDeleteExperience:!0,beginGetSuggestedValues:function(n){var t=o.ProjectCollection.getConnection(f.getTfsContext()).getService(s.TagService),i=f._workItem.project.guid;t.beginQueryTagNames(s.TagsKind.WorkItem,i,n,function(n){var t="TagService.QueryTagNames failed.",i;n.type&&(t+=" Error type: "+n.type);n.message&&(t+=" Error message: "+n.message);i={name:"QueryTagNamesError",message:t};e.publishErrorToTelemetry(i)})},onInputControlDisplayChanged:f._onTagControlLayoutChanged,onRemoveTagRenderComplete:f._onTagControlLayoutChanged}),f._onChangedDelegate=d(f,f._onChanged),f._onKeydownDelegate=d(f,f._onKeydown),f._onWorkItemChangedDelegate=d(f,f._onWorkItemChanged),f._onWorkItemTagsChangedDelegate=d(f,f._onWorkItemTagsChanged),f}return __extends(t,n),t.prototype.bind=function(n){this._workItem&&this.unbind();this._workItem=n;this._tagControl.setReadOnly(n.isReadOnly());this._tagControl.setItems(n.getTagNames());this._tagControl._bind("change",this._onChangedDelegate);this._$container.on("keydown",this._onKeydownDelegate);l.WorkItemManager.get(this._workItem.store).attachWorkItemChanged(this._onWorkItemChangedDelegate);this._workItem.attachFieldChange(p.DalFields.Tags,this._onWorkItemTagsChangedDelegate)},t.prototype.unbind=function(){this._tagControl.clearItems();this._tagControl._unbind("change",this._onChangedDelegate);this._$container.off("keydown",this._onKeydownDelegate);this._workItem&&(l.WorkItemManager.get(this._workItem.store).detachWorkItemChanged(this._onWorkItemChangedDelegate),this._workItem.detachFieldChange(p.DalFields.Tags,this._onWorkItemTagsChangedDelegate),this._workItem=null)},t.prototype._findTagIndex=function(n,t){for(var i=0,r=t.length;i<r;i++)if(f.ignoreCaseComparer(t[i],n)===0)return i;return-1},t.prototype._onChanged=function(n,t){if(t.type!=null){var i=this._workItem.getTagNames(),u=t.name,r=this._findTagIndex(u,i);t.type===y.TagChangeType.Add?r<0&&i.push(u):t.type===y.TagChangeType.Delete&&r>=0&&i.splice(r,1);this._ignoreTagChangeEvent=!0;this._workItem.setFieldValue(p.CoreField.Tags,a.TagUtils.formatTags(i));this._ignoreTagChangeEvent=!1;v.WIFormCIDataHelper.fieldValueChanged(this._workItem.sessionId,p.CoreFieldRefNames.Tags,p.WellKnownControlNames.TagFieldControl)}},t.prototype._onKeydown=function(n){r.KeyUtils.isExclusivelyCtrl(n)&&String.fromCharCode(n.keyCode).toLowerCase()==="s"&&(this._tagControl.flush(),this._tagControl.focusAddButton())},t.prototype._onWorkItemChanged=function(n,t){if(this._workItem&&t.workItem&&this._workItem.id===t.workItem.id&&(t.change===c.WorkItemChangeType.PreSave&&this._tagControl.flush(),t.change===c.WorkItemChangeType.Saved&&(this._tagControl.resetSuggestedValues(),k.FeatureAvailabilityService.isFeatureEnabled(b.FeatureAvailabilityFlags.InvalidateClientTagCacheOnWorkItemSave)))){var i=o.ProjectCollection.getConnection(this.getTfsContext()).getService(s.TagService);i.invalidateCacheForArtifactKinds(s.TagsKind.WorkItem,this._workItem.project.guid)}},t.prototype._onWorkItemTagsChanged=function(n){if(this._workItem===n&&!this._ignoreTagChangeEvent){this._tagControl.setItems(n.getTagNames());var t=o.ProjectCollection.getConnection(this.getTfsContext()).getService(s.TagService);t.invalidateCacheForArtifactKinds(s.TagsKind.WorkItem,this._workItem.project.guid)}},t.enhancementTypeName="tfs.wit.tagFieldControl",t}(h.WorkItemControl);t.TagFieldControl=g});

define("Presentation/Scripts/TFS/TFS.React",["require","exports","react","VSS/Events/Services"],function(n,t,i,r){var u,f,e;Object.defineProperty(t,"__esModule",{value:!0});t.TfsComponent=t.Store=t.Action=void 0;u=function(){function n(t){this._listeners=[];this._scope=t||n.DefaultScope}return n.prototype.invoke=function(t){if(n.Executing[this._scope])throw new Error("Cannot invoke an action from inside another action.");n.Executing[this._scope]=!0;try{this._listeners.forEach(function(n){n(t)})}finally{n.Executing[this._scope]=!1}},n.prototype.addListener=function(n,t){this._listeners.push(t?n.bind(t):n)},n.DefaultScope="Default",n.Executing={},n}();t.Action=u;f=function(){function n(n,t){this._changedEvent=n;this._eventManager=t&&t.eventManager?t.eventManager:r.getService()}return n.prototype.addChangedListener=function(n){this.addListener(this._changedEvent,n)},n.prototype.removeChangedListener=function(n){this.removeListener(this._changedEvent,n)},n.prototype.emitChanged=function(n){this.emit(this._changedEvent,this,n)},n.prototype.emit=function(n,t,i){this._eventManager.fire(n,t,i)},n.prototype.addListener=function(n,t){this._eventManager.attachEvent(n,t)},n.prototype.removeListener=function(n,t){this._eventManager.detachEvent(n,t)},n}();t.Store=f;e=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.render=function(){var t=this,n={ref:function(n){return t.onRender(n)}};return this.props.containerCssClass&&(n.className=this.props.containerCssClass),i.createElement("div",n)},t.prototype.onRender=function(){},t}(i.Component);t.TfsComponent=e});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Interfaces",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.FetchingDisplayData=void 0;var i;(function(n){n[n.Done=0]="Done";n[n.InProgress=1]="InProgress"})(i=t.FetchingDisplayData||(t.FetchingDisplayData={}))});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Logic/ArtifactSorting",["require","exports","VSS/Diag","VSS/Utils/String","VSS/Utils/Date","VSS/Utils/Number","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts"],function(n,t,i,r,u,f,e){var o;Object.defineProperty(t,"__esModule",{value:!0});t.ArtifactSorter=void 0;o=function(){function n(){}return n.prototype.sortArtifactsInGroups=function(n,t){for(var u,i=0,r=n;i<r.length;i++)u=r[i],this._sort(u.linkedArtifacts,t)},n.prototype._sort=function(n,t){var i=new l,r,f,u;if(t&&t.length){for(r=0,f=t;r<f.length;r++)u=f[r],u.column.refName===e.InternalKnownColumns.Link.refName?i.push(new s(u.direction)):i.push(new h(u));i.push(new c)}else i.push(new s(e.SortDirection.Ascending));n.sort(i.getComparer())},n}();t.ArtifactSorter=o;var s=function(){function n(n){this._sortDirection=n}return n.prototype.compare=function(n,t){var i=this._compare(n,t);return i*this._sortDirection},n.prototype._compare=function(n,t){var o=this._handleUndefined(n,t),f,e;if(o!==null)return o;var i=n.primaryData,u=t.primaryData,s=this._handleUndefined(n.primaryData,t.primaryData);return s!==null?s:(f=r.localeComparer(i.typeName,u.typeName),f!==0)?f:i.user&&u.user&&(e=r.localeComparer(i.user.displayName,u.user.displayName),e!==0)?e:r.localeComparer(i.title,u.title)},n.prototype._handleUndefined=function(n,t){if(n||t)if(n){if(!t)return-1}else return 1;else return 0;return null},n}(),h=function(){function n(n){this._sortColumn=n}return n.prototype.compare=function(n,t){var i=this._compare(n,t);return i*this._sortColumn.direction},n.prototype._compare=function(n,t){var f=n.additionalData&&n.additionalData[this._sortColumn.column.refName],e=t.additionalData&&t.additionalData[this._sortColumn.column.refName],r,u,o;if(f||e)if(f){if(!e)return-1}else return 1;else return 0;return(r=f.rawData||f.styledText.text||"",u=e.rawData||e.styledText.text||"",typeof r!=typeof u)?-1:(o=this._getComparerForType(r),!o)?-1:o(r,u)},n.prototype._getComparerForType=function(n){return typeof n=="number"?f.defaultComparer:typeof n=="string"?r.localeComparer:n instanceof Date?u.defaultComparer:null},n}(),c=function(){function n(){}return n.prototype.compare=function(n,t){var u;if(n||t)if(n){if(!t)return-1}else return 1;else return 0;var o=n.primaryData&&n.primaryData.title||"",s=t.primaryData&&t.primaryData.title||"",f=r.localeComparer(o,s);if(f!==0)return f;var h=this._getDisplayId(n),c=this._getDisplayId(t),e=r.defaultComparer(h,c);return e!==0?e:(u=r.defaultComparer(this._getId(n),this._getId(t)),u!==0)?u:-1},n.prototype._getDisplayId=function(n){if(!n||!n.primaryData||!n.primaryData.displayId)return n.id;var t=n.primaryData.displayId;return typeof t=="string"?t:t.text||n.id},n.prototype._getId=function(n){return n.id||""},n}(),l=function(){function n(){this._comparers=[]}return n.prototype.push=function(n){this._comparers.push(n)},n.prototype.getComparer=function(){var n=this;return function(t,i){for(var e,f,r=0,u=n._comparers;r<u.length;r++)if(e=u[r],f=e.compare(t,i),f!==0)return f;return 0}},n}()});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Logic/GroupSorting",["require","exports","VSS/Utils/String"],function(n,t,i){var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.GroupSorter=void 0;r=function(){function n(){}return n.prototype.sort=function(n,t){var i;i=n&&n.length?new f(n):new u;t.sort(i.getComparer())},n}();t.GroupSorter=r;u=function(){function n(){}return n.prototype.getComparer=function(){return function(n,t){return i.localeIgnoreCaseComparer(n.displayName,t.displayName)}},n}();f=function(){function n(n){var t=this;this._linkTypeRefNames=n;this._linkTypeRefNamesIndexMap={};n.forEach(function(n,i){return t._linkTypeRefNamesIndexMap[n]=i})}return n.prototype.getComparer=function(){var n=this;return function(t,r){var u=n._linkTypeRefNamesIndexMap[t.linkType],f=n._linkTypeRefNamesIndexMap[r.linkType],e=typeof u=="undefined",o=typeof f=="undefined";return e&&o?i.localeIgnoreCaseComparer(t.displayName,r.displayName):e?1:o?-1:u-f}},n}()});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Flux/Store",["require","exports","Presentation/Scripts/TFS/TFS.Core.Utils","Presentation/Scripts/TFS/TFS.React","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Interfaces","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Logic/ArtifactSorting","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Logic/GroupSorting"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.LinkedArtifactsStore=void 0;var s=function(n){function t(r,e,o,s,h,c,l,a,v){var y=n.call(this,"".concat(i.GUIDUtils.newGuid(),"_CHANGED"),a)||this;return y._linkedArtifactGroups=[],y._actionHub=r,y._actionHub.changeViewOptions.addListener(y._changeViewMode.bind(y)),y._actionHub.changeZeroDataOptions.addListener(y._changeZeroDataExperience.bind(y)),y._actionHub.changeFetchingLinks.addListener(y._changeFetchingLInks.bind(y)),y._actionHub.changeFetchingDisplayData.addListener(y._changeFetchingDisplayData.bind(y)),y._actionHub.changeReadOnly.addListener(y._setReadOnly.bind(y)),y._actionHub.setLinkedArtifacts.addListener(y._setLinkedArtifacts.bind(y)),y._actionHub.sortLinkedArtifacts.addListener(y._sortLinkedArtifacts.bind(y)),y._actionHub.showMessage.addListener(y._showMessage.bind(y)),y._linkTypeRefNames=e,y._sortColumns=o||t.DefaultSortColumns,y._fetchingDisplayData=u.FetchingDisplayData.Done,y._fetchingLinks=f.FetchingLinks.Done,y._displayOptions={readOnly:l?l:!1,showGroupHeaders:!s?!0:s.showGroupHeaders,viewMode:s&&s.viewMode||f.ViewMode.List,availableSpace:s&&s.availableSpace||{width:null,height:null},zeroDataOptions:{zeroDataExperienceViewMode:c?c.zeroDataExperienceViewMode:f.ZeroDataExperienceViewMode.Default,message:c&&c.message,action:c&&c.action,onRenderZeroData:c&&c.onRenderZeroData},gridViewOptions:h||{maxGridHeight:f.DefaultGridHeight,autoSizeGrid:!0},artifactPageSize:v||6},y}return __extends(t,n),t.prototype.getState=function(){return{displayOptions:{readOnly:this._displayOptions.readOnly,showGroupHeaders:this._displayOptions.showGroupHeaders,viewMode:this._displayOptions.viewMode,zeroDataOptions:{zeroDataExperienceViewMode:this._displayOptions.zeroDataOptions.zeroDataExperienceViewMode,action:this._displayOptions.zeroDataOptions.action,message:this._displayOptions.zeroDataOptions.message,onRenderZeroData:this._displayOptions.zeroDataOptions.onRenderZeroData},availableSpace:this._displayOptions.availableSpace,artifactPageSize:this._displayOptions.artifactPageSize,gridViewOptions:this._displayOptions.gridViewOptions},hostArtifact:this._hostArtifact,linkedArtifactGroups:this._linkedArtifactGroups,sortColumns:this._sortColumns,message:this._message,fetchingDisplayData:this._fetchingDisplayData,fetchingLinks:this._fetchingLinks}},t.prototype._changeViewMode=function(n){var t=!1;this._displayOptions.viewMode!==n.viewOptions.viewMode&&(this._displayOptions.viewMode=n.viewOptions.viewMode,t=!0);!n.viewOptions.availableSpace||this._displayOptions.availableSpace.height===n.viewOptions.availableSpace.height&&this._displayOptions.availableSpace.width===n.viewOptions.availableSpace.width||(this._displayOptions.availableSpace=n.viewOptions.availableSpace,t=!0);t&&this.emitChanged()},t.prototype._setReadOnly=function(n){this._displayOptions.readOnly=n.readOnly;this.emitChanged()},t.prototype._changeFetchingLInks=function(n){this._fetchingLinks=n.fetchingLinks;this.emitChanged()},t.prototype._changeFetchingDisplayData=function(n){this._fetchingDisplayData=n.fetchingDisplayData;this.emitChanged()},t.prototype._changeZeroDataExperience=function(n){this._compareZeroDataOptions(this._displayOptions.zeroDataOptions,n.zeroDataOptions)&&(this._displayOptions.zeroDataOptions=n.zeroDataOptions,this.emitChanged())},t.prototype._setLinkedArtifacts=function(n){this._linkedArtifactGroups=n.groupedLinkedArtifacts;this._hostArtifact=n.hostArtifact;this._sort();this.emitChanged()},t.prototype._sortLinkedArtifacts=function(n){this._sortColumns=n.sortColumns;this._sort();this.emitChanged()},t.prototype._sort=function(){this._sortArtifacts();this._sortGroups()},t.prototype._sortArtifacts=function(){var n=new e.ArtifactSorter;n.sortArtifactsInGroups(this._linkedArtifactGroups,this._sortColumns)},t.prototype._sortGroups=function(){var n=new o.GroupSorter;n.sort(this._linkTypeRefNames,this._linkedArtifactGroups)},t.prototype._showMessage=function(n){this._message=n.message;this.emitChanged()},t.prototype._compareZeroDataOptions=function(n,t){var i=!n.action?null:n.action.actionMessage,r=!t.action?null:t.action.actionMessage;return n.zeroDataExperienceViewMode!==t.zeroDataExperienceViewMode||n.message!==t.message||i!==r?!0:!1},t.DefaultSortColumns=[{column:f.InternalKnownColumns.Link,direction:f.SortDirection.Ascending}],t}(r.Store);t.LinkedArtifactsStore=s});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Flux/Actions",["require","exports","Presentation/Scripts/TFS/TFS.Core.Utils","Presentation/Scripts/TFS/TFS.React"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.ActionsHub=void 0;var u=function(){function n(){this._scope="LinkedArtifacts_".concat(i.GUIDUtils.newGuid());this.changeViewOptions=this._createAction();this.changeReadOnly=this._createAction();this.setLinkedArtifacts=this._createAction();this.removeLinkedArtifact=this._createAction();this.changeLinkedArtifactComment=this._createAction();this.sortLinkedArtifacts=this._createAction();this.showMessage=this._createAction();this.changeZeroDataOptions=this._createAction();this.changeFetchingLinks=this._createAction();this.changeFetchingDisplayData=this._createAction()}return n.prototype._createAction=function(){return new r.Action(this._scope)},n}();t.ActionsHub=u});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Flux/ActionsCreator",["require","exports","VSS/Utils/Array","VSS/Utils/Core","VSS/Diag","VSS/Controls/Notifications","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Interfaces","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Logic/ArtifactResolver"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.ActionsCreator=void 0;var h=function(){function n(n,t,i,r,u){this._tfsContext=n;this._actionsHub=t;this._filterHelper=r;this._columns=i;this._cache=u}return n.prototype.removeLinkedArtifact=function(n){this._actionsHub.removeLinkedArtifact.invoke({linkedArtifactToRemove:n})},n.prototype.changeLinkedArtifactComment=function(n,t){s.ArtifactResolver.invalidateArtifactCacheEntry(this._cache,n,this._columns);this._actionsHub.changeLinkedArtifactComment.invoke({linkedArtifactToChange:n,newComment:t})},n.prototype.invalidateLinkedArtifact=function(n){s.ArtifactResolver.invalidateArtifactCacheEntry(this._cache,n,this._columns)},n.prototype.changeViewOptions=function(n){this._actionsHub.changeViewOptions.invoke({viewOptions:n})},n.prototype.changeZeroDataOptions=function(n){this._actionsHub.changeZeroDataOptions.invoke({zeroDataOptions:n})},n.prototype.changeReadOnly=function(n){this._actionsHub.changeReadOnly.invoke({readOnly:n})},n.prototype.changeFetchingLinks=function(n){this._actionsHub.changeFetchingLinks.invoke({fetchingLinks:n})},n.prototype.setLinks=function(n,t){var i=this,u;if(this._retrievingLinks&&this._retrievingLinks.cancel(),this._retrievingLinks=new r.Cancelable(null),this._setStartFetchingDisplayData(),u=this._filterHelper.filter(n.slice(0)),u.length===0){this._groupAndSetArtifacts([],t);this.clearMessage();this._setEndFetchingData();return}s.ArtifactResolver.getInstance().resolveArtifacts(u,this._columns,t,this._tfsContext,function(n){return i._filterHelper.getSubtypeFilterForDataProvider(n)},this._cache).then(this._retrievingLinks.wrap(function(n){var u=n.resolvedArtifacts,r;i._groupAndSetArtifacts(u,t);n.messages&&n.messages.length>0?(r=n.messages.filter(function(n){return n.type===f.MessageAreaType.Error}),r.length>0?i.showMessage(r[0].text,r[0].type):i.showMessage(n.messages[0].text,n.messages[0].type)):i.clearMessage();i._setEndFetchingData()}))},n.prototype.sortLinkedArtifacts=function(n){var t=this,r=n.map(function(n){var r=i.first(t._columns,function(t){return t.refName===n.index});if(r)return{column:r,direction:n.order==="desc"?e.SortDirection.Descending:e.SortDirection.Ascending}}).filter(function(n){return!!n});this._actionsHub.sortLinkedArtifacts.invoke({sortColumns:r})},n.prototype.showMessage=function(n,t){t===void 0&&(t=f.MessageAreaType.Error);var i="";if(typeof n=="string")i=n;else if(typeof n=="object"&&n.message)i=n.message;else return;this._actionsHub.showMessage.invoke({message:{text:i,type:t}})},n.prototype.clearMessage=function(){this._actionsHub.showMessage.invoke({message:null})},n.prototype._groupAndSetArtifacts=function(n,t){var i=s.ArtifactResolver.groupLinkedArtifactsByLinkType(n);this._actionsHub.setLinkedArtifacts.invoke({groupedLinkedArtifacts:i,hostArtifact:t})},n.prototype._setStartFetchingDisplayData=function(){this._actionsHub.changeFetchingDisplayData.invoke({fetchingDisplayData:o.FetchingDisplayData.InProgress})},n.prototype._setEndFetchingData=function(){this._actionsHub.changeFetchingDisplayData.invoke({fetchingDisplayData:o.FetchingDisplayData.Done})},n}();t.ActionsCreator=h});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Logic/Filtering",["require","exports","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.ArtifactFilterHelper=void 0;var u=function(){function n(n,t){var i,r,u,f;if(this._linkTypeRefNames=n,t)for(this._filterConfiguration={},i=0,r=Object.keys(t);i<r.length;i++)u=r[i],f=t[u],this._filterConfiguration[u.toLowerCase()]=f}return n.prototype.filter=function(n){var t=this;return!this._linkTypeRefNames||this._linkTypeRefNames.length===0?n:n.filter(function(n){return i.contains(t._linkTypeRefNames,n.linkType,r.ignoreCaseComparer)})},n.prototype.getSubtypeFilterForDataProvider=function(n){var t=null;return n&&this._filterConfiguration&&(n=n.toLowerCase(),t=this._filterConfiguration[n]||null),t},n}();t.ArtifactFilterHelper=u});

define("VSS/Flux/AsyncLoadedComponent",["require","exports","react","VSS/VSS"],function(n,t,i,r){function f(n,t,r,f,e){return function(o){return i.createElement(u,{modules:n,moduleComponentSelector:t,componentWhileLoading:r,onLoadStart:f,onLoadEnd:e,props:o})}}Object.defineProperty(t,"__esModule",{value:!0});t.getAsyncLoadedComponent=void 0;var u=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._isMounted=!1,r.state={isLoading:!1,componentType:null},r}return __extends(t,n),t.prototype.render=function(){return this.state.componentType?i.createElement(this.state.componentType,this.props.props):this.props.componentWhileLoading&&this.state.isLoading?this.props.componentWhileLoading():null},t.prototype.componentWillMount=function(){this.props.onLoadStart&&this.props.onLoadStart()},t.prototype.componentDidMount=function(){var n=this;this._isMounted=!0;this.state.componentType||this.state.isLoading||(this.areModulesDefined()||this.setState({isLoading:!0,componentType:null}),r.using(this.props.modules,function(){for(var i,r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];n._isMounted&&(n.props.onLoadEnd&&n.props.onLoadEnd(),n.setState({isLoading:!1,componentType:(i=n.props).moduleComponentSelector.apply(i,r)}))}))},t.prototype.componentWillUnmount=function(){this.state.isLoading&&this.setState({isLoading:!1,componentType:null});this._isMounted=!1},t.prototype.areModulesDefined=function(){var n=this.props.modules,t=n===void 0?[]:n;return t.every(function(n){return requirejs.defined(n)})},t}(i.Component);t.getAsyncLoadedComponent=f});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/ComponentUtils",["require","exports","VSS/VSS","TFS/WorkItemTracking/ExtensionContracts"],function(n,t,i,r){var u,f;Object.defineProperty(t,"__esModule",{value:!0});t.ComponentUtils=t.ErrorUtils=void 0,function(n){function t(n){var u=n.primaryData&&n.primaryData.displayId||n.id,f=n.linkTypeDisplayName||n.linkType||n.type,t;return n&&n.error&&(t=i.getErrorMessage(n.error)),{displayId:u,title:t,typeIcon:{type:r.ArtifactIconType.icon,descriptor:"bowtie-status-error la-error-icon",title:t},typeName:f,href:"#",callback:function(){return!0}}}n.getErrorPrimaryData=t}(u=t.ErrorUtils||(t.ErrorUtils={})),function(n){function t(n,t){var u,i,f,r;if(!n||!n.primaryData)return"";if(u="",n.additionalData)for(i=0,f=t;i<f.length;i++)r=f[i],n.additionalData[r.refName]&&(u+="".concat(r.name,":\t").concat(n.additionalData[r.refName].styledText.text,"\n"));return u.trim()}n.getTooltip=t}(f=t.ComponentUtils||(t.ComponentUtils={}))});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/ArtifactRenderer",["require","exports","react","OfficeFabric/Utilities","VSSUI/Util","VSS/Diag","VSS/Events/Action","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","Presentation/Scripts/TFS/TFS.OM.Identities","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Controls/PopupContent","VSSUI/Tooltip","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts","TFS/WorkItemTracking/ExtensionContracts","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/ComponentUtils","VSS/Utils/UI","VSSUI/Icon","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g,nt,ot,st,tt,ut,it,rt,ft,et;Object.defineProperty(t,"__esModule",{value:!0});t.ArtifactErrorComponent=t.ArtifactComponent=t.ArtifactDeleteButton=t.AdditionalArtifact=t.PrimaryArtifact=t.ArtifactSubGroup=t.ArtifactGroup=t.ArtifactStyledText=t.ArtifactIcon=void 0,function(n){n.Component=function(n){var t=n.icon,r,u;if(t&&t.descriptor)switch(t.type){case p.ArtifactIconType.colorBar:return i.createElement(v.TooltipHost,{content:t.title},i.createElement("span",{className:"la-color-bar",style:{backgroundColor:t.descriptor}}));case p.ArtifactIconType.colorCircle:return i.createElement(v.TooltipHost,{content:t.title},i.createElement("span",{className:"la-color-circle",style:{backgroundColor:t.descriptor,borderColor:t.descriptor}}));case p.ArtifactIconType.icon:return r=t.descriptor,u=null,typeof r=="string"?u=i.createElement(k.Icon,{className:"bowtie-icon ".concat(t.descriptor)}):r&&(u=i.createElement(k.Icon,{className:"bowtie-icon ".concat(r.icon),style:{color:r.color}})),i.createElement(v.TooltipHost,{content:t.title},u);case p.ArtifactIconType.fabricIcon:var r=t.descriptor,e=b.BrowserCheckUtils.isEdge()?"browser-edge":"",u=null;return typeof r=="string"?u=i.createElement(k.Icon,{className:e,iconName:r}):r&&(u=i.createElement(k.Icon,{className:e,iconName:r.icon,style:{color:r.color}})),i.createElement(v.TooltipHost,{hostClassName:"fabric-icon-tooltip-host",content:t.title},u)}return i.createElement("span",null)};n.GridComponent=function(n){var r=n.icon,t=document.createElement("span"),i,u;if(r&&r.descriptor)switch(r.type){case p.ArtifactIconType.colorBar:t.className="la-color-bar";t.style.backgroundColor=r.descriptor;break;case p.ArtifactIconType.colorCircle:t.className="la-color-circle";t.style.backgroundColor=r.descriptor;t.style.borderColor=r.descriptor;break;case p.ArtifactIconType.icon:i=r.descriptor;typeof i=="string"?t.className="bowtie-icon ".concat(i):i&&(t.className="bowtie-icon ".concat(i.icon),t.style.color=i.color);break;case p.ArtifactIconType.fabricIcon:i=r.descriptor;u=b.BrowserCheckUtils.isEdge()?" browser-edge":"";typeof i=="string"?t.className="flex-noshrink fabric-icon ms-Icon--".concat(i).concat(u):i&&(t.className="flex-noshrink fabric-icon ms-Icon--".concat(i.icon).concat(u),t.style.color=i.color)}return t}}(g=t.ArtifactIcon||(t.ArtifactIcon={})),function(n){n.Component=function(n){var t=n.styledText,r,u;return t&&t.text?(r="la-text",u=t.className?"".concat(r," ").concat(t.className):r,i.createElement("span",{className:u,style:{backgroundColor:t.className}},t.text)):i.createElement("span",null)};n.GridComponent=function(n){var t=n.styledText,i=document.createElement("span");return i.className="la-text"+(t.className?" "+t.className:""),i.innerText=t.text,i}}(nt=t.ArtifactStyledText||(t.ArtifactStyledText={})),function(n){n.Component=function(n){var t=n.groupName;return n.count>1&&(t="".concat(t,"\u00a0(").concat(n.count,")")),i.createElement("div",{className:"la-group-title"},t)};n.GridComponent=function(n){var i=document.createElement("span"),t;return i.className="la-group-title",t=n.groupName,n.count>1&&(t="".concat(t,"\u00a0(").concat(n.count,")")),$(i).text(t),i}}(ot=t.ArtifactGroup||(t.ArtifactGroup={})),function(n){n.GridComponent=function(n){var i=document.createElement("span"),r=document.createElement("span"),t;return r.className="bowtie-icon bowtie-azure-api-management",t=document.createElement("span"),t.className="la-group-sub-title",$(t).text(n.subGroupName),i.appendChild(r),i.appendChild(t),i}}(st=t.ArtifactSubGroup||(t.ArtifactSubGroup={})),function(n){function t(n,t,i){var u=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey||i.which===s||i.button===o,r;u||(r=!0,n.callback&&n.callback(n.miscData,t,i)&&(r=!1,i.preventDefault()),r&&(e.getService().performAction(e.CommonActions.ACTION_WINDOW_OPEN,{url:n.href,target:"_blank"}),i.preventDefault()))}function r(n){return!n||!n.user?null:{id:n.user.id,displayName:n.user.displayName,uniqueName:n.user.uniqueName,_links:{avatar:{href:h(n)}}}}function h(n){var t=n&&n.user;return t&&t.imageUrl?t.imageUrl:t&&t.email?l.TfsContext.getDefault().getIdentityImageUrl(null,{email:n.user.email,defaultGravatar:"mm"}):c.IdentityHelper.getIdentityImageUrl(t,c.IdentityImageMode.ShowGenericImage,c.IdentityImageSize.Small)}function f(n){var t,i;return typeof n=="string"?t=i=n:n.text&&(t=n.text,i=n.title),{text:t,title:i}}function y(n){var i=document.createElement("div"),v,y,o,w,s,b,h,k,p,e;return i.className=u.css("la-primary-data",n.className),n.primaryData&&n.primaryData.additionalPrefixIcon&&(v=document.createElement("div"),v.className="la-primary-icon",v.appendChild(g.GridComponent({icon:n.primaryData.additionalPrefixIcon})),i.appendChild(v)),n.primaryData&&n.primaryData.typeIcon&&(y=document.createElement("div"),y.className="la-primary-icon",y.appendChild(g.GridComponent({icon:n.primaryData.typeIcon})),i.appendChild(y)),o=r(n.primaryData),o&&(w=o._links.avatar.href,w&&(s=document.createElement("img"),b=c.IdentityHelper.getUniquefiedIdentityName(o),s.src=w,s.alt=b,s.addEventListener("error",function(n){var t=n.target;t.onerror=null;t.src=l.TfsContext.getDefault().getIdentityImageUrl(null,{email:o.uniqueName,defaultGravatar:"mm"})}),h=document.createElement("div"),h.className="la-user-icon",h.appendChild(s),i.appendChild(h),a.RichContentTooltip.add(b,h))),n.primaryData.displayId&&n.primaryData.href!=="#"&&(k=f(n.primaryData.displayId),p=document.createElement("div"),p.className="la-primary-data-id",$(p).text(k.text),i.appendChild(p),i.appendChild(document.createTextNode("\u00a0"))),e=null,n.primaryData.href&&n.primaryData.href!=="#"?(e=document.createElement("a"),e.href=n.primaryData.href,e.onclick=t.bind(null,n.primaryData,n.hostArtifact),e.tabIndex=-1):e=document.createElement("span"),$(e).text(n.primaryData.title),i.appendChild(e),i}var o=1,s=2;n.openArtifact=t;n.Component=function(n){var h=function(){var t=r(n.primaryData);if(!t)return null;var u=t._links.avatar.href,f=null,e=c.IdentityHelper.getUniquefiedIdentityName(t);return u&&(f=i.createElement("img",{alt:e,src:u,onError:function(n){var i=n.target;i.onerror=null;i.src=l.TfsContext.getDefault().getIdentityImageUrl(null,{email:t.uniqueName,defaultGravatar:"mm"})}})),i.createElement(v.TooltipHost,{content:e},i.createElement("div",{className:"la-user-icon"},f))},o=null,s,u,e;return n.primaryData.displayId&&n.primaryData.href&&n.primaryData.href!=="#"&&(s=f(n.primaryData.displayId),o=i.createElement("div",{className:"la-primary-data-id"},s.text,"\u00a0")),u=null,u=n.primaryData.href&&n.primaryData.href!=="#"?i.createElement("a",{href:n.primaryData.href,onClick:t.bind(null,n.primaryData,n.hostArtifact)},n.primaryData.title):i.createElement("span",null,n.primaryData.title),e=n.primaryData&&n.primaryData.additionalPrefixIcon,i.createElement("div",{className:"la-primary-data"},e&&i.createElement("div",{className:"la-primary-icon"},i.createElement(g.Component,{icon:e})),n.primaryData.typeIcon&&i.createElement("div",{className:"la-primary-icon"},i.createElement(g.Component,{icon:n.primaryData.typeIcon})),h(),o,i.createElement(v.TooltipHost,{content:n.primaryData.title,overflowMode:v.TooltipOverflowMode.Parent},u))};n.GridComponent=y}(tt=t.PrimaryArtifact||(t.PrimaryArtifact={})),function(n){n.Component=function(n){var u,t,f,r;return(n.data.icon&&(u=i.createElement(g.Component,{icon:n.data.icon})),t=null,n.data.styledText&&(t=i.createElement(nt.Component,{styledText:n.data.styledText})),f=h.equals(n.data.title,n.data.styledText.text)?v.TooltipOverflowMode.Parent:undefined,r=i.createElement("div",{className:"la-additional-data-item"},u,t),n.data.title)?i.createElement(v.TooltipHost,{content:n.data.title,overflowMode:f},r):r};n.GridComponent=function(n){var t=document.createElement("div"),i,r;return t.className="la-additional-data-item",i=g.GridComponent({icon:n.data.icon}),t.appendChild(i),r=nt.GridComponent({styledText:n.data.styledText}),t.appendChild(r),n.data.title&&n.data.title!==n.data.styledText.text&&a.RichContentTooltip.add(n.data.title,t),t}}(ut=t.AdditionalArtifact||(t.AdditionalArtifact={})),function(n){n.Component=function(n){return i.createElement("button",{className:"la-item-delete",onClick:n.onDelete,"aria-label":d.LinkedArtifacts_RemoveLink},i.createElement(v.TooltipHost,{content:d.LinkedArtifacts_RemoveLink},i.createElement("span",{className:"bowtie-icon bowtie-edit-delete"})))}}(it=t.ArtifactDeleteButton||(t.ArtifactDeleteButton={}));rt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onDelete=function(n){i.props.actionsCreator.removeLinkedArtifact(i.props.linkedArtifact);n.preventDefault()},i._onBlur=function(){i._scheduledFocusChange=s.delay(i,0,function(){i._itemElement&&i.setState({hasFocus:!1})})},i._onKeyDown=function(n){switch(n.keyCode){case b.KeyCode.DELETE:i.props.actionsCreator.removeLinkedArtifact(i.props.linkedArtifact);n.preventDefault()}},i.state={hasFocus:!1},i}return __extends(t,n),t.prototype.focus=function(){this._itemElement.focus()},t.prototype.render=function(){var n=this,u=[y.InternalKnownColumns.LastUpdate.refName,y.InternalKnownColumns.State.refName],t=u.map(function(t){if(n.props.linkedArtifact.additionalData&&n.props.linkedArtifact.additionalData[t]&&n.props.columns.some(function(n){return n.refName===t}))return n._renderAdditional(t,n.props.linkedArtifact.additionalData[t])}).filter(function(n){return!!n}),f,e,r,s;return t=this._intersperse(t),this.props.displayOptions.readOnly||this.props.linkedArtifact.isLocked||(f=i.createElement(it.Component,{onDelete:this._onDelete})),this.props.linkedArtifact.action&&!this.props.displayOptions.readOnly&&(e=i.createElement(et,{linkedArtifact:this.props.linkedArtifact,hostArtifact:this.props.hostArtifact})),r="la-item",this.state.hasFocus&&(r+=" la-item-focus"),s=this.props.columns.filter(function(n){return!o.contains(u,n.refName,h.ignoreCaseComparer)}),i.createElement("div",{className:r,onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,ref:this._resolveItemRef},i.createElement("div",{className:"la-item-wrapper"},i.createElement("div",{className:"la-artifact-data"},i.createElement(tt.Component,{primaryData:this.props.linkedArtifact.primaryData,hostArtifact:this.props.hostArtifact}),i.createElement("div",{className:"la-additional-data"},t),e)),f)},t.prototype.componentWillUnmount=function(){var n=this;this.state.hasFocus&&(this._previousElement=r.getPreviousElement(document.body,this._itemElement),this._previousElement&&s.delay(this,0,function(){var t=r.getNextElement(document.body,n._previousElement);t&&t.focus()}))},t.prototype._renderAdditional=function(n,t){return i.createElement(ut.Component,{key:n,data:t})},t.prototype._onFocus=function(){this.setState({hasFocus:!0});this._scheduledFocusChange&&(this._scheduledFocusChange.cancel(),this._scheduledFocusChange=null)},t.prototype._resolveItemRef=function(n){this._itemElement=n},t.prototype._intersperse=function(n){if(n.length===0)return[];var t=0;return n.slice(1).reduce(function(n,r){return n.concat([i.createElement("span",{key:t++},", \u00a0 "),r])},[n[0]])},__decorate([r.autobind],t.prototype,"_onFocus",null),__decorate([r.autobind],t.prototype,"_resolveItemRef",null),t}(i.Component);t.ArtifactComponent=rt;ft=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props.linkedArtifact,e=n.linkTypeDisplayName||n.linkType||n.type,t=w.ErrorUtils.getErrorPrimaryData(n),f=i.createElement(tt.Component,{primaryData:t,hostArtifact:this.props.hostArtifact}),r=null,u;return t.href&&t.href!=="#"&&(r=[this._renderAdditional("System.Links.ErrorColumn",{styledText:{text:h.localeFormat(d.LinkedArtifacts_ItemError)},title:h.localeFormat(d.LinkedArtifacts_ItemError)})]),this.props.displayOptions.readOnly||(u=i.createElement(it.Component,{onDelete:this._onDelete.bind(this)})),i.createElement("div",{className:"la-item"},i.createElement("div",{className:"la-item-wrapper"},i.createElement("div",{className:"la-artifact-data"},f,i.createElement("div",{className:"la-additional-data"},r))),u)},t}(rt);t.ArtifactErrorComponent=ft;et=function(n){var r=function(){n.linkedArtifact.action.callback&&n.linkedArtifact.action.callback(n.linkedArtifact.miscData,n.hostArtifact)},t=n.linkedArtifact.action;return i.createElement("div",{className:"la-action"},i.createElement(v.TooltipHost,{content:t.title,overflowMode:v.TooltipOverflowMode.Parent},i.createElement("a",{href:t.href,onClick:r},t.styledText.text)))}});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/LinksListComponent",["require","exports","react","OfficeFabric/Utilities","VSS/Utils/UI","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/ArtifactRenderer","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","VSS/Utils/String"],function(n,t,i,r,u,f,e,o){var s,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.LinksListComponent=void 0;s=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.state={numberOfVisibleArtifacts:r.props.displayOptions.artifactPageSize},r}return __extends(t,n),t.prototype.render=function(){for(var v,u,w,b,n,h,l=t._getGroupRenderOptions(this.state.numberOfVisibleArtifacts,this.props.linkedArtifactGroups),k=this._renderGroups(l),y=null,r=[],f=0,s=0,a=0,p=Object.keys(l);a<p.length;a++)v=p[a],u=l[v],f+=u.visibleCount,s+=u.totalArtifacts,s>f&&(w=u.totalArtifacts-u.visibleCount,r.push("".concat(v," (").concat(w,")")));if(s>f){if(b=o.format(e.RelatedArtifacts_RemainingCount,f,s),n="",r&&r.length>0){for(n=r[0],h=1;h<r.length;h++)n=o.format(e.RelatedArtifacts_SummaryDelimiter,n,r[h]);n=o.format(e.RelatedArtifacts_SummaryNotShown,n)}y=i.createElement(c,{itemsNotShownDescription:n,itemsShownDescription:b,showMore:this._showMore.bind(this)})}return i.createElement("div",{className:"la-list"},k,y)},t._getGroupRenderOptions=function(n,t){var i={},r=!n;return t.forEach(function(t){var u=t.linkedArtifacts.length;r||(u>n&&(u=n),n=n-u);i[t.displayName]={totalArtifacts:t.linkedArtifacts.length,visibleCount:u,group:t}}),i},t.prototype._renderGroups=function(n){var t=this;return this.props.linkedArtifactGroups.map(function(r){var u=n[r.displayName].visibleCount;return u===0?null:i.createElement(h,{key:r.displayName,hostArtifact:t.props.hostArtifact,actionsCreator:t.props.actionsCreator,displayOptions:t.props.displayOptions,displayName:r.displayName,linkedArtifacts:r.linkedArtifacts,columns:t.props.columns,visibleCount:u})}).filter(function(n){return!!n})},t.prototype._showMore=function(){var n=this;this.setState(function(t){return{numberOfVisibleArtifacts:t.numberOfVisibleArtifacts+n.props.displayOptions.artifactPageSize}})},t}(i.Component);t.LinksListComponent=s;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n,t,r;return this.props.displayOptions.showGroupHeaders&&this.props.visibleCount>0&&(n=i.createElement(f.ArtifactGroup.Component,{groupName:this.props.displayName,count:this.props.linkedArtifacts.length})),t=this._renderLinks(),r=this.props.displayOptions.showGroupHeaders?"la-list-group-showheader":"la-list-group-noheader",i.createElement("div",{className:r},n,t)},t.prototype._renderLinks=function(){var n=this;return this.props.linkedArtifacts.slice(0,this.props.visibleCount).map(function(t){return t.error?i.createElement(f.ArtifactErrorComponent,{key:"".concat(t.id,"-").concat(t.linkType),hostArtifact:n.props.hostArtifact,actionsCreator:n.props.actionsCreator,displayOptions:n.props.displayOptions,columns:n.props.columns,linkedArtifact:t}):i.createElement(f.ArtifactComponent,{key:"".concat(t.id,"-").concat(t.linkType),hostArtifact:n.props.hostArtifact,actionsCreator:n.props.actionsCreator,displayOptions:n.props.displayOptions,columns:n.props.columns,linkedArtifact:t})})},t}(i.Component);c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this;return i.createElement("div",null,i.createElement("div",null,i.createElement("div",{className:"la-show-more-container"},i.createElement("div",{role:"button",tabIndex:0,className:"la-show-more",onClick:function(){return n._callShowMore()},onKeyUp:this._onShowMoreKeyUp},e.RelatedArtifacts_ShowMore),i.createElement("div",{className:"la-shown-count"},this.props.itemsShownDescription))),i.createElement("div",{className:"la-not-shown-count"},this.props.itemsNotShownDescription))},t.prototype._onShowMoreKeyUp=function(n){(n.keyCode===u.KeyCode.ENTER||n.keyCode===u.KeyCode.SPACE)&&this._callShowMore()},t.prototype._callShowMore=function(){this.props.showMore()},__decorate([r.autobind],t.prototype,"_onShowMoreKeyUp",null),t}(i.Component)});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/LoadingIndicatorComponent",["require","exports","react","OfficeFabric/Spinner","OfficeFabric/Utilities","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.LoadingIndicatorComponent=void 0;var e=750,o=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._showSpinner=function(){i.setState({showLoadingIndicator:!0})},i._async=new u.Async,i.state={showLoadingIndicator:!1},i}return __extends(t,n),t.prototype.render=function(){return this.state.showLoadingIndicator?i.createElement(r.Spinner,{label:f.LinkedArtifacts_Loading}):null},t.prototype.componentDidMount=function(){this._timeoutId=this._async.setTimeout(this._showSpinner,e)},t.prototype.componentWillUnmount=function(){this._timeoutId&&(this._async.clearTimeout(this._timeoutId),this._timeoutId=null)},t}(i.Component);t.LoadingIndicatorComponent=o});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/ZeroDataComponent",["require","exports","react"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ZeroDataComponent=void 0;var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var t=this.props.message,n;return this.props.action&&(n=i.createElement("div",{className:"la-zero-data-action"},i.createElement("button",{className:"la-action-button",onClick:this._onClickAction.bind(this)},this.props.action.actionMessage))),i.createElement("div",{className:"la-zero-data-container"},i.createElement("div",{className:"la-zero-data"},t),n)},t.prototype._onClickAction=function(n){return this.props.action&&this.props.action.actionCallback?this.props.action.actionCallback()?!0:(n.preventDefault(),!1):!0},t}(i.Component);t.ZeroDataComponent=r});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/MessageComponent",["require","exports","react","VSS/Diag","VSS/Controls/Notifications"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.MessageComponent=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){if(!this.props.message||!this.props.message.text)return null;return(typeof this.props.message.text=="string")?i.createElement("div",{className:"la-message"},i.createElement("span",{className:"la-message-icon icon bowtie-icon "+this._getIconClass()}),i.createElement("div",{className:"la-message-text"},this.props.message.text)):null},t.prototype._getIconClass=function(){switch(this.props.message.type){case u.MessageAreaType.Error:return"bowtie-status-error";case u.MessageAreaType.Warning:return"bowtie-status-warning";case u.MessageAreaType.Info:default:return"bowtie-status-info"}},t}(i.Component);t.MessageComponent=f});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/MainComponent",["require","exports","react","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Interfaces","VSS/Flux/AsyncLoadedComponent","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/LinksListComponent","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/LoadingIndicatorComponent","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/ZeroDataComponent","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/MessageComponent"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.MainComponent=void 0;var l=function(){return i.createElement("div",null,r.Loading)},a=e.getAsyncLoadedComponent(["Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/LinksGridComponent"],function(n){return n.LinksGridComponent},function(){return i.createElement(l,null)}),v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._onDeleteLink=function(){r._element&&r._element.focus()},r.state=r.props.store.getState(),r}return __extends(t,n),t.prototype.componentDidMount=function(){this._storeListenerDelegate=this._onStoreChanged.bind(this);this.props.store.addChangedListener(this._storeListenerDelegate);this.props.onRender()},t.prototype.componentWillUnmount=function(){this.props.store.removeChangedListener(this._storeListenerDelegate);this._storeListenerDelegate=null},t.prototype.componentDidUpdate=function(){this.props.onRender()},t.prototype.render=function(){var p=this,n=null,r=null,e;if(this.state.linkedArtifactGroups.length===0&&this.state.fetchingDisplayData===f.FetchingDisplayData.Done&&this.state.fetchingLinks===u.FetchingLinks.Done){if(e=this.state.displayOptions.zeroDataOptions.zeroDataExperienceViewMode,e!==u.ZeroDataExperienceViewMode.Hidden){var t=this.state.displayOptions.zeroDataOptions,l=t.message,v=t.action,y=t.onRenderZeroData;n=y?y(l,v):i.createElement(h.ZeroDataComponent,{action:v,message:l})}}else n=this.state.displayOptions.viewMode===u.ViewMode.List?i.createElement(o.LinksListComponent,{actionsCreator:this.props.actionsCreator,linkedArtifactGroups:this.state.linkedArtifactGroups,columns:this.props.columns,displayOptions:this.state.displayOptions,hostArtifact:this.state.hostArtifact}):i.createElement(a,{actionsCreator:this.props.actionsCreator,linkedArtifactGroups:this.state.linkedArtifactGroups,columns:this.props.columns,sortColumns:this.state.sortColumns,displayOptions:this.state.displayOptions,onDeleteLink:this._onDeleteLink,hostArtifact:this.state.hostArtifact});return(this.state.fetchingDisplayData===f.FetchingDisplayData.InProgress||this.state.fetchingLinks===u.FetchingLinks.InProgress)&&(r=i.createElement(s.LoadingIndicatorComponent,null)),i.createElement("div",{className:"la-main-component",tabIndex:-1,ref:function(n){p._element=n}},i.createElement(c.MessageComponent,{message:this.state.message}),r,n)},t.prototype._onStoreChanged=function(){this.setState(this.props.store.getState())},t}(i.Component);t.MainComponent=v});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Control",["require","exports","react","VSS/Diag","VSS/Utils/Core","VSS/Utils/Array","VSS/Utils/String","VSS/Telemetry/Services","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Flux/Store","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Flux/Actions","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Flux/ActionsCreator","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Logic/Filtering","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Components/MainComponent","VSS/LoaderPlugins/Css!Controls/LinkedArtifacts/LinkedArtifacts"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});t.LinkedArtifactsControl=void 0;var y=function(n){function t(t){var i=__construct(this,n,[t]),f,u,e;for(f in i)i.hasOwnProperty(f)&&(this[f]=i[f]);return u=new c.ActionsHub,e=new a.ArtifactFilterHelper(i.props.linkTypeRefNames,i.props.artifactSubTypeFilters),i._store=new h.LinkedArtifactsStore(u,i.props.linkTypeRefNames,i.props.sortColumns,i.props.viewOptions,i.props.gridViewOptions,i.props.zeroDataOptions,i.props.readOnly,null,i.props.artifactPageSize),i._actionsCreator=new l.ActionsCreator(i.props.tfsContext,u,i._getColumns(),e,i.props.cache),u.removeLinkedArtifact.addListener(i._onRemoveArtifact.bind(i)),u.changeLinkedArtifactComment.addListener(i._onChangedLinkComment.bind(i)),i.props.linkedArtifacts&&i.setLinkedArtifacts(i.props.linkedArtifacts,i.props.hostArtifact),i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){n&&n.linkedArtifacts&&this.setLinkedArtifacts(n.linkedArtifacts,n.hostArtifact)},t.prototype.setLinkedArtifacts=function(n,t){this._actionsCreator.setLinks(n,t)},t.prototype.invalidateLinkedArtifact=function(n){this._actionsCreator.invalidateLinkedArtifact(n)},t.prototype.setViewOptions=function(n){this._actionsCreator.changeViewOptions(n)},t.prototype.setReadOnly=function(n){this._actionsCreator.changeReadOnly(n)},t.prototype.setZeroDataOptions=function(n){this._actionsCreator.changeZeroDataOptions(n)},t.prototype.setFetchingLinks=function(n){this._actionsCreator.changeFetchingLinks(n.fetchingLinks)},t.prototype.setMessage=function(n,t){this.setMessage(n,t)},t.prototype.clearMessage=function(){this._actionsCreator.clearMessage()},t.prototype.render=function(){return i.createElement(v.MainComponent,{store:this._store,actionsCreator:this._actionsCreator,columns:this._getColumns(),onRender:this._onRender.bind(this),ref:"element"})},t.prototype._onRemoveArtifact=function(n){var t=this;this._store.getState().displayOptions.readOnly||this.props.onRemoveLinkedArtifact&&u.delay(null,0,function(){t.props.onRemoveLinkedArtifact(n.linkedArtifactToRemove)})},t.prototype._onChangedLinkComment=function(n){var t=this;this._store.getState().displayOptions.readOnly||(this.props.onChangeLinkedArtifactComment&&u.delay(null,0,function(){t.props.onChangeLinkedArtifactComment(n.linkedArtifactToChange,n.newComment)}),o.publishEvent(new o.TelemetryEventData(s.LINKED_ARTIFACTS_CUSTOMER_INTELLIGENCE_AREA,"editLinkComment",{linkType:n.linkedArtifactToChange.linkTypeDisplayName,commentLength:n.newComment.length})))},t.prototype._getColumns=function(){var n=this.props&&this.props.columns||t.DEFAULT_COLUMNS,i=f.findIndex(n,function(n){return e.equals(n.refName,s.InternalKnownColumns.Link.refName,!0)});return i>0?(n.splice(i,1),n.unshift(s.InternalKnownColumns.Link)):i===-1&&n.unshift(s.InternalKnownColumns.Link),n},t.prototype._onRender=function(){this.props.onRender&&this.props.onRender()},t.DEFAULT_COLUMNS=[s.InternalKnownColumns.State,s.InternalKnownColumns.LastUpdate,s.InternalKnownColumns.Comment],t}(i.Component);t.LinkedArtifactsControl=y});

define("WorkItemTracking/Scripts/Controls/Links/ArtifactCache",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.SimpleWorkItemArtifactCache=void 0;var i=function(){function n(){}return n.prototype.setWorkItem=function(n){this._workItem=n},n.prototype.clear=function(){this._setMapToWorkItem(null)},n.prototype.set=function(n,t){var i=this._getMapFromWorkItem();i||(i={},this._setMapToWorkItem(i));i[n]=t},n.prototype.get=function(n){var t=this._getMapFromWorkItem();return t&&t[n]},n.prototype.invalidate=function(n){var t=this._getMapFromWorkItem();t&&delete t[n]},n.prototype._getMapFromWorkItem=function(){return this._workItem&&this._workItem.relatedData[n.WORKITEM_RELATED_KEY]},n.prototype._setMapToWorkItem=function(t){this._workItem&&(this._workItem.relatedData[n.WORKITEM_RELATED_KEY]=t)},n.WORKITEM_RELATED_KEY="linked-artifacts",n}();t.SimpleWorkItemArtifactCache=i});

define("WorkItemTracking/Scripts/Controls/LinksVisualization/Interfaces",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.LinkDirection=t.TopologyType=void 0,function(n){n[n.Network=0]="Network";n[n.DirectedNetwork=4]="DirectedNetwork";n[n.Dependency=12]="Dependency";n[n.Tree=28]="Tree"}(i=t.TopologyType||(t.TopologyType={})),function(n){n[n.Forward=0]="Forward";n[n.Reverse=1]="Reverse";n[n.NonDirectional=2]="NonDirectional"}(r=t.LinkDirection||(t.LinkDirection={}))});

define("WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Utils",["require","exports","VSS/Utils/String","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Controls/LinksVisualization/Interfaces","WorkItemTracking/Scripts/RegisteredLinkTypeNames","VSS/Artifacts/Constants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/Scripts/OM/WorkItemConstants"],function(n,t,i,r,u,f,e,o,s,h,c){function v(n,t){var i,r;switch(n){case f.RegisteredLinkTypeNames.Related:i=o.LinksControlRelatedText;break;case f.RegisteredLinkTypeNames.Hyperlink:i=o.LinksControlHyperlinkText;break;case f.RegisteredLinkTypeNames.Changeset:i=o.LinksControlChangesetText;break;case f.RegisteredLinkTypeNames.VersionedItem:i=o.LinksControlVersionedItemText;break;case f.RegisteredLinkTypeNames.Commit:i=o.LinksControlCommitText;break;case f.RegisteredLinkTypeNames.Branch:i=o.LinksControlBranchText;break;case f.RegisteredLinkTypeNames.Tag:i=o.LinksControlTagsText;break;case f.RegisteredLinkTypeNames.PullRequest:i=o.LinksControlPullRequestText;break;case f.RegisteredLinkTypeNames.ResultAttachment:i=o.LinksControlResultAttachmentText;break;case f.RegisteredLinkTypeNames.TestResult:i=o.LinksControlTestResultText;break;case f.RegisteredLinkTypeNames.Test:i=o.LinksControlTestText;break;case f.RegisteredLinkTypeNames.Storyboard:i=o.LinksControlStoryboardText;break;case f.RegisteredLinkTypeNames.Build:i=o.LinksControlBuildText;break;case f.RegisteredLinkTypeNames.FoundInBuild:i=o.LinksControlFoundInBuildText;break;case f.RegisteredLinkTypeNames.IntegratedInBuild:i=o.LinksControlIntegratedInBuildText;break;case f.RegisteredLinkTypeNames.WikiPage:i=o.LinksControlWikiPageText;break;case f.RegisteredLinkTypeNames.GitHubPullRequestLinkType:i=o.LinksControlGitHubPullRequestText;break;case f.RegisteredLinkTypeNames.GitHubCommitLinkType:i=o.LinksControlGitHubCommitText;break;case f.RegisteredLinkTypeNames.GitHubIssueLinkType:i=o.LinksControlGitHubIssueText;break;default:r=g(n,t);i=r&&r.linkTypeName?r.linkTypeName:o.LinksControlUnknownLinkTypeText}return i}function y(n){if(n instanceof r.WorkItemLink){var t=n;return t.getLinkTypeEnd().immutableName}return n.getArtifactLinkType()}function p(n){if(n instanceof r.WorkItemLink){var t=n;return t.getLinkTypeEnd().name}return v(n.getArtifactLinkType(),n.workItem.store)}function w(n,t,i){if(n&&i){var r=(n.immutableName===c.LinkTypeName.Child_Link_Name||n.immutableName===c.LinkTypeName.Parent_Link_Name)&&t===i.workItemType.name;return s.publishEvent(new s.TelemetryEventData(h.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,h.WITCustomerIntelligenceFeature.LINKSCONTROL_SAMECATEGORY_WARNING,{Action:"Link work item",isSameType:r})),r}return!1}function b(n){switch(n){case e.ToolNames.VersionControl:case e.ToolNames.Git:return o.LinkToolTypeCode;case e.ToolNames.TestManagement:return o.LinkToolTypeTest;case e.ToolNames.Requirements:return o.LinkToolTypeRequirements;case e.ToolNames.TeamBuild:return o.LinkToolTypeBuild;case e.ToolNames.Wiki:return o.LinkToolTypeWiki;case e.ToolNames.GitHub:return o.LinkToolTypeGitHub;default:return o.LinkToolTypeWork}}function k(n,i){if(n){var r=l(n),u=a(i,r);return{topology:r,linkDirection:u}}return t.DefaultTopologyOptions}function l(n){var t=null,r=null;if(r=typeof n=="string"?n:u.TopologyType[n],i.equals(r,u.TopologyType[u.TopologyType.Dependency],!0))t=u.TopologyType.Dependency;else if(i.equals(r,u.TopologyType[u.TopologyType.Network],!0))t=u.TopologyType.Network;else if(i.equals(r,u.TopologyType[u.TopologyType.Tree],!0))t=u.TopologyType.Tree;else if(i.equals(r,u.TopologyType[u.TopologyType.DirectedNetwork],!0))t=u.TopologyType.DirectedNetwork;else throw new Error(i.format("Topology name '{0}' is not supported.",n));return t}function a(n,t){var i=u.LinkDirection.NonDirectional;return t!==u.TopologyType.Network&&(i=n?u.LinkDirection.Forward:u.LinkDirection.Reverse),i}function d(n,t){var i=null,u=null,r;return n&&(r=t.store.findLinkTypeEnd(n),i=l(r.linkType.topology),u=a(r.isForwardLink,i)),{topology:i,linkDirection:u}}function g(n,t){var r=t.getContributedLinkTypes()||{},u=Object.keys(r).filter(function(t){return i.equals(t,n)});return u.length>0?r[u[0]]:null}Object.defineProperty(t,"__esModule",{value:!0});t.getTopologyOptions=t.getLinkDirection=t.getTopology=t.getLinkTopologyOptions=t.getFriendlyToolName=t.isSameType=t.getLinkTypeName=t.getLinkTypeRefName=t.getRegisteredLinkName=t.DefaultTopologyOptions=t.ACTIONS_LINK_TO_NEW=t.ACTIONS_LINK_TO_EXISTING=void 0;t.ACTIONS_LINK_TO_EXISTING="link-to-existing";t.ACTIONS_LINK_TO_NEW="link-to-new";t.DefaultTopologyOptions={topology:u.TopologyType.Tree,linkDirection:u.LinkDirection.Forward};t.getRegisteredLinkName=v;t.getLinkTypeRefName=y;t.getLinkTypeName=p;t.isSameType=w;t.getFriendlyToolName=b;t.getLinkTopologyOptions=k;t.getTopology=l;t.getLinkDirection=a;t.getTopologyOptions=d});

define("TFS/WorkItemTracking/DataProviderContracts",["require","exports"],function(n,t){"use strict";var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.ResultSet=t.OperationType=t.ExternalArtifactType=t.ConnectionErrorType=void 0,function(n){n[n.BadCredentials=0]="BadCredentials";n[n.AppUninstalled=1]="AppUninstalled";n[n.OAuthConfigurationDeleted=2]="OAuthConfigurationDeleted";n[n.UnreachableRepositories=3]="UnreachableRepositories";n[n.NoRepositories=4]="NoRepositories";n[n.RepositoriesMappedToDifferentOrganization=5]="RepositoriesMappedToDifferentOrganization"}(i=t.ConnectionErrorType||(t.ConnectionErrorType={})),function(n){n[n.Unknown=0]="Unknown";n[n.PullRequest=1]="PullRequest";n[n.Commit=2]="Commit";n[n.Issue=3]="Issue"}(r=t.ExternalArtifactType||(t.ExternalArtifactType={})),function(n){n[n.Create=0]="Create";n[n.Update=1]="Update";n[n.Delete=2]="Delete"}(u=t.OperationType||(t.OperationType={})),function(n){n[n.All=0]="All";n[n.Top=1]="Top"}(f=t.ResultSet||(t.ResultSet={}));t.TypeInfo={ConnectionErrorType:{enumValues:{badCredentials:0,appUninstalled:1,oAuthConfigurationDeleted:2,unreachableRepositories:3,noRepositories:4,repositoriesMappedToDifferentOrganization:5}},ExternalArtifactType:{enumValues:{unknown:0,pullRequest:1,commit:2,issue:3}},ExternalConnection:{},ExternalConnectionData:{},ExternalConnectionOperation:{},ExternalConnectionProvisionResult:{},ExternalLinkedArtifact:{},ExternalLinkedArtifactIdentifier:{},GitHubLinkItemsRequest:{},GitHubLinkItemsResponse:{},GitHubLinksAnnotationItemSourceDataProviderResponse:{},GitHubRepositoryListDataProviderRequest:{},GitHubRepositoryResponse:{},GitHubUnifiedInstallationResponse:{},OperationType:{enumValues:{create:0,update:1,"delete":2}},RepositoryListData:{},ResultSet:{enumValues:{all:0,top:1}},ResultSetItem:{},SaveExternalConnectionRequest:{},WorkItemsRecencyDataProviderData:{}};t.TypeInfo.ExternalConnection.fields={connectionErrorType:{enumType:t.TypeInfo.ConnectionErrorType}};t.TypeInfo.ExternalConnectionData.fields={externalConnections:{isArray:!0,typeInfo:t.TypeInfo.ExternalConnection}};t.TypeInfo.ExternalConnectionOperation.fields={operation:{enumType:t.TypeInfo.OperationType}};t.TypeInfo.ExternalConnectionProvisionResult.fields={provisionedConnection:{typeInfo:t.TypeInfo.ExternalConnection}};t.TypeInfo.ExternalLinkedArtifact.fields={date:{isDate:!0},itemType:{enumType:t.TypeInfo.ExternalArtifactType}};t.TypeInfo.ExternalLinkedArtifactIdentifier.fields={itemType:{enumType:t.TypeInfo.ExternalArtifactType}};t.TypeInfo.GitHubLinkItemsRequest.fields={identifiers:{isArray:!0,typeInfo:t.TypeInfo.ExternalLinkedArtifactIdentifier}};t.TypeInfo.GitHubLinkItemsResponse.fields={resolvedLinkItems:{isArray:!0,typeInfo:t.TypeInfo.ExternalLinkedArtifact}};t.TypeInfo.GitHubLinksAnnotationItemSourceDataProviderResponse.fields={links:{isDictionary:!0,dictionaryValueFieldInfo:{isArray:!0,typeInfo:t.TypeInfo.ExternalLinkedArtifactIdentifier}}};t.TypeInfo.GitHubRepositoryListDataProviderRequest.fields={resultSet:{enumType:t.TypeInfo.ResultSet}};t.TypeInfo.GitHubRepositoryResponse.fields={externalConnectionProvisionResult:{typeInfo:t.TypeInfo.ExternalConnectionProvisionResult},repositoryData:{typeInfo:t.TypeInfo.RepositoryListData}};t.TypeInfo.GitHubUnifiedInstallationResponse.fields={externalConnectionProvisionResult:{typeInfo:t.TypeInfo.ExternalConnectionProvisionResult}};t.TypeInfo.RepositoryListData.fields={currentResults:{typeInfo:t.TypeInfo.ResultSetItem},resultSets:{isArray:!0,typeInfo:t.TypeInfo.ResultSetItem}};t.TypeInfo.ResultSetItem.fields={key:{enumType:t.TypeInfo.ResultSet}};t.TypeInfo.SaveExternalConnectionRequest.fields={externalConnection:{typeInfo:t.TypeInfo.ExternalConnectionOperation}};t.TypeInfo.WorkItemsRecencyDataProviderData.fields={workItemLinksChangedDate:{isDate:!0},workItemsChangedDate:{isDate:!0}}});

define("WorkItemTracking/Scripts/Utils/GitHubArtifactLink",["require","exports","VSS/Artifacts/Constants","VSS/Artifacts/Services","WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Utils","VSS/Error","TFS/WorkItemTracking/DataProviderContracts","VSS/Diag","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u,f,e,o,s){function h(n,t,i){return r.LinkingUtilities.encodeUri({tool:n,type:t,id:[i.repoInternalId,i.numberOrSHA].join(r.LinkingUtilities.URI_SEPARATOR)})}function c(n){try{var t=r.LinkingUtilities.decodeUri(n.linkData.FilePath),i=n.linkData.externalLinkContext||a(t);return{comment:n.getComment(),id:t.id,tool:t.tool,type:t.type,uri:t.uri,linkType:n.getArtifactLinkType(),linkTypeDisplayName:u.getRegisteredLinkName(n.getArtifactLinkType(),n.workItem.store),externalLinkedArtifactContext:i}}catch(e){return f.publishErrorToTelemetry(new Error("Invalid artifact link: ".concat(n.linkData.FilePath," "))),null}}function l(n){try{var t=h(i.ToolNames.GitHub,e.ExternalArtifactType[n.itemType],n);return{linkTypeDisplayName:y(n.itemType),externalLinkedArtifactContext:n,uri:t}}catch(r){return f.publishErrorToTelemetry(new Error("Invalid identifier: ".concat(JSON.stringify(n)," "))),null}}function a(n){var t,u;if(n.tool!==i.ToolNames.GitHub||(t=n.id,u=t.split(r.LinkingUtilities.URI_SEPARATOR),!u||u.length<2))return undefined;var f=t.split(r.LinkingUtilities.URI_SEPARATOR),e=f[0],o=f[1];return{itemType:v(n.type),repoInternalId:e,numberOrSHA:o}}function v(n){switch(n){case i.ArtifactTypeNames.Commit:return e.ExternalArtifactType.Commit;case i.ArtifactTypeNames.PullRequest:return e.ExternalArtifactType.PullRequest;case i.ArtifactTypeNames.Issue:return e.ExternalArtifactType.Issue}o.Debug.fail("Unsupported artifact type ".concat(n))}function y(n){switch(n){case e.ExternalArtifactType.Commit:return s.LinksControlGitHubCommitText;case e.ExternalArtifactType.PullRequest:return s.LinksControlGitHubPullRequestText;case e.ExternalArtifactType.Issue:return s.LinksControlGitHubIssueText}o.Debug.fail("Unsupported external artifact type ".concat(n))}function p(n){switch(n){case e.ExternalArtifactType.Commit:return"BranchCommit";case e.ExternalArtifactType.PullRequest:return"BranchPullRequest";case e.ExternalArtifactType.Issue:return"WorkItem";default:return"ErrorBadge"}}Object.defineProperty(t,"__esModule",{value:!0});t.getArtifactTypeFabricIconName=t.createGitHubArtifactFromExternalLinkedArtifactIdentifier=t.createGitHubArtifactFromExternalLink=t.createGitHubArtifactUrlFromIdentifier=void 0;t.createGitHubArtifactUrlFromIdentifier=h;t.createGitHubArtifactFromExternalLink=c;t.createGitHubArtifactFromExternalLinkedArtifactIdentifier=l;t.getArtifactTypeFabricIconName=p});

define("WorkItemTracking/Scripts/Controls/Links/LinkMapper",["require","exports","VSS/Artifacts/Constants","VSS/Artifacts/Services","VSS/Error","VSS/Utils/String","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Utils","WorkItemTracking/Scripts/Utils/GitHubArtifactLink"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.LinkMapper=void 0;var h=function(){function n(n){this._workItemStore=n}return n.prototype.mapLinks=function(n,t){var r=this,i;return(t===void 0&&(t=!0),!n)?null:(i=n.map(function(n){return{link:n,mappedLink:r.mapLink(n,t)}}),t&&(i=i.filter(function(n){return!!n&&!!n.mappedLink})),i)},n.prototype.mapLink=function(n,t){if(t===void 0&&(t=!0),t&&(n.isRemoved()||n.deleted))return null;var i;if(n instanceof e.WorkItemLink)i=this._mapWorkItemLink(n);else if(n instanceof e.ExternalLink)i=this._mapExternalLink(n);else if(n instanceof e.Hyperlink)i=this._mapHyperLink(n);else{if(n instanceof e.Attachment)return null;u.publishErrorToTelemetry(new Error("Unexpected link type encountered"))}return i?(this._mapCommonData(n,i),i):(u.publishErrorToTelemetry(new Error("Could not map link")),null)},n.prototype._mapWorkItemLink=function(n){var e=this._workItemStore.findLinkTypeEnd(n.linkData.LinkType),s=e.linkType.isDirectional,o,t,u;return o=s?e.immutableName:e.linkType.referenceName,t={id:n.linkData.ID.toString(10),tool:i.ToolNames.WorkItemTracking,type:i.ArtifactTypeNames.WorkItem,linkType:o,linkTypeDisplayName:e.name,uri:r.LinkingUtilities.encodeUri({tool:i.ToolNames.WorkItemTracking,type:i.ArtifactTypeNames.WorkItem,id:n.linkData.ID.toString(10)}),isLocked:n.isLocked},u=n.remoteHostId,u&&f.isGuid(u)&&!f.isEmptyGuid(u)&&(t.uri=r.LinkingUtilities.encodeUri({tool:"".concat(i.ToolNames.RemoteWorkItemTracking," - ").concat(u),type:i.ArtifactTypeNames.WorkItem,id:n.linkData.ID.toString(10)}),t.tool=i.ToolNames.RemoteWorkItemTracking,t.remoteHostId=u,t.remoteProjectId=n.remoteProjectId,t.remoteHostUrl=n.remoteHostUrl,t.remoteHostName=n.remoteHostName,t.remoteStatus=n.remoteStatus),t},n.prototype._mapExternalLink=function(n){return s.createGitHubArtifactFromExternalLink(n)},n.prototype._mapHyperLink=function(n){return{comment:n.getComment(),id:n.getLocation(),linkType:n.getArtifactLinkType(),linkTypeDisplayName:o.getRegisteredLinkName(n.getArtifactLinkType(),n.workItem.store),tool:i.ToolNames.Hyperlink,type:n.getArtifactLinkType(),uri:n.getLocation()}},n.prototype._mapCommonData=function(n,t){t.comment=n.getComment()},n}();t.LinkMapper=h});

define("TFS/VersionControl/Services",["require","exports","VSS/SDK/Shim"],function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0});t.VersionControlRepositoryService=t.VersionControlActionService=void 0,function(n){function t(t){return i.VSS.getService(n.fullyQualifiedContributionId,{webContext:t})}n.contributionId="code-action-service";n.fullyQualifiedContributionId="ms.vss-code-web.code-action-service";n.getService=t}(r=t.VersionControlActionService||(t.VersionControlActionService={})),function(n){function t(t){return i.VSS.getService(n.fullyQualifiedContributionId,{webContext:t})}n.contributionId="code-extension-repository-service";n.fullyQualifiedContributionId="ms.vss-code-web.code-extension-repository-service";n.getService=t}(u=t.VersionControlRepositoryService||(t.VersionControlRepositoryService={}))});

define("Presentation/Scripts/TFS/Components/AddNewItem",["require","exports","OfficeFabric/ContextualMenu","OfficeFabric/Utilities","react","VSS/Diag","VSSUI/Tooltip","VSSUI/VssIcon","VSS/LoaderPlugins/Css!Presentation/Components/AddNewItem"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.AddNewItemComponent=void 0;var s=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.state={isContextMenuOpen:!1},i}return __extends(t,n),t.prototype.render=function(){var f=this,n=this.props.items&&this.props.items.length>1,r=u.createElement("button",{className:"add-new-item-component-button"+(this.props.isDisabled?" disabled":""),ref:function(n){return f._addNewItemButtonRef=n},onClick:this._clickHandler,tabIndex:this.props.preventTabFocus?-1:0},u.createElement(o.VssIcon,__assign({},this.props.iconProps||{iconName:"math-plus-heavy",iconType:1})),this.props.isCollapsed?null:u.createElement("span",{className:t.displayTextCssClass},this.props.displayText),n?u.createElement(o.VssIcon,{iconName:"chevron-down",iconType:1}):null);return this.props.isDisabled?u.createElement("div",{className:this.props.className},u.createElement(e.TooltipHost,{content:this.props.disabledTooltip},r)):u.createElement("div",{className:this.props.className,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp},r,n&&this.state.isContextMenuOpen?u.createElement(i.ContextualMenu,{items:this.props.items,onDismiss:this._onDismiss,target:this._addNewItemButtonRef,shouldFocusOnMount:!0,directionalHint:4}):null)},t.prototype.focus=function(){this._addNewItemButtonRef&&this._addNewItemButtonRef.focus()},Object.defineProperty(t.prototype,"isMenuActive",{get:function(){return this.state.isContextMenuOpen},enumerable:!1,configurable:!0}),t.prototype.activateMenu=function(){this._setIsContextMenuOpen(!0)},t.prototype._setIsContextMenuOpen=function(n){if(!!n!=!!this.state.isContextMenuOpen&&(this.setState({isContextMenuOpen:n}),this.props.onDropdownToggled))this.props.onDropdownToggled(n)},t.prototype._onMouseDown=function(n){n.stopPropagation()},t.prototype._onMouseUp=function(n){n.stopPropagation()},t.prototype._clickHandler=function(n){if(this.props.isDisabled){n.preventDefault();n.stopPropagation();return}if(this.props.items.length>1)this._setIsContextMenuOpen(!0);else if(this.props.items[0]&&typeof this.props.items[0].onClick=="function")this.props.items[0].onClick(n,this.props.items[0]);n.stopPropagation()},t.prototype._onDismiss=function(){this._setIsContextMenuOpen(!1)},t.iconCssClass="add-item-icon",t.iconElementCssClass="add-item-icon-element",t.displayTextCssClass="text",t.bowtieMathPlusHeavyCssClass="bowtie-icon bowtie-math-plus-heavy",t.bowtieChevronDownCssClass="bowtie-icon bowtie-chevron-down",__decorate([r.autobind],t.prototype,"_onMouseDown",null),__decorate([r.autobind],t.prototype,"_onMouseUp",null),__decorate([r.autobind],t.prototype,"_clickHandler",null),__decorate([r.autobind],t.prototype,"_onDismiss",null),t}(u.Component);t.AddNewItemComponent=s});

define("WorkItemTracking/Scripts/Controls/Links/AddParentLink",["require","exports","react","VSSUI/Link","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.AddParentLink=void 0;var f=function(n){return i.createElement("div",{className:"zero-data-action margin-bottom-8"},i.createElement("div",null,i.createElement(r.Link,{onClick:n.onClickAddParent},u.AddParentText1),i.createElement("span",null,u.AddParentText2)))};t.AddParentLink=f});

define("Presentation/Scripts/TFS/Components/DropdownButton",["require","exports","react","OfficeFabric/Button","OfficeFabric/ContextualMenu","OfficeFabric/Utilities","VSSUI/Util","VSS/LoaderPlugins/Css!Presentation/Components/DropdownButton"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.DropdownButton=void 0;var o=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._resolveElement=function(n){r._element=n},r.state={isOpen:!1},r}return __extends(t,n),t.prototype.focus=function(){this._button&&this._button.focus()},t.prototype.dismissMenu=function(){},t.prototype.openMenu=function(){},t.prototype.render=function(){var n=this.props,t=n.className,f=n.buttonProps,o=n.menuItems,s=this.state.isOpen;return i.createElement("div",{className:e.css("dropdown-button",t)},i.createElement("div",{className:"dropdown-button-wrapper",ref:this._resolveElement},i.createElement(r.PrimaryButton,__assign({},f,{onClick:this._onOpen,componentRef:this._resolveButton}),this._renderButtonContent(),"\u00a0",i.createElement("span",{className:"bowtie-icon bowtie-chevron-down-light"}))),s&&i.createElement(u.ContextualMenu,{className:"bowtie-fabric",directionalHint:4,isBeakVisible:!1,items:o,gapSpace:0,onDismiss:this._onDismiss,target:this._element}))},t.prototype._renderButtonContent=function(){var n=this.props,r=n.label,t=n.onButtonContentRender;return t?t():i.createElement("span",null,r)},t.prototype._resolveButton=function(n){this._button=n},t.prototype._onOpen=function(){this.setState({isOpen:!0})},t.prototype._onDismiss=function(){this.setState({isOpen:!1})},__decorate([f.autobind],t.prototype,"_resolveButton",null),__decorate([f.autobind],t.prototype,"_onOpen",null),__decorate([f.autobind],t.prototype,"_onDismiss",null),t}(i.Component);t.DropdownButton=o});

define("WorkItemTracking/Scripts/Form/React/Components/ZeroDataComponent",["require","exports","react","OfficeFabric/Button","OfficeFabric/Fabric","Presentation/Scripts/TFS/Components/DropdownButton","OfficeFabric/Utilities","VSSUI/Util","VSS/LoaderPlugins/Css!WorkItemTracking/Form/React/Components/ZeroDataComponent"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.ZeroDataComponent=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.focus=function(){this._button.focus()},t.prototype.render=function(){var n=this.props,t=n.buttonProps,h=n.className,e=n.menuItems,s=o.css("work-item-zero-cta",h);return e?i.createElement(u.Fabric,null,i.createElement(f.DropdownButton,{buttonProps:t,ref:this._resolveButton,menuItems:e,className:s,onButtonContentRender:this._renderButtonContent})):i.createElement(u.Fabric,null,i.createElement(r.PrimaryButton,__assign({},t,{className:s,componentRef:this._resolveButton}),this._renderButtonContent()))},t.prototype._renderButtonContent=function(){return i.createElement("span",{className:"work-item-zero-cta-label"},i.createElement("i",{className:"bowtie-icon bowtie-math-plus-light"}),this.props.label)},t.prototype._resolveButton=function(n){this._button=n},__decorate([e.autobind],t.prototype,"_renderButtonContent",null),__decorate([e.autobind],t.prototype,"_resolveButton",null),t}(i.Component),h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.focus=function(){this._zeroDataCTA&&this._zeroDataCTA.focus()},t.prototype.render=function(){var n=this.props,f=n.label,e=n.className,h=n.iconClassName,r=n.onRenderAdditionalContent,u=n.cta,t;return r?t=r():u&&(t=i.createElement(s,__assign({},u,{ref:this._resolveCTA}))),i.createElement("div",{className:o.css("work-item-zero-data","bowtie-fabric",e)},i.createElement("div",{"aria-hidden":"true",className:o.css("bowtie-icon","work-item-zero-data-icon",h)}),i.createElement("div",null,f),t)},t.prototype._resolveCTA=function(n){this._zeroDataCTA=n},__decorate([e.autobind],t.prototype,"_resolveCTA",null),t}(i.Component);t.ZeroDataComponent=h});

define("WorkItemTracking/Scripts/Controls/Links/DevelopmentZeroDataComponent",["require","exports","react","OfficeFabric/Utilities","WorkItemTracking/Scripts/RegisteredLinkTypeNames","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","OfficeFabric/Link","VSS/Telemetry/Services","VSSUI/VssIcon","VSSUI/Image","VSS/LWP","VSS/LoaderPlugins/Css!Controls/Links/DevelopmentZeroDataComponent"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.DevelopmentZeroDataComponent=void 0;var l="https://aka.ms/azureboardsgithub/devctrl",a=function(n){function t(t){var i=__construct(this,n,[t]),r,e;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onGitHubCommitClick=function(){i.props.actionCallback&&(i.props.actionCallback(f.LinksControlGitHubCommitText),i._publishTelemetry(u.RegisteredLinkTypeNames.GitHubCommitLinkType))},i._onGitHubPullRequestClick=function(){i.props.actionCallback&&(i.props.actionCallback(f.LinksControlGitHubPullRequestText),i._publishTelemetry(u.RegisteredLinkTypeNames.GitHubPullRequestLinkType))},i._onReposCommitClick=function(){i.props.actionCallback&&(i.props.actionCallback(f.LinksControlCommitText),i._publishTelemetry(u.RegisteredLinkTypeNames.Commit))},i._onReposPullRequestClick=function(){i.props.actionCallback&&(i.props.actionCallback(f.LinksControlPullRequestText),i._publishTelemetry(u.RegisteredLinkTypeNames.PullRequest))},i._onReposBranchClick=function(){i.props.actionCallback&&(i.props.actionCallback(f.LinksControlBranchText),i._publishTelemetry(u.RegisteredLinkTypeNames.Branch))},i._onReposCreateBranchClick=function(){i.props.createBranchActionCallback&&(i.props.createBranchActionCallback(),i._publishTelemetry(f.CreateaBranchText))},e=c.getLWPService("IVssLocationService"),i._repoImageUrl=e.getAssetLocation("ms.vss-code-web/common-content/Nav-Code.png"),i}return __extends(t,n),t.prototype.render=function(){var n=this.props.zeroDataSettings;return i.createElement("div",null,n.showGitHubZeroDataExperience?i.createElement("div",{className:"zero-data-action github"},i.createElement("div",null,i.createElement(s.VssIcon,{className:"zero-data-icon",iconName:"GitHubLogo",iconType:0})),n.showGitHubPromoteZeroDataExperience?this._getGitHubPromoteZeroDataText():this._getGitHubZeroDataText()):null,n.showAzureReposZeroDataExperience?i.createElement("div",{className:"zero-data-action"},i.createElement("div",null,i.createElement(h.Image,{className:"zero-data-icon",src:this._repoImageUrl,alt:f.ZeroDataImageAltText})),this._getAzureReposZeroDataText()):null)},t.prototype._getGitHubZeroDataText=function(){return i.createElement("div",null,i.createElement("span",null,f.GitHubZeroDataText1),i.createElement(e.Link,{onClick:this._onGitHubCommitClick},f.GitHubZeroDataCommitLinkTypeText),i.createElement("span",null,f.GitHubZeroDataText2),i.createElement(e.Link,{onClick:this._onGitHubPullRequestClick},f.GitHubZeroDataPullRequestTypeText),i.createElement("span",null,f.GitHubZeroDataText3),i.createElement(e.Link,{href:l,target:"_blank"},f.NewFeatureLearnMoreLinkTitle))},t.prototype._getGitHubPromoteZeroDataText=function(){return i.createElement("div",null,i.createElement("span",null,f.GitHubPromoteZeroDataText1),i.createElement(e.Link,{href:l,target:"_blank"},f.GitHubPromoteZeroDataText2),i.createElement("span",null,f.GitHubZeroDataText3))},t.prototype._getAzureReposZeroDataText=function(){return i.createElement("div",null,i.createElement("span",null,f.AzureReposZeroDataText1),i.createElement(e.Link,{onClick:this._onReposCommitClick},f.GitHubZeroDataCommitLinkTypeText),i.createElement("span",null,", "),i.createElement(e.Link,{onClick:this._onReposPullRequestClick},f.GitHubZeroDataPullRequestTypeText),i.createElement("span",null,f.GitHubZeroDataText2),i.createElement(e.Link,{onClick:this._onReposBranchClick},f.LinksControlZeroDataBranchText),i.createElement("span",null,f.GitHubZeroDataText3,f.AzureReposZeroDataText2),i.createElement(e.Link,{onClick:this._onReposCreateBranchClick},f.CreateaBranchText),i.createElement("span",null,f.AzureReposZeroDataText3))},t.prototype._publishTelemetry=function(n){o.publishEvent(new o.TelemetryEventData("LinksControl","AddLink",{type:n}))},t}(r.BaseComponent);t.DevelopmentZeroDataComponent=a});

define("WorkItemTracking/Scripts/DevelopmentSettings/DevelopmentZeroDataSettingsService",["require","exports","VSS/Utils/String","VSS/Contributions/Services","VSS/Service","VSS/Telemetry/Services"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.DevelopmentZeroDataSettingsService=void 0;var e="ms.vss-work-web.development-zerodata-settings-data-provider",o=function(){function n(){}return n.prototype.getDevelopmentZeroDataExperienceSettings=function(n){return __awaiter(this,void 0,void 0,function(){var t,o,s,h;return __generator(this,function(c){switch(c.label){case 0:if(!(!this._projectId||!i.equals(this._projectId,n,!0)))return[3,4];this._projectId=n;t={projectId:n};o=u.getService(r.WebPageDataService);c.label=1;case 1:return c.trys.push([1,3,,4]),s=this,[4,o.getDataAsync(e,null,t)];case 2:return s._developmentZeroDataSettingsResponse=c.sent(),[3,4];case 3:return h=c.sent(),f.publishEvent(new f.TelemetryEventData("ZeroDataSettingsError","getDevelopmentZeroDataExperienceSettings",{error:h})),[3,4];case 4:return[2,this._developmentZeroDataSettingsResponse]}})})},n}();t.DevelopmentZeroDataSettingsService=o});

define("WorkItemTracking/Scripts/Controls/Links/Control",["require","exports","q","VSS/VSS","react","react-dom","VSS/Diag","VSS/Utils/Array","VSS/Utils/String","VSS/Artifacts/Constants","VSS/Error","VSS/Controls/Menus","VSS/Events/Services","VSS/Events/Handlers","WorkItemTracking/Scripts/TFS.WorkItemTracking","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Control","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts","WorkItemTracking/Scripts/Form/Tabs","WorkItemTracking/Scripts/Form/Events","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemControl","WorkItemTracking/Scripts/Controls/Links/ArtifactCache","WorkItemTracking/Scripts/Controls/Links/LinkMapper","WorkItemTracking/Scripts/Controls/Links/Interfaces","WorkItemTracking/Scripts/Controls/Links/WebLayoutLinksControlOptionsReader","WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Utils","WorkItemTracking/Scripts/OM/WorkItemConstants","TFS/VersionControl/Services","Presentation/Scripts/TFS/TFS.FeatureLicenseService","Presentation/Scripts/TFS/Components/AddNewItem","WorkItemTracking/Scripts/Controls/Links/AddParentLink","WorkItemTracking/Scripts/Form/React/Components/ZeroDataComponent","WorkItemTracking/Scripts/Controls/Links/DevelopmentZeroDataComponent","VSS/Telemetry/Services","WorkItemTracking/Scripts/DevelopmentSettings/DevelopmentZeroDataSettingsService","WorkItemTracking/Scripts/OM/WorkItemManager","VSS/LoaderPlugins/Css!Controls/Links/LinksControl"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt){var bt,wt,kt;Object.defineProperty(t,"__esModule",{value:!0});t.LinksControl=void 0;kt=function(n){function t(i,e,o){var s=n.call(this,i,e,o)||this,a,w,h;return s._artifactCache=new tt.SimpleWorkItemArtifactCache,s._executeAddLinkCommand=function(n,t){r.requireModules(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls"]).then(function(){l.menuManager.executeCommand(new v.CommandEventArgs(n,t,null))},function(t){c.publishErrorToTelemetry({name:"CouldNotExecute".concat(n,"Command"),message:r.getErrorMessage(t)})})},s._onLinkedWorkItemChanged=function(n,t){var o=t.workItem,u,i,f,r,e;if(t.workItem.id!==s._workItem.id){if(u=!1,t.change===et.WorkItemChangeType.SaveCompleted)for(i=0,f=s._workItem.getLinks();i<f.length;i++)r=f[i],r instanceof y.WorkItemLink&&(e=r.getTargetId(),e===o.id&&(u=!0,s._linkedArtifactsControl.invalidateLinkedArtifact(s._getLinkedWorkItemArtifact(r))));u&&s.invalidate(!1)}},a=ut.WebLayoutLinksControlOptionsReader.getDefaultLinksControlOptions(),s._options=__assign(__assign({},a),s._options),s._container.addClass("links-control"),s._container.attr("tabindex",-1),s._fieldEvents=[p.DalFields.RelatedLinks,p.DalFields.BISURI,p.DalFields.LinkedFiles],s._workItemManager=pt.WorkItemManager.get(s._workItemType.store),w=s.getAvailableSpaceImmediate(),h=function(){var n=s._getArtifactControlOptions(w,s._options);s._$linkedArtifactsControlContainer=$("<div/>").addClass(t.CSS_LINKS_CONTROL_CONTAINER).appendTo(s._container);f.render(u.createElement(b.LinkedArtifactsControl,$.extend({},n,{ref:function(n){return s._linkedArtifactsControl=n}})),s._$linkedArtifactsControlContainer[0]);s._attachEvents();s._onResize();s._workItem&&s.invalidate(!1)},s._workItemType.store.registeredLinkTypes!=null&&typeof s._workItemType.store.registeredLinkTypes!="function"&&s._workItemType.store.contributedLinkTypes!=null?h():s._ensureLinkTypes().then(function(){return h()},function(n){throw new Error(n);}),s._developmentZeroDataSettingsService=new yt.DevelopmentZeroDataSettingsService,s}return __extends(t,n),t.prototype.dispose=function(){this._detachEvents();this._$addLinkContainer&&f.unmountComponentAtNode(this._$addLinkContainer[0]);this._$linkedArtifactsControlContainer&&f.unmountComponentAtNode(this._$linkedArtifactsControlContainer[0]);this._removeAddParentLinkContainer()},t.prototype.getAvailableSpace=function(){var t=this;return n.prototype.getAvailableSpace.call(this).then(function(n){return t._$addLinkContainer&&(n.height-=t._$addLinkContainer.outerHeight(!0)),n})},t.prototype._updateNewItemControl=function(){var n=this;this._$addLinkContainer&&this._$addLinkContainer.length>0&&this._ensureLinkTypes().then(function(){var t={items:n._getWorkItemTypeMenuItemsForCurrentControl(),displayText:w.LinksControlAddLinkDisplayText,disabledTooltip:w.LinksControlAddLinkDisabledTooltip,ref:function(t){return n._addNewItemComponent=t}};f.render(u.createElement(ht.AddNewItemComponent,t),n._$addLinkContainer[0])})},t.prototype._getWorkItemTypeMenuItemsForCurrentControl=function(){return this._getWorkItemTypeMenuItems(this._options.linkFilters,this._options.workItemTypeFilters,this._options.scopeWorkItemTypesToProject,this._workItemType)},t.prototype._getArtifactControlOptions=function(n,i){var u=this,r;return!this._workItemType.store||!this._workItemType.store.linkTypes||!this._workItemType.store.registeredLinkTypes?(c.publishErrorToTelemetry({name:"CouldNotGetLinkTypes",message:"Could not get linktypes or registered link types."}),null):(r={artifactPageSize:i.listViewOptions.pageSize,viewOptions:{viewMode:this._getDesiredViewMode(i,0),availableSpace:n,showGroupHeaders:this._options.listViewOptions.groupLinks},zeroDataOptions:{zeroDataExperienceViewMode:k.ZeroDataExperienceViewMode.Hidden},cache:this._artifactCache,onRemoveLinkedArtifact:this._onRemoveLink.bind(this),onChangeLinkedArtifactComment:this._onChangeLinkComment.bind(this),artifactSubTypeFilters:t._getLinkedArtifactSubtypeFilterConfiguration(i),gridViewOptions:{minColumnsInGridView:t.MIN_COLUMNS_IN_GRID_VIEW_MODE,autoSizeGrid:!i.autoFitFormHeight,maxGridHeight:i.autoFitFormHeight?n.height:i.height||k.DefaultGridHeight},columns:i.columns?this._mapColumns(i.columns.columnNames):null,tfsContext:this.getTfsContext(),sortColumns:null,linkTypeRefNames:t._getLinkTypeNames(i.linkFilters,t._getWorkItemLinkTypeMap(this._workItemType.store.linkTypes),this._workItemType.store.registeredLinkTypes.map(function(n){return n.name})),onRender:function(){u._onRenderCompleted()}},i.zeroDataExperience===rt.WebLayoutLinksControlZeroDataExperience.Development&&(r.sortColumns=[{column:k.InternalKnownColumns.LastUpdate,direction:k.SortDirection.Descending},{column:k.InternalKnownColumns.Link,direction:k.SortDirection.Ascending}]),r)},t.prototype._getWorkItemTypeMenuItems=function(n,t,i,r){var u=this,f=this._getLinkFilters(n,t,i,r),e=function(){return u._getAddLinkOptions(f)},o=[{key:ft.ACTIONS_LINK_TO_EXISTING,name:w.LinksControlAddLinkToExistingItem,iconProps:{className:"vsts-fabric-contextual-menu-icon bowtie-icon bowtie-link"},onClick:function(){u._executeAddLinkCommand(ft.ACTIONS_LINK_TO_EXISTING,e());vt.publishEvent(new vt.TelemetryEventData("LinksControl","AddLink",{type:"AddLink"}))},disabled:this.isReadOnly()}],s;return(!f.workItemLinkFilters||f.workItemLinkFilters.length>0)&&(s=!this._workItem||this._workItem.isNew()||this.isReadOnly(),o.push({key:ft.ACTIONS_LINK_TO_NEW,name:w.LinksControlCreateNewLink,iconProps:{className:"vsts-fabric-contextual-menu-icon bowtie-icon bowtie-work-item"},onClick:function(){return u._executeAddLinkCommand(ft.ACTIONS_LINK_TO_NEW,e())},disabled:s,title:this._workItem&&this._workItem.isNew()?w.LinksControlAddNewItemDisabledTooltip:null})),o},t.prototype._getLinkFilters=function(n,i,r,u){var f=null,e=null,o=null;if(n){var c=n.filter(function(n){return n.linkFilterKind===rt.WebLayoutLinksControlLinkFilterKind.External}),l=n.filter(function(n){return n.linkFilterKind===rt.WebLayoutLinksControlLinkFilterKind.WorkItem}),s=t._getWorkItemLinkTypeMap(u.store.linkTypes),h=u.store.registeredLinkTypes.map(function(n){return n.name});f=t._getLinkTypeNames(c,s,h);e=t._getLinkTypeNames(l,s,h)}return i&&(o={filterType:"include",scope:r?"project":null,filters:i.map(function(n){return{workItemType:n}})}),{externalLinkFilters:f,workItemLinkFilters:e,workItemTypeFilters:o}},t.prototype._getAddLinkOptions=function(n,t){var i=this;return{baseId:this._workItem,selectedIds:[this._workItem.id],options:{workItemLinkFilters:n.workItemLinkFilters,externalLinkFilters:n.externalLinkFilters,workItemTypeFilters:n.workItemTypeFilters,isNewLinksControl:!0,close:function(){i._addNewItemComponent?i._addNewItemComponent.focus():i._container.focus()},noFocusOnClose:!0,selectedLinkType:t},afterSave:function(){return $("button.add-new-item-component, .work-item-zero-cta button",i._container).first().focus()}}},t.prototype._onRenderCompleted=function(){a.getService().fire(g.FormEvents.ControlResizedEvent(),this)},t._getLinkedArtifactSubtypeFilterConfiguration=function(n){var t;return n&&(typeof n.scopeWorkItemTypesToProject!="undefined"||typeof n.workItemTypeFilters!="undefined")?(t={},t[h.ToolNames.WorkItemTracking]={artifactSubtypes:n.workItemTypeFilters||null,inCurrentProject:n.scopeWorkItemTypesToProject||!1},t):null},t._getLinkTypeNames=function(n,t,i){var r,f,o,u;if(!n)return null;for(r=[],f=0,o=n;f<o.length;f++)u=o[f],u.linkFilterKind===rt.WebLayoutLinksControlLinkFilterKind.External?u.linkFilterType===rt.WebLayoutLinksControlXmlValues.IncludeAllLinks?r.push.apply(r,i):r.push(u.linkFilterType):u.linkFilterType===rt.WebLayoutLinksControlXmlValues.IncludeAllLinks?r.push.apply(r,Object.keys(t)):t[u.linkFilterType]&&r.push.apply(r,t[u.linkFilterType]);return r=r.filter(function(n,t){return r.indexOf(n)===t})},t._getWorkItemLinkTypeMap=function(n){for(var t,r,u,i={},f=0,e=n;f<e.length;f++)t=e[f],i[t.referenceName]=[t.referenceName],r=t.forwardEnd.immutableName,i[r]=[r],i[t.referenceName].push(r),t.isDirectional&&(u=t.reverseEnd.immutableName,i[u]=[u],i[t.referenceName].push(u));return i},t.prototype.onControlResized=function(){this._onResize()},t.prototype._attachEvents=function(){if(!this._onTabSelectedDelegate){this._onTabSelectedDelegate=this._onTabSelected.bind(this);this._container.on(d.WorkItemFormTabEvents.WorkItemFormTabSelected,this._onTabSelectedDelegate)}},t.prototype._detachEvents=function(){this._onTabSelectedDelegate&&(this._container.off(d.WorkItemFormTabEvents.WorkItemFormTabSelected,this._onTabSelectedDelegate),this._onTabSelectedDelegate=null)},t.prototype._onTabSelected=function(){this._onResize();this._linkedArtifactsControl&&this._container.find(".la-grid").triggerHandler(k.Events.ForceRerender)},t.prototype._onResize=function(){var n=this;this.getAvailableSpace().then(function(t){return n._updateViewOptions(t)})},t.prototype._updateViewOptions=function(n){if(this._linkedArtifactsControl&&n.width>0){var t=this._getDesiredViewMode(this._options,n.width);this._linkedArtifactsControl.setViewOptions({viewMode:t,availableSpace:{width:n.width,height:n.height-2}})}},t.prototype._getDesiredViewMode=function(n,i){return this._isFullScreen?k.ViewMode.FullGrid:n.viewMode===rt.WebLayoutLinksControlViewMode.Grid||(!n.viewMode||n.viewMode===rt.WebLayoutLinksControlViewMode.Dynamic)&&i>t.GRID_THRESHOLD?n.columns&&n.columns.truncation===rt.WebLayoutLinksControlColumnTruncation.Off?k.ViewMode.FullGrid:k.ViewMode.Grid:k.ViewMode.List},t.prototype._onWorkItemChangedHandler=function(n,t){(t.change===et.WorkItemChangeType.Refresh||t.change===et.WorkItemChangeType.Reset)&&this._artifactCache.clear();t.change===et.WorkItemChangeType.SaveCompleted&&(this._updateNewItemControl(),this._setZeroDataState())},t.prototype.bind=function(t){n.prototype.bind.call(this,t);this._updateAddLinksContainer();this._onWorkItemChangedDelegate||(this._onWorkItemChangedDelegate=this._onWorkItemChangedHandler.bind(this),t.attachWorkItemChanged(this._onWorkItemChangedDelegate));this._artifactCache.setWorkItem(t);this._workItemManager.attachWorkItemChanged(this._onLinkedWorkItemChanged);this._onResize()},t.prototype.unbind=function(){this._onWorkItemChangedDelegate&&(this._workItem.detachWorkItemChanged(this._onWorkItemChangedDelegate),delete this._onWorkItemChangedDelegate,this._onWorkItemChangedDelegate=null);this._workItemManager&&this._workItemManager.detachWorkItemChanged(this._onLinkedWorkItemChanged);n.prototype.unbind.call(this)},t.prototype.maximizeInPlace=function(n){this._isFullScreen=!0;this._container.css("top",n);this._unFocusRestoreButton();this._linkedArtifactsControl.setViewOptions({viewMode:k.ViewMode.FullGrid,availableSpace:this.getAvailableSpaceImmediate()})},t.prototype.restoreInPlace=function(){this._isFullScreen=!1;this._unFocusMaximizeButton();var n=this.getAvailableSpaceImmediate();this._updateViewOptions(n)},t.prototype._unFocusMaximizeButton=function(){this._container.parents(".grid-group-container").find(".workitem-group-maximize").blur()},t.prototype._unFocusRestoreButton=function(){this._container.parents(".grid-group-container").find(".workitem-group-restore").blur()},t.prototype.invalidate=function(t){n.prototype.invalidate.call(this,t);this._linkedArtifactsControl&&(this._linkedArtifactsControl.setReadOnly(this.isReadOnly()),this._workItem&&(this._linkedArtifactsControl.setFetchingLinks({fetchingLinks:k.FetchingLinks.InProgress}),this._updateLinks(),this._setZeroDataState(),this._linkedArtifactsControl.setFetchingLinks({fetchingLinks:k.FetchingLinks.Done})))},t.prototype._createAddLinksContainer=function(){this._$addLinkContainer||(this._$addLinkContainer=$("<div/>").addClass(t.CSS_ADD_NEW_LINK_CONTAINER).prependTo(this._container))},t.prototype._createAddParentLinkContainer=function(){!this._$addParentLinkContainer&&this._$addLinkContainer&&(this._$addParentLinkContainer=$("<div/>").insertAfter(this._$addLinkContainer))},t.prototype._removeAddLinksContainer=function(){this._$addLinkContainer&&(this._$addLinkContainer[0]&&f.unmountComponentAtNode(this._$addLinkContainer[0]),this._$addLinkContainer.remove(),this._$addLinkContainer=null)},t.prototype._removeAddParentLinkContainer=function(){this._$addParentLinkContainer&&(this._$addParentLinkContainer[0]&&f.unmountComponentAtNode(this._$addParentLinkContainer[0]),this._$addParentLinkContainer.remove(),this._$addParentLinkContainer=null)},t.prototype._launchGitHubAddLinkDialog=function(n){var t=this._getLinkFilters(this._options.linkFilters,this._options.workItemTypeFilters,this._options.scopeWorkItemTypesToProject,this._workItemType),i=this._getAddLinkOptions(t,n);this._executeAddLinkCommand(ft.ACTIONS_LINK_TO_EXISTING,i)},t.prototype._setZeroDataState=function(){return __awaiter(this,void 0,void 0,function(){var t,i,e,o,r,n=this;return __generator(this,function(s){switch(s.label){case 0:t={zeroDataExperienceViewMode:k.ZeroDataExperienceViewMode.Default};i=function(t){n._linkedArtifactsControl&&n._linkedArtifactsControl.setZeroDataOptions(t)};e=this._options.zeroDataExperience;switch(e){case rt.WebLayoutLinksControlZeroDataExperience.Development:return[3,1];case rt.WebLayoutLinksControlZeroDataExperience.CallToAction:return[3,4];case rt.WebLayoutLinksControlZeroDataExperience.Default:return[3,5]}return[3,6];case 1:return(t.message=w.DevelopmentControlWorkHasntStartedMessage,!(!this._workItem.isNew()&&!this._workItem.isDeleted()&&!this._workItem.isReadOnly()))?[3,3]:(o=this._workItem.id,[4,this._developmentZeroDataSettingsService.getDevelopmentZeroDataExperienceSettings(this._workItem.project.guid)]);case 2:if(r=s.sent(),!this._workItem)return[2];if(this._workItem&&o!==this._workItem.id)return[2];r&&!r.errorMessage&&(t.onRenderZeroData=function(){return u.createElement(at.DevelopmentZeroDataComponent,{actionCallback:function(t){n._launchGitHubAddLinkDialog(t)},createBranchActionCallback:function(){n._launchCreateBranchDialog()},zeroDataSettings:r})});i(t);s.label=3;case 3:return[3,7];case 4:return t.onRenderZeroData=function(){var t=n._getWorkItemTypeMenuItemsForCurrentControl();return u.createElement(lt.ZeroDataComponent,{label:w.LinksControlZeroData,iconClassName:"bowtie-link",cta:!n._options.hideActions&&!n.isReadOnly()?{label:w.LinksControlAddLinkDisplayText,menuItems:t}:null})},i(t),[3,7];case 5:return i(t),this._workItem.getFieldValue(p.CoreField.Parent)?this._removeAddParentLinkContainer():(this._createAddParentLinkContainer(),this._ensureLinkTypes().then(function(){var t=n._workItem.store.getLinkTypeEnds().find(function(n){return n.immutableName===et.LinkTypeName.Parent_Link_Name}),i=n._getLinkFilters(n._options.linkFilters,n._options.workItemTypeFilters,n._options.scopeWorkItemTypesToProject,n._workItemType),r=n._getAddLinkOptions(i,t===null||t===void 0?void 0:t.name),e={onClickAddParent:function(){n._executeAddLinkCommand(ft.ACTIONS_LINK_TO_EXISTING,r);vt.publishEvent(new vt.TelemetryEventData("LinksControl","AddLink",{type:"AddLink"}))}};f.render(u.createElement(ct.AddParentLink,e),n._$addParentLinkContainer[0])})),[3,7];case 6:return i(t),[3,7];case 7:return[2]}})})},t.prototype._ensureLinkTypes=function(){if(this._linkTypesPromise)return this._linkTypesPromise;var n=i.defer(),t=this._workItemType.store.beginGetContributedLinkTypes();return this._workItemType.store.beginGetLinkTypes(function(){t.then(function(){n.resolve(null)},function(t){n.reject(t)})},function(t){n.reject(t)}),this._linkTypesPromise=n.promise,this._linkTypesPromise},t.prototype._updateLinks=function(){var n,t=this._mapLinks(),i=t.map(function(n){return n.mappedLink}),r={id:this._workItem.id.toString(),tool:h.ToolNames.WorkItemTracking,type:h.ArtifactTypeNames.WorkItem,additionalData:(n={},n[k.HostArtifactAdditionalData.ProjectName]=this._workItem.project.name,n[k.HostArtifactAdditionalData.ProjectId]=this._workItem.project.id,n)};this._updateAddLinksContainer();this._linkedArtifactsControl.setLinkedArtifacts(i,r)},t.prototype._updateAddLinksContainer=function(){if(this._options.hideActions||this._workItem.isReadOnly())this._removeAddLinksContainer(),this._removeAddParentLinkContainer();else{var n=this._workItem.getLinks(),t=n===null||n.length===0;this._options.zeroDataExperience===rt.WebLayoutLinksControlZeroDataExperience.CallToAction&&t?(this._removeAddLinksContainer(),this._removeAddParentLinkContainer()):(this._createAddLinksContainer(),this._updateNewItemControl())}},t.prototype._mapLinks=function(){var n=new it.LinkMapper(this._workItem.store),t=this._workItem.getLinks();return n.mapLinks(t)},t.prototype._getLinkedWorkItemArtifact=function(n){var t=new it.LinkMapper(this._workItem.store),i=t.mapLink(n);return __assign(__assign({},i),{isColumnDependent:!0})},t.prototype._mapWitFieldDefToLinkColumnType=function(n){return n.isIdentity?k.LinkColumnType.Identity:t.WitFieldTypeToLinksColumnTypeMap[n.type.valueOf()]},t.prototype._mapColumns=function(n){var i=this,r;return n?(r={},Object.keys(k.InternalKnownColumns).map(function(n){return k.InternalKnownColumns[n]}).forEach(function(n){return r[n.refName.toLowerCase()]=n}),n.map(function(n){if(r[n.toLowerCase()])return r[n.toLowerCase()];var u;return(i._workItemType&&i._workItemType.store&&(u=i._workItemType.store.getFieldDefinition(n)),u||(u=i.getExtensionField(n)),u)?{name:u.name,refName:u.referenceName,type:i._mapWitFieldDefToLinkColumnType(u)}:t.LINK_ATTRIBUTE_COLUMNS[n]||null}).filter(function(n){return!!n})):null},t.prototype._getMappedLink=function(n){var t=this._mapLinks();return o.first(t,function(t){return s.equals(t.mappedLink.linkType,n.linkType,!0)&&s.equals(t.mappedLink.id,n.id,!0)&&s.equals(t.mappedLink.tool,n.tool,!0)&&s.equals(t.mappedLink.type,n.type,!0)})},t.prototype._onRemoveLink=function(n){var t=this._getMappedLink(n);t&&this._workItem.removeLinks([t.link]);this._addNewItemComponent&&this._workItem.getLinks().length===0&&this._addNewItemComponent.focus()},t.prototype._onChangeLinkComment=function(n,t){var i=this._getMappedLink(n);i&&this._workItem.findLink(i.link).setComment(t)},t.prototype._launchCreateBranchDialog=function(){var n=this;this._beginGetVcService().then(function(t){if(t&&n._areAllFeaturesActive(t.requiredFeaturesForActions)){var i=void 0,r=void 0;n._workItem&&(i=n._workItem.project.name,r=n._workItem.project.guid);t.beginLaunchCreateBranchDialog([n._workItem.id],i,r).then(function(){},function(t){n._handleError(t)})}})},t.prototype._areAllFeaturesActive=function(n){var t=this;return!n||n.length===0?!0:n.every(function(n){return t._isFeatureActive(n)})},t.prototype._isFeatureActive=function(n){return st.FeatureLicenseService.isFeatureActive(n)},t.prototype._beginGetVcService=function(){return this._vcServicePromise||(this._vcServicePromise=ot.VersionControlActionService.getService()),this._vcServicePromise},t.prototype._handleError=function(n){c.publishErrorToTelemetry({name:"CouldNotLaunchCreateBranchDialog",message:n})},t.MIN_COLUMNS_IN_GRID_VIEW_MODE=5,t.GRID_THRESHOLD=460,t.LINK_ATTRIBUTE_COLUMNS=(bt={},bt[k.InternalKnownColumns.Comment.refName]=k.InternalKnownColumns.Comment,bt),t.CSS_ADD_NEW_LINK_CONTAINER="add-links-container",t.CSS_LINKS_CONTROL_CONTAINER="links-control-container",t.WitFieldTypeToLinksColumnTypeMap=(wt={},wt[p.FieldType.Boolean.valueOf()]=k.LinkColumnType.Boolean,wt[p.FieldType.DateTime.valueOf()]=k.LinkColumnType.DateTime,wt[p.FieldType.Double.valueOf()]=k.LinkColumnType.Double,wt[p.FieldType.Guid.valueOf()]=k.LinkColumnType.Guid,wt[p.FieldType.History.valueOf()]=k.LinkColumnType.Html,wt[p.FieldType.Html.valueOf()]=k.LinkColumnType.Html,wt[p.FieldType.Integer.valueOf()]=k.LinkColumnType.Integer,wt[p.FieldType.PicklistInteger.valueOf()]=k.LinkColumnType.Integer,wt[p.FieldType.PicklistString.valueOf()]=k.LinkColumnType.String,wt[p.FieldType.PlainText.valueOf()]=k.LinkColumnType.PlainText,wt[p.FieldType.String.valueOf()]=k.LinkColumnType.String,wt[p.FieldType.TreePath.valueOf()]=k.LinkColumnType.TreePath,wt),t}(nt.WorkItemControl);t.LinksControl=kt});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/TextAdapters/MultiLineTextAdapters",["require","exports","VSS/Controls"],function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0});t.PlainTextControlAdapter=t.MultilineTextAdapter=void 0;r=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._valueHasBeenSet=!1,i}return __extends(t,n),t.prototype._getControlValue=function(){},t.prototype._setControlValue=function(){},t.prototype._controlReady=function(){return!0},t.prototype.getControl=function(){return this._control},t.prototype.getValue=function(){var n=this._getControlValue();return this._initialBrowserValue&&this._initialBrowserValue===n?this._initialSetValue:n},t.prototype.setValue=function(n){this._setControlValue(n);this._valueHasBeenSet||(this._valueHasBeenSet=!0,this._initialBrowserValue=this._getControlValue(),this._initialBrowserValue!==n?this._initialSetValue=n:this._initialBrowserValue=null)},t.prototype.clear=function(){this.setValue("");this._resetValueSynchronization()},t.prototype.invalidate=function(){this._resetValueSynchronization()},t.prototype.setUploadAttachmentApiLoc=function(){},t.prototype.setWorkItem=function(){},t.prototype.focus=function(){},t.prototype._resetValueSynchronization=function(){this._valueHasBeenSet=!1;this._initialBrowserValue=null;this._initialSetValue=null},t.prototype._dispose=function(){this._control&&typeof this._control.dispose=="function"&&(this._control.dispose(),this._control=null);n.prototype._dispose.call(this)},t}(i.BaseControl);t.MultilineTextAdapter=r;u=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initialize=function(){var i=this;n.prototype.initialize.call(this);this._control=$("<textarea class='plaintextcontrol' />").height(this._options.height||t.DEFAULT_HEIGHT).appendTo(this._element);this._options.emptyText&&this._control.attr("placeholder",this._options.emptyText);this._bind(this._control,"input",function(n){return i._onChange(n)})},t.prototype._getControlValue=function(){return this._control.val()},t.prototype._setControlValue=function(n){this._control.val(n)},t.prototype.setEnabled=function(n){n?this._control.prop("readonly",!1):this._control.attr("readonly","readonly")},t.prototype.setInvalid=function(n){this._control.toggleClass("invalid",n)},t.prototype._onChange=function(){this._fireChange()},t.prototype.focus=function(){this._control.focus()},t.prototype.selectText=function(){},t.prototype.flushChanges=function(){},t.prototype.unbind=function(){},t.prototype.show=function(){this._control&&this._control.show()},t.prototype.hide=function(){this._control&&this._control.hide();this.getElement().height(0)},t.DEFAULT_HEIGHT=250,t}(r);t.PlainTextControlAdapter=u});

define("Mention/Scripts/Resources/TFS.Resources.Mention",["require","exports"],function(require,exports){var e=exports;e.PullRequestText="Pull Request {0}";e.MentionPR="Mention a pull request";e.AutocompleteSearchButtonText="Search";e.WorkItemMentionOptionSelected="{0}. Selected";e.AutocompleteServerError="Error loading suggestions";e.DiscussionMentionWorkItemTip="workitems (#)";e.AutocompleteSuggestionsPlural="Showing {0} suggestions";e.AutocompleteSuggestionsSingular="Showing 1 suggestion";e.AutocompleteTermsOverLimit="Search only supports up to {0} keywords. Refine your criteria.";e.MentionMaterializeErrorDialogTitle="Error";e.AutocompleteNoSuggestions="No suggestions found";e.MentionWorkItem="Mention a work item";e.DiscussionShowMoreRetrievalError="Unable to show more comments";e.GitPullRequestMentionWorkItemDiscussionMessageFormat="Mentioned in {0}";e.AutocompleteLoading="Loading suggestions";e.DiscussionStateTextFormat="({0} of {1})";e.WorkItemStateLabel="State of the work item is {0}";e.DiscussionMentionPersonTip="people (@)";e.DiscussionUserCommentedTextFormat="commented {0}";e.AtMention="Mention";e.MentionSomeone="Mention someone";e.DiscussionShowMoreLinkText="Show more";e.MentionMaterializeIdentityFailError="The identity \u003cspan class=\u0027{0}\u0027\u003e@{1}\u003c/span\u003e could not be added to VSTS and will not receive the e-mail notification.\u003cbr\u003ePlease remove the user and retry the mention.";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Mention/Scripts/TFS.Mention",["require","exports","q","VSS/VSS","VSS/Diag","VSS/Utils/Array","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants"],function(n,t,i,r,u,f,e,o){function p(n,t,i,r){var u,f;return r===void 0&&(r="1.0"),u=h.HTML_MENTION_VERSION_ATTR+h.METADATA_ATTR_SEPARATOR+r,i&&(u+=","+i),f=$("<a/>").attr("href",n).attr(h.HTML_MENTION_ATTR_NAME,u).text(t),f[0].outerHTML+"&nbsp;"}var h,y,s,l,a,c,v;Object.defineProperty(t,"__esModule",{value:!0});t.ArtifactsCache=t.MentionsRenderer=t.ArtifactMentionParser=t.MentionProcessor=t.TextPartType=t.createHtmlMention=t.CssClasses=t.Constants=void 0,function(n){n.PATTERN_WORD_START_SEPARATOR="\\s|^|-|\\.|,|:|;|'|\"|\\(";n.PATTERN_WORD_END_SEPARATOR="\\s|$|\\.|,|:|;|-|' | \"|\\)";n.PATTERN_WORD_SEPARATOR="\\s#";n.METADATA_ATTR_SEPARATOR=":";n.HTML_MENTION_ATTR_NAME="data-vss-mention";n.HTML_MENTION_ID_ATTR="id";n.HTML_MENTION_VERSION_ATTR="version";n.HTML_MENTION_LEGACY_HREF_ATTR="mailto";n.HTML_MENTION_VERSION_10=n.HTML_MENTION_VERSION_ATTR+n.METADATA_ATTR_SEPARATOR+"1.0";n.HTML_MENTION_VERSION_20=n.HTML_MENTION_VERSION_ATTR+n.METADATA_ATTR_SEPARATOR+"2.0";n.HTML_MENTION_ID_ATTR_PREFIX=n.HTML_MENTION_ID_ATTR+n.METADATA_ATTR_SEPARATOR;n.HTML_MENTION_LEGACY_FORMAT_HREF=n.HTML_MENTION_LEGACY_HREF_ATTR+n.METADATA_ATTR_SEPARATOR;n.CODE_BLOCK_REGEX="(```[a-z]*[\\s\\S]*?```)|(<pre>[a-z]*[\\s\\S]*?<\/pre>)|(`[a-z]*[\\s\\S]*?`)";n.EMPTY_LINES_IN_BLOCK_REGEX="\\n[\\s]*\\n";n.CONTAINER_REGEX="(:::[\\s]*\\S+[\\s\\r\\n]+[\\s\\S]*?:::)";n.IDENTITY_PICKER_CONSUMER_ID="0ca36598-9c44-4a19-a3b1-74960b631990";n.DISCUSSION_MESSAGE_CLASS="discussion-messages-messagecontent";n.HTML_RENDERED_MENTION_ATTR_NAME="data-rendered-mention"}(h=t.Constants||(t.Constants={})),function(n){n.AUTOCOMPLETE_ID="mention-autocomp-id";n.AUTOCOMPLETE_TITLE="mention-autocomp-title"}(y=t.CssClasses||(t.CssClasses={}));t.createHtmlMention=p,function(n){n[n.Text=0]="Text";n[n.Mention=1]="Mention"}(s=t.TextPartType||(t.TextPartType={}));l=function(){function n(n){n===void 0&&(n=c.getDefault());this._parserFactories=[];this._mentionsRenderer=n;e.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WebAccessVersionControlPullRequestsMentions,!1)&&this._parserFactories.push(i.Promise(function(n){r.using(["VersionControl/Scripts/Mentions/PullRequestMentionParser"],function(t){n(function(){return t.createParser()})})}));this._MentionTranslatorFactory=i.Promise(function(n){r.using(["Mention/Scripts/TFS.Mention.People","Mention/Scripts/TFS.Mention.People.Registration"],function(t){n(function(){return t.getDisplayNameStorageKeyTranslatorInstance()})})})}return n.getDefault=function(){return n._defaultInstance||(n._defaultInstance=new n),n._defaultInstance},n.prototype.registerParser=function(n){this._parsers?this._parsers.then(function(t){for(var f,r=n(),e=r.getArtifactType(),i=0,u=t;i<u.length;i++)if(f=u[i],f.getArtifactType()===e)throw new Error("Cannot register additional parser of same artifact type after initialization.");return t.push(r),t}):this._parserFactories.push(i.resolve(n))},n.prototype.setMentionTranslationProvider=function(n){this._mentionTranslationProvider||(this._mentionTranslationProvider=n)},n.prototype.getMentionsRenderer=function(){return this._mentionsRenderer},n.prototype.parseCodeBlocksFromText=function(n){for(var u=[],i=new RegExp(h.CODE_BLOCK_REGEX,"ig"),e=new RegExp(h.EMPTY_LINES_IN_BLOCK_REGEX,"ig"),t,r,f;t=i.exec(n);)r=!0,n[t.index]==="`"&&n[t.index+1]!=="`"&&(f=n.substring(t.index,i.lastIndex),r=!e.exec(f)),r&&u.push({start:t.index,end:i.lastIndex});return u},n.prototype.parseContainersFromText=function(n){for(var t=[],i=new RegExp(h.CONTAINER_REGEX,"ig"),r;r=i.exec(n);)t.push({start:r.index,end:i.lastIndex});return t},n.prototype.parseInput=function(n){this._parsers||(this._parsers=i.allSettled(this._parserFactories).then(function(n){return n.map(function(n){return n.state=="fulfilled"?n.value():null}).filter(function(n){return n!=null})}));var t=this.parseCodeBlocksFromText(n),r=this.parseContainersFromText(n),u=t.concat(r);return this._parsers.then(function(t){var i=[{Text:n,Type:s.Text,StartIndex:0}],r,f;for(r in t)f=t[r],i=$.map(i,function(n){var t=n;return t.Type===s.Mention?n:f.parseMentions(t.Text,t.StartIndex,u)});return i})},n.prototype.renderParts=function(n,t,i){for(var u,e=this,o=$.Deferred(),r=$(),h=0,f=[],c=0;c<t.length;c++)r=r.add("<span>");return u=function(){h++;h===t.length&&(i.parts=f.join(","),o.resolve(r))},t.forEach(function(n,t){if(n.Type===s.Mention){var i=n;f.push(e._mentionsRenderer.getTelemetryMentionSummary(i));e._mentionsRenderer.renderMention($(r[t]),i).then(function(){u(t)},function(){u(t)})}else f.push("text"),$(r[t]).text(n.Text),u(t)}),r.appendTo(n),o.promise()},n.prototype.translateDisplayNamesToStorageKeysOfPersonMentions=function(n){return n&&this._mentionTranslationProvider?this._mentionTranslationProvider.translateDisplayNamesToStorageKeys(n):n},n.prototype.translateStorageKeysToDisplayNamesOfPersonMentions=function(n){var t=this,r=function(){return t._mentionTranslationProvider&&n?t._mentionTranslationProvider.translateStorageKeysToDisplayNames(n):i.resolve(n)};return this._mentionTranslationProvider?r():this._MentionTranslatorFactory.then(function(n){return t._mentionTranslationProvider||(t._mentionTranslationProvider=n()),r()})},n}();t.MentionProcessor=l;a=function(){function n(){}return n.prototype.parseFromText=function(){throw new Error("Not implemented");},n.prototype.getArtifactType=function(){throw new Error("Not implemented");},n.prototype.parseFromUrl=function(){throw new Error("Not implemented");},n.prototype.isInsideIgnoreBlock=function(n,t,i){var r=!1;return n&&n.forEach(function(n){n.start<t&&n.start<i&&n.end>t&&n.end>i&&(r=!0)}),r},n.prototype.parseMentions=function(n,t,i){var f=[],o,u,e,r;if(n){for(o=this.parseFromText(n),u=0,e=0;e<o.length;e++)r=o[e],r.index.start>u&&f.push({Type:s.Text,Text:n.substring(u,r.index.start),StartIndex:t+u}),this.isInsideIgnoreBlock(i,t+r.index.start,t+r.index.end)?f.push({Type:s.Text,Text:n.substring(r.index.start,r.index.end),StartIndex:t+r.index.start}):f.push({Type:s.Mention,Text:n.substring(r.index.start,r.index.end),ArtifactType:this.getArtifactType(),ArtifactId:r.id,StartIndex:t+r.index.start}),u=r.index.end;n.length>u&&f.push({Type:s.Text,Text:n.substring(u,n.length),StartIndex:t+u})}return f},n}();t.ArtifactMentionParser=a;c=function(){function n(){this._rendererFactories=[];this._vcRendererPromise=e.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WebAccessVersionControlPullRequestsMentions,!1)?i.Promise(function(n){r.using(["VersionControl/Scripts/Mentions/PullRequestMentionRenderer"],function(t){n(t.createRenderer())},function(t){u.logError(t);n(null)})}):i.resolve(null)}return n.getDefault=function(){return n._defaultInstance||(n._defaultInstance=new n),n._defaultInstance},n.prototype.registerProvider=function(n){var i,u,t,r,f;if(this._renderers){for(i=n(),u=i.getArtifactType(),t=0,r=this._renderers;t<r.length;t++)if(f=r[t],f.getArtifactType()===u)throw new Error("Cannot register additional providers of same artifact type after initialization.");this._renderers.push(i)}else this._rendererFactories.push(n)},n.prototype.getRenderer=function(n){var t=this;return this._vcRendererPromise.then(function(i){return t._renderers||(t._renderers=$.map(t._rendererFactories,function(n){return n()}),i&&t._renderers.push(i)),f.first(t._renderers,function(t){return n.ArtifactType===t.getArtifactType()})})},n.prototype.renderMention=function(n,t){return this.getRenderer(t).then(function(i){if(i)return i.renderMention(t,function(t){var i=$(t);return i.appendTo(n),i});throw new Error("No rendering provider found for artifact type");})},n.prototype.getTelemetryMentionSummary=function(n){return this.getRenderer(n).then(function(t){return t?t.getTelemetryMentionSummary(n):null})},n}();t.MentionsRenderer=c;v=function(){function n(n,t,i){this._artifactsLoader=n;this._queueWaitMSec=t;this._maxBatchSize=i;this._cache={};this._queue=[];this._keyPoppedFromQueue={}}return n.prototype.getArtifactPromise=function(n){var t,r;return typeof this._cache[n]!="undefined"?t=this._cache[n]:(r=i.defer(),t=r.promise,this._cache[n]=t,this._queue.push({key:n,deferred:r}),this._keyPoppedFromQueue[n]=!1,this._delayProcessQueue(n)),t},n.prototype._delayProcessQueue=function(n){var t=this;setTimeout(function(){return t._processQueue(n)},this._queueWaitMSec)},n.prototype._processQueue=function(n){var t,i,r;if(!this._keyPoppedFromQueue[n])while(this._queue.length>0){for(i=this._maxBatchSize,this._queue.length<=i?(t=this._queue,this._queue=[]):(t=this._queue.slice(0,i),this._queue=this._queue.slice(i)),r=0;r<t.length;r++)this._keyPoppedFromQueue[t[r].key]=!0;this._processBatch(t)}},n.prototype._processBatch=function(n){var i=n.map(function(n){return n.key}),t=this._artifactsLoader(i);n.forEach(function(n){if(t.hasOwnProperty(n.key)){var i=t[n.key];i.then(function(t){n.deferred.resolve(t)},function(){n.deferred.reject.apply(n.deferred,arguments)})}else n.deferred.reject(new Error("Artifact was missing from results of batch load."))})},n}();t.ArtifactsCache=v});

define("WorkItemTracking/Scripts/Components/HtmlEditorLinkPlugin",["require","exports","Presentation/Scripts/TFS/TFS.Host.TfsContext","WorkItemTracking/Scripts/ActionUrls","VSS/Utils/Url","VSS/Utils/String","VSS/Artifacts/Services"],function(n,t,i,r,u,f,e){var o;Object.defineProperty(t,"__esModule",{value:!0});t.KeyDownPlugin=t.HtmlEditorLinkPlugin=void 0;var s="data-html-editor-org-href",h=/(<a\s+([^>]*\s+)?)(data\-html\-editor\-org\-href="([^"]*)")(\s?)([^>]*>)/gm,c=/^x-mvwit:workitem\/([0-9]+)$/,l=function(){function n(){var n=this,t;this._changeToClickable=function(t){var i=t.href;n.translateUrl(i,function(r){n.editor&&i!==r&&(t.href=r,t.setAttribute(s,i))})};t=i.TfsContext.getDefault().getActionUrl(null,"workitems");this._baseUrl="".concat(t,"/").concat(r.ActionUrl.ACTION_EDIT,"/")}return n.prototype.getName=function(){return"HtmlEditorLinkPlugin"},n.prototype.initialize=function(n){this.editor=n},n.prototype.onPluginEvent=function(n){var i=n.eventType===9,t;n.eventType===6||i?this.editor.queryElements("a[href]",this._changeToClickable):7&&(t=n,t.content=this._getOriginalContent(t.content))},n.prototype.dispose=function(){this.editor=null},n.prototype.translateUrl=function(n,t){var i=c.exec(n);if(i)return t("".concat(this._baseUrl).concat(i[1])),!0;if(f.startsWith(n,e.LinkingUtilities.VSTFS,f.ignoreCaseComparer))return u.getTranslatorService().beginTranslateUrl(n,null,function(n){return t(n)}),!0;t(n)},n.prototype._getOriginalContent=function(n){return n?n.replace(h,function(){for(var r,i,u,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return r=!!n[5],i=r?n[1]:n[1].slice(0,-1),i=i.replace(/href="[^"]*"/,'href="'.concat(n[4],'"')),u=n[6],"".concat(i).concat(u)}):n},n}();t.HtmlEditorLinkPlugin=l;o=function(){function n(n){this._keyDownEventHandler=n}return n.prototype.getName=function(){return"KeyDownPlugin"},n.prototype.dispose=function(){this._keyDownEventHandler=null},n.prototype.initialize=function(){},n.prototype.onPluginEvent=function(n){this._keyDownEventHandler&&n.eventType===0&&this._keyDownEventHandler(n.rawEvent)},n}();t.KeyDownPlugin=o});

define("WorkItemTracking/Scripts/Utils/CommentUtils",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Diag","VSS/Utils/Url","VSS/VSS","q"],function(n,t,i,r,u,f,e){function o(n){var t=n.getField(i.CoreField.History);return t.isDirty()}function s(n){return n.fieldDefinition.id===i.CoreField.AreaPath||n.fieldDefinition.id===i.CoreField.IterationPath}function h(n){var r,v,t,w,b,u,y;if(n===null||!o(n)||n.isNew())return e.reject(new Error("Incorrect state for saving comments"));n.fireWorkItemPreSave();n.fireWorkItemSaving();var k=n.getDirtyFields(),p=n.getLinkUpdates(),h={},c={},l={},a={};for(r=0,v=k;r<v.length;r++)t=v[r],w=t.fieldDefinition.id,s(t)&&(l[t.fieldDefinition.id]=t.getValue()),t.isUserChange()?h[t.fieldDefinition.id]=t.getValue():c[t.fieldDefinition.id]=t.getValue(),t.fieldDefinition.isIdentity&&(a[w]=t.status);return b=n.getFieldValue(i.CoreField.History),n.resetChanges(!0),n.setFieldValue(i.CoreField.History,b),u=e.defer(),y=function(t){var u,f,r,e;for(u in c)r=n.getField(u),(t||r.fieldDefinition.id!==i.CoreField.History)&&n.setFieldValue(r.fieldDefinition.id,c[u],!0);for(u in h)r=n.getField(u),(t||r.fieldDefinition.id!==i.CoreField.History)&&n.setFieldValue(r.fieldDefinition.id,h[u]);p!==null&&n._restoreLinkUpdates(p);n.evaluate();for(u in l)r=n.getField(u),n.setFieldValue(r.fieldDefinition.id,l[u]);for(f in a)r=n.getField(f),e=a[f],r.status=e,n.fireFieldChange([f])},f.using(["WorkItemTracking/Scripts/Utils/RelatedLinksUtils"],function(t){t.parseMentionsFromHtmlFields(n,!0);n.beginSilentSave().then(function(){y(!1);n.fireWorkItemSaved();n.fireWorkItemSaveComplete();u.resolve(null)},function(t){y(!0);n.setError(t);n.fireWorkItemSaveComplete();u.reject(t)})}),u.promise}function c(n){n.find("a").each(function(n,t){var i=$(t);u.isExternalUrl(i.attr("href"))&&i.attr({target:"_blank",rel:"noopener noreferrer"})})}Object.defineProperty(t,"__esModule",{value:!0});t.sanitizeExternalLinks=t.saveComments=t.hasCommentChanged=void 0;t.hasCommentChanged=o;t.saveComments=h;t.sanitizeExternalLinks=c});

define("WorkItemTracking/Scripts/Utils/VsUrlProcessor",["require","exports","Presentation/Scripts/TFS/TFS.Host.TfsContext"],function(n,t,i){function r(n){var u=n.html(),t=/x-mvwit:workitem\/([0-9]+)/.exec(u);if(t&&t.length>1){var f=t[1],r=i.TfsContext.getDefault(),e=r.getPublicActionUrl("edit","workitems",{parameters:+f,project:r.navigation.project||r.navigation.projectId,team:""});n.html(u.replace(new RegExp(t[0],"g"),e))}}Object.defineProperty(t,"__esModule",{value:!0});t.vsUrlprocessHtml=void 0;t.vsUrlprocessHtml=r});

define("WorkItemTracking/Scripts/Utils/RichTextPreRenderUtility",["require","exports","Mention/Scripts/TFS.Mention","VSS/VSS","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Utils/CommentUtils","WorkItemTracking/Scripts/Utils/VsUrlProcessor"],function(n,t,i,r,u,f,e){function h(n,t,i,u){return new Promise(function(o,s){r.using(["Mention/Scripts/TFS.Mention.WorkItems","Mention/Scripts/TFS.Mention.People","Mention/Scripts/TFS.Mention.PullRequest"],function(r,h,c){var l=$(n),a,v;r.WorkItemMentionProcessor.filterHtml(l);e.vsUrlprocessHtml(l);u&&f.sanitizeExternalLinks(l);c.PullRequestLinkProcessor.processHtml(l);a=h.PeopleMentionProcessor.processHtml(l,t);v=r.WorkItemMentionProcessor.processHtml(l,i);Promise.all([a,v]).then(function(){o(l.html())}).catch(function(n){return s(n)})},s)})}function o(n){return new Promise(function(t){var i=$("<div/>").append(n);r.using(["Mention/Scripts/TFS.Mention.WorkItems"],function(n){n.WorkItemMentionProcessor.filterHtml(i);t(i.html())})})}function c(n,t,i){o(n).then(function(n){var r=$(t);r.html(n);s(r,!0,i)})}function s(n,t,i){r.using(["Mention/Scripts/TFS.Mention.WorkItems","Mention/Scripts/TFS.Mention.People","Mention/Scripts/TFS.Mention.PullRequest"],function(r,u,o){u.PeopleMentionProcessor.processHtml(n,t);r.WorkItemMentionProcessor.processHtml(n,i);o.PullRequestLinkProcessor.processHtml(n);e.vsUrlprocessHtml(n);f.sanitizeExternalLinks(n)})}function l(n,t,i){return new Promise(function(u){r.using(["Mention/Scripts/TFS.Mention.WorkItems","Mention/Scripts/TFS.Mention.People","Mention/Scripts/TFS.Mention.PullRequest"],function(r,o,s){o.PeopleMentionProcessor.processHtmlBatch(n,t).then(function(n){u(n)});r.WorkItemMentionProcessor.processHtml(n,i);s.PullRequestLinkProcessor.processHtml(n);e.vsUrlprocessHtml(n);f.sanitizeExternalLinks(n)})})}function a(n){var f=[i.Constants.HTML_MENTION_ATTR_NAME,i.Constants.HTML_RENDERED_MENTION_ATTR_NAME],e=n.indexOf(i.Constants.HTML_RENDERED_MENTION_ATTR_NAME)>=0,t,r;return e&&f.push("class"),t=u.Field.normalizeHtmlValue(n,f,["height","white-space","word-wrap","float"]),e&&(r=$("<div/>").html(t),r.find("[class]").filter(function(){return $(this).closest("[".concat(i.Constants.HTML_RENDERED_MENTION_ATTR_NAME,"]")).length===0}).removeAttr("class"),t=r.html()),n.indexOf(i.Constants.HTML_MENTION_ATTR_NAME)!==-1&&(r=$("<div/>").html(t),r.find("a[".concat(i.Constants.HTML_MENTION_ATTR_NAME,"][href='']")).attr("href","#"),t=r.html()),t}Object.defineProperty(t,"__esModule",{value:!0});t.normalizeHtmlValue=t.richTextPreRenderProcessorWithPeopleMentions=t.richTextPreRenderProcessor=t.processHtmlWithMentions=t.richTextFilterContent=t.richTextFilterContentAndPreRender=void 0;t.richTextFilterContentAndPreRender=h;t.richTextFilterContent=o;t.processHtmlWithMentions=c;t.richTextPreRenderProcessor=s;t.richTextPreRenderProcessorWithPeopleMentions=l;t.normalizeHtmlValue=a});

define("WorkItemTracking/Scripts/Components/HtmlFieldsMentionsTelemetry",["require","exports","VSS/Telemetry/Services"],function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0});t.HtmlFieldsMentionsUsageTelemetryHelper=t.HtmlFieldsMentionsTelemetryConstants=void 0,function(n){n.Area="HtmlFieldsMentions";n.MentionRenderFail="MentionRenderFail"}(r=t.HtmlFieldsMentionsTelemetryConstants||(t.HtmlFieldsMentionsTelemetryConstants={})),function(n){function t(n){u(r.MentionRenderFail,{errorMessage:n})}function u(n,t){t===void 0&&(t={});i.publishEvent(new i.TelemetryEventData(r.Area,n,t))}n.publishMentionRenderFail=t}(u=t.HtmlFieldsMentionsUsageTelemetryHelper||(t.HtmlFieldsMentionsUsageTelemetryHelper={}))});

define("WorkItemTracking/Scripts/Components/HtmlEditorMentionPlugin",["require","exports","Mention/Scripts/TFS.Mention","WorkItemTracking/Scripts/Utils/RichTextPreRenderUtility","WorkItemTracking/Scripts/Components/HtmlFieldsMentionsTelemetry"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.HtmlEditorMentionPlugin=void 0;var f="MentionBegin",e="MentionEnd",o=new RegExp("<!--".concat(f,"-->.+?<!--(<a[^>]+>.+?<\/a>)--><!--").concat(e,"-->"),"gi"),s=function(){function n(){var n=this;this.onBlur=function(){n._hasFocus=!1;n._renderMentions()};this.onFocus=function(){n._hasFocus=!0;n._revertRenderedMentions()}}return n.prototype.getName=function(){return"HtmlEditorMentionPlugin"},n.prototype.initialize=function(n){this.editor=n;this._hasFocus=!1},n.prototype.onPluginEvent=function(n){if(n.eventType===9||n.eventType===6)this._renderMentions();else if(n.eventType===7){var t=n;t.content=this._getRawMentions(t.content)}},n.prototype.dispose=function(){this._disposer&&(this._disposer(),this._disposer=null);this.editor=null},n.prototype._renderMentions=function(){var n=this,t=this._getOriginalContent(),r=this._latestRenderedId=Date.now();t&&t.indexOf(i.Constants.HTML_MENTION_ATTR_NAME)!==-1&&this._runRichTextFilterContentAndPreRender(t,!1).then(function(t){n.editor&&r===n._latestRenderedId&&!n._hasFocus&&n.editor.setContent(t,!1)}).catch(function(n){return u.HtmlFieldsMentionsUsageTelemetryHelper.publishMentionRenderFail(n)})},n.prototype._revertRenderedMentions=function(){this.editor.setContent(this._getOriginalContent(),!1)},n.prototype._getRawMentions=function(n){return n.replace(o,"$1")},n.prototype._getOriginalContent=function(){return this._getRawMentions(this.editor.getContent(!1))},n.prototype._runRichTextFilterContentAndPreRender=function(n,t){var u=document.createElement("div"),o;return u.innerHTML=n,o=[].slice.call(u.querySelectorAll("a[".concat(i.Constants.HTML_MENTION_ATTR_NAME,"]"))),o.forEach(function(n){n.parentElement.insertBefore(document.createComment(f),n);n.parentElement.insertBefore(document.createComment(e),n.nextSibling);n.parentElement.insertBefore(document.createComment(n.outerHTML),n.nextSibling)}),r.richTextFilterContentAndPreRender(u,t,undefined,!1)},n}();t.HtmlEditorMentionPlugin=s});

define("WorkItemTracking/Scripts/Utils/HtmlUtil",["require","exports"],function(n,t){function i(n,t){if(n&&n.closest)return n.closest(t);while(n&&!(n.matches||n.msMatchesSelector).call(n,t))n=n.parentElement;return n}Object.defineProperty(t,"__esModule",{value:!0});t.closest=void 0;t.closest=i});

define("WorkItemTracking/Scripts/Components/HtmlEditor",["require","exports","Mention/Scripts/Resources/TFS.Resources.Mention","Mention/Scripts/TFS.Mention","OfficeFabric/Utilities","VSSUI/Util","react","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Telemetry/Services","VSS/Utils/Accessibility","VSS/Utils/Html","VSS/Utils/UI","VSS/VSS","WorkItemTracking/Scripts/Components/HtmlEditorLinkPlugin","WorkItemTracking/Scripts/Components/HtmlEditorMentionPlugin","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Utils/HtmlUtil","WorkItemTracking/Scripts/Utils/RichTextPreRenderUtility","WorkItemTracking/Scripts/Components/HtmlFieldsMentionsTelemetry","VSS/LoaderPlugins/Css!fabric","VSS/LoaderPlugins/Css!WorkItemTracking/Components/HtmlEditor"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){function oi(n,t,i,r){if(!i.onPluginEvent||!i.willHandleEventExclusively)return!1;var f=i.getName()||i.constructor.name,e=n.eventType,u;return st("".concat(f,"_EVENT").concat(e,"_EXCLUSIVE"),t,r,function(){u=i.willHandleEventExclusively(n)}),u&&st("".concat(f,"_EVENT").concat(e),t,r,function(){return i.onPluginEvent(n)}),u}function st(n,t,i,r){if(!i||!i.mark)return r();var u="".concat(n,"_").concat(t),f="".concat(u,"_S"),e="".concat(u,"_E");i.mark(f);r();i.mark(e);try{i.measure(u,f,e);i.clearMarks(f);i.clearMarks(e)}catch(o){}}var it;Object.defineProperty(t,"__esModule",{value:!0});t.HtmlEditor=void 0;var rt="HtmlEditor",ni="ToolbarButtonClick",ti="ShortcutCommand",ii="CreateHtmlEditor",ri="SetContent",ui=a.KeyUtils.shouldUseMetaKeyInsteadOfControl()?s.CommandClickToOpen:s.CtrlClickToOpen,bt=!0,kt="html-editor-img-placeholder",dt=":not(.".concat(kt,")"),ht={attributeCallbacks:(it={"class":function(n,t){var i=b.closest(t,"[".concat(r.Constants.HTML_RENDERED_MENTION_ATTR_NAME,"]"));return i?n:undefined},style:function(n){return n.replace("background-color: rgb(255, 255, 255);","").replace("color: rgb(0, 0, 0);","")}},it[r.Constants.HTML_MENTION_ATTR_NAME]=function(n){return n},it[r.Constants.HTML_RENDERED_MENTION_ATTR_NAME]=function(n){return n},it)},gt=function(n){var i=n.nativeEvent.dataTransfer,r,t;if(i&&i.types&&(r="Files",t=i.types,t.indexOf&&t.indexOf(r)>=0||t.contains&&t.contains(r))){n.preventDefault();try{i.dropEffect="none"}catch(u){}return!1}},fi=["WorkItemTracking/Scripts/Components/HtmlEditor.Emoji.Strings"],ct="RoosterReact/rooster-react-amd",lt="WorkItemTracking/Scripts/Components/HtmlEditor.Strings",at="WorkItemTracking/Scripts/Components/HtmlEditorLinkPlugin",vt="WorkItemTracking/Scripts/Components/HtmlEditorMentionPlugin",yt="WorkItemTracking/Scripts/Components/HtmlEditorEscapeCodeBlockPlugin",pt="WorkItemTracking/Scripts/Components/HtmlEditorTabToNextFocusableElementPlugin",wt="Mention/Scripts/TFS.Social.RichText.Autocomplete",g=null,nt=null,ut=null,ft=null,et=null,ot=null,tt=null,ei=function(t){function r(i){var f=__construct(this,t,[i]),s,l;for(s in f)f.hasOwnProperty(s)&&(this[s]=f[s]);f._id=r._nextId++;f._async=new u.Async;f._htmlEditorRef=e.createRef();f.refreshCommandBar=f._async.debounce(function(){return f._commandBar&&f._commandBar.forceUpdate()},100,{trailing:!0});f._publishEmojiFromKeyboardTelemetry=function(){f._publishShortcutCommandTelemetry("Emoji")};f._onButtonClicked=function(n){n==g.RoosterCommmandBarButtonKeys.InsertImage&&(f._preventBlurForInsertImage=!0);f._publishToolbarTelemetry(n)};f._publishShortcutCommandTelemetry=function(n){var t=(f.props.telemetryContext||{}).controlName;h.publishEvent(new h.TelemetryEventData(rt,ti,{controlName:t,command:n}))};f._handleContentChanged=function(n,t){if(t===void 0&&(t=!1),f._tryUpdateState(n,t)&&f.props.onChange)f.props.onChange(f.isEmpty()?"":n)};f._updateViewState=function(n,t,i){f._throttledOnContentChanged(t,i)};f._focusOutShellAllowMouseDown=function(n){var t=f._leanRoosterContentDiv&&f._leanRoosterContentDiv.contains(n);return!t&&f._autocompleteControl&&f._autocompleteControl.closeActiveAutocomplete(),t};f._focusOutShellOnFocus=function(){var n=f.props,r=n.height,t=n.onFocus,u=n.editOnlyMode,e=n.preventShrinkOnBlur,i;f._commandBarPlugin.registerRoosterCommandBar(f._commandBar);f._leanRooster&&!u&&(f.mode=1,i=r==null,e&&i&&f.setState({defaultHeight:null}));t&&t()};f._leanRoosterOnFocus=function(){var r=f.props,u=r.helpText,e=r.mentionsDecorationsEnabled,n,i,t;u&&f._leanRooster&&f._leanRooster.hasPlaceholder()&&c.announce(u,!0);e&&!f.state.readonly&&f._mentionPlugin.onFocus();f._resetCaret&&(f._resetCaret=!1,n=f._leanRoosterContentDiv.firstChild,n&&(i=window.getSelection(),t=document.createRange(),t.setStart(n,0),t.setEnd(n,0),i.removeAllRanges(),i.addRange(t)))};f._onHyperlinkClick=function(n){var t=n.getAttribute("href");return f._leanRooster.mode!==0||!t?!1:(f._linkPlugin.translateUrl(t,function(n){try{window.open(n,"_blank")}catch(t){}}),!0)};f._focusOutShellOnBlur=function(){var n=f.props,e=n.height,r=n.onBlur,o=n.editOnlyMode,s=n.preventShrinkOnBlur,h=n.mentionsDecorationsEnabled,u,t,i;f._leanRooster&&!o&&(f.mode=0,f._imageResizePlugin.hideResizeHandle(),u=e==null,t=f._htmlEditorRef.current,s&&u&&t&&(i=t.getBoundingClientRect().height,i>0&&f.setState({defaultHeight:i})));r&&r();h&&!f.state.readonly&&f._mentionPlugin.onBlur()};f._shouldCallBlur=function(n,t){return f._preventBlurForInsertImage?(f._preventBlurForInsertImage=!1,!1):t(n)};f._leanRoosterOnRef=function(n){f._leanRooster=n;f._endCreateScenario();var t=f.props.onEditorInitialized;t&&t()};f._leanRoosterContentDivOnRef=function(n){f._leanRoosterContentDiv=n;f.props.mentionsEnabled&&!f.state.readonly&&f._setupAutocomplete();f._loadEmojiStrings()};f._commandBarOnRef=function(n){f._commandBar=n};f._hyperlinkToolTipCallback=function(n){return n.replace(location.href,"")==="#"?"":f.hasFocus()?"".concat(n,"\n").concat(ui):null};f._onMentionSelect=function(){return f._throttledOnContentChanged(f._leanRooster.getContent())};f._triggerEventWithUserTiming=function(n,t,i){var e=t.eventType,r=n.document.defaultView.performance,o=(f.props.telemetryContext||{}).controlName||"",u="".concat(o,"_").concat(f._id);st("TOTAL_TIME_EVENT".concat(e),u,r,function(){(i||!n.plugins.some(function(n){return oi(t,u,n,r)}))&&n.plugins.forEach(function(n){var i=n.getName()||n.constructor.name;n.onPluginEvent&&st("".concat(i,"_EVENT").concat(e),u,r,function(){return n.onPluginEvent(t)})})})};f._throttledOnContentChanged=f._async.throttle(f._handleContentChanged,100,{trailing:!0});var a=!1,p=i.htmlContent,w=i.readonly,b=i.hidden,k=i.fullScreen,d=i.forceDelayLoad,it=i.height,v=i.mentionsDecorationsEnabled,y=i.mentionsEnabled;return f._viewState={content:p,isDirty:!1},f._coreApiOverride=o.getDebugMode()?{triggerEvent:f._triggerEventWithUserTiming}:undefined,l=function(n){f._createAdditionalEditorPlugins();f._initializeButtonOverrides();f._creationStartTime=Date.now();a=!0;var t=f._viewState;t.content=g.HtmlSanitizer.sanitizeHtml(t.content,ht);n||f._disposing||f.setState({moduleLoaded:a})},n.defined(ct)&&n.defined(lt)&&n.defined(at)&&n.defined(yt)&&n.defined(pt)&&(!v||n.defined(vt))&&(!y||n.defined(wt))?(g=n(ct),nt=n(lt),ut=n(at),et=n(yt),ot=n(pt),ft=v?n(vt):null,tt=y?n(wt):null,d?setTimeout(function(){return l(!1)},0):l(!0)):f._ensureRoosterModule().then(function(){return l(!1)}),f.state={readonly:w,hidden:b,fullScreen:k,moduleLoaded:a,defaultHeight:it},f}return __extends(r,t),r.prototype.render=function(){var n=this.props,r=n.className,u=n.editOnlyMode,t=n.height,i=t===void 0?this.state.defaultHeight:t;return e.createElement("div",{className:f.css("html-editor",r,{"is-hidden":this.state.hidden,"full-screen":this.state.fullScreen,"auto-grow":i==null,"edit-only-mode":u}),style:{height:i},ref:this._htmlEditorRef},this._renderRoosterEditor())},r.prototype.componentWillReceiveProps=function(n){var t=n.readonly;t!==this.props.readonly&&t!==this.state.readonly&&this.setState({readonly:t})},r.prototype.componentDidMount=function(){this._leanRooster&&this.props.editOnlyMode&&(this.mode=1);this.props.autoFocus&&this.focus();this._endCreateScenario()},r.prototype.setContent=function(n,t){var r,u,f,e;t===void 0&&(t=!1);var i=this.props,o=i.height,s=i.preventShrinkOnBlur,c=Date.now(),l=g&&!t?g.HtmlSanitizer.sanitizeHtml(n,ht):n;this._tryUpdateState(l)&&this._leanRooster&&(this._leanRooster.reloadContent(!0,!1),r=this._leanRooster.getContent(),this._undoPlugin.reset(r));this._renderContentOnReadOnly();u=o==null;s&&u&&this.setState({defaultHeight:null});g&&(f=(this._viewState.content||"").length,e=Date.now()-c,h.publishEvent(new h.TelemetryEventData(rt,ri,{elapsedTime:e,contentLength:f})))},Object.defineProperty(r.prototype,"isDirty",{get:function(){return this._viewState.isDirty},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"htmlContent",{get:function(){return this._viewState.content},enumerable:!1,configurable:!0}),r.prototype.focus=function(n){if(this._leanRooster&&(this._leanRoosterContentDiv.dispatchEvent(new Event("focus")),this._leanRooster.focus(),n&&this._leanRoosterContentDiv)){var t=this._leanRoosterContentDiv;if(t.scrollIntoViewIfNeeded){t.scrollIntoViewIfNeeded();return}this._leanRoosterContentDiv.scrollIntoView()}},r.prototype.resetScroll=function(){this._leanRoosterContentDiv&&this._leanRoosterContentDiv.firstChild&&(this._resetCaret=!0,this._leanRoosterContentDiv.scrollTop=0)},r.prototype.selectAll=function(){this._leanRooster&&this._leanRooster.selectAll()},r.prototype.flushChanges=function(){if(this._leanRooster){var n=this._leanRooster.getContent();this._handleContentChanged(n)}},r.prototype.hasFocus=function(){return this._leanRooster&&this.mode===1},r.prototype.isEmpty=function(){return this._leanRooster&&this._leanRooster.isEmpty()},r.prototype.setEnabled=function(n){this.setState({readonly:!n})},r.prototype.setVisible=function(n){this.setState({hidden:!n})},r.prototype.setFullScreen=function(n){this.setState({fullScreen:n})},Object.defineProperty(r.prototype,"mode",{get:function(){return this._leanRooster.mode},set:function(n){this._leanRooster.mode=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"editableElement",{get:function(){return this._leanRoosterContentDiv},enumerable:!1,configurable:!0}),r.prototype.componentWillUnmount=function(){this._disposing=!0;var n=this._leanRoosterContentDiv;n&&(this._leanRoosterContentDiv=null,this._emojiPlugin=null,this._autocompleteControl&&(n.removeEventListener(this._autoCompleteSelectedEventName,this._onMentionSelect),this._autocompleteControl.cleanUpEditor(n),this._autocompleteControl=null));this._async&&(this._async.dispose(),this._async=null)},r.prototype._renderRoosterEditor=function(){var n=this;if(!this.state.moduleLoaded)return this._asynchronouslyLoaded=!0,null;var t=this.props,i=t.showChromeBorder,r=t.placeholder,u=t.ariaLabel,o=t.activateRoosterOnMount,s=t.trimWithEmptyCheck,h=t.mentionsDecorationsEnabled,c=g.FocusOutShell,l=g.LeanRooster,a=g.RoosterCommandBar,v=nt.All,y=nt.CommandBarLocaleStrings;return this._renderContentOnReadOnly(),e.createElement(c,{className:f.css("rooster-wrapper",{"with-chrome":i}),allowMouseDown:this._focusOutShellAllowMouseDown,onBlur:this._focusOutShellOnBlur,onFocus:this._focusOutShellOnFocus,shouldCallBlur:this._shouldCallBlur},function(t,i){return n._createPluginsWithCallout(t,i),[e.createElement(l,{key:"rooster",className:f.css("rooster-editor","propagate-keydown-event","text-element"),viewState:n._viewState,plugins:n._editorPlugins,undo:n._undoPlugin,ref:n._leanRoosterOnRef,updateViewState:n._updateViewState,contentDivRef:n._leanRoosterContentDivOnRef,readonly:n.state.readonly,placeholder:r,hyperlinkToolTipCallback:n._hyperlinkToolTipCallback,onFocus:n._leanRoosterOnFocus,onDragEnter:gt,onDragOver:gt,"aria-label":u,activateRoosterOnMount:o,activateInViewMode:h,coreApiOverride:n._coreApiOverride,sanitizeAttributeCallbacks:ht.attributeCallbacks,trimWithEmptyCheck:s,onHyperlinkClick:n._onHyperlinkClick,clickOpenHyperlinkViewMode:!0}),e.createElement(a,{key:"cmd",className:"rooster-command-bar",commandBarClassName:"html-command-bar-base",buttonOverrides:n._buttonOverrides,roosterCommandBarPlugin:n._commandBarPlugin,emojiPlugin:n._emojiPlugin,imageManager:n._imageManager,calloutClassName:f.css("rooster-callout",t),calloutOnDismiss:i,strings:y,ref:n._commandBarOnRef,onButtonClicked:n._onButtonClicked,disableListWorkaround:bt,overflowMenuProps:{className:"rooster-command-bar-overflow"},ellipsisAriaLabel:v.Toolbar_More,tooltipDirectionHint:5})]})},r.prototype._createPluginsWithCallout=function(n,t){var r=nt.CommandBarLocaleStrings,i=nt.SearchForEmoji,u=g.RoosterCommandBarPlugin,e=g.EmojiPlugin;this._emojiPlugin||(this._emojiPlugin=new e({calloutClassName:f.css(n,"rooster-emoji-callout"),calloutOnDismiss:t,emojiPaneProps:{quickPickerClassName:"rooster-emoji-quick-pick",navBarProps:{className:"rooster-emoji-navbar",buttonClassName:"rooster-emoji-navbar-button",iconClassName:"rooster-emoji-navbar-icon",selectedButtonClassName:"rooster-emoji-navbar-selected"},statusBarProps:{className:"rooster-emoji-status-bar"},emojiIconProps:{className:"rooster-emoji-icon",selectedClassName:"rooster-emoji-selected"},searchPlaceholder:i,searchInputAriaLabel:i},onKeyboardTriggered:this._publishEmojiFromKeyboardTelemetry,strings:{emjDNoSuggetions:w.NoSuggestionsFound}}),this._editorPlugins.push(this._emojiPlugin));this._commandBarPlugin||(this._commandBarPlugin=new u({strings:r,onShortcutTriggered:this._publishShortcutCommandTelemetry,disableListWorkaround:bt,calloutClassName:n,calloutOnDismiss:t}),this._editorPlugins.push(this._commandBarPlugin))},r.prototype._ensureRoosterModule=function(){var i=this.props,t=i.mentionsDecorationsEnabled,n=i.mentionsEnabled;return new Promise(function(i){if(g&&nt&&ut&&et&&ot&&(!t||ft)&&(!n||tt)){i();return}var r=[ct,lt,at,yt,pt];t&&r.push(vt);n&&r.push(wt);v.using(r,function(r,u,f,e,o,s,h){g=r;nt=u;ut=f;et=e;ot=o;t?(ft=ft||s,n&&(tt=tt||h)):n&&(tt=tt||s);i()},v.handleError)})},r.prototype._initializeButtonOverrides=function(){var t=nt.All,u=!!this.props.uploadImageHandler,n=g.RoosterCommmandBarButtonKeys,r="html-command-bar-button";this._buttonOverrides=[{key:n.Bold,order:0},{key:n.Italic,order:1},{key:n.Underline,order:2},{key:n.BulletedList,order:3},{key:n.NumberedList,order:4},{key:n.Highlight,order:5,subMenuPropsOverride:{ariaLabel:t.HighlightColorPicker_AriaLabel}},{key:n.FontColor,order:6,subMenuPropsOverride:{ariaLabel:t.FontColorPicker_AriaLabel}},{key:n.Emoji,order:7,buttonClassName:f.css("rooster-emoji-button",r)},{key:n.Outdent,order:8},{key:n.Indent,order:9},{key:n.Strikethrough,order:10},{key:n.Header,order:11,subMenuPropsOverride:{ariaLabel:t.HeaderMenu_AriaLabel}},{key:n.Code,order:12},{key:n.ClearFormat,order:16},{key:n.InsertImage,order:17,exclude:!u},{key:n.Link,order:18},{key:n.Unlink,order:19}];this.props.mentionsEnabled&&(this._buttonOverrides.push({key:nt.CustomButtonKeys.AtMention,name:i.MentionSomeone,iconProps:{iconName:"Accounts"},onRender:g.getIconOnRenderDelegate(),handleChange:this._createMentionButttonHandler("@"),order:13}),this._buttonOverrides.push({key:nt.CustomButtonKeys.HashMention,name:i.MentionWorkItem,iconProps:{iconName:"NumberSymbol"},onRender:g.getIconOnRenderDelegate(),handleChange:this._createMentionButttonHandler("#"),order:14}),this._buttonOverrides.push({key:nt.CustomButtonKeys.PRMention,name:i.MentionPR,iconProps:{iconName:"BranchPullRequest"},onRender:g.getIconOnRenderDelegate(),handleChange:this._createMentionButttonHandler("!"),order:15}));this._buttonOverrides.forEach(function(n){n.className=n.className||"html-command-button-root";n.buttonClassName=n.buttonClassName||r})},r.prototype._createMentionButttonHandler=function(n){var t=this;return function(i){t._autocompleteControl.closeActiveAutocomplete();var r=i.getSelection(),u=r&&r.focusNode&&/\s/.test(r.focusNode.textContent.substr(-1));i.insertContent(u?n:" ".concat(n));i.triggerContentChangedEvent("Mentions");t._autocompleteControl.suggest(t._leanRoosterContentDiv)}},r.prototype._createAdditionalEditorPlugins=function(){var n=this.props,t=n.uploadImageHandler,i=n.onKeyDown,u=n.mentionsDecorationsEnabled,f=g.ImageManager,e=g.UndoWithImagePlugin,o=g.ContentChangedPlugin,s=g.ImageResize,h=g.TableResize,c=g.PasteImagePlugin,l=g.DoubleClickImagePlugin,a=g.IgnorePasteImagePlugin,r;this._imageManager=new f({uploadImage:t,placeholderImageClassName:kt,fallbackAltValue:nt.All.ImageDefaultAltText});this._undoPlugin=new e(this._imageManager);this._imageResizePlugin=new s(undefined,undefined,undefined,undefined,dt);this._linkPlugin=new ut.HtmlEditorLinkPlugin;r=!!t;this._editorPlugins=[new o(this._throttledOnContentChanged),this._imageResizePlugin,new h,r?new c(this._imageManager):a.Instance,new l(dt),this._linkPlugin,new et.HtmlEditorEscapeCodeBlockPlugin,new ot.HtmlEditorTabToNextFocusableElementPlugin];u&&(this._mentionPlugin=new p.HtmlEditorMentionPlugin,this._editorPlugins.push(this._mentionPlugin));i&&(this._shortcutPlugin=new y.KeyDownPlugin(i),this._editorPlugins.push(this._shortcutPlugin))},r.prototype._tryUpdateState=function(n,t){t===void 0&&(t=!1);n=l.Utils.isEmpty(n)?"":n;var i=this._viewState;return n!==i.content?(i.content=n,i.isDirty=!0,!t):!1},r.prototype._renderContentOnReadOnly=function(){var t=this,n;this.state.readonly&&this.props.mentionsDecorationsEnabled&&(n=document.createElement("div"),n.innerHTML=this._viewState.content,k.richTextFilterContentAndPreRender(n,!1).then(function(n){t._leanRoosterContentDiv&&(t._leanRoosterContentDiv.innerHTML=n)}).catch(function(n){return d.HtmlFieldsMentionsUsageTelemetryHelper.publishMentionRenderFail(n)}))},r.prototype._endCreateScenario=function(){if(this._creationStartTime){var n=(this._viewState.content||"").length,t=!!this._asynchronouslyLoaded,i=Date.now()-this._creationStartTime;h.publishEvent(new h.TelemetryEventData(rt,ii,{elapsedTime:i,contentLength:n,asyncLoaded:t}));this._creationStartTime=null}},r.prototype._publishToolbarTelemetry=function(n){var t=(this.props.telemetryContext||{}).controlName;h.publishEvent(new h.TelemetryEventData(rt,ni,{controlName:t,command:n}))},r.prototype._setupAutocomplete=function(){var n=this.props.mentionsEnabled;this._leanRoosterContentDiv&&tt&&n&&(this._autocompleteControl=tt.RichTextAutocompleteControl.getInstance(),this._autocompleteControl.attachToEditable(this._leanRoosterContentDiv),this._autoCompleteSelectedEventName=tt.RichTextAutocompleteControl.SELECTED_EVENT_NAME,this._leanRoosterContentDiv.addEventListener(this._autoCompleteSelectedEventName,this._onMentionSelect))},r.prototype._loadEmojiStrings=function(){var n=this;v.using(fi,function(t){return n._emojiPlugin&&n._emojiPlugin.setStrings(t.EmojiLocaleStrings)})},r._nextId=0,r}(e.PureComponent);t.HtmlEditor=ei});

define("WorkItemTracking/Scripts/Utils/ImageUploader",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Diag","WorkItemTracking/Scripts/TFS.WorkItemTracking.WebApi","VSS/Utils/String","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u,f,e){function h(n){var t=new RegExp("^.*("+s.join("|")+")$");return t.test(n.toLowerCase())}function c(){return f.format(e.InsertImageInvalidFileType,s.join(", "))}Object.defineProperty(t,"__esModule",{value:!0});t.getInvalidFileTypeMessage=t.isValidFileType=t.ImageUploader=void 0;var o=25e6,s=["jpg","jpeg","png","bmp","gif","tif","tiff"],l={"image/jpg":"jpg","image/jpeg":"jpg","image/png":"png","image/bmp":"bmp","image/gif":"gif","image/tif":"tif","image/tiff":"tif"},a=function(){function n(){}return n.prototype.setWorkItem=function(n){this._workItem=n},n.prototype.upload=function(n,t){var f=this;return new Promise(function(e,s){var a,y;r.Debug.assert(f._workItem!=null,"Associated workitem not specified");try{if(!n||!h(n.type)){a=c();alert(a);s(a);return}var p=f._workItem.store.tfsConnection.getHttpClient(u.WorkItemTrackingHttpClient),w=t?undefined:f._workItem.getComputedFieldValue(i.CoreField.AreaPath).value,b=function(){return!0},v=void 0;typeof n.slice=="function"&&n.size>o&&(v=o);y=n.name||"image.".concat(l[n.type]||"png");p.beginAttachmentUpload(f._workItem.project.guid,n,w,v,b,y).then(function(n){e(n.url)},s)}catch(k){s(k)}})},n}();t.ImageUploader=a;t.isValidFileType=h;t.getInvalidFileTypeMessage=c});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/TextAdapters/RichTextAdapter",["require","exports","react","react-dom","VSS/Utils/String","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemControl","WorkItemTracking/Scripts/Components/HtmlEditor","WorkItemTracking/Scripts/Utils/ImageUploader","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Utils/WitControlMode"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.RichTextAdapter=void 0;var c={controlName:"RichTextAdapter"},l=function(){function n(n,t){var i=this;this._containerElement=n;this._options=t;this._onChange=function(){i._options.change()};this._imageUploader=new o.ImageUploader;this._createHtmlControl()}return n.prototype.setValue=function(n,t){n===""&&t===f.WorkItemControlEditState.WorkItemReadOnly?this.hide():(this.show(),this._control?this._control.setContent(n):this._lastContent=n)},n.prototype.getValue=function(){return this._control?this._control.htmlContent:null},n.prototype.setEnabled=function(n){this._control&&this._control.setEnabled(n)},n.prototype.unbind=function(n){n||this._control&&this._control.resetScroll()},n.prototype.setInvalid=function(){},n.prototype.setUploadAttachmentApiLoc=function(){},n.prototype.setWorkItem=function(n){this._imageUploader.setWorkItem(n)},n.prototype.selectText=function(){this._control&&this._control.selectAll()},n.prototype.focus=function(){this._control&&this._control.focus()},n.prototype.setFullScreen=function(n){this._control&&this._control.setFullScreen(n)},n.prototype.clear=function(){this._control&&this._control.setContent("")},n.prototype.flushChanges=function(){this._control&&this._control.flushChanges()},n.prototype.dispose=function(){this._control&&(r.unmountComponentAtNode(this._containerElement),this._control=null)},n.prototype.show=function(){this._control&&this._control.setVisible(!0)},n.prototype.hide=function(){this._control&&this._control.setVisible(!1)},n.prototype.invalidate=function(){},n.prototype.refreshCommandBar=function(){this._control&&this._control.refreshCommandBar()},n.prototype._createHtmlControl=function(){var n=this,t=this._options,f=t.ariaLabel,a=t.showChromeBorder,o=t.emptyText,l=o?o:f?u.format(s.HtmlFieldPlaceholder,f):"";r.render(i.createElement(e.HtmlEditor,{htmlContent:"",ref:function(t){t&&!n._control&&n._lastContent!=null&&(t.setContent(n._lastContent),n._lastContent=null);n._control=t},activateRoosterOnMount:h.isHtmlFieldsMentionsEnabled(),mentionsEnabled:h.isHtmlFieldsMentionsEnabled(),mentionsDecorationsEnabled:h.isHtmlFieldsMentionsEnabled(),onChange:this._onChange,uploadImageHandler:this._imageUploader.upload.bind(this._imageUploader),helpText:l,placeholder:l,telemetryContext:c,showChromeBorder:a,ariaLabel:f,forceDelayLoad:!0,height:h.WitFormModeUtility.isMobileForm?"100%":undefined}),this._containerElement)},n}();t.RichTextAdapter=l});

define("WorkItemTracking/Scripts/Utils/WindowHelper",["require","exports"],function(n,t){function i(n){return n!=null&&n===n.window}Object.defineProperty(t,"__esModule",{value:!0});t.isWindow=void 0;t.isWindow=i});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/HtmlFieldControl",["require","exports","VSS/Controls","VSS/Diag","VSS/VSS","VSS/Utils/Core","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Controls/WorkItemForm/MaximizableWorkItemControl","WorkItemTracking/Scripts/Controls/WorkItemForm/TextAdapters/MultiLineTextAdapters","WorkItemTracking/Scripts/Controls/WorkItemForm/TextAdapters/RichTextAdapter","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemControl","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Utils/WindowHelper","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function b(n){var t=f.parseIntArray(n);return!t||t.length!=2?null:{width:t[0],height:t[1]}}var w,p;Object.defineProperty(t,"__esModule",{value:!0});t.HtmlFieldControl=void 0;w=f.delegate;p=function(n){function t(t,i,r){var u=__construct(this,n,[t,i,r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._onWorkItemChangedDelegate=w(u,u._onWorkItemChanged),u}return __extends(t,n),t.prototype.invalidate=function(t){var i=this._getFieldTextValue(),r=this.getEditState();t||(n.prototype.invalidate.call(this,t),this._controlAdapter.setValue(i,this.getEditState()),this._controlAdapter.setEnabled(!this.isReadOnly()),this._controlAdapter.invalidate(),this._updateImageUploadLocation(),i===""&&r===c.WorkItemControlEditState.WorkItemReadOnly?(this._controlAdapter.hide(),this._noValueReadOnlyLabel||(this._noValueReadOnlyLabel=$('<label class="zero-data-read-only-label"><\/label>').text(y.format(a.NoValueForMultiLineControl,this._options.groupLabel||this._getField().fieldDefinition.name)),this._container.append(this._noValueReadOnlyLabel))):this._noValueReadOnlyLabel&&(this._noValueReadOnlyLabel.remove(),this._noValueReadOnlyLabel=null));this._controlAdapter.setInvalid(!this.getFieldIsValid())},t.prototype._init=function(){var o=this,u,r;n.prototype._init.call(this);u=this._getFieldType();r=t.DEFAULT_SIZE;this._options.minimumSize&&(r=b(this._options.minimumSize)||r);var c=this.getFieldDefinition(this._fieldName),l=c?c.name:"",f={controlId:this._options.controlId,change:function(){o.flush()},height:Math.max(t.MINIMUM_SIZE.height,r.height),ariaLabel:this._options.ariaLabel||l,disableViewPortScaling:this._options.fullScreen,enableSingleClickImageOpen:this._options.fullScreen,noToolbar:this._options.fullScreen,fullScreen:this._options.fullScreen,emptyText:this._options.emptyText,showChromeBorder:this._options.chromeBorder};this._options.height&&(f.height=this._options.height);this._options.fullScreen&&this._container.addClass("fullscreen");u===e.FieldType.Html||u===e.FieldType.History?(this._container.addClass("html-editor-container"),this._controlAdapter=new h.RichTextAdapter(this._container[0],f),this._windowResizeEventHandler=function(n){if(!v.isWindow(n.target)){var t=o._controlAdapter;t.refreshCommandBar()}},$(window).resize(this._windowResizeEventHandler)):this._controlAdapter=i.BaseControl.createIn(s.PlainTextControlAdapter,this._container,f)},t.prototype._createMaximizedWorkItemControl=function(n,i,r){return i.height="100%",new t(n,i,r)},t.prototype._onMaximized=function(){this._controlAdapter.setFullScreen&&this._controlAdapter.setFullScreen(!0);this._controlAdapter.selectText(!0)},t.prototype._onRestored=function(){this._controlAdapter.setFullScreen&&this._controlAdapter.setFullScreen(!1);this._controlAdapter.selectText(!0)},t.prototype.maximizeInPlace=function(){this._controlAdapter&&this._controlAdapter.setFullScreen&&this._controlAdapter.setFullScreen(!0)},t.prototype.restoreInPlace=function(){this._controlAdapter&&this._controlAdapter.setFullScreen&&this._controlAdapter.setFullScreen(!1)},t.prototype._getControlValue=function(){return this._controlAdapter.getValue()},t.prototype.bind=function(t,i){n.prototype.bind.call(this,t,i);this._workItem&&this._workItem.attachWorkItemChanged(this._onWorkItemChangedDelegate)},t.prototype.unbind=function(t){this._workItem&&this._workItem.detachWorkItemChanged(this._onWorkItemChangedDelegate);this.suppressInvalidate||this._controlAdapter.flushChanges();this._controlAdapter.setInvalid(!1);this._controlAdapter.unbind(t);n.prototype.unbind.call(this,t)},t.prototype.focus=function(){this._controlAdapter.focus()},t.prototype.clear=function(){this._controlAdapter.clear()},t.prototype.flush=function(t,i){if(this._controlAdapter instanceof s.PlainTextControlAdapter){n.prototype.flush.call(this);return}this._smartFlush(t,i)},t.prototype.getFieldIsValid=function(){var n=this._getField();return n?n.isValid():!0},t.prototype.dispose=function(){this._controlAdapter&&(this._windowResizeEventHandler&&$(window).off("resize",this._windowResizeEventHandler),this._controlAdapter.dispose(),this._controlAdapter=null);n.prototype.dispose.call(this)},t.prototype._onBeforeRestore=function(){this._controlAdapter&&this._controlAdapter.flushChanges();n.prototype._onBeforeRestore.call(this)},t.prototype._onWorkItemChanged=function(n,t){t&&t.change===l.WorkItemChangeType.PreSave&&this._controlAdapter?this._controlAdapter.flushChanges():t&&t.change===l.WorkItemChangeType.FieldChange&&this._controlAdapter&&t.changedFields[e.CoreField.AreaId]&&this._updateImageUploadLocation()},t.prototype._updateImageUploadLocation=function(){this._controlAdapter.setWorkItem(this._workItem)},t.DEFAULT_SIZE={width:200,height:250},t.MINIMUM_SIZE={width:200,height:50},t}(o.MaximizableWorkItemControl);t.HtmlFieldControl=p;u.initClassPrototype(p,{_controlAdapter:null})});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/DateTimeControl",["require","exports","q","VSS/VSS","WorkItemTracking/Scripts/Controls/WorkItemForm/TextWorkItemControl","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemControl","VSS/Utils/Culture"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.DateTimeControl=void 0;var o=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t.prototype._init=function(){n.prototype._init.call(this);this._control=new u.TextWorkItemControl(this,{dropSourceGeneratorAsync:function(){return i([])}},{type:"date-time",dateTimeFormat:"".concat(e.getDateTimeFormat().ShortDatePattern," ").concat(e.getDateTimeFormat().ShortTimePattern)})},t.prototype.invalidate=function(t){n.prototype.invalidate.call(this,t);this._control.invalidate(t,this._getField())},t.prototype._getControlValue=function(){return this._control.getValue()},t.prototype.clear=function(){this._control.clear()},t.prototype.bind=function(t,i){if(n.prototype.bind.call(this,t,i),t)this._control.onBind(t)},t.prototype.unbind=function(t){this._workItem&&this._control.onUnbind();n.prototype.unbind.call(this,t)},t}(f.WorkItemControl);t.DateTimeControl=o;r.initClassPrototype(o,{_control:null})});

define("WorkItemTracking/Scripts/MruClassificationPicker/Components/WorkItemClassificationPickerWrapper",["require","exports","react","WorkItemTracking/Scripts/MruClassificationPicker/Components/MruClassificationPicker","OfficeFabric/Utilities","VSSUI/Util","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/OM/WorkItemConstants","VSS/Utils/String","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemClassificationPickerWrapper=void 0;var l=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._resolveClassificationPicker=function(n){i._classificationPicker=n},i.state={workItem:null,selectedValue:"",tree:null},i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){this._updateComponentRef(this.props,n)},t.prototype.componentDidMount=function(){this._updateComponentRef(undefined,this.props)},t.prototype.render=function(){if(!this.state.workItem)return null;var n=f.css("workitem-classification-picker",{invalid:this.state.invalid},{readonly:this.state.readOnly});return i.createElement(r.MruClassificationPicker,{componentRef:this._resolveClassificationPicker,containerClassName:n,calloutClassName:"workitem-classification-picker-dropdown",dropdownItemHeight:t._itemHeight,dropdownItemIndentWidth:t._itemIndentWidth,fieldRefName:this.props.field.referenceName,"aria-label":this.props.field.name,label:this.props.field.name,projectId:this.state.workItem.project.guid,selectedValue:this.state.selectedValue,readOnly:this.state.workItem.isReadOnly()||this.state.readOnly,onValueSelected:this._onValueSelected,showSelectedDate:!1,maxLength:Math.min(this.props.workItemControl._options.maxLength||o.WorkItem.MAX_TITLE_LENGTH,o.WorkItem.MAX_TITLE_LENGTH),visibleItemCount:12,updateMruOnSelection:!1,selectedInputId:this.props.workItemControl._options.controlId+"_txt",tree:this.state.tree})},t.prototype.getValue=function(){return this.state.selectedValue},t.prototype.invalidate=function(n,t){var r=this.props.workItemControl,i,u,f;t?(i=this.props.allowEmpty?!t.isValidValueOrEmpty():!t.isValid(),n?this.setInvalid(i):(u=r.isReadOnly(),f=r._getFieldTextValue(t),this.setValue(f),this.setInvalid(i),this.setEnabled(!u))):(this.clear(),this.setEnabled(!1))},t.prototype.clear=function(){this.setState({selectedValue:""})},t.prototype.setInvalid=function(n){this.setState({invalid:n})},t.prototype.setEnabled=function(n){this.setState({readOnly:!n})},t.prototype.setValue=function(n){this.setState({selectedValue:n||""})},t.prototype.onBind=function(n){this.state.tree||n.isReadOnly()||this._fetchTree(n);this.setState({workItem:n});n.attachWorkItemChanged(this._onWorkItemChanged)},t.prototype.onUnbind=function(){this.state.workItem&&(this.state.workItem.detachWorkItemChanged(this._onWorkItemChanged),this.setState({workItem:null}))},t.prototype.confirmEdit=function(){return this._classificationPicker?this._classificationPicker.confirmEdit():!1},t.prototype.hideDropdown=function(){return this._classificationPicker?this._classificationPicker.hideDropdown():!1},t.prototype.onResize=function(){this.hideDropdown()},t.prototype._onWorkItemChanged=function(n,t){t&&t.change===s.WorkItemChangeType.PreSave&&this.hideDropdown()},t.prototype._fetchTree=function(n){var t=this;n.project.nodesCacheManager.beginGetNodes().then(function(){var i;i=h.equals(t.props.field.referenceName,e.CoreFieldRefNames.AreaPath,!0)?n.project.nodesCacheManager.getAreaNode(!0):n.project.nodesCacheManager.getIterationNode(!0);t.setState({tree:i})},function(){return t.setState({tree:null})})},t.prototype._onValueSelected=function(n,t,i){var r=this;this.setState({selectedValue:n},function(){r.props.onChange()});c.WIFormCIDataHelper.classificationPickerValueChanged(n,i,this.props.field.referenceName)},t.prototype._updateComponentRef=function(n,t){(!n&&t.componentRef||n&&n.componentRef!==t.componentRef)&&(n&&n.componentRef&&n.componentRef(null),t.componentRef&&t.componentRef(this))},t._itemHeight=24,t._itemIndentWidth=10,__decorate([u.autobind],t.prototype,"_onWorkItemChanged",null),__decorate([u.autobind],t.prototype,"_onValueSelected",null),t}(i.Component);t.WorkItemClassificationPickerWrapper=l});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemClassificationControl",["require","exports","react","react-dom","VSS/Utils/UI","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemControl","WorkItemTracking/Scripts/MruClassificationPicker/Components/WorkItemClassificationPickerWrapper"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemClassificationControl=void 0;var o=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t.prototype._init=function(){var t=this;n.prototype._init.call(this);this._container.addClass("new-classification-control");r.render(i.createElement(e.WorkItemClassificationPickerWrapper,{componentRef:function(n){t._control=n},allowEmpty:this._options.allowEmpty,field:this.getFieldDefinition(this._fieldName),workItemControl:this,onChange:function(){t.flush()}}),this._container[0],this._options.renderCallback);this._container.keydown(function(n){if(t._control&&(n.keyCode===u.KeyCode.ESCAPE&&t._control.hideDropdown()||n.keyCode===u.KeyCode.ENTER&&t._control.confirmEdit()))return n.stopPropagation(),!1})},t.prototype.dispose=function(){r.unmountComponentAtNode(this._container[0])},t.prototype.invalidate=function(t){n.prototype.invalidate.call(this,t);this._control&&this._control.invalidate(t,this._getField())},t.prototype._getControlValue=function(){return this._control?this._control.getValue():""},t.prototype.clear=function(){this._control&&this._control.clear()},t.prototype.onControlResized=function(){this._control&&this._control.onResize()},t.prototype.bind=function(t,i){if(n.prototype.bind.call(this,t,i),t&&this._control)this._control.onBind(t)},t.prototype.unbind=function(t){this._workItem&&this._control&&this._control.onUnbind();n.prototype.unbind.call(this,t)},t}(f.WorkItemControl);t.WorkItemClassificationControl=o});

define("Mention/Scripts/TFS.Mention.Helpers",["require","exports","VSS/Utils/Core","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Utils/String","jQueryUI/autocomplete"],function(n,t,i,r,u){function c(n,t,i){var e,c,o,l,s,r,u,h;for(t.sort(function(n,t){return t.length-n.length}),n=n.toUpperCase(),t=t.map(function(n){return n.toUpperCase()}),e=[],c=[],o=0,l=t;o<l.length;o++)for(s=l[o],r=0;;){if(r=n.indexOf(s,r),r<0||i===f.Prefix&&r>0)break;if(u={start:r,end:r+s.length},r+=s.length,e[u.start]||e[u.end])break;for(h=u.start;h<u.end;h++)e[h]=!0;c.push(u)}return c}function l(n){for(var h,f,t,e,c,i=[],o=0,r=0,s=n;r<s.length;r++)if(h=s[r],f=u.htmlEncode(h),f.length===1)i[o++]=!0;else for(t=0,e=f;t<e.length;t++)c=e[t],i[o++]=!1;return i}function a(n,t){return n.filter(function(n){var i=n.start,r=n.end;return t[i]||t[r]})}function v(n,t,i){function c(t){var u=t.start,f=t.end,r=n.substr(u,f-u);return o[r]||(o[r]=i.replace("$&",r)),o[r]}var o={},r,u,e,s,f,h;for(t.sort(function(n,t){return t.end-n.end}),r="",u=n.length,e=0,s=t;e<s.length;e++)f=s[e],h=c(f),r=h+n.substr(f.end,u-f.end)+r,u=f.start;return u>0&&(r=n.substr(0,u)+r),r}function y(n,t,i,r,f){var o=f?u.htmlEncode(n):n,e=c(o,t,i),s;return f&&(s=l(n),e=a(e,s)),v(o,e,r)}function p(n,t,i){var r,o,u,s,e,h;for(n=n.toUpperCase(),r={},o=!1,u=0,s=t;u<s.length;u++)e=s[u],h=n.indexOf(e.toUpperCase()),i===f.Contains&&h>=0||i===f.Prefix&&h===0?(r[e]=!0,o=!0):r[e]=!1;return{found:r,atLeastOneMatch:o}}function w(n,t,i,r,f){if(typeof n=="undefined"||n===null||t===null||!t.length)return{found:{},highlightedSource:n};t=t.slice(0,o);var s=p(n,t,i),h=s.found,c=s.atLeastOneMatch,e=n;return c&&r?e=y(n,t,i,r,f):f&&(e=u.htmlEncode(n)),{found:h,highlightedSource:e}}function s(){return window.parent!==window}function h(){try{if(s()&&window.parent.TfsMentionHelpers)return window.parent.TfsMentionHelpers.getDefaultTfsContext()}catch(n){}return e.getDefaultTfsContext()}function b(){var n;try{n=h()}catch(t){n=null}return!!n}function k(n,t){return i.delegate(n,t)}function d(n,t,r){var u,f=i.throttledDelegate(n,t,function(){var t=u;u=null;r.apply(n,t)});return function(){return u=arguments,f()}}function g(){return window.location}function nt(n){return $("<div/>").html(n).text()}function tt(n){if(!n)return null;var t=n.ownerDocument;return t?t.defaultView||t.parentWindow:null}function it(n){return n.charCode?!0:!1}var o,f,e;Object.defineProperty(t,"__esModule",{value:!0});t.eventHasPrintableCharacter=t.TfsMentionHelpers=t.getWindow=t.convertHtmlToText=t.getWindowLocation=t.throttledDelegate=t.delegate=t.environmentIsSupported=t.getMainTfsContext=t.hasParentWindow=t.searchString=t.SearchBehavior=void 0;o=10,function(n){n[n.Contains=0]="Contains";n[n.Prefix=1]="Prefix"}(f=t.SearchBehavior||(t.SearchBehavior={}));t.searchString=w;t.hasParentWindow=s;t.getMainTfsContext=h;t.environmentIsSupported=b;t.delegate=k;t.throttledDelegate=d;t.getWindowLocation=g;t.convertHtmlToText=nt;t.getWindow=tt,function(n){function t(){return r.TfsContext.getDefault()}n.getDefaultTfsContext=t}(e=t.TfsMentionHelpers||(t.TfsMentionHelpers={}));t.eventHasPrintableCharacter=it;window.TfsMentionHelpers=e});

define("Mention/Scripts/TFS.Social.Telemetry",["require","exports","Mention/Scripts/TFS.Mention.Helpers","VSS/Telemetry/Services","VSS/VSS"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.EventLogging=t.CustomerIntelligenceConstants=void 0;f=function(){function n(){}return n.MENTION_AREA="Mention",n.WORKITEMS_INITIALIZE_EVENT="WorkitemsInitialize",n.WORKITEMS_CLICK_EVENT="WorkitemsClick",n.PEOPLE_CLICK_EVENT="PeopleClick",n.AUTOCOMPLETE_OPEN_EVENT="AutocompleteOpen",n.AUTOCOMPLETE_SUGGEST_EVENT="AutocompleteSuggest",n.AUTOCOMPLETE_SELECT_EVENT="AutocompleteSelect",n.AUTOCOMPLETE_CANCEL_EVENT="AutocompleteCancel",n.MENTIONABLE_PREVIEW_EVENT="MentionablePreview",n.MENTIONABLE_EDIT_EVENT="MentionableEdit",n.WORKITEMPROVIDER_SEARCHONSERVER_EVENT="WorkItemProvider.SearchOnServer",n.SOCIAL_AREA="Social",n.DISCUSSION_RENDER_EVENT="DiscussionRender",n.DISCUSSION_SHOWMORE_EVENT="DiscussionShowMore",n.MATERIALIZE_IDENTITY="MaterializeIdentity",n.MATERIALIZE_IDENTITY_ERROR="MaterializeIdentityError",n.MENTIONS_REPLY_ALL_ACTIVATED="MentionsReplyAllActivated",n}();t.CustomerIntelligenceConstants=f;e=function(){function n(){}return n.publishAutocompleteOpenEvent=function(t){n.delayedPublish(f.AUTOCOMPLETE_OPEN_EVENT,t)},n.publishAutocompleteSuggestEvent=function(t){n.delayedPublish(f.AUTOCOMPLETE_SUGGEST_EVENT,t)},n.publishAutocompleteSelectEvent=function(t){var i=t.identity?n._sanitizeIdentityEvent({identity:t.identity}):{identity:undefined};n.delayedPublish(f.AUTOCOMPLETE_SELECT_EVENT,__assign(__assign({},t),{identity:i.identity}))},n.publishAutocompleteCancelEvent=function(t){n.delayedPublish(f.AUTOCOMPLETE_CANCEL_EVENT,t)},n.publishWorkItemsInitializeEvent=function(t){n.delayedPublish(f.WORKITEMS_INITIALIZE_EVENT,t)},n.publishWorkItemsClickEvent=function(t,i){n.delayedPublish(f.WORKITEMS_CLICK_EVENT,$.extend({},t,i))},n.publishPeopleClickEvent=function(t,i){var r=n._sanitizeIdentityEvent(t);n.delayedPublish(f.PEOPLE_CLICK_EVENT,$.extend({},r,i))},n.publishMentionableEditEvent=function(t){n.delayedPublish(f.MENTIONABLE_EDIT_EVENT,t)},n.publishMentionablePreviewEvent=function(t){n.delayedPublish(f.MENTIONABLE_PREVIEW_EVENT,t)},n.publishDiscussionRenderEvent=function(t){n.delayedPublish(f.DISCUSSION_RENDER_EVENT,t,f.SOCIAL_AREA)},n.publishDiscussionShowMoreClickEvent=function(t){n.delayedPublish(f.DISCUSSION_SHOWMORE_EVENT,t,f.SOCIAL_AREA)},n.publishMaterializeIdentityEvent=function(t){var i=n._sanitizeIdentityEvent(t);n.delayedPublish(f.MATERIALIZE_IDENTITY,i)},n.publishMaterializeIdentityError=function(t){var i=n._sanitizeIdentityEvent(t);n.delayedPublish(f.MATERIALIZE_IDENTITY_ERROR,i)},n.publishMentionsReplyAllActivated=function(t){n.delayedPublish(f.MENTIONS_REPLY_ALL_ACTIVATED,t)},n._sanitizeIdentityEvent=function(n){var t=n.identity,i=n.error;return{identity:{localId:t.localId,entityType:t.entityType,originId:t.originId,originDirectory:t.originDirectory,active:t.active},error:i}},n._getTfsContext=function(){return n.tfsContext||(n.tfsContext=i.getMainTfsContext()),n.tfsContext},n._extendProperties=function(t){var i=n._getTfsContext().navigation.projectId;t=t||{};t.projectId="".concat(i)},n.delayedPublish=function(t,i,u){u===void 0&&(u=f.MENTION_AREA);n._extendProperties(i);r.publishEvent(new r.TelemetryEventData(u,t,i))},n.publish=function(t,i){n._extendProperties(i);r.publishEvent(new r.TelemetryEventData(f.MENTION_AREA,t,i))},n}();t.EventLogging=e;u.tfsModuleLoaded("TFS.Social.Telemetry",t)});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/Comments/CommentsTelemetry",["require","exports","VSS/Diag","VSS/Performance","VSS/Telemetry/Services"],function(n,t,i,r,u){var f,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.UsageTelemetryHelper=t.PerformanceTelemetryHelper=t.TelemetryConstants=void 0,function(n){n.Area="WebAccessComments";n.CommentsInitialization="CommentsInitialization";n.CommentsPaging="CommentsPaging";n.AddComment="AddComment";n.EditComment="EditComment";n.EditCommentUpdate="EditCommentUpdate";n.EditCommentCancel="EditCommentCancel";n.EditCommentKeepDraft="EditCommentKeepDraft";n.EditCommentCancelNoChange="EditCommentCancelNoChange";n.DeleteCommentConfirm="DeleteCommentConfirm";n.DeleteCommentCancel="DeleteCommentCancel";n.OverflowButton="OverflowButton";n.QuoteReply="QuoteReply";n.ReactionSelectionButton="ReactionSelectionButton";n.AddNewReaction="AddCommentReaction";n.DeleteReaction="DeleteCommentReaction"}(f=t.TelemetryConstants||(t.TelemetryConstants={}));e=function(){function n(){this._initScenario=null;this._pagingScenario=null}return n.prototype.startCommentsInitialization=function(){this._initScenario=r.getScenarioManager().startScenario(f.Area,f.CommentsInitialization)},n.prototype.startCommentsPaging=function(){this._pagingScenario=r.getScenarioManager().startScenario(f.Area,f.CommentsPaging)},n.prototype.endInitialization=function(n){this._end(this._initScenario,n);this._initScenario=null},n.prototype.isCommentsPagingStarted=function(){return this._pagingScenario!=null},n.prototype.endPaging=function(n){this._end(this._pagingScenario,n);this._pagingScenario=null},n.prototype._end=function(n,t){n.addData(t);n.end(Date.now())},n}();t.PerformanceTelemetryHelper=e,function(n){function i(n){t(f.AddComment,{commentLength:n})}function r(){t(f.EditComment)}function e(n){t(f.QuoteReply,{fromSelection:n})}function o(n,i,r){t(f.EditCommentUpdate,{previousCommentLength:n,newCommentLength:i,previousCommentVersion:r})}function s(){t(f.EditCommentCancel)}function h(){t(f.EditCommentKeepDraft)}function c(){t(f.EditCommentCancelNoChange)}function l(){t(f.DeleteCommentConfirm)}function a(){t(f.DeleteCommentCancel)}function v(){t(f.OverflowButton)}function y(){t(f.ReactionSelectionButton)}function p(n,i,r){r===void 0&&(r=!1);t(f.AddNewReaction,{commentId:n,reactionType:i,isAddedFromStatusBar:r})}function w(n,i,r){r===void 0&&(r=!1);t(f.DeleteReaction,{commentId:n,reactionType:i,isDeletedFromStatusBar:r})}function t(n,t){t===void 0&&(t={});u.publishEvent(new u.TelemetryEventData(f.Area,n,t))}n.publishAddComment=i;n.publishEditComment=r;n.publishQuoteReply=e;n.publishEditCommentUpdate=o;n.publishEditCommentCancel=s;n.publishEditCommentKeepDraft=h;n.publishEditCommentCancelNoChange=c;n.publishDeleteCommentConfirm=l;n.publishDeleteCommentCancel=a;n.publishClickOverflowButton=v;n.publishClickReactionSelectionButton=y;n.publishEngagedReaction=p;n.publishDisEngagedReaction=w}(o=t.UsageTelemetryHelper||(t.UsageTelemetryHelper={}))});

define("VSS/Identities/Picker/PersonaCardContracts",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.personaCardEntity=t.CardType=void 0,function(n){n[n.Default=0]="Default";n[n.Contact=1]="Contact";n[n.Organization=2]="Organization"}(i=t.CardType||(t.CardType={})),function(n){n.contactCard="ContactCard";n.clicked="Clicked";n.featureName="PersonaCard";n.loaded="Loaded";n.orgCard="OrgCard";n.orgCardManagerChain="OrgCardManagerChain";n.orgCardDirectReport="OrgCardDirectReport";n.personaCard="PersonaCard";n.reportingManager="ReportingManager"}(r=t.personaCardEntity||(t.personaCardEntity={}))});

define("VSS/Identities/Picker/ContactCard",["require","exports","react","OfficeFabric/Label","VSS/Identities/Picker/PersonaCardContracts","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f,e){var o,s;Object.defineProperty(t,"__esModule",{value:!0});t.ContactCard=t.ContactCardContactLine=void 0;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this;return i.createElement("div",null,i.createElement("div",{className:this.props.padTop?"contact-card-line-top":"contact-card-line"},i.createElement("div",{className:"contact-card-span-label"},this.props.label),i.createElement("div",{className:"contact-card-span-content"},this.props.link&&this.props.content&&i.createElement("a",{className:"profile-card-tab-element",href:this.props.link,onClick:function(){n.props.publishTelemetry(e.format("{0}",n.props.label),u.personaCardEntity.clicked)}},this.props.content),!this.props.link&&this.props.content)),i.createElement("div",{style:{clear:"both"}}))},t}(i.Component);t.ContactCardContactLine=o;s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props.identity;return i.createElement("div",{className:"contact-or-organization-card-wrapper"},i.createElement("div",{className:"contact-card-header-wrapper"},i.createElement("div",{style:{fontSize:14}},i.createElement(r.Label,null,f.ProfileCard_ContactInformation))),i.createElement("div",{className:"contact-card-info-wrapper"},i.createElement(o,{label:f.ProfileCard_Email,content:n.mail,link:"mailto:"+n.mail,publishTelemetry:this.props.publishTelemetry}),i.createElement(o,{label:f.ProfileCard_TelephoneNumber,content:n.telephoneNumber,link:"tel:"+n.telephoneNumber,publishTelemetry:this.props.publishTelemetry}),i.createElement(o,{label:f.ProfileCard_PhysicalDeliveryOfficeName,content:n.physicalDeliveryOfficeName}),i.createElement(o,{label:f.ProfileCard_JobTitle,content:n.jobTitle,padTop:!0}),i.createElement(o,{label:f.ProfileCard_Department,content:n.department}),i.createElement(o,{label:f.ProfileCard_Alias,content:n.mailNickname})))},t}(i.Component);t.ContactCard=s});

define("VSS/Identities/Picker/DefaultCard",["require","exports","react","OfficeFabric/Icon","OfficeFabric/components/Persona/Persona","OfficeFabric/components/Persona/Persona.types","OfficeFabric/Label","OfficeFabric/Tooltip","VSS/Identities/Picker/PersonaCardContracts","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f,e,o,s,h,c){var l,a;Object.defineProperty(t,"__esModule",{value:!0});t.DefaultCard=t.DefaultCardContactLine=void 0;l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this;return i.createElement("div",{className:"default-card-contact-line-wrapper"},i.createElement(e.Label,{className:"default-card-contact-line"},i.createElement(r.Icon,{iconName:this.props.iconName,className:"default-card-contact-line-label"}),this.props.link&&i.createElement("a",{href:this.props.link,className:"default-card-contact-line-link profile-card-tab-element",onClick:function(){n.props.publishTelemetry(c.format("{0}",n.props.iconName),s.personaCardEntity.clicked)}},this.props.content),!this.props.link&&i.createElement("span",{className:"default-card-contact-line-no-link"},this.props.content)))},t}(i.Component);t.DefaultCardContactLine=l;a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.componentDidMount=function(){this.props.setFocus&&this.props.setFocus()},t.prototype.render=function(){var r=this,v=this.props,n=v.identity,p=v.isPreviousHeader,c={imageUrl:this.props.identity.image,primaryText:this.props.identity.displayName,secondaryText:this.props.identity.jobTitle,tertiaryText:this.props.identity.department},w=i.createElement("div",null,i.createElement(u.Persona,__assign({},c,{key:this.props.identity.entityId+this.props.identity.signInAddress,size:f.PersonaSize.large,className:"persona-main",onRenderPrimaryText:function(){return i.createElement(o.TooltipHost,{key:"".concat(r.props.identity.entityId,".primarytext.tooltip"),content:c.primaryText,overflowMode:o.TooltipOverflowMode.Parent},i.createElement("span",{className:"persona-main-text-primary"},c.primaryText))},onRenderSecondaryText:function(){return i.createElement(o.TooltipHost,{key:"".concat(r.props.identity.entityId,".secondarytext.tooltip"),content:c.secondaryText,overflowMode:o.TooltipOverflowMode.Parent},i.createElement("span",{className:"persona-main-text-secondary"},c.secondaryText))},onRenderTertiaryText:function(){return i.createElement("div",{className:"persona-main-text-tertiary"},c.tertiaryText)},imageShouldFadeIn:!1}))),y=null,t,a;return this.props.manager&&(t=this.props.manager,a={imageUrl:t.image,primaryText:t.displayName,secondaryText:t.jobTitle,tertiaryText:t.department},y=i.createElement("div",{className:"persona-list-manager-element profile-card-tab-element","aria-label":t.displayName,key:t.entityId+t.signInAddress,onClick:function(){r.props.publishTelemetry(s.personaCardEntity.personaCard,s.personaCardEntity.loaded,s.personaCardEntity.reportingManager);r.props.onClickEntity(t)},"data-is-focusable":!0,role:"button"},i.createElement(u.Persona,__assign({},a,{size:f.PersonaSize.size40,onRenderPrimaryText:function(){return i.createElement("div",{className:"persona-list-element-text-primary"},a.primaryText)},onRenderSecondaryText:function(){return i.createElement("div",{className:"persona-list-element-text-secondary"},a.secondaryText)},imageShouldFadeIn:!1})))),i.createElement("div",{className:p?"default-card-with-header":"default-card-without-header"},w,i.createElement("div",null,(n.mail||n.telephoneNumber||n.physicalDeliveryOfficeName)&&i.createElement("div",{className:"default-card-contact-info-wrapper"},i.createElement("hr",{className:"hr-main"}),i.createElement("div",{className:"default-card-header-wrapper"},i.createElement("span",{className:"default-card-header pointer profile-card-tab-element",onClick:function(){r.props.publishTelemetry(s.personaCardEntity.contactCard,s.personaCardEntity.loaded);r.props.showContactCard()},"aria-label":h.ProfileCard_ContactHeader,"data-is-focusable":!0,role:"button"},i.createElement(e.Label,{className:"pointer"},i.createElement("b",{className:"default-card-header-space"},h.ProfileCard_ContactHeader),i.createElement("span",{className:"icon bowtie-icon bowtie-chevron-right-light default-card-header-chevron"})))),i.createElement("div",{className:"default-card-contact-info-container"},n.mail&&i.createElement(l,{iconName:"Mail",content:n.mail,link:"mailto:"+n.mail,publishTelemetry:this.props.publishTelemetry}),n.mail&&i.createElement(l,{iconName:"Chat",content:h.ProfileCard_SendChat,link:"sip:"+n.mail,publishTelemetry:this.props.publishTelemetry}),n.telephoneNumber&&i.createElement(l,{iconName:"Phone",content:n.telephoneNumber,link:"tel:"+n.telephoneNumber,publishTelemetry:this.props.publishTelemetry}),n.physicalDeliveryOfficeName&&i.createElement(l,{iconName:"POI",content:n.physicalDeliveryOfficeName}))),this._renderDirectManagerElement(y)))},t.prototype._renderDirectManagerElement=function(n){var t=this;return n?i.createElement("div",{className:"default-card-direct-manager-wrapper"},i.createElement("hr",{className:"hr-secondary"}),i.createElement("div",{className:"default-card-header-wrapper"},i.createElement("span",{className:"default-card-header pointer profile-card-tab-element",onClick:function(){t.props.publishTelemetry(s.personaCardEntity.orgCard,s.personaCardEntity.loaded);t.props.showOrganizationCard()},"aria-label":h.ProfileCard_Organization,"data-is-focusable":!0,role:"button"},i.createElement(e.Label,{className:"pointer"},i.createElement("b",{className:"default-card-header-space"},h.ProfileCard_Organization),i.createElement("span",{className:"icon bowtie-icon bowtie-chevron-right-light default-card-header-chevron"})))),i.createElement("div",{className:"default-card-direct-manager"},i.createElement("div",{className:"default-card-header-reportsto"},h.ProfileCard_ReportsToHeader),n)):null},t}(i.Component);t.DefaultCard=a});

define("VSS/Identities/Picker/DefaultAbridgedCard",["require","exports","react","OfficeFabric/components/Persona/Persona","OfficeFabric/components/Persona/Persona.types","OfficeFabric/Label","OfficeFabric/Tooltip","VSS/Identities/Picker/DefaultCard","VSS/Resources/VSS.Resources.Platform","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.DefaultAbridgedCard=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var t=this,n={imageUrl:this.props.identity.image,primaryText:this.props.identity.displayName},h=i.createElement("div",null,i.createElement(r.Persona,__assign({},n,{key:this.props.identity.entityId,size:u.PersonaSize.large,className:"persona-main",onRenderPrimaryText:function(){return i.createElement(e.TooltipHost,{key:"".concat(t.props.identity.entityId,".primarytext.tooltip"),content:n.primaryText,overflowMode:e.TooltipOverflowMode.Parent},i.createElement("span",{className:"persona-main-text-primary"},n.primaryText))},imageShouldFadeIn:!1})));return i.createElement("div",{className:"default-card-abridged"},h,this._verifySignInAddress()&&i.createElement("div",null,i.createElement("div",{className:"default-card-contact-info-wrapper"},i.createElement("hr",{className:"hr-main"}),i.createElement("div",{className:"default-card-header-wrapper"},i.createElement("span",{className:"default-card-header"},i.createElement(f.Label,null,i.createElement("b",{className:"default-card-header-space"},s.ProfileCard_ContactHeader)))),i.createElement("div",{className:"default-card-contact-info-container"},i.createElement(o.DefaultCardContactLine,{iconName:"Mail",content:this.props.identity.signInAddress,link:"mailto:"+this.props.identity.signInAddress,publishTelemetry:this.props.publishTelemetry}),i.createElement(o.DefaultCardContactLine,{iconName:"Chat",content:s.ProfileCard_SendChat,link:"sip:"+this.props.identity.signInAddress,publishTelemetry:this.props.publishTelemetry})))))},t.prototype._verifySignInAddress=function(){if(!this.props.identity.signInAddress)return!1;return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(this.props.identity.signInAddress)?!0:!1},t}(i.Component);t.DefaultAbridgedCard=h});

define("VSS/Identities/Picker/DefaultSimpleCard",["require","exports","react","OfficeFabric/components/Persona/Persona","OfficeFabric/components/Persona/Persona.types","OfficeFabric/Tooltip","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.DefaultSimpleCard=void 0;var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var t=this,n={imageUrl:this.props.identity.image,primaryText:this.props.identity.displayName,secondaryText:this.props.identity.scopeName&&this.props.identity.signInAddress?this.props.identity.scopeName+"\\"+this.props.identity.signInAddress:this.props.identity.signInAddress?this.props.identity.signInAddress:""};return i.createElement("div",{className:"default-card-simple"},i.createElement("div",null,i.createElement(r.Persona,__assign({},n,{key:this.props.identity.entityId,size:u.PersonaSize.large,className:"persona-main",onRenderPrimaryText:function(){return i.createElement(f.TooltipHost,{key:"".concat(t.props.identity.entityId,".primarytext.tooltip"),content:n.primaryText,overflowMode:f.TooltipOverflowMode.Parent},i.createElement("span",{className:"persona-main-text-primary"},n.primaryText))},onRenderSecondaryText:function(){return i.createElement(f.TooltipHost,{key:"".concat(t.props.identity.entityId,".secondarytext.tooltip"),content:n.secondaryText,overflowMode:f.TooltipOverflowMode.Parent},i.createElement("span",{className:"persona-main-text-secondary"},n.secondaryText))},imageShouldFadeIn:!1}))))},t}(i.Component);t.DefaultSimpleCard=e});

define("VSS/Identities/Picker/OrganizationCard",["require","exports","react","OfficeFabric/components/Persona/Persona","OfficeFabric/components/Persona/Persona.types","OfficeFabric/Label","VSS/Identities/Picker/PersonaCardContracts","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.OrganizationCard=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props,u=n.identity,e=n.managerList,h=n.directReportList,r=this.createManagerChainPersonaElements(),t=this.createDirectReportsPersonaElements();return i.createElement("div",{className:"contact-or-organization-card-wrapper"},i.createElement("div",{className:"organization-card-content"},i.createElement("div",{className:"organization-card-header-wrapper"},i.createElement("div",{style:{fontSize:14}},i.createElement(f.Label,null,o.ProfileCard_Organization))),i.createElement("div",{className:"organization-card-manager-chain-wrapper"},r),t.length>0&&i.createElement("div",{className:"organization-card-direct-reports-wrapper"},i.createElement(f.Label,{className:"organization-card-direct-reports-label"},s.format(o.ProfileCard_ReportingToPhrase,this.props.identity.displayName,this.props.directReportList.length)),t)))},t.prototype.createManagerChainPersonaElements=function(){var o=this,n=this,f=this.props.managerList.map(function(t){var f={imageUrl:t.image,primaryText:t.displayName?t.displayName:"",secondaryText:t.jobTitle?t.jobTitle:"",tertiaryText:t.department?t.department:""};return i.createElement("div",{className:"persona-list-element profile-card-tab-element","aria-label":t.displayName,key:t.entityId+t.signInAddress,onClick:function(){n.props.publishTelemetry(e.personaCardEntity.orgCardManagerChain,e.personaCardEntity.loaded,e.personaCardEntity.orgCard);n.props.onClickEntity(t)},"data-is-focusable":!0,role:"button"},i.createElement(r.Persona,__assign({},f,{size:u.PersonaSize.size40,onRenderPrimaryText:function(){return i.createElement("div",{className:"persona-list-element-text-primary"},f.primaryText)},onRenderSecondaryText:function(){return i.createElement("div",{className:"persona-list-element-text-secondary"},f.secondaryText)},imageShouldFadeIn:!1})))}),t={imageUrl:this.props.identity.image,primaryText:this.props.identity.displayName,secondaryText:this.props.identity.jobTitle,tertiaryText:this.props.identity.department};return f.push(i.createElement("div",{className:"persona-list-element profile-card-tab-element","aria-label":this.props.identity.displayName,key:this.props.identity.entityId+this.props.identity.signInAddress,onClick:function(){n.props.publishTelemetry(e.personaCardEntity.personaCard,e.personaCardEntity.loaded,e.personaCardEntity.orgCard);n.props.onClickEntity(o.props.identity)},"data-is-focusable":!0,role:"button"},i.createElement(r.Persona,__assign({},t,{size:u.PersonaSize.size40,onRenderPrimaryText:function(){return i.createElement("div",{className:"persona-list-element-text-primary"},t.primaryText)},onRenderSecondaryText:function(){return i.createElement("div",{className:"persona-list-element-text-secondary"},t.secondaryText)},imageShouldFadeIn:!1})))),f},t.prototype.createDirectReportsPersonaElements=function(){var n=this;return this.props.directReportList.map(function(t){var f={imageUrl:t.image,primaryText:t.displayName?t.displayName:"",secondaryText:t.jobTitle?t.jobTitle:"",tertiaryText:t.department?t.department:""};return i.createElement("div",{className:"persona-list-element profile-card-tab-element","aria-label":t.displayName,key:t.entityId+t.signInAddress,onClick:function(){n.props.publishTelemetry(e.personaCardEntity.orgCardDirectReport,e.personaCardEntity.loaded,e.personaCardEntity.orgCard);n.props.onClickEntity(t)},"data-is-focusable":!0,role:"button"},i.createElement(r.Persona,__assign({},f,{size:u.PersonaSize.size40,onRenderPrimaryText:function(){return i.createElement("div",{className:"persona-list-element-text-primary"},f.primaryText)},onRenderSecondaryText:function(){return i.createElement("div",{className:"persona-list-element-text-secondary"},f.secondaryText)},imageShouldFadeIn:!1})))})},t}(i.Component);t.OrganizationCard=h});

define("VSS/Identities/Picker/PersonaCardIdentityUtils",["require","exports","VSS/Identities/Picker/Services"],function(n,t,i){function s(n){return n?r(n)||u(n)?!!(n.mail||n.mailNickname||n.jobTitle||n.department||n.physicalDeliveryOfficeName||n.manager||n.surname||n.telephoneNumber):f(n)||e(n)?!!n.signInAddress:o(n)?!!(n.scopeName||n.signInAddress):!1:!1}function r(n){return n&&n.originDirectory.trim().toLowerCase()===i.ServiceHelpers.AzureActiveDirectory}function u(n){return n&&n.originDirectory.trim().toLowerCase()===i.ServiceHelpers.ActiveDirectory}function f(n){return n&&n.originDirectory.trim().toLowerCase()===i.ServiceHelpers.VisualStudioDirectory}function e(n){return n&&n.originDirectory.trim().toLowerCase()===i.ServiceHelpers.GitHubDirectory}function o(n){return n&&n.originDirectory.trim().toLowerCase()===i.ServiceHelpers.WindowsMachineDirectory}Object.defineProperty(t,"__esModule",{value:!0});t.isWmdUser=t.isGitHubUser=t.isVsdUser=t.isAdUser=t.isAadUser=t.isCompleteIdentity=void 0;t.isCompleteIdentity=s;t.isAadUser=r;t.isAdUser=u;t.isVsdUser=f;t.isGitHubUser=e;t.isWmdUser=o});

define("VSS/Identities/Picker/PersonaCardHeaderElement",["require","exports","react","OfficeFabric/components/Persona/Persona","OfficeFabric/components/Persona/Persona.types","OfficeFabric/Icon","OfficeFabric/Tooltip","VSS/Resources/VSS.Resources.Platform","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.PersonaCardHeaderElement=void 0;var s=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.componentDidMount=function(){this.props.setFocus()},t.prototype.componentDidUpdate=function(){this.props.setFocus()},t.prototype.render=function(){var s=this,n,t;return this.props.identity?(n=this.props.identity,t={imageUrl:n.image,primaryText:n.displayName,secondaryText:n.jobTitle,tertiaryText:n.department},i.createElement("div",{className:"go-back-persona-wrapper",onClick:this.props.onClickFunction,"aria-label":o.ProfileCard_HeaderButtonAriaLabel,ref:function(n){s._personaElement=n},"data-is-focusable":!0,role:"button"},i.createElement("div",null,i.createElement(f.Icon,{iconName:"ChevronLeft",className:"go-back-chevron"})),i.createElement("div",{className:"go-back-positioning"},i.createElement(r.Persona,__assign({},t,{size:u.PersonaSize.extraExtraSmall,className:"go-back-persona",onRenderPrimaryText:function(){return i.createElement(e.TooltipHost,{key:"".concat(n.entityId,".tooltip"),content:n.displayName,overflowMode:e.TooltipOverflowMode.Parent},i.createElement("span",{className:"persona-header-text-primary"},n.displayName))},imageShouldFadeIn:!1}))))):null},t.prototype.setFocus=function(){this._personaElement&&this._personaElement.focus()},t}(i.Component);t.PersonaCardHeaderElement=s});

define("VSS/Identities/Picker/PersonaCardContent",["require","exports","react","OfficeFabric/Callout","OfficeFabric/FocusZone","OfficeFabric/Spinner","OfficeFabric/Utilities","VSSUI/Util","VSS/Context","VSS/Identities/Picker/ContactCard","VSS/Identities/Picker/DefaultAbridgedCard","VSS/Identities/Picker/DefaultSimpleCard","VSS/Identities/Picker/DefaultCard","VSS/Identities/Picker/OrganizationCard","VSS/Identities/Picker/PersonaCardContracts","VSS/Identities/Picker/PersonaCardIdentityUtils","VSS/Identities/Picker/PersonaCardHeaderElement","VSS/Resources/VSS.Resources.Platform","VSS/Telemetry/Services","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){Object.defineProperty(t,"__esModule",{value:!0});t.PersonaCardContent=void 0;var g=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._focusOnUpdate=function(){var i=t.props.dataProps.directReportList,n=t.props.dataProps.identity,r=p.isAadUser(n),u=p.isAdUser(n),f=p.isVsdUser(n);t.props.dataProps.cardType===y.CardType.Default&&i?t._focusZone.focus():t.props.dataProps.cardType!==y.CardType.Default&&t._focusZone.focus()},t._onDismissCallout=function(){t.props.onDismissCallback&&t.props.onDismissCallback()},t._publishTelemetry=function(n,i,r){var f=s.getPageContext().navigation.routeId,u={Action:d.format("{0}{1}",n,i)};t.props.consumer&&(u.Consumer=t.props.consumer);r&&(u.Source=r);k.publishEvent(new k.TelemetryEventData(f,y.personaCardEntity.featureName,u))},t}return __extends(t,n),t.prototype.componentDidMount=function(){this._publishTelemetry(y.personaCardEntity.personaCard,y.personaCardEntity.loaded)},t.prototype.componentDidUpdate=function(){var n=p.isVsdUser(this.props.dataProps.identity);this.props.dataProps.header||n||this._focusOnUpdate()},t.prototype.render=function(){var n=this.props.referenceHTMLComponent?this.props.referenceHTMLComponent:this.props.target;return i.createElement("div",null,i.createElement(r.Callout,{onDismiss:this._onDismissCallout,target:n,ariaLabel:b.ProfileCard_AriaLabel,role:"alert",isBeakVisible:!1,gapSpace:10,className:"persona-card-callout"},i.createElement("div",null,this._renderCard())))},t.prototype._renderCard=function(){var n="persona-card-styles";if(this.props.working&&!p.isCompleteIdentity(this.props.dataProps.identity))return i.createElement("div",{className:o.css(n,"loading")},i.createElement(e.DelayedRender,{delay:300},i.createElement(f.Spinner,{label:b.Loading,type:f.SpinnerType.large,className:"persona-card-loading-spinner"})));var r=p.isAdUser(this.props.dataProps.identity)||p.isAadUser(this.props.dataProps.identity),t=this.props.dataProps.header||null,s=this.props.dataProps.cardType===y.CardType.Organization?u.FocusZoneDirection.vertical:u.FocusZoneDirection.horizontal;return i.createElement(u.FocusZone,{className:n,handleTabKey:1,isCircularNavigation:!0,componentRef:this._onFocusZoneRef,direction:s},r&&t&&i.createElement(w.PersonaCardHeaderElement,{identity:t,onClickFunction:this.props.onHeaderClick,setFocus:this._focusOnUpdate}),this._renderInnerCard())},t.prototype._onFocusZoneRef=function(n){this._focusZone=n;this._focusOnUpdate()},t.prototype._renderInnerCard=function(){var r=this.props.dataProps,n=r.identity,t=r.managerList,f=r.directReportList,u;if(!n)return null;var e=p.isVsdUser(n),o=p.isWmdUser(n),s=p.isAadUser(n),w=p.isAdUser(n);if(e)return i.createElement(c.DefaultAbridgedCard,{identity:n,publishTelemetry:this._publishTelemetry});if(o)return i.createElement(l.DefaultSimpleCard,{identity:n});if(s||w)switch(this.props.dataProps.cardType){case y.CardType.Default:return u=t&&t.length>0?t[t.length-1]:null,i.createElement(a.DefaultCard,{identity:n,manager:u,isPreviousHeader:!!this.props.dataProps.previousDataState||!!this.props.initialHeader,showContactCard:this.props.onShowContactCard,showOrganizationCard:this.props.onShowOrganizationCard,onClickEntity:this.props.onClickEntity,publishTelemetry:this._publishTelemetry,setFocus:this._focusOnUpdate});case y.CardType.Contact:return i.createElement(h.ContactCard,{identity:n,publishTelemetry:this._publishTelemetry});case y.CardType.Organization:return i.createElement(v.OrganizationCard,{identity:n,managerList:t,directReportList:f,onClickEntity:this.props.onClickEntity,publishTelemetry:this._publishTelemetry})}return null},__decorate([e.autobind],t.prototype,"_onFocusZoneRef",null),t}(i.Component);t.PersonaCardContent=g});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))};define("VSS/Identities/Picker/PersonaCard",["require","exports","react","VSS/Context","VSS/Diag","VSS/Identities/Picker/Constants","VSS/Identities/Picker/PersonaCardContent","VSS/Identities/Picker/PersonaCardContracts","VSS/Identities/Picker/PersonaCardIdentityUtils","VSS/Identities/Picker/Services","VSS/Performance","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Telemetry/Services","VSS/Utils/String","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p,w;Object.defineProperty(t,"__esModule",{value:!0});t.PersonaCard=t.managerConnectionType=t.managerAndDirectReportsConnectionType=t.userIdentityType=t.sourceImsAdOperationScope=t.sourceImsOperationScope=t.sourceAdOperationScope=t.sourceOperationScope=void 0;t.sourceOperationScope={Source:!0};t.sourceAdOperationScope={Source:!0,AD:!0};t.sourceImsOperationScope={Source:!0,IMS:!0};t.sourceImsAdOperationScope={Source:!0,IMS:!0,AD:!0};t.userIdentityType={User:!0};t.managerAndDirectReportsConnectionType={managers:!0,directReports:!0};t.managerConnectionType={managers:!0};p=function(n){return(n.uniqueAttribute||n.identity||n.displayName)&&!s.isGitHubUser(n.identity)?i.createElement(w,__assign({},n)):null};t.PersonaCard=p;w=function(n){function p(i){var r=__construct(this,n,[i]),e,f,l;for(e in r)r.hasOwnProperty(e)&&(this[e]=r[e]);return r._onDismissCallback=function(){r._scenarioDescriptor.isActive()&&!s.isCompleteIdentity(r.state.dataState.identity)&&(r._scenarioDescriptor.addSplitTiming("Spinner load time for card dismissal before identity fetch"),r._scenarioDescriptor.end());r.props.onDismissCallback()},r._headerOnClickHandler=function(){r.state.dataState.previousDataState?r.setState({dataState:r.state.dataState.previousDataState,working:!1}):r.props.initialHeader&&r.props.initialHeader.onClickFunction&&r.props.initialHeader.onClickFunction()},r._onShowContactCard=function(){var n=__assign(__assign({},r.state.dataState),{previousDataState:r.state.dataState,cardType:o.CardType.Contact,header:r.state.dataState.identity});r.setState({dataState:n})},r._onShowOrganizationCard=function(){var e,f,n,u,i;r.state.working||(e=function(n,t){t&&t.managers&&t.directReports&&!r._dismissed&&(t.managers.reverse(),r.state.dataState&&r.state.dataState.identity===n&&(r.setState({dataState:__assign(__assign({},r.state.dataState),{managerList:t.managers,directReportList:t.directReports}),working:!1}),r._getImagesForDataState()))},f=r.state.dataState,f.managerList&&f.managerList.length<=1?(n=r.state.dataState,i=__assign(__assign({},n),{cardType:o.CardType.Organization,header:n.identity,previousDataState:n}),r.setState({dataState:i,working:!0}),r._IdentityService.getIdentityConnections(n.identity,s.isAdUser(n.identity)?t.sourceAdOperationScope:t.sourceOperationScope,t.userIdentityType,t.managerAndDirectReportsConnectionType,null,null,6).then(function(t){return e(n.identity,t)},function(n){r._publishErrorTelemetry("ConnectionsOrgCard",n)})):(u=r.state.dataState,i=__assign(__assign({},u),{cardType:o.CardType.Organization,header:u.identity,previousDataState:u}),r.setState({dataState:i,working:!1})))},r._onClickEntity=function(n){if(!r.state.working){r._scenarioDescriptor.isActive()&&(r._scenarioDescriptor.end(),r._scenarioDescriptor=c.getScenarioManager().startScenario(r._routeId,o.personaCardEntity.featureName));var t=r.state.dataState,i={identity:n,cardType:o.CardType.Default,header:t.identity,directReportList:[],managerList:[],previousDataState:t,displayName:n.displayName,imageUrl:n.image,email:n.mail};r.setState({dataState:i,working:!0});r._getIdentityByUniqueAttribute(n)}},r._getConnectionsSuccessCallback=function(n,t){t&&t.managers&&!r._dismissed&&(r.setState({dataState:__assign(__assign({},n),{managerList:t.managers.reverse(),directReportList:t.directReports}),working:!1}),r._getImagesForDataState())},r._IdentityService=a.getService(h.IdentityService),f={identity:i.identity,managerList:null,directReportList:null,previousDataState:null,cardType:o.CardType.Default,header:i.initialHeader?i.initialHeader.identity:null,displayName:i.displayName,imageUrl:i.imageUrl,email:r._getEmail()},l=!0,i.identity||i.uniqueAttribute||!i.displayName||(f.identity={entityId:"",entityType:"user",originDirectory:"vsd",originId:"",displayName:i.displayName,image:i.imageUrl,signInAddress:f.email},l=!1),r.state={dataState:f,working:l},l&&r._setupInitialData(f,i.uniqueAttribute),r}return __extends(p,n),p.prototype.componentDidMount=function(){this._routeId=r.getPageContext().navigation.routeId;this._scenarioDescriptor=c.getScenarioManager().startScenario(this._routeId,o.personaCardEntity.featureName)},p.prototype.componentDidUpdate=function(n,t){this._scenarioDescriptor.isActive()&&(this.state.dataState.cardType===o.CardType.Default?this.state.working&&t.working?(this._contactSectionLoad=c.getTimestamp(),this._scenarioDescriptor.addSplitTiming("ContactSectionLoaded",this._contactSectionLoad-this._scenarioDescriptor.getStartTime())):!this.state.working&&t.working&&this._scenarioDescriptor.addSplitTiming("ManagerSectionLoaded",c.getTimestamp()-this._contactSectionLoad):this.state.dataState.cardType===o.CardType.Organization&&(this.state.working&&!t.working?this._orgCardLoad=c.getTimestamp():!this.state.working&&t.working&&this._scenarioDescriptor.addSplitTiming("ManagerAndReportsToChainLoaded",c.getTimestamp()-this._orgCardLoad)))},p.prototype.componentWillUnmount=function(){this._dismissed=!0;this._scenarioDescriptor.isActive()&&this._scenarioDescriptor.end()},p.prototype.render=function(){return i.createElement(e.PersonaCardContent,__assign({},this.props,{dataProps:this.state.dataState,onClickEntity:this._onClickEntity,onDismissCallback:this._onDismissCallback,onShowContactCard:this._onShowContactCard,onShowOrganizationCard:this._onShowOrganizationCard,working:this.state.working,onHeaderClick:this._headerOnClickHandler}))},p.prototype._setupInitialData=function(n,i){var r=this;n.identity?s.isCompleteIdentity(n.identity)?h.ServiceHelpers.isAuthenticatedMember()&&this._IdentityService.getIdentityConnections(n.identity,s.isAdUser(n.identity)?t.sourceAdOperationScope:t.sourceOperationScope,t.userIdentityType,t.managerConnectionType,null,null,1).then(function(t){return r._getConnectionsSuccessCallback(n,t)},function(n){r._publishErrorTelemetry("ConnectionsIdentityPassedInDirectManager",n)}):this._getIdentityByUniqueAttribute(n.identity):this._getIdentityByUniqueAttribute(i)},p.prototype._getIdentityByUniqueAttribute=function(n){var i=this,e,o,h;e=typeof n=="string"?n:s.isAadUser(n)||s.isAdUser(n)?n.entityId:n.signInAddress;o={UID:!0};h={identityServiceOptions:{operationScope:r.getPageContext().webAccessConfiguration.isHosted?t.sourceImsOperationScope:t.sourceImsAdOperationScope,identityType:t.userIdentityType,httpClient:null,extensionData:null},identityExtensionOptions:{consumerId:this.props.consumerId||f.ConsumerId.UnknownConsumer},prefix:e,queryTypeHint:o,sources:["Directory"]};this.props.entityOperationsFacade.search(h).then(function(n){for(var t in n.queryTokenResponse)n.queryTokenResponse[t].then(function(n){return i._getIdentitiesSuccessCallback(n)},function(n){i._publishErrorTelemetry("IdentityNotPresent",n)})},function(n){i._publishErrorTelemetry("IdentitySearch",n);(function(n){return u.logError("_resolveInputToIdentities/getIdentitiesErrorCallback:"+JSON.stringify(n))})})},p.prototype._getIdentitiesSuccessCallback=function(n){var u=this,f;if(n&&!this._dismissed)if(n.identities&&n.identities.length!=0){var i=n.identities[0],e=s.isCompleteIdentity(this.state.dataState.identity),o=s.isAadUser(i)||s.isAdUser(i),c=this.props.imageUrl?this.props.imageUrl:i.image,r=__assign(__assign({},this.state.dataState),{identity:i,displayName:i.displayName,imageUrl:c}),l=h.ServiceHelpers.isAuthenticatedMember();l?!e&&o?(this.setState({dataState:r,working:!0}),this._IdentityService.getIdentityConnections(i,s.isAdUser(i)?t.sourceAdOperationScope:t.sourceOperationScope,t.userIdentityType,t.managerConnectionType,null,null,1).then(function(n){return u._getConnectionsSuccessCallback(r,n)},function(n){u._publishErrorTelemetry("ConnectionsIdentityFetchedDirectManager",n)})):(this.setState({working:!0}),this._setupInitialData(r)):(this.setState({dataState:r,working:!1}),this._getImagesForDataState())}else f=__assign(__assign({},this.state.dataState),{identity:this._getDerivedIdentity()}),this.setState({dataState:f,working:!1})},p.prototype._getDerivedIdentity=function(){if(this.state.dataState.identity)return this.state.dataState.identity;var n=this.props.imageUrl?this.props.imageUrl:this.state.dataState.imageUrl;return{entityId:"",entityType:"user",originDirectory:"vsd",originId:"",displayName:this.state.dataState.displayName?this.state.dataState.displayName:l.IdentityPicker_NoResult,image:n,signInAddress:this.state.dataState.email}},p.prototype._getImagesForDataState=function(){var i=this,n=this.state.dataState,t=__spreadArray(__spreadArray(__spreadArray([],n.identity.image?[]:[n.identity],!0),(n.managerList||[]).filter(function(n){return!n.image}),!0),(n.directReportList||[]).filter(function(n){return!n.image}),!0);t&&t.length>0&&this.props.entityOperationsFacade.getImagesForEntities(t).then(this._getImagesForEntitiesCallback.bind(this),function(n){i._publishErrorTelemetry("Image",n)})},p.prototype._getImagesForEntitiesCallback=function(n){var t,r,i;if(n&&!this._dismissed){var u=this.state.dataState.identity,f=this.state.dataState.managerList,e=this.state.dataState.directReportList||[],o=__spreadArray(__spreadArray(__spreadArray([],e,!0),f,!0),[u],!1);for(t=0,r=o;t<r.length;t++)i=r[t],i.entityId in n&&(i.image=n[i.entityId]);this.setState({dataState:__assign(__assign({},this.state.dataState),{identity:u,managerList:f,directReportList:e})})}},p.prototype._getEmail=function(){var n,t;return s.isAadUser(this.props.identity)||s.isAdUser(this.props.identity)?this.props.identity.mail:this.props.identity&&this.props.identity.signInAddress?this.props.identity.signInAddress:this.props.identity&&this.props.identity.mail?this.props.identity.mail:this.props.uniqueAttribute&&(n=this.props.uniqueAttribute.split("@"),n.length===2&&n[0].length>=1&&n[1].length>=3&&(t=n[1].split("."),t.length>1))?this.props.uniqueAttribute:null},p.prototype._publishErrorTelemetry=function(n,t){this.setState({working:!1});var i=r.getPageContext().navigation.routeId,u={Action:y.format("{0} fetch failed",n),ErrorName:t.name,ErrorMessage:t.message};v.publishEvent(new v.TelemetryEventData(i,o.personaCardEntity.featureName,u))},p}(i.Component)});

define("Presentation/Scripts/TFS/Components/IdentityImage",["require","exports","react","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Common/Constants/Platform","VSS/FeatureAvailability/Services","VSS/Identities/Picker/Controls","VSS/Identities/Picker/PersonaCard","VSS/Service","VSS/Utils/UI"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.Component=t.imageSizeLarge=t.imageSizeMedium=t.imageSizeSmall=t.imageSizeXSmall=void 0;t.imageSizeXSmall="x-small";t.imageSizeSmall="small";t.imageSizeMedium="";t.imageSizeLarge="large-identity-picture";var c=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._setTargetRef=function(n){i.targetElement=n},i._handleKeyDown=function(n){(n.keyCode===h.KeyCode.ENTER||n.keyCode===h.KeyCode.SPACE)&&i._showProfileCard(n)},i._showProfileCard=function(n){var t=i.props.showProfileCardOnClick&&f.FeatureAvailabilityService.isFeatureEnabled(u.WebPlatformFeatureFlags.ReactProfileCard);t&&(i._setProfileCardVisible(!0),n.stopPropagation())},i._onProfileCardDismissed=function(){i._setProfileCardVisible(!1)},i.state={showProfileCard:!1},i}return __extends(t,n),t.prototype.componentDidMount=function(){this.props.getTarget&&this.props.getTarget(this.targetElement)},t.prototype.shouldComponentUpdate=function(n,t){if(this.props.identity||n.identity){if(!this.props.identity||!n.identity)return!0}else return!1;return this.props.size!==n.size||this.props.cssClass!==n.cssClass||this.props.identity.id!==n.identity.id||this._getEmail(this.props)!==this._getEmail(n)||this.state.showProfileCard!==t.showProfileCard},t.prototype.render=function(){var u="identity-picture",n;this.props.size&&(u+=" "+this.props.size);this.props.identity&&(n=this.props.identity.id,u+=" identity-"+n);var h=this.props.tfsContext||r.TfsContext.getDefault(),c=this._getEmail(this.props),t=this.props.identity&&this.props.identity._links&&this.props.identity._links.avatar&&this.props.identity._links.avatar.href;t||(t=this.props.defaultGravatar?h.getIdentityImageUrl(n,{email:c,defaultGravatar:this.props.defaultGravatar}):h.getIdentityImageUrl(n,{email:c}));var l=this.props.altText===undefined?"":this.props.altText,a=this.props.identity?this.props.identity.displayName:l,f={};return this.props.dataIsFocusable&&(f["data-is-focusable"]=!0),this.props.isTabStop&&(f.tabIndex=0),i.createElement("div",__assign({className:this.props.cssClass,ref:this._setTargetRef},f,{"aria-label":a,onKeyDown:this._handleKeyDown,onClick:this._showProfileCard,"aria-expanded":this.state.showProfileCard,role:"figure"}),i.createElement("img",{className:u,src:t,alt:l}),this.state.showProfileCard&&i.createElement(o.PersonaCard,{uniqueAttribute:this.props.identity.uniqueName||this.props.identity.id,target:this.targetElement,entityOperationsFacade:s.getService(e.EntityOperationsFacade),onDismissCallback:this._onProfileCardDismissed,displayName:this.props.identity.displayName,consumerId:"37C4B067-1137-4241-A37C-EDE3D7A25BAE",imageUrl:t}))},t.prototype._setProfileCardVisible=function(n){var t=this;this.setState({showProfileCard:n},function(){if(t.props.onProfileCardToggle)t.props.onProfileCardToggle(n)})},t.prototype._getEmail=function(n){if(n.identity)return n.identity.id?undefined:n.identity.uniqueName},t}(i.Component);t.Component=c});

define("WorkItemTracking/Scripts/Components/DiscussionEditor",["require","exports","react","VSSUI/Util","WorkItemTracking/Scripts/Components/HtmlEditor","Presentation/Scripts/TFS/Components/IdentityImage","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSSUI/Button","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/LoaderPlugins/Css!WorkItemTracking/Components/DiscussionEditor"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.DiscussionEditor=void 0;var c={controlName:"DiscussionEditor"},l=function(n){function t(r){var u=__construct(this,n,[r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u.isNewCommentButtonsAvailable=function(){var n=s.FeatureAvailabilityService.isFeatureEnabled(h.FeatureAvailabilityFlags.UseSaveCommentsPermission,!1);return n&&u.state.isNewCommentActive&&!u.state.areContolButtonsHidden},u.renderButtons=function(){return i.createElement("div",{className:"new-comment-message-button-area"},i.createElement(o.Button,{className:"editor-cancel-button",text:e.Cancel,disabled:u.state.isNewCommentSaving,onClick:u.handleCancel,ariaLabel:e.Cancel}),i.createElement(o.Button,{text:e.Save,primary:!0,ariaLabel:e.Save,disabled:u.state.isNewCommentEmpty||u.state.isNewCommentSaving,onClick:u.onUpdateClick}))},u.onUpdateClick=function(){var n,t,i,r=u.props.onAddComment,f;r&&(f=u._control.htmlContent,(n=u._control)===null||n===void 0?void 0:n.setEnabled(!1),u.setState({isNewCommentSaving:!0}),r(f),(t=u._control)===null||t===void 0?void 0:t.setContent(""),u.setState({isNewCommentSaving:!1,isNewCommentActive:!1}),(i=u._control)===null||i===void 0?void 0:i.setEnabled(!0))},u.handleCancel=function(){var n,t=u.props.onCancelComment;t&&(t(),(n=u._control)===null||n===void 0?void 0:n.setContent(""),u.setState({isNewCommentEmpty:!0,isNewCommentActive:!1}))},u.onNewCommentChange=function(n){var i=t.isHtmlEmpty(n);u.setState({isNewCommentEmpty:i});u.props.onChange&&u.props.onChange()},u.onNewCommentFocus=function(){u.setState({isNewCommentActive:!0});u.props.onFocus&&u.props.onFocus()},u.onNewCommentBlur=function(){var n=u._control.htmlContent;u.setState({isNewCommentActive:n!=undefined&&n!==""})},u._htmlEditorOnRef=function(n){u._control=n},u.state={isHidden:!1,height:undefined,areContolButtonsHidden:!0,isNewCommentActive:!1,isNewCommentEmpty:!0,isNewCommentSaving:!1},u}return __extends(t,n),t.prototype.render=function(){var n=this.props,e=n.className,t=n.hideAvatar,o=n.currentIdentity,l=n.uploadImageHandler,a=n.placeholder,v=n.helpText,y=n.ariaLabel;return i.createElement("div",{className:r.css("discussion-editor-control",e,{"no-avatar":t,"is-hidden":this.state.isHidden})},i.createElement("div",{className:"discussion-message-entry"},!t&&i.createElement("div",{className:"discussion-messages-left"},i.createElement(f.Component,{size:f.imageSizeSmall,identity:o,showProfileCardOnClick:!0})),i.createElement("div",{className:"discussion-messages-right"},i.createElement(u.HtmlEditor,{htmlContent:"",onChange:this.onNewCommentChange,className:"editor",uploadImageHandler:function(n){return l(n,s.FeatureAvailabilityService.isFeatureEnabled(h.FeatureAvailabilityFlags.UseSaveCommentsPermission,!1))},ref:this._htmlEditorOnRef,mentionsEnabled:!0,placeholder:a,helpText:v,telemetryContext:c,showChromeBorder:!0,ariaLabel:y,height:this.state.height,forceDelayLoad:!0,onFocus:this.onNewCommentFocus,onBlur:this.onNewCommentBlur,preventShrinkOnBlur:!0}),this.isNewCommentButtonsAvailable()&&this.renderButtons())))},t.isHtmlEmpty=function(n){if(!n)return!0;if(n.length>=100)return!1;var t=document.createElement("div");return t.innerHTML=n,$(t).text().trim().length===0},t.prototype.isEmpty=function(){return this._control&&this._control.isEmpty()},t.prototype.hasFocus=function(){return this._control&&this._control.hasFocus()},t.prototype.getValue=function(){return this._control&&this._control.htmlContent},t.prototype.setValue=function(n,t,i){var r=this,u;if(t===void 0&&(t=!1),i===void 0&&(i=!1),!this._control)throw new Error("Expected the control to be instantiated");n!==this.getValue()&&(this._control.setContent(n,t),u=n!=undefined&&n!=="",this.setState({isNewCommentActive:u}));i&&(this._control.focus(!0),requestAnimationFrame(function(){var i=r._control&&r._control.editableElement,t,n;i&&(t=window.getSelection(),n=document.createRange(),n.selectNodeContents(i),n.collapse(!1),t.removeAllRanges(),t.addRange(n))}))},t.prototype.ready=function(n){n()},t.prototype.selectText=function(){this._control&&this._control.selectAll()},t.prototype.checkModified=function(){this._control&&this._control.flushChanges()},t.prototype.isVisible=function(){return!this.state.isHidden},t.prototype.showElement=function(n){this.setState({isHidden:!1,areContolButtonsHidden:!n})},t.prototype.hideElement=function(){this.setState({isHidden:!0})},t.prototype.setFullScreen=function(n){this.setState({height:n?180:undefined})},t.prototype.refreshCommandBar=function(){this._control&&this._control.refreshCommandBar()},t.prototype.focus=function(){var n;(n=this._control)===null||n===void 0?void 0:n.focus()},Object.defineProperty(t.prototype,"editableElement",{get:function(){return this._control&&this._control.editableElement},enumerable:!1,configurable:!0}),t}(i.PureComponent);t.DiscussionEditor=l});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/DiscussionRichEditorControl",["require","exports","react","react-dom","WorkItemTracking/Scripts/Components/DiscussionEditor","WorkItemTracking/Scripts/Utils/ImageUploader"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.DiscussionRichEditorControl=void 0;var e=function(){function n(n,t){var i=this;this._container=n;this._options=t;this._onChange=function(){var n=i._options.messageEntryControlOptions;n&&n.change&&n.change()};this._imageUploader=new f.ImageUploader;this._createDiscussionEditor()}return n.prototype.getMessageEntryControl=function(){return this._control},n.prototype.isVisible=function(){return this._control&&this._control.isVisible()},n.prototype.isEmpty=function(){return this._control&&this._control.isEmpty()},n.prototype.showElement=function(n){this._control&&this._control.showElement(n)},n.prototype.hideElement=function(){this._control&&this._control.hideElement()},n.prototype.setFullScreen=function(n){this._control&&this._control.setFullScreen(n)},n.prototype.setWorkItem=function(n){this._imageUploader.setWorkItem(n)},n.prototype.refreshCommandBar=function(){this._control&&this._control.refreshCommandBar()},n.prototype.dispose=function(){this._control&&(r.unmountComponentAtNode(this._container),this._control=null)},n.prototype.getContent=function(){return this._control&&this._control.getValue()},n.prototype.setContent=function(n,t,i){t===void 0&&(t=!1);i===void 0&&(i=!1);this._control&&this._control.setValue(n,t,i);this._onChange()},n.prototype.focus=function(){var n;(n=this._control)===null||n===void 0?void 0:n.focus()},Object.defineProperty(n.prototype,"editableElement",{get:function(){return this._control&&this._control.editableElement},enumerable:!1,configurable:!0}),n.prototype._createDiscussionEditor=function(){var f=this,t=this._options.messageEntryControlOptions,n=t===void 0?{}:t;r.render(i.createElement(u.DiscussionEditor,{ref:function(n){return f._control=n},onChange:this._onChange,uploadImageHandler:this._imageUploader.upload.bind(this._imageUploader),currentIdentity:this._options.currentIdentity,placeholder:n.waterMark,helpText:n.helpText,ariaLabel:n.ariaLabel,onFocus:function(){n.focusIn&&n.focusIn()},onAddComment:this._options.onAddComment,onCancelComment:this._options.onCancelComment}),this._container)},n}();t.DiscussionRichEditorControl=e});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/Comments/CommentsControl",["require","exports","Mention/Scripts/TFS.Social.Telemetry","react","react-dom","VSS/Controls","VSS/Events/Services","VSS/Utils/String","VSS/VSS","WorkItemTracking/Scripts/Controls/WorkItemForm/Comments/CommentsTelemetry","WorkItemTracking/Scripts/Controls/WorkItemForm/DiscussionRichEditorControl","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemManager","WorkItemTracking/Scripts/Utils/ImageUploader","WorkItemTracking/Scripts/Utils/RichTextPreRenderUtility","WorkItemTracking/Scripts/Utils/WitControlMode","WorkItemTracking/Scripts/Utils/WindowHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){Object.defineProperty(t,"__esModule",{value:!0});t.CommentsControl=void 0;var k="WorkItemTracking/Scripts/Controls/WorkItemForm/Comments/CommentsCacheService",d="WorkItemTracking/Scripts/Controls/WorkItemForm/Comments/CommentsSection",b=null,g=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._imageUploader=new v.ImageUploader,t._onQuoteReply=function(n){var i=t._discussionEditorControl,r;i&&(r=i.isEmpty()?"":"<div>".concat(i.getContent(),"<\/div>"),t._disableReplyAll=!0,i.setContent("".concat(r,"<blockquote>").concat(n,"<\/blockquote><br/>"),!0,!0),t._disableReplyAll=!1)},t._onDiscussionAdded=function(n,t){if(n){if(b){var i=b.CommentsCacheService.getActionsCreator(n);i.getLatestComment()}t&&t.historyText&&h.UsageTelemetryHelper.publishAddComment(t.historyText.length)}},t._onDiscussionModified=function(n,i){var r=a.WorkItemManager.get(t._workItem.store).getWorkItem(i.workItemId);r&&(r.relatedData[l.RelatedDataKeys.HISTORY_OUTDATED]=!0)},t._onCommentEditing=function(n,i){var r=a.WorkItemManager.get(t._workItem.store).getWorkItem(i.workItemId);r&&r.setIsCommentDirty(i.isCommentDirty)},t._onResetDiscussion=function(n){if(n&&!n.isNew()&&b){var t=b.CommentsCacheService.getActionsCreator(n);t.resetComments()}},t._onCommentUpdated=function(n,i){var r=a.WorkItemManager.get(t._workItem.store).getWorkItem(i.workItemId),u;r&&b&&(u=b.CommentsCacheService.getActionsCreator(r),u.getComment(i.commentId))},t._handleReplyAll=function(){if(!t._disableReplyAll&&t._workItem&&b){var r=b.CommentsCacheService.getStore(t._workItem),n=r.getComments()[0];n&&y.richTextPreRenderProcessorWithPeopleMentions($("<div>".concat(n.text,"<\/div>")),!1).then(function(r){s.using(["Mention/Scripts/TFS.Mention.People"],function(u){var f=r.map(function(n){return n.identity}),w={},v,y,h,p,k,c,d;f=f.filter(function(n){return!w[n.entityId]&&!!(w[n.entityId]=!0)});var l=n.createdBy,a=t._options.currentIdentity,e=t._discussionEditorControl;if(f&&l&&a&&e){var g=e.getContent(),b=l.displayName,s=l.id,nt=f.some(function(n){return n.localId===a.id});if(!g&&nt&&b&&s&&s!==o.EmptyGuidString){for(v=u.createPeopleHtmlMention({displayName:b,localId:s}),y=f.filter(function(n){return n.localId!==s&&n.localId!==a.id}),h=0,p=y;h<p.length;h++)k=p[h],v+=u.createPeopleHtmlMention(k);e.setContent(v,!0);c=e.editableElement;c&&(d=window.getSelection(),d.collapse(c.childNodes[c.childNodes.length-1],1));i.EventLogging.publishMentionsReplyAllActivated({mentionsCount:y.length})}}})})}},t._focusEditor=function(){var n=t._discussionEditorControl;n===null||n===void 0?void 0:n.focus()},t}return __extends(t,n),t.prototype.bind=function(n){var t=this._workItem===n;t||(this._workItem=n,this._renderComments(),this._imageUploader.setWorkItem(n))},t.prototype.setDiscussionMessagesContainerTop=function(n){this._$container.css("top",n)},t.prototype.getMessageEntryControl=function(){return this._discussionEditorControl?this._discussionEditorControl.getMessageEntryControl():null},t.prototype.getDiscussionEditorControl=function(){return this._discussionEditorControl},t.prototype.showDiscussionEditorControl=function(n){this._discussionEditorControl&&this._discussionEditorControl.showElement(n)},t.prototype.hideDiscussionEditorControl=function(){this._discussionEditorControl&&this._discussionEditorControl.hideElement()},t.prototype._createIn=function(t){var r=this,i;if(n.prototype._createIn.call(this,t),i=this.getElement(),i.addClass("discussion-control"),p.isMentionsReplyAllEnabled()&&(this._options.messageEntryControlOptions.focusIn=this._handleReplyAll),this._discussionEditorControl=new c.DiscussionRichEditorControl(i[0],this._options),this._windowResizeEventHandler=function(n){if(!w.isWindow(n.target)){var t=r._discussionEditorControl;t.refreshCommandBar()}},$(window).resize(this._windowResizeEventHandler),this._$container=$("<div/>").addClass("discussion-messages-container").appendTo(i),this._$messages=$("<div/>").addClass("discussion-messages").appendTo(this._$container).on("dblclick",function(n){return r._onDblClick(n)}),this._addFormEventHandlers(),this._options.messageEntryControlOptions.linkClickHandler)this._$messages.on({click:this._options.messageEntryControlOptions.linkClickHandler},"a")},t.prototype.pushDiscussionContext=function(n){var t=n?{artifactId:n.workItemId,artifactType:n.artifactType,field:n.field,sourceArtifact:n.sourceArtifact}:undefined;s.using(["Mention/Scripts/TFS.Social.RichText.Autocomplete"],function(n){n.RichTextAutocompleteControl.getInstance().pushArtifactContext(t)})},t.prototype.popDiscussionContext=function(){s.using(["Mention/Scripts/TFS.Social.RichText.Autocomplete"],function(n){n.RichTextAutocompleteControl.getInstance().popArtifactContext()})},t.prototype.dispose=function(){this._discussionEditorControl&&(this._windowResizeEventHandler&&$(window).off("resize",this._windowResizeEventHandler),this._discussionEditorControl.dispose());this._$messages&&(this._$messages.off("dblclick"),this._$messages.off("click"),u.unmountComponentAtNode(this._$messages[0]));e.getService().detachEvent(l.Actions.DISCUSSION_ADDED,this._onDiscussionAdded);e.getService().detachEvent(l.Actions.DISCUSSION_DELETED,this._onDiscussionModified);e.getService().detachEvent(l.Actions.DISCUSSION_UPDATED,this._onDiscussionModified);e.getService().detachEvent(l.Actions.RESET_DISCUSSION,this._onResetDiscussion);e.getService().detachEvent(l.Actions.DISCUSSION_EDIT_DIRTY_CHANGED,this._onCommentEditing);n.prototype.dispose.call(this)},t.prototype._renderComments=function(){var n=this;this._$messages&&this._workItem&&s.using([k,d],function(t,i){var f,e,o;(b=t,f=n._workItem,!n.isDisposed()&&f)&&(e=t.CommentsCacheService.getActionsCreator(f),o=t.CommentsCacheService.getStore(f),u.unmountComponentAtNode(n._$messages[0]),u.render(r.createElement(i.CommentsSection,{store:o,actionsCreator:e,readonly:!f.areCommentsEditable(),currentIdentity:n._options.currentIdentity,uploadImageHandler:n._imageUploader.upload.bind(n._imageUploader),focusEditor:n._focusEditor,onQuoteReply:p.isQuoteReplyEnabled()&&n._onQuoteReply,workItemId:f.id,projectId:f.project.guid}),n._$messages[0]),o.hasFirstPage()||f.isNew()||e.pageComments(""))})},t.prototype._onDblClick=function(n){var t,r,i;n&&n.target&&(t=$(n.target),t.is("img")&&t.attr("src")&&t.parent()&&!t.parent().hasClass("discussion-messages-left")&&(r=t.attr("src"),i=window.open(r,"_blank"),i&&(i.opener=null),n.preventDefault(),n.stopPropagation()))},t.prototype._addFormEventHandlers=function(){e.getService().attachEvent(l.Actions.DISCUSSION_ADDED,this._onDiscussionAdded);e.getService().attachEvent(l.Actions.DISCUSSION_DELETED,this._onDiscussionModified);e.getService().attachEvent(l.Actions.DISCUSSION_UPDATED,this._onDiscussionModified);e.getService().attachEvent(l.Actions.RESET_DISCUSSION,this._onResetDiscussion);e.getService().attachEvent(l.Actions.DISCUSSION_EDIT_DIRTY_CHANGED,this._onCommentEditing);e.getService().attachEvent(l.Actions.DISCUSSION_COMMENT_UPDATED,this._onCommentUpdated)},t.prototype.stopProgress=function(){},t.prototype.clearErrors=function(){},t.prototype.getExtendedState=function(){return null},t.prototype.showError=function(){},t.prototype.startProgress=function(){},t.prototype.append=function(){},t.prototype.update=function(){},t}(f.Control);t.CommentsControl=g});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemDiscussionControl",["require","exports","VSS/Events/Handlers","VSS/Events/Services","WorkItemTracking/Scripts/Form/Events","Presentation/Scripts/TFS/TFS.IdentityImage","VSS/Controls/Menus","VSS/Utils/Core","VSS/VSS","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Controls","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper","WorkItemTracking/Scripts/Utils/WorkItemRichTextHelper","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/Controls/WorkItemForm/MaximizableWorkItemControl","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","WorkItemTracking/Scripts/Utils/WorkItemIdentityHelper","WorkItemTracking/Scripts/Controls/WorkItemForm/Comments/CommentsControl","WorkItemTracking/Scripts/Components/DiscussionEditor"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemDiscussionControl=void 0;var nt=o.delegate,tt="WorkItemTracking/Scripts/Controls/WorkItemForm/Comments/CommentsCacheService",it=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._isMaximized=!1,t._onWorkItemChanged=function(n,i){var r,u;i&&(r=t._getMessageEntryControl(),i.change===y.WorkItemChangeType.PreSave&&r?r.checkModified():i.change===y.WorkItemChangeType.Saving?(u=i.workItem.getFieldValue(h.CoreField.History),u&&a.WIFormCIDataHelper.discussionControlCommentSaveEvent()):i.change===y.WorkItemChangeType.Reset?t._fireResizedEvent():i&&i.change==y.WorkItemChangeType.FieldChange&&r&&i.changedFields[h.CoreField.AreaId]&&(t.changeDiscussionEditorVisibility(),t._setUploadAttachmentHandler()))},t}return __extends(t,n),t.prototype._init=function(){var i=this,r;n.prototype._init.call(this);this._container.addClass("work-item-discussion-control");this._options.pageSize=this._options.pageSize!=null?Math.min(Math.max(this._options.pageSize,t.MIN_PAGE_SIZE),t.MAX_PAGE_SIZE):t.DEFAULT_MESSAGE_BATCH_SIZE_RESTORED;this._options.maximizedPageSize=this._options.maximizedPageSize!=null?Math.min(Math.max(this._options.maximizedPageSize,t.MIN_PAGE_SIZE),t.MAX_PAGE_SIZE):t.DEFAULT_MESSAGE_BATCH_SIZE_MAXIMIZED;this._messageBatchSize=this._options.pageSize;r={createAvatar:nt(this,this._createAvatar),currentIdentity:this.getTfsContext().currentIdentity,enableContactCard:this._options.enableContactCard,showChromeBorder:this._options.chromeBorder,messageEntryControlOptions:{waterMark:w.FeatureAvailabilityService.isFeatureEnabled(b.FeatureAvailabilityFlags.WebAccessVersionControlPullRequestsMentions,!1)?c.WorkItemDiscussionAddWithPRComment:c.WorkItemDiscussionAddComment,helpText:w.FeatureAvailabilityService.isFeatureEnabled(b.FeatureAvailabilityFlags.WebAccessVersionControlPullRequestsMentions,!1)?c.WorkItemDiscussionAddWithPRCommentHelpText:c.WorkItemDiscussionAddCommentHelpText,fireOnEveryChange:!0,change:nt(this,this._flush),id:this._options.controlId,linkClickHandler:this._workItemLinkClickHandler.bind(this),pageHtml:v.WorkItemRichTextHelper.getPageHtml(),height:t.ADD_COMMENT_CONTROL_HEIGHT,noToolbar:!0,internal:!0,locale:s.uiCulture,focusIn:function(){return i._fireResizedEvent()},focusOut:function(){return i._fireResizedEvent()},ariaLabel:c.WorkItemDiscussionLabel},onAddComment:function(n){return i._onAddComment(n)},onCancelComment:function(){return i._onCancelComment()}};this._discussionControl=l.BaseControl.createIn(d.CommentsControl,this._container,r);s.using(["WorkItemTracking/Scripts/Utils/WorkItemMentionPreSaveProcessor","Mention/Scripts/TFS.Mention.WorkItems"],function(n){var t=new n.WorkItemMentionPreSaveProcessor;t.attachWorkItemChanged();i._workItemMentionPreSaveProcessorDisposeCallBack=function(){t&&t.detachWorkItemChanged()}})},t.prototype.bind=function(t,i){this._discussionControl.bind(t);this._discussionControl.stopProgress();this._discussionControl.clearErrors();n.prototype.bind.call(this,t,i);this._workItem&&(this._workItem.attachWorkItemChanged(this._onWorkItemChanged),this._workItem.store.beginGetLinkTypes(function(){},function(){}),this._discussionControl.pushDiscussionContext({sourceArtifact:"WIT",field:"Discussion",artifactType:this._workItemType?this._workItemType.name:"N/A",workItemId:this._workItem.id}),this.changeDiscussionEditorVisibility())},t.prototype.unbind=function(t){this._discussionControl.stopProgress();this._discussionControl.clearErrors();this._workItem&&this._workItem.detachWorkItemChanged(this._onWorkItemChanged);n.prototype.unbind.call(this,t);this._discussionControl.popDiscussionContext()},t.prototype.invalidate=function(t){var i=this;t||(this._getMessageEntryControl().ready(function(){var n;n=w.FeatureAvailabilityService.isFeatureEnabled(b.FeatureAvailabilityFlags.GetWorkItemHistoryFieldValue)?i._workItem.isFieldDirty(h.CoreField.History)?i._getFieldTextValue():"":i._getFieldTextValue();i._getMessageEntryControl().setValue(n);i._setUploadAttachmentHandler()}),n.prototype.invalidate.call(this,t))},t.prototype.clear=function(){var n=this;this._getMessageEntryControl().ready(function(){n._getMessageEntryControl().setValue("")})},t.prototype.focus=function(){var n=this;this._getMessageEntryControl().ready(function(){n._workItem&&!n._workItem.isReadOnly()&&n._getMessageEntryControl().selectText(!0)})},t.prototype._getControlValue=function(){return this._getMessageEntryControl().getValue()},t.prototype.dispose=function(){this._discussionControl&&(this._discussionControl.dispose(),this._discussionControl=null);this._workItemMentionPreSaveProcessorDisposeCallBack&&this._workItemMentionPreSaveProcessorDisposeCallBack();n.prototype.dispose.call(this)},t.prototype.maximizeInPlace=function(n){var i,t;this._isMaximized=!0;i=this._getMessageEntryControl();i&&(n=n+12,this._fireResizedEvent());t=this._discussionControl.getDiscussionEditorControl();t&&t.setFullScreen(!0);this._discussionControl.setDiscussionMessagesContainerTop(n.toString());this._messageBatchSize=this._options.maximizedPageSize},t.prototype.restoreInPlace=function(){this._isMaximized=!1;this._discussionControl.setDiscussionMessagesContainerTop("");var n=this._discussionControl.getDiscussionEditorControl();n&&n.setFullScreen(!1);this._messageBatchSize=this._options.pageSize;this.focus();this._fireResizedEvent()},t.prototype.isEmpty=function(){return!1},t.prototype._setUploadAttachmentHandler=function(){var n=this._discussionControl.getDiscussionEditorControl();n&&n.setWorkItem(this._workItem)},t.prototype._fireResizedEvent=function(){var n=this._getMessageEntryControl();n&&r.getService().fire(u.FormEvents.ControlResizedEvent())},t.prototype._onAddComment=function(n){var t=this;this._workItem&&(s.using([tt],function(i){var r=i.CommentsCacheService.getActionsCreator(t._workItem);r.addComment(n)}),this._onCancelComment())},t.prototype._onCancelComment=function(){this._workItem._setFieldValueById(h.CoreField.History,"");var n=this._getField();n.resetUpdate()},t.prototype._createAvatar=function(n){var i=k.getAvatarUrl(n),t=f.identityImageElementFromAvatarUrl(i);return t.attr({"data-sip":n.email}),t.attr({alt:""}),t},t.prototype._flush=function(n,t){var i=this._getControlValue();if(g.DiscussionEditor.isHtmlEmpty(i)){this._smartFlush(n,t,"");return}this._smartFlush(n,t,i)},t.prototype.changeDiscussionEditorVisibility=function(){this._workItem.areCommentsEditable()?this._discussionControl.showDiscussionEditorControl(!this._workItem.isNew()):this._discussionControl.hideDiscussionEditorControl()},t.prototype._workItemLinkClickHandler=function(n){var r,t;if(n)return r=n.currentTarget,t=/^x-mvwit:workitem\/([0-9]+)$/.exec(r.href),t?(e.menuManager.executeCommand(new i.CommandEventArgs("open-work-item",{id:t[1],tfsContext:this.getTfsContext()},null)),!1):void 0},t.prototype._getMessageEntryControl=function(){return this._discussionControl?this._discussionControl.getMessageEntryControl():null},t.DEFAULT_MESSAGE_BATCH_SIZE_RESTORED=50,t.DEFAULT_MESSAGE_BATCH_SIZE_MAXIMIZED=200,t.MAX_PAGE_SIZE=200,t.MIN_PAGE_SIZE=1,t.ADD_COMMENT_CONTROL_HEIGHT="60",t}(p.MaximizableWorkItemControl);t.WorkItemDiscussionControl=it});

define("WorkItemTracking/Scripts/ControlRegistration/Form.Desktop",["require","exports","WorkItemTracking/Scripts/ControlRegistration","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/ControlRegistration/Form","WorkItemTracking/Scripts/Controls/WorkItemForm/FieldControl","WorkItemTracking/Scripts/Controls/WorkItemForm/TagFieldControl","WorkItemTracking/Scripts/Controls/WorkItemForm/FreshnessIndicatorControl","WorkItemTracking/Scripts/Controls/Links/Control","WorkItemTracking/Scripts/Controls/WorkItemForm/PlainTextControl","WorkItemTracking/Scripts/Controls/WorkItemForm/HtmlFieldControl","WorkItemTracking/Scripts/Controls/WorkItemForm/DateTimeControl","WorkItemTracking/Scripts/Controls/WorkItemForm/LabelControl","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemClassificationControl","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemDiscussionControl"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});var p=u.getFormRegistrationMode();p===u.FormRegistrationMode.Default&&(i.registerWorkItemFormControl(r.WellKnownControlNames.PlainTextControl,h.PlainTextControl),i.registerWorkItemControlAdvanced(r.WellKnownControlNames.HtmlControl,{renderType:i.RenderType.JQuery,controlType:c.HtmlFieldControl,previewConfiguration:{requiredModule:"WorkItemTracking/Scripts/Form/React/Components/LongTextFieldPreview",previewType:"LongTextFieldPreview",renderType:i.RenderType.React}}),i.registerWorkItemFormControl(r.WellKnownControlNames.DateControl,l.DateTimeControl),i.registerWorkItemControlAdvanced(r.WellKnownControlNames.ClassificationControl,{renderType:i.RenderType.JQuery,controlType:v.WorkItemClassificationControl}),i.registerWorkItemFormControl(r.WellKnownControlNames.LabelControl,a.LabelControl),i.registerWorkItemControlAdvanced(r.WellKnownControlNames.FieldControl,{renderType:i.RenderType.JQuery,controlType:f.FieldControl,previewConfiguration:{previewType:"FieldControlPreview",requiredModule:"WorkItemTracking/Scripts/Form/React/Components/FieldControlPreview",renderType:i.RenderType.React}}),i.registerWorkItemFormControl(r.WellKnownControlNames.WorkItemDiscussionControl,y.WorkItemDiscussionControl),i.registerWorkItemFormControl(r.WellKnownControlNames.LinksControl,s.LinksControl),i.registerWorkItemFormControl(r.WellKnownControlNames.AttachmentsControl,"AttachmentsControl","WorkItemTracking/Scripts/Controls/WorkItemForm/AttachmentsControl/AttachmentsControl"),i.registerWorkItemFormControl(r.WellKnownControlNames.FreshnessIndicatorControl,o.FreshnessIndicatorControl),i.registerWorkItemFormControl(r.WellKnownControlNames.TagFieldControl,e.TagFieldControl),i.registerWorkItemFormControl(r.WellKnownControlNames.FieldControl,f.FieldControl),i.registerWorkItemFormControl(r.WellKnownControlNames.DeploymentsControl,"DeploymentsControl","WorkItemTracking/Scripts/Controls/WorkItemForm/DeploymentsControl",["ms.vss-work-web.deployment-contents"]))});

define("WorkItemTracking/Scripts/Controls/WorkItemFormView",["require","exports","react","react-dom","VSS/Controls","VSS/Controls/Panels","VSS/Utils/UI","VSS/VSS","VSS/Error","VSS/Events/Services","WorkItemTracking/Scripts/WorkItemFormShortcutGroup","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Controls/PopupContent","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Form/Grids","WorkItemTracking/Scripts/Form/Events","WorkItemTracking/Scripts/Form/Tabs","WorkItemTracking/Scripts/Form/Renderer","WorkItemTracking/Scripts/Form/WorkItemViewContributionManager","WorkItemTracking/Scripts/Controls/WorkItemForm/CopyWorkItemLinkControl","WorkItemTracking/Scripts/Controls/WorkItemForm/DiscussionAdornmentControl","WorkItemTracking/Scripts/ControlRegistration","WorkItemTracking/Scripts/Utils/PerfScenarioManager","WorkItemTracking/Scripts/Controls/WorkItemForm/MaximizableWorkItemControl","WorkItemTracking/Scripts/Controls/WorkItemForm/LabelControl","WorkItemTracking/Scripts/Controls/WorkItemToolbar","WorkItemTracking/Scripts/Form/LayoutTransformations/LayoutTransformations","WorkItemTracking/Scripts/Utils/LayoutUserSettingsUtility","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/Scripts/Form/FormFieldEventHandler","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Form/FormGroup","WorkItemTracking/Scripts/Form/LayoutTransformations/InjectHeaderPageTransformation","TfsCommon/Scripts/WITIdentityHelpers","VSS/Service","VSS/Contributions/Services","VSS/Diag","WorkItemTracking/Scripts/Form/UserLayoutSettings","WorkItemTracking/Scripts/Form/React/Components/DropTargetComponent","VSS/Utils/Accessibility","jQueryUI/button","jQueryUI/dialog","jQueryUI/tabs","WorkItemTracking/Scripts/ControlRegistration/Form.Desktop"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti){function fi(n){return n?(ri[n]||(ri[n]=bt.getService(kt.ExtensionService).getContributions([n],!0,!1)),ri[n]):Promise.resolve([])}function ui(n,t,i){return i===void 0&&(i=fi(n.contributionId)),i.then(function(i){var r=i.filter(function(t){return t.id===n.contributionId})[0],f=r&&r.properties[y.WorkItemFormContributionProperties.Inputs]||[],u=f.filter(function(t){return t.id in n.inputs&&t.type==="WorkItemField"});if(u.length===1)return t(n.inputs[u[0].id])})}function ei(n,t,i,r){return r===void 0&&(r=fi((n.data("contribution")||{}).contributionId)),ui(n.data("contribution"),t,r).then(function(t){var r=t&&t.helpText,u;r&&(u=$("<div/>").append($("<div/>").text(r)).append($("<div/>").text(a.format(b.WorkItemFieldLabelTitleFormat,t.name))),i(u,n))})}var ii,ri,oi;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemFormView=t.addControlContributionTooltip=void 0;ii=h.getService();ri={};t.addControlContributionTooltip=ei;oi=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._dropTargetIsCreated=!1,i._unregisteredTabs=[],i._registeredTabs=[],i._unregisteredGroups=[],i._registeredGroups=[],i._formFieldEventHandlers=[],i.contributedControlBindingData=[],i.isDeletedView=i._options.isDeletedView,i.workItemType=i._options.workItemType,i.extension=i._options.extension,i.form=i._options.form,i.controls=[],i._groups=[],i._pageGrids=[],i._tfsContext=i.workItemType.store.getTfsContext(),i._contributionManager=new tt,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"work-item-view new-work-item-view",readOnly:!1},t))},t.prototype._dispose=function(){this._shortcutGroup&&this._shortcutGroup.removeShortcutGroup();this._dropTargetIsCreated&&r.unmountComponentAtNode(this._dropTargetContainer);this.unbind();this.controls&&this.controls.forEach(function(n){n.dispose()});this._contributionManager.dispose();this._renderer&&(this._renderer.dispose(),this._renderer=null);n.prototype._dispose.call(this)},t.prototype.getLayout=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return!this._layout?[4,this._getFormInfo()]:[3,2];case 1:n=t.sent();this._layout=n.layout;this._renderer=n.renderer;t.label=2;case 2:return this._applyUserLayoutSettings(),[2,Promise.resolve(this._layout)]}})})},t.prototype._getLayoutTransformations=function(){return[new ht.DeletedViewTransformation(this.isDeletedView),new ht.GroupLabelTransformation,new ht.DiscussionLayoutTransformation,new ht.HistoryControlTransformation,new ht.HistoryControlGroupTransformation,new pt.InjectHeaderPageTransformation,new ht.DeploymentControlTransformation]},t.prototype._getFormInfo=function(){return __awaiter(this,void 0,void 0,function(){var n,t,i,r,u,f;return __generator(this,function(e){switch(e.label){case 0:return n=this.workItemType.form,dt.Debug.assertIsString(n),typeof n=="string"&&(this._layoutModel=JSON.parse(this.workItemType.form),this.workItem&&this.workItem.isReadOnly()&&(this._layoutModel.showEmptyReadOnlyFields=!0)),t=new nt.FormRenderer(this.workItemType.referenceName,this._layoutModel,this._getLayoutTransformations(),this._contributionManager,this.getId()),[4,t.drawLayout()];case 1:return i=e.sent(),r=i.layout,u=i.groups,(f=this._unregisteredGroups).push.apply(f,u),[2,{layout:r,renderer:t}]}})})},t.prototype._applyUserLayoutSettings=function(n){var t=bt.getService(gt.WorkItemFormUserLayoutSettingsService).getLayoutSettingsForWorkItemType(this.workItemType),i;t&&t.collapsedGroups&&(i=n&&n.length>0?n.find(".grid-group-container"):this._layout.find(".grid-group-container"),$.each(i,function(n,i){var r=u.Enhancement.getInstance(yt.FormGroup,$(i));r&&(ct.LayoutUserSettingsUtility.isGroupCollapsedForWorkItemType(t,r.getGroupId())?r.collapse():r.expand())}))},t.prototype.beginAttachLayout=function(n){return __awaiter(this,void 0,void 0,function(){var t,i=this;return __generator(this,function(r){switch(r.label){case 0:return[4,this.getLayout()];case 1:return t=r.sent(),ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_ATTACHLAYOUT,!0),this.attached?(this.showElement(),ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_ATTACHLAYOUT,!1),n&&n()):this._renderLayoutContent(t,!0,function(){ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_APPENDELEMENT,!0);i._element.append(t);ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_APPENDELEMENT,!1);i.attached=!0;ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_ATTACHLAYOUT,!1);n&&n()}),[2]}})})},t.prototype.detachLayout=function(){this.attached&&this.hideElement()},t.prototype.bindControlContributions=function(n){var r=this,t,i,e;ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_BIND_CONTRIBUTIONS,!0);var o=function(n){return r.workItemType.getFieldDefinition(n)},s=this._layout.find(".control-extension-container"),u=[],f=function(n,t){n.isValid()?t.removeClass("invalid"):t.addClass("invalid")},h=function(t){var i=$(t),e=i.data("contribution")||{};u.push(ui(e,o).then(function(t){var u,e;t&&(u={fieldId:t.referenceName,callback:function(n,t){f(t,i)}},r.contributedControlBindingData.push(u),e=n.getField(u.fieldId),f(e,i),n.attachFieldChange(u.fieldId,u.callback))}))};for(t=0,i=s.toArray();t<i.length;t++)e=i[t],h(e);return ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_BIND_CONTRIBUTIONS,!1),Promise.all(u).then(function(){return undefined})},t.prototype._unbindControlContributions=function(n){while(this.contributedControlBindingData.length>0){var t=this.contributedControlBindingData.pop();n.detachFieldChange(t.fieldId,t.callback)}},t.prototype.bind=function(n,t){var r=this,g,f,h,v,i,y,p,nt,w,tt,b,k,a;for(ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_BIND,!0),this.workItem=n,this.isDisabledView=t,f={},h=0,v=this.controls;h<v.length;h++){i=v[h];try{g=Date.now();dt.timeStamp("".concat(i.getControlType(),".Bind"),dt.StampEvent.Enter);i.bind(n,t);y=Date.now()-g;p=i.getControlId();p&&y>10&&(f[p]="".concat(i.getControlType(),":").concat(y));dt.timeStamp("".concat(i.getControlType(),".Bind"),dt.StampEvent.Leave)}catch(ut){nt=o.getErrorMessage(ut);w="Error binding control associated with field ".concat(i._fieldName,". More details: ").concat(nt);window.console&&window.console.warn&&window.console.warn(w);s.publishErrorToTelemetry({name:"CouldNotBindControl",message:w})}}if(Object.keys(f).length>0&&ft.PerfScenarioManager.addData({slowControls:f}),this.bindControlContributions(n),this._registerFormChangeHandlers(),ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_BIND,!1),this._contributionManager.bind(n),tt=this.form,$(this._element).attr("tabindex",-1),b=n.isDeleted(),b||$(this._element).keydown(function(t){return e.KeyUtils.isExclusivelyCommandOrMetaKeyBasedOnPlatform(t)&&String.fromCharCode(t.keyCode).toLowerCase()==="s"?(n.isDirty()&&!n.isSaving()&&n.beginSave(null,function(){tt.addAlertToInfobarError()},"ToolbarSave"),!1):e.KeyUtils.isExclusivelyCommandOrMetaKeyBasedOnPlatform(t)&&t.keyCode===e.KeyCode.ENTER?(r._toolbar&&r._toolbar.executeMenuItem(st.WorkItemToolbar.SAVE_AND_CLOSE_WORK_ITEM),!1):void 0}),this._registerPageFieldHandlers(),this._registerGroupFieldHandlers(),b||(this._copyWorkItemLinkControl||(a=$(".work-item-form-headerContent .copy-workitem-title-container",this._element),this._copyWorkItemLinkControl=u.Enhancement.getInstance(it,a)),this._copyWorkItemLinkControl.bind(n)),k=this.form.getDialogOptions(),this._shortcutGroup=new c.WorkItemFormShortcutGroup({workItemFormView:this,copyControl:this._copyWorkItemLinkControl,tabsControl:this._renderer.getTabsControl(),dialogOptions:k?{maximizeToggle:k.toggleFullScreen}:null}),!this._discussionAdornmentControl){a=$(".work-item-form-headerContent .discussion-adornment-control",this._element);this._discussionAdornmentControl=u.Enhancement.getInstance(rt,a);this._discussionAdornmentControl.onClick(function(){r.navigateToAndFocusOnDiscussion()})}this._discussionAdornmentControl.bind(n);l.delay(this,0,function(){ii.fire(d.FormEvents.LayoutResizedEvent(r.getId()))});this._dropTargetIsCreated&&this._dropTarget.updateWorkItem(n)},t.prototype.isFieldValid=function(n){return n.isValid()},t.prototype._registerPageFieldHandlers=function(){for(var n=this,i=function(){var i=t._unregisteredTabs.pop();t.getPageFields(t.workItem,i.page).then(function(t){if(n.workItem){var r=new at.FormFieldEventHandler(n.workItem,n.isFieldValid.bind(n),i.setIsValid.bind(i),t);n._formFieldEventHandlers.push(r)}},function(){});t._registeredTabs.push(i)},t=this;this._unregisteredTabs.length>0;)i()},t.prototype.getPageFields=function(n,t){for(var f,e=this,i=[],r=0,u=t.sections;r<u.length;r++)f=u[r],i.push.apply(i,f.groups.map(function(t){return e.getGroupFields(n,t)}));return Promise.all(i).then(function(n){for(var u,t={},i=0,r=n;i<r.length;i++)u=r[i],t=__assign(__assign({},t),u);return t})},t.prototype._registerGroupFieldHandlers=function(){for(var t=this,i=function(){var i=n._unregisteredGroups.pop();if(n.getGroupFields(n.workItem,i.model).then(function(n){if(t.workItem){var r=new at.FormFieldEventHandler(t.workItem,t.isFieldValid.bind(t),i.setIsValid.bind(i),n);t._formFieldEventHandlers.push(r)}},function(){}),n._layoutModel.showEmptyReadOnlyFields!==!0){var r=n.getGroupVisibilityCriteria(n.workItem,i.model),u=r.fields,f=r.hasPermanentControls,e=new at.FormFieldEventHandler(n.workItem,function(n){return n.isReadOnly()&&w.Field.isEmpty(n.getValue())},function(n){return i.setIsHidden(!f&&n)},u);n._formFieldEventHandlers.push(e)}n._registeredGroups.push(i)},n=this;this._unregisteredGroups.length>0&&this.workItem;)i()},t.prototype.getGroupFields=function(n,t){for(var e,i,o=this,r={},u=0,f=t.controls.filter(function(n){return!n.isContribution});u<f.length;u++)e=f[u],i=n.getField(e.id),i&&(r[i.fieldDefinition.referenceName]=i);return Promise.all(t.controls.filter(function(n){return n.isContribution}).map(function(n){return ui(n.contribution,function(n){return o.workItemType.getFieldDefinition(n)})})).then(function(t){for(var f,i=0,u=t.filter(function(n){return n});i<u.length;i++)f=u[i],r[f.referenceName]=n.getField(f.referenceName);return r})},t.prototype.getGroupVisibilityCriteria=function(n,t){for(var e,i,u={},o=t.isContribution||t.controls.filter(function(n){return n.visible&&n.isContribution||n.controlType!==vt.WellKnownControlNames.FieldControl&&n.controlType!==vt.WellKnownControlNames.HtmlControl&&n.controlType!==vt.WellKnownControlNames.DateControl}).length>0,r=0,f=t.controls.filter(function(n){return!n.isContribution&&n.visible});r<f.length;r++)e=f[r],i=n.getField(e.id),i&&(u[i.fieldDefinition.referenceName]=i);return{fields:u,hasPermanentControls:o}},t.prototype.unbind=function(n){this.workItem&&($.each(this.controls,function(t,i){i.unbind(n)}),this._unbindControlContributions(this.workItem),this._detatchFieldEventHandlers(),this.workItem=null);this._detachFormChangeHandlers();$(this._element).off("keydown");this._copyWorkItemLinkControl&&this._copyWorkItemLinkControl.unbind();this._discussionAdornmentControl&&this._discussionAdornmentControl.unbind();this.restoreInPlaceMaximizedGroups();this._contributionManager.unbind()},t.prototype._detatchFieldEventHandlers=function(){for(var n,t,i;this._formFieldEventHandlers.length>0;)i=this._formFieldEventHandlers.pop(),i.detachFields(),(n=this._unregisteredTabs).push.apply(n,this._registeredTabs),this._registeredTabs.length=0,(t=this._unregisteredGroups).push.apply(t,this._registeredGroups),this._registeredGroups.length=0},t.prototype.navigateToAndFocusOnDiscussion=function(){var i=this._renderer&&this._renderer.getTabsControl(),r=i&&i.getTabs(),e,t,n,o,s,h,c;r&&r.length>0&&(e=r[0],e&&(this.restoreMaximizedControl(),this.restoreInPlaceMaximizedGroups(),i.setActiveTab(e),t=v.first(this.controls,function(n){return n._fieldName===y.CoreFieldRefNames.History}),t&&(n=$(t._container).parents(".grid-group"),n.length===1&&(o=u.Enhancement.getInstance(f.CollapsiblePanel,n),o.expand(),o.focus()),this.workItem.isReadOnly()?(s=n.find("."+yt.FormGroup.COLLAPSABLE_HEADER_CLASS),s.length>0&&s.focus()):$(t).focus instanceof Function&&$(t).focus(),h=n.offsetParent(),c=n.position().top,h.scrollTop(h.scrollTop()+c))))},t.prototype.assignItemToCurrentIdentity=function(){var n=v.first(this.controls||[],function(n){return n._fieldName===y.CoreFieldRefNames.AssignedTo});!this.workItem||n&&n.isReadOnly()||this.workItem.setFieldValue(y.CoreFieldRefNames.AssignedTo,wt.WITIdentityHelpers.getUniqueIdentityNameForContextIdentity(this._tfsContext.currentIdentity.uniqueName,this._tfsContext.currentIdentity.displayName));ti.announce(b.AssignedToMeQuery,!0)},t.prototype.getWorkItem=function(){return this.workItem},t.prototype.suppressFieldUpdates=function(n){n===void 0&&(n=!0);$.each(this.controls,function(t,i){i.suppressInvalidate=n})},t.prototype._registerFormChangeHandlers=function(){this._registerFormGroupExpandStateChangedHandler();this._registerLayoutResizedHandler();this._registerControlResizedHandler();this._registerControlVisibilityChangedHandler()},t.prototype._detachFormChangeHandlers=function(){this._detachFormGroupExpandStateChangedHandler();this._detachLayoutResizedHandler();this._detachControlResizedHandler();this._detachControlVisibilityChangedHandler()},t.prototype.getToolbar=function(n){if(!this._toolbar){var t=this.getElement().find(".work-item-form-toolbar-container");this._toolbar=u.BaseControl.createIn(st.WorkItemToolbar,t,$.extend({isResponsive:!0},n))}return this._toolbar},t.prototype.fireEventToControlContributions=function(n){this._contributionManager.getPromises().forEach(function(t){t.then(function(t){t.source&&n(t.source,t.objectId)})})},t.prototype.restoreInPlaceMaximizedGroups=function(){var n=$(".grid-group-container",this._element);n.each(function(n,t){var i=yt.FormGroup.getInstance(yt.FormGroup,$(t));i&&i.restore()})},t.prototype.restoreMaximizedControl=function(){$.each(this.controls,function(n,t){if(t instanceof et.MaximizableWorkItemControl){var i=t;i&&i.isMaximized()&&i.restore()}})},t.prototype._registerFormGroupExpandStateChangedHandler=function(){var n=this;this._groupExpandStateChangedHandler=function(t,i){if(n._resizeGrids(),i.group&&bt.getService(gt.WorkItemFormUserLayoutSettingsService).setGroupExpansionState(n.workItemType,i.group.id,!i.isExpanded,vt.FormLayoutType.Desktop).then(null,function(){}),i.group&&i.groupElement){var r=i.groupElement.find(".workitemcontrol");$.each(r,function(n,t){var i=$(t).data("witControl");i&&i.onResize()})}};ii.attachEvent(d.FormEvents.GroupExpandStateChangedEvent(),this._groupExpandStateChangedHandler)},t.prototype._detachFormGroupExpandStateChangedHandler=function(){ii.detachEvent(d.FormEvents.GroupExpandStateChangedEvent(),this._groupExpandStateChangedHandler)},t.prototype._registerLayoutResizedHandler=function(){var n=this;this._layoutResizeHandler=function(){n._renderer&&n._renderer.getTabsControl().resize();n._resizeGrids();n._resizeControls()};this._windowResizeEventHandler=function(){return ii.fire(d.FormEvents.LayoutResizedEvent(n.getId()))};ii.attachEvent(d.FormEvents.LayoutResizedEvent(this.getId()),this._layoutResizeHandler);$(window).resize(this._windowResizeEventHandler)},t.prototype._detachLayoutResizedHandler=function(){$(window).off("resize",this._windowResizeEventHandler);ii.detachEvent(d.FormEvents.LayoutResizedEvent(this.getId()),this._layoutResizeHandler)},t.prototype._registerControlVisibilityChangedHandler=function(){var n=this;this._controlVisibilityHandler=function(){n._resizeGrids()};ii.attachEvent(d.FormEvents.ControlVisibilityChangedEvent(),this._controlVisibilityHandler)},t.prototype._detachControlVisibilityChangedHandler=function(){ii.detachEvent(d.FormEvents.ControlVisibilityChangedEvent(),this._controlVisibilityHandler)},t.prototype._registerControlResizedHandler=function(){var n=this;this._controlResizeHandler=function(){n._resizeGrids()};ii.attachEvent(d.FormEvents.ControlResizedEvent(),this._controlResizeHandler)},t.prototype._detachControlResizedHandler=function(){ii.detachEvent(d.FormEvents.ControlResizedEvent(),this._controlResizeHandler)},t.prototype._resizeGrids=function(){$.each(this._pageGrids,function(n,t){t.adjustGridSections()})},t.prototype._resizeControls=function(){$.each(this.controls,function(n,t){t.onResize()});this._toolbar&&this._toolbar.resize()},t.prototype._renderLayoutContent=function(n,t,i){var r=this,u;ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_RENDERLAYOUT_CREATELABELANDTABS,!0);this._createLabels(n);ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_RENDERLAYOUT_CREATELABELANDTABS,!1);ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_RENDERLAYOUT_CREATECONTROLS,!0);this._cacheLayoutNodes(n);u=function(){r._beginCreateControls(n,function(){ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_RENDERLAYOUT_CREATECONTROLS,!1);ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_RENDERLAYOUT_TABIFYLAYOUT,!0);r._tabifyLayout(n,t);ft.PerfScenarioManager.addSplitTiming(lt.PerformanceEvents.WORKITEMSVIEW_RENDERLAYOUT_TABIFYLAYOUT,!1);i&&i()});var u=r.workItem?r.workItem.isReadOnly():r._options.readOnly;r._dropTargetIsCreated||u||(r._createDropTarget(),r._dropTargetIsCreated=!0)};u()},t.prototype._cacheLayoutNodes=function(n){var t=this,r=n.find(".grid-group-container"),i;$.each(r,function(n,i){var r=u.Enhancement.getInstance(yt.FormGroup,$(i));r&&t._groups.push(r)});i=n.find(".form-grid");$.each(i,function(n,i){var r=u.Enhancement.getInstance(k.FormGrid,$(i));r&&t._pageGrids.push(r)})},t.prototype._createLabels=function(n){var u=this,t=this,i,r;n.find(".workitemlabel").each(function(){var n=$(this),i=n.data("witOptions")||{},r=new ot.WorkItemLabel(n,i,t.workItemType);i.workItemLabel=r});n.find(".headerlabel").each(function(){var r=$(this),u=r.data("witOptions"),n,i;u&&(n=t.workItemType.getFieldDefinition(u.fieldName),n&&(i=$("<span/>"),n.helpText&&i.append($("<span/>").text(n.helpText)).append($("<br>")),i.append($("<span/>").text(a.format(b.WorkItemFieldLabelTitleFormat,n.name))),p.RichContentTooltip.add(i,r)))});i=function(n,t){return p.RichContentTooltip.add(n,t)};r=function(n){return u.workItemType.getFieldDefinition(n)};n.find(".control-extension-container").each(function(){ei($(this),r,i)})},t.prototype._beginCreateControls=function(n,t){var i=this,r=n.find(".workitemcontrol"),u=r.length;r.each(function(n,r){var s=i.workItemType,h=[i.extension],f=$(r),e=f.data("witOptions")||{},o;f.hasClass("initialized")||(f.addClass("initialized"),o=function(n){f.text(a.format(n,e.controlType))},e.controlType===y.WellKnownControlNames.WorkItemDiscussionControl&&dt.timeStamp("_beginCreateControls.creatediscussion",dt.StampEvent.Enter),ut.beginGetWorkItemControl(e.controlType,function(n){if(e.controlType===y.WellKnownControlNames.WorkItemDiscussionControl&&dt.timeStamp("_beginCreateControls.creatediscussion",dt.StampEvent.Leave),n.controlType){dt.Debug.assert(n.renderType===ut.RenderType.JQuery,"Received non-JQuery control for JQuery based form");try{var c=n.controlType,r=new c(f,e,s,h);f.data("witControl",r);i.controls.push(r)}catch(l){dt.logError("The following WorkItemControl failed to load: "+e.controlType);o(b.ErrorCannotCreateWorkItemControl)}}else o(b.ErrorCannotCreateLegacyExtension);u--;u===0&&t&&t()}))})},t.prototype._createDropTarget=function(){var n=i.createElement(ni.DropTargetComponent,{workItem:this.workItem,form:this.form});this._dropTargetContainer=this.form.createDropTargetContainer();this._dropTarget=r.render(n,this._dropTargetContainer)},t.prototype._tabifyLayout=function(n){var t=this,i,r;n.tabified||(i=$(".work-item-form-tab",n),r=[],$.each(i,function(n,i){var s=$(i),f=u.Enhancement.getInstance(g.WorkItemFormTab,s),e=f.formGrid,o;r.push(e);o=function(){var n,i;f.isBodyDrawn()||(i=f.renderer.fillPage(f.page,e).groups,(n=t._unregisteredGroups).push.apply(n,i),t.workItem&&t._registerGroupFieldHandlers(),t._renderLayoutContent(e.getElement(),!1,function(){var n,i,r;if(t.workItem){for(n=0,i=t.controls;n<i.length;n++)r=i[n],r.bind(t.workItem,t.isDisabledView);t._applyUserLayoutSettings(e.getElement())}}))};f.setTabContentRenderer(o);t._unregisteredTabs.push(f)}),n.tabified=!0)},t}(u.Control);t.WorkItemFormView=oi});

define("WorkItemTracking/Scripts/Utils/WorkItemTypeColorAndIconUtils",["require","exports","VSS/Diag","Presentation/Scripts/TFS/FeatureRef/WorkItemTypeColorAndIconsProvider"],function(n,t,i,r){function u(n){var t=r.WorkItemTypeColorAndIconsProvider.getInstance(),i=n.project.name;return t.isPopulated(i)?t.getColor(i,n.name):null}function f(n){var t=r.WorkItemTypeColorAndIconsProvider.getInstance();return t.getColorAsync(n.project.name,n.name)}Object.defineProperty(t,"__esModule",{value:!0});t.beginGetWorkItemTypeColor=t.getWorkItemTypeColor=t.DefaultColor=void 0;t.DefaultColor=r.WorkItemTypeColorAndIcons.DEFAULT_WORKITEMTYPE_COLOR;t.getWorkItemTypeColor=u;t.beginGetWorkItemTypeColor=f});

define("WorkItemTracking/Scripts/Controls/WorkItemForm",["require","exports","VSS/Controls","VSS/Utils/Core","VSS/Utils/String","VSS/VSS","WorkItemTracking/Scripts/Controls/WorkItemForm/WorkItemInfoBar","WorkItemTracking/Scripts/Controls/WorkItemFormBase","WorkItemTracking/Scripts/Controls/WorkItemFormView","WorkItemTracking/Scripts/Controls/WorkItemToolbar","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/Scripts/Utils/PerfScenarioManager","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper","WorkItemTracking/Scripts/Utils/WorkItemTypeColorAndIconUtils"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemForm=void 0;var y=function(){function n(){}return n.showNotificationMessage=function(t,i){var u=this;r.delay(this,10,function(){n.removeNotificationMessage();u._showNotificationMessageInternal(t,i)})},n.removeNotificationMessage=function(){var n=$(".work-item-form-notification");n&&n.length>0&&n.remove()},n._showNotificationMessageInternal=function(t,i){var r,f=0,e,o,u,s;r=$(n.NEW_FORM_HEADER);f=r.outerHeight();e=10;r&&r.length>=1&&(o=$("<div/>").addClass("bowtie-icon bowtie-edit-delete close-action"),u=$("<div />").addClass("work-item-form-notification").html(t).append(o).click(function(){u.remove()}),i&&i.notificationIconClass&&(s=$("<span/>").addClass(i.notificationIconClass),u.append(s)),u.css({top:f,right:e}),u.appendTo(r[r.length-1]))},n.NEW_FORM_HEADER=".witform-layout-content-container:visible .work-item-form-main-header",n.OLD_FORM_VIEW=".work-item-view:visible",n}(),p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){l.PerfScenarioManager.addSplitTiming(c.PerformanceEvents.WORKITEMFORM_INITIALIZE,!0);this._options.headerToolbar?(this._options.headerToolbar instanceof h.WorkItemToolbar?(this.headerToolbar=this._options.headerToolbar,this._element.addClass("no-headertoolbar")):(this.headerToolbar=i.BaseControl.createIn(h.WorkItemToolbar,this._element,$.extend(this._options.headerToolbar,{contributionIds:[]})),this._ownHeaderToolbar=!0,this._hideHeaderToolbar()),this.headerToolbar.getElement().addClass("workitem-header-toolbar")):this._element.addClass("no-headertoolbar");this._options.infoBar?this._options.infoBar instanceof e.WorkItemInfoBar?(this.infoBar=this._options.infoBar,this._element.addClass("no-info-bar")):(this.infoBar=i.BaseControl.createIn(e.WorkItemInfoBar,this._element,this._options.infoBar.options),this._ownInfoBar=!0,this._hideInfoBar()):this._element.addClass("no-info-bar");this._wrapToolbarOptions();this._options.toolbar&&this._options.toolbar instanceof h.WorkItemToolbar&&(this.toolbar=this._options.toolbar,this._element.addClass("no-toolbar"));this._options.formViewType||(this._options.formViewType=s.WorkItemFormView);this._element.keydown(function(n){n.altKey&&n.keyCode!==18&&a.WIFormCIDataHelper.fieldKeyboardShortcutPressed(String.fromCharCode(n.keyCode))});n.prototype.initialize.call(this);l.PerfScenarioManager.addSplitTiming(c.PerformanceEvents.WORKITEMFORM_INITIALIZE,!1)},t.prototype.createDropTargetContainer=function(){var n=document.createElement("div");return n.classList.add("drop-target-container","absolute-fill"),n.setAttribute("aria-hidden","true"),this._element.append(n),n},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({infoBar:!0,toolbar:{inline:!0}},t))},t.prototype._dispose=function(){this._options&&(this._options=null);this._newFormLinksCountTab&&(this._newFormLinksCountTab=null);this._newFormAttachmentsCountTab&&(this._newFormAttachmentsCountTab=null);this._ownHeaderToolbar&&this.headerToolbar&&(this.headerToolbar.dispose(),this.headerToolbar=null);this._ownInfoBar&&this.infoBar&&(this.infoBar.dispose(),this.infoBar=null);this._ownToolbar&&this.toolbar&&(this.toolbar.dispose(),this.toolbar=null);n.prototype._dispose.call(this)},t.prototype.getDialogOptions=function(){return this._options?this._options.dialogOptions:null},t.prototype.onBind=function(n){var t=this,i;this.isDisposed()||(this._resetCountingTabs(),!this._options.toolbar||this._options.toolbar instanceof h.WorkItemToolbar?this._element.addClass("no-toolbar"):(this.toolbar=this.currentView.getToolbar(this._options.toolbar),this._ownToolbar=!0),this._showInfoBar(),this.infoBar&&this.infoBar.bind(n),this._showToolbar(),this.toolbar&&this.toolbar.bind(n),this._showHeaderToolbar(),this.headerToolbar&&this.headerToolbar.bind(n),i=v.getWorkItemTypeColor(n.workItemType),i?this._applyBorderColor(i):v.beginGetWorkItemTypeColor(n.workItemType).then(function(n){t.isDisposed()||t._applyBorderColor(n)},function(){t.isDisposed()||t._applyBorderColor(v.DefaultColor)}),this._getCountingTabs(),this._onLinksChanged(n))},t.prototype.onUnbind=function(){this.infoBar&&this.infoBar.unbind();this.toolbar&&this.toolbar.unbind();this.headerToolbar&&this.headerToolbar.unbind()},t.prototype.showNotification=function(n,t){var i=null;t&&(i={notificationIconClass:t});y.showNotificationMessage(n,i)},t.prototype.clearNotification=function(){y.removeNotificationMessage()},t.prototype.addAlertToInfobarError=function(){this.infoBar.getElement().data("readErrorText",!0)},t.prototype.setHeaderToolbar=function(n){this.headerToolbar=n;this._ownHeaderToolbar=!0;this.headerToolbar._element.addClass("workitem-header-toolbar")},t.prototype._hideHeaderToolbar=function(){this._ownHeaderToolbar&&this.headerToolbar.hideElement()},t.prototype._showHeaderToolbar=function(){this._ownHeaderToolbar&&this.headerToolbar.showElement()},t.prototype._hideToolbar=function(){this._ownToolbar&&this.toolbar.hideElement()},t.prototype._showToolbar=function(){this._ownToolbar&&this.toolbar.showElement()},t.prototype._hideInfoBar=function(){this._ownInfoBar&&this.infoBar.hideElement()},t.prototype._showInfoBar=function(){this._ownInfoBar&&this.infoBar.showElement()},t.prototype._clearCanvas=function(){n.prototype._clearCanvas.call(this);this._hideInfoBar();this._hideToolbar()},t.prototype._applyBorderColor=function(n){var t=n||"#fff",i=this.getElement(),r;i&&(r=i.find(".work-item-form-main-header"),r.css("border-left-color",t));this.infoBar&&this.infoBar.getElement().css("border-left-color",t)},t.prototype._wrapToolbarOptions=function(){var t=this;if(this._options.toolbar&&!(this._options.toolbar instanceof h.WorkItemToolbar)){var n=this._options.toolbar,i=typeof this._options.beginSaveCallback=="function"?n.beginSaveCallback:function(){return undefined},r=typeof this._options.saveErrorCallback=="function"?n.saveErrorCallback:function(){return undefined},u=typeof this._options.workItemSaveCallback=="function"?this._options.workItemSaveCallback:function(){return undefined};n.beginSaveCallback=function(n){i();n&&t.suppressFieldUpdates()};n.workItemSaveCallback=function(n){u(n)};n.saveErrorCallback=function(n){r(n);t.suppressFieldUpdates(!1)}}},t.prototype._resetCountingTabs=function(){this._getCountingTabs();this._newFormLinksCountTab.text("");this._newFormAttachmentsCountTab.text("")},t.prototype._getCountingTabs=function(){this._newFormLinksCountTab=this.getElement().find(".work-item-form-tab .link-count");this._newFormAttachmentsCountTab=this.getElement().find(".work-item-form-tab .attachment-count")},t.prototype._onLinksChanged=function(n){var i=n.getLinks(),t=i.filter(function(n){return u.ignoreCaseComparer(n.baseLinkType,"Attachment")===0}).length,r=i.length-t;this._resetCountingTabs();r!==0&&this._newFormLinksCountTab.text(u.format("  ({0})",r));t!==0&&this._newFormAttachmentsCountTab.text(u.format("  ({0})",t))},t.enhancementTypeName="tfs.WorkItemForm",t}(o.WorkItemFormBase);t.WorkItemForm=p;f.initClassPrototype(p,{toolbar:null,_ownToolbar:!1,infoBar:null,_ownInfoBar:!1,headerToolbar:null,_ownHeaderToolbar:!1})});

define("WorkItemTracking/Scripts/Utils/WorkItemClassificationUtils",["require","exports","WorkItemTracking/Scripts/MruClassificationPicker/Actions/ClassificationFieldsMruSettingsUtils","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r){function u(n,t){return __awaiter(this,void 0,void 0,function(){var h,f,e,u,o,s;return __generator(this,function(c){switch(c.label){case 0:return h=new i.ClassificationFieldsMruSettingsUtils,[4,Promise.all([n.project.nodesCacheManager.beginGetNodes(),h.getMru(t)])];case 1:return f=c.sent(),e=f[0],u=f[1],u.areaPathMru&&u.areaPathMru.length>0&&(o=u.areaPathMru[0],e&&n.project.nodesCacheManager.findNodeById(o)&&n.setFieldValue(r.CoreField.AreaId,o)),u.iterationPathMru&&u.iterationPathMru.length>0&&(s=u.iterationPathMru[0],e&&n.project.nodesCacheManager.findNodeById(s)&&n.setFieldValue(r.CoreField.IterationId,s)),[2]}})})}Object.defineProperty(t,"__esModule",{value:!0});t.setClassificationNodesUsingMRU=void 0;t.setClassificationNodesUsingMRU=u});

define("WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls",["require","exports","Presentation/Scripts/TFS/FeatureRef/TFS.WatchDogService","VSS/Context","VSS/Controls/PopupContent","VSS/Navigation/NavigationHistoryService","VSS/Service","VSS/Utils/UI","WorkItemTracking/Scripts/Controls/WorkItemForm","WorkItemTracking/Scripts/Controls/WorkItemFormView","WorkItemTracking/Scripts/Form/UserLayoutSettings","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemManager","WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Utils","WorkItemTracking/Scripts/Utils/InitialValueHelper","WorkItemTracking/Scripts/Utils/PerfScenarioManager","WorkItemTracking/Scripts/Utils/TelemetryUtils","WorkItemTracking/Scripts/Utils/UseWitDialog","WorkItemTracking/Scripts/Utils/WorkItemClassificationUtils","WorkItemTracking/Scripts/Utils/WorkItemControlsActions","WorkItemTracking/Scripts/Utils/WorkItemTitleUtils","VSS/Controls","VSS/Diag","VSS/Controls/Dialogs","VSS/Controls/Menus","VSS/Controls/StatusIndicator","VSS/Resources/VSS.Resources.Platform","VSS/VSS","VSS/Events/Action","VSS/Events/Services","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Utils/Core","Presentation/Scripts/TFS/TFS.OM.Common","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Telemetry/Services","WorkItemTracking/Scripts/Form/Events","WorkItemTracking/Scripts/Utils/WitControlMode","WorkItemTracking/Scripts/CustomerIntelligence","jQueryUI/dialog","WorkItemTracking/Scripts/Utils/WorkItemPermissionDataHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt){function ni(n){var t;t=n.tfsContext||ht.TfsContext.getDefault();gt.showWorkItemById(n.id,t,n.options,n.tryGetLatest)}function ti(n){var t,i,r;t=n.tfsContext||ht.TfsContext.getDefault();i=n.project?n.project.name:n.projectName||t.navigation.project;r=lt.ProjectCollection.getConnection(t).getService(at.WorkItemStore);r.beginGetProject(i,function(t){t.beginGetWorkItemType(n.workItemTypeName,function(i){var u=a.WorkItemManager.get(r).createWorkItem(i),f=function(){var t,i;if(n.initialValues){t={};for(i in n.initialValues)t["["+i+"]"]=n.initialValues[i];y.InitialValueHelper.assignInitialValues(u,t)}gt.showWorkItem(u,__assign(__assign({},n.options),{saveButton:!0}))};k.setClassificationNodesUsingMRU(u,t.guid).then(function(){u.resetManualFieldChanges();f()},function(){f()})})})}Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemFormDialog=t.WorkItemActions=void 0;Object.defineProperty(t,"WorkItemActions",{enumerable:!0,get:function(){return d.WorkItemActions}});var kt=ot.getService(),ii=et.getErrorMessage,ri=st.getService(),dt="".concat(Date.now()+Math.random()),gt;(function(n){function rt(n,f,a){function gt(n){var t=n;rt&&(t=n&&rt.isDirty()&&!rt.isReadOnly()&&!ti&&!rt.isSaving(),$("#"+ui).button("option","label",rt.isDirty()?vt.Cancel:vt.DialogCloseButtonText),st=rt.isDirty()||rt.getIsCommentDirty());ki&&$("#"+wi).button("option","disabled",!t);di&&$("#"+bi).button("option","disabled",!t);$("#"+ui).button("option","disabled",!n)}function li(n){tt.logTracePoint("WorkItemForm.saveHandler.start");gt(!1);var t=rt.getInvalidFields();t&&t.length?gt(!0):(ei=!0,n&&ot.suppressFieldUpdates(!0),rt.beginSave(function(){ei=!1;tt.logTracePoint("WorkItemForm.saveHandler.saveComplete");n?(et.setDialogResult("ok"),et.close(),tt.logTracePoint("WorkItemForm.saveHandler.saveAndCloseComplete")):gt(!0)},function(){ei=!1;n&&ot.suppressFieldUpdates(!1);gt(!0);ot.infoBar.update()}))}function ai(){et.cancelDelayedFunction("downloading")}function tr(){et.cancelDelayedFunction("completeOpen")}function gi(){ht?yi(!0):vi(!0);ot&&ot.currentView&&ri.fire(pt.FormEvents.LayoutResizedEvent(ot.currentView.getId()));yt.publishEvent(new yt.TelemetryEventData(bt.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"WorkItem.NewFormDialog.DialogViewState",{fullScreen:ht},Date.now()))}function vi(n){ht=!0;lt.attr("aria-label",ft.ExitFullScreenModeTooltip);si.removeClass("bowtie-view-full-screen").addClass("bowtie-view-full-screen-exit");u.RichContentTooltip.add(ft.ExitFullScreenModeTooltip,lt);et.getElement().parent().addClass("full-screen");et.getElement().dialog("option","resizable",!1);et.getElement().dialog("option","draggable",!1);et.centerDialog();n&&e.getService(c.WorkItemFormUserLayoutSettingsService).setDialogFullscreenState(!0)}function yi(n){var t;ht=!1;lt.attr("aria-label",ft.EnterFullScreenModeTooltip);si.removeClass("bowtie-view-full-screen-exit").addClass("bowtie-view-full-screen");u.RichContentTooltip.add(ft.EnterFullScreenModeTooltip,lt);et.getElement().parent().removeClass("full-screen");et.getElement().dialog("option","resizable",!0);et.getElement().dialog("option","draggable",!0);t=et.getElement().data("form");t&&t.infoBar&&t.infoBar.getElement().find("a.caption").focus();var i=et._options.widthPct,r=et._options.heightPct,f=et._options.position;et.getElement().dialog("option",{width:$(window).width()*i,height:$(window).height()*r});et.getElement().dialog("option",{position:f});n&&e.getService(c.WorkItemFormUserLayoutSettingsService).setDialogFullscreenState(!1)}var kt=p.PerfScenarioManager.startScenario(bt.WITPerformanceScenario.WORKITEM_OPENDIALOG_NEWLAYOUT,!1),ti,ci,pi;e.getService(i.WatchDogService,f.getTfsContext().contextData).startWatchScenario(bt.WITPerformanceScenario.WORKITEM_OPENDIALOG_NEWLAYOUT,!1,1e4,bt.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"WorkItemFormDialog",bt.WITCustomerIntelligenceFeature.WIT_WATCHDOG_OPEN_FORM);var ni,wi="wit-dialog-save"+nt.getId(),bi="wit-dialog-save-close"+nt.getId(),ui="wit-dialog-close"+nt.getId(),et,fi,rt,ot,ei=!1,st=!1,oi=!1,ht,lt,si;ti=a&&a.readOnly===!0;ci=a&&a.close;y=a&&a.addQueryParam;var nr=a&&a.replaceState,ki=a?typeof a.saveButton=="boolean"?a.saveButton:!0:!0,di=a?typeof a.saveCloseButton=="boolean"?a.saveCloseButton:!0:!0,hi={};ti||(ki&&(hi.save={showLabel:vt.Save,id:wi,disabled:!0,click:function(){return li(!1)}}),di&&(hi["save-close"]={showLabel:vt.SaveAndClose,id:bi,disabled:!0,click:function(){return li(!0)}}));hi.cancel={id:ui,showLabel:st?vt.Cancel:vt.DialogCloseButtonText,click:function(){et.close()}};pi=function(){var pt,ri,wt,pi,wi;et=it.Dialog.show(it.Dialog,{title:"Work Item Form",minWidth:640,minHeight:480,widthPct:.9,buttons:hi,dialogClass:"workitem-dialog new-workitem-dialog invisible",useLegacyStyle:!0,open:function(){$(window.document).on("focusin.dialog",function(n){n.stopImmediatePropagation()});var k=!1,u=$(this),d=Date.now();ct.delay(this,0,function(){ht=e.getService(c.WorkItemFormUserLayoutSettingsService).isDialogFullscreen;lt=$("<div/>").attr("role","button").addClass("full-screen-button");si=$("<span/>").addClass("bowtie-icon");lt.append(si).insertAfter(u.prev(".ui-dialog-titlebar").find(".ui-dialog-title"));ht?vi(!1):yi(!1);lt.click(function(){gi()});o.accessible(lt);et.getElement().parent().removeClass("invisible");n(function(n){function ft(){et.setTitle(g.getWorkItemEditorTitle(rt,256))}function wt(){ft();gt(!0)}var lt=this,o,ut,it;if(o=n.store.getTfsContext().navigation,ut=o?JSON.stringify({area:o.area,controller:o.currentController,action:o.currentAction,parameter:o.currentParameters}):"",kt.addData({WorkItemType:"[NonEmail: "+n.workItemType.name+"]",Project:n.project.name,Navigation:ut,linkDetails:w.TelemetryUtils.getWorkItemLinkTelemetryDetails(n)}),et.isDisposed()){kt&&p.PerfScenarioManager.abortScenario(kt.getName());e.getService(i.WatchDogService,f.getTfsContext().contextData).endWatchScenario(bt.WITPerformanceScenario.WORKITEM_OPENDIALOG_NEWLAYOUT);return}ht=e.getService(c.WorkItemFormUserLayoutSettingsService).isDialogFullscreen;ht?vi(!1):yi(!1);fi=ct.throttledDelegate(this,200,wt,null,ct.ThrottledDelegateOptions.Immediate|ct.ThrottledDelegateOptions.QueueNext);rt=n;k=!0;rt.attachWorkItemChanged(fi);st=rt.isDirty()||rt.getIsCommentDirty();st&&$("#"+ui).button("option","label",vt.Cancel);ai();u.empty();it={readOnly:ti,toolbar:{inline:!0,isDialog:!0,closeWorkItemFormDialogDelegate:function(n){n===!0&&(st=!1);et.setDialogResult("ok");et.close()}},formViewType:h.WorkItemFormView,dialogOptions:{toggleFullScreen:gi}};a&&typeof a.save=="function"&&(it.workItemChanged=function(n){n.change===l.WorkItemChangeType.Saved&&a.save(n.workItem)});p.PerfScenarioManager.addSplitTiming(bt.PerformanceEvents.WORKITEMDIALOG_CREATEWORKITEMFORM,!0);ot=nt.BaseControl.createIn(s.WorkItemForm,u,it);p.PerfScenarioManager.addSplitTiming(bt.PerformanceEvents.WORKITEMDIALOG_CREATEWORKITEMFORM,!1);ot._bind("onBind",function(){kt&&p.PerfScenarioManager.endScenario(kt.getName());ni=p.PerfScenarioManager.startScenario(bt.WITUserScenarioActions.WORKITEM_CREATEOREDIT,!1);ct.delay(lt,200,function(){ot&&!ot.isDisposed()&&rt.isNew()?$("input:visible:not([disabled])",ot.getElement()).first().focus():ot&&ot.infoBar&&!ot.infoBar.isDisposed()&&ot.infoBar.getElement().find("a.caption").focus()})});ot.bind(rt);u.data("form",ot);et.delayExecute("completeOpen",0,!1,function(){var c,u,s,l,h;if(ft(),ti||gt(!0),a&&typeof a.onRenderComplete=="function")a.onRenderComplete(rt);e.getService(i.WatchDogService,f.getTfsContext().contextData).endWatchScenario(bt.WITPerformanceScenario.WORKITEM_OPENDIALOG_NEWLAYOUT);tt.logTracePoint("WorkItemForm.dialogHost.open.complete");var p=bt.WITPerformanceScenario.WORKITEM_OPEN_NEWFORMDIALOG,w=r.getPageContext(),o=__assign(__assign({},t.getState()),{sessionId:dt,artificialState:pt.toString(),workitem:rt.id.toString()}),n=__assign({},o);if((y||parseInt(n[b])<=0)&&v){for(c=["sessionId","artificialState"],u=0,s=c;u<s.length;u++)l=s[u],delete n[l];!y&&n[b]&&delete n[b];n.newWorkItemDialogDismissed&&delete n.newWorkItemDialogDismissed;h=t.generateUrl(n,1);nr?t.replaceState(o,h,null,null):t.pushState(o,h,null,null,!0,!0);oi=!0}yt.publishEvent(new yt.TelemetryEventData(bt.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,p,{workItemType:"[NonEmail: "+rt.workItemType.name+"]",project:rt.project.name,isNew:rt.isNew(),workItemSessionId:rt.sessionId,originArea:w.navigation.routeId,workItemId:rt.id,action:rt.isNew()?"Create":"Edit"},d))})},function(n){(kt&&p.PerfScenarioManager.abortScenario(kt.getName()),e.getService(i.WatchDogService,f.getTfsContext().contextData).endWatchScenario(bt.WITPerformanceScenario.WORKITEM_OPENDIALOG_NEWLAYOUT),ni&&p.PerfScenarioManager.abortScenario(ni.getName()),ai(),et.isDisposed())||(u.empty(),u.append($(o.domElem("div","error-work-item-download")).text(ii(n)||"Unknown error happened while accessing work item.")))});k||et.delayExecute("downloading",100,!1,function(){var n=nt.BaseControl.createIn(ut.StatusIndicator,u,{center:!0,throttleMinTime:0,imageClass:"big-status-progress",message:ft.Loading});n.start()});pi=Number(et.getElement().parent(".ui-dialog").css("zIndex"))})},beforeClose:function(){var n=!1;return function(t){if(ei)return!1;if(st=rt&&(rt.isDirty(!0)||rt.getIsCommentDirty()),!n&&st&&!t.closedByNavigation){var i=vt.UnsavedWorkItemPrompt,r=undefined;return rt.isDirty(!0)?r={dialogClass:"dirty-workitem-confirmation-dialog",defaultButton:"save",escapeButton:it.MessageDialog.buttons.cancel,noDefaultButton:!0,noAutoCta:!0,buttons:[it.MessageDialog.buttons.cancel,{id:"discard",text:vt.DiscardChanges,reject:!1},{id:"save",text:vt.SaveChanges,reject:!1,style:"cta savebtn"}]}:(i=vt.UnsavedCommentPrompt,ot.suppressFieldUpdates(!1),rt.reset(),rt.setIsCommentDirty(!0)),it.MessageDialog.showMessageDialog(i,r).then(function(t){t.button.id==="save"?(n=rt.isValid()&&!rt.getIsCommentDirty(),li(!rt.getIsCommentDirty())):(n=!0,et.close())},function(){wt&&(window.history.forward(),wt=!1)}),$(".dirty-workitem-confirmation-dialog .savebtn").focus(),!1}return!0}}(),close:function(n){var i,r,f;ai();tr();fi&&rt&&rt.detachWorkItemChanged(fi);rt&&rt.resetContributionErrorStatuses();ot&&ot.dispose();(et.getDialogResult()!=="ok"||n.keyCode===o.KeyCode.ESCAPE)&&st&&rt&&(rt.reset(),rt.discardIfNew(),ni&&p.PerfScenarioManager.abortScenario(ni.getName()));ci&&ci(rt);u.RichContentTooltip.hide();t.unsubscribe(wi);d--;pt--;wt||n.closedByNavigation?(f=pi&&$(".ui-widget-overlay").toArray().some(function(n){return Number(n.style.zIndex)>pi}),yt.publishEvent(new yt.TelemetryEventData(bt.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"WorkItemDialog",{action:"Close",closedByBrowserNavigation:wt,closedByXHRNavigation:n.closedByNavigation,error:f?"User navigated on work item dialog when another dialog is on the top":undefined}),!0)):(i=t.getState(),i.workitem==="0"&&(i.artificialState=pt.toString(),r=__assign(__assign({},i),{newWorkItemDialogDismissed:"true"}),t.replaceState(r,t.generateUrl(i),null,null)),oi&&window.history.back());!v&&oi&&(t.subscribe(k),v=!0)}});pt=++d;ri=__assign(__assign({},t.getState()),{sessionId:dt,artificialState:pt.toString()});y||ri[b]||!v||(t.pushState(ri,window.location.href,null,null,!0),t.unsubscribe(k),v=!1,oi=!0);wt=!1;wi=function(n){(!n.newState||!n.newState.state.artificialState||parseInt(n.newState.state.artificialState)<pt||n.newState.state.sessionId!==dt)&&(et.isDisposed()||(wt=!0,et.close()))};t.subscribe(wi)};wt.WitFormModeUtility.ensureWitFormModeLoaded().then(pi,pi)}function k(n){n.newState&&n.newState.state.newWorkItemDialogDismissed==="true"&&n.newState.state.workitem&&parseInt(n.newState.state.workitem)<=0?window.history.back():n.newState&&n.newState.state.workitem&&parseInt(n.newState.state.workitem)>0&&(!n.oldState.state.artificialState||parseInt(n.newState.state.artificialState)===parseInt(n.oldState.state.artificialState)+1)&&et(parseInt(n.newState.state.workitem),ht.TfsContext.getDefault(),{addQueryParam:!0,replaceState:!0})}function ot(){y||(t.unsubscribe(k),v=!1)}function st(n,t){rt(function(t){t(n)},n.store,t)}function et(n,t,i,r){tt.logTracePoint("WorkItemForm.showWorkItemById.start");var u=lt.ProjectCollection.getConnection(t).getService(at.WorkItemStore);rt(function(i,f){p.PerfScenarioManager.addSplitTiming(bt.PerformanceEvents.WORKITEMFORM_GETWORKITEM,!0);a.WorkItemManager.get(u).beginGetWorkItem(n,function(n){p.PerfScenarioManager.addSplitTiming(bt.PerformanceEvents.WORKITEMFORM_GETWORKITEM,!1);i(n)},f,undefined,r?-1:undefined)},u,i)}var d=0,y=!1,v=!1,t=f.getNavigationHistoryService(),b="workitem";document.body.addEventListener("fpsLoading",ot);v||(t.subscribe(k),v=!0);n.showWorkItem=st;n.showWorkItemById=et})(gt=t.WorkItemFormDialog||(t.WorkItemFormDialog={}));kt.registerActionWorker(d.WorkItemActions.ACTION_WORKITEM_OPEN,ni);kt.registerActionWorker(d.WorkItemActions.ACTION_WORKITEM_OPEN_DIALOG,ni);kt.registerActionWorker(d.WorkItemActions.ACTION_WORKITEM_OPEN_IN_NEW_TAB,d.openWorkItemInNewTabActionWorker);kt.registerActionWorker(d.WorkItemActions.ACTION_WORKITEM_NEW,ti);kt.registerActionWorker(d.WorkItemActions.ACTION_WORKITEM_NEW_DIALOG,ti);rt.menuManager.attachExecuteCommand(function(n,t){var i=t.get_commandArgument(),r,u,f;if(i){r=i.tfsContext||ht.TfsContext.getDefault();switch(t.get_commandName()){case d.WorkItemActions.ACTION_WORKITEM_OPEN:return kt.performAction(d.WorkItemActions.ACTION_WORKITEM_OPEN,i),!1;case d.WorkItemActions.ACTION_WORKITEM_OPEN_IN_NEW_TAB:return kt.performAction(d.WorkItemActions.ACTION_WORKITEM_OPEN_IN_NEW_TAB,i),!1;case"new-work-item":return kt.performAction(d.WorkItemActions.ACTION_WORKITEM_NEW,i),!1;case v.ACTIONS_LINK_TO_NEW:return u=$.extend({},{tfsContext:r},i.options),b.useWITDialogs().then(function(n){return n.newLinkedWorkItem(i.baseId,i.selectedIds,u)}),!1;case v.ACTIONS_LINK_TO_EXISTING:return f=$.extend({},{tfsContext:r},i.options),b.useWITDialogs().then(function(n){return n.linkToExistingWorkItem(i.baseId,i.selectedIds,f)}),!1;case"create-copy":return b.useWITDialogs().then(function(n){return n.createCopyOfWorkItem(i.workItemId,{tfsContext:r})}),!1;case"use-as-a-template":return b.useWITDialogs().then(function(n){return n.useWorkItemAsATemplate(i.workItemId,{tfsContext:r})}),!1}}});nt.Enhancement.registerEnhancement(s.WorkItemForm,".work-item-form");et.tfsModuleLoaded("TFS.WorkItemTracking.Controls",t)});

if (window.performance && window.performance.mark) { window.performance.mark('endLoadBundleInner-async'); }